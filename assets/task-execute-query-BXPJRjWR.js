(function(){"use strict";class Tl{type="MessagePhysicalPlanInit";constructor(e,s,c,o){this.date=Date.now(),this.lo=e,this.pn=s,this.n=c,this.m=o}}class Ol{type="MessagePhysicalPlanAppend";constructor(e,s){this.date=Date.now(),this.n=e,this.m=s}}class Sl{type="MessageComunicaLog";constructor(e,s,c){this.level=e,this.message=s,this.date=c}}class oo{type="MessageException";constructor(e){this.exception=e}}class El{type="MessageDone"}class xl{type="MessageBindings";constructor(e){this.bindings=e,this.vars=Object.keys(e)}}var Ws=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ys(g){if(Object.prototype.hasOwnProperty.call(g,"__esModule"))return g;var e=g.default;if(typeof e=="function"){var s=function c(){var o=!1;try{o=this instanceof c}catch{}return o?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(g).forEach(function(c){var o=Object.getOwnPropertyDescriptor(g,c);Object.defineProperty(s,c,o.get?o:{enumerable:!0,get:function(){return g[c]}})}),s}var ti={},aa={},ri={},No={},Zs;function Al(){return Zs||(Zs=1,Object.defineProperty(No,"__esModule",{value:!0})),No}var Ro={},eu;function jl(){return eu||(eu=1,Object.defineProperty(Ro,"__esModule",{value:!0})),Ro}var Do={},tu;function Pl(){return tu||(tu=1,Object.defineProperty(Do,"__esModule",{value:!0})),Do}var Fo={},ru;function Il(){return ru||(ru=1,Object.defineProperty(Fo,"__esModule",{value:!0})),Fo}var Mo={},nu;function Nl(){return nu||(nu=1,Object.defineProperty(Mo,"__esModule",{value:!0})),Mo}var Lo={},iu;function Rl(){return iu||(iu=1,Object.defineProperty(Lo,"__esModule",{value:!0})),Lo}var Co={},au;function Dl(){return au||(au=1,Object.defineProperty(Co,"__esModule",{value:!0})),Co}var ko={},ou;function Fl(){return ou||(ou=1,Object.defineProperty(ko,"__esModule",{value:!0})),ko}var qo={},su;function Ml(){return su||(su=1,Object.defineProperty(qo,"__esModule",{value:!0})),qo}var Bo={},uu;function Ll(){return uu||(uu=1,Object.defineProperty(Bo,"__esModule",{value:!0})),Bo}var Uo={},cu;function Cl(){return cu||(cu=1,Object.defineProperty(Uo,"__esModule",{value:!0})),Uo}var Qo={},lu;function kl(){return lu||(lu=1,Object.defineProperty(Qo,"__esModule",{value:!0})),Qo}var Vo={},du;function ql(){return du||(du=1,Object.defineProperty(Vo,"__esModule",{value:!0})),Vo}var $o={},pu;function Bl(){return pu||(pu=1,Object.defineProperty($o,"__esModule",{value:!0})),$o}var Go={},fu;function Ul(){return fu||(fu=1,Object.defineProperty(Go,"__esModule",{value:!0})),Go}var Ho={},hu;function Ql(){return hu||(hu=1,Object.defineProperty(Ho,"__esModule",{value:!0})),Ho}var zo={},yu;function Vl(){return yu||(yu=1,Object.defineProperty(zo,"__esModule",{value:!0})),zo}var Ko={},gu;function $l(){return gu||(gu=1,Object.defineProperty(Ko,"__esModule",{value:!0})),Ko}var Xo={},mu;function Gl(){return mu||(mu=1,Object.defineProperty(Xo,"__esModule",{value:!0})),Xo}var oa={},bu;function Hl(){if(bu)return oa;bu=1,Object.defineProperty(oa,"__esModule",{value:!0}),oa.Logger=void 0;let g=class wl{static getLevelOrdinal(s){return wl.LEVELS[s]}};return oa.Logger=g,g.LEVELS={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},oa}var sa={},vu;function zl(){if(vu)return sa;vu=1,Object.defineProperty(sa,"__esModule",{value:!0}),sa.ExpressionType=void 0;var g;return(function(e){e.Aggregate="aggregate",e.Existence="existence",e.Operator="operator",e.Term="term",e.Variable="variable"})(g||(sa.ExpressionType=g={})),sa}var _u;function Kl(){return _u||(_u=1,(function(g){var e=ri&&ri.__createBinding||(Object.create?(function(c,o,u,i){i===void 0&&(i=u);var r=Object.getOwnPropertyDescriptor(o,u);(!r||("get"in r?!o.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return o[u]}}),Object.defineProperty(c,i,r)}):(function(c,o,u,i){i===void 0&&(i=u),c[i]=o[u]})),s=ri&&ri.__exportStar||function(c,o){for(var u in c)u!=="default"&&!Object.prototype.hasOwnProperty.call(o,u)&&e(o,c,u)};Object.defineProperty(g,"__esModule",{value:!0}),s(Al(),g),s(jl(),g),s(Pl(),g),s(Il(),g),s(Nl(),g),s(Rl(),g),s(Dl(),g),s(Fl(),g),s(Ml(),g),s(Ll(),g),s(Cl(),g),s(kl(),g),s(ql(),g),s(Bl(),g),s(Ul(),g),s(Ql(),g),s(Vl(),g),s($l(),g),s(Gl(),g),s(Hl(),g),s(zl(),g)})(ri)),ri}var Xl={},Jl=Object.freeze({__proto__:null,default:Xl}),Wl=Ys(Jl),Jo,wu;function Yl(){if(wu)return Jo;wu=1;var g=typeof Map=="function"&&Map.prototype,e=Object.getOwnPropertyDescriptor&&g?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,s=g&&e&&typeof e.get=="function"?e.get:null,c=g&&Map.prototype.forEach,o=typeof Set=="function"&&Set.prototype,u=Object.getOwnPropertyDescriptor&&o?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,i=o&&u&&typeof u.get=="function"?u.get:null,r=o&&Set.prototype.forEach,n=typeof WeakMap=="function"&&WeakMap.prototype,t=n?WeakMap.prototype.has:null,a=typeof WeakSet=="function"&&WeakSet.prototype,l=a?WeakSet.prototype.has:null,d=typeof WeakRef=="function"&&WeakRef.prototype,p=d?WeakRef.prototype.deref:null,f=Boolean.prototype.valueOf,h=Object.prototype.toString,y=Function.prototype.toString,m=String.prototype.match,b=String.prototype.slice,v=String.prototype.replace,_=String.prototype.toUpperCase,w=String.prototype.toLowerCase,S=RegExp.prototype.test,x=Array.prototype.concat,T=Array.prototype.join,O=Array.prototype.slice,E=Math.floor,R=typeof BigInt=="function"?BigInt.prototype.valueOf:null,M=Object.getOwnPropertySymbols,Q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,X=typeof Symbol=="function"&&typeof Symbol.iterator=="object",V=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===X||!0)?Symbol.toStringTag:null,H=Object.prototype.propertyIsEnumerable,U=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(Ae){return Ae.__proto__}:null);function k(Ae,Te){if(Ae===1/0||Ae===-1/0||Ae!==Ae||Ae&&Ae>-1e3&&Ae<1e3||S.call(/e/,Te))return Te;var Ke=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof Ae=="number"){var it=Ae<0?-E(-Ae):E(Ae);if(it!==Ae){var st=String(it),rt=b.call(Te,st.length+1);return v.call(st,Ke,"$&_")+"."+v.call(v.call(rt,/([0-9]{3})/g,"$&_"),/_$/,"")}}return v.call(Te,Ke,"$&_")}var $=Wl,ae=$.custom,he=me(ae)?ae:null,ye={__proto__:null,double:'"',single:"'"},I={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};Jo=function Ae(Te,Ke,it,st){var rt=Ke||{};if(xe(rt,"quoteStyle")&&!xe(ye,rt.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(xe(rt,"maxStringLength")&&(typeof rt.maxStringLength=="number"?rt.maxStringLength<0&&rt.maxStringLength!==1/0:rt.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var pt=xe(rt,"customInspect")?rt.customInspect:!0;if(typeof pt!="boolean"&&pt!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(xe(rt,"indent")&&rt.indent!==null&&rt.indent!=="	"&&!(parseInt(rt.indent,10)===rt.indent&&rt.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(xe(rt,"numericSeparator")&&typeof rt.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var mt=rt.numericSeparator;if(typeof Te>"u")return"undefined";if(Te===null)return"null";if(typeof Te=="boolean")return Te?"true":"false";if(typeof Te=="string")return Pe(Te,rt);if(typeof Te=="number"){if(Te===0)return 1/0/Te>0?"0":"-0";var at=String(Te);return mt?k(Te,at):at}if(typeof Te=="bigint"){var Ne=String(Te)+"n";return mt?k(Te,Ne):Ne}var F=typeof rt.depth>"u"?5:rt.depth;if(typeof it>"u"&&(it=0),it>=F&&F>0&&typeof Te=="object")return G(Te)?"[Array]":"[Object]";var Y=qe(rt,it);if(typeof st>"u")st=[];else if(B(st,Te)>=0)return"[Circular]";function ee(lt,dt,wt){if(dt&&(st=O.call(st),st.push(dt)),wt){var Er={depth:rt.depth};return xe(rt,"quoteStyle")&&(Er.quoteStyle=rt.quoteStyle),Ae(lt,Er,it+1,st)}return Ae(lt,rt,it+1,st)}if(typeof Te=="function"&&!W(Te)){var pe=N(Te),Re=He(Te,ee);return"[Function"+(pe?": "+pe:" (anonymous)")+"]"+(Re.length>0?" { "+T.call(Re,", ")+" }":"")}if(me(Te)){var Fe=X?v.call(String(Te),/^(Symbol\(.*\))_[^)]*$/,"$1"):Q.call(Te);return typeof Te=="object"&&!X?Ie(Fe):Fe}if(we(Te)){for(var Ee="<"+w.call(String(Te.nodeName)),De=Te.attributes||[],Ue=0;Ue<De.length;Ue++)Ee+=" "+De[Ue].name+"="+j(P(De[Ue].value),"double",rt);return Ee+=">",Te.childNodes&&Te.childNodes.length&&(Ee+="..."),Ee+="</"+w.call(String(Te.nodeName))+">",Ee}if(G(Te)){if(Te.length===0)return"[]";var Ve=He(Te,ee);return Y&&!Me(Ve)?"["+Be(Ve,Y)+"]":"[ "+T.call(Ve,", ")+" ]"}if(ce(Te)){var Ge=He(Te,ee);return!("cause"in Error.prototype)&&"cause"in Te&&!H.call(Te,"cause")?"{ ["+String(Te)+"] "+T.call(x.call("[cause]: "+ee(Te.cause),Ge),", ")+" }":Ge.length===0?"["+String(Te)+"]":"{ ["+String(Te)+"] "+T.call(Ge,", ")+" }"}if(typeof Te=="object"&&pt){if(he&&typeof Te[he]=="function"&&$)return $(Te,{depth:F-it});if(pt!=="symbol"&&typeof Te.inspect=="function")return Te.inspect()}if(J(Te)){var Ze=[];return c&&c.call(Te,function(lt,dt){Ze.push(ee(dt,Te,!0)+" => "+ee(lt,Te))}),ge("Map",s.call(Te),Ze,Y)}if(fe(Te)){var $e=[];return r&&r.call(Te,function(lt){$e.push(ee(lt,Te))}),ge("Set",i.call(Te),$e,Y)}if(ne(Te))return ue("WeakMap");if(_e(Te))return ue("WeakSet");if(re(Te))return ue("WeakRef");if(Se(Te))return Ie(ee(Number(Te)));if(oe(Te))return Ie(ee(R.call(Te)));if(ie(Te))return Ie(f.call(Te));if(de(Te))return Ie(ee(String(Te)));if(typeof window<"u"&&Te===window)return"{ [object Window] }";if(typeof globalThis<"u"&&Te===globalThis||typeof Ws<"u"&&Te===Ws)return"{ [object globalThis] }";if(!te(Te)&&!W(Te)){var ze=He(Te,ee),ot=U?U(Te)===Object.prototype:Te instanceof Object||Te.constructor===Object,ht=Te instanceof Object?"":"null prototype",Ye=!ot&&V&&Object(Te)===Te&&V in Te?b.call(q(Te),8,-1):ht?"Object":"",Dt=ot||typeof Te.constructor!="function"?"":Te.constructor.name?Te.constructor.name+" ":"",yt=Dt+(Ye||ht?"["+T.call(x.call([],Ye||[],ht||[]),": ")+"] ":"");return ze.length===0?yt+"{}":Y?yt+"{"+Be(ze,Y)+"}":yt+"{ "+T.call(ze,", ")+" }"}return String(Te)};function j(Ae,Te,Ke){var it=Ke.quoteStyle||Te,st=ye[it];return st+Ae+st}function P(Ae){return v.call(String(Ae),/"/g,"&quot;")}function L(Ae){return!V||!(typeof Ae=="object"&&(V in Ae||typeof Ae[V]<"u"))}function G(Ae){return q(Ae)==="[object Array]"&&L(Ae)}function te(Ae){return q(Ae)==="[object Date]"&&L(Ae)}function W(Ae){return q(Ae)==="[object RegExp]"&&L(Ae)}function ce(Ae){return q(Ae)==="[object Error]"&&L(Ae)}function de(Ae){return q(Ae)==="[object String]"&&L(Ae)}function Se(Ae){return q(Ae)==="[object Number]"&&L(Ae)}function ie(Ae){return q(Ae)==="[object Boolean]"&&L(Ae)}function me(Ae){if(X)return Ae&&typeof Ae=="object"&&Ae instanceof Symbol;if(typeof Ae=="symbol")return!0;if(!Ae||typeof Ae!="object"||!Q)return!1;try{return Q.call(Ae),!0}catch{}return!1}function oe(Ae){if(!Ae||typeof Ae!="object"||!R)return!1;try{return R.call(Ae),!0}catch{}return!1}var ve=Object.prototype.hasOwnProperty||function(Ae){return Ae in this};function xe(Ae,Te){return ve.call(Ae,Te)}function q(Ae){return h.call(Ae)}function N(Ae){if(Ae.name)return Ae.name;var Te=m.call(y.call(Ae),/^function\s*([\w$]+)/);return Te?Te[1]:null}function B(Ae,Te){if(Ae.indexOf)return Ae.indexOf(Te);for(var Ke=0,it=Ae.length;Ke<it;Ke++)if(Ae[Ke]===Te)return Ke;return-1}function J(Ae){if(!s||!Ae||typeof Ae!="object")return!1;try{s.call(Ae);try{i.call(Ae)}catch{return!0}return Ae instanceof Map}catch{}return!1}function ne(Ae){if(!t||!Ae||typeof Ae!="object")return!1;try{t.call(Ae,t);try{l.call(Ae,l)}catch{return!0}return Ae instanceof WeakMap}catch{}return!1}function re(Ae){if(!p||!Ae||typeof Ae!="object")return!1;try{return p.call(Ae),!0}catch{}return!1}function fe(Ae){if(!i||!Ae||typeof Ae!="object")return!1;try{i.call(Ae);try{s.call(Ae)}catch{return!0}return Ae instanceof Set}catch{}return!1}function _e(Ae){if(!l||!Ae||typeof Ae!="object")return!1;try{l.call(Ae,l);try{t.call(Ae,t)}catch{return!0}return Ae instanceof WeakSet}catch{}return!1}function we(Ae){return!Ae||typeof Ae!="object"?!1:typeof HTMLElement<"u"&&Ae instanceof HTMLElement?!0:typeof Ae.nodeName=="string"&&typeof Ae.getAttribute=="function"}function Pe(Ae,Te){if(Ae.length>Te.maxStringLength){var Ke=Ae.length-Te.maxStringLength,it="... "+Ke+" more character"+(Ke>1?"s":"");return Pe(b.call(Ae,0,Te.maxStringLength),Te)+it}var st=I[Te.quoteStyle||"single"];st.lastIndex=0;var rt=v.call(v.call(Ae,st,"\\$1"),/[\x00-\x1f]/g,je);return j(rt,"single",Te)}function je(Ae){var Te=Ae.charCodeAt(0),Ke={8:"b",9:"t",10:"n",12:"f",13:"r"}[Te];return Ke?"\\"+Ke:"\\x"+(Te<16?"0":"")+_.call(Te.toString(16))}function Ie(Ae){return"Object("+Ae+")"}function ue(Ae){return Ae+" { ? }"}function ge(Ae,Te,Ke,it){var st=it?Be(Ke,it):T.call(Ke,", ");return Ae+" ("+Te+") {"+st+"}"}function Me(Ae){for(var Te=0;Te<Ae.length;Te++)if(B(Ae[Te],`
`)>=0)return!1;return!0}function qe(Ae,Te){var Ke;if(Ae.indent==="	")Ke="	";else if(typeof Ae.indent=="number"&&Ae.indent>0)Ke=T.call(Array(Ae.indent+1)," ");else return null;return{base:Ke,prev:T.call(Array(Te+1),Ke)}}function Be(Ae,Te){if(Ae.length===0)return"";var Ke=`
`+Te.prev+Te.base;return Ke+T.call(Ae,","+Ke)+`
`+Te.prev}function He(Ae,Te){var Ke=G(Ae),it=[];if(Ke){it.length=Ae.length;for(var st=0;st<Ae.length;st++)it[st]=xe(Ae,st)?Te(Ae[st],Ae):""}var rt=typeof M=="function"?M(Ae):[],pt;if(X){pt={};for(var mt=0;mt<rt.length;mt++)pt["$"+rt[mt]]=rt[mt]}for(var at in Ae)xe(Ae,at)&&(Ke&&String(Number(at))===at&&at<Ae.length||X&&pt["$"+at]instanceof Symbol||(S.call(/[^\w$]/,at)?it.push(Te(at,Ae)+": "+Te(Ae[at],Ae)):it.push(at+": "+Te(Ae[at],Ae))));if(typeof M=="function")for(var Ne=0;Ne<rt.length;Ne++)H.call(Ae,rt[Ne])&&it.push("["+Te(rt[Ne])+"]: "+Te(Ae[rt[Ne]],Ae));return it}return Jo}var Wo={exports:{}},Tu;function Zl(){if(Tu)return Wo.exports;Tu=1;var g=Wo.exports={},e,s;function c(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=c}catch{e=c}try{typeof clearTimeout=="function"?s=clearTimeout:s=o}catch{s=o}})();function u(h){if(e===setTimeout)return setTimeout(h,0);if((e===c||!e)&&setTimeout)return e=setTimeout,setTimeout(h,0);try{return e(h,0)}catch{try{return e.call(null,h,0)}catch{return e.call(this,h,0)}}}function i(h){if(s===clearTimeout)return clearTimeout(h);if((s===o||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(h);try{return s(h)}catch{try{return s.call(null,h)}catch{return s.call(this,h)}}}var r=[],n=!1,t,a=-1;function l(){!n||!t||(n=!1,t.length?r=t.concat(r):a=-1,r.length&&d())}function d(){if(!n){var h=u(l);n=!0;for(var y=r.length;y;){for(t=r,r=[];++a<y;)t&&t[a].run();a=-1,y=r.length}t=null,n=!1,i(h)}}g.nextTick=function(h){var y=new Array(arguments.length-1);if(arguments.length>1)for(var m=1;m<arguments.length;m++)y[m-1]=arguments[m];r.push(new p(h,y)),r.length===1&&!n&&u(d)};function p(h,y){this.fun=h,this.array=y}p.prototype.run=function(){this.fun.apply(null,this.array)},g.title="browser",g.browser=!0,g.env={},g.argv=[],g.version="",g.versions={};function f(){}return g.on=f,g.addListener=f,g.once=f,g.off=f,g.removeListener=f,g.removeAllListeners=f,g.emit=f,g.prependListener=f,g.prependOnceListener=f,g.listeners=function(h){return[]},g.binding=function(h){throw new Error("process.binding is not supported")},g.cwd=function(){return"/"},g.chdir=function(h){throw new Error("process.chdir is not supported")},g.umask=function(){return 0},Wo.exports}var Ou;function ed(){if(Ou)return aa;Ou=1,Object.defineProperty(aa,"__esModule",{value:!0}),aa.LoggerPretty=void 0;const g=Kl(),e=Yl(),s=Zl();let c=class Ln extends g.Logger{constructor(u){super(),this.level=u.level,this.levelOrdinal=g.Logger.getLevelOrdinal(this.level),this.actors=u.actors}debug(u,i){this.log("debug",Ln.COLOR_GRAY,u,i)}error(u,i){this.log("error",Ln.COLOR_RED,u,i)}fatal(u,i){this.log("fatal",Ln.COLOR_CYAN,u,i)}info(u,i){this.log("info",Ln.COLOR_GREEN,u,i)}trace(u,i){this.log("trace",Ln.COLOR_BLUE,u,i)}warn(u,i){this.log("warn",Ln.COLOR_YELLOW,u,i)}log(u,i,r,n){g.Logger.getLevelOrdinal(u)>=this.levelOrdinal&&(!n||!("actor"in n)||!this.actors||this.actors[n.actor])&&s.stderr.write(Ln.withColor(`[${new Date().toISOString()}]  ${u.toUpperCase()}: ${r} ${e(n)}
`,i))}static withColor(u,i){return`${i}${u}${Ln.COLOR_RESET}`}};return aa.LoggerPretty=c,c.COLOR_RESET="\x1B[0m",c.COLOR_RED="\x1B[31m",c.COLOR_GREEN="\x1B[32m",c.COLOR_YELLOW="\x1B[33m",c.COLOR_BLUE="\x1B[34m",c.COLOR_MAGENTA="\x1B[35m",c.COLOR_CYAN="\x1B[36m",c.COLOR_GRAY="\x1B[90m",aa}var Su;function td(){return Su||(Su=1,(function(g){var e=ti&&ti.__createBinding||(Object.create?(function(c,o,u,i){i===void 0&&(i=u);var r=Object.getOwnPropertyDescriptor(o,u);(!r||("get"in r?!o.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return o[u]}}),Object.defineProperty(c,i,r)}):(function(c,o,u,i){i===void 0&&(i=u),c[i]=o[u]})),s=ti&&ti.__exportStar||function(c,o){for(var u in c)u!=="default"&&!Object.prototype.hasOwnProperty.call(o,u)&&e(o,c,u)};Object.defineProperty(g,"__esModule",{value:!0}),s(ed(),g)})(ti)),ti}var rd=td();class nd extends rd.LoggerPretty{constructor(e,s){super(s),this.worker=e}log(e,s,c,o){this.worker&&this.worker.postMessage(new Sl(e,c,Date.now()))}}var ni={},ua={},ii={},ca={},ai={},oi={};var so="@@__IMMUTABLE_INDEXED__@@";function fr(g){return!!(g&&g[so])}var uo="@@__IMMUTABLE_KEYED__@@";function At(g){return!!(g&&g[uo])}function co(g){return At(g)||fr(g)}var Eu="@@__IMMUTABLE_ITERABLE__@@";function hr(g){return!!(g&&g[Eu])}var Wt=function(e){return hr(e)?e:ar(e)},Lr=(function(g){function e(s){return At(s)?s:Bn(s)}return g&&(e.__proto__=g),e.prototype=Object.create(g&&g.prototype),e.prototype.constructor=e,e})(Wt),si=(function(g){function e(s){return fr(s)?s:qr(s)}return g&&(e.__proto__=g),e.prototype=Object.create(g&&g.prototype),e.prototype.constructor=e,e})(Wt),Oi=(function(g){function e(s){return hr(s)&&!co(s)?s:ji(s)}return g&&(e.__proto__=g),e.prototype=Object.create(g&&g.prototype),e.prototype.constructor=e,e})(Wt);Wt.Keyed=Lr,Wt.Indexed=si,Wt.Set=Oi;var Si=0,_r=1,wr=2,Yo=typeof Symbol=="function"&&Symbol.iterator,xu="@@iterator",lo=Yo||xu,vt=function(e){this.next=e};vt.prototype.toString=function(){return"[Iterator]"},vt.KEYS=Si,vt.VALUES=_r,vt.ENTRIES=wr,vt.prototype.inspect=vt.prototype.toSource=function(){return this.toString()},vt.prototype[lo]=function(){return this};function Pt(g,e,s,c){var o=g===Si?e:g===_r?s:[e,s];return c?c.value=o:c={value:o,done:!1},c}function ir(){return{value:void 0,done:!0}}function Zo(g){return Array.isArray(g)?!0:!!po(g)}function Au(g){return!!(g&&typeof g.next=="function")}function es(g){var e=po(g);return e&&e.call(g)}function po(g){var e=g&&(Yo&&g[Yo]||g[xu]);if(typeof e=="function")return e}function id(g){var e=po(g);return e&&e===g.entries}function ad(g){var e=po(g);return e&&e===g.keys}var la="delete",Ot=5,Tr=1<<Ot,cr=Tr-1,bt={};function ts(){return{value:!1}}function Cr(g){g&&(g.value=!0)}function rs(){}function Ei(g){return g.size===void 0&&(g.size=g.__iterate(ju)),g.size}function Cn(g,e){if(typeof e!="number"){var s=e>>>0;if(""+s!==e||s===4294967295)return NaN;e=s}return e<0?Ei(g)+e:e}function ju(){return!0}function da(g,e,s){return(g===0&&!Iu(g)||s!==void 0&&g<=-s)&&(e===void 0||s!==void 0&&e>=s)}function xi(g,e){return Pu(g,e,0)}function pa(g,e){return Pu(g,e,e)}function Pu(g,e,s){return g===void 0?s:Iu(g)?e===1/0?e:Math.max(0,e+g)|0:e===void 0||e===g?g:Math.min(e,g)|0}function Iu(g){return g<0||g===0&&1/g===-1/0}var Nu="@@__IMMUTABLE_RECORD__@@";function kn(g){return!!(g&&g[Nu])}function kr(g){return hr(g)||kn(g)}var qn="@@__IMMUTABLE_ORDERED__@@";function Kr(g){return!!(g&&g[qn])}var Ru="@@__IMMUTABLE_SEQ__@@";function fo(g){return!!(g&&g[Ru])}var Ai=Object.prototype.hasOwnProperty;function ns(g){return Array.isArray(g)||typeof g=="string"?!0:g&&typeof g=="object"&&Number.isInteger(g.length)&&g.length>=0&&(g.length===0?Object.keys(g).length===1:g.hasOwnProperty(g.length-1))}var ar=(function(g){function e(s){return s==null?as():kr(s)?s.toSeq():sd(s)}return g&&(e.__proto__=g),e.prototype=Object.create(g&&g.prototype),e.prototype.constructor=e,e.prototype.toSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq {","}")},e.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},e.prototype.__iterate=function(c,o){var u=this._cache;if(u){for(var i=u.length,r=0;r!==i;){var n=u[o?i-++r:r++];if(c(n[1],n[0],this)===!1)break}return r}return this.__iterateUncached(c,o)},e.prototype.__iterator=function(c,o){var u=this._cache;if(u){var i=u.length,r=0;return new vt(function(){if(r===i)return ir();var n=u[o?i-++r:r++];return Pt(c,n[0],n[1])})}return this.__iteratorUncached(c,o)},e})(Wt),Bn=(function(g){function e(s){return s==null?as().toKeyedSeq():hr(s)?At(s)?s.toSeq():s.fromEntrySeq():kn(s)?s.toSeq():os(s)}return g&&(e.__proto__=g),e.prototype=Object.create(g&&g.prototype),e.prototype.constructor=e,e.prototype.toKeyedSeq=function(){return this},e})(ar),qr=(function(g){function e(s){return s==null?as():hr(s)?At(s)?s.entrySeq():s.toIndexedSeq():kn(s)?s.toSeq().entrySeq():Fu(s)}return g&&(e.__proto__=g),e.prototype=Object.create(g&&g.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toIndexedSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq [","]")},e})(ar),ji=(function(g){function e(s){return(hr(s)&&!co(s)?s:qr(s)).toSetSeq()}return g&&(e.__proto__=g),e.prototype=Object.create(g&&g.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toSetSeq=function(){return this},e})(ar);ar.isSeq=fo,ar.Keyed=Bn,ar.Set=ji,ar.Indexed=qr,ar.prototype[Ru]=!0;var Pi=(function(g){function e(s){this._array=s,this.size=s.length}return g&&(e.__proto__=g),e.prototype=Object.create(g&&g.prototype),e.prototype.constructor=e,e.prototype.get=function(c,o){return this.has(c)?this._array[Cn(this,c)]:o},e.prototype.__iterate=function(c,o){for(var u=this._array,i=u.length,r=0;r!==i;){var n=o?i-++r:r++;if(c(u[n],n,this)===!1)break}return r},e.prototype.__iterator=function(c,o){var u=this._array,i=u.length,r=0;return new vt(function(){if(r===i)return ir();var n=o?i-++r:r++;return Pt(c,n,u[n])})},e})(qr),is=(function(g){function e(s){var c=Object.keys(s).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(s):[]);this._object=s,this._keys=c,this.size=c.length}return g&&(e.__proto__=g),e.prototype=Object.create(g&&g.prototype),e.prototype.constructor=e,e.prototype.get=function(c,o){return o!==void 0&&!this.has(c)?o:this._object[c]},e.prototype.has=function(c){return Ai.call(this._object,c)},e.prototype.__iterate=function(c,o){for(var u=this._object,i=this._keys,r=i.length,n=0;n!==r;){var t=i[o?r-++n:n++];if(c(u[t],t,this)===!1)break}return n},e.prototype.__iterator=function(c,o){var u=this._object,i=this._keys,r=i.length,n=0;return new vt(function(){if(n===r)return ir();var t=i[o?r-++n:n++];return Pt(c,t,u[t])})},e})(Bn);is.prototype[qn]=!0;var od=(function(g){function e(s){this._collection=s,this.size=s.length||s.size}return g&&(e.__proto__=g),e.prototype=Object.create(g&&g.prototype),e.prototype.constructor=e,e.prototype.__iterateUncached=function(c,o){if(o)return this.cacheResult().__iterate(c,o);var u=this._collection,i=es(u),r=0;if(Au(i))for(var n;!(n=i.next()).done&&c(n.value,r++,this)!==!1;);return r},e.prototype.__iteratorUncached=function(c,o){if(o)return this.cacheResult().__iterator(c,o);var u=this._collection,i=es(u);if(!Au(i))return new vt(ir);var r=0;return new vt(function(){var n=i.next();return n.done?n:Pt(c,r++,n.value)})},e})(qr),Du;function as(){return Du||(Du=new Pi([]))}function os(g){var e=ss(g);if(e)return e.fromEntrySeq();if(typeof g=="object")return new is(g);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+g)}function Fu(g){var e=ss(g);if(e)return e;throw new TypeError("Expected Array or collection object of values: "+g)}function sd(g){var e=ss(g);if(e)return id(g)?e.fromEntrySeq():ad(g)?e.toSetSeq():e;if(typeof g=="object")return new is(g);throw new TypeError("Expected Array or collection object of values, or keyed object: "+g)}function ss(g){return ns(g)?new Pi(g):Zo(g)?new od(g):void 0}function fa(){return this.__ensureOwner()}function ha(){return this.__ownerID?this:this.__ensureOwner(new rs)}var ya=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(e,s){e|=0,s|=0;var c=e&65535,o=s&65535;return c*o+((e>>>16)*o+c*(s>>>16)<<16>>>0)|0};function ho(g){return g>>>1&1073741824|g&3221225471}var ud=Object.prototype.valueOf;function yr(g){if(g==null)return Mu(g);if(typeof g.hashCode=="function")return ho(g.hashCode(g));var e=hd(g);if(e==null)return Mu(e);switch(typeof e){case"boolean":return e?1108378657:1108378656;case"number":return cd(e);case"string":return e.length>yd?ld(e):us(e);case"object":case"function":return pd(e);case"symbol":return dd(e);default:if(typeof e.toString=="function")return us(e.toString());throw new Error("Value type "+typeof e+" cannot be hashed.")}}function Mu(g){return g===null?1108378658:1108378659}function cd(g){if(g!==g||g===1/0)return 0;var e=g|0;for(e!==g&&(e^=g*4294967295);g>4294967295;)g/=4294967295,e^=g;return ho(e)}function ld(g){var e=fs[g];return e===void 0&&(e=us(g),ps===gd&&(ps=0,fs={}),ps++,fs[g]=e),e}function us(g){for(var e=0,s=0;s<g.length;s++)e=31*e+g.charCodeAt(s)|0;return ho(e)}function dd(g){var e=qu[g];return e!==void 0||(e=ku(),qu[g]=e),e}function pd(g){var e;if(cs&&(e=ls.get(g),e!==void 0)||(e=g[ui],e!==void 0)||!Cu&&(e=g.propertyIsEnumerable&&g.propertyIsEnumerable[ui],e!==void 0||(e=fd(g),e!==void 0)))return e;if(e=ku(),cs)ls.set(g,e);else{if(Lu!==void 0&&Lu(g)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(Cu)Object.defineProperty(g,ui,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(g.propertyIsEnumerable!==void 0&&g.propertyIsEnumerable===g.constructor.prototype.propertyIsEnumerable)g.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},g.propertyIsEnumerable[ui]=e;else if(g.nodeType!==void 0)g[ui]=e;else throw new Error("Unable to set a non-enumerable property on object.")}return e}var Lu=Object.isExtensible,Cu=(function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}})();function fd(g){if(g&&g.nodeType>0)switch(g.nodeType){case 1:return g.uniqueID;case 9:return g.documentElement&&g.documentElement.uniqueID}}function hd(g){return g.valueOf!==ud&&typeof g.valueOf=="function"?g.valueOf(g):g}function ku(){var g=++ds;return ds&1073741824&&(ds=0),g}var cs=typeof WeakMap=="function",ls;cs&&(ls=new WeakMap);var qu=Object.create(null),ds=0,ui="__immutablehash__";typeof Symbol=="function"&&(ui=Symbol(ui));var yd=16,gd=255,ps=0,fs={},yo=(function(g){function e(s,c){this._iter=s,this._useKeys=c,this.size=s.size}return g&&(e.__proto__=g),e.prototype=Object.create(g&&g.prototype),e.prototype.constructor=e,e.prototype.get=function(c,o){return this._iter.get(c,o)},e.prototype.has=function(c){return this._iter.has(c)},e.prototype.valueSeq=function(){return this._iter.valueSeq()},e.prototype.reverse=function(){var c=this,o=hs(this,!0);return this._useKeys||(o.valueSeq=function(){return c._iter.toSeq().reverse()}),o},e.prototype.map=function(c,o){var u=this,i=$u(this,c,o);return this._useKeys||(i.valueSeq=function(){return u._iter.toSeq().map(c,o)}),i},e.prototype.__iterate=function(c,o){var u=this;return this._iter.__iterate(function(i,r){return c(i,r,u)},o)},e.prototype.__iterator=function(c,o){return this._iter.__iterator(c,o)},e})(Bn);yo.prototype[qn]=!0;var Bu=(function(g){function e(s){this._iter=s,this.size=s.size}return g&&(e.__proto__=g),e.prototype=Object.create(g&&g.prototype),e.prototype.constructor=e,e.prototype.includes=function(c){return this._iter.includes(c)},e.prototype.__iterate=function(c,o){var u=this,i=0;return o&&Ei(this),this._iter.__iterate(function(r){return c(r,o?u.size-++i:i++,u)},o)},e.prototype.__iterator=function(c,o){var u=this,i=this._iter.__iterator(_r,o),r=0;return o&&Ei(this),new vt(function(){var n=i.next();return n.done?n:Pt(c,o?u.size-++r:r++,n.value,n)})},e})(qr),Uu=(function(g){function e(s){this._iter=s,this.size=s.size}return g&&(e.__proto__=g),e.prototype=Object.create(g&&g.prototype),e.prototype.constructor=e,e.prototype.has=function(c){return this._iter.includes(c)},e.prototype.__iterate=function(c,o){var u=this;return this._iter.__iterate(function(i){return c(i,i,u)},o)},e.prototype.__iterator=function(c,o){var u=this._iter.__iterator(_r,o);return new vt(function(){var i=u.next();return i.done?i:Pt(c,i.value,i.value,i)})},e})(ji),Qu=(function(g){function e(s){this._iter=s,this.size=s.size}return g&&(e.__proto__=g),e.prototype=Object.create(g&&g.prototype),e.prototype.constructor=e,e.prototype.entrySeq=function(){return this._iter.toSeq()},e.prototype.__iterate=function(c,o){var u=this;return this._iter.__iterate(function(i){if(i){Xu(i);var r=hr(i);return c(r?i.get(1):i[1],r?i.get(0):i[0],u)}},o)},e.prototype.__iterator=function(c,o){var u=this._iter.__iterator(_r,o);return new vt(function(){for(;;){var i=u.next();if(i.done)return i;var r=i.value;if(r){Xu(r);var n=hr(r);return Pt(c,n?r.get(0):r[0],n?r.get(1):r[1],i)}}})},e})(Bn);Bu.prototype.cacheResult=yo.prototype.cacheResult=Uu.prototype.cacheResult=Qu.prototype.cacheResult=ms;function Vu(g){var e=rn(g);return e._iter=g,e.size=g.size,e.flip=function(){return g},e.reverse=function(){var s=g.reverse.apply(this);return s.flip=function(){return g.reverse()},s},e.has=function(s){return g.includes(s)},e.includes=function(s){return g.has(s)},e.cacheResult=ms,e.__iterateUncached=function(s,c){var o=this;return g.__iterate(function(u,i){return s(i,u,o)!==!1},c)},e.__iteratorUncached=function(s,c){if(s===wr){var o=g.__iterator(s,c);return new vt(function(){var u=o.next();if(!u.done){var i=u.value[0];u.value[0]=u.value[1],u.value[1]=i}return u})}return g.__iterator(s===_r?Si:_r,c)},e}function $u(g,e,s){var c=rn(g);return c.size=g.size,c.has=function(o){return g.has(o)},c.get=function(o,u){var i=g.get(o,bt);return i===bt?u:e.call(s,i,o,g)},c.__iterateUncached=function(o,u){var i=this;return g.__iterate(function(r,n,t){return o(e.call(s,r,n,t),n,i)!==!1},u)},c.__iteratorUncached=function(o,u){var i=g.__iterator(wr,u);return new vt(function(){var r=i.next();if(r.done)return r;var n=r.value,t=n[0];return Pt(o,t,e.call(s,n[1],t,g),r)})},c}function hs(g,e){var s=this,c=rn(g);return c._iter=g,c.size=g.size,c.reverse=function(){return g},g.flip&&(c.flip=function(){var o=Vu(g);return o.reverse=function(){return g.flip()},o}),c.get=function(o,u){return g.get(e?o:-1-o,u)},c.has=function(o){return g.has(e?o:-1-o)},c.includes=function(o){return g.includes(o)},c.cacheResult=ms,c.__iterate=function(o,u){var i=this,r=0;return u&&Ei(g),g.__iterate(function(n,t){return o(n,e?t:u?i.size-++r:r++,i)},!u)},c.__iterator=function(o,u){var i=0;u&&Ei(g);var r=g.__iterator(wr,!u);return new vt(function(){var n=r.next();if(n.done)return n;var t=n.value;return Pt(o,e?t[0]:u?s.size-++i:i++,t[1],n)})},c}function Gu(g,e,s,c){var o=rn(g);return c&&(o.has=function(u){var i=g.get(u,bt);return i!==bt&&!!e.call(s,i,u,g)},o.get=function(u,i){var r=g.get(u,bt);return r!==bt&&e.call(s,r,u,g)?r:i}),o.__iterateUncached=function(u,i){var r=this,n=0;return g.__iterate(function(t,a,l){if(e.call(s,t,a,l))return n++,u(t,c?a:n-1,r)},i),n},o.__iteratorUncached=function(u,i){var r=g.__iterator(wr,i),n=0;return new vt(function(){for(;;){var t=r.next();if(t.done)return t;var a=t.value,l=a[0],d=a[1];if(e.call(s,d,l,g))return Pt(u,c?l:n++,d,t)}})},o}function md(g,e,s){var c=ci().asMutable();return g.__iterate(function(o,u){c.update(e.call(s,o,u,g),0,function(i){return i+1})}),c.asImmutable()}function bd(g,e,s){var c=At(g),o=(Kr(g)?on():ci()).asMutable();g.__iterate(function(i,r){o.update(e.call(s,i,r,g),function(n){return n=n||[],n.push(c?[r,i]:i),n})});var u=gs(g);return o.map(function(i){return St(g,u(i))}).asImmutable()}function vd(g,e,s){var c=At(g),o=[[],[]];g.__iterate(function(i,r){o[e.call(s,i,r,g)?1:0].push(c?[r,i]:i)});var u=gs(g);return o.map(function(i){return St(g,u(i))})}function ys(g,e,s,c){var o=g.size;if(da(e,s,o))return g;if(typeof o>"u"&&(e<0||s<0))return ys(g.toSeq().cacheResult(),e,s,c);var u=xi(e,o),i=pa(s,o),r=i-u,n;r===r&&(n=r<0?0:r);var t=rn(g);return t.size=n===0?n:g.size&&n||void 0,!c&&fo(g)&&n>=0&&(t.get=function(a,l){return a=Cn(this,a),a>=0&&a<n?g.get(a+u,l):l}),t.__iterateUncached=function(a,l){var d=this;if(n===0)return 0;if(l)return this.cacheResult().__iterate(a,l);var p=0,f=!0,h=0;return g.__iterate(function(y,m){if(!(f&&(f=p++<u)))return h++,a(y,c?m:h-1,d)!==!1&&h!==n}),h},t.__iteratorUncached=function(a,l){if(n!==0&&l)return this.cacheResult().__iterator(a,l);if(n===0)return new vt(ir);var d=g.__iterator(a,l),p=0,f=0;return new vt(function(){for(;p++<u;)d.next();if(++f>n)return ir();var h=d.next();return c||a===_r||h.done?h:a===Si?Pt(a,f-1,void 0,h):Pt(a,f-1,h.value[1],h)})},t}function _d(g,e,s){var c=rn(g);return c.__iterateUncached=function(o,u){var i=this;if(u)return this.cacheResult().__iterate(o,u);var r=0;return g.__iterate(function(n,t,a){return e.call(s,n,t,a)&&++r&&o(n,t,i)}),r},c.__iteratorUncached=function(o,u){var i=this;if(u)return this.cacheResult().__iterator(o,u);var r=g.__iterator(wr,u),n=!0;return new vt(function(){if(!n)return ir();var t=r.next();if(t.done)return t;var a=t.value,l=a[0],d=a[1];return e.call(s,d,l,i)?o===wr?t:Pt(o,l,d,t):(n=!1,ir())})},c}function Hu(g,e,s,c){var o=rn(g);return o.__iterateUncached=function(u,i){var r=this;if(i)return this.cacheResult().__iterate(u,i);var n=!0,t=0;return g.__iterate(function(a,l,d){if(!(n&&(n=e.call(s,a,l,d))))return t++,u(a,c?l:t-1,r)}),t},o.__iteratorUncached=function(u,i){var r=this;if(i)return this.cacheResult().__iterator(u,i);var n=g.__iterator(wr,i),t=!0,a=0;return new vt(function(){var l,d,p;do{if(l=n.next(),l.done)return c||u===_r?l:u===Si?Pt(u,a++,void 0,l):Pt(u,a++,l.value[1],l);var f=l.value;d=f[0],p=f[1],t&&(t=e.call(s,p,d,r))}while(t);return u===wr?l:Pt(u,d,p,l)})},o}var wd=(function(g){function e(s){this._wrappedIterables=s.flatMap(function(c){return c._wrappedIterables?c._wrappedIterables:[c]}),this.size=this._wrappedIterables.reduce(function(c,o){if(c!==void 0){var u=o.size;if(u!==void 0)return c+u}},0),this[uo]=this._wrappedIterables[0][uo],this[so]=this._wrappedIterables[0][so],this[qn]=this._wrappedIterables[0][qn]}return g&&(e.__proto__=g),e.prototype=Object.create(g&&g.prototype),e.prototype.constructor=e,e.prototype.__iterateUncached=function(c,o){if(this._wrappedIterables.length!==0){if(o)return this.cacheResult().__iterate(c,o);for(var u=0,i=At(this),r=i?wr:_r,n=this._wrappedIterables[u].__iterator(r,o),t=!0,a=0;t;){for(var l=n.next();l.done;){if(u++,u===this._wrappedIterables.length)return a;n=this._wrappedIterables[u].__iterator(r,o),l=n.next()}var d=i?c(l.value[1],l.value[0],this):c(l.value,a,this);t=d!==!1,a++}return a}},e.prototype.__iteratorUncached=function(c,o){var u=this;if(this._wrappedIterables.length===0)return new vt(ir);if(o)return this.cacheResult().__iterator(c,o);var i=0,r=this._wrappedIterables[i].__iterator(c,o);return new vt(function(){for(var n=r.next();n.done;){if(i++,i===u._wrappedIterables.length)return n;r=u._wrappedIterables[i].__iterator(c,o),n=r.next()}return n})},e})(ar);function Td(g,e){var s=At(g),c=[g].concat(e).map(function(u){return hr(u)?s&&(u=Lr(u)):u=s?os(u):Fu(Array.isArray(u)?u:[u]),u}).filter(function(u){return u.size!==0});if(c.length===0)return g;if(c.length===1){var o=c[0];if(o===g||s&&At(o)||fr(g)&&fr(o))return o}return new wd(c)}function zu(g,e,s){var c=rn(g);return c.__iterateUncached=function(o,u){if(u)return this.cacheResult().__iterate(o,u);var i=0,r=!1;function n(t,a){t.__iterate(function(l,d){return(!e||a<e)&&hr(l)?n(l,a+1):(i++,o(l,s?d:i-1,c)===!1&&(r=!0)),!r},u)}return n(g,0),i},c.__iteratorUncached=function(o,u){if(u)return this.cacheResult().__iterator(o,u);var i=g.__iterator(o,u),r=[],n=0;return new vt(function(){for(;i;){var t=i.next();if(t.done!==!1){i=r.pop();continue}var a=t.value;if(o===wr&&(a=a[1]),(!e||r.length<e)&&hr(a))r.push(i),i=a.__iterator(o,u);else return s?t:Pt(o,n++,a,t)}return ir()})},c}function Od(g,e,s){var c=gs(g);return g.toSeq().map(function(o,u){return c(e.call(s,o,u,g))}).flatten(!0)}function Sd(g,e){var s=rn(g);return s.size=g.size&&g.size*2-1,s.__iterateUncached=function(c,o){var u=this,i=0;return g.__iterate(function(r){return(!i||c(e,i++,u)!==!1)&&c(r,i++,u)!==!1},o),i},s.__iteratorUncached=function(c,o){var u=g.__iterator(_r,o),i=0,r;return new vt(function(){return(!r||i%2)&&(r=u.next(),r.done)?r:i%2?Pt(c,i++,e):Pt(c,i++,r.value,r)})},s}function Ii(g,e,s){e||(e=Ju);var c=At(g),o=0,u=g.toSeq().map(function(i,r){return[r,i,o++,s?s(i,r,g):i]}).valueSeq().toArray();return u.sort(function(i,r){return e(i[3],r[3])||i[2]-r[2]}).forEach(c?function(i,r){u[r].length=2}:function(i,r){u[r]=i[1]}),c?Bn(u):fr(g)?qr(u):ji(u)}function go(g,e,s){if(e||(e=Ju),s){var c=g.toSeq().map(function(o,u){return[o,s(o,u,g)]}).reduce(function(o,u){return Ku(e,o[1],u[1])?u:o});return c&&c[0]}return g.reduce(function(o,u){return Ku(e,o,u)?u:o})}function Ku(g,e,s){var c=g(s,e);return c===0&&s!==e&&(s==null||s!==s)||c>0}function mo(g,e,s,c){var o=rn(g),u=new Pi(s).map(function(i){return i.size});return o.size=c?u.max():u.min(),o.__iterate=function(i,r){for(var n=this.__iterator(_r,r),t,a=0;!(t=n.next()).done&&i(t.value,a++,this)!==!1;);return a},o.__iteratorUncached=function(i,r){var n=s.map(function(l){return l=Wt(l),es(r?l.reverse():l)}),t=0,a=!1;return new vt(function(){var l;return a||(l=n.map(function(d){return d.next()}),a=c?l.every(function(d){return d.done}):l.some(function(d){return d.done})),a?ir():Pt(i,t++,e.apply(null,l.map(function(d){return d.value})))})},o}function St(g,e){return g===e?g:fo(g)?e:g.constructor(e)}function Xu(g){if(g!==Object(g))throw new TypeError("Expected [K, V] tuple: "+g)}function gs(g){return At(g)?Lr:fr(g)?si:Oi}function rn(g){return Object.create((At(g)?Bn:fr(g)?qr:ji).prototype)}function ms(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):ar.prototype.cacheResult.call(this)}function Ju(g,e){return g===void 0&&e===void 0?0:g===void 0?1:e===void 0?-1:g>e?1:g<e?-1:0}function bs(g){return!!(g&&typeof g.equals=="function"&&typeof g.hashCode=="function")}function Yt(g,e){if(g===e||g!==g&&e!==e)return!0;if(!g||!e)return!1;if(typeof g.valueOf=="function"&&typeof e.valueOf=="function"){if(g=g.valueOf(),e=e.valueOf(),g===e||g!==g&&e!==e)return!0;if(!g||!e)return!1}return!!(bs(g)&&bs(e)&&g.equals(e))}function vs(g,e,s,c){return li(g,[e],s,c)}function Wu(){for(var g=[],e=arguments.length;e--;)g[e]=arguments[e];return Zu(this,g)}function Yu(g){for(var e=[],s=arguments.length-1;s-- >0;)e[s]=arguments[s+1];if(typeof g!="function")throw new TypeError("Invalid merger function: "+g);return Zu(this,e,g)}function Zu(g,e,s){for(var c=[],o=0;o<e.length;o++){var u=Lr(e[o]);u.size!==0&&c.push(u)}return c.length===0?g:g.toSeq().size===0&&!g.__ownerID&&c.length===1?kn(g)?g:g.constructor(c[0]):g.withMutations(function(i){for(var r=s?function(t,a){vs(i,a,bt,function(l){return l===bt?t:s(l,t,a)})}:function(t,a){i.set(a,t)},n=0;n<c.length;n++)c[n].forEach(r)})}var Ed=Object.prototype.toString;function _s(g){if(!g||typeof g!="object"||Ed.call(g)!=="[object Object]")return!1;var e=Object.getPrototypeOf(g);if(e===null)return!0;for(var s=e,c=Object.getPrototypeOf(e);c!==null;)s=c,c=Object.getPrototypeOf(s);return s===e}function Un(g){return typeof g=="object"&&(kr(g)||Array.isArray(g)||_s(g))}function nn(g,e){e=e||0;for(var s=Math.max(0,g.length-e),c=new Array(s),o=0;o<s;o++)c[o]=g[o+e];return c}function bo(g){if(Array.isArray(g))return nn(g);var e={};for(var s in g)Ai.call(g,s)&&(e[s]=g[s]);return e}function xd(g){for(var e=[],s=arguments.length-1;s-- >0;)e[s]=arguments[s+1];return ma(g,e)}function Ad(g,e){for(var s=[],c=arguments.length-2;c-- >0;)s[c]=arguments[c+2];return ma(e,s,g)}function jd(g){for(var e=[],s=arguments.length-1;s-- >0;)e[s]=arguments[s+1];return ga(g,e)}function Pd(g,e){for(var s=[],c=arguments.length-2;c-- >0;)s[c]=arguments[c+2];return ga(e,s,g)}function ga(g,e,s){return ma(g,e,Id(s))}function ma(g,e,s){if(!Un(g))throw new TypeError("Cannot merge into non-data-structure value: "+g);if(kr(g))return typeof s=="function"&&g.mergeWith?g.mergeWith.apply(g,[s].concat(e)):g.merge?g.merge.apply(g,e):g.concat.apply(g,e);for(var c=Array.isArray(g),o=g,u=c?si:Lr,i=c?function(n){o===g&&(o=bo(o)),o.push(n)}:function(n,t){var a=Ai.call(o,t),l=a&&s?s(o[t],n,t):n;(!a||l!==o[t])&&(o===g&&(o=bo(o)),o[t]=l)},r=0;r<e.length;r++)u(e[r]).forEach(i);return o}function Id(g){function e(s,c,o){return Un(s)&&Un(c)&&Nd(s,c)?ma(s,[c],e):g?g(s,c,o):c}return e}function Nd(g,e){var s=ar(g),c=ar(e);return fr(s)===fr(c)&&At(s)===At(c)}function ec(){for(var g=[],e=arguments.length;e--;)g[e]=arguments[e];return ga(this,g)}function tc(g){for(var e=[],s=arguments.length-1;s-- >0;)e[s]=arguments[s+1];return ga(this,e,g)}function ws(g){for(var e=[],s=arguments.length-1;s-- >0;)e[s]=arguments[s+1];return li(this,g,an(),function(c){return ga(c,e)})}function Ts(g){for(var e=[],s=arguments.length-1;s-- >0;)e[s]=arguments[s+1];return li(this,g,an(),function(c){return ma(c,e)})}function rc(g,e,s){return li(g,e,bt,function(){return s})}function Os(g,e){return rc(this,g,e)}function Ss(g,e,s){return arguments.length===1?g(this):vs(this,g,e,s)}function Es(g,e,s){return li(this,g,e,s)}function xs(){return this.__altered}function ba(g){var e=this.asMutable();return g(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this}var nc="@@__IMMUTABLE_MAP__@@";function vo(g){return!!(g&&g[nc])}function va(g,e){if(!g)throw new Error(e)}function Or(g){va(g!==1/0,"Cannot perform this action with an infinite size.")}var ci=(function(g){function e(s){return s==null?an():vo(s)&&!Kr(s)?s:an().withMutations(function(c){var o=g(s);Or(o.size),o.forEach(function(u,i){return c.set(i,u)})})}return g&&(e.__proto__=g),e.prototype=Object.create(g&&g.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return this.__toString("Map {","}")},e.prototype.get=function(c,o){return this._root?this._root.get(0,void 0,c,o):o},e.prototype.set=function(c,o){return oc(this,c,o)},e.prototype.remove=function(c){return oc(this,c,bt)},e.prototype.deleteAll=function(c){var o=Wt(c);return o.size===0?this:this.withMutations(function(u){o.forEach(function(i){return u.remove(i)})})},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):an()},e.prototype.sort=function(c){return on(Ii(this,c))},e.prototype.sortBy=function(c,o){return on(Ii(this,o,c))},e.prototype.map=function(c,o){var u=this;return this.withMutations(function(i){i.forEach(function(r,n){i.set(n,c.call(o,r,n,u))})})},e.prototype.__iterator=function(c,o){return new Rd(this,c,o)},e.prototype.__iterate=function(c,o){var u=this,i=0;return this._root&&this._root.iterate(function(r){return i++,c(r[1],r[0],u)},o),i},e.prototype.__ensureOwner=function(c){return c===this.__ownerID?this:c?js(this.size,this._root,c,this.__hash):this.size===0?an():(this.__ownerID=c,this.__altered=!1,this)},e})(Lr);ci.isMap=vo;var It=ci.prototype;It[nc]=!0,It[la]=It.remove,It.removeAll=It.deleteAll,It.setIn=Os,It.removeIn=It.deleteIn=Rs,It.update=Ss,It.updateIn=Es,It.merge=It.concat=Wu,It.mergeWith=Yu,It.mergeDeep=ec,It.mergeDeepWith=tc,It.mergeIn=Ts,It.mergeDeepIn=ws,It.withMutations=ba,It.wasAltered=xs,It.asImmutable=fa,It["@@transducer/init"]=It.asMutable=ha,It["@@transducer/step"]=function(g,e){return g.set(e[0],e[1])},It["@@transducer/result"]=function(g){return g.asImmutable()};var _a=function(e,s){this.ownerID=e,this.entries=s};_a.prototype.get=function(e,s,c,o){for(var u=this.entries,i=0,r=u.length;i<r;i++)if(Yt(c,u[i][0]))return u[i][1];return o},_a.prototype.update=function(e,s,c,o,u,i,r){for(var n=u===bt,t=this.entries,a=0,l=t.length;a<l&&!Yt(o,t[a][0]);a++);var d=a<l;if(d?t[a][1]===u:n)return this;if(Cr(r),(n||!d)&&Cr(i),!(n&&t.length===1)){if(!d&&!n&&t.length>=kd)return Dd(e,t,o,u);var p=e&&e===this.ownerID,f=p?t:nn(t);return d?n?a===l-1?f.pop():f[a]=f.pop():f[a]=[o,u]:f.push([o,u]),p?(this.entries=f,this):new _a(e,f)}};var Ni=function(e,s,c){this.ownerID=e,this.bitmap=s,this.nodes=c};Ni.prototype.get=function(e,s,c,o){s===void 0&&(s=yr(c));var u=1<<((e===0?s:s>>>e)&cr),i=this.bitmap;return(i&u)===0?o:this.nodes[uc(i&u-1)].get(e+Ot,s,c,o)},Ni.prototype.update=function(e,s,c,o,u,i,r){c===void 0&&(c=yr(o));var n=(s===0?c:c>>>s)&cr,t=1<<n,a=this.bitmap,l=(a&t)!==0;if(!l&&u===bt)return this;var d=uc(a&t-1),p=this.nodes,f=l?p[d]:void 0,h=Ps(f,e,s+Ot,c,o,u,i,r);if(h===f)return this;if(!l&&h&&p.length>=qd)return Md(e,p,a,n,h);if(l&&!h&&p.length===2&&sc(p[d^1]))return p[d^1];if(l&&h&&p.length===1&&sc(h))return h;var y=e&&e===this.ownerID,m=l?h?a:a^t:a|t,b=l?h?cc(p,d,h,y):Cd(p,d,y):Ld(p,d,h,y);return y?(this.bitmap=m,this.nodes=b,this):new Ni(e,m,b)};var wa=function(e,s,c){this.ownerID=e,this.count=s,this.nodes=c};wa.prototype.get=function(e,s,c,o){s===void 0&&(s=yr(c));var u=(e===0?s:s>>>e)&cr,i=this.nodes[u];return i?i.get(e+Ot,s,c,o):o},wa.prototype.update=function(e,s,c,o,u,i,r){c===void 0&&(c=yr(o));var n=(s===0?c:c>>>s)&cr,t=u===bt,a=this.nodes,l=a[n];if(t&&!l)return this;var d=Ps(l,e,s+Ot,c,o,u,i,r);if(d===l)return this;var p=this.count;if(!l)p++;else if(!d&&(p--,p<Bd))return Fd(e,a,p,n);var f=e&&e===this.ownerID,h=cc(a,n,d,f);return f?(this.count=p,this.nodes=h,this):new wa(e,p,h)};var Ri=function(e,s,c){this.ownerID=e,this.keyHash=s,this.entries=c};Ri.prototype.get=function(e,s,c,o){for(var u=this.entries,i=0,r=u.length;i<r;i++)if(Yt(c,u[i][0]))return u[i][1];return o},Ri.prototype.update=function(e,s,c,o,u,i,r){c===void 0&&(c=yr(o));var n=u===bt;if(c!==this.keyHash)return n?this:(Cr(r),Cr(i),Is(this,e,s,c,[o,u]));for(var t=this.entries,a=0,l=t.length;a<l&&!Yt(o,t[a][0]);a++);var d=a<l;if(d?t[a][1]===u:n)return this;if(Cr(r),(n||!d)&&Cr(i),n&&l===2)return new _n(e,this.keyHash,t[a^1]);var p=e&&e===this.ownerID,f=p?t:nn(t);return d?n?a===l-1?f.pop():f[a]=f.pop():f[a]=[o,u]:f.push([o,u]),p?(this.entries=f,this):new Ri(e,this.keyHash,f)};var _n=function(e,s,c){this.ownerID=e,this.keyHash=s,this.entry=c};_n.prototype.get=function(e,s,c,o){return Yt(c,this.entry[0])?this.entry[1]:o},_n.prototype.update=function(e,s,c,o,u,i,r){var n=u===bt,t=Yt(o,this.entry[0]);if(t?u===this.entry[1]:n)return this;if(Cr(r),n){Cr(i);return}return t?e&&e===this.ownerID?(this.entry[1]=u,this):new _n(e,this.keyHash,[o,u]):(Cr(i),Is(this,e,s,yr(o),[o,u]))},_a.prototype.iterate=Ri.prototype.iterate=function(g,e){for(var s=this.entries,c=0,o=s.length-1;c<=o;c++)if(g(s[e?o-c:c])===!1)return!1},Ni.prototype.iterate=wa.prototype.iterate=function(g,e){for(var s=this.nodes,c=0,o=s.length-1;c<=o;c++){var u=s[e?o-c:c];if(u&&u.iterate(g,e)===!1)return!1}},_n.prototype.iterate=function(g,e){return g(this.entry)};var Rd=(function(g){function e(s,c,o){this._type=c,this._reverse=o,this._stack=s._root&&ic(s._root)}return g&&(e.__proto__=g),e.prototype=Object.create(g&&g.prototype),e.prototype.constructor=e,e.prototype.next=function(){for(var c=this._type,o=this._stack;o;){var u=o.node,i=o.index++,r=void 0;if(u.entry){if(i===0)return As(c,u.entry)}else if(u.entries){if(r=u.entries.length-1,i<=r)return As(c,u.entries[this._reverse?r-i:i])}else if(r=u.nodes.length-1,i<=r){var n=u.nodes[this._reverse?r-i:i];if(n){if(n.entry)return As(c,n.entry);o=this._stack=ic(n,o)}continue}o=this._stack=this._stack.__prev}return ir()},e})(vt);function As(g,e){return Pt(g,e[0],e[1])}function ic(g,e){return{node:g,index:0,__prev:e}}function js(g,e,s,c){var o=Object.create(It);return o.size=g,o._root=e,o.__ownerID=s,o.__hash=c,o.__altered=!1,o}var ac;function an(){return ac||(ac=js(0))}function oc(g,e,s){var c,o;if(g._root){var u=ts(),i=ts();if(c=Ps(g._root,g.__ownerID,0,void 0,e,s,u,i),!i.value)return g;o=g.size+(u.value?s===bt?-1:1:0)}else{if(s===bt)return g;o=1,c=new _a(g.__ownerID,[[e,s]])}return g.__ownerID?(g.size=o,g._root=c,g.__hash=void 0,g.__altered=!0,g):c?js(o,c):an()}function Ps(g,e,s,c,o,u,i,r){return g?g.update(e,s,c,o,u,i,r):u===bt?g:(Cr(r),Cr(i),new _n(e,c,[o,u]))}function sc(g){return g.constructor===_n||g.constructor===Ri}function Is(g,e,s,c,o){if(g.keyHash===c)return new Ri(e,c,[g.entry,o]);var u=(s===0?g.keyHash:g.keyHash>>>s)&cr,i=(s===0?c:c>>>s)&cr,r,n=u===i?[Is(g,e,s+Ot,c,o)]:(r=new _n(e,c,o),u<i?[g,r]:[r,g]);return new Ni(e,1<<u|1<<i,n)}function Dd(g,e,s,c){g||(g=new rs);for(var o=new _n(g,yr(s),[s,c]),u=0;u<e.length;u++){var i=e[u];o=o.update(g,0,void 0,i[0],i[1])}return o}function Fd(g,e,s,c){for(var o=0,u=0,i=new Array(s),r=0,n=1,t=e.length;r<t;r++,n<<=1){var a=e[r];a!==void 0&&r!==c&&(o|=n,i[u++]=a)}return new Ni(g,o,i)}function Md(g,e,s,c,o){for(var u=0,i=new Array(Tr),r=0;s!==0;r++,s>>>=1)i[r]=s&1?e[u++]:void 0;return i[c]=o,new wa(g,u+1,i)}function uc(g){return g-=g>>1&1431655765,g=(g&858993459)+(g>>2&858993459),g=g+(g>>4)&252645135,g+=g>>8,g+=g>>16,g&127}function cc(g,e,s,c){var o=c?g:nn(g);return o[e]=s,o}function Ld(g,e,s,c){var o=g.length+1;if(c&&e+1===o)return g[e]=s,g;for(var u=new Array(o),i=0,r=0;r<o;r++)r===e?(u[r]=s,i=-1):u[r]=g[r+i];return u}function Cd(g,e,s){var c=g.length-1;if(s&&e===c)return g.pop(),g;for(var o=new Array(c),u=0,i=0;i<c;i++)i===e&&(u=1),o[i]=g[i+u];return o}var kd=Tr/4,qd=Tr/2,Bd=Tr/4;function lc(g){if(ns(g)&&typeof g!="string")return g;if(Kr(g))return g.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+g)}function Ta(g){try{return typeof g=="string"?JSON.stringify(g):String(g)}catch{return JSON.stringify(g)}}function dc(g,e){return kr(g)?g.has(e):Un(g)&&Ai.call(g,e)}function Ns(g,e,s){return kr(g)?g.get(e,s):dc(g,e)?typeof g.get=="function"?g.get(e):g[e]:s}function pc(g,e){if(!Un(g))throw new TypeError("Cannot update non-data-structure value: "+g);if(kr(g)){if(!g.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+g);return g.remove(e)}if(!Ai.call(g,e))return g;var s=bo(g);return Array.isArray(s)?s.splice(e,1):delete s[e],s}function fc(g,e,s){if(!Un(g))throw new TypeError("Cannot update non-data-structure value: "+g);if(kr(g)){if(!g.set)throw new TypeError("Cannot update immutable value without .set() method: "+g);return g.set(e,s)}if(Ai.call(g,e)&&s===g[e])return g;var c=bo(g);return c[e]=s,c}function li(g,e,s,c){c||(c=s,s=void 0);var o=hc(kr(g),g,lc(e),0,s,c);return o===bt?s:o}function hc(g,e,s,c,o,u){var i=e===bt;if(c===s.length){var r=i?o:e,n=u(r);return n===r?e:n}if(!i&&!Un(e))throw new TypeError("Cannot update within non-data-structure value in path ["+Array.from(s).slice(0,c).map(Ta)+"]: "+e);var t=s[c],a=i?bt:Ns(e,t,bt),l=hc(a===bt?g:kr(a),a,s,c+1,o,u);return l===a?e:l===bt?pc(e,t):fc(i?g?an():{}:e,t,l)}function yc(g,e){return li(g,e,function(){return bt})}function Rs(g){return yc(this,g)}var gc="@@__IMMUTABLE_LIST__@@";function Ds(g){return!!(g&&g[gc])}var Oa=(function(g){function e(s){var c=_o();if(s==null)return c;if(Ds(s))return s;var o=g(s),u=o.size;return u===0?c:(Or(u),u>0&&u<Tr?Ea(0,u,Ot,null,new Qn(o.toArray())):c.withMutations(function(i){i.setSize(u),o.forEach(function(r,n){return i.set(n,r)})}))}return g&&(e.__proto__=g),e.prototype=Object.create(g&&g.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("List [","]")},e.prototype.get=function(c,o){if(c=Cn(this,c),c>=0&&c<this.size){c+=this._origin;var u=bc(this,c);return u&&u.array[c&cr]}return o},e.prototype.set=function(c,o){return Ud(this,c,o)},e.prototype.remove=function(c){return this.has(c)?c===0?this.shift():c===this.size-1?this.pop():this.splice(c,1):this},e.prototype.insert=function(c,o){return this.splice(c,0,o)},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=Ot,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):_o()},e.prototype.push=function(){var c=arguments,o=this.size;return this.withMutations(function(u){Vn(u,0,o+c.length);for(var i=0;i<c.length;i++)u.set(o+i,c[i])})},e.prototype.pop=function(){return Vn(this,0,-1)},e.prototype.unshift=function(){var c=arguments;return this.withMutations(function(o){Vn(o,-c.length);for(var u=0;u<c.length;u++)o.set(u,c[u])})},e.prototype.shift=function(){return Vn(this,1)},e.prototype.shuffle=function(c){return c===void 0&&(c=Math.random),this.withMutations(function(o){for(var u=o.size,i,r;u;)i=Math.floor(c()*u--),r=o.get(i),o.set(i,o.get(u)),o.set(u,r)})},e.prototype.concat=function(){for(var c=arguments,o=[],u=0;u<arguments.length;u++){var i=c[u],r=g(typeof i!="string"&&Zo(i)?i:[i]);r.size!==0&&o.push(r)}return o.length===0?this:this.size===0&&!this.__ownerID&&o.length===1?this.constructor(o[0]):this.withMutations(function(n){o.forEach(function(t){return t.forEach(function(a){return n.push(a)})})})},e.prototype.setSize=function(c){return Vn(this,0,c)},e.prototype.map=function(c,o){var u=this;return this.withMutations(function(i){for(var r=0;r<u.size;r++)i.set(r,c.call(o,i.get(r),r,u))})},e.prototype.slice=function(c,o){var u=this.size;return da(c,o,u)?this:Vn(this,xi(c,u),pa(o,u))},e.prototype.__iterator=function(c,o){var u=o?this.size:0,i=mc(this,o);return new vt(function(){var r=i();return r===Sa?ir():Pt(c,o?--u:u++,r)})},e.prototype.__iterate=function(c,o){for(var u=o?this.size:0,i=mc(this,o),r;(r=i())!==Sa&&c(r,o?--u:u++,this)!==!1;);return u},e.prototype.__ensureOwner=function(c){return c===this.__ownerID?this:c?Ea(this._origin,this._capacity,this._level,this._root,this._tail,c,this.__hash):this.size===0?_o():(this.__ownerID=c,this.__altered=!1,this)},e})(si);Oa.isList=Ds;var qt=Oa.prototype;qt[gc]=!0,qt[la]=qt.remove,qt.merge=qt.concat,qt.setIn=Os,qt.deleteIn=qt.removeIn=Rs,qt.update=Ss,qt.updateIn=Es,qt.mergeIn=Ts,qt.mergeDeepIn=ws,qt.withMutations=ba,qt.wasAltered=xs,qt.asImmutable=fa,qt["@@transducer/init"]=qt.asMutable=ha,qt["@@transducer/step"]=function(g,e){return g.push(e)},qt["@@transducer/result"]=function(g){return g.asImmutable()};var Qn=function(e,s){this.array=e,this.ownerID=s};Qn.prototype.removeBefore=function(e,s,c){if((c&(1<<s+Ot)-1)===0||this.array.length===0)return this;var o=c>>>s&cr;if(o>=this.array.length)return new Qn([],e);var u=o===0,i;if(s>0){var r=this.array[o];if(i=r&&r.removeBefore(e,s-Ot,c),i===r&&u)return this}if(u&&!i)return this;var n=Di(this,e);if(!u)for(var t=0;t<o;t++)n.array[t]=void 0;return i&&(n.array[o]=i),n},Qn.prototype.removeAfter=function(e,s,c){if(c===(s?1<<s+Ot:Tr)||this.array.length===0)return this;var o=c-1>>>s&cr;if(o>=this.array.length)return this;var u;if(s>0){var i=this.array[o];if(u=i&&i.removeAfter(e,s-Ot,c),u===i&&o===this.array.length-1)return this}var r=Di(this,e);return r.array.splice(o+1),u&&(r.array[o]=u),r};var Sa={};function mc(g,e){var s=g._origin,c=g._capacity,o=xa(c),u=g._tail;return i(g._root,g._level,0);function i(t,a,l){return a===0?r(t,l):n(t,a,l)}function r(t,a){var l=a===o?u&&u.array:t&&t.array,d=a>s?0:s-a,p=c-a;return p>Tr&&(p=Tr),function(){if(d===p)return Sa;var f=e?--p:d++;return l&&l[f]}}function n(t,a,l){var d,p=t&&t.array,f=l>s?0:s-l>>a,h=(c-l>>a)+1;return h>Tr&&(h=Tr),function(){for(;;){if(d){var y=d();if(y!==Sa)return y;d=null}if(f===h)return Sa;var m=e?--h:f++;d=i(p&&p[m],a-Ot,l+(m<<a))}}}}function Ea(g,e,s,c,o,u,i){var r=Object.create(qt);return r.size=e-g,r._origin=g,r._capacity=e,r._level=s,r._root=c,r._tail=o,r.__ownerID=u,r.__hash=i,r.__altered=!1,r}function _o(){return Ea(0,0,Ot)}function Ud(g,e,s){if(e=Cn(g,e),e!==e)return g;if(e>=g.size||e<0)return g.withMutations(function(i){e<0?Vn(i,e).set(0,s):Vn(i,0,e+1).set(e,s)});e+=g._origin;var c=g._tail,o=g._root,u=ts();return e>=xa(g._capacity)?c=Fs(c,g.__ownerID,0,e,s,u):o=Fs(o,g.__ownerID,g._level,e,s,u),u.value?g.__ownerID?(g._root=o,g._tail=c,g.__hash=void 0,g.__altered=!0,g):Ea(g._origin,g._capacity,g._level,o,c):g}function Fs(g,e,s,c,o,u){var i=c>>>s&cr,r=g&&i<g.array.length;if(!r&&o===void 0)return g;var n;if(s>0){var t=g&&g.array[i],a=Fs(t,e,s-Ot,c,o,u);return a===t?g:(n=Di(g,e),n.array[i]=a,n)}return r&&g.array[i]===o?g:(u&&Cr(u),n=Di(g,e),o===void 0&&i===n.array.length-1?n.array.pop():n.array[i]=o,n)}function Di(g,e){return e&&g&&e===g.ownerID?g:new Qn(g?g.array.slice():[],e)}function bc(g,e){if(e>=xa(g._capacity))return g._tail;if(e<1<<g._level+Ot){for(var s=g._root,c=g._level;s&&c>0;)s=s.array[e>>>c&cr],c-=Ot;return s}}function Vn(g,e,s){e!==void 0&&(e|=0),s!==void 0&&(s|=0);var c=g.__ownerID||new rs,o=g._origin,u=g._capacity,i=o+e,r=s===void 0?u:s<0?u+s:o+s;if(i===o&&r===u)return g;if(i>=r)return g.clear();for(var n=g._level,t=g._root,a=0;i+a<0;)t=new Qn(t&&t.array.length?[void 0,t]:[],c),n+=Ot,a+=1<<n;a&&(i+=a,o+=a,r+=a,u+=a);for(var l=xa(u),d=xa(r);d>=1<<n+Ot;)t=new Qn(t&&t.array.length?[t]:[],c),n+=Ot;var p=g._tail,f=d<l?bc(g,r-1):d>l?new Qn([],c):p;if(p&&d>l&&i<u&&p.array.length){t=Di(t,c);for(var h=t,y=n;y>Ot;y-=Ot){var m=l>>>y&cr;h=h.array[m]=Di(h.array[m],c)}h.array[l>>>Ot&cr]=p}if(r<u&&(f=f&&f.removeAfter(c,0,r)),i>=d)i-=d,r-=d,n=Ot,t=null,f=f&&f.removeBefore(c,0,i);else if(i>o||d<l){for(a=0;t;){var b=i>>>n&cr;if(b!==d>>>n&cr)break;b&&(a+=(1<<n)*b),n-=Ot,t=t.array[b]}t&&i>o&&(t=t.removeBefore(c,n,i-a)),t&&d<l&&(t=t.removeAfter(c,n,d-a)),a&&(i-=a,r-=a)}return g.__ownerID?(g.size=r-i,g._origin=i,g._capacity=r,g._level=n,g._root=t,g._tail=f,g.__hash=void 0,g.__altered=!0,g):Ea(i,r,n,t,f)}function xa(g){return g<Tr?0:g-1>>>Ot<<Ot}function Ms(g){return vo(g)&&Kr(g)}var on=(function(g){function e(s){return s==null?Aa():Ms(s)?s:Aa().withMutations(function(c){var o=Lr(s);Or(o.size),o.forEach(function(u,i){return c.set(i,u)})})}return g&&(e.__proto__=g),e.prototype=Object.create(g&&g.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("OrderedMap {","}")},e.prototype.get=function(c,o){var u=this._map.get(c);return u!==void 0?this._list.get(u)[1]:o},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):Aa()},e.prototype.set=function(c,o){return _c(this,c,o)},e.prototype.remove=function(c){return _c(this,c,bt)},e.prototype.__iterate=function(c,o){var u=this;return this._list.__iterate(function(i){return i&&c(i[1],i[0],u)},o)},e.prototype.__iterator=function(c,o){return this._list.fromEntrySeq().__iterator(c,o)},e.prototype.__ensureOwner=function(c){if(c===this.__ownerID)return this;var o=this._map.__ensureOwner(c),u=this._list.__ensureOwner(c);return c?Ls(o,u,c,this.__hash):this.size===0?Aa():(this.__ownerID=c,this.__altered=!1,this._map=o,this._list=u,this)},e})(ci);on.isOrderedMap=Ms,on.prototype[qn]=!0,on.prototype[la]=on.prototype.remove;function Ls(g,e,s,c){var o=Object.create(on.prototype);return o.size=g?g.size:0,o._map=g,o._list=e,o.__ownerID=s,o.__hash=c,o.__altered=!1,o}var vc;function Aa(){return vc||(vc=Ls(an(),_o()))}function _c(g,e,s){var c=g._map,o=g._list,u=c.get(e),i=u!==void 0,r,n;if(s===bt){if(!i)return g;o.size>=Tr&&o.size>=c.size*2?(n=o.filter(function(t,a){return t!==void 0&&u!==a}),r=n.toKeyedSeq().map(function(t){return t[0]}).flip().toMap(),g.__ownerID&&(r.__ownerID=n.__ownerID=g.__ownerID)):(r=c.remove(e),n=u===o.size-1?o.pop():o.set(u,void 0))}else if(i){if(s===o.get(u)[1])return g;r=c,n=o.set(u,[e,s])}else r=c.set(e,o.size),n=o.set(o.size,[e,s]);return g.__ownerID?(g.size=r.size,g._map=r,g._list=n,g.__hash=void 0,g.__altered=!0,g):Ls(r,n)}var wc="@@__IMMUTABLE_STACK__@@";function wo(g){return!!(g&&g[wc])}var To=(function(g){function e(s){return s==null?Oo():wo(s)?s:Oo().pushAll(s)}return g&&(e.__proto__=g),e.prototype=Object.create(g&&g.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("Stack [","]")},e.prototype.get=function(c,o){var u=this._head;for(c=Cn(this,c);u&&c--;)u=u.next;return u?u.value:o},e.prototype.peek=function(){return this._head&&this._head.value},e.prototype.push=function(){var c=arguments;if(arguments.length===0)return this;for(var o=this.size+arguments.length,u=this._head,i=arguments.length-1;i>=0;i--)u={value:c[i],next:u};return this.__ownerID?(this.size=o,this._head=u,this.__hash=void 0,this.__altered=!0,this):ja(o,u)},e.prototype.pushAll=function(c){if(c=g(c),c.size===0)return this;if(this.size===0&&wo(c))return c;Or(c.size);var o=this.size,u=this._head;return c.__iterate(function(i){o++,u={value:i,next:u}},!0),this.__ownerID?(this.size=o,this._head=u,this.__hash=void 0,this.__altered=!0,this):ja(o,u)},e.prototype.pop=function(){return this.slice(1)},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Oo()},e.prototype.slice=function(c,o){if(da(c,o,this.size))return this;var u=xi(c,this.size),i=pa(o,this.size);if(i!==this.size)return g.prototype.slice.call(this,c,o);for(var r=this.size-u,n=this._head;u--;)n=n.next;return this.__ownerID?(this.size=r,this._head=n,this.__hash=void 0,this.__altered=!0,this):ja(r,n)},e.prototype.__ensureOwner=function(c){return c===this.__ownerID?this:c?ja(this.size,this._head,c,this.__hash):this.size===0?Oo():(this.__ownerID=c,this.__altered=!1,this)},e.prototype.__iterate=function(c,o){var u=this;if(o)return new Pi(this.toArray()).__iterate(function(n,t){return c(n,t,u)},o);for(var i=0,r=this._head;r&&c(r.value,i++,this)!==!1;)r=r.next;return i},e.prototype.__iterator=function(c,o){if(o)return new Pi(this.toArray()).__iterator(c,o);var u=0,i=this._head;return new vt(function(){if(i){var r=i.value;return i=i.next,Pt(c,u++,r)}return ir()})},e})(si);To.isStack=wo;var lr=To.prototype;lr[wc]=!0,lr.shift=lr.pop,lr.unshift=lr.push,lr.unshiftAll=lr.pushAll,lr.withMutations=ba,lr.wasAltered=xs,lr.asImmutable=fa,lr["@@transducer/init"]=lr.asMutable=ha,lr["@@transducer/step"]=function(g,e){return g.unshift(e)},lr["@@transducer/result"]=function(g){return g.asImmutable()};function ja(g,e,s,c){var o=Object.create(lr);return o.size=g,o._head=e,o.__ownerID=s,o.__hash=c,o.__altered=!1,o}var Tc;function Oo(){return Tc||(Tc=ja(0))}function Oc(g,e,s,c,o,u){return Or(g.size),g.__iterate(function(i,r,n){o?(o=!1,s=i):s=e.call(c,s,i,r,n)},u),s}function Qd(g,e){return e}function Vd(g,e){return[e,g]}function Cs(g){return function(){for(var e=[],s=arguments.length;s--;)e[s]=arguments[s];return!g.apply(this,e)}}function Sc(g){return function(){for(var e=[],s=arguments.length;s--;)e[s]=arguments[s];return-g.apply(this,e)}}function Ec(g,e){return g<e?1:g>e?-1:0}function ks(g,e){if(g===e)return!0;if(!hr(e)||g.size!==void 0&&e.size!==void 0&&g.size!==e.size||g.__hash!==void 0&&e.__hash!==void 0&&g.__hash!==e.__hash||At(g)!==At(e)||fr(g)!==fr(e)||Kr(g)!==Kr(e))return!1;if(g.size===0&&e.size===0)return!0;var s=!co(g);if(Kr(g)){var c=g.entries();return e.every(function(n,t){var a=c.next().value;return a&&Yt(a[1],n)&&(s||Yt(a[0],t))})&&c.next().done}var o=!1;if(g.size===void 0)if(e.size===void 0)typeof g.cacheResult=="function"&&g.cacheResult();else{o=!0;var u=g;g=e,e=u}var i=!0,r=e.__iterate(function(n,t){if(s?!g.has(n):o?!Yt(n,g.get(t,bt)):!Yt(g.get(t,bt),n))return i=!1,!1});return i&&g.size===r}var xc=(function(g){function e(s,c,o){if(o===void 0&&(o=1),!(this instanceof e))return new e(s,c,o);if(va(o!==0,"Cannot step a Range by 0"),va(s!==void 0,"You must define a start value when using Range"),va(c!==void 0,"You must define an end value when using Range"),o=Math.abs(o),c<s&&(o=-o),this._start=s,this._end=c,this._step=o,this.size=Math.max(0,Math.ceil((c-s)/o-1)+1),this.size===0){if(qs)return qs;qs=this}}return g&&(e.__proto__=g),e.prototype=Object.create(g&&g.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"},e.prototype.get=function(c,o){return this.has(c)?this._start+Cn(this,c)*this._step:o},e.prototype.includes=function(c){var o=(c-this._start)/this._step;return o>=0&&o<this.size&&o===Math.floor(o)},e.prototype.slice=function(c,o){return da(c,o,this.size)?this:(c=xi(c,this.size),o=pa(o,this.size),o<=c?new e(0,0):new e(this.get(c,this._end),this.get(o,this._end),this._step))},e.prototype.indexOf=function(c){var o=c-this._start;if(o%this._step===0){var u=o/this._step;if(u>=0&&u<this.size)return u}return-1},e.prototype.lastIndexOf=function(c){return this.indexOf(c)},e.prototype.__iterate=function(c,o){for(var u=this.size,i=this._step,r=o?this._start+(u-1)*i:this._start,n=0;n!==u&&c(r,o?u-++n:n++,this)!==!1;)r+=o?-i:i;return n},e.prototype.__iterator=function(c,o){var u=this.size,i=this._step,r=o?this._start+(u-1)*i:this._start,n=0;return new vt(function(){if(n===u)return ir();var t=r;return r+=o?-i:i,Pt(c,o?u-++n:n++,t)})},e.prototype.equals=function(c){return c instanceof e?this._start===c._start&&this._end===c._end&&this._step===c._step:ks(this,c)},e})(qr),qs,Ac="@@__IMMUTABLE_SET__@@";function So(g){return!!(g&&g[Ac])}var Pa=(function(g){function e(s){return s==null?Ia():So(s)&&!Kr(s)?s:Ia().withMutations(function(c){var o=g(s);Or(o.size),o.forEach(function(u){return c.add(u)})})}return g&&(e.__proto__=g),e.prototype=Object.create(g&&g.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(c){return this(Lr(c).keySeq())},e.intersect=function(c){return c=Wt(c).toArray(),c.length?er.intersect.apply(e(c.pop()),c):Ia()},e.union=function(c){return c=Wt(c).toArray(),c.length?er.union.apply(e(c.pop()),c):Ia()},e.prototype.toString=function(){return this.__toString("Set {","}")},e.prototype.has=function(c){return this._map.has(c)},e.prototype.add=function(c){return Eo(this,this._map.set(c,c))},e.prototype.remove=function(c){return Eo(this,this._map.remove(c))},e.prototype.clear=function(){return Eo(this,this._map.clear())},e.prototype.map=function(c,o){var u=this,i=!1,r=Eo(this,this._map.mapEntries(function(n){var t=n[1],a=c.call(o,t,t,u);return a!==t&&(i=!0),[a,a]},o));return i?r:this},e.prototype.union=function(){for(var c=[],o=arguments.length;o--;)c[o]=arguments[o];return c=c.filter(function(u){return u.size!==0}),c.length===0?this:this.size===0&&!this.__ownerID&&c.length===1?this.constructor(c[0]):this.withMutations(function(u){for(var i=0;i<c.length;i++)typeof c[i]=="string"?u.add(c[i]):g(c[i]).forEach(function(r){return u.add(r)})})},e.prototype.intersect=function(){for(var c=[],o=arguments.length;o--;)c[o]=arguments[o];if(c.length===0)return this;c=c.map(function(i){return g(i)});var u=[];return this.forEach(function(i){c.every(function(r){return r.includes(i)})||u.push(i)}),this.withMutations(function(i){u.forEach(function(r){i.remove(r)})})},e.prototype.subtract=function(){for(var c=[],o=arguments.length;o--;)c[o]=arguments[o];if(c.length===0)return this;c=c.map(function(i){return g(i)});var u=[];return this.forEach(function(i){c.some(function(r){return r.includes(i)})&&u.push(i)}),this.withMutations(function(i){u.forEach(function(r){i.remove(r)})})},e.prototype.sort=function(c){return Li(Ii(this,c))},e.prototype.sortBy=function(c,o){return Li(Ii(this,o,c))},e.prototype.wasAltered=function(){return this._map.wasAltered()},e.prototype.__iterate=function(c,o){var u=this;return this._map.__iterate(function(i){return c(i,i,u)},o)},e.prototype.__iterator=function(c,o){return this._map.__iterator(c,o)},e.prototype.__ensureOwner=function(c){if(c===this.__ownerID)return this;var o=this._map.__ensureOwner(c);return c?this.__make(o,c):this.size===0?this.__empty():(this.__ownerID=c,this._map=o,this)},e})(Oi);Pa.isSet=So;var er=Pa.prototype;er[Ac]=!0,er[la]=er.remove,er.merge=er.concat=er.union,er.withMutations=ba,er.asImmutable=fa,er["@@transducer/init"]=er.asMutable=ha,er["@@transducer/step"]=function(g,e){return g.add(e)},er["@@transducer/result"]=function(g){return g.asImmutable()},er.__empty=Ia,er.__make=jc;function Eo(g,e){return g.__ownerID?(g.size=e.size,g._map=e,g):e===g._map?g:e.size===0?g.__empty():g.__make(e)}function jc(g,e){var s=Object.create(er);return s.size=g?g.size:0,s._map=g,s.__ownerID=e,s}var Pc;function Ia(){return Pc||(Pc=jc(an()))}function Bs(g,e,s){for(var c=lc(e),o=0;o!==c.length;)if(g=Ns(g,c[o++],bt),g===bt)return s;return g}function Ic(g,e){return Bs(this,g,e)}function Nc(g,e){return Bs(g,e,bt)!==bt}function $d(g){return Nc(this,g)}function Rc(){Or(this.size);var g={};return this.__iterate(function(e,s){g[s]=e}),g}function xo(g){if(!g||typeof g!="object")return g;if(!hr(g)){if(!Un(g))return g;g=ar(g)}if(At(g)){var e={};return g.__iterate(function(c,o){e[o]=xo(c)}),e}var s=[];return g.__iterate(function(c){s.push(xo(c))}),s}function Gd(g){if(g.size===1/0)return 0;var e=Kr(g),s=At(g),c=e?1:0;return g.__iterate(s?e?function(o,u){c=31*c+Dc(yr(o),yr(u))|0}:function(o,u){c=c+Dc(yr(o),yr(u))|0}:e?function(o){c=31*c+yr(o)|0}:function(o){c=c+yr(o)|0}),Hd(g.size,c)}function Hd(g,e){return e=ya(e,3432918353),e=ya(e<<15|e>>>-15,461845907),e=ya(e<<13|e>>>-13,5),e=(e+3864292196|0)^g,e=ya(e^e>>>16,2246822507),e=ya(e^e>>>13,3266489909),e=ho(e^e>>>16),e}function Dc(g,e){return g^e+2654435769+(g<<6)+(g>>2)|0}function di(g,e){var s=function(c){g.prototype[c]=e[c]};return Object.keys(e).forEach(s),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(s),g}Wt.Iterator=vt,di(Wt,{toArray:function(){Or(this.size);var e=new Array(this.size||0),s=At(this),c=0;return this.__iterate(function(o,u){e[c++]=s?[u,o]:o}),e},toIndexedSeq:function(){return new Bu(this)},toJS:function(){return xo(this)},toKeyedSeq:function(){return new yo(this,!0)},toMap:function(){return ci(this.toKeyedSeq())},toObject:Rc,toOrderedMap:function(){return on(this.toKeyedSeq())},toOrderedSet:function(){return Li(At(this)?this.valueSeq():this)},toSet:function(){return Pa(At(this)?this.valueSeq():this)},toSetSeq:function(){return new Uu(this)},toSeq:function(){return fr(this)?this.toIndexedSeq():At(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return To(At(this)?this.valueSeq():this)},toList:function(){return Oa(At(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(e,s){return this.size===0?e+s:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+s},concat:function(){for(var e=[],s=arguments.length;s--;)e[s]=arguments[s];return St(this,Td(this,e))},includes:function(e){return this.some(function(s){return Yt(s,e)})},entries:function(){return this.__iterator(wr)},every:function(e,s){Or(this.size);var c=!0;return this.__iterate(function(o,u,i){if(!e.call(s,o,u,i))return c=!1,!1}),c},filter:function(e,s){return St(this,Gu(this,e,s,!0))},partition:function(e,s){return vd(this,e,s)},find:function(e,s,c){var o=this.findEntry(e,s);return o?o[1]:c},forEach:function(e,s){return Or(this.size),this.__iterate(s?e.bind(s):e)},join:function(e){Or(this.size),e=e!==void 0?""+e:",";var s="",c=!0;return this.__iterate(function(o){c?c=!1:s+=e,s+=o!=null?o.toString():""}),s},keys:function(){return this.__iterator(Si)},map:function(e,s){return St(this,$u(this,e,s))},reduce:function(e,s,c){return Oc(this,e,s,c,arguments.length<2,!1)},reduceRight:function(e,s,c){return Oc(this,e,s,c,arguments.length<2,!0)},reverse:function(){return St(this,hs(this,!0))},slice:function(e,s){return St(this,ys(this,e,s,!0))},some:function(e,s){Or(this.size);var c=!1;return this.__iterate(function(o,u,i){if(e.call(s,o,u,i))return c=!0,!1}),c},sort:function(e){return St(this,Ii(this,e))},values:function(){return this.__iterator(_r)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(e,s){return Ei(e?this.toSeq().filter(e,s):this)},countBy:function(e,s){return md(this,e,s)},equals:function(e){return ks(this,e)},entrySeq:function(){var e=this;if(e._cache)return new Pi(e._cache);var s=e.toSeq().map(Vd).toIndexedSeq();return s.fromEntrySeq=function(){return e.toSeq()},s},filterNot:function(e,s){return this.filter(Cs(e),s)},findEntry:function(e,s,c){var o=c;return this.__iterate(function(u,i,r){if(e.call(s,u,i,r))return o=[i,u],!1}),o},findKey:function(e,s){var c=this.findEntry(e,s);return c&&c[0]},findLast:function(e,s,c){return this.toKeyedSeq().reverse().find(e,s,c)},findLastEntry:function(e,s,c){return this.toKeyedSeq().reverse().findEntry(e,s,c)},findLastKey:function(e,s){return this.toKeyedSeq().reverse().findKey(e,s)},first:function(e){return this.find(ju,null,e)},flatMap:function(e,s){return St(this,Od(this,e,s))},flatten:function(e){return St(this,zu(this,e,!0))},fromEntrySeq:function(){return new Qu(this)},get:function(e,s){return this.find(function(c,o){return Yt(o,e)},void 0,s)},getIn:Ic,groupBy:function(e,s){return bd(this,e,s)},has:function(e){return this.get(e,bt)!==bt},hasIn:$d,isSubset:function(e){return e=typeof e.includes=="function"?e:Wt(e),this.every(function(s){return e.includes(s)})},isSuperset:function(e){return e=typeof e.isSubset=="function"?e:Wt(e),e.isSubset(this)},keyOf:function(e){return this.findKey(function(s){return Yt(s,e)})},keySeq:function(){return this.toSeq().map(Qd).toIndexedSeq()},last:function(e){return this.toSeq().reverse().first(e)},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return go(this,e)},maxBy:function(e,s){return go(this,s,e)},min:function(e){return go(this,e?Sc(e):Ec)},minBy:function(e,s){return go(this,s?Sc(s):Ec,e)},rest:function(){return this.slice(1)},skip:function(e){return e===0?this:this.slice(Math.max(0,e))},skipLast:function(e){return e===0?this:this.slice(0,-Math.max(0,e))},skipWhile:function(e,s){return St(this,Hu(this,e,s,!0))},skipUntil:function(e,s){return this.skipWhile(Cs(e),s)},sortBy:function(e,s){return St(this,Ii(this,s,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return this.slice(-Math.max(0,e))},takeWhile:function(e,s){return St(this,_d(this,e,s))},takeUntil:function(e,s){return this.takeWhile(Cs(e),s)},update:function(e){return e(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=Gd(this))}});var or=Wt.prototype;or[Eu]=!0,or[lo]=or.values,or.toJSON=or.toArray,or.__toStringMapper=Ta,or.inspect=or.toSource=function(){return this.toString()},or.chain=or.flatMap,or.contains=or.includes,di(Lr,{flip:function(){return St(this,Vu(this))},mapEntries:function(e,s){var c=this,o=0;return St(this,this.toSeq().map(function(u,i){return e.call(s,[i,u],o++,c)}).fromEntrySeq())},mapKeys:function(e,s){var c=this;return St(this,this.toSeq().flip().map(function(o,u){return e.call(s,o,u,c)}).flip())}});var Na=Lr.prototype;Na[uo]=!0,Na[lo]=or.entries,Na.toJSON=Rc,Na.__toStringMapper=function(g,e){return Ta(e)+": "+Ta(g)},di(si,{toKeyedSeq:function(){return new yo(this,!1)},filter:function(e,s){return St(this,Gu(this,e,s,!1))},findIndex:function(e,s){var c=this.findEntry(e,s);return c?c[0]:-1},indexOf:function(e){var s=this.keyOf(e);return s===void 0?-1:s},lastIndexOf:function(e){var s=this.lastKeyOf(e);return s===void 0?-1:s},reverse:function(){return St(this,hs(this,!1))},slice:function(e,s){return St(this,ys(this,e,s,!1))},splice:function(e,s){var c=arguments.length;if(s=Math.max(s||0,0),c===0||c===2&&!s)return this;e=xi(e,e<0?this.count():this.size);var o=this.slice(0,e);return St(this,c===1?o:o.concat(nn(arguments,2),this.slice(e+s)))},findLastIndex:function(e,s){var c=this.findLastEntry(e,s);return c?c[0]:-1},first:function(e){return this.get(0,e)},flatten:function(e){return St(this,zu(this,e,!1))},get:function(e,s){return e=Cn(this,e),e<0||this.size===1/0||this.size!==void 0&&e>this.size?s:this.find(function(c,o){return o===e},void 0,s)},has:function(e){return e=Cn(this,e),e>=0&&(this.size!==void 0?this.size===1/0||e<this.size:this.indexOf(e)!==-1)},interpose:function(e){return St(this,Sd(this,e))},interleave:function(){var e=[this].concat(nn(arguments)),s=mo(this.toSeq(),qr.of,e),c=s.flatten(!0);return s.size&&(c.size=s.size*e.length),St(this,c)},keySeq:function(){return xc(0,this.size)},last:function(e){return this.get(-1,e)},skipWhile:function(e,s){return St(this,Hu(this,e,s,!1))},zip:function(){var e=[this].concat(nn(arguments));return St(this,mo(this,Fc,e))},zipAll:function(){var e=[this].concat(nn(arguments));return St(this,mo(this,Fc,e,!0))},zipWith:function(e){var s=nn(arguments);return s[0]=this,St(this,mo(this,e,s))}});var Fi=si.prototype;Fi[so]=!0,Fi[qn]=!0,di(Oi,{get:function(e,s){return this.has(e)?e:s},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}});var Mi=Oi.prototype;Mi.has=or.includes,Mi.contains=Mi.includes,Mi.keys=Mi.values,di(Bn,Na),di(qr,Fi),di(ji,Mi);function Fc(){return nn(arguments)}function Us(g){return So(g)&&Kr(g)}var Li=(function(g){function e(s){return s==null?Qs():Us(s)?s:Qs().withMutations(function(c){var o=Oi(s);Or(o.size),o.forEach(function(u){return c.add(u)})})}return g&&(e.__proto__=g),e.prototype=Object.create(g&&g.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(c){return this(Lr(c).keySeq())},e.prototype.toString=function(){return this.__toString("OrderedSet {","}")},e})(Pa);Li.isOrderedSet=Us;var pi=Li.prototype;pi[qn]=!0,pi.zip=Fi.zip,pi.zipWith=Fi.zipWith,pi.zipAll=Fi.zipAll,pi.__empty=Qs,pi.__make=Mc;function Mc(g,e){var s=Object.create(pi);return s.size=g?g.size:0,s._map=g,s.__ownerID=e,s}var Lc;function Qs(){return Lc||(Lc=Mc(Aa()))}var zd={LeftThenRight:-1,RightThenLeft:1};function Kd(g){if(kn(g))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(kr(g))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(g===null||typeof g!="object")throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}var Qt=function(e,s){var c;Kd(e);var o=function(r){var n=this;if(r instanceof o)return r;if(!(this instanceof o))return new o(r);if(!c){c=!0;var t=Object.keys(e),a=u._indices={};u._name=s,u._keys=t,u._defaultValues=e;for(var l=0;l<t.length;l++){var d=t[l];a[d]=l,u[d]?typeof console=="object"&&console.warn&&console.warn("Cannot define "+$s(this)+' with property "'+d+'" since that property name is part of the Record API.'):Xd(u,d)}}return this.__ownerID=void 0,this._values=Oa().withMutations(function(p){p.setSize(n._keys.length),Lr(r).forEach(function(f,h){p.set(n._indices[h],f===n._defaultValues[h]?void 0:f)})}),this},u=o.prototype=Object.create(jt);return u.constructor=o,s&&(o.displayName=s),o};Qt.prototype.toString=function(){for(var e=$s(this)+" { ",s=this._keys,c,o=0,u=s.length;o!==u;o++)c=s[o],e+=(o?", ":"")+c+": "+Ta(this.get(c));return e+" }"},Qt.prototype.equals=function(e){return this===e||kn(e)&&Ci(this).equals(Ci(e))},Qt.prototype.hashCode=function(){return Ci(this).hashCode()},Qt.prototype.has=function(e){return this._indices.hasOwnProperty(e)},Qt.prototype.get=function(e,s){if(!this.has(e))return s;var c=this._indices[e],o=this._values.get(c);return o===void 0?this._defaultValues[e]:o},Qt.prototype.set=function(e,s){if(this.has(e)){var c=this._values.set(this._indices[e],s===this._defaultValues[e]?void 0:s);if(c!==this._values&&!this.__ownerID)return Vs(this,c)}return this},Qt.prototype.remove=function(e){return this.set(e)},Qt.prototype.clear=function(){var e=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:Vs(this,e)},Qt.prototype.wasAltered=function(){return this._values.wasAltered()},Qt.prototype.toSeq=function(){return Ci(this)},Qt.prototype.toJS=function(){return xo(this)},Qt.prototype.entries=function(){return this.__iterator(wr)},Qt.prototype.__iterator=function(e,s){return Ci(this).__iterator(e,s)},Qt.prototype.__iterate=function(e,s){return Ci(this).__iterate(e,s)},Qt.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var s=this._values.__ensureOwner(e);return e?Vs(this,s,e):(this.__ownerID=e,this._values=s,this)},Qt.isRecord=kn,Qt.getDescriptiveName=$s;var jt=Qt.prototype;jt[Nu]=!0,jt[la]=jt.remove,jt.deleteIn=jt.removeIn=Rs,jt.getIn=Ic,jt.hasIn=or.hasIn,jt.merge=Wu,jt.mergeWith=Yu,jt.mergeIn=Ts,jt.mergeDeep=ec,jt.mergeDeepWith=tc,jt.mergeDeepIn=ws,jt.setIn=Os,jt.update=Ss,jt.updateIn=Es,jt.withMutations=ba,jt.asMutable=ha,jt.asImmutable=fa,jt[lo]=jt.entries,jt.toJSON=jt.toObject=or.toObject,jt.inspect=jt.toSource=function(){return this.toString()};function Vs(g,e,s){var c=Object.create(Object.getPrototypeOf(g));return c._values=e,c.__ownerID=s,c}function $s(g){return g.constructor.displayName||g.constructor.name||"Record"}function Ci(g){return os(g._keys.map(function(e){return[e,g.get(e)]}))}function Xd(g,e){try{Object.defineProperty(g,e,{get:function(){return this.get(e)},set:function(s){va(this.__ownerID,"Cannot set on an immutable record."),this.set(e,s)}})}catch{}}var Jd=(function(g){function e(s,c){if(!(this instanceof e))return new e(s,c);if(this._value=s,this.size=c===void 0?1/0:Math.max(0,c),this.size===0){if(Gs)return Gs;Gs=this}}return g&&(e.__proto__=g),e.prototype=Object.create(g&&g.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},e.prototype.get=function(c,o){return this.has(c)?this._value:o},e.prototype.includes=function(c){return Yt(this._value,c)},e.prototype.slice=function(c,o){var u=this.size;return da(c,o,u)?this:new e(this._value,pa(o,u)-xi(c,u))},e.prototype.reverse=function(){return this},e.prototype.indexOf=function(c){return Yt(this._value,c)?0:-1},e.prototype.lastIndexOf=function(c){return Yt(this._value,c)?this.size:-1},e.prototype.__iterate=function(c,o){for(var u=this.size,i=0;i!==u&&c(this._value,o?u-++i:i++,this)!==!1;);return i},e.prototype.__iterator=function(c,o){var u=this,i=this.size,r=0;return new vt(function(){return r===i?ir():Pt(c,o?i-++r:r++,u._value)})},e.prototype.equals=function(c){return c instanceof e?Yt(this._value,c._value):ks(this,c)},e})(qr),Gs;function Wd(g,e){return Cc([],e||Yd,g,"",e&&e.length>2?[]:void 0,{"":g})}function Cc(g,e,s,c,o,u){if(typeof s!="string"&&!kr(s)&&(ns(s)||Zo(s)||_s(s))){if(~g.indexOf(s))throw new TypeError("Cannot convert circular structure to Immutable");g.push(s),o&&c!==""&&o.push(c);var i=e.call(u,c,ar(s).map(function(r,n){return Cc(g,e,r,n,o,s)}),o&&o.slice());return g.pop(),o&&o.pop(),i}return s}function Yd(g,e){return fr(e)?e.toList():At(e)?e.toMap():e.toSet()}var Zd="5.1.4",ep=Wt,tp=Object.freeze({__proto__:null,Collection:Wt,Iterable:ep,List:Oa,Map:ci,OrderedMap:on,OrderedSet:Li,PairSorting:zd,Range:xc,Record:Qt,Repeat:Jd,Seq:ar,Set:Pa,Stack:To,fromJS:Wd,get:Ns,getIn:Bs,has:dc,hasIn:Nc,hash:yr,is:Yt,isAssociative:co,isCollection:hr,isImmutable:kr,isIndexed:fr,isKeyed:At,isList:Ds,isMap:vo,isOrdered:Kr,isOrderedMap:Ms,isOrderedSet:Us,isPlainObject:_s,isRecord:kn,isSeq:fo,isSet:So,isStack:wo,isValueObject:bs,merge:xd,mergeDeep:jd,mergeDeepWith:Pd,mergeWith:Ad,remove:pc,removeIn:yc,set:fc,setIn:rc,update:vs,updateIn:li,version:Zd}),rp=Ys(tp),kc;function qc(){if(kc)return oi;kc=1,Object.defineProperty(oi,"__esModule",{value:!0}),oi.ActionContextKey=oi.ActionContext=void 0;const g=rp;let e=class ao{constructor(o={}){this.map=(0,g.Map)(o)}setDefault(o,u){return this.has(o)?this:this.set(o,u)}set(o,u){return this.setRaw(o.name,u)}setRaw(o,u){return new ao(this.map.set(o,u))}delete(o){return new ao(this.map.delete(o.name))}get(o){return this.getRaw(o.name)}getRaw(o){return this.map.get(o)}getSafe(o){if(!this.has(o))throw new Error(`Context entry ${o.name} is required but not available`);return this.get(o)}has(o){return this.hasRaw(o.name)}hasRaw(o){return this.map.has(o)}merge(...o){let u=this;for(const i of o)for(const r of i.keys())u=u.set(r,i.get(r));return u}keys(){return[...this.map.keys()].map(o=>new s(o))}toJS(){return this.map.toJS()}toString(){return`ActionContext(${JSON.stringify(this.map.toJS())})`}[Symbol.for("nodejs.util.inspect.custom")](){return`ActionContext(${JSON.stringify(this.map.toJS(),null,"  ")})`}static ensureActionContext(o){return o instanceof ao?o:new ao((0,g.Map)(o??{}))}};oi.ActionContext=e;class s{constructor(o){this.name=o}}return oi.ActionContextKey=s,oi}var Ra={},Bc;function Uc(){if(Bc)return Ra;Bc=1,Object.defineProperty(Ra,"__esModule",{value:!0}),Ra.Bus=void 0;let g=class{constructor(s){this.actors=[],this.observers=[],this.dependencyLinks=new Map,Object.assign(this,s),this.failMessage=`All actors over bus ${this.name} failed to handle an action`}subscribe(s){this.actors.push(s),this.reorderForDependencies()}subscribeObserver(s){this.observers.push(s)}unsubscribe(s){const c=this.actors.indexOf(s);return c>=0?(this.actors.splice(c,1),!0):!1}unsubscribeObserver(s){const c=this.observers.indexOf(s);return c>=0?(this.observers.splice(c,1),!0):!1}publish(s){return this.actors.map(c=>({actor:c,reply:c.test(s)}))}onRun(s,c,o){for(const u of this.observers)u.onRun(s,c,o)}addDependencies(s,c){for(const o of c){let u=this.dependencyLinks.get(o);u||(u=[],this.dependencyLinks.set(o,u)),u.push(s)}this.reorderForDependencies()}reorderForDependencies(){if(this.dependencyLinks.size>0){const s=[];for(const c of this.dependencyLinks.keys()){const o=this.actors.indexOf(c);o>=0&&(this.actors.splice(o,1),s.push(c))}for(;s.length>0;){let c=-1;for(let u=0;u<s.length;u++){let i=!0;for(const r of this.dependencyLinks.get(s[u]))if(!this.actors.includes(r)&&s.includes(r)){i=!1;break}if(i){c=u;break}}if(c<0)throw new Error(`Cyclic dependency links detected in bus ${this.name}`);const o=s.splice(c,1)[0];this.actors.push(o)}}}};return Ra.Bus=g,Ra}var Da={},Qc;function np(){if(Qc)return Da;Qc=1,Object.defineProperty(Da,"__esModule",{value:!0}),Da.BusIndexed=void 0;const g=Uc();let e=class extends g.Bus{constructor(c){super(c),this.actorsIndex={}}subscribe(c){const o=this.getActorIdentifiers(c)??["_undefined_"];for(const u of o){let i=this.actorsIndex[u];i||(i=this.actorsIndex[u]=[]),i.push(c),super.subscribe(c)}}unsubscribe(c){const o=this.getActorIdentifiers(c)??["_undefined_"];let u=!1;for(const i of o){const r=this.actorsIndex[i];if(r){const n=r.indexOf(c);n>=0&&r.splice(n,1),r.length===0&&delete this.actorsIndex[i]}u=u||super.unsubscribe(c)}return u}publish(c){const o=this.getActionIdentifier(c);return o?[...this.actorsIndex[o]||[],...this.actorsIndex._undefined_||[]].map(i=>({actor:i,reply:i.test(c)})):super.publish(c)}getActorIdentifiers(c){const o=this.actorIdentifierFields.reduce((u,i)=>u[i],c);if(o)return Array.isArray(o)?o:[o]}getActionIdentifier(c){return this.actionIdentifierFields.reduce((o,u)=>o[u],c)}};return Da.BusIndexed=e,Da}var Fa={},Vc;function $c(){if(Vc)return Fa;Vc=1,Object.defineProperty(Fa,"__esModule",{value:!0}),Fa.CONTEXT_KEY_LOGGER=void 0;const g=qc();return Fa.CONTEXT_KEY_LOGGER=new g.ActionContextKey("@comunica/core:log"),Fa}var Ma={},Gc;function ip(){if(Gc)return Ma;Gc=1,Object.defineProperty(Ma,"__esModule",{value:!0}),Ma.ActionObserver=void 0;let g=class{constructor(s){Object.assign(this,s)}};return Ma.ActionObserver=g,Ma}var La={},Hc;function ap(){if(Hc)return La;Hc=1,Object.defineProperty(La,"__esModule",{value:!0}),La.Actor=void 0;const g=$c();let e=class Ti{constructor(c){this.beforeActors=[],Object.assign(this,c),this.bus.subscribe(this),this.beforeActors.length>0&&this.bus.addDependencies(this,this.beforeActors),c.busFailMessage&&(this.bus.failMessage=c.busFailMessage)}static getContextLogger(c){return c.get(g.CONTEXT_KEY_LOGGER)}runObservable(c,o){const u=this.run(c,o);return this.bus.onRun(this,c,u),u}getDefaultLogData(c,o){const u=o?o():{};return u.actor=this.name,u}logTrace(c,o,u){const i=Ti.getContextLogger(c);i&&i.trace(o,this.getDefaultLogData(c,u))}logDebug(c,o,u){const i=Ti.getContextLogger(c);i&&i.debug(o,this.getDefaultLogData(c,u))}logInfo(c,o,u){const i=Ti.getContextLogger(c);i&&i.info(o,this.getDefaultLogData(c,u))}logWarn(c,o,u){const i=Ti.getContextLogger(c);i&&i.warn(o,this.getDefaultLogData(c,u))}logError(c,o,u){const i=Ti.getContextLogger(c);i&&i.error(o,this.getDefaultLogData(c,u))}logFatal(c,o,u){const i=Ti.getContextLogger(c);i&&i.fatal(o,this.getDefaultLogData(c,u))}};return La.Actor=e,La}var Ca={},zc;function op(){if(zc)return Ca;zc=1,Object.defineProperty(Ca,"__esModule",{value:!0}),Ca.Mediator=void 0;let g=class Xs{constructor(s){Object.assign(this,s)}publish(s){const c=this.bus.publish(s);if(c.length===0)throw new Error(`No actors are able to reply to a message in the bus ${this.bus.name}`);return c}async mediateActor(s){return await this.mediateWith(s,this.publish(s))}async mediateTestable(s){return(await this.mediateActor(s)).mapAsync((o,u)=>o.runObservable(s,u))}async mediate(s){return(await this.mediateTestable(s)).getOrThrow()}constructFailureMessage(s,c){const o=`
        `;return`${this.bus.failMessage.replaceAll(/\$\{(.*?)\}/gu,(i,r)=>Xs.getObjectValue({action:s},r.split("."))||i)}
    Error messages of failing actors:${o}${c.join(o)}`}static getObjectValue(s,c){if(c.length===0)return s;if(s)return Xs.getObjectValue(s[c[0]],c.slice(1))}};return Ca.Mediator=g,Ca}var tr={},Kc;function sp(){if(Kc)return tr;Kc=1,Object.defineProperty(tr,"__esModule",{value:!0}),tr.TestResultFailed=tr.TestResultPassed=tr.failTest=tr.passTestVoidWithSideData=tr.passTestWithSideData=tr.passTestVoid=tr.passTest=void 0;function g(r){return new u(r,void 0)}tr.passTest=g;function e(){return new u(!0,void 0)}tr.passTestVoid=e;function s(r,n){return new u(r,n)}tr.passTestWithSideData=s;function c(r){return new u(!0,r)}tr.passTestVoidWithSideData=c;function o(r){return new i(r)}tr.failTest=o;class u{constructor(n,t){this.value=n,this.sideData=t}isPassed(){return!0}isFailed(){return!1}get(){return this.value}getOrThrow(){return this.value}getSideData(){return this.sideData}getFailMessage(){}map(n){return new u(n(this.value,this.sideData),this.sideData)}async mapAsync(n){return new u(await n(this.value,this.sideData),this.sideData)}}tr.TestResultPassed=u;class i{constructor(n){this.failMessage=n}isPassed(){return!1}isFailed(){return!0}get(){}getOrThrow(){throw new Error(this.getFailMessage())}getSideData(){throw new Error(this.getFailMessage())}getFailMessage(){return this.failMessage}map(){return this}async mapAsync(){return this}}return tr.TestResultFailed=i,tr}var Xc;function Hs(){return Xc||(Xc=1,(function(g){var e=ai&&ai.__createBinding||(Object.create?(function(c,o,u,i){i===void 0&&(i=u);var r=Object.getOwnPropertyDescriptor(o,u);(!r||("get"in r?!o.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return o[u]}}),Object.defineProperty(c,i,r)}):(function(c,o,u,i){i===void 0&&(i=u),c[i]=o[u]})),s=ai&&ai.__exportStar||function(c,o){for(var u in c)u!=="default"&&!Object.prototype.hasOwnProperty.call(o,u)&&e(o,c,u)};Object.defineProperty(g,"__esModule",{value:!0}),s(qc(),g),s(Uc(),g),s(np(),g),s($c(),g),s(ip(),g),s(ap(),g),s(op(),g),s(sp(),g)})(ai)),ai}var Jc;function up(){if(Jc)return ca;Jc=1,Object.defineProperty(ca,"__esModule",{value:!0}),ca.ActorQueryProcess=void 0;const g=Hs();let e=class extends g.Actor{constructor(c){super(c)}};return ca.ActorQueryProcess=e,ca}var Wc;function cp(){return Wc||(Wc=1,(function(g){var e=ii&&ii.__createBinding||(Object.create?(function(c,o,u,i){i===void 0&&(i=u);var r=Object.getOwnPropertyDescriptor(o,u);(!r||("get"in r?!o.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return o[u]}}),Object.defineProperty(c,i,r)}):(function(c,o,u,i){i===void 0&&(i=u),c[i]=o[u]})),s=ii&&ii.__exportStar||function(c,o){for(var u in c)u!=="default"&&!Object.prototype.hasOwnProperty.call(o,u)&&e(o,c,u)};Object.defineProperty(g,"__esModule",{value:!0}),s(up(),g)})(ii)),ii}var fi={},_t={},Yc;function lp(){if(Yc)return _t;Yc=1,Object.defineProperty(_t,"__esModule",{value:!0}),_t.KeysStatistics=_t.KeysRdfJoin=_t.KeysMergeBindingsContext=_t.KeysRdfUpdateQuads=_t.KeysQuerySourceIdentify=_t.KeysRdfParseHtmlScript=_t.KeysRdfParseJsonLd=_t.KeysQueryOperation=_t.KeysExpressionEvaluator=_t.KeysInitQuery=_t.KeysHttpProxy=_t.KeysHttpMemento=_t.KeysHttpWayback=_t.KeysHttp=_t.KeysCore=void 0;const g=Hs();return _t.KeysCore={log:g.CONTEXT_KEY_LOGGER},_t.KeysHttp={includeCredentials:new g.ActionContextKey("@comunica/bus-http:include-credentials"),auth:new g.ActionContextKey("@comunica/bus-http:auth"),fetch:new g.ActionContextKey("@comunica/bus-http:fetch"),httpTimeout:new g.ActionContextKey("@comunica/bus-http:http-timeout"),httpBodyTimeout:new g.ActionContextKey("@comunica/bus-http:http-body-timeout"),httpRetryCount:new g.ActionContextKey("@comunica/bus-http:http-retry-count"),httpRetryDelayFallback:new g.ActionContextKey("@comunica/bus-http:http-retry-delay-fallback"),httpRetryDelayLimit:new g.ActionContextKey("@comunica/bus-http:http-retry-delay-limit"),httpRetryStatusCodes:new g.ActionContextKey("@comunica/bus-http:http-retry-status-codes")},_t.KeysHttpWayback={recoverBrokenLinks:new g.ActionContextKey("@comunica/bus-http:recover-broken-links")},_t.KeysHttpMemento={datetime:new g.ActionContextKey("@comunica/actor-http-memento:datetime")},_t.KeysHttpProxy={httpProxyHandler:new g.ActionContextKey("@comunica/actor-http-proxy:httpProxyHandler")},_t.KeysInitQuery={querySourcesUnidentified:new g.ActionContextKey("@comunica/actor-init-query:querySourcesUnidentified"),initialBindings:new g.ActionContextKey("@comunica/actor-init-query:initialBindings"),queryFormat:new g.ActionContextKey("@comunica/actor-init-query:queryFormat"),graphqlSingularizeVariables:new g.ActionContextKey("@comunica/actor-init-query:singularizeVariables"),lenient:new g.ActionContextKey("@comunica/actor-init-query:lenient"),queryString:new g.ActionContextKey("@comunica/actor-init-query:queryString"),query:new g.ActionContextKey("@comunica/actor-init-query:query"),baseIRI:new g.ActionContextKey("@comunica/actor-init-query:baseIRI"),fileBaseIRI:new g.ActionContextKey("@comunica/actor-init-query:fileBaseIRI"),functionArgumentsCache:new g.ActionContextKey("@comunica/actor-init-query:functionArgumentsCache"),queryTimestamp:new g.ActionContextKey("@comunica/actor-init-query:queryTimestamp"),queryTimestampHighResolution:new g.ActionContextKey("@comunica/actor-init-query:queryTimestampHighResolution"),extensionFunctionCreator:new g.ActionContextKey("@comunica/actor-init-query:extensionFunctionCreator"),extensionFunctions:new g.ActionContextKey("@comunica/actor-init-query:extensionFunctions"),extensionFunctionsAlwaysPushdown:new g.ActionContextKey("@comunica/actor-init-query:extensionFunctionsAlwaysPushdown"),cliArgsHandlers:new g.ActionContextKey("@comunica/actor-init-query:cliArgsHandlers"),explain:new g.ActionContextKey("@comunica/actor-init-query:explain"),physicalQueryPlanLogger:new g.ActionContextKey("@comunica/actor-init-query:physicalQueryPlanLogger"),physicalQueryPlanNode:new g.ActionContextKey("@comunica/actor-init-query:physicalQueryPlanNode"),jsonLdContext:new g.ActionContextKey("@context"),invalidateCache:new g.ActionContextKey("@comunica/actor-init-query:invalidateCache"),dataFactory:new g.ActionContextKey("@comunica/actor-init-query:dataFactory"),distinctConstruct:new g.ActionContextKey("@comunica/actor-init-query:distinctConstruct")},_t.KeysExpressionEvaluator={extensionFunctionCreator:new g.ActionContextKey("@comunica/utils-expression-evaluator:extensionFunctionCreator"),superTypeProvider:new g.ActionContextKey("@comunica/utils-expression-evaluator:superTypeProvider"),defaultTimeZone:new g.ActionContextKey("@comunica/utils-expression-evaluator:defaultTimeZone"),actionContext:new g.ActionContextKey("@comunica/utils-expression-evaluator:actionContext")},_t.KeysQueryOperation={operation:new g.ActionContextKey("@comunica/bus-query-operation:operation"),joinLeftMetadata:new g.ActionContextKey("@comunica/bus-query-operation:joinLeftMetadata"),joinRightMetadatas:new g.ActionContextKey("@comunica/bus-query-operation:joinRightMetadatas"),joinBindings:new g.ActionContextKey("@comunica/bus-query-operation:joinBindings"),readOnly:new g.ActionContextKey("@comunica/bus-query-operation:readOnly"),isPathArbitraryLengthDistinctKey:new g.ActionContextKey("@comunica/bus-query-operation:isPathArbitraryLengthDistinct"),limitIndicator:new g.ActionContextKey("@comunica/bus-query-operation:limitIndicator"),unionDefaultGraph:new g.ActionContextKey("@comunica/bus-query-operation:unionDefaultGraph"),querySources:new g.ActionContextKey("@comunica/bus-query-operation:querySources")},_t.KeysRdfParseJsonLd={documentLoader:new g.ActionContextKey("@comunica/actor-rdf-parse-jsonld:documentLoader"),strictValues:new g.ActionContextKey("@comunica/actor-rdf-parse-jsonld:strictValues"),parserOptions:new g.ActionContextKey("@comunica/actor-rdf-parse-jsonld:parserOptions")},_t.KeysRdfParseHtmlScript={processingHtmlScript:new g.ActionContextKey("@comunica/actor-rdf-parse-html-script:processingHtmlScript"),extractAllScripts:new g.ActionContextKey("extractAllScripts")},_t.KeysQuerySourceIdentify={sourceIds:new g.ActionContextKey("@comunica/bus-query-source-identify:sourceIds"),hypermediaSourcesAggregatedStores:new g.ActionContextKey("@comunica/bus-query-source-identify:hypermediaSourcesAggregatedStores"),traverse:new g.ActionContextKey("@comunica/bus-query-source-identify:traverse")},_t.KeysRdfUpdateQuads={destination:new g.ActionContextKey("@comunica/bus-rdf-update-quads:destination")},_t.KeysMergeBindingsContext={sourcesBinding:new g.ActionContextKey("@comunica/bus-merge-bindings-context:sourcesBinding")},_t.KeysRdfJoin={lastPhysicalJoin:new g.ActionContextKey("@comunica/bus-rdf-join:lastPhysicalJoin")},_t.KeysStatistics={discoveredLinks:new g.ActionContextKey("@comunica/statistic:discoveredLinks"),dereferencedLinks:new g.ActionContextKey("@comunica/statistic:dereferencedLinks"),intermediateResults:new g.ActionContextKey("@comunica/statistic:intermediateResults")},_t}var Zc;function dp(){return Zc||(Zc=1,(function(g){var e=fi&&fi.__createBinding||(Object.create?(function(c,o,u,i){i===void 0&&(i=u);var r=Object.getOwnPropertyDescriptor(o,u);(!r||("get"in r?!o.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return o[u]}}),Object.defineProperty(c,i,r)}):(function(c,o,u,i){i===void 0&&(i=u),c[i]=o[u]})),s=fi&&fi.__exportStar||function(c,o){for(var u in c)u!=="default"&&!Object.prototype.hasOwnProperty.call(o,u)&&e(o,c,u)};Object.defineProperty(g,"__esModule",{value:!0}),s(lp(),g)})(fi)),fi}var hi={},zs={},rr={},yi={},ka={},el;function tl(){if(el)return ka;el=1,Object.defineProperty(ka,"__esModule",{value:!0}),ka.BlankNode=void 0;let g=class{constructor(s){this.termType="BlankNode",this.value=s}equals(s){return!!s&&s.termType==="BlankNode"&&s.value===this.value}};return ka.BlankNode=g,ka}var qa={},Ba={},rl;function nl(){if(rl)return Ba;rl=1,Object.defineProperty(Ba,"__esModule",{value:!0}),Ba.DefaultGraph=void 0;let g=class{constructor(){this.termType="DefaultGraph",this.value=""}equals(s){return!!s&&s.termType==="DefaultGraph"}};return Ba.DefaultGraph=g,g.INSTANCE=new g,Ba}var Ua={},Qa={},il;function Ks(){if(il)return Qa;il=1,Object.defineProperty(Qa,"__esModule",{value:!0}),Qa.NamedNode=void 0;let g=class{constructor(s){this.termType="NamedNode",this.value=s}equals(s){return!!s&&s.termType==="NamedNode"&&s.value===this.value}};return Qa.NamedNode=g,Qa}var al;function ol(){if(al)return Ua;al=1,Object.defineProperty(Ua,"__esModule",{value:!0}),Ua.Literal=void 0;const g=Ks();let e=class Js{constructor(c,o){this.termType="Literal",this.value=c,typeof o=="string"?(this.language=o,this.datatype=Js.RDF_LANGUAGE_STRING):o?(this.language="",this.datatype=o):(this.language="",this.datatype=Js.XSD_STRING)}equals(c){return!!c&&c.termType==="Literal"&&c.value===this.value&&c.language===this.language&&this.datatype.equals(c.datatype)}};return Ua.Literal=e,e.RDF_LANGUAGE_STRING=new g.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),e.XSD_STRING=new g.NamedNode("http://www.w3.org/2001/XMLSchema#string"),Ua}var Va={},sl;function ul(){if(sl)return Va;sl=1,Object.defineProperty(Va,"__esModule",{value:!0}),Va.Quad=void 0;let g=class{constructor(s,c,o,u){this.termType="Quad",this.value="",this.subject=s,this.predicate=c,this.object=o,this.graph=u}equals(s){return!!s&&(s.termType==="Quad"||!s.termType)&&this.subject.equals(s.subject)&&this.predicate.equals(s.predicate)&&this.object.equals(s.object)&&this.graph.equals(s.graph)}};return Va.Quad=g,Va}var $a={},cl;function ll(){if(cl)return $a;cl=1,Object.defineProperty($a,"__esModule",{value:!0}),$a.Variable=void 0;let g=class{constructor(s){this.termType="Variable",this.value=s}equals(s){return!!s&&s.termType==="Variable"&&s.value===this.value}};return $a.Variable=g,$a}var dl;function pp(){if(dl)return qa;dl=1,Object.defineProperty(qa,"__esModule",{value:!0}),qa.DataFactory=void 0;const g=tl(),e=nl(),s=ol(),c=Ks(),o=ul(),u=ll();let i=0,r=class{constructor(t){this.blankNodeCounter=0,t=t||{},this.blankNodePrefix=t.blankNodePrefix||`df_${i++}_`}namedNode(t){return new c.NamedNode(t)}blankNode(t){return new g.BlankNode(t||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(t,a){return new s.Literal(t,a)}variable(t){return new u.Variable(t)}defaultGraph(){return e.DefaultGraph.INSTANCE}quad(t,a,l,d){return new o.Quad(t,a,l,d||this.defaultGraph())}fromTerm(t){switch(t.termType){case"NamedNode":return this.namedNode(t.value);case"BlankNode":return this.blankNode(t.value);case"Literal":return t.language?this.literal(t.value,t.language):t.datatype.equals(s.Literal.XSD_STRING)?this.literal(t.value):this.literal(t.value,this.fromTerm(t.datatype));case"Variable":return this.variable(t.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(t.subject),this.fromTerm(t.predicate),this.fromTerm(t.object),this.fromTerm(t.graph))}}fromQuad(t){return this.fromTerm(t)}resetBlankNodeCounter(){this.blankNodeCounter=0}};return qa.DataFactory=r,qa}var pl;function fp(){return pl||(pl=1,(function(g){var e=yi&&yi.__createBinding||(Object.create?(function(c,o,u,i){i===void 0&&(i=u);var r=Object.getOwnPropertyDescriptor(o,u);(!r||("get"in r?!o.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return o[u]}}),Object.defineProperty(c,i,r)}):(function(c,o,u,i){i===void 0&&(i=u),c[i]=o[u]})),s=yi&&yi.__exportStar||function(c,o){for(var u in c)u!=="default"&&!Object.prototype.hasOwnProperty.call(o,u)&&e(o,c,u)};Object.defineProperty(g,"__esModule",{value:!0}),s(tl(),g),s(pp(),g),s(nl(),g),s(ol(),g),s(Ks(),g),s(ul(),g),s(ll(),g)})(yi)),yi}var fl;function hp(){if(fl)return rr;fl=1,Object.defineProperty(rr,"__esModule",{value:!0}),rr.stringQuadToQuad=rr.quadToStringQuad=rr.stringToTerm=rr.getLiteralLanguage=rr.getLiteralType=rr.getLiteralValue=rr.termToString=void 0;const g=fp(),e=new g.DataFactory;function s(t){if(t)switch(t.termType){case"NamedNode":return t.value;case"BlankNode":return"_:"+t.value;case"Literal":const a=t;return'"'+a.value+'"'+(a.datatype&&a.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&a.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?"^^"+a.datatype.value:"")+(a.language?"@"+a.language:"");case"Quad":return`<<${s(t.subject)} ${s(t.predicate)} ${s(t.object)}${t.graph.termType==="DefaultGraph"?"":" "+s(t.graph)}>>`;case"Variable":return"?"+t.value;case"DefaultGraph":return t.value}}rr.termToString=s;function c(t){const a=/^"([^]*)"/.exec(t);if(!a)throw new Error(t+" is not a literal");return a[1]}rr.getLiteralValue=c;function o(t){const a=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(t);if(!a)throw new Error(t+" is not a literal");return a[1]||(a[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}rr.getLiteralType=o;function u(t){const a=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(t);if(!a)throw new Error(t+" is not a literal");return a[1]?a[1].toLowerCase():""}rr.getLiteralLanguage=u;function i(t,a){if(a=a||e,!t||!t.length)return a.defaultGraph();switch(t[0]){case"_":return a.blankNode(t.substr(2));case"?":if(!a.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return a.variable(t.substr(1));case'"':const l=u(t),d=a.namedNode(o(t));return a.literal(c(t),l||d);case"<":default:if(t[0]==="<"&&t.length>4&&t[1]==="<"&&t[t.length-1]===">"&&t[t.length-2]===">"){const p=t.slice(2,-2).trim();let f=[],h=0,y=0,m=!1;for(let b=0;b<p.length;b++){const v=p[b];if(v==="<"&&h++,v===">"){if(h===0)throw new Error("Found closing tag without opening tag in "+t);h--}if(v==='"'){let _=!1,w=b;for(;w-- >0&&p[w]==="\\";)_=!_;_||(m=!m)}if(v===" "&&!m&&h===0){for(f.push(p.slice(y,b));p[b+1]===" ";)b+=1;y=b+1}}if(h!==0)throw new Error("Found opening tag without closing tag in "+t);if(f.push(p.slice(y,p.length)),f.length!==3&&f.length!==4)throw new Error("Nested quad syntax error "+t);return f=f.map(b=>b.startsWith("<")&&!b.includes(" ")?b.slice(1,-1):b),a.quad(i(f[0]),i(f[1]),i(f[2]),f[3]?i(f[3]):void 0)}return a.namedNode(t)}}rr.stringToTerm=i;function r(t){return{subject:s(t.subject),predicate:s(t.predicate),object:s(t.object),graph:s(t.graph)}}rr.quadToStringQuad=r;function n(t,a){return a=a||e,a.quad(i(t.subject,a),i(t.predicate,a),i(t.object,a),i(t.graph,a))}return rr.stringQuadToQuad=n,rr}var hl;function yp(){return hl||(hl=1,(function(g){Object.defineProperty(g,"__esModule",{value:!0}),g.termToString=g.stringToTerm=g.stringQuadToQuad=g.quadToStringQuad=g.getLiteralValue=g.getLiteralType=g.getLiteralLanguage=void 0;const e=hp();Object.defineProperty(g,"getLiteralLanguage",{enumerable:!0,get:function(){return e.getLiteralLanguage}}),Object.defineProperty(g,"getLiteralType",{enumerable:!0,get:function(){return e.getLiteralType}}),Object.defineProperty(g,"getLiteralValue",{enumerable:!0,get:function(){return e.getLiteralValue}}),Object.defineProperty(g,"quadToStringQuad",{enumerable:!0,get:function(){return e.quadToStringQuad}}),Object.defineProperty(g,"stringQuadToQuad",{enumerable:!0,get:function(){return e.stringQuadToQuad}}),Object.defineProperty(g,"stringToTerm",{enumerable:!0,get:function(){return e.stringToTerm}}),Object.defineProperty(g,"termToString",{enumerable:!0,get:function(){return e.termToString}})})(zs)),zs}var yl;function gl(){if(yl)return hi;yl=1,Object.defineProperty(hi,"__esModule",{value:!0}),hi.numberToString=hi.MemoryPhysicalQueryPlanLogger=void 0;const g=yp();let e=class{constructor(){this.planNodes=new Map}logOperation(o,u,i,r,n,t){const a={actor:n,logicalOperator:o,physicalOperator:u,rawNode:i,children:[],metadata:t};if(this.planNodes.set(i,a),this.rootNode){if(!r)throw new Error("Detected more than one parent-less node");const l=this.planNodes.get(r);if(!l)throw new Error("Could not find parent node");l.children.push(a)}else{if(r)throw new Error("No root node has been set yet, while a parent is being referenced");this.rootNode=a}}stashChildren(o,u){const i=this.planNodes.get(o);if(!i)throw new Error("Could not find plan node");i.children=u?i.children.filter(u):[]}unstashChild(o,u){const i=this.planNodes.get(o);if(i){const r=this.planNodes.get(u);if(!r)throw new Error("Could not find plan parent node");r.children.push(i)}}appendMetadata(o,u){const i=this.planNodes.get(o);i&&(i.metadata={...i.metadata,...u})}toJson(){return this.rootNode?this.planNodeToJson(this.rootNode):{}}planNodeToJson(o){const u={logical:o.logicalOperator,physical:o.physicalOperator,...this.getLogicalMetadata(o.rawNode),...this.compactMetadata(o.metadata)};if(o.children.length>0&&(u.children=o.children.map(i=>this.planNodeToJson(i))),u.physical==="bind"&&u.children){const i={};for(const n of u.children){const t=n.children?.at(-1)??n,a=this.getPlanHash(t).join(",");i[a]||(i[a]=[]),i[a].push(n)}const r=[];for(const n of Object.values(i))r.push({occurrences:n.length,firstOccurrence:n[0]});u.childrenCompact=r,delete u.children}return u}getPlanHash(o){let u=[`${o.logical}-${o.physical}`];return o.children?u=[...u,...o.children.flatMap(i=>this.getPlanHash(i))]:o.childrenCompact&&(u=[...u,...o.childrenCompact.flatMap(i=>this.getPlanHash(i.firstOccurrence))]),u}compactMetadata(o){return Object.fromEntries(Object.entries(o).map(([u,i])=>[u,this.compactMetadataValue(i)]))}compactMetadataValue(o){return o&&typeof o=="object"&&"termType"in o?this.getLogicalMetadata(o):o}getLogicalMetadata(o){const u={};if("type"in o){const i=o;switch(i.metadata?.scopedSource&&(u.source=i.metadata.scopedSource.source.toString()),i.type){case"pattern":u.pattern=this.quadToString(i);break;case"project":u.variables=i.variables.map(r=>r.value);break}}return u}quadToString(o){return`${(0,g.termToString)(o.subject)} ${(0,g.termToString)(o.predicate)} ${(0,g.termToString)(o.object)}${o.graph.termType==="DefaultGraph"?"":` ${(0,g.termToString)(o.graph)}`}`}toCompactString(){const o=this.toJson(),u=[],i=new Map;if("logical"in o?this.nodeToCompactString(u,i,"",o):u.push("Empty"),i.size>0){u.push(""),u.push("sources:");for(const[r,n]of i.entries())u.push(`  ${n}: ${r}`)}return u.join(`
`)}nodeToCompactString(o,u,i,r,n){let t;r.source&&(t=u.get(r.source),t===void 0&&(t=u.size,u.set(r.source,t))),o.push(`${i}${r.logical}${r.physical?`(${r.physical})`:""}${r.pattern?` (${r.pattern})`:""}${r.variables?` (${r.variables.join(",")})`:""}${r.bindOperation?` bindOperation:(${r.bindOperation.pattern}) bindCardEst:${r.bindOperationCardinality.type==="estimate"?"~":""}${s(r.bindOperationCardinality.value)}`:""}${r.cardinality?` cardEst:${r.cardinality.type==="estimate"?"~":""}${s(r.cardinality.value)}`:""}${r.source?` src:${t}`:""}${r.cardinalityReal?` cardReal:${r.cardinalityReal}`:""}${r.timeSelf?` timeSelf:${s(r.timeSelf)}ms`:""}${r.timeLife?` timeLife:${s(r.timeLife)}ms`:""}${n?` ${n}`:""}`);for(const a of r.children??[])this.nodeToCompactString(o,u,`${i}  `,a);for(const a of r.childrenCompact??[])this.nodeToCompactString(o,u,`${i}  `,a.firstOccurrence,`compacted-occurrences:${a.occurrences}`)}};hi.MemoryPhysicalQueryPlanLogger=e;function s(c){return c.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:3})}return hi.numberToString=s,hi}var ml;function gp(){if(ml)return ua;ml=1,Object.defineProperty(ua,"__esModule",{value:!0}),ua.ActorQueryProcessExplainPhysical=void 0;const g=cp(),e=dp(),s=Hs(),c=gl();let o=class extends g.ActorQueryProcess{constructor(i){super(i)}async test(i){const r=i.context.get(e.KeysInitQuery.explain)??i.context.get(new s.ActionContextKey("explain"));return r!=="physical"&&r!=="physical-json"?(0,s.failTest)(`${this.name} can only explain in 'physical' or 'physical-json' mode.`):(0,s.passTestVoid)()}async run(i){let{operation:r,context:n}=await this.queryProcessor.parse(i.query,i.context);({operation:r,context:n}=await this.queryProcessor.optimize(r,n));const t=new c.MemoryPhysicalQueryPlanLogger;n=n.set(e.KeysInitQuery.physicalQueryPlanLogger,t);const a=await this.queryProcessor.evaluate(r,n);switch(a.type){case"bindings":await a.bindingsStream.toArray();break;case"quads":await a.quadStream.toArray();break;case"boolean":await a.execute();break;case"void":await a.execute();break}const l=i.context.get(e.KeysInitQuery.explain)??i.context.getSafe(new s.ActionContextKey("explain"));return{result:{explain:!0,type:l,data:l==="physical"?t.toCompactString():t.toJson()}}}};return ua.ActorQueryProcessExplainPhysical=o,ua}var bl;function mp(){return bl||(bl=1,(function(g){var e=ni&&ni.__createBinding||(Object.create?(function(c,o,u,i){i===void 0&&(i=u);var r=Object.getOwnPropertyDescriptor(o,u);(!r||("get"in r?!o.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return o[u]}}),Object.defineProperty(c,i,r)}):(function(c,o,u,i){i===void 0&&(i=u),c[i]=o[u]})),s=ni&&ni.__exportStar||function(c,o){for(var u in c)u!=="default"&&!Object.prototype.hasOwnProperty.call(o,u)&&e(o,c,u)};Object.defineProperty(g,"__esModule",{value:!0}),s(gp(),g),s(gl(),g)})(ni)),ni}var bp=mp();class vp extends bp.MemoryPhysicalQueryPlanLogger{n2id=new Map;constructor(e){super(),this.worker=e}getId(e){return this.n2id.has(e)||this.n2id.set(e,this.n2id.size),this.n2id.get(e)}logOperation(e,s,c,o,u,i){super.logOperation(e,s,c,o,u,i);const r=new Tl(e,this.getId(o),this.getId(c),i);this.worker&&this.worker.postMessage(r)}appendMetadata(e,s){super.appendMetadata(e,s);const c=new Ol(this.getId(e),s);this.worker&&this.worker.postMessage(c)}}var ki={};var _p={42:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionXsdToDate=void 0;const c=s(77617),o=s(77545);class u extends c.TermFunctionBase{constructor(){super({arity:1,operator:o.TypeURL.XSD_DATE,overloads:(0,o.declare)(o.TypeURL.XSD_DATE).onUnary(o.TypeURL.XSD_DATE,()=>r=>new o.DateLiteral(r.typedValue,r.strValue)).onUnary(o.TypeURL.XSD_DATE_TIME,()=>r=>new o.DateLiteral(r.typedValue)).onStringly1(()=>r=>new o.DateLiteral((0,o.parseDate)(r.str()))).collect()})}}e.TermFunctionXsdToDate=u},47:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorExpressionEvaluatorFactoryDefault=void 0;const c=s(37811),o=s(90711),u=s(90412),i=s(81926),r=s(77545),n=s(96607),t=s(61549);class a extends c.ActorExpressionEvaluatorFactory{constructor(d){super(d)}async test(d){return(0,u.passTestVoid)()}async run(d){const p=(0,r.prepareEvaluatorActionContext)(d.context);return new t.ExpressionEvaluator(p,await new n.AlgebraTransformer(p,this.mediatorFunctionFactory).transformAlgebra(d.algExpr),this.mediatorFunctionFactory,this.mediatorQueryOperation,await i.BindingsFactory.create(this.mediatorMergeBindingsContext,d.context,d.context.getSafe(o.KeysInitQuery.dataFactory)))}}e.ActorExpressionEvaluatorFactoryDefault=a},89:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermLesserThanEqual=void 0;const c=s(77617),o=s(77545),u=s(7246);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.SparqlOperator.LTE],termFunction:!0}),this.mediatorFunctionFactory=n.mediatorFunctionFactory}async run(n){const t=await this.mediatorFunctionFactory.mediate({functionName:o.SparqlOperator.EQUAL,requireTermExpression:!0,context:n.context,arguments:n.arguments}),a=await this.mediatorFunctionFactory.mediate({functionName:o.SparqlOperator.LT,requireTermExpression:!0,context:n.context,arguments:n.arguments});return new u.TermFunctionLesserThanEqual(t,a)}}e.ActorFunctionFactoryTermLesserThanEqual=i},92:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TypeHandlerBoolean=void 0;const c=s(30103);class o{fromRdf(i,r){switch(i.value){case"true":case"1":return!0;case"false":case"0":return!1}return r&&c.Translator.incorrectRdfDataType(i),!1}toRdf(i,{datatype:r,dataFactory:n}){return n.literal(i?"true":"false",r||n.namedNode(o.TYPE))}}o.TYPE="http://www.w3.org/2001/XMLSchema#boolean",e.TypeHandlerBoolean=o},121:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(18512),e)},251:(g,e)=>{e.read=function(s,c,o,u,i){var r,n,t=8*i-u-1,a=(1<<t)-1,l=a>>1,d=-7,p=o?i-1:0,f=o?-1:1,h=s[c+p];for(p+=f,r=h&(1<<-d)-1,h>>=-d,d+=t;d>0;r=256*r+s[c+p],p+=f,d-=8);for(n=r&(1<<-d)-1,r>>=-d,d+=u;d>0;n=256*n+s[c+p],p+=f,d-=8);if(r===0)r=1-l;else{if(r===a)return n?NaN:1/0*(h?-1:1);n+=Math.pow(2,u),r-=l}return(h?-1:1)*n*Math.pow(2,r-u)},e.write=function(s,c,o,u,i,r){var n,t,a,l=8*r-i-1,d=(1<<l)-1,p=d>>1,f=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=u?0:r-1,y=u?1:-1,m=c<0||c===0&&1/c<0?1:0;for(c=Math.abs(c),isNaN(c)||c===1/0?(t=isNaN(c)?1:0,n=d):(n=Math.floor(Math.log(c)/Math.LN2),c*(a=Math.pow(2,-n))<1&&(n--,a*=2),(c+=n+p>=1?f/a:f*Math.pow(2,1-p))*a>=2&&(n++,a/=2),n+p>=d?(t=0,n=d):n+p>=1?(t=(c*a-1)*Math.pow(2,i),n+=p):(t=c*Math.pow(2,p-1)*Math.pow(2,i),n=0));i>=8;s[o+h]=255&t,h+=y,t/=256,i-=8);for(n=n<<i|t,l+=i;l>0;s[o+h]=255&n,h+=y,n/=256,l-=8);s[o+h-y]|=128*m}},277:(g,e,s)=>{const{ArrayIsArray:c,ArrayPrototypeIncludes:o,ArrayPrototypeJoin:u,ArrayPrototypeMap:i,NumberIsInteger:r,NumberIsNaN:n,NumberMAX_SAFE_INTEGER:t,NumberMIN_SAFE_INTEGER:a,NumberParseInt:l,ObjectPrototypeHasOwnProperty:d,RegExpPrototypeExec:p,String:f,StringPrototypeToUpperCase:h,StringPrototypeTrim:y}=s(24134),{hideStackFrames:m,codes:{ERR_SOCKET_BAD_PORT:b,ERR_INVALID_ARG_TYPE:v,ERR_INVALID_ARG_VALUE:_,ERR_OUT_OF_RANGE:w,ERR_UNKNOWN_SIGNAL:S}}=s(76371),{normalizeEncoding:x}=s(57760),{isAsyncFunction:T,isArrayBufferView:O}=s(57760).types,E={},R=/^[0-7]+$/,M=m((W,ce,de=a,Se=t)=>{if(typeof W!="number")throw new v(ce,"number",W);if(!r(W))throw new w(ce,"an integer",W);if(W<de||W>Se)throw new w(ce,`>= ${de} && <= ${Se}`,W)}),Q=m((W,ce,de=-2147483648,Se=2147483647)=>{if(typeof W!="number")throw new v(ce,"number",W);if(!r(W))throw new w(ce,"an integer",W);if(W<de||W>Se)throw new w(ce,`>= ${de} && <= ${Se}`,W)}),X=m((W,ce,de=!1)=>{if(typeof W!="number")throw new v(ce,"number",W);if(!r(W))throw new w(ce,"an integer",W);const Se=de?1:0,ie=4294967295;if(W<Se||W>ie)throw new w(ce,`>= ${Se} && <= ${ie}`,W)});function V(W,ce){if(typeof W!="string")throw new v(ce,"string",W)}const H=m((W,ce,de)=>{if(!o(de,W)){const Se=u(i(de,ie=>typeof ie=="string"?`'${ie}'`:f(ie)),", ");throw new _(ce,W,"must be one of: "+Se)}});function U(W,ce){if(typeof W!="boolean")throw new v(ce,"boolean",W)}function k(W,ce,de){return W!=null&&d(W,ce)?W[ce]:de}const $=m((W,ce,de=null)=>{const Se=k(de,"allowArray",!1),ie=k(de,"allowFunction",!1);if(!k(de,"nullable",!1)&&W===null||!Se&&c(W)||typeof W!="object"&&(!ie||typeof W!="function"))throw new v(ce,"Object",W)}),ae=m((W,ce)=>{if(W!=null&&typeof W!="object"&&typeof W!="function")throw new v(ce,"a dictionary",W)}),he=m((W,ce,de=0)=>{if(!c(W))throw new v(ce,"Array",W);if(W.length<de)throw new _(ce,W,`must be longer than ${de}`)}),ye=m((W,ce="buffer")=>{if(!O(W))throw new v(ce,["Buffer","TypedArray","DataView"],W)}),I=m((W,ce)=>{if(W!==void 0&&(W===null||typeof W!="object"||!("aborted"in W)))throw new v(ce,"AbortSignal",W)}),j=m((W,ce)=>{if(typeof W!="function")throw new v(ce,"Function",W)}),P=m((W,ce)=>{if(typeof W!="function"||T(W))throw new v(ce,"Function",W)}),L=m((W,ce)=>{if(W!==void 0)throw new v(ce,"undefined",W)}),G=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function te(W,ce){if(W===void 0||!p(G,W))throw new _(ce,W,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}g.exports={isInt32:function(W){return W===(0|W)},isUint32:function(W){return W===W>>>0},parseFileMode:function(W,ce,de){if(W===void 0&&(W=de),typeof W=="string"){if(p(R,W)===null)throw new _(ce,W,"must be a 32-bit unsigned integer or an octal string");W=l(W,8)}return X(W,ce),W},validateArray:he,validateStringArray:function(W,ce){he(W,ce);for(let de=0;de<W.length;de++)V(W[de],`${ce}[${de}]`)},validateBooleanArray:function(W,ce){he(W,ce);for(let de=0;de<W.length;de++)U(W[de],`${ce}[${de}]`)},validateAbortSignalArray:function(W,ce){he(W,ce);for(let de=0;de<W.length;de++){const Se=W[de],ie=`${ce}[${de}]`;if(Se==null)throw new v(ie,"AbortSignal",Se);I(Se,ie)}},validateBoolean:U,validateBuffer:ye,validateDictionary:ae,validateEncoding:function(W,ce){const de=x(ce),Se=W.length;if(de==="hex"&&Se%2!=0)throw new _("encoding",ce,`is invalid for data of length ${Se}`)},validateFunction:j,validateInt32:Q,validateInteger:M,validateNumber:function(W,ce,de=void 0,Se){if(typeof W!="number")throw new v(ce,"number",W);if(de!=null&&W<de||Se!=null&&W>Se||(de!=null||Se!=null)&&n(W))throw new w(ce,`${de!=null?`>= ${de}`:""}${de!=null&&Se!=null?" && ":""}${Se!=null?`<= ${Se}`:""}`,W)},validateObject:$,validateOneOf:H,validatePlainFunction:P,validatePort:function(W,ce="Port",de=!0){if(typeof W!="number"&&typeof W!="string"||typeof W=="string"&&y(W).length===0||+W!==+W>>>0||W>65535||W===0&&!de)throw new b(ce,W,de);return 0|W},validateSignalName:function(W,ce="signal"){if(V(W,ce),E[W]===void 0)throw E[h(W)]!==void 0?new S(W+" (signals must use all capital letters)"):new S(W)},validateString:V,validateUint32:X,validateUndefined:L,validateUnion:function(W,ce,de){if(!o(de,W))throw new v(ce,`('${u(de,"|")}')`,W)},validateAbortSignal:I,validateLinkHeaderValue:function(W){if(typeof W=="string")return te(W,"hints"),W;if(c(W)){const ce=W.length;let de="";if(ce===0)return de;for(let Se=0;Se<ce;Se++){const ie=W[Se];te(ie,"hints"),de+=ie,Se!==ce-1&&(de+=", ")}return de}throw new _("hints",W,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},330:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(47113),e)},445:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},447:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.RdfStore=void 0;const c=s(75627),o=s(28664),u=s(61758),i=s(23261),r=s(37747),n=s(68337),t=s(75237),a=s(95439);class l{constructor(p){this.features={quotedTripleFiltering:!0},this._size=0,this.options=p,this.dataFactory=p.dataFactory,this.dictionary=p.dictionary,this.indexesWrapped=l.constructIndexesWrapped(p),this.indexesWrappedComponentOrders=this.indexesWrapped.map(f=>f.componentOrder)}static createDefault(){return new l({indexCombinations:l.DEFAULT_INDEX_COMBINATIONS,indexConstructor:p=>new t.RdfStoreIndexNestedMapQuoted(p),dictionary:new n.TermDictionaryQuotedIndexed(new r.TermDictionaryNumberRecordFullTerms),dataFactory:new o.DataFactory})}static constructIndexesWrapped(p){const f=[];if(p.indexCombinations.length===0)throw new Error("At least one index combination is required");for(const h of p.indexCombinations){if(!l.isCombinationValid(h))throw new Error(`Invalid index combination: ${h}`);f.push({index:p.indexConstructor(p),componentOrder:h,componentOrderInverse:Object.fromEntries(h.map((y,m)=>[y,m]))})}return f}static isCombinationValid(p){for(const f of u.QUAD_TERM_NAMES)if(!p.includes(f))return!1;return p.length===4}get size(){return this._size}addQuad(p){const f=[this.dictionary.encode(p.subject),this.dictionary.encode(p.predicate),this.dictionary.encode(p.object),this.dictionary.encode(p.graph)];let h=!1;for(const y of this.indexesWrapped)h=y.index.set((0,a.orderQuadComponents)(y.componentOrder,f),!0);return!!h&&(this._size++,!0)}removeQuad(p){const f=[this.dictionary.encodeOptional(p.subject),this.dictionary.encodeOptional(p.predicate),this.dictionary.encodeOptional(p.object),this.dictionary.encodeOptional(p.graph)];if(f.includes(void 0))return!1;let h=!1;for(const y of this.indexesWrapped)if(h=y.index.remove((0,a.orderQuadComponents)(y.componentOrder,f)),!h)break;return!!h&&(this._size--,!0)}remove(p){return p.on("data",f=>this.removeQuad(f)),p}removeMatches(p,f,h,y){return this.remove(this.match(p,f,h,y))}deleteGraph(p){return typeof p=="string"&&(p=this.dataFactory.namedNode(p)),this.removeMatches(void 0,void 0,void 0,p)}import(p){return p.on("data",f=>this.addQuad(f)),p}*readQuads(p,f,h,y){const m=!!this.dictionary.features.quotedTriples&&Object.values(this.indexesWrapped).every(S=>S.index.features.quotedTripleFiltering),[b,v]=(0,a.quadToPattern)(p,f,h,y,m),_=this.indexesWrapped[(0,a.getBestIndex)(this.indexesWrappedComponentOrders,b)],w=(0,a.orderQuadComponents)(_.componentOrder,b);for(const S of _.index.find(w)){const x=this.dataFactory.quad(S[_.componentOrderInverse.subject],S[_.componentOrderInverse.predicate],S[_.componentOrderInverse.object],S[_.componentOrderInverse.graph]);v?(0,u.matchPattern)(x,p,f,h,y)&&(yield x):yield x}}getQuads(p,f,h,y){return[...this.readQuads(p,f,h,y)]}match(p,f,h,y){return(0,c.wrap)(this.readQuads(p,f,h,y))}*readBindings(p,f,h,y,m){const b=!!this.dictionary.features.quotedTriples&&Object.values(this.indexesWrapped).every(M=>M.index.features.quotedTripleFiltering),[v,_]=(0,a.quadToPattern)(f,h,y,m,b),w=this.indexesWrapped[(0,a.getBestIndex)(this.indexesWrappedComponentOrders,v)],S=(0,a.orderQuadComponents)(w.componentOrder,v),x=(0,a.encodeOptionalTerms)(S,this.dictionary);if(!x)return;const T=(0,a.orderQuadComponents)(w.componentOrder,[f,h,y,m]),O=[];for(let M=0;M<T.length;M++)T[M].termType!=="Variable"&&T[M].termType!=="Quad"||O.push(M);let E=!1;const R=T.map((M,Q)=>{const X=[];for(let V=Q+1;V<T.length;V++)M.equals(T[V])&&(X.push(V),E=!0);return X});for(const M of w.index.findEncoded(x,S)){let Q=!1,X=!1;const V=[];for(const H of O){if(E){const k=R[H];if(k){for(const $ of k)if(M[H]!==M[$]){Q=!0;break}}if(Q)break}const U=this.dictionary.decode(M[H]);if(T[H].termType==="Quad"){if(U.termType==="Quad"){const k=(0,u.matchPatternMappings)(U,T[H],{returnMappings:!0});if(k){X=!0;for(const[$,ae]of Object.entries(k)){const he=this.dataFactory.variable($);if(V.some(ye=>ye[0].equals(he)&&!ye[1].equals(ae))){Q=!0;break}V.push([he,ae])}continue}}Q=!0;break}if(X&&V.some(k=>k[0].equals(T[H])&&!k[1].equals(U))){Q=!0;break}V.push([T[H],U])}Q||(yield p.bindings(V))}}getBindings(p,f,h,y,m){return[...this.readBindings(p,f,h,y,m)]}matchBindings(p,f,h,y,m){return(0,c.wrap)(this.readBindings(p,f,h,y,m))}countQuads(p,f,h,y){const m=!!this.dictionary.features.quotedTriples&&Object.values(this.indexesWrapped).every(w=>w.index.features.quotedTripleFiltering),[b]=(0,a.quadToPattern)(p,f,h,y,m);if(b.every(w=>w===void 0))return this.size;const v=this.indexesWrapped[(0,a.getBestIndex)(this.indexesWrappedComponentOrders,b)],_=(0,a.orderQuadComponents)(v.componentOrder,b);return v.index.count(_)}asDataset(){return new i.DatasetCoreWrapper(this)}}e.RdfStore=l,l.DEFAULT_INDEX_COMBINATIONS=[["graph","subject","predicate","object"],["graph","predicate","object","subject"],["graph","object","subject","predicate"]]},559:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(21645),e),o(s(33386),e)},598:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},681:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Actor=void 0;const c=s(84983);class o{constructor(i){this.beforeActors=[],Object.assign(this,i),this.bus.subscribe(this),this.beforeActors.length>0&&this.bus.addDependencies(this,this.beforeActors),i.busFailMessage&&(this.bus.failMessage=i.busFailMessage)}static getContextLogger(i){return i.get(c.CONTEXT_KEY_LOGGER)}runObservable(i,r){const n=this.run(i,r);return this.bus.onRun(this,i,n),n}getDefaultLogData(i,r){const n=r?r():{};return n.actor=this.name,n}logTrace(i,r,n){const t=o.getContextLogger(i);t&&t.trace(r,this.getDefaultLogData(i,n))}logDebug(i,r,n){const t=o.getContextLogger(i);t&&t.debug(r,this.getDefaultLogData(i,n))}logInfo(i,r,n){const t=o.getContextLogger(i);t&&t.info(r,this.getDefaultLogData(i,n))}logWarn(i,r,n){const t=o.getContextLogger(i);t&&t.warn(r,this.getDefaultLogData(i,n))}logError(i,r,n){const t=o.getContextLogger(i);t&&t.error(r,this.getDefaultLogData(i,n))}logFatal(i,r,n){const t=o.getContextLogger(i);t&&t.fatal(r,this.getDefaultLogData(i,n))}}e.Actor=o},771:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermObject=void 0;const c=s(77617),o=s(77545),u=s(99694);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.SparqlOperator.OBJECT],termFunction:!0})}async run(n){return new u.TermFunctionObject}}e.ActorFunctionFactoryTermObject=i},914:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfJoinEntriesSortCardinality=void 0;const c=s(39195),o=s(90412);class u extends c.ActorRdfJoinEntriesSort{constructor(r){super(r)}async test(r){return(0,o.passTest)({accuracy:r.entries.length===0?1:r.entries.reduce((n,t)=>n+(Number.isFinite(t.metadata.cardinality.value)?1:0),0)/r.entries.length})}async run(r){return{entries:[...r.entries].sort((n,t)=>n.metadata.cardinality.value-t.metadata.cardinality.value)}}}e.ActorRdfJoinEntriesSortCardinality=u},916:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(71142),e)},968:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeValueHandlerFloat=void 0;const c=s(55009);class o extends c.NodeValueHandlerAdapter{constructor(i,r){super("FloatValue",i,r),this.datatype=this.util.dataFactory.namedNode("http://www.w3.org/2001/XMLSchema#float")}handle(i,r,n){return{terms:[this.util.dataFactory.literal(i.value,this.datatype)]}}}e.NodeValueHandlerFloat=o},1028:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MediatorFunctionFactory=e.ActorFunctionFactory=void 0;const c=s(90412);class o extends c.Actor{constructor(r){super(r)}}e.ActorFunctionFactory=o;class u extends c.Mediator{}e.MediatorFunctionFactory=u},1039:(g,e,s)=>{function c(i,r,n){return Object.defineProperty(i,"prototype",{writable:!1}),i}Object.defineProperty(e,"__esModule",{value:!0}),e.Shapes=void 0;var o=s(96331),u=c(function i(){(function(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")})(this,i)});e.Shapes=u,u.TPF={type:"disjunction",children:[{type:"operation",operation:{operationType:"type",type:o.Algebra.types.PROJECT}},{type:"operation",operation:{operationType:"type",type:o.Algebra.types.PATTERN}},{type:"operation",operation:{operationType:"type",type:o.Algebra.types.SLICE}}]},u.BRTPF={type:"disjunction",children:[{type:"operation",operation:{operationType:"type",type:o.Algebra.types.PROJECT}},{type:"operation",operation:{operationType:"type",type:o.Algebra.types.PATTERN},joinBindings:!0,filterBindings:!0},{type:"operation",operation:{operationType:"type",type:o.Algebra.types.SLICE}}]},u.PASSAGE={type:"disjunction",children:[{type:"operation",operation:{operationType:"type",type:o.Algebra.types.PROJECT}},{type:"operation",operation:{operationType:"type",type:o.Algebra.types.PATTERN}},{type:"operation",operation:{operationType:"type",type:o.Algebra.types.SLICE}},{type:"operation",operation:{operationType:"type",type:o.Algebra.types.BGP}},{type:"operation",operation:{operationType:"type",type:o.Algebra.types.JOIN}},{type:"operation",operation:{operationType:"type",type:o.Algebra.types.EXTEND}},{type:"operation",operation:{operationType:"type",type:o.Algebra.types.UNION}},{type:"operation",operation:{operationType:"type",type:o.Algebra.types.VALUES}},{type:"operation",operation:{operationType:"type",type:o.Algebra.types.FILTER}},{type:"operation",operation:{operationType:"type",type:o.Algebra.types.LEFT_JOIN}}]},u.PASSAGE_NO_UNION={type:"disjunction",children:[{type:"operation",operation:{operationType:"type",type:o.Algebra.types.PROJECT}},{type:"operation",operation:{operationType:"type",type:o.Algebra.types.PATTERN}},{type:"operation",operation:{operationType:"type",type:o.Algebra.types.SLICE}},{type:"operation",operation:{operationType:"type",type:o.Algebra.types.BGP}},{type:"operation",operation:{operationType:"type",type:o.Algebra.types.JOIN}},{type:"operation",operation:{operationType:"type",type:o.Algebra.types.EXTEND}},{type:"operation",operation:{operationType:"type",type:o.Algebra.types.FILTER}}]}},1078:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BlankNode=void 0,e.BlankNode=class{constructor(s){this.termType="BlankNode",this.value=s}equals(s){return!!s&&s.termType==="BlankNode"&&s.value===this.value}}},1144:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionEncodeForUri=void 0;const c=s(77617),o=s(77545);class u extends c.TermFunctionBase{constructor(){super({arity:1,operator:o.SparqlOperator.ENCODE_FOR_URI,overloads:(0,o.declare)(o.SparqlOperator.ENCODE_FOR_URI).onStringly1Typed(()=>r=>(0,o.string)(encodeURI(r))).collect()})}}e.TermFunctionEncodeForUri=u},1166:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorOptimizeQueryOperationPruneEmptySourceOperations=void 0;const c=s(38912),o=s(90711),u=s(90412),i=s(67021),r=s(96331);class n extends c.ActorOptimizeQueryOperation{constructor(a){super(a)}async test(a){return(0,i.getOperationSource)(a.operation)?(0,u.failTest)(`Actor ${this.name} does not work with top-level operation sources.`):(0,u.passTestVoid)()}async run(a){const l=a.context.getSafe(o.KeysInitQuery.dataFactory),d=new r.Factory(l);let p=a.operation;const f=[],h=this;r.Util.recurseOperation(p,{[r.Algebra.types.UNION]:m=>(h.collectMultiOperationInputs(m.input,f,r.Algebra.types.PATTERN),!0),[r.Algebra.types.ALT]:m=>(h.collectMultiOperationInputs(m.input,f,r.Algebra.types.LINK),!1),[r.Algebra.types.SERVICE]:()=>!1});const y=new Set;return await Promise.all(f.map(async m=>{const b=m.type==="link"?d.createPattern(l.variable("s"),m.iri,l.variable("o")):m;await this.hasSourceResults(d,(0,i.getOperationSource)(m),b,a.context)||y.add(m)})),y.size>0&&(this.logDebug(a.context,`Pruning ${y.size} source-specific operations`),p=r.Util.mapOperation(p,{[r.Algebra.types.UNION]:(m,b)=>h.mapMultiOperation(m,y,v=>b.createUnion(v)),[r.Algebra.types.ALT]:(m,b)=>h.mapMultiOperation(m,y,v=>b.createAlt(v))},d),p=r.Util.mapOperation(p,{[r.Algebra.types.PROJECT]:(m,b)=>n.hasEmptyOperation(m)?{recurse:!1,result:b.createUnion([])}:{recurse:!0,result:m},[r.Algebra.types.LEFT_JOIN]:m=>n.hasEmptyOperation(m.input[1])?{recurse:!0,result:m.input[0]}:{recurse:!0,result:m}},d)),{operation:p,context:a.context}}static hasEmptyOperation(a){let l=!1;return r.Util.recurseOperation(a,{[r.Algebra.types.UNION]:d=>(d.input.every(p=>n.hasEmptyOperation(p))&&(l=!0),!1),[r.Algebra.types.ALT]:d=>(d.input.length===0&&(l=!0),!1),[r.Algebra.types.LEFT_JOIN]:d=>(n.hasEmptyOperation(d.input[0])&&(l=!0),!1)}),l}collectMultiOperationInputs(a,l,d){for(const p of a)(0,i.getOperationSource)(p)&&p.type===d&&l.push(p)}mapMultiOperation(a,l,d){const p=a.input.filter(f=>!l.has(f));return p.length===a.input.length?{result:a,recurse:!0}:p.length===0?{result:d([]),recurse:!1}:p.length===1?{result:p[0],recurse:!0}:{result:d(p),recurse:!0}}async hasSourceResults(a,l,d,p){const f=l.context?p.merge(l.context):p,h=f.get(o.KeysInitQuery.extensionFunctionsAlwaysPushdown);if(f.get(o.KeysQuerySourceIdentify.traverse))return!0;if(this.useAskIfSupported){const b=a.createAsk(d);if((0,i.doesShapeAcceptOperation)(await l.source.getSelectorShape(p),b,{wildcardAcceptAllExtensionFunctions:h}))return l.source.queryBoolean(b,f)}const y=l.source.queryBindings(d,f),m=await new Promise((b,v)=>{y.on("error",v),y.getProperty("metadata",_=>{y.destroy(),b(_.cardinality)})});if(m.type==="estimate"&&m.value>0){const b=a.createAsk(d);if((0,i.doesShapeAcceptOperation)(await l.source.getSelectorShape(p),b,{wildcardAcceptAllExtensionFunctions:h}))return l.source.queryBoolean(b,f)}return m.value>0}}e.ActorOptimizeQueryOperationPruneEmptySourceOperations=n},1209:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermTz=void 0;const c=s(77617),o=s(77545),u=s(4e4);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.SparqlOperator.TZ],termFunction:!0})}async run(n){return new u.TermFunctionTz}}e.ActorFunctionFactoryTermTz=i},1223:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(30872),e)},1359:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(30389),e)},1463:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeValueHandlerInt=void 0;const c=s(55009);class o extends c.NodeValueHandlerAdapter{constructor(i,r){super("IntValue",i,r),this.datatype=this.util.dataFactory.namedNode("http://www.w3.org/2001/XMLSchema#integer")}handle(i,r,n){return{terms:[this.util.dataFactory.literal(i.value,this.datatype)]}}}e.NodeValueHandlerInt=o},1530:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionInequality=void 0;const c=s(77617),o=s(77545);class u extends c.TermFunctionBase{constructor(r){super({arity:2,operator:o.SparqlOperator.NOT_EQUAL,overloads:(0,o.declare)(o.SparqlOperator.NOT_EQUAL).set(["term","term"],n=>([t,a])=>(0,o.bool)(!this.equalityFunction.applyOnTerms([t,a],n).typedValue)).collect()}),this.equalityFunction=r}}e.TermFunctionInequality=u},1548:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerKeyword=void 0,e.EntryHandlerKeyword=class{constructor(s){this.keyword=s}isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(s,c,o,u,i){return!1}async test(s,c,o,u,i){return o===this.keyword}}},1595:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(36057),e)},1667:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MediatorCombineUnion=void 0;const c=s(90412);class o extends c.Mediator{constructor(i){super(i),this.combiner=this.createCombiner()}async mediate(i){let r;try{r=this.publish(i)}catch{r=[]}if(this.filterFailures){const a=[];for(const l of r)(await l.reply).isPassed()&&a.push(l);r=a}const n=[];await Promise.all(r.map(async({reply:a},l)=>{const d=await a,p=d.getOrThrow();return n[l]=d.getSideData(),p}));const t=await Promise.all(r.map((a,l)=>a.actor.runObservable(i,n[l])));return this.combiner(t)}mediateWith(){throw new Error("Method not supported.")}createCombiner(){return i=>{const r={};return r[this.field]={},[{}].concat(i.map(n=>n[this.field])).forEach(n=>{r[this.field]={...n,...r[this.field]}}),r}}}e.MediatorCombineUnion=o},1707:(g,e)=>{var s;Object.defineProperty(e,"__esModule",{value:!0}),e.ExpressionType=void 0,(function(c){c.Aggregate="aggregate",c.Existence="existence",c.Operator="operator",c.Term="term",c.Variable="variable"})(s||(e.ExpressionType=s={}))},1725:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.termToString=e.stringToTerm=e.stringQuadToQuad=e.quadToStringQuad=e.getLiteralValue=e.getLiteralType=e.getLiteralLanguage=void 0;const c=s(45183);Object.defineProperty(e,"getLiteralLanguage",{enumerable:!0,get:function(){return c.getLiteralLanguage}}),Object.defineProperty(e,"getLiteralType",{enumerable:!0,get:function(){return c.getLiteralType}}),Object.defineProperty(e,"getLiteralValue",{enumerable:!0,get:function(){return c.getLiteralValue}}),Object.defineProperty(e,"quadToStringQuad",{enumerable:!0,get:function(){return c.quadToStringQuad}}),Object.defineProperty(e,"stringQuadToQuad",{enumerable:!0,get:function(){return c.stringQuadToQuad}}),Object.defineProperty(e,"stringToTerm",{enumerable:!0,get:function(){return c.stringToTerm}}),Object.defineProperty(e,"termToString",{enumerable:!0,get:function(){return c.termToString}})},1861:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XmlSerializer=void 0;class s{constructor(){this.stack=[]}open(o,u){const i=`${this.identation()+this.formatTag(o,u,"open")}
`;return this.stack.push(o),i}close(){const o=this.stack.pop();if(o===void 0)throw new Error("There is no tag left to close");return`${this.identation()+this.formatTag(o,{},"close")}
`}serializeNode(o){if(o.children===void 0)return`${this.identation()+this.formatTag(o.name,o.attributes,"self-closing")}
`;if(typeof o.children=="string")return`${this.identation()+this.formatTag(o.name,o.attributes,"open")+this.escape(o.children)+this.formatTag(o.name,{},"close")}
`;const u=[];u.push(`${this.identation()+this.formatTag(o.name,o.attributes,"open")}
`),this.stack.push(o.name);for(const i of o.children)u.push(this.serializeNode(i));return this.stack.pop(),u.push(`${this.identation()+this.formatTag(o.name,{},"close")}
`),u.join("")}identation(){return this.stack.map(o=>"  ").join("")}formatTag(o,u,i){return`<${i==="close"?"/":""}${o}${Object.entries(u??{}).map(r=>` ${r[0]}="${this.escape(r[1])}"`)}${i==="self-closing"?"/":""}>`}escape(o){return o.replaceAll(/["&'<>]/gu,u=>{switch(u){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case"'":return"&apos;";case'"':return"&quot;"}})}}e.XmlSerializer=s,s.header=`<?xml version="1.0" encoding="UTF-8"?>
`},2044:(g,e,s)=>{let c=s(75627),o=c.MultiTransformIterator,u=c.SimpleTransformIterator;g.exports=class extends o{constructor(i,r,n,t){super(i,t),this.funRight=r,this.funJoin=n}_createTransformer(i){return new u(this.funRight(i),{transform:(r,n,t)=>{let a=this.funJoin(i,r);a!==null&&t(a),n()}})}}},2126:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionXsdToDuration=void 0;const c=s(77617),o=s(77545);class u extends c.TermFunctionBase{constructor(){super({arity:1,operator:o.TypeURL.XSD_DAY_TIME_DURATION,overloads:(0,o.declare)(o.TypeURL.XSD_DURATION).onUnary(o.TypeURL.XSD_DURATION,()=>r=>new o.DurationLiteral(r.typedValue,r.strValue)).onStringly1(()=>r=>new o.DurationLiteral((0,o.parseDuration)(r.str()))).collect()})}}e.TermFunctionXsdToDuration=u},2204:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.stringQuadToQuad=e.quadToStringQuad=e.stringToTerm=e.getLiteralLanguage=e.getLiteralType=e.getLiteralValue=e.termToString=void 0;const c=new(s(47793)).DataFactory;function o(t){if(t)switch(t.termType){case"NamedNode":case"DefaultGraph":return t.value;case"BlankNode":return"_:"+t.value;case"Literal":const a=t;return'"'+a.value+'"'+(a.datatype&&a.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&a.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?"^^"+a.datatype.value:"")+(a.language?"@"+a.language:"");case"Quad":return`<<${o(t.subject)} ${o(t.predicate)} ${o(t.object)}${t.graph.termType==="DefaultGraph"?"":" "+o(t.graph)}>>`;case"Variable":return"?"+t.value}}function u(t){const a=/^"([^]*)"/.exec(t);if(!a)throw new Error(t+" is not a literal");return a[1]}function i(t){const a=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(t);if(!a)throw new Error(t+" is not a literal");return a[1]||(a[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}function r(t){const a=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(t);if(!a)throw new Error(t+" is not a literal");return a[1]?a[1].toLowerCase():""}function n(t,a){if(a=a||c,!t||!t.length)return a.defaultGraph();switch(t[0]){case"_":return a.blankNode(t.substr(2));case"?":if(!a.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return a.variable(t.substr(1));case'"':const l=r(t),d=a.namedNode(i(t));return a.literal(u(t),l||d);default:if(t[0]==="<"&&t.length>4&&t[1]==="<"&&t[t.length-1]===">"&&t[t.length-2]===">"){const p=t.slice(2,-2).trim();let f=[],h=0,y=0,m=!1;for(let b=0;b<p.length;b++){const v=p[b];if(v==="<"&&h++,v===">"){if(h===0)throw new Error("Found closing tag without opening tag in "+t);h--}if(v==='"'){let _=!1,w=b;for(;w-- >0&&p[w]==="\\";)_=!_;_||(m=!m)}if(v===" "&&!m&&h===0){for(f.push(p.slice(y,b));p[b+1]===" ";)b+=1;y=b+1}}if(h!==0)throw new Error("Found opening tag without closing tag in "+t);if(f.push(p.slice(y,p.length)),f.length!==3&&f.length!==4)throw new Error("Nested quad syntax error "+t);return f=f.map(b=>b.startsWith("<")&&!b.includes(" ")?b.slice(1,-1):b),a.quad(n(f[0]),n(f[1]),n(f[2]),f[3]?n(f[3]):void 0)}return a.namedNode(t)}}e.termToString=o,e.getLiteralValue=u,e.getLiteralType=i,e.getLiteralLanguage=r,e.stringToTerm=n,e.quadToStringQuad=function(t){return{subject:o(t.subject),predicate:o(t.predicate),object:o(t.object),graph:o(t.graph)}},e.stringQuadToQuad=function(t,a){return(a=a||c).quad(n(t.subject,a),n(t.predicate,a),n(t.object,a),n(t.graph,a))}},2236:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(63055),e),o(s(53930),e)},2287:(g,e,s)=>{var c=s(67426),o=s(66166),u=s(66225),i=s(43349),r=c.sum32,n=c.sum32_4,t=c.sum32_5,a=u.ch32,l=u.maj32,d=u.s0_256,p=u.s1_256,f=u.g0_256,h=u.g1_256,y=o.BlockHash,m=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function b(){if(!(this instanceof b))return new b;y.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=m,this.W=new Array(64)}c.inherits(b,y),g.exports=b,b.blockSize=512,b.outSize=256,b.hmacStrength=192,b.padLength=64,b.prototype._update=function(v,_){for(var w=this.W,S=0;S<16;S++)w[S]=v[_+S];for(;S<w.length;S++)w[S]=n(h(w[S-2]),w[S-7],f(w[S-15]),w[S-16]);var x=this.h[0],T=this.h[1],O=this.h[2],E=this.h[3],R=this.h[4],M=this.h[5],Q=this.h[6],X=this.h[7];for(i(this.k.length===w.length),S=0;S<w.length;S++){var V=t(X,p(R),a(R,M,Q),this.k[S],w[S]),H=r(d(x),l(x,T,O));X=Q,Q=M,M=R,R=r(E,V),E=O,O=T,T=x,x=r(V,H)}this.h[0]=r(this.h[0],x),this.h[1]=r(this.h[1],T),this.h[2]=r(this.h[2],O),this.h[3]=r(this.h[3],E),this.h[4]=r(this.h[4],R),this.h[5]=r(this.h[5],M),this.h[6]=r(this.h[6],Q),this.h[7]=r(this.h[7],X)},b.prototype._digest=function(v){return v==="hex"?c.toHex32(this.h,"big"):c.split32(this.h,"big")}},2307:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(67797),e),o(s(85506),e),o(s(53992),e),o(s(95570),e),o(s(15064),e),o(s(30879),e)},2384:g=>{var e=/^utf-?8|ascii|utf-?16-?le|ucs-?2|base-?64|latin-?1$/i,s=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,c=/\s|\uFEFF|\xA0/,o=/\r?\n[\x20\x09]+/g,u=/[;,"]/,i=/[;,"]|\s/,r=/^[!#$%&'*+\-\.^_`|~\da-zA-Z]+$/;function n(p){return p.replace(s,"")}function t(p){return c.test(p)}function a(p,f){for(;t(p[f]);)f++;return f}function l(p){return i.test(p)||!r.test(p)}class d{constructor(f){this.refs=[],f&&this.parse(f)}rel(f){for(var h=[],y=f.toLowerCase(),m=0;m<this.refs.length;m++)typeof this.refs[m].rel=="string"&&this.refs[m].rel.toLowerCase()===y&&h.push(this.refs[m]);return h}get(f,h){f=f.toLowerCase(),h=h.toLowerCase();for(var y=[],m=0;m<this.refs.length;m++)typeof this.refs[m][f]=="string"&&this.refs[m][f].toLowerCase()===h&&y.push(this.refs[m]);return y}set(f){return this.refs.push(f),this}setUnique(f){return this.refs.some(h=>{return y=h,m=f,Object.keys(y).length===Object.keys(m).length&&Object.keys(y).every(b=>b in m&&y[b]===m[b]);var y,m})||this.refs.push(f),this}has(f,h){f=f.toLowerCase(),h=h.toLowerCase();for(var y=0;y<this.refs.length;y++)if(typeof this.refs[y][f]=="string"&&this.refs[y][f].toLowerCase()===h)return!0;return!1}parse(f,h){for(var y=1,m=(f=n(f=(h=h||0)?f.slice(h):f).replace(o,"")).length,b=(h=0,null);h<m;)if(y===1){if(t(f[h])){h++;continue}if(f[h]!=="<")throw new Error('Unexpected character "'+f[h]+'" at offset '+h);if(b!=null&&(b.rel!=null?this.refs.push(...d.expandRelations(b)):this.refs.push(b)),(w=f.indexOf(">",h))===-1)throw new Error("Expected end of URI delimiter at offset "+h);b={uri:f.slice(h+1,w)},h=w,y=2,h++}else if(y===2){if(t(f[h])){h++;continue}if(f[h]===";")y=4,h++;else{if(f[h]!==",")throw new Error('Unexpected character "'+f[h]+'" at offset '+h);y=1,h++}}else{if(y!==4)throw new Error('Unknown parser state "'+y+'"');if(f[h]===";"||t(f[h])){h++;continue}(w=f.indexOf("=",h))===-1&&(w=f.indexOf(";",h)),w===-1&&(w=f.length);var v=n(f.slice(h,w)).toLowerCase(),_="";if(f[h=a(f,h=w+1)]==='"')for(h++;h<m;){if(f[h]==='"'){h++;break}f[h]==="\\"&&h++,_+=f[h],h++}else{for(var w=h+1;!u.test(f[w])&&w<m;)w++;_=f.slice(h,w),h=w}switch(b[v]&&d.isSingleOccurenceAttr(v)||(v[v.length-1]==="*"?b[v]=d.parseExtendedValue(_):(_=v==="type"?_.toLowerCase():_,b[v]!=null?Array.isArray(b[v])?b[v].push(_):b[v]=[b[v],_]:b[v]=_)),f[h]){case",":y=1;break;case";":y=4}h++}return b!=null&&(b.rel!=null?this.refs.push(...d.expandRelations(b)):this.refs.push(b)),b=null,this}toString(){for(var f=[],h="",y=null,m=0;m<this.refs.length;m++)y=this.refs[m],h=Object.keys(this.refs[m]).reduce(function(b,v){return v==="uri"?b:b+"; "+d.formatAttribute(v,y[v])},"<"+y.uri+">"),f.push(h);return f.join(", ")}}d.isCompatibleEncoding=function(p){return e.test(p)},d.parse=function(p,f){return new d().parse(p,f)},d.isSingleOccurenceAttr=function(p){return p==="rel"||p==="type"||p==="media"||p==="title"||p==="title*"},d.isTokenAttr=function(p){return p==="rel"||p==="type"||p==="anchor"},d.escapeQuotes=function(p){return p.replace(/"/g,'\\"')},d.expandRelations=function(p){return p.rel.split(" ").map(function(f){var h=Object.assign({},p);return h.rel=f,h})},d.parseExtendedValue=function(p){var f=/([^']+)?(?:'([^']*)')?(.+)/.exec(p);return{language:f[2].toLowerCase(),encoding:d.isCompatibleEncoding(f[1])?null:f[1].toLowerCase(),value:d.isCompatibleEncoding(f[1])?decodeURIComponent(f[3]):f[3]}},d.formatExtendedAttribute=function(p,f){var h=(f.encoding||"utf-8").toUpperCase();return p+"="+h+"'"+(f.language||"en")+"'"+(Buffer.isBuffer(f.value)&&d.isCompatibleEncoding(h)?f.value.toString(h):Buffer.isBuffer(f.value)?f.value.toString("hex").replace(/[0-9a-f]{2}/gi,"%$1"):encodeURIComponent(f.value))},d.formatAttribute=function(p,f){return Array.isArray(f)?f.map(h=>d.formatAttribute(p,h)).join("; "):p[p.length-1]==="*"||typeof f!="string"?d.formatExtendedAttribute(p,f):(d.isTokenAttr(p)?f=l(f)?'"'+d.escapeQuotes(f)+'"':d.escapeQuotes(f):l(f)&&(f='"'+(f=(f=encodeURIComponent(f)).replace(/%20/g," ").replace(/%2C/g,",").replace(/%3B/g,";"))+'"'),p+"="+f)},g.exports=d},2425:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(85821),e)},2437:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BusIndexed=void 0;const c=s(92126);class o extends c.Bus{constructor(i){super(i),this.actorsIndex={}}subscribe(i){const r=this.getActorIdentifiers(i)??["_undefined_"];for(const n of r){let t=this.actorsIndex[n];t||(t=this.actorsIndex[n]=[]),t.push(i),super.subscribe(i)}}unsubscribe(i){const r=this.getActorIdentifiers(i)??["_undefined_"];let n=!1;for(const t of r){const a=this.actorsIndex[t];if(a){const l=a.indexOf(i);l>=0&&a.splice(l,1),a.length===0&&delete this.actorsIndex[t]}n=n||super.unsubscribe(i)}return n}publish(i){const r=this.getActionIdentifier(i);return r?[...this.actorsIndex[r]||[],...this.actorsIndex._undefined_||[]].map(n=>({actor:n,reply:n.test(i)})):super.publish(i)}getActorIdentifiers(i){const r=this.actorIdentifierFields.reduce((n,t)=>n[t],i);if(r)return Array.isArray(r)?r:[r]}getActionIdentifier(i){return this.actionIdentifierFields.reduce((r,n)=>r[n],i)}}e.BusIndexed=o},2479:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(93111),e)},2527:(g,e)=>{function s(u){for(const i of["cardinality"])if(!(i in u))throw new Error(`Invalid metadata: missing ${i} in ${JSON.stringify(u)}`);return u}function c(u){for(const i of["cardinality","variables"])if(!(i in u))throw new Error(`Invalid metadata: missing ${i} in ${JSON.stringify(u)}`);return u}function o(u){let i;return()=>(i||(i=u(),i.then(r=>r.state.addInvalidateListener(()=>{i=void 0})).catch(()=>{})),i)}Object.defineProperty(e,"__esModule",{value:!0}),e.cachifyMetadata=e.validateMetadataBindings=e.validateMetadataQuads=e.getMetadataBindings=e.getMetadataQuads=void 0,e.getMetadataQuads=function(u){return o(()=>new Promise((i,r)=>{u.getProperty("metadata",n=>i(n)),u.on("error",r)}).then(i=>s(i)))},e.getMetadataBindings=function(u){return o(()=>new Promise((i,r)=>{u.getProperty("metadata",n=>i(n)),u.on("error",r)}).then(i=>c(i)))},e.validateMetadataQuads=s,e.validateMetadataBindings=c,e.cachifyMetadata=o},2669:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(91685),e)},2693:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermTriple=void 0;const c=s(77617),o=s(77545),u=s(13252);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.SparqlOperator.TRIPLE],termFunction:!0})}async run(n){return new u.TermFunctionTriple}}e.ActorFunctionFactoryTermTriple=i},2810:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(67444),e)},2922:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BindingsFactory=void 0;const c=s(49568),o=s(16994);class u{constructor(r,n){this.dataFactory=r,this.contextMergeHandlers=n}static async create(r,n,t){return new u(t,(await r.mediate({context:n})).mergeHandlers)}bindings(r=[]){return new o.Bindings(this.dataFactory,(0,c.Map)(r.map(([n,t])=>[n.value,t])),this.contextMergeHandlers?{contextMergeHandlers:this.contextMergeHandlers}:void 0)}fromBindings(r){return this.bindings([...r])}fromRecord(r){return this.bindings(Object.entries(r).map(([n,t])=>[this.dataFactory.variable(n),t]))}}e.BindingsFactory=u},3035:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionIsIri=void 0;const c=s(77617),o=s(77545);class u extends c.TermFunctionBase{constructor(){super({arity:1,operator:o.SparqlOperator.IS_IRI,overloads:(0,o.declare)(o.SparqlOperator.IS_IRI).onTerm1(()=>r=>(0,o.bool)(r.termType==="namedNode")).collect()})}}e.TermFunctionIsIri=u},3038:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.stringQuadToQuad=e.quadToStringQuad=e.stringToTerm=e.getLiteralLanguage=e.getLiteralType=e.getLiteralValue=e.termToString=void 0;const c=new(s(47793)).DataFactory;function o(t){if(t)switch(t.termType){case"NamedNode":case"DefaultGraph":return t.value;case"BlankNode":return"_:"+t.value;case"Literal":const a=t;return'"'+a.value+'"'+(a.datatype&&a.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&a.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?"^^"+a.datatype.value:"")+(a.language?"@"+a.language:"");case"Quad":return`<<${o(t.subject)} ${o(t.predicate)} ${o(t.object)}${t.graph.termType==="DefaultGraph"?"":" "+o(t.graph)}>>`;case"Variable":return"?"+t.value}}function u(t){const a=/^"([^]*)"/.exec(t);if(!a)throw new Error(t+" is not a literal");return a[1]}function i(t){const a=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(t);if(!a)throw new Error(t+" is not a literal");return a[1]||(a[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}function r(t){const a=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(t);if(!a)throw new Error(t+" is not a literal");return a[1]?a[1].toLowerCase():""}function n(t,a){if(a=a||c,!t||!t.length)return a.defaultGraph();switch(t[0]){case"_":return a.blankNode(t.substr(2));case"?":if(!a.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return a.variable(t.substr(1));case'"':const l=r(t),d=a.namedNode(i(t));return a.literal(u(t),l||d);default:if(t[0]==="<"&&t.length>4&&t[1]==="<"&&t[t.length-1]===">"&&t[t.length-2]===">"){const p=t.slice(2,-2).trim();let f=[],h=0,y=0,m=!1;for(let b=0;b<p.length;b++){const v=p[b];if(v==="<"&&h++,v===">"){if(h===0)throw new Error("Found closing tag without opening tag in "+t);h--}if(v==='"'){let _=!1,w=b;for(;w-- >0&&p[w]==="\\";)_=!_;_||(m=!m)}if(v===" "&&!m&&h===0){for(f.push(p.slice(y,b));p[b+1]===" ";)b+=1;y=b+1}}if(h!==0)throw new Error("Found opening tag without closing tag in "+t);if(f.push(p.slice(y,p.length)),f.length!==3&&f.length!==4)throw new Error("Nested quad syntax error "+t);return f=f.map(b=>b.startsWith("<")&&!b.includes(" ")?b.slice(1,-1):b),a.quad(n(f[0]),n(f[1]),n(f[2]),f[3]?n(f[3]):void 0)}return a.namedNode(t)}}e.termToString=o,e.getLiteralValue=u,e.getLiteralType=i,e.getLiteralLanguage=r,e.stringToTerm=n,e.quadToStringQuad=function(t){return{subject:o(t.subject),predicate:o(t.predicate),object:o(t.object),graph:o(t.graph)}},e.stringQuadToQuad=function(t,a){return(a=a||c).quad(n(t.subject,a),n(t.predicate,a),n(t.object,a),n(t.graph,a))}},3062:function(g,e,s){var c=this&&this.__awaiter||function(a,l,d,p){return new(d||(d=Promise))(function(f,h){function y(v){try{b(p.next(v))}catch(_){h(_)}}function m(v){try{b(p.throw(v))}catch(_){h(_)}}function b(v){var _;v.done?f(v.value):(_=v.value,_ instanceof d?_:new d(function(w){w(_)})).then(y,m)}b((p=p.apply(a,l||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.Converter=void 0;const o=s(80425),u=s(70297),i=s(2307),r=s(65183),n=s(97480);class t{constructor(l){(l=l||{}).variableDelimiter=l.variableDelimiter||"_",l.expressionVariableCounter=l.expressionVariableCounter||0,this.util=new n.Util(l),this.initializeNodeHandlers(l)}static registerNodeHandlers(l,d){l.registerNodeHandler(new u.NodeHandlerDocument(l,d)),l.registerNodeHandler(new u.NodeHandlerDefinitionOperation(l,d)),l.registerNodeHandler(new u.NodeHandlerDefinitionFragment(l,d)),l.registerNodeHandler(new u.NodeHandlerSelectionFragmentSpread(l,d)),l.registerNodeHandler(new u.NodeHandlerSelectionInlineFragment(l,d)),l.registerNodeHandler(new u.NodeHandlerSelectionField(l,d))}static registerNodeValueHandlers(l,d){l.registerNodeValueHandler(new u.NodeValueHandlerVariable(l,d)),l.registerNodeValueHandler(new u.NodeValueHandlerInt(l,d)),l.registerNodeValueHandler(new u.NodeValueHandlerFloat(l,d)),l.registerNodeValueHandler(new u.NodeValueHandlerString(l,d)),l.registerNodeValueHandler(new u.NodeValueHandlerBoolean(l,d)),l.registerNodeValueHandler(new u.NodeValueHandlerNull(l,d)),l.registerNodeValueHandler(new u.NodeValueHandlerEnum(l,d)),l.registerNodeValueHandler(new u.NodeValueHandlerList(l,d)),l.registerNodeValueHandler(new u.NodeValueHandlerObject(l,d))}static registerDirectiveNodeHandlers(l,d){l.registerDirectiveNodeHandler(new i.DirectiveNodeHandlerInclude(l,d)),l.registerDirectiveNodeHandler(new i.DirectiveNodeHandlerOptional(l,d)),l.registerDirectiveNodeHandler(new i.DirectiveNodeHandlerPlural(l,d)),l.registerDirectiveNodeHandler(new i.DirectiveNodeHandlerSingle(l,d)),l.registerDirectiveNodeHandler(new i.DirectiveNodeHandlerSkip(l,d))}graphqlToSparqlAlgebra(l,d,p){return c(this,void 0,void 0,function*(){return this.graphqlToSparqlAlgebraRawContext(l,yield this.util.contextParser.parse(d),p)})}graphqlToSparqlAlgebraRawContext(l,d,p){p=p||{};const f=typeof l=="string"?(0,o.parse)(l):l,h={context:d,fragmentDefinitions:this.indexFragments(f),graph:this.util.dataFactory.defaultGraph(),path:[],singularizeState:r.SingularizeState.PLURAL,singularizeVariables:p.singularizeVariables||{},subject:null,terminalVariables:[],variablesDict:p.variablesDict||{},variablesMetaDict:{}};return this.util.handleNode(f,h)}indexFragments(l){const d={},p=[];for(const f of l.definitions)f.kind==="FragmentDefinition"?d[f.name.value]=f:p.push(f);return l.definitions=p,d}initializeNodeHandlers(l){t.registerNodeHandlers(this.util,l),t.registerNodeValueHandlers(this.util,l),t.registerDirectiveNodeHandlers(this.util,l)}}e.Converter=t},3129:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermFloor=void 0;const c=s(77617),o=s(77545),u=s(57834);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.SparqlOperator.FLOOR],termFunction:!0})}async run(n){return new u.TermFunctionFloor}}e.ActorFunctionFactoryTermFloor=i},3170:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},3251:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorInit=void 0;const c=s(90412);class o extends c.Actor{constructor(i){super(i)}}e.ActorInit=o},3285:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(64232),e),o(s(70071),e)},3401:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.termToString=e.stringToTerm=e.stringQuadToQuad=e.quadToStringQuad=e.getLiteralValue=e.getLiteralType=e.getLiteralLanguage=void 0;const c=s(27051);Object.defineProperty(e,"getLiteralLanguage",{enumerable:!0,get:function(){return c.getLiteralLanguage}}),Object.defineProperty(e,"getLiteralType",{enumerable:!0,get:function(){return c.getLiteralType}}),Object.defineProperty(e,"getLiteralValue",{enumerable:!0,get:function(){return c.getLiteralValue}}),Object.defineProperty(e,"quadToStringQuad",{enumerable:!0,get:function(){return c.quadToStringQuad}}),Object.defineProperty(e,"stringQuadToQuad",{enumerable:!0,get:function(){return c.stringQuadToQuad}}),Object.defineProperty(e,"stringToTerm",{enumerable:!0,get:function(){return c.stringToTerm}}),Object.defineProperty(e,"termToString",{enumerable:!0,get:function(){return c.termToString}})},3595:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(36750),e)},3698:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(U,k,$,ae){ae===void 0&&(ae=$);var he=Object.getOwnPropertyDescriptor(k,$);he&&!("get"in he?!k.__esModule:he.writable||he.configurable)||(he={enumerable:!0,get:function(){return k[$]}}),Object.defineProperty(U,ae,he)}:function(U,k,$,ae){ae===void 0&&(ae=$),U[ae]=k[$]}),o=this&&this.__setModuleDefault||(Object.create?function(U,k){Object.defineProperty(U,"default",{enumerable:!0,value:k})}:function(U,k){U.default=k}),u=this&&this.__importStar||function(U){if(U&&U.__esModule)return U;var k={};if(U!=null)for(var $ in U)$!=="default"&&Object.prototype.hasOwnProperty.call(U,$)&&c(k,U,$);return o(k,U),k},i=this&&this.__importDefault||function(U){return U&&U.__esModule?U:{default:U}};Object.defineProperty(e,"__esModule",{value:!0}),e.toSparqlJs=e.toSparql=void 0;const r=s(62699),n=s(43347),t=s(98082),a=u(s(13079)),l=i(s(91409)),d=i(s(64995)),p=a.types,f=a.expressionTypes;let h;const y=new l.default;function m(U){b();let k=v(U=(function($){return H($,[])})(U));return k.type==="group"?k.patterns[0]:k}function b(){h={project:!1,extend:[],group:[],aggregates:[],order:[]}}function v(U){switch(U.type!==p.EXTEND&&U.type!==p.ORDER_BY&&U.type!==p.GRAPH&&(h.project=!1),U.type){case p.EXPRESSION:return _(U);case p.ASK:return R(U,p.ASK);case p.BGP:return(function(k){let $=k.patterns.map(O);return $.length===0?null:{type:"bgp",triples:$}})(U);case p.CONSTRUCT:return(function(k){return{type:"query",prefixes:{},queryType:"CONSTRUCT",template:k.template.map(O),where:d.default.flatten([v(k.input)])}})(U);case p.DESCRIBE:return R(U,p.DESCRIBE);case p.DISTINCT:return(function(k){let $=v(k.input);return $.patterns[0].distinct=!0,$})(U);case p.EXTEND:return(function(k){return h.project?(h.extend.push(k),v(k.input)):d.default.flatten([v(k.input),{type:"bind",variable:k.variable,expression:_(k.expression)}])})(U);case p.FROM:return(function(k){const $=v(k.input);let ae=$;return $.type==="group"&&(ae=$.patterns[0]),ae.from={default:k.default,named:k.named},$})(U);case p.FILTER:return(function(k){return{type:"group",patterns:d.default.flatten([v(k.input),{type:"filter",expression:_(k.expression)}])}})(U);case p.GRAPH:return(function(k){return{type:"graph",patterns:d.default.flatten([v(k.input)]),name:k.name}})(U);case p.GROUP:return(function(k){const $=v(k.input),ae=k.aggregates.map(T);return h.aggregates.push(...ae),h.group.push(...k.variables),$})(U);case p.JOIN:return(function(k){return d.default.flatten(k.input.map(v)).reduce(($,ae)=>(ae.type!=="bgp"||$.length==0||$[$.length-1].type!=="bgp"?$.push(ae):$[$.length-1].triples.push(...ae.triples),$),[])})(U);case p.LEFT_JOIN:return(function(k){const $={type:"optional",patterns:[v(k.input[1])]};return k.expression&&$.patterns.push({type:"filter",expression:_(k.expression)}),$.patterns=d.default.flatten($.patterns),d.default.flatten([v(k.input[0]),$])})(U);case p.MINUS:return(function(k){let $=v(k.input[1]);return $.type==="group"&&($=$.patterns),Array.isArray($)||($=[$]),d.default.flatten([v(k.input[0]),{type:"minus",patterns:$}])})(U);case p.NOP:return{};case p.ORDER_BY:return(function(k){return h.order.push(...k.expressions),v(k.input)})(U);case p.PATH:return(function(k){return{type:"bgp",triples:[{subject:k.subject,predicate:w(k.predicate),object:k.object}]}})(U);case p.PATTERN:return O(U);case p.PROJECT:return R(U,p.PROJECT);case p.REDUCED:return(function(k){let $=v(k.input);return $.patterns[0].reduced=!0,$})(U);case p.SERVICE:return(function(k){let $=v(k.input);return $.type==="group"&&($=$.patterns),Array.isArray($)||($=[$]),{type:"service",name:k.name,silent:k.silent,patterns:$}})(U);case p.SLICE:return(function(k){let $=v(k.input),ae=$;return $.type&&$.type==="group"&&(ae=$.patterns[0]),k.start!==0&&(ae.offset=k.start),k.length!==void 0&&(ae.limit=k.length),$})(U);case p.UNION:return(function(k){return{type:"union",patterns:k.input.map(v).map(x)}})(U);case p.VALUES:return(function(k){return{type:"values",values:k.bindings.map($=>{let ae={};for(let he of k.variables){let ye=`?${he.value}`;$[ye]?ae[ye]=$[ye]:ae[ye]=void 0}return ae})}})(U);case p.COMPOSITE_UPDATE:return(function(k){return{prefixes:{},type:"update",updates:k.updates.map($=>v($).updates[0])}})(U);case p.DELETE_INSERT:return(function(k){var $;let ae,he=k.where;if(he&&he.type===p.FROM){let I=he;he=I.input,ae={default:I.default,named:I.named}}const ye=[{updateType:"insertdelete",delete:V(k.delete||[]),insert:V(k.insert||[])}];if(ae&&(ye[0].using=ae),!he||he.type===p.BGP&&he.patterns.length===0)ye[0].where=[];else{const I=[];let j=v(H(he,I));if(j.type==="group"?ye[0].where=j.patterns:ye[0].where=[j],I.length>0){if(I.length!==1)throw new Error("This is unexpected and might indicate an error in graph handling for updates.");(($=I[0])===null||$===void 0?void 0:$.value)!==""&&(ye[0].where=[{type:"graph",patterns:ye[0].where,name:I[0]}])}}return k.delete||k.where?k.insert||k.where?!k.insert&&k.where&&k.where.type==="bgp"&&(0,r.isomorphic)(k.delete,k.where.patterns)&&(delete ye[0].where,ye[0].updateType="deletewhere"):(delete ye[0].insert,delete ye[0].where,k.delete.some(I=>I.subject.termType==="Variable"||I.predicate.termType==="Variable"||I.object.termType==="Variable")?ye[0].updateType="deletewhere":ye[0].updateType="delete"):(ye[0].updateType="insert",delete ye[0].delete,delete ye[0].where),{prefixes:{},type:"update",updates:ye}})(U);case p.LOAD:return(function(k){const $=[{type:"load",silent:!!k.silent,source:k.source}];return k.destination&&($[0].destination=k.destination),{prefixes:{},type:"update",updates:$}})(U);case p.CLEAR:return(function(k){return Q(k,"clear")})(U);case p.CREATE:return(function(k){return Q(k,"create")})(U);case p.DROP:return(function(k){return Q(k,"drop")})(U);case p.ADD:return(function(k){return X(k,"add")})(U);case p.MOVE:return(function(k){return X(k,"move")})(U);case p.COPY:return(function(k){return X(k,"copy")})(U)}throw new Error(`Unknown Operation type ${U.type}`)}function _(U){switch(U.expressionType){case f.AGGREGATE:return(function(k){const $={expression:_(k.expression),type:"aggregate",aggregation:k.aggregator,distinct:k.distinct};return k.separator&&($.separator=k.separator),$})(U);case f.EXISTENCE:return(function(k){return{type:"operation",operator:k.not?"notexists":"exists",args:[{type:"group",patterns:d.default.flatten([v(k.input)])}]}})(U);case f.NAMED:return(function(k){return{type:"functionCall",function:k.name,args:k.args.map(_)}})(U);case f.OPERATOR:return(function(k){if(k.operator==="desc")return{expression:_(k.args[0]),descending:!0};const $={type:"operation",operator:k.operator,args:k.args.map(_)};return $.operator!=="in"&&$.operator!=="notin"||($.args=[$.args[0]].concat([$.args.slice(1)])),$})(U);case f.TERM:return(function(k){return k.term})(U);case f.WILDCARD:return(function(k){return k.wildcard})(U)}throw new Error(`Unknown Expression Operation type ${U.expressionType}`)}function w(U){switch(U.type){case p.ALT:return(function(k){const $=k.input.map(w);return $.every(ae=>"pathType"in ae&&ae.pathType==="!")?{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:d.default.flatten($.map(ae=>ae.items))}]}:{type:"path",pathType:"|",items:$}})(U);case p.INV:return(function(k){if(k.path.type===p.NPS){const $=k.path.iris.map(ae=>({type:"path",pathType:"^",items:[ae]}));return $.length<=1?{type:"path",pathType:"!",items:$}:{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:$}]}}return{type:"path",pathType:"^",items:[w(k.path)]}})(U);case p.LINK:return(function(k){return k.iri})(U);case p.NPS:return(function(k){return k.iris.length<=1?{type:"path",pathType:"!",items:k.iris}:{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:k.iris}]}})(U);case p.ONE_OR_MORE_PATH:return(function(k){return{type:"path",pathType:"+",items:[w(k.path)]}})(U);case p.SEQ:return(function(k){return{type:"path",pathType:"/",items:k.input.map(w)}})(U);case p.ZERO_OR_MORE_PATH:return(function(k){return{type:"path",pathType:"*",items:[w(k.path)]}})(U);case p.ZERO_OR_ONE_PATH:return(function(k){return{type:"path",pathType:"?",items:[w(k.path)]}})(U)}throw new Error(`Unknown Path type ${U.type}`)}function S(U){return(0,n.termToString)(U)}function x(U){return Array.isArray(U)?U.length===1?U[0]:{type:"group",patterns:U}:U}function T(U){return U}function O(U){return{subject:U.subject,predicate:U.predicate,object:U.object}}function E(U,k){let $=d.default.isSimpleTerm(U)?S(U):U;if(typeof $=="string"){if(k[$])return k[$]}else if(Array.isArray(U))U=U.map(ae=>E(ae,k));else for(let ae of Object.keys(U))U[ae]=E(U[ae],k);return U}function R(U,k){const $={type:"query",prefixes:{}},ae=$;let he;k===p.PROJECT?($.queryType="SELECT",he=U.variables):k===p.ASK?$.queryType="ASK":k===p.DESCRIBE&&($.queryType="DESCRIBE",he=U.terms);const ye=h.extend,I=h.group,j=h.aggregates,P=h.order;b(),h.project=!0;let L=d.default.flatten([v(U.input)]);L.length===1&&L[0].type==="group"&&(L=L[0].patterns),$.where=L;let G={};for(let ce of h.aggregates)G[S(ce.variable)]=_(ce);let te={};for(let ce=h.extend.length-1;ce>=0;--ce){let de=h.extend[ce];te[S(de.variable)]=E(_(de.expression),G)}h.group.length>0&&(ae.group=h.group.map(ce=>{let de=S(ce);if(te[de]){let Se=te[de];return delete te[de],{variable:ce,expression:Se}}return{expression:ce}})),h.order.length>0&&(ae.order=h.order.map(v).map(ce=>ce.descending?ce:{expression:ce})),he&&(ae.variables=he.map(ce=>{let de=S(ce);if(te[de]){let Se=te[de];return delete te[de],{variable:ce,expression:Se}}return ce}),ae.variables.length===0&&(ae.variables=[new t.Wildcard]));const W=Object.entries(te);if(W.length>0){ae.where=ae.where||[];for(const[ce,de]of W)ae.where.push({type:"bind",variable:(0,n.stringToTerm)(ce),expression:de})}if($.where.length>0&&$.where[$.where.length-1].type==="filter"){const ce=$.where[$.where.length-1];M(ce,Object.keys(G))&&(ae.having=d.default.flatten([E(ce.expression,G)]),$.where.splice(-1))}return h.extend=ye,h.group=I,h.aggregates=j,h.order=P,{type:"group",patterns:[ae]}}function M(U,k){return d.default.isSimpleTerm(U)?k.indexOf(S(U))>=0:Array.isArray(U)?U.some($=>M($,k)):U===Object(U)?Object.keys(U).some($=>M(U[$],k)):k.indexOf(U)>=0}function Q(U,k){const $=[{type:k,silent:!!U.silent}];return U.source==="DEFAULT"?$[0].graph={default:!0}:U.source==="NAMED"?$[0].graph={named:!0}:U.source==="ALL"?$[0].graph={all:!0}:$[0].graph={type:"graph",name:U.source},{prefixes:{},type:"update",updates:$}}function X(U,k){const $=[{type:k,silent:!!U.silent}];return $[0].source=U.source==="DEFAULT"?{type:"graph",default:!0}:{type:"graph",name:U.source},$[0].destination=U.destination==="DEFAULT"?{type:"graph",default:!0}:{type:"graph",name:U.destination},{prefixes:{},type:"update",updates:$}}function V(U){if(!U)return[];const k={};return U.forEach($=>{const ae=$.graph.value;k[ae]||(k[ae]=[]),k[ae].push($)}),Object.keys(k).map($=>$===""?{type:"bgp",triples:k[$].map(O)}:{type:"graph",triples:k[$].map(O),name:k[$][0].graph})}function H(U,k){if(Array.isArray(U))return U.map(I=>H(I,k));if(!U.type||U.type===p.DELETE_INSERT)return U;if((U.type===p.PATTERN||U.type===p.PATH)&&U.graph)return k.push(U.graph),U.graph.name!==""?U.type===p.PATTERN?y.createPattern(U.subject,U.predicate,U.object):y.createPath(U.subject,U.predicate,U.object):U;const $={},ae={},he={};for(let I of Object.keys(U)){const j=[];if($[I]=H(U[I],j),j.length>0){ae[I]=j;for(const P of j)he[P.value]=P}}const ye=Object.keys(he);if(ye.length>0)if(ye.length!==1||[p.PROJECT,p.SERVICE].includes(U.type)){if(U.type===p.BGP)return(function(I,j){var P;const L={};for(let W=0;W<I.patterns.length;++W){const ce=I.patterns[W],de=j[W].value;L[de]=(P=L[de])!==null&&P!==void 0?P:{patterns:[],graph:j[W]},L[de].patterns.push(ce)}let G=[];for(const[W,{patterns:ce,graph:de}]of Object.entries(L)){const Se=y.createBgp(ce);G.push(W===""?Se:y.createGraph(Se,de))}let te=G[0];for(let W=1;W<G.length;++W)te=y.createJoin([te,G[W]]);return te})(U,ae.patterns);for(let I of Object.keys(ae)){const j=$[I];Array.isArray(j)?$[I]=j.map((P,L)=>ae[I][0].value===""?P:y.createGraph(P,ae[I][L])):ae[I][0].value!==""&&($[I]=y.createGraph(j,ae[I][0]))}}else k.push(he[ye[0]]);return $}e.toSparql=function(U,k={}){return new t.Generator(k).stringify(m(U))},e.toSparqlJs=m},3742:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionUuid=void 0;const c=s(77617),o=s(77545),u=s(40182);class i extends c.TermFunctionBase{constructor(){super({arity:0,operator:o.SparqlOperator.UUID,overloads:(0,o.declare)(o.SparqlOperator.UUID).set([],()=>()=>new o.NamedNode(`urn:uuid:${u.v4()}`)).collect()})}}e.TermFunctionUuid=i},3863:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionStrStarts=void 0;const c=s(77617),o=s(77545);class u extends c.TermFunctionBase{constructor(){super({arity:2,operator:o.SparqlOperator.STRSTARTS,overloads:(0,o.declare)(o.SparqlOperator.STRSTARTS).onBinaryTyped([o.TypeAlias.SPARQL_STRINGLY,o.TypeURL.XSD_STRING],()=>(r,n)=>(0,o.bool)(r.startsWith(n))).onBinary([o.TypeURL.RDF_LANG_STRING,o.TypeURL.RDF_LANG_STRING],()=>(r,n)=>{if(r.language!==n.language)throw new o.IncompatibleLanguageOperation(r,n);return(0,o.bool)(r.typedValue.startsWith(n.typedValue))}).collect()})}}e.TermFunctionStrStarts=u},3898:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.QuerySourceSkolemized=void 0;const c=s(90711),o=s(99214),u=s(75627),i=s(28703);e.QuerySourceSkolemized=class{constructor(r,n){this.innerSource=r,this.sourceId=n}async getSelectorShape(r){return this.innerSource.getSelectorShape(r)}queryBindings(r,n,t){const a=n.getSafe(c.KeysInitQuery.dataFactory),l=(0,i.deskolemizeOperation)(a,r,this.sourceId);if(!l){const d=new u.ArrayIterator([],{autoStart:!1});return d.setProperty("metadata",{state:new o.MetadataValidationState,cardinality:{type:"exact",value:0},variables:[]}),d}return(0,i.skolemizeBindingsStream)(a,this.innerSource.queryBindings(l,n,t),this.sourceId)}queryBoolean(r,n){return this.innerSource.queryBoolean(r,n)}queryQuads(r,n){const t=n.getSafe(c.KeysInitQuery.dataFactory),a=(0,i.deskolemizeOperation)(t,r,this.sourceId);if(!a){const l=new u.ArrayIterator([],{autoStart:!1});return l.setProperty("metadata",{state:new o.MetadataValidationState,cardinality:{type:"exact",value:0}}),l}return(0,i.skolemizeQuadStream)(t,this.innerSource.queryQuads(a,n),this.sourceId)}queryVoid(r,n){return this.innerSource.queryVoid(r,n)}get referenceValue(){return this.innerSource.referenceValue}toString(){return`${this.innerSource.toString()}(SkolemID:${this.sourceId})`}}},4047:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(19480),e)},4136:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermIsIri=void 0;const c=s(77617),o=s(77545),u=s(3035);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.SparqlOperator.IS_IRI,o.SparqlOperator.IS_URI],termFunction:!0})}async run(n){return new u.TermFunctionIsIri}}e.ActorFunctionFactoryTermIsIri=i},4147:(g,e,s)=>{const{SymbolDispose:c}=s(24134),{AbortError:o,codes:u}=s(76371),{isNodeStream:i,isWebStream:r,kControllerErrorFunction:n}=s(16115),t=s(86238),{ERR_INVALID_ARG_TYPE:a}=u;let l;g.exports.addAbortSignal=function(d,p){if((f=>{if(typeof f!="object"||!("aborted"in f))throw new a("signal","AbortSignal",f)})(d),!i(p)&&!r(p))throw new a("stream",["ReadableStream","WritableStream","Stream"],p);return g.exports.addAbortSignalNoValidate(d,p)},g.exports.addAbortSignalNoValidate=function(d,p){if(typeof d!="object"||!("aborted"in d))return p;const f=i(p)?()=>{p.destroy(new o(void 0,{cause:d.reason}))}:()=>{p[n](new o(void 0,{cause:d.reason}))};if(d.aborted)f();else{l=l||s(57760).addAbortListener;const h=l(d,f);t(p,h[c])}return p}},4367:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Variable=void 0,e.Variable=class{constructor(s){this.termType="Variable",this.value=s}equals(s){return!!s&&s.termType==="Variable"&&s.value===this.value}}},4391:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(55009),e),o(s(22910),e),o(s(67057),e),o(s(968),e),o(s(1463),e),o(s(57044),e),o(s(13381),e),o(s(89339),e),o(s(86085),e),o(s(62784),e)},4397:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isTermGrounded=e.termToSignature=e.quadToSignature=e.sha1hex=e.hashTerm=e.hashTerms=e.getGraphBlankNodes=e.uniqGraph=e.deindexGraph=e.indexGraph=e.getQuadsWithoutBlankNodes=e.getQuadsWithBlankNodes=e.hasValue=e.hashValues=e.getBijectionInner=e.getBijection=e.isomorphic=void 0;const c=s(77952),o=s(32072),u=s(3285);function i(x,T){const O=p(d(x)),E=p(d(T));if(Object.keys(O).length!==Object.keys(E).length)return null;for(const R in O)if(O[R]!==E[R])return null;return r(h(l(x)),h(l(T)),y(x),y(T))}function r(x,T,O,E,R,M){R||(R={}),M||(M={});const[Q,X]=m(x,O,R),[V,H]=m(T,E,M);if(Object.keys(Q).length!==Object.keys(V).length)return null;for(const k in Q)if(!a(V,Q[k]))return null;let U={};for(const k of O){const $=o.termToString(k),ae=X[$];for(const he in H)if(H[he]===ae){U[$]=he,delete H[he];break}}if(!n(Object.keys(U).sort(),O.map(o.termToString).sort())||!n(t(U).sort(),E.map(o.termToString).sort())){U=null;for(const k of O){const $=o.termToString(k);if(!Q[$])for(const ae of E){const he=o.termToString(ae);if(!V[he]&&X[$]===H[he]){const ye=v($);U=r(x,T,O,E,Object.assign(Object.assign({},Q),{[$]:ye}),Object.assign(Object.assign({},V),{[he]:ye}))}}}}return U}function n(x,T){if(x.length!==T.length)return!1;for(let O=x.length;O--;)if(x[O]!==T[O])return!1;return!0}function t(x){const T=[];for(const O in x)T.push(x[O]);return T}function a(x,T){for(const O in x)if(x[O]===T)return!0;return!1}function l(x){return x.filter(T=>u.someTerms(T,O=>O.termType==="BlankNode"||O.termType==="Quad"&&u.getTermsNested(O).some(E=>E.termType==="BlankNode")))}function d(x){return x.filter(T=>u.everyTerms(T,O=>O.termType!=="BlankNode"&&!(O.termType==="Quad"&&u.getTermsNested(O).some(E=>E.termType==="BlankNode"))))}function p(x){const T={};for(const O of x)T[JSON.stringify(o.quadToStringQuad(O))]=!0;return T}function f(x){return Object.keys(x).map(T=>o.stringQuadToQuad(JSON.parse(T)))}function h(x){return f(p(x))}function y(x){return u.uniqTerms(x.map(T=>u.getBlankNodes(u.getTermsNested(T))).reduce((T,O)=>T.concat(O),[]))}function m(x,T,O){const E=Object.assign({},O),R={};let M=!0;for(;M;){const Q=Object.keys(E).length;for(const V of T){const H=o.termToString(V);if(!E[H]){const[U,k]=b(V,x,E);U&&(E[H]=k),R[H]=k}}const X={};for(const V in R){const H=R[V];X[H]===void 0?X[H]=V:X[H]=!1}for(const V in X){const H=X[V];H&&(E[H]=V)}M=Q!==Object.keys(E).length}return[E,R]}function b(x,T,O){const E=[];let R=!0;for(const M of T){const Q=u.getTermsNested(M);if(Q.some(X=>X.equals(x))){E.push(_(M,O,x));for(const X of Q)S(X,O)||X.equals(x)||(R=!1)}}return[R,v(E.sort().join(""))]}function v(x){return c.sha1().update(x).digest("hex")}function _(x,T,O){return u.getTerms(x).map(E=>w(E,T,O)).join("|")}function w(x,T,O){return x.equals(O)?"@self":x.termType==="BlankNode"?T[o.termToString(x)]||"@blank":x.termType==="Quad"?`<${_(x,T,O)}>`:o.termToString(x)}function S(x,T){return x.termType!=="BlankNode"&&!(x.termType==="Quad"&&u.getTermsNested(x).some(O=>!S(O,T)))||!!T[o.termToString(x)]}e.isomorphic=function(x,T){return!!i(x,T)},e.getBijection=i,e.getBijectionInner=r,e.hashValues=t,e.hasValue=a,e.getQuadsWithBlankNodes=l,e.getQuadsWithoutBlankNodes=d,e.indexGraph=p,e.deindexGraph=f,e.uniqGraph=h,e.getGraphBlankNodes=y,e.hashTerms=m,e.hashTerm=b,e.sha1hex=v,e.quadToSignature=_,e.termToSignature=w,e.isTermGrounded=S},4405:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ContextTree=void 0;class s{constructor(){this.subTrees={}}getContext(o){if(o.length>0){const[u,...i]=o,r=this.subTrees[u];if(r){const n=r.getContext(i);if(n)return n.then(({context:t,depth:a})=>({context:t,depth:a+1}))}}return this.context?this.context.then(u=>({context:u,depth:0})):null}setContext(o,u){if(o.length===0)this.context=u;else{const[i,...r]=o;let n=this.subTrees[i];n||(n=this.subTrees[i]=new s),n.setContext(r,u)}}removeContext(o){this.setContext(o,null)}}e.ContextTree=s},4450:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BlankNodeScoped=void 0,e.BlankNodeScoped=class{constructor(s,c){this.termType="BlankNode",this.value=s,this.skolemized=c}equals(s){return!!s&&s.termType==="BlankNode"&&s.value===this.value}}},4475:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(26615),e)},4518:(g,e,s)=>{let c=s(75627).AsyncIterator;g.exports=class extends c{constructor(o,u,i,r){super(),this.addedDataListener=!1,this.left=o,this.right=u,this.funHash=i,this.funJoin=r,this.leftMap=new Map,this.match=null,this.matches=[],this.matchIdx=0,this.left.on("error",n=>this.destroy(n)),this.right.on("error",n=>this.destroy(n)),this.readable=!1,this.left.on("end",(function(){this.readable=!0,this.right.on("readable",()=>this.readable=!0),this.right.on("end",()=>{this.hasResults()||this._end()})}).bind(this)),this.on("newListener",n=>{n==="data"&&this._addDataListenerIfNeeded()}),this.left.readable&&this._addDataListenerIfNeeded(),this.left.on("readable",()=>this._addDataListenerIfNeeded())}hasResults(){return!this.right.ended||this.matchIdx<this.matches.length}_end(){super._end(),this.left.destroy(),this.right.destroy()}read(){for(this._addDataListenerIfNeeded();;){if(this.ended||!this.readable)return null;for(;this.matchIdx<this.matches.length;){let u=this.matches[this.matchIdx++],i=this.funJoin(u,this.match);if(i!==null)return i}if(this.hasResults()||this._end(),this.match=this.right.read(),this.match===null)return this.readable=!1,null;let o=this.funHash(this.match);this.matches=this.leftMap.get(o)||[],this.matchIdx=0}}_addDataListenerIfNeeded(){this.addedDataListener||(this.addedDataListener=!0,this._addDataListener())}_addDataListener(){this.left.on("data",(function(o){let u=this.funHash(o),i=this.leftMap.get(u);i||(i=[],this.leftMap.set(u,i)),i.push(o)}).bind(this))}}},4519:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BindingsIndexDef=void 0,e.BindingsIndexDef=class{constructor(s,c){this.keys=s.map(o=>o.variable),this.hashFn=c,this.index={}}put(s,c){return this.index[this.hashFn(s,this.keys)]=c}get(s){const c=this.getFirst(s);return c?[c]:[]}getFirst(s){return this.index[this.hashFn(s,this.keys)]}values(){return Object.values(this.index)}}},4523:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(81093),e)},4535:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(9875),e)},4669:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(914),e)},4809:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(77571),e),o(s(40274),e),o(s(54236),e),o(s(44858),e)},4898:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(1209),e)},4945:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfJoinSelectivity=void 0;const c=s(90412);class o extends c.Actor{constructor(i){super(i)}}e.ActorRdfJoinSelectivity=o},4996:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorHttpInvalidate=void 0;const c=s(90412);class o extends c.Actor{constructor(i){super(i)}}e.ActorHttpInvalidate=o},5008:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryOperationDrop=void 0;const c=s(66490),o=s(90711),u=s(67021);class i extends c.ActorQueryOperationTypedMediated{constructor(n){super(n,"drop")}async testOperation(n,t){return(0,u.testReadOnly)(t)}async runOperation(n,t){const a=t.getSafe(o.KeysInitQuery.dataFactory);let l;l=n.source==="DEFAULT"?a.defaultGraph():typeof n.source=="string"?n.source:[n.source];const{execute:d}=await this.mediatorUpdateQuads.mediate({deleteGraphs:{graphs:l,requireExistence:!n.silent,dropGraphs:!0},context:t});return{type:"void",execute:d}}}e.ActorQueryOperationDrop=i},5118:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(79646),e)},5148:g=>{var e=(function(){var s=function(De,Ue,Ve,Ge){for(Ve=Ve||{},Ge=De.length;Ge--;Ve[De[Ge]]=Ue);return Ve},c=[7,12,13,14,15,16,20,25,115,130],o=[7,13,16,20,25,115,130],u=[7,13,16,115,130],i=[1,25],r=[1,29],n=[1,27],t=[1,28],a=[13,16,115,130],l=[13,16,28,38,40,42,44,46,48,53,56,61,67,85,87,92,93,95,96,102,110,111,115,119,120,126,128,129,130,131,132,133,134,135,136],d=[28,56],p=[1,42],f=[46,48,53,56],h=[1,54],y=[1,60],m=[1,56],b=[1,57],v=[1,58],_=[1,63],w=[1,64],S=[1,65],x=[1,66],T=[1,67],O=[1,68],E=[1,75],R=[28,46,48,53,56],M=[28,42,46,48,53,56],Q=[13,16,28,38,40,42,44,46,48,53,56,92,115,119,120,130,131,132,133,134,135,136],X=[13,16,28,38,40,42,44,46,48,53,56,67,85,87,92,95,96,115,119,120,126,128,129,130,131,132,133,134,135,136],V=[13,16,38,40,44,92,115,119,120,130,131,132,133,134,135,136],H=[13,16,28,38,40,42,44,46,48,53,56,67,85,87,92,95,96,115,117,118,119,120,126,128,129,130,131,132,133,134,135,136],U=[13,16,28,56,115,130],k=[13,16,38,58,87,96,109,115,126,130],$=[1,116],ae=[1,112],he=[1,108],ye=[1,114],I=[1,111],j=[7,13,16,20,25,44,48,53,56,67,85,87,95,96,115,128,129,130],P=[48,53],L=[48,53,87,96,126],G=[13,16,44,48,53,56,85,87,95,96,115,128,129,130],te=[1,126],W=[13,16,40,44,48,53,56,85,87,95,96,115,128,129,130],ce=[1,129],de=[48,53,67,87,96,126],Se=[13,16,40,44,48,53,56,67,85,87,95,96,115,128,129,130],ie=[1,133],me=[13,16,40,44,48,53,56,67,85,87,95,96,102,115,128,129,130],oe=[13,16,40,44,48,53,56,67,85,87,93,95,96,102,110,111,115,128,129,130],ve=[1,151],xe=[1,153],q=[1,156],N=[1,157],B=[1,158],J=[1,167],ne=[1,175],re=[13,16,44,48,53,56,67,85,87,95,96,115,128,129,130],fe=[13,16,44,48,53,56,67,85,87,95,96,115,126,128,129,130],_e=[13,16,46,92,115,119,120,130,131,132,133,134,135,136],we={trace:function(){},yy:{},symbols_:{error:2,shaclDoc:3,shaclDoc_repetition0:4,shaclDoc_repetition1:5,ttlSection:6,EOF:7,directive:8,baseDecl:9,importsDecl:10,prefixDecl:11,KW_BASE:12,IRIREF:13,KW_IMPORTS:14,KW_PREFIX:15,PNAME_NS:16,nodeShapeIri:17,iri:18,nodeShape:19,KW_SHAPE:20,nodeShape_option0:21,nodeShape_option1:22,nodeShapeBody:23,shapeClass:24,KW_SHAPE_CLASS:25,shapeClass_option0:26,turtleAnnotation:27,";":28,turtleAnnotation2:29,predicate:30,turtleAnnotation2_option0:31,objectList:32,object:33,objectList_repetition0:34,iriOrLiteral:35,blankNodeSection:36,list:37,"(":38,list_repetition0:39,")":40,objectTail:41,",":42,LB:43,"[":44,RB:45,"]":46,LP:47,"%":48,RP:49,pcSection:50,iriHead:51,ttlStatement:52,".":53,ttlSection_repetition0:54,startNodeShape:55,"{":56,endNodeShape:57,"}":58,nodeShapeBody_repetition0:59,targetClass:60,"->":61,targetClass_repetition_plus0:62,constraint:63,constraint_group0:64,constraint_option0:65,orNotComponent:66,"|":67,nodeNot:68,nodeOrEmit:69,nodeOr:70,nodeOr_repetition_plus0:71,nodeValue:72,negation:73,nodeValue_group0:74,"=":75,iriOrLiteralOrArray:76,propertyShape:77,path:78,propertyShape_repetition0:79,propertyOrComponent:80,propertyNot:81,propertyOr:82,propertyOr_repetition_plus0:83,propertyAtom:84,NODEKIND:85,shapeRef:86,PARAM:87,propertyCount:88,propertyMinCount:89,"..":90,propertyMaxCount:91,INTEGER:92,"*":93,shapeRef_group0:94,"@":95,"!":96,pathAlternative:97,additionalAlternative:98,pathSequence:99,pathAlternative_repetition_plus0:100,additionalSequence:101,"/":102,pathEltOrInverse:103,pathSequence_repetition_plus0:104,pathElt:105,pathPrimary:106,pathMod:107,pathInverse:108,"^":109,"?":110,"+":111,iriOrLiteralOrArray_repetition0:112,literal:113,iri_group0:114,a:115,string:116,LANGTAG:117,"^^":118,DECIMAL:119,DOUBLE:120,literal_group0:121,string_group0:122,string_group1:123,shaclDoc_repetition1_group0:124,constraint_group0_repetition_plus0:125,TARGET:126,propertyShape_repetition0_group0:127,ATPNAME_LN:128,ATPNAME_NS:129,PNAME_LN:130,KW_TRUE:131,KW_FALSE:132,STRING_LITERAL1:133,STRING_LITERAL2:134,STRING_LITERAL_LONG1:135,STRING_LITERAL_LONG2:136,$accept:0,$end:1},terminals_:{2:"error",7:"EOF",12:"KW_BASE",13:"IRIREF",14:"KW_IMPORTS",15:"KW_PREFIX",16:"PNAME_NS",20:"KW_SHAPE",25:"KW_SHAPE_CLASS",28:";",38:"(",40:")",42:",",44:"[",46:"]",48:"%",53:".",56:"{",58:"}",61:"->",67:"|",75:"=",85:"NODEKIND",87:"PARAM",90:"..",92:"INTEGER",93:"*",95:"@",96:"!",102:"/",109:"^",110:"?",111:"+",115:"a",117:"LANGTAG",118:"^^",119:"DECIMAL",120:"DOUBLE",126:"TARGET",128:"ATPNAME_LN",129:"ATPNAME_NS",130:"PNAME_LN",131:"KW_TRUE",132:"KW_FALSE",133:"STRING_LITERAL1",134:"STRING_LITERAL2",135:"STRING_LITERAL_LONG1",136:"STRING_LITERAL_LONG2"},productions_:[0,[3,4],[8,1],[8,1],[8,1],[9,2],[10,2],[11,3],[17,1],[19,5],[24,4],[27,2],[29,2],[30,2],[32,2],[33,1],[33,1],[33,1],[37,3],[41,2],[43,1],[45,1],[36,3],[47,1],[49,1],[50,3],[51,1],[52,3],[6,1],[55,1],[57,1],[23,3],[60,2],[63,3],[66,2],[69,1],[70,1],[70,2],[68,1],[68,2],[72,3],[77,2],[80,2],[82,1],[82,2],[81,1],[81,2],[84,1],[84,1],[84,1],[84,3],[84,1],[88,5],[89,1],[91,1],[91,1],[86,1],[86,2],[73,1],[78,1],[98,2],[97,1],[97,2],[101,2],[99,1],[99,2],[105,1],[105,2],[103,1],[103,2],[108,1],[107,1],[107,1],[107,1],[106,1],[106,3],[76,1],[76,3],[35,1],[35,1],[18,1],[18,1],[18,1],[113,1],[113,2],[113,3],[113,1],[113,1],[113,1],[113,1],[116,1],[116,1],[4,0],[4,2],[124,1],[124,1],[5,0],[5,2],[21,0],[21,1],[22,0],[22,1],[26,0],[26,1],[31,0],[31,1],[34,0],[34,2],[39,0],[39,2],[54,0],[54,2],[59,0],[59,2],[62,1],[62,2],[125,1],[125,2],[64,1],[64,1],[65,0],[65,1],[71,1],[71,2],[74,1],[74,1],[127,1],[127,1],[79,0],[79,2],[83,1],[83,2],[94,1],[94,1],[100,1],[100,2],[104,1],[104,2],[112,0],[112,2],[114,1],[114,1],[121,1],[121,1],[122,1],[122,1],[123,1],[123,1]],performAction:function(De,Ue,Ve,Ge,Ze,$e,ze){var ot,ht,Ye=$e.length-1;switch(Ze){case 1:this.$=ee(Ee.factory.namedNode(pt("")),Ee.factory.namedNode(je),Ee.factory.namedNode(Ke+"Ontology"));break;case 5:Ee.base=Ee.factory.namedNode($e[Ye].slice(1,-1)),Ee.n3Parser._setBase(pt(Ee.base.value));break;case 6:this.$=ee(Ee.base,Ee.factory.namedNode(Ke+"imports"),Ee.factory.namedNode($e[Ye].slice(1,-1)));break;case 7:this.$=Ee.prefixes[$e[Ye-1].substr(0,$e[Ye-1].length-1)]=pt($e[Ye]);break;case 8:Ee.nodeShapeStack=!1,ee(Ee.currentNodeShape=$e[Ye],Ee.factory.namedNode(je),Ee.factory.namedNode(Te+"NodeShape"));break;case 10:this.$=ee(Ee.currentNodeShape,Ee.factory.namedNode(je),Ee.factory.namedNode(it+"Class"));break;case 11:this.$=Re();break;case 13:this.$=$e[Ye].forEach(lt=>ee(Ee.currentNodeShape,$e[Ye-1],lt));break;case 14:this.$=[$e[Ye-1],...$e[Ye]];break;case 18:this.$=rt($e[Ye-1],!0);break;case 19:case 34:case 42:case 60:case 63:this.$=$e[Ye];break;case 20:Ee.tempCurrentNodeShape=Ee.currentNodeShape,this.$=Ee.currentNodeShape=Ne();break;case 21:case 24:Ee.currentNodeShape=Ee.tempCurrentNodeShape;break;case 22:case 31:this.$=$e[Ye-2];break;case 23:Ee.tempCurrentNodeShape=Ee.currentNodeShape,Ee.currentNodeShape=Ee.currentPropertyNode;break;case 26:Ee.currentNodeShape=$e[Ye];break;case 29:Ee.nodeShapeStack?(Ee.nodeShapeStack.push(Ee.currentNodeShape),ee(Ee.currentPropertyNode,Ee.factory.namedNode(Te+"node"),Ee.currentNodeShape=Ne())):Ee.nodeShapeStack=[],this.$=Ee.currentNodeShape;break;case 30:Ee.nodeShapeStack.length>0&&(Ee.currentNodeShape=Ee.nodeShapeStack.pop());break;case 32:this.$=$e[Ye].forEach(lt=>{ee(Ee.currentNodeShape,Ee.factory.namedNode(Te+"targetClass"),lt)});break;case 35:this.$=ee(Ee.currentNodeShape,Ee.factory.namedNode(Te+$e[Ye][0]),$e[Ye][1]);break;case 36:break;case 37:const Dt=rt([$e[Ye-1],...$e[Ye]].map(lt=>{const dt=Ne();return ee(dt,Ee.factory.namedNode(Te+lt[0]),lt[1]),dt}));this.$=["or",Dt];break;case 39:case 46:this.$=(function(lt,dt,wt){const Er=Ne();return ee(Er,Ee.factory.namedNode(Te+dt),wt),[lt,Er]})("not",...$e[Ye]);break;case 40:case 50:this.$=[$e[Ye-2],$e[Ye]];break;case 43:this.$=$e[Ye]&&pe(...$e[Ye]);break;case 44:this.$=pe("or",rt([$e[Ye-1],...$e[Ye]].map(lt=>{const dt=Ne();return ee(dt,Ee.factory.namedNode(Te+lt[0]),lt[1]),dt})));break;case 47:this.$=[st[$e[Ye].value]?"datatype":"class",$e[Ye]];break;case 48:this.$=["nodeKind",Ee.factory.namedNode(Te+$e[Ye])];break;case 49:this.$=["node",Ee.factory.namedNode($e[Ye])];break;case 51:this.$=void 0;break;case 53:this.$=$e[Ye]>0&&pe("minCount",at($e[Ye],qe));break;case 54:this.$=pe("maxCount",at($e[Ye],qe));break;case 56:this.$=mt($e[Ye].slice(1));break;case 57:this.$=pt($e[Ye]);break;case 59:ee(Ee.currentNodeShape,Ee.factory.namedNode(Te+"property"),Ee.currentPropertyNode=Ne()),pe("path",$e[Ye]);break;case 62:const yt=Ne();ee(yt,Ee.factory.namedNode(Te+"alternativePath"),rt([$e[Ye-1],...$e[Ye]])),this.$=yt;break;case 65:this.$=rt([$e[Ye-1],...$e[Ye]]);break;case 67:ee(this.$=Ne(),Ee.factory.namedNode(Te+$e[Ye]),$e[Ye-1]);break;case 69:ee(this.$=Ne(),Ee.factory.namedNode(Te+"inversePath"),$e[Ye]);break;case 71:this.$="zeroOrOnePath";break;case 72:this.$="zeroOrMorePath";break;case 73:this.$="oneOrMorePath";break;case 75:this.$=$e[Ye-1];break;case 77:this.$=rt($e[Ye-1]);break;case 80:this.$=Ee.factory.namedNode(pt($e[Ye]));break;case 81:this.$=Ee.factory.namedNode(mt($e[Ye]));break;case 82:this.$=Re(Ee.factory.namedNode(je));break;case 83:this.$=at($e[Ye]);break;case 84:this.$=(ot=$e[Ye-1],ht=$e[Ye].substr(1).toLowerCase(),Ee.factory.literal(ot,ht));break;case 85:this.$=at($e[Ye-2],$e[Ye]);break;case 86:this.$=at($e[Ye],qe);break;case 87:this.$=at($e[Ye],Be);break;case 88:this.$=at($e[Ye].toLowerCase(),He);break;case 89:this.$=at($e[Ye].toLowerCase(),Ae);break;case 90:this.$=Y($e[Ye],1);break;case 91:this.$=Y($e[Ye],3);break;case 92:case 96:case 106:case 108:case 110:case 112:case 128:case 138:this.$=[];break;case 93:case 97:case 107:case 109:case 111:case 113:case 115:case 117:case 123:case 129:case 131:case 135:case 137:case 139:$e[Ye-1].push($e[Ye]);break;case 114:case 116:case 122:case 130:case 134:case 136:this.$=[$e[Ye]]}},table:[s(c,[2,92],{3:1,4:2}),{1:[3]},s(o,[2,96],{5:3,8:4,9:5,10:6,11:7,12:[1,8],14:[1,9],15:[1,10]}),s(u,[2,110],{6:11,124:12,54:13,19:14,24:15,20:[1,16],25:[1,17]}),s(c,[2,93]),s(c,[2,2]),s(c,[2,3]),s(c,[2,4]),{13:[1,18]},{13:[1,19]},{16:[1,20]},{7:[1,21]},s(o,[2,97]),{7:[2,28],13:i,16:r,18:24,51:23,52:22,114:26,115:n,130:t},s(o,[2,94]),s(o,[2,95]),{13:i,16:r,17:30,18:31,114:26,115:n,130:t},{13:i,16:r,17:32,18:31,114:26,115:n,130:t},s(c,[2,5]),s(c,[2,6]),{13:[1,33]},{1:[2,1]},s(u,[2,111]),{13:i,16:r,18:36,29:34,30:35,114:26,115:n,130:t},s(a,[2,26]),s(l,[2,80]),s(l,[2,81]),s(l,[2,82]),s(l,[2,140]),s(l,[2,141]),s(d,[2,98],{21:37,60:38,61:[1,39]}),s([28,56,61],[2,8]),{26:40,27:41,28:p,56:[2,102]},s(c,[2,7]),{53:[1,43]},s(f,[2,104],{31:44,27:45,28:p}),{13:i,16:r,18:51,32:46,33:47,35:48,36:49,37:50,38:h,43:53,44:y,92:m,113:52,114:26,115:n,116:55,119:b,120:v,121:59,122:61,123:62,130:t,131:_,132:w,133:S,134:x,135:T,136:O},{22:69,27:70,28:p,56:[2,100]},s(d,[2,99]),{13:i,16:r,18:72,62:71,114:26,115:n,130:t},{23:73,55:74,56:E},{56:[2,103]},{13:i,16:r,18:36,29:76,30:35,114:26,115:n,130:t},s(u,[2,27]),s(f,[2,12]),s(f,[2,105]),s(R,[2,13]),s(M,[2,106],{34:77}),s(Q,[2,15]),s(Q,[2,16]),s(Q,[2,17]),s(X,[2,78]),s(X,[2,79]),{13:i,16:r,18:36,29:78,30:35,114:26,115:n,130:t},s(V,[2,108],{39:79}),s(X,[2,83],{117:[1,80],118:[1,81]}),s(X,[2,86]),s(X,[2,87]),s(X,[2,88]),s(X,[2,89]),s(a,[2,20]),s(H,[2,90]),s(H,[2,91]),s(X,[2,142]),s(X,[2,143]),s(H,[2,144]),s(H,[2,145]),s(H,[2,146]),s(H,[2,147]),{23:82,55:74,56:E},{56:[2,101]},s(d,[2,32],{114:26,18:83,13:i,16:r,115:n,130:t}),s(U,[2,114]),s(o,[2,10]),s(k,[2,112],{59:84}),s(k,[2,29]),s(f,[2,11]),s(R,[2,14],{41:85,42:[1,86]}),{45:87,46:[1,88]},{13:i,16:r,18:51,33:90,35:48,36:49,37:50,38:h,40:[1,89],43:53,44:y,92:m,113:52,114:26,115:n,116:55,119:b,120:v,121:59,122:61,123:62,130:t,131:_,132:w,133:S,134:x,135:T,136:O},s(X,[2,84]),{13:i,16:r,18:91,114:26,115:n,130:t},s(o,[2,9]),s(U,[2,115]),{13:i,16:r,18:115,38:$,57:92,58:[1,94],63:93,64:95,68:102,69:98,70:100,72:104,73:105,74:107,77:97,78:99,87:ae,96:he,97:101,99:103,103:106,105:109,106:113,108:110,109:ye,114:26,115:n,125:96,126:I,130:t},s(M,[2,107]),{13:i,16:r,18:51,33:117,35:48,36:49,37:50,38:h,43:53,44:y,92:m,113:52,114:26,115:n,116:55,119:b,120:v,121:59,122:61,123:62,130:t,131:_,132:w,133:S,134:x,135:T,136:O},s(Q,[2,22]),s(Q,[2,21]),s(Q,[2,18]),s(V,[2,109]),s(X,[2,85]),s(j,[2,31]),s(k,[2,113]),s(j,[2,30]),{47:120,48:[1,121],50:119,53:[2,120],65:118},s(P,[2,118],{70:100,68:102,72:104,73:105,74:107,69:122,87:ae,96:he,126:I}),s(P,[2,119]),s(L,[2,116]),s(G,[2,128],{79:123}),s(L,[2,35]),s(G,[2,59]),s(L,[2,36],{71:124,66:125,67:te}),s(W,[2,61],{100:127,98:128,67:ce}),s(de,[2,38]),{72:130,74:107,87:ae,126:I},s(Se,[2,64],{104:131,101:132,102:ie}),{75:[1,134]},s([13,16,56,85,87,95,115,126,128,129,130],[2,58]),s(me,[2,68]),{13:i,16:r,18:115,38:$,105:135,106:113,114:26,115:n,130:t},{75:[2,124]},{75:[2,125]},s(me,[2,66],{107:136,93:[1,138],110:[1,137],111:[1,139]}),s([13,16,38,115,130],[2,70]),s(oe,[2,74]),{13:i,16:r,18:115,38:$,97:140,99:103,103:106,105:109,106:113,108:110,109:ye,114:26,115:n,130:t},s(M,[2,19]),{53:[1,141]},{53:[2,121]},{13:i,16:r,18:36,29:142,30:35,114:26,115:n,130:t},s(a,[2,23]),s(L,[2,117]),s(P,[2,41],{114:26,55:74,127:143,88:144,82:145,81:147,84:148,73:149,18:150,86:152,23:154,94:155,13:i,16:r,44:[1,146],56:E,85:ve,87:xe,95:q,96:he,115:n,128:N,129:B,130:t}),s(L,[2,37],{66:159,67:te}),s(de,[2,122]),{68:160,72:104,73:105,74:107,87:ae,96:he,126:I},s(W,[2,62],{98:161,67:ce}),s(Se,[2,134]),{13:i,16:r,18:115,38:$,99:162,103:106,105:109,106:113,108:110,109:ye,114:26,115:n,130:t},s(de,[2,39]),s(Se,[2,65],{101:163,102:ie}),s(me,[2,136]),{13:i,16:r,18:115,38:$,103:164,105:109,106:113,108:110,109:ye,114:26,115:n,130:t},{13:i,16:r,18:51,35:166,44:J,76:165,92:m,113:52,114:26,115:n,116:55,119:b,120:v,121:59,122:61,123:62,130:t,131:_,132:w,133:S,134:x,135:T,136:O},s(me,[2,69]),s(me,[2,67]),s(me,[2,71]),s(me,[2,72]),s(me,[2,73]),{40:[1,168]},s(k,[2,33]),{48:[1,170],49:169},s(G,[2,129]),s(G,[2,126]),s(G,[2,127]),{89:171,92:[1,172]},s(G,[2,43],{83:173,80:174,67:ne}),s(re,[2,45]),{13:i,16:r,18:150,23:154,55:74,56:E,84:176,85:ve,86:152,87:xe,94:155,95:q,114:26,115:n,128:N,129:B,130:t},s(re,[2,47]),s(re,[2,48]),s(re,[2,49]),{75:[1,177]},s(re,[2,51]),s(re,[2,56]),{13:[1,178]},s(re,[2,132]),s(re,[2,133]),s(de,[2,123]),s(de,[2,34]),s(Se,[2,135]),s(Se,[2,60]),s(me,[2,137]),s(me,[2,63]),s(de,[2,40]),s(fe,[2,76]),s(_e,[2,138],{112:179}),s(oe,[2,75]),{53:[2,25]},{53:[2,24]},{90:[1,180]},{90:[2,53]},s(G,[2,44],{80:181,67:ne}),s(re,[2,130]),{13:i,16:r,18:150,23:154,55:74,56:E,73:149,81:182,84:148,85:ve,86:152,87:xe,94:155,95:q,96:he,114:26,115:n,128:N,129:B,130:t},s(re,[2,46]),{13:i,16:r,18:51,35:166,44:J,76:183,92:m,113:52,114:26,115:n,116:55,119:b,120:v,121:59,122:61,123:62,130:t,131:_,132:w,133:S,134:x,135:T,136:O},s(re,[2,57]),{13:i,16:r,18:51,35:185,46:[1,184],92:m,113:52,114:26,115:n,116:55,119:b,120:v,121:59,122:61,123:62,130:t,131:_,132:w,133:S,134:x,135:T,136:O},{91:186,92:[1,187],93:[1,188]},s(re,[2,131]),s(re,[2,42]),s(re,[2,50]),s(fe,[2,77]),s(_e,[2,139]),{46:[1,189]},{46:[2,54]},{46:[2,55]},s(G,[2,52])],defaultActions:{21:[2,1],41:[2,103],70:[2,101],111:[2,124],112:[2,125],119:[2,121],169:[2,25],170:[2,24],172:[2,53],187:[2,54],188:[2,55]},parseError:function(De,Ue){if(!Ue.recoverable){var Ve=new Error(De);throw Ve.hash=Ue,Ve}this.trace(De)},parse:function(De){var Ue=this,Ve=[0],Ge=[null],Ze=[],$e=this.table,ze="",ot=0,ht=0,Ye=0,Dt=Ze.slice.call(arguments,1),yt=Object.create(this.lexer),lt={yy:{}};for(var dt in this.yy)Object.prototype.hasOwnProperty.call(this.yy,dt)&&(lt.yy[dt]=this.yy[dt]);yt.setInput(De,lt.yy),lt.yy.lexer=yt,lt.yy.parser=this,yt.yylloc===void 0&&(yt.yylloc={});var wt=yt.yylloc;Ze.push(wt);var Er=yt.options&&yt.options.ranges;typeof lt.yy.parseError=="function"?this.parseError=lt.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var Bt,Et,Br,Vt,xt,Ct,$t,wn,Xr,$n=function(){var gr;return typeof(gr=yt.lex()||1)!="number"&&(gr=Ue.symbols_[gr]||gr),gr},sr={};;){if(Br=Ve[Ve.length-1],this.defaultActions[Br]?Vt=this.defaultActions[Br]:(Bt==null&&(Bt=$n()),Vt=$e[Br]&&$e[Br][Bt]),Vt===void 0||!Vt.length||!Vt[0]){var Gt;for(Ct in Xr=[],$e[Br])this.terminals_[Ct]&&Ct>2&&Xr.push("'"+this.terminals_[Ct]+"'");Gt=yt.showPosition?"Parse error on line "+(ot+1)+`:
`+yt.showPosition()+`
Expecting `+Xr.join(", ")+", got '"+(this.terminals_[Bt]||Bt)+"'":"Parse error on line "+(ot+1)+": Unexpected "+(Bt==1?"end of input":"'"+(this.terminals_[Bt]||Bt)+"'"),this.parseError(Gt,{text:yt.match,token:this.terminals_[Bt]||Bt,line:yt.yylineno,loc:wt,expected:Xr})}if(Vt[0]instanceof Array&&Vt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Br+", token: "+Bt);switch(Vt[0]){case 1:Ve.push(Bt),Ge.push(yt.yytext),Ze.push(yt.yylloc),Ve.push(Vt[1]),Bt=null,Et?(Bt=Et,Et=null):(ht=yt.yyleng,ze=yt.yytext,ot=yt.yylineno,wt=yt.yylloc,Ye>0);break;case 2:if($t=this.productions_[Vt[1]][1],sr.$=Ge[Ge.length-$t],sr._$={first_line:Ze[Ze.length-($t||1)].first_line,last_line:Ze[Ze.length-1].last_line,first_column:Ze[Ze.length-($t||1)].first_column,last_column:Ze[Ze.length-1].last_column},Er&&(sr._$.range=[Ze[Ze.length-($t||1)].range[0],Ze[Ze.length-1].range[1]]),(xt=this.performAction.apply(sr,[ze,ht,ot,lt.yy,Vt[1],Ge,Ze].concat(Dt)))!==void 0)return xt;$t&&(Ve=Ve.slice(0,-1*$t*2),Ge=Ge.slice(0,-1*$t),Ze=Ze.slice(0,-1*$t)),Ve.push(this.productions_[Vt[1]][0]),Ge.push(sr.$),Ze.push(sr._$),wn=$e[Ve[Ve.length-2]][Ve[Ve.length-1]],Ve.push(wn);break;case 3:return!0}}return!0}};const Pe="http://www.w3.org/1999/02/22-rdf-syntax-ns#",je=Pe+"type",Ie=Pe+"first",ue=Pe+"rest",ge=Pe+"nil",Me="http://www.w3.org/2001/XMLSchema#",qe=Me+"integer",Be=Me+"decimal",He=Me+"double",Ae=Me+"boolean",Te="http://www.w3.org/ns/shacl#",Ke="http://www.w3.org/2002/07/owl#",it="http://www.w3.org/2000/01/rdf-schema#",st={[qe]:!0,[Be]:!0,[Me+"float"]:!0,[He]:!0,[Me+"string"]:!0,[Ae]:!0,[Me+"dateTime"]:!0,[Me+"nonPositiveInteger"]:!0,[Me+"negativeInteger"]:!0,[Me+"long"]:!0,[Me+"int"]:!0,[Me+"short"]:!0,[Me+"byte"]:!0,[Me+"nonNegativeInteger"]:!0,[Me+"unsignedLong"]:!0,[Me+"unsignedShort"]:!0,[Me+"unsignedByte"]:!0,[Me+"positiveInteger"]:!0,[Pe+"langString"]:!0};function rt(De,Ue=!1){let Ve=0,Ge=De.length;if(Ue&&Ge===0)return Ee.factory.namedNode(ge);const Ze=head=Ne();return Ge===0&&ee(head,Ee.factory.namedNode(ue),Ee.factory.namedNode(ge)),De.forEach($e=>{if($e===void 0)throw new Error("b");ee(head,Ee.factory.namedNode(Ie),$e),ee(head,Ee.factory.namedNode(ue),head=++Ve<Ge?Ne():Ee.factory.namedNode(ge))}),Ze}function pt(De){return Ee.n3Parser._resolveIRI(De[0]==="<"?De.substring(1,De.length-1):De)}function mt(De){const Ue=De.indexOf(":"),Ve=De.substr(0,Ue),Ge=Ee.prefixes[Ve];if(!Ge)throw new Error("Unknown prefix: "+Ve);return pt(Ge+De.substr(Ue+1))}function at(De,Ue){return Ue&&Ue.termType!=="NamedNode"&&(Ue=Ee.factory.namedNode(Ue)),Ee.factory.literal(De,Ue)}function Ne(De){return typeof De=="string"?De.startsWith("e_")?Ee.factory.blankNode(De):Ee.factory.blankNode("e_"+De):Ee.factory.blankNode("g_"+F++)}var F=0;function Y(De,Ue){return Ee.n3Parser._lexer._unescape(De.substring(Ue,De.length-Ue))}function ee(De,Ue,Ve){if(!De.termType||!Ue.termType||Ue.value.includes(",")||!Ve.termType)throw new Error(`boo ${De.value} ${Ue.value} ${Ve.value}`);Ee.onQuad(Ee.factory.quad(De,Ue,Ve))}function pe(De,Ue){ee(Ee.currentPropertyNode,Ee.factory.namedNode(Te+De),Ue)}function Re(De){if(!Ee.extended)throw new Error("Encountered extended SHACLC syntax; but extended parsing is disabled");return De}Ee._resetBlanks=function(){F=0};var Fe={EOF:1,parseError:function(De,Ue){if(!this.yy.parser)throw new Error(De);this.yy.parser.parseError(De,Ue)},setInput:function(De,Ue){return this.yy=Ue||this.yy||{},this._input=De,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var De=this._input[0];return this.yytext+=De,this.yyleng++,this.offset++,this.match+=De,this.matched+=De,De.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),De},unput:function(De){var Ue=De.length,Ve=De.split(/(?:\r\n?|\n)/g);this._input=De+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Ue),this.offset-=Ue;var Ge=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Ve.length-1&&(this.yylineno-=Ve.length-1);var Ze=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Ve?(Ve.length===Ge.length?this.yylloc.first_column:0)+Ge[Ge.length-Ve.length].length-Ve[0].length:this.yylloc.first_column-Ue},this.options.ranges&&(this.yylloc.range=[Ze[0],Ze[0]+this.yyleng-Ue]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(De){this.unput(this.match.slice(De))},pastInput:function(){var De=this.matched.substr(0,this.matched.length-this.match.length);return(De.length>20?"...":"")+De.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var De=this.match;return De.length<20&&(De+=this._input.substr(0,20-De.length)),(De.substr(0,20)+(De.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var De=this.pastInput(),Ue=new Array(De.length+1).join("-");return De+this.upcomingInput()+`
`+Ue+"^"},test_match:function(De,Ue){var Ve,Ge,Ze;if(this.options.backtrack_lexer&&(Ze={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Ze.yylloc.range=this.yylloc.range.slice(0))),(Ge=De[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=Ge.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Ge?Ge[Ge.length-1].length-Ge[Ge.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+De[0].length},this.yytext+=De[0],this.match+=De[0],this.matches=De,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(De[0].length),this.matched+=De[0],Ve=this.performAction.call(this,this.yy,this,Ue,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Ve)return Ve;if(this._backtrack){for(var $e in Ze)this[$e]=Ze[$e];return!1}return!1},next:function(){if(this.done)return this.EOF;var De,Ue,Ve,Ge;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var Ze=this._currentRules(),$e=0;$e<Ze.length;$e++)if((Ve=this._input.match(this.rules[Ze[$e]]))&&(!Ue||Ve[0].length>Ue[0].length)){if(Ue=Ve,Ge=$e,this.options.backtrack_lexer){if((De=this.test_match(Ve,Ze[$e]))!==!1)return De;if(this._backtrack){Ue=!1;continue}return!1}if(!this.options.flex)break}return Ue?(De=this.test_match(Ue,Ze[Ge]))!==!1&&De:this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(De){this.conditionStack.push(De)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(De){return(De=this.conditionStack.length-1-Math.abs(De||0))>=0?this.conditionStack[De]:"INITIAL"},pushState:function(De){this.begin(De)},stateStackSize:function(){return this.conditionStack.length},options:{flex:!0,"case-insensitive":!0},performAction:function(De,Ue,Ve,Ge){switch(Ve){case 0:break;case 1:return 12;case 2:return 14;case 3:return 15;case 4:return 25;case 5:return 20;case 6:return 131;case 7:return 132;case 8:return 85;case 9:return 126;case 10:return 87;case 11:return"PASS";case 12:return"COMMENT";case 13:return 13;case 14:return 16;case 15:return 130;case 16:return 129;case 17:return 128;case 18:return 117;case 19:return 92;case 20:return 119;case 21:return 120;case 22:return"EXPONENT";case 23:return 133;case 24:return 134;case 25:return 135;case 26:return 136;case 27:return 61;case 28:return 90;case 29:return 58;case 30:return 56;case 31:return 38;case 32:return 40;case 33:return 44;case 34:return 46;case 35:return 110;case 36:return 93;case 37:return 111;case 38:return 67;case 39:return 118;case 40:return 53;case 41:return 96;case 42:return 102;case 43:return 75;case 44:return 95;case 45:return 109;case 46:return 28;case 47:return 42;case 48:return 48;case 49:return 115;case 50:return 7;case 51:console.log(Ue.yytext)}},rules:[/^(?:\s+|#[^\n\r]*)/i,/^(?:BASE)/i,/^(?:IMPORTS)/i,/^(?:PREFIX)/i,/^(?:shapeClass)/i,/^(?:shape)/i,/^(?:true)/i,/^(?:false)/i,/^(?:(BlankNode|IRI|Literal|BlankNodeOrIRI|BlankNodeOrLiteral|IRIOrLiteral\b))/i,/^(?:(targetNode|targetObjectsOf|targetSubjectsOf\b))/i,/^(?:(deactivated|severity|message|class|datatype|nodeKind|minExclusive|minInclusive|maxExclusive|maxInclusive|minLength|maxLength|pattern|flags|languageIn|uniqueLang|equals|disjoint|lessThan|lessThanOrEquals|qualifiedValueShape|qualifiedMinCount|qualifiedMaxCount|qualifiedValueShapesDisjoint|closed|ignoredProperties|hasValue|in))/i,/^(?:([ \t\r\n]+))/i,/^(?:(#[\r\n]*))/i,/^(?:(<([^=<>\"\{\}\|\^`\\\u0000-\u0020]|(\\u([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])|\\U([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])))*>))/i,/^(?:((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.)*((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040]))?)?:))/i,/^(?:(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.)*((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040]))?)?:)(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|:|[0-9]|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.|:|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))*(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|:|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%)))))?)))/i,/^(?:(@(([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.)*((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040]))?)?:))/i,/^(?:(@((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.)*((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040]))?)?:)(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|:|[0-9]|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.|:|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))*(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|:|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%)))))?)))/i,/^(?:(@[a-zA-Z]+(-[a-zA-Z0-9]+)*))/i,/^(?:([+-]?[0-9]+))/i,/^(?:([+-]?[0-9]*\.[0-9]+))/i,/^(?:([+-]?([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.?[0-9]+([eE][+-]?[0-9]+))))/i,/^(?:([eE][+-]?[0-9]+))/i,/^(?:('(?:(?:[^\u0027\u005C\u000A\u000D])|(\\[tbnrf\\\"\']))*'))/i,/^(?:("(?:(?:[^\u0022\u005C\u000A\u000D])|(\\[tbnrf\\\"\']))*"))/i,/^(?:('''(?:(?:'|'')?(?:[^'\\]|(\\[tbnrf\\\"\'])))*'''))/i,/^(?:("""(?:(?:"|"")?(?:[^\"\\]|(\\[tbnrf\\\"\'])))*"""))/i,/^(?:->)/i,/^(?:\.\.)/i,/^(?:\})/i,/^(?:\{)/i,/^(?:\()/i,/^(?:\))/i,/^(?:\[)/i,/^(?:\])/i,/^(?:\?)/i,/^(?:\*)/i,/^(?:\+)/i,/^(?:\|)/i,/^(?:\^\^)/i,/^(?:\.)/i,/^(?:!)/i,/^(?:\/)/i,/^(?:=)/i,/^(?:@)/i,/^(?:\^)/i,/^(?:;)/i,/^(?:,)/i,/^(?:%)/i,/^(?:a)/i,/^(?:$)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],inclusive:!0}}};function Ee(){this.yy={}}return we.lexer=Fe,Ee.prototype=we,we.Parser=Ee,new Ee})();g.exports=e},5213:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.RDFA_CONTENTTYPES=e.RDFA_FEATURES=void 0,e.RDFA_FEATURES={"":{baseTag:!0,xmlBase:!0,langAttribute:!0,onlyAllowUriRelRevIfProperty:!0,inheritSubjectInHeadBody:!0,datetimeAttribute:!0,timeTag:!0,htmlDatatype:!0,copyRdfaPatterns:!0,xmlnsPrefixMappings:!0,xhtmlInitialContext:!0,roleAttribute:!0},core:{baseTag:!1,xmlBase:!1,langAttribute:!0,onlyAllowUriRelRevIfProperty:!0,inheritSubjectInHeadBody:!1,datetimeAttribute:!1,timeTag:!1,htmlDatatype:!1,copyRdfaPatterns:!0,xmlnsPrefixMappings:!0,xhtmlInitialContext:!1,roleAttribute:!1},html:{baseTag:!0,xmlBase:!1,langAttribute:!0,onlyAllowUriRelRevIfProperty:!0,inheritSubjectInHeadBody:!0,datetimeAttribute:!0,timeTag:!0,htmlDatatype:!0,copyRdfaPatterns:!0,xmlnsPrefixMappings:!0,xhtmlInitialContext:!1,roleAttribute:!0},xhtml:{baseTag:!0,xmlBase:!1,langAttribute:!0,onlyAllowUriRelRevIfProperty:!0,inheritSubjectInHeadBody:!0,datetimeAttribute:!0,timeTag:!0,htmlDatatype:!0,copyRdfaPatterns:!0,xmlnsPrefixMappings:!0,xhtmlInitialContext:!0,roleAttribute:!0},xml:{baseTag:!1,xmlBase:!0,langAttribute:!0,onlyAllowUriRelRevIfProperty:!1,inheritSubjectInHeadBody:!1,datetimeAttribute:!0,timeTag:!0,htmlDatatype:!1,copyRdfaPatterns:!1,xmlnsPrefixMappings:!0,xhtmlInitialContext:!1,roleAttribute:!0}},e.RDFA_CONTENTTYPES={"text/html":"html","application/xhtml+xml":"xhtml","application/xml":"xml","text/xml":"xml","image/svg+xml":"xml"}},5336:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryOperationConstruct=void 0;const c=s(66490),o=s(90711),u=s(90412),i=s(67021),r=s(3285),n=s(96331),t=s(77654);class a extends c.ActorQueryOperationTypedMediated{constructor(d){super(d,"construct")}static getVariables(d){return(0,r.uniqTerms)([].concat.apply([],d.map(p=>(0,r.getVariables)((0,r.getTermsNested)(p)))))}async testOperation(d,p){return(0,u.passTestVoid)()}async runOperation(d,p){const f=p.getSafe(o.KeysInitQuery.dataFactory),h=a.getVariables(d.template),y={type:n.Algebra.types.PROJECT,input:d.input,variables:h},m=(0,i.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:y,context:p}));return{metadata:()=>m.metadata().then(b=>({...b,order:void 0,cardinality:{type:b.cardinality.type,value:b.cardinality.value*d.template.length},availableOrders:void 0})),quadStream:new t.BindingsToQuadsIterator(f,d.template,m.bindingsStream),type:"quads"}}}e.ActorQueryOperationConstruct=a},5448:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},5526:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ExpressionFunctionBnode=void 0;const c=s(77617),o=s(90711),u=s(51296),i=s(77545);class r extends c.ExpressionFunctionBase{constructor(){super({arity:Number.POSITIVE_INFINITY,operator:i.SparqlOperator.BNODE,apply:async t=>{const{args:a,mapping:l,exprEval:d}=t,p=a.length===1?await d.evaluatorExpressionEvaluation(a[0],l):void 0;let f;if(p){const y=r.bnodeTree.search([p],d.context.getSafe(o.KeysExpressionEvaluator.superTypeProvider),d.context.getSafe(o.KeysInitQuery.functionArgumentsCache));if(!y)throw new i.InvalidArgumentTypes(a,i.SparqlOperator.BNODE);f=y(d)([p]).str()}const h=new u.BlankNodeBindingsScoped(f??"BNODE_"+r.bnodeCounter++);return new i.BlankNode(h)}})}checkArity(t){return t.length===0||t.length===1}}e.ExpressionFunctionBnode=r,r.bnodeTree=(0,i.declare)(i.SparqlOperator.BNODE).onString1(()=>n=>n).collect(),r.bnodeCounter=0},5603:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.termToString=e.stringToTerm=e.stringQuadToQuad=e.quadToStringQuad=e.getLiteralValue=e.getLiteralType=e.getLiteralLanguage=void 0;const c=s(10513);Object.defineProperty(e,"getLiteralLanguage",{enumerable:!0,get:function(){return c.getLiteralLanguage}}),Object.defineProperty(e,"getLiteralType",{enumerable:!0,get:function(){return c.getLiteralType}}),Object.defineProperty(e,"getLiteralValue",{enumerable:!0,get:function(){return c.getLiteralValue}}),Object.defineProperty(e,"quadToStringQuad",{enumerable:!0,get:function(){return c.quadToStringQuad}}),Object.defineProperty(e,"stringQuadToQuad",{enumerable:!0,get:function(){return c.stringQuadToQuad}}),Object.defineProperty(e,"stringToTerm",{enumerable:!0,get:function(){return c.stringToTerm}}),Object.defineProperty(e,"termToString",{enumerable:!0,get:function(){return c.termToString}})},5673:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionBase=e.ExpressionFunctionBase=void 0;const c=s(90711),o=s(77545);class u{constructor({arity:r,operator:n,apply:t}){this.arity=r,this.operator=n,this.apply=t}checkArity(r){return Array.isArray(this.arity)?this.arity.includes(r.length):this.arity===Number.POSITIVE_INFINITY||r.length===this.arity}}e.ExpressionFunctionBase=u,e.TermFunctionBase=class extends u{constructor({arity:i,operator:r,overloads:n}){super({arity:i,operator:r,apply:async({args:t,exprEval:a,mapping:l})=>this.applyOnTerms(await Promise.all(t.map(d=>a.evaluatorExpressionEvaluation(d,l))),a)}),this.supportsTermExpressions=!0,this.overloads=n}applyOnTerms(i,r){return(this.overloads.search(i,r.context.getSafe(c.KeysExpressionEvaluator.superTypeProvider),r.context.getSafe(c.KeysInitQuery.functionArgumentsCache))??this.handleInvalidTypes(i))(r)(i)}handleInvalidTypes(i){throw new o.InvalidArgumentTypes(i,this.operator)}}},5743:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ExpressionFunctionNotIn=void 0;const c=s(77617),o=s(77545);class u extends c.ExpressionFunctionBase{constructor(r){super({arity:Number.POSITIVE_INFINITY,operator:o.SparqlOperator.NOT_IN,apply:async n=>{const t=await this.inFunction.apply(n);return(0,o.bool)(!t.typedValue)}}),this.inFunction=r}checkArity(r){return r.length>0}}e.ExpressionFunctionNotIn=u},5847:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermContains=void 0;const c=s(77617),o=s(77545),u=s(97114);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.SparqlOperator.CONTAINS],termFunction:!0})}async run(n){return new u.TermFunctionContains}}e.ActorFunctionFactoryTermContains=i},5916:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ParseError=void 0;class s extends Error{constructor(o,u){const i=o.saxParser;super(o.trackPosition?`Line ${i.line} column ${i.column+1}: ${u}`:u)}}e.ParseError=s},5919:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DirectiveLocation=void 0;var s=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});e.DirectiveLocation=s},5935:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermCeil=void 0;const c=s(77617),o=s(77545),u=s(47882);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.SparqlOperator.CEIL],termFunction:!0})}async run(n){return new u.TermFunctionCeil}}e.ActorFunctionFactoryTermCeil=i},5987:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.escapeText=e.escapeAttribute=e.escapeUTF8=e.escape=e.encodeXML=e.getCodePoint=e.xmlReplacer=void 0,e.xmlReplacer=/["&'<>$\x80-\uFFFF]/g;var s=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]);function c(u){for(var i,r="",n=0;(i=e.xmlReplacer.exec(u))!==null;){var t=i.index,a=u.charCodeAt(t),l=s.get(a);l!==void 0?(r+=u.substring(n,t)+l,n=t+1):(r+="".concat(u.substring(n,t),"&#x").concat((0,e.getCodePoint)(u,t).toString(16),";"),n=e.xmlReplacer.lastIndex+=+((64512&a)==55296))}return r+u.substr(n)}function o(u,i){return function(r){for(var n,t=0,a="";n=u.exec(r);)t!==n.index&&(a+=r.substring(t,n.index)),a+=i.get(n[0].charCodeAt(0)),t=n.index+1;return a+r.substring(t)}}e.getCodePoint=String.prototype.codePointAt!=null?function(u,i){return u.codePointAt(i)}:function(u,i){return(64512&u.charCodeAt(i))==55296?1024*(u.charCodeAt(i)-55296)+u.charCodeAt(i+1)-56320+65536:u.charCodeAt(i)},e.encodeXML=c,e.escape=c,e.escapeUTF8=o(/[&<>'"]/g,s),e.escapeAttribute=o(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),e.escapeText=o(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]]))},6068:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.stringQuadToQuad=e.quadToStringQuad=e.stringToTerm=e.getLiteralLanguage=e.getLiteralType=e.getLiteralValue=e.termToString=void 0;const c=new(s(47793)).DataFactory;function o(t){if(t)switch(t.termType){case"NamedNode":case"DefaultGraph":return t.value;case"BlankNode":return"_:"+t.value;case"Literal":const a=t;return'"'+a.value+'"'+(a.datatype&&a.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&a.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?"^^"+a.datatype.value:"")+(a.language?"@"+a.language:"");case"Quad":return`<<${o(t.subject)} ${o(t.predicate)} ${o(t.object)}${t.graph.termType==="DefaultGraph"?"":" "+o(t.graph)}>>`;case"Variable":return"?"+t.value}}function u(t){const a=/^"([^]*)"/.exec(t);if(!a)throw new Error(t+" is not a literal");return a[1]}function i(t){const a=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(t);if(!a)throw new Error(t+" is not a literal");return a[1]||(a[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}function r(t){const a=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(t);if(!a)throw new Error(t+" is not a literal");return a[1]?a[1].toLowerCase():""}function n(t,a){if(a=a||c,!t||!t.length)return a.defaultGraph();switch(t[0]){case"_":return a.blankNode(t.substr(2));case"?":if(!a.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return a.variable(t.substr(1));case'"':const l=r(t),d=a.namedNode(i(t));return a.literal(u(t),l||d);default:if(t[0]==="<"&&t.length>4&&t[1]==="<"&&t[t.length-1]===">"&&t[t.length-2]===">"){const p=t.slice(2,-2).trim();let f=[],h=0,y=0,m=!1;for(let b=0;b<p.length;b++){const v=p[b];if(v==="<"&&h++,v===">"){if(h===0)throw new Error("Found closing tag without opening tag in "+t);h--}if(v==='"'){let _=!1,w=b;for(;w-- >0&&p[w]==="\\";)_=!_;_||(m=!m)}if(v===" "&&!m&&h===0){for(f.push(p.slice(y,b));p[b+1]===" ";)b+=1;y=b+1}}if(h!==0)throw new Error("Found opening tag without closing tag in "+t);if(f.push(p.slice(y,p.length)),f.length!==3&&f.length!==4)throw new Error("Nested quad syntax error "+t);return f=f.map(b=>b.startsWith("<")&&!b.includes(" ")?b.slice(1,-1):b),a.quad(n(f[0]),n(f[1]),n(f[2]),f[3]?n(f[3]):void 0)}return a.namedNode(t)}}e.termToString=o,e.getLiteralValue=u,e.getLiteralType=i,e.getLiteralLanguage=r,e.stringToTerm=n,e.quadToStringQuad=function(t){return{subject:o(t.subject),predicate:o(t.predicate),object:o(t.object),graph:o(t.graph)}},e.stringQuadToQuad=function(t,a){return(a=a||c).quad(n(t.subject,a),n(t.predicate,a),n(t.object,a),n(t.graph,a))}},6072:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.removeOperationSource=e.assignOperationSource=e.getOperationSource=e.testReadOnly=e.validateQueryOutput=e.getSafeVoid=e.getSafeBoolean=e.getSafeQuads=e.getSafeBindings=void 0;const c=s(90711),o=s(90412);function u(i,r){if(i.type!==r)throw new Error(`Invalid query output type: Expected '${r}' but got '${i.type}'`)}e.getSafeBindings=function(i){return u(i,"bindings"),i},e.getSafeQuads=function(i){return u(i,"quads"),i},e.getSafeBoolean=function(i){return u(i,"boolean"),i},e.getSafeVoid=function(i){return u(i,"void"),i},e.validateQueryOutput=u,e.testReadOnly=function(i){return i.get(c.KeysQueryOperation.readOnly)?(0,o.failTest)("Attempted a write operation in read-only mode"):(0,o.passTestVoid)()},e.getOperationSource=function(i){return i.metadata?.scopedSource},e.assignOperationSource=function(i,r){return(i={...i}).metadata=i.metadata?{...i.metadata}:{},i.metadata.scopedSource=r,i},e.removeOperationSource=function(i){delete i.metadata?.scopedSource,i.metadata&&Object.keys(i.metadata).length===0&&delete i.metadata}},6082:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(50620),e)},6095:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Variable=void 0,e.Variable=class{constructor(s){this.termType="Variable",this.value=s}equals(s){return!!s&&s.termType==="Variable"&&s.value===this.value}}},6180:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(3251),e)},6380:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.termToString=e.stringToTerm=e.stringQuadToQuad=e.quadToStringQuad=e.getLiteralValue=e.getLiteralType=e.getLiteralLanguage=void 0;const c=s(84256);Object.defineProperty(e,"getLiteralLanguage",{enumerable:!0,get:function(){return c.getLiteralLanguage}}),Object.defineProperty(e,"getLiteralType",{enumerable:!0,get:function(){return c.getLiteralType}}),Object.defineProperty(e,"getLiteralValue",{enumerable:!0,get:function(){return c.getLiteralValue}}),Object.defineProperty(e,"quadToStringQuad",{enumerable:!0,get:function(){return c.quadToStringQuad}}),Object.defineProperty(e,"stringQuadToQuad",{enumerable:!0,get:function(){return c.stringQuadToQuad}}),Object.defineProperty(e,"stringToTerm",{enumerable:!0,get:function(){return c.stringToTerm}}),Object.defineProperty(e,"termToString",{enumerable:!0,get:function(){return c.termToString}})},6429:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Util=void 0;const c=s(70742),o=s(5213),u=s(47793);class i{constructor(n,t){this.dataFactory=n||new u.DataFactory,this.baseIRI=this.dataFactory.namedNode(t||""),this.baseIRIDocument=this.baseIRI}static parsePrefixes(n,t,a){const l={};if(a)for(const d in n)d.startsWith("xmlns")&&(l[d.substr(6)]=n[d]);if(n.prefix||Object.keys(l).length>0){const d=Object.assign(Object.assign({},t),l);if(n.prefix){let p;for(;p=i.PREFIX_REGEX.exec(n.prefix);)d[p[1]]=p[2]}return d}return t}static expandPrefixedTerm(n,t){const a=n.indexOf(":");let l,d;if(a>=0&&(l=n.substr(0,a),d=n.substr(a+1)),l==="")return"http://www.w3.org/1999/xhtml/vocab#"+d;if(l){const p=t.prefixesAll[l];if(p)return p+d}if(n){const p=t.prefixesAll[n.toLocaleLowerCase()];if(p)return p}return n}static isValidIri(n){return i.IRI_REGEX.test(n)}static contentTypeToProfile(n){return o.RDFA_CONTENTTYPES[n]||""}getBaseIRI(n){let t=n;const a=t.indexOf("#");return a>=0&&(t=t.substr(0,a)),this.dataFactory.namedNode((0,c.resolve)(t,this.baseIRI.value))}getResourceOrBaseIri(n,t){return n===!0?this.getBaseIriTerm(t):n}getBaseIriTerm(n){return n.localBaseIRI||this.baseIRI}createVocabIris(n,t,a,l){return n.split(/\s+/).filter(d=>d&&(a||d.indexOf(":")>=0)).map(d=>this.createIri(d,t,!0,!0,l)).filter(d=>d!=null)}createLiteral(n,t){if(t.interpretObjectAsTime&&!t.datatype){for(const a of i.TIME_REGEXES)if(n.match(a.regex)){t.datatype=this.dataFactory.namedNode(i.XSD+a.type);break}}return this.dataFactory.literal(n,t.datatype||t.language)}createBlankNode(){return this.blankNodeFactory?this.blankNodeFactory():this.dataFactory.blankNode()}createIri(n,t,a,l,d){if(n=n||"",!l)return a||(n=(0,c.resolve)(n,this.getBaseIriTerm(t).value)),i.isValidIri(n)?this.dataFactory.namedNode(n):null;if(n.length>0&&n[0]==="["&&n[n.length-1]==="]"&&(n=n.substr(1,n.length-2)).indexOf(":")<0)return null;if(n.startsWith("_:"))return d?this.dataFactory.blankNode(n.substr(2)||"b_identity"):null;if(a&&t.vocab&&n.indexOf(":")<0)return this.dataFactory.namedNode(t.vocab+n);let p=i.expandPrefixedTerm(n,t);return a?n!==p&&(p=(0,c.resolve)(p,this.baseIRIDocument.value)):p=(0,c.resolve)(p,this.getBaseIriTerm(t).value),i.isValidIri(p)?this.dataFactory.namedNode(p):null}}e.Util=i,i.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",i.XSD="http://www.w3.org/2001/XMLSchema#",i.RDFA="http://www.w3.org/ns/rdfa#",i.PREFIX_REGEX=/\s*([^:\s]*)*:\s*([^\s]*)*\s*/g,i.TIME_REGEXES=[{regex:/^-?P([0-9]+Y)?([0-9]+M)?([0-9]+D)?(T([0-9]+H)?([0-9]+M)?([0-9]+(\.[0-9])?S)?)?$/,type:"duration"},{regex:/^[0-9]+-[0-9][0-9]-[0-9][0-9]T[0-9][0-9]:[0-9][0-9]:[0-9][0-9]((Z?)|([\+-][0-9][0-9]:[0-9][0-9]))$/,type:"dateTime"},{regex:/^[0-9]+-[0-9][0-9]-[0-9][0-9]Z?$/,type:"date"},{regex:/^[0-9][0-9]:[0-9][0-9]:[0-9][0-9]((Z?)|([\+-][0-9][0-9]:[0-9][0-9]))$/,type:"time"},{regex:/^[0-9]+-[0-9][0-9]$/,type:"gYearMonth"},{regex:/^[0-9]+$/,type:"gYear"}],i.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^ "<>{}|\\\[\]`]*$/},6535:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MediatorCombinePipeline=void 0;const c=s(90412);class o extends c.Mediator{constructor(i){super(i)}async mediate(i){let r;try{r=this.publish(i)}catch{return i}if(this.filterFailures){const l=[];for(const d of r)(await d.reply).isPassed()&&l.push(d);r=l}const n=[];if(r=await Promise.all(r.map(async({actor:l,reply:d},p)=>{try{const f=await d,h=f.getOrThrow();return n[p]=f.getSideData(),{actor:l,reply:h}}catch(f){throw new Error(this.constructFailureMessage(i,[f.message]))}})),this.order){const l=d=>{const p=this.field?d[this.field]:d;if(typeof p!="number")throw new TypeError("Cannot order elements that are not numbers.");return p};r=r.sort((d,p)=>(this.order==="increasing"?1:-1)*(l(d.reply)-l(p.reply)))}let t=i,a=0;for(const{actor:l}of r)t={...t,...await l.runObservable(t,n[a++])};return t}mediateWith(){throw new Error("Method not supported.")}}e.MediatorCombinePipeline=o},6809:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(42651),e)},6841:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},6912:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermSubStr=void 0;const c=s(77617),o=s(77545),u=s(63369);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.SparqlOperator.SUBSTR],termFunction:!0})}async run(n){return new u.TermFunctionSubStr}}e.ActorFunctionFactoryTermSubStr=i},7020:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryOperationSource=void 0;const c=s(66490),o=s(90711),u=s(90412),i=s(99214),r=s(67021),n=s(96331);class t extends c.ActorQueryOperation{constructor(l){super(l)}async test(l){return(0,r.getOperationSource)(l.operation)?(0,u.passTest)({httpRequests:1}):(0,u.failTest)(`Actor ${this.name} requires an operation with source annotation.`)}async run(l){const d=l.context.get(o.KeysInitQuery.physicalQueryPlanLogger);d&&(d.logOperation(l.operation.type,void 0,l.operation,l.context.get(o.KeysInitQuery.physicalQueryPlanNode),this.name,{}),l.context=l.context.set(o.KeysInitQuery.physicalQueryPlanNode,l.operation));const p=(0,r.getOperationSource)(l.operation),f=p.context?l.context.merge(p.context):l.context;let h=!1;if(n.Util.recurseOperation(l.operation,{construct:()=>(h=!0,!1)}),h){const m=p.source.queryQuads(l.operation,f);return{type:"quads",quadStream:m,metadata:(0,i.getMetadataQuads)(m)}}switch(l.operation.type){case n.Algebra.types.ASK:return{type:"boolean",execute:()=>p.source.queryBoolean(l.operation,f)};case n.Algebra.types.COMPOSITE_UPDATE:case n.Algebra.types.DELETE_INSERT:case n.Algebra.types.LOAD:case n.Algebra.types.CLEAR:case n.Algebra.types.CREATE:case n.Algebra.types.DROP:case n.Algebra.types.ADD:case n.Algebra.types.MOVE:case n.Algebra.types.COPY:return{type:"void",execute:()=>p.source.queryVoid(l.operation,f)}}const y=p.source.queryBindings(l.operation,f);return{type:"bindings",bindingsStream:y,metadata:(0,i.getMetadataBindings)(y)}}}e.ActorQueryOperationSource=t},7030:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Kind=void 0;var s=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"});e.Kind=s},7178:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MinAggregator=void 0;const c=s(86581);class o extends c.AggregateEvaluator{constructor(i,r,n,t){super(i,r,t),this.orderByEvaluator=n,this.state=void 0}putTerm(i){if(i.termType!=="Literal")throw new Error(`Term with value ${i.value} has type ${i.termType} and is not a literal`);(this.state===void 0||this.orderByEvaluator.orderTypes(this.state,i)===1)&&(this.state=i)}termResult(){return this.state===void 0?this.emptyValue():this.state}}e.MinAggregator=o},7190:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ExpressionFunctionIn=void 0;const c=s(77617),o=s(77545);class u extends c.ExpressionFunctionBase{constructor(r){super({arity:Number.POSITIVE_INFINITY,operator:o.SparqlOperator.IN,apply:async n=>{const{args:t,mapping:a,exprEval:l}=n,[d,...p]=t,f=await l.evaluatorExpressionEvaluation(d,a);return await this.inRecursive(f,{...n,args:p},[])}}),this.equalityFunction=r}checkArity(r){return r.length>0}async inRecursive(r,n,t){const{args:a,mapping:l,exprEval:d}=n;if(a.length===0)return t.every(p=>!p)?(0,o.bool)(!1):Promise.reject(new o.InError(t));try{const p=a.shift(),f=await d.evaluatorExpressionEvaluation(p,l);return this.equalityFunction.applyOnTerms([r,f],d).typedValue?(0,o.bool)(!0):this.inRecursive(r,n,[...t,!1])}catch(p){return this.inRecursive(r,n,[...t,p])}}}e.ExpressionFunctionIn=u},7246:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionLesserThanEqual=void 0;const c=s(77617),o=s(77545);class u extends c.TermFunctionBase{constructor(r,n){super({arity:2,operator:o.SparqlOperator.LTE,overloads:(0,o.declare)(o.SparqlOperator.LTE).set(["term","term"],t=>([a,l])=>(0,o.bool)(this.lessThanFunction.applyOnTerms([a,l],t).typedValue||this.equalityFunction.applyOnTerms([a,l],t).typedValue)).collect()}),this.equalityFunction=r,this.lessThanFunction=n}}e.TermFunctionLesserThanEqual=u},7394:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MaxAggregator=void 0;const c=s(86581);class o extends c.AggregateEvaluator{constructor(i,r,n,t){super(i,r,t),this.orderByEvaluator=n,this.state=void 0}putTerm(i){if(i.termType!=="Literal")throw new Error(`Term with value ${i.value} has type ${i.termType} and is not a literal`);(this.state===void 0||this.orderByEvaluator.orderTypes(this.state,i)===-1)&&(this.state=i)}termResult(){return this.state===void 0?this.emptyValue():this.state}}e.MaxAggregator=o},7625:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorBindingsAggregatorFactory=void 0;const c=s(90412);class o extends c.Actor{constructor(i){super(i),this.mediatorExpressionEvaluatorFactory=i.mediatorExpressionEvaluatorFactory}}e.ActorBindingsAggregatorFactory=o},7779:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(58481),e)},7982:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BlankNode=void 0,e.BlankNode=class{constructor(s){this.termType="BlankNode",this.value=s}equals(s){return!!s&&s.termType==="BlankNode"&&s.value===this.value}}},7986:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ContainerHandlerIdentifier=void 0,e.ContainerHandlerIdentifier=class{canCombineWithGraph(){return!0}async handle(s,c,o,u,i,r){let n;if(c.emittedStack[r+1]&&c.idStack[r+1])n=c.idStack[r+1][0];else{const a=await o.getContainerKey(u[r],u,r)!==null?await o.resourceToTerm(await c.getContext(u),u[r]):o.dataFactory.blankNode();if(!a)return void(c.emittedStack[r]=!1);n=a,c.idStack[r+1]=[n]}let t=c.idStack[r];t||(t=c.idStack[r]=[]),t.some(a=>a.equals(n))||t.push(n),await c.handlePendingContainerFlushBuffers()||(c.emittedStack[r]=!1)}}},8096:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(29637),e)},8236:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfParseRdfXml=void 0;const c=s(95124),o=s(90711),u=s(75611);class i extends c.ActorRdfParseFixedMediaTypes{constructor(n){super(n)}async runHandle(n){const t=n.context.getSafe(o.KeysInitQuery.dataFactory);n.data.on("error",l=>a.emit("error",l));const a=n.data.pipe(new u.RdfXmlParser({dataFactory:t,baseIRI:n.metadata?.baseIRI}));return{data:a,metadata:{triples:!0}}}}e.ActorRdfParseRdfXml=i},8273:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Variable=void 0,e.Variable=class{constructor(s){this.termType="Variable",this.value=s}equals(s){return!!s&&s.termType==="Variable"&&s.value===this.value}}},8323:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(27256),e)},8327:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(82651),e)},8486:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Util=void 0;class s{static isCompactIri(o){return o.indexOf(":")>0&&!(o&&o[0]==="#")}static getPrefix(o,u){if(o&&o[0]==="#")return null;const i=o.indexOf(":");if(i>=0){if(o.length>i+1&&o.charAt(i+1)==="/"&&o.charAt(i+2)==="/")return null;const r=o.substr(0,i);if(r==="_")return null;if(u[r])return r}return null}static getContextValueId(o){return o===null||typeof o=="string"?o:o["@id"]||null}static isSimpleTermDefinitionPrefix(o,u){return!s.isPotentialKeyword(o)&&(u.allowPrefixNonGenDelims||typeof o=="string"&&(o[0]==="_"||s.isPrefixIriEndingWithGenDelim(o)))}static isPotentialKeyword(o){return typeof o=="string"&&s.KEYWORD_REGEX.test(o)}static isPrefixIriEndingWithGenDelim(o){return s.ENDS_WITH_GEN_DELIM.test(o)}static isPrefixValue(o){return o&&(typeof o=="string"||o&&typeof o=="object")}static isValidIri(o){return!!(o&&s.IRI_REGEX.test(o))}static isValidIriWeak(o){return!!o&&o[0]!==":"&&s.IRI_REGEX_WEAK.test(o)}static isValidKeyword(o){return s.VALID_KEYWORDS[o]}static isTermProtected(o,u){const i=o[u];return typeof i!="string"&&i&&i["@protected"]}static hasProtectedTerms(o){for(const u of Object.keys(o))if(s.isTermProtected(o,u))return!0;return!1}static isReservedInternalKeyword(o){return o.startsWith("@__")}static deepEqual(o,u){const i=Object.keys(o),r=Object.keys(u);return i.length===r.length&&i.every(n=>{const t=o[n],a=u[n];return t===a||t!==null&&a!==null&&typeof t=="object"&&typeof a=="object"&&this.deepEqual(t,a)})}}s.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^ "<>{}|\\\[\]`#]*(#[^#]*)?$/,s.IRI_REGEX_WEAK=/(?::[^:])|\//,s.KEYWORD_REGEX=/^@[a-z]+$/i,s.ENDS_WITH_GEN_DELIM=/[:/?#\[\]@]$/,s.REGEX_LANGUAGE_TAG=/^[a-zA-Z]+(-[a-zA-Z0-9]+)*$/,s.REGEX_DIRECTION_TAG=/^(ltr)|(rtl)$/,s.VALID_KEYWORDS={"@annotation":!0,"@base":!0,"@container":!0,"@context":!0,"@direction":!0,"@graph":!0,"@id":!0,"@import":!0,"@included":!0,"@index":!0,"@json":!0,"@language":!0,"@list":!0,"@nest":!0,"@none":!0,"@prefix":!0,"@propagate":!0,"@protected":!0,"@reverse":!0,"@set":!0,"@type":!0,"@value":!0,"@version":!0,"@vocab":!0},s.EXPAND_KEYS_BLACKLIST=["@base","@vocab","@language","@version","@direction"],s.ALIAS_DOMAIN_BLACKLIST=["@container","@graph","@id","@index","@list","@nest","@none","@prefix","@reverse","@set","@type","@value","@version"],s.ALIAS_RANGE_BLACKLIST=["@context","@preserve"],s.CONTAINERS=["@list","@set","@index","@language","@graph","@id","@type"],s.CONTAINERS_1_0=["@list","@set","@index"],e.Util=s},8498:(g,e)=>{var s,c;Object.defineProperty(e,"__esModule",{value:!0}),e.expressionTypes=e.types=void 0,(c=e.types||(e.types={})).ALT="alt",c.ASK="ask",c.BGP="bgp",c.CONSTRUCT="construct",c.DESCRIBE="describe",c.DISTINCT="distinct",c.EXPRESSION="expression",c.EXTEND="extend",c.FILTER="filter",c.FROM="from",c.GRAPH="graph",c.GROUP="group",c.INV="inv",c.JOIN="join",c.LEFT_JOIN="leftjoin",c.LINK="link",c.MINUS="minus",c.NOP="nop",c.NPS="nps",c.ONE_OR_MORE_PATH="OneOrMorePath",c.ORDER_BY="orderby",c.PATH="path",c.PATTERN="pattern",c.PROJECT="project",c.REDUCED="reduced",c.SEQ="seq",c.SERVICE="service",c.SLICE="slice",c.UNION="union",c.VALUES="values",c.ZERO_OR_MORE_PATH="ZeroOrMorePath",c.ZERO_OR_ONE_PATH="ZeroOrOnePath",c.COMPOSITE_UPDATE="compositeupdate",c.DELETE_INSERT="deleteinsert",c.LOAD="load",c.CLEAR="clear",c.CREATE="create",c.DROP="drop",c.ADD="add",c.MOVE="move",c.COPY="copy",(s=e.expressionTypes||(e.expressionTypes={})).AGGREGATE="aggregate",s.EXISTENCE="existence",s.NAMED="named",s.OPERATOR="operator",s.TERM="term",s.WILDCARD="wildcard"},8711:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(33823),e)},8770:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ItemPropertyHandlerUrl=void 0;const c=s(70742);e.ItemPropertyHandlerUrl=class{constructor(o,u){this.tagName=o,this.attributeName=u}canHandle(o,u){return this.tagName===o&&this.attributeName in u}getObject(o,u,i){return u.dataFactory.namedNode((0,c.resolve)(o[this.attributeName],u.baseIRI))}}},8902:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GroupsState=void 0;const c=s(90711),o=s(81926);e.GroupsState=class{constructor(u,i,r,n,t){this.pattern=u,this.mediatorBindingsAggregatorFactory=i,this.context=r,this.bindingsFactory=n,this.variables=t,this.groups=new Map,this.groupsInitializer=new Map,this.groupVariables=new Set(this.pattern.variables.map(a=>a.value)),this.waitCounter=1,this.resultHasBeenCalled=!1}consumeBindings(u){const i=this.resultCheck();if(i)return i;this.waitCounter++;const r=u.filter((l,d)=>this.groupVariables.has(d.value)),n=this.hashBindings(r);let t,a=this.groupsInitializer.get(n);if(a){const l=a;t=(async()=>{const d=await l;await Promise.all(this.pattern.aggregates.map(async p=>{const f=p.variable.value;await d.aggregators[f].putBindings(u)}))})().then(async()=>{await this.subtractWaitCounterAndCollect()})}else a=(async()=>{const l={};await Promise.all(this.pattern.aggregates.map(async p=>{const f=p.variable.value;l[f]=await this.mediatorBindingsAggregatorFactory.mediate({expr:p,context:this.context}),await l[f].putBindings(u)}));const d={aggregators:l,bindings:r};return this.groups.set(n,d),await this.subtractWaitCounterAndCollect(),d})(),this.groupsInitializer.set(n,a),t=a;return t}async subtractWaitCounterAndCollect(){--this.waitCounter===0&&await this.handleResultCollection()}async handleResultCollection(){const u=this.context.getSafe(c.KeysInitQuery.dataFactory);let i=await Promise.all([...this.groups].map(async([r,n])=>{const{bindings:t,aggregators:a}=n;let l=t;for(const d in a){const p=await a[d].result();p&&(l=l.set(u.variable(d),p))}return l}));if(i.length===0&&this.groupVariables.size===0){const r=[];await Promise.all(this.pattern.aggregates.map(async n=>{const t=n.variable,a=await this.mediatorBindingsAggregatorFactory.mediate({expr:n,context:this.context}),l=await a.result();l!==void 0&&r.push([t,l])})),i=[this.bindingsFactory.bindings(r)]}this.waitResolver(i)}resultCheck(){if(this.resultHasBeenCalled)return Promise.reject(new Error("Calling any function after calling collectResult is invalid."))}async collectResults(){const u=this.resultCheck();if(u)return u;this.resultHasBeenCalled=!0;const i=new Promise(r=>{this.waitResolver=r});return await this.subtractWaitCounterAndCollect(),i}hashBindings(u){return(0,o.bindingsToCompactString)(u,this.variables)}}},8938:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getChildren=o,e.getParent=u,e.getSiblings=function(i){var r=u(i);if(r!=null)return o(r);for(var n=[i],t=i.prev,a=i.next;t!=null;)n.unshift(t),t=t.prev;for(;a!=null;)n.push(a),a=a.next;return n},e.getAttributeValue=function(i,r){var n;return(n=i.attribs)===null||n===void 0?void 0:n[r]},e.hasAttrib=function(i,r){return i.attribs!=null&&Object.prototype.hasOwnProperty.call(i.attribs,r)&&i.attribs[r]!=null},e.getName=function(i){return i.name},e.nextElementSibling=function(i){for(var r=i.next;r!==null&&!(0,c.isTag)(r);)r=r.next;return r},e.prevElementSibling=function(i){for(var r=i.prev;r!==null&&!(0,c.isTag)(r);)r=r.prev;return r};var c=s(41141);function o(i){return(0,c.hasChildren)(i)?i.children:[]}function u(i){return i.parent||null}},9111:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.visit=function(t,a){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:i,d=void 0,p=Array.isArray(t),f=[t],h=-1,y=[],m=void 0,b=void 0,v=void 0,_=[],w=[],S=t;do{var x=++h===f.length,T=x&&y.length!==0;if(x){if(b=w.length===0?void 0:_[_.length-1],m=v,v=w.pop(),T){if(p)m=m.slice();else{for(var O={},E=0,R=Object.keys(m);E<R.length;E++){var M=R[E];O[M]=m[M]}m=O}for(var Q=0,X=0;X<y.length;X++){var V=y[X][0],H=y[X][1];p&&(V-=Q),p&&H===null?(m.splice(V,1),Q++):m[V]=H}}h=d.index,f=d.keys,y=d.edits,p=d.inArray,d=d.prev}else{if(b=v?p?h:f[h]:void 0,(m=v?v[b]:S)==null)continue;v&&_.push(b)}var U,k=void 0;if(!Array.isArray(m)){if(!(0,u.isNode)(m))throw new Error("Invalid AST Node: ".concat((0,o.default)(m),"."));var $=n(a,m.kind,x);if($){if((k=$.call(a,m,b,v,_,w))===r)break;if(k===!1){if(!x){_.pop();continue}}else if(k!==void 0&&(y.push([b,k]),!x)){if(!(0,u.isNode)(k)){_.pop();continue}m=k}}}k===void 0&&T&&y.push([b,m]),x?_.pop():(d={inArray:p,index:h,keys:f,edits:y,prev:d},f=(p=Array.isArray(m))?m:(U=l[m.kind])!==null&&U!==void 0?U:[],h=-1,y=[],v&&w.push(v),v=m)}while(d!==void 0);return y.length!==0&&(S=y[y.length-1][1]),S},e.visitInParallel=function(t){var a=new Array(t.length);return{enter:function(l){for(var d=0;d<t.length;d++)if(a[d]==null){var p=n(t[d],l.kind,!1);if(p){var f=p.apply(t[d],arguments);if(f===!1)a[d]=l;else if(f===r)a[d]=r;else if(f!==void 0)return f}}},leave:function(l){for(var d=0;d<t.length;d++)if(a[d]==null){var p=n(t[d],l.kind,!0);if(p){var f=p.apply(t[d],arguments);if(f===r)a[d]=r;else if(f!==void 0&&f!==!1)return f}}else a[d]===l&&(a[d]=null)}}},e.getVisitFn=n,e.BREAK=e.QueryDocumentKeys=void 0;var c,o=(c=s(29657))&&c.__esModule?c:{default:c},u=s(76257),i={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]};e.QueryDocumentKeys=i;var r=Object.freeze({});function n(t,a,l){var d=t[a];if(d){if(!l&&typeof d=="function")return d;var p=l?d.leave:d.enter;if(typeof p=="function")return p}else{var f=l?t.leave:t.enter;if(f){if(typeof f=="function")return f;var h=f[a];if(typeof h=="function")return h}}}e.BREAK=r},9159:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfUpdateHypermediaSparql=void 0;const c=s(14597),o=s(90711),u=s(90412),i=s(27368);class r extends c.ActorRdfUpdateHypermedia{constructor(t){super(t,"sparql")}async testMetadata(t){return t.forceDestinationType||t.metadata.sparqlService||this.checkUrlSuffixSparql&&(t.url.endsWith("/sparql")||t.url.endsWith("/sparql/"))||this.checkUrlSuffixUpdate&&(t.url.endsWith("/update")||t.url.endsWith("/update/"))?(0,u.passTestVoid)():(0,u.failTest)(`Actor ${this.name} could not detect a SPARQL service description or URL ending on /sparql or /update.`)}async run(t){this.logInfo(t.context,`Identified as sparql destination: ${t.url}`);const a=t.context.getSafe(o.KeysInitQuery.dataFactory);return{destination:new i.QuadDestinationSparql(t.metadata.sparqlService||t.url,t.context,this.mediatorHttp,a)}}}e.ActorRdfUpdateHypermediaSparql=r},9243:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},9402:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionXsdToDayTimeDuration=void 0;const c=s(77617),o=s(77545);class u extends c.TermFunctionBase{constructor(){super({arity:1,operator:o.TypeURL.XSD_DAY_TIME_DURATION,overloads:(0,o.declare)(o.TypeURL.XSD_DAY_TIME_DURATION).onUnary(o.TypeURL.XSD_DURATION,()=>r=>new o.DayTimeDurationLiteral((0,o.trimToDayTimeDuration)(r.typedValue))).onStringly1(()=>r=>new o.DayTimeDurationLiteral((0,o.parseDayTimeDuration)(r.str()))).collect()})}}e.TermFunctionXsdToDayTimeDuration=u},9430:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionDay=void 0;const c=s(77617),o=s(77545);class u extends c.TermFunctionBase{constructor(){super({arity:1,operator:o.SparqlOperator.DAY,overloads:(0,o.declare)(o.SparqlOperator.DAY).onDateTime1(()=>r=>(0,o.integer)(r.typedValue.day)).set([o.TypeURL.XSD_DATE],()=>([r])=>(0,o.integer)(r.typedValue.day)).collect()})}}e.TermFunctionDay=u},9527:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfSerializeFixedMediaTypes=void 0;const c=s(48092),o=s(90412);class u extends c.ActorAbstractMediaTypedFixed{constructor(r){super(r)}async testHandleChecked(){return(0,o.passTestVoid)()}}e.ActorRdfSerializeFixedMediaTypes=u},9553:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryOperationPathZeroOrMore=void 0;const c=s(97091),o=s(90711),u=s(81926),i=s(67021),r=s(75627),n=s(25462),t=s(96331);class a extends c.ActorAbstractPath{constructor(d){super(d,t.Algebra.types.ZERO_OR_MORE_PATH)}async runOperation(d,p){const f=p.getSafe(o.KeysInitQuery.dataFactory),h=new t.Factory(f),y=await u.BindingsFactory.create(this.mediatorMergeBindingsContext,p,f),m=await this.isPathArbitraryLengthDistinct(h,p,d);if(m.operation)return m.operation;p=m.context;const b=d.predicate,v=this.getPathSources(b),_=d.subject.termType==="Variable",w=d.object.termType==="Variable";if(d.subject.termType==="Variable"&&d.object.termType==="Variable"){const R=this.generateVariable(f,d),M=this.assignPatternSources(h,h.createPattern(d.subject,R,d.object,d.graph),v),Q=(0,i.getSafeBindings)(await this.mediatorQueryOperation.mediate({context:p,operation:M})),X=d.subject,V=d.object,H=new Set,U={},k=new r.MultiTransformIterator(Q.bindingsStream,{multiTransform:ae=>{const he=ae.get(X),ye=ae.get(V),I=d.graph.termType==="Variable"?ae.get(d.graph):d.graph,j=(0,n.termToString)(he)+(0,n.termToString)(I),P=(0,n.termToString)(ye)+(0,n.termToString)(I);return new r.TransformIterator(async()=>{if(H.has(j)&&H.has(P))return new r.EmptyIterator;const L=new r.BufferedIterator,G={count:0};return H.has(j)||(H.add(j),await this.getSubjectAndObjectBindingsPredicateStar(X,V,he,he,b.path,I,p,U,{},L,G,h,y)),H.has(P)||(H.add(P),await this.getSubjectAndObjectBindingsPredicateStar(X,V,ye,ye,b.path,I,p,U,{},L,G,h,y)),L.map(te=>(d.graph.termType==="Variable"&&(te=te.set(d.graph,I)),te))},{autoStart:!1,maxBufferSize:128})},autoStart:!1}),$=(d.graph.termType==="Variable"?[X,d.object,d.graph]:[X,d.object]).map(ae=>({variable:ae,canBeUndef:!1}));return{type:"bindings",bindingsStream:k,metadata:async()=>({...await Q.metadata(),variables:$})}}if(!_&&!w){const R=this.generateVariable(f),M=await this.getObjectsPredicateStarEval(d.subject,b.path,R,d.graph,p,!0,h,y);return{type:"bindings",bindingsStream:M.bindingsStream.map(Q=>d.object.equals(Q.get(R))?d.graph.termType==="Variable"?y.bindings([[d.graph,Q.get(d.graph)]]):y.bindings():null),metadata:async()=>({...await M.metadata(),variables:(d.graph.termType==="Variable"?[d.graph]:[]).map(Q=>({variable:Q,canBeUndef:!1}))})}}const S=_?d.object:d.subject,x=_?d.subject:d.object,T=_?h.createInv(b.path):b.path,O=await this.getObjectsPredicateStarEval(S,T,x,d.graph,p,!0,h,y),E=(d.graph.termType==="Variable"?[x,d.graph]:[x]).map(R=>({variable:R,canBeUndef:!1}));return{type:"bindings",bindingsStream:O.bindingsStream,metadata:async()=>({...await O.metadata(),variables:E})}}}e.ActorQueryOperationPathZeroOrMore=a},9875:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermTimezone=void 0;const c=s(77617),o=s(77545),u=s(38274);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.SparqlOperator.TIMEZONE],termFunction:!0})}async run(n){return new u.TermFunctionTimezone}}e.ActorFunctionFactoryTermTimezone=i},9941:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(78673),e)},10030:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultGraph=void 0;class s{constructor(){this.termType="DefaultGraph",this.value=""}equals(o){return!!o&&o.termType==="DefaultGraph"}}e.DefaultGraph=s,s.INSTANCE=new s},10037:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MediatedLinkedRdfSourcesAsyncRdfIterator=void 0;const c=s(90711),o=s(17140);class u extends o.LinkedRdfSourcesAsyncRdfIterator{constructor(r,n,t,a,l,d,p,f,h,y,m,b,v,_){super(r,n,t,a,d,p,f,h?{maxBufferSize:Number.POSITIVE_INFINITY}:void 0),this.wasForcefullyClosed=!1,this.forceSourceType=l,this.mediatorMetadataAccumulate=y,this.mediatorRdfResolveHypermediaLinks=m,this.mediatorRdfResolveHypermediaLinksQueue=b,this.handledUrls={[d]:!0},this.aggregatedStore=h,this.dataFactory=v,this.algebraFactory=_}close(){this.aggregatedStore?this.getLinkQueue().then(r=>{this.isCloseable(r,!1)?(setTimeout(()=>this.aggregatedStore.end()),super.close()):this.wasForcefullyClosed=!0}).catch(r=>super.destroy(r)):super.close()}destroy(r){this.aggregatedStore?this.getLinkQueue().then(n=>{r??this.isCloseable(n,!1)?(setTimeout(()=>this.aggregatedStore.end()),super.destroy(r)):this.wasForcefullyClosed=!0}).catch(n=>super.destroy(n)):super.destroy(r)}isCloseable(r,n){return(n?r.isEmpty():this.wasForcefullyClosed||r.isEmpty())&&!this.areIteratorsRunning()}canStartNewIterator(){return(!this.wasForcefullyClosed||this.aggregatedStore!==void 0&&this.aggregatedStore.hasRunningIterators())&&super.canStartNewIterator()}canStartNewIteratorConsiderReadable(){return!this.aggregatedStore}isRunning(){return this.aggregatedStore&&this.aggregatedStore.hasRunningIterators()||!this.done}getLinkQueue(){return this.linkQueue||(this.linkQueue=this.mediatorRdfResolveHypermediaLinksQueue.mediate({firstUrl:this.firstUrl,context:this.context}).then(r=>r.linkQueue)),this.linkQueue}async getSourceLinks(r,n){try{const{links:t}=await this.mediatorRdfResolveHypermediaLinks.mediate({context:this.context,metadata:r}),a=this.context.get(c.KeysStatistics.discoveredLinks);if(a)for(const l of t)a.updateStatistic({url:l.url,metadata:{...l.metadata}},n.link);return t.filter(l=>!this.handledUrls[l.url]&&(this.handledUrls[l.url]=!0,!0))}catch{return[]}}startIterator(r){if(this.aggregatedStore&&!this.aggregatedStore.containedSources.has(r.link.url)){this.aggregatedStore?.containedSources.add(r.link.url);const n=r.source.queryBindings(this.algebraFactory.createPattern(this.dataFactory.variable("s"),this.dataFactory.variable("p"),this.dataFactory.variable("o"),this.dataFactory.variable("g")),this.context.set(c.KeysQueryOperation.unionDefaultGraph,!0)).map(t=>this.dataFactory.quad(t.get("s"),t.get("p"),t.get("o"),t.get("g")));this.aggregatedStore.import(n).on("end",()=>{super.startIterator(r)})}else super.startIterator(r)}async accumulateMetadata(r,n){return(await this.mediatorMetadataAccumulate.mediate({mode:"append",accumulatedMetadata:r,appendingMetadata:n,context:this.context})).metadata}updateMetadata(r){super.updateMetadata(r),this.aggregatedStore?.setBaseMetadata(r,!0)}}e.MediatedLinkedRdfSourcesAsyncRdfIterator=u},10448:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfParseN3=void 0;const c=s(95124),o=s(90711),u=s(25828);class i extends c.ActorRdfParseFixedMediaTypes{constructor(n){super(n)}async runHandle(n,t,a){const l=n.context.getSafe(o.KeysInitQuery.dataFactory);n.data.on("error",p=>d.emit("error",p));const d=n.data.pipe(new u.StreamParser({factory:l,baseIRI:n.metadata?.baseIRI,format:t.endsWith("n3")?t:`${t}*`}));return{data:d,metadata:{triples:t==="text/turtle"||t==="application/n-triples"||t==="text/n3"}}}}e.ActorRdfParseN3=i},10513:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.stringQuadToQuad=e.quadToStringQuad=e.stringToTerm=e.getLiteralLanguage=e.getLiteralType=e.getLiteralValue=e.termToString=void 0;const c=new(s(47793)).DataFactory;function o(t){if(t)switch(t.termType){case"NamedNode":case"DefaultGraph":return t.value;case"BlankNode":return"_:"+t.value;case"Literal":const a=t;return'"'+a.value+'"'+(a.datatype&&a.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&a.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?"^^"+a.datatype.value:"")+(a.language?"@"+a.language:"");case"Quad":return`<<${o(t.subject)} ${o(t.predicate)} ${o(t.object)}${t.graph.termType==="DefaultGraph"?"":" "+o(t.graph)}>>`;case"Variable":return"?"+t.value}}function u(t){const a=/^"([^]*)"/.exec(t);if(!a)throw new Error(t+" is not a literal");return a[1]}function i(t){const a=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(t);if(!a)throw new Error(t+" is not a literal");return a[1]||(a[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}function r(t){const a=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(t);if(!a)throw new Error(t+" is not a literal");return a[1]?a[1].toLowerCase():""}function n(t,a){if(a=a||c,!t||!t.length)return a.defaultGraph();switch(t[0]){case"_":return a.blankNode(t.substr(2));case"?":if(!a.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return a.variable(t.substr(1));case'"':const l=r(t),d=a.namedNode(i(t));return a.literal(u(t),l||d);default:if(t[0]==="<"&&t.length>4&&t[1]==="<"&&t[t.length-1]===">"&&t[t.length-2]===">"){const p=t.slice(2,-2).trim();let f=[],h=0,y=0,m=!1;for(let b=0;b<p.length;b++){const v=p[b];if(v==="<"&&h++,v===">"){if(h===0)throw new Error("Found closing tag without opening tag in "+t);h--}if(v==='"'){let _=!1,w=b;for(;w-- >0&&p[w]==="\\";)_=!_;_||(m=!m)}if(v===" "&&!m&&h===0){for(f.push(p.slice(y,b));p[b+1]===" ";)b+=1;y=b+1}}if(h!==0)throw new Error("Found opening tag without closing tag in "+t);if(f.push(p.slice(y,p.length)),f.length!==3&&f.length!==4)throw new Error("Nested quad syntax error "+t);return f=f.map(b=>b.startsWith("<")&&!b.includes(" ")?b.slice(1,-1):b),a.quad(n(f[0]),n(f[1]),n(f[2]),f[3]?n(f[3]):void 0)}return a.namedNode(t)}}e.termToString=o,e.getLiteralValue=u,e.getLiteralType=i,e.getLiteralLanguage=r,e.stringToTerm=n,e.quadToStringQuad=function(t){return{subject:o(t.subject),predicate:o(t.predicate),object:o(t.object),graph:o(t.graph)}},e.stringQuadToQuad=function(t,a){return(a=a||c).quad(n(t.subject,a),n(t.predicate,a),n(t.object,a),n(t.graph,a))}},10532:g=>{g.exports=JSON.parse('{"@context":{"as":"https://www.w3.org/ns/activitystreams#","cat":"http://www.w3.org/ns/dcat#","cc":"http://creativecommons.org/ns#","cnt":"http://www.w3.org/2008/content#","csvw":"http://www.w3.org/ns/csvw#","ctag":"http://commontag.org/ns#","dc":"http://purl.org/dc/terms/","dc11":"http://purl.org/dc/elements/1.1/","dcat":"http://www.w3.org/ns/dcat#","dcterms":"http://purl.org/dc/terms/","dqv":"http://www.w3.org/ns/dqv#","duv":"https://www.w3.org/TR/vocab-duv#","earl":"http://www.w3.org/ns/earl#","foaf":"http://xmlns.com/foaf/0.1/","gldp":"http://www.w3.org/ns/people#","gr":"http://purl.org/goodrelations/v1#","grddl":"http://www.w3.org/2003/g/data-view#","ht":"http://www.w3.org/2006/http#","ical":"http://www.w3.org/2002/12/cal/icaltzd#","ldp":"http://www.w3.org/ns/ldp#","ma":"http://www.w3.org/ns/ma-ont#","oa":"http://www.w3.org/ns/oa#","odrl":"http://www.w3.org/ns/odrl/2/","og":"http://ogp.me/ns#","org":"http://www.w3.org/ns/org#","owl":"http://www.w3.org/2002/07/owl#","prov":"http://www.w3.org/ns/prov#","ptr":"http://www.w3.org/2009/pointers#","qb":"http://purl.org/linked-data/cube#","rev":"http://purl.org/stuff/rev#","rdf":"http://www.w3.org/1999/02/22-rdf-syntax-ns#","rdfa":"http://www.w3.org/ns/rdfa#","rdfs":"http://www.w3.org/2000/01/rdf-schema#","rif":"http://www.w3.org/2007/rif#","rr":"http://www.w3.org/ns/r2rml#","schema":"http://schema.org/","sd":"http://www.w3.org/ns/sparql-service-description#","sioc":"http://rdfs.org/sioc/ns#","skos":"http://www.w3.org/2004/02/skos/core#","skosxl":"http://www.w3.org/2008/05/skos-xl#","ssn":"http://www.w3.org/ns/ssn/","sosa":"http://www.w3.org/ns/sosa/","time":"http://www.w3.org/2006/time#","v":"http://rdf.data-vocabulary.org/#","vcard":"http://www.w3.org/2006/vcard/ns#","void":"http://rdfs.org/ns/void#","wdr":"http://www.w3.org/2007/05/powder#","wdrs":"http://www.w3.org/2007/05/powder-s#","xhv":"http://www.w3.org/1999/xhtml/vocab#","xml":"http://www.w3.org/XML/1998/namespace","xsd":"http://www.w3.org/2001/XMLSchema#","describedby":"http://www.w3.org/2007/05/powder-s#describedby","license":"http://www.w3.org/1999/xhtml/vocab#license","role":"http://www.w3.org/1999/xhtml/vocab#role"}}')},10548:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NamedNode=void 0,e.NamedNode=class{constructor(s){this.termType="NamedNode",this.value=s}equals(s){return!!s&&s.termType==="NamedNode"&&s.value===this.value}}},10601:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorDereferenceFallback=void 0;const c=s(42890),o=s(90412);class u extends c.ActorDereference{constructor(r){super(r)}async test(r){return(0,o.passTestVoid)()}async run(r){return this.handleDereferenceErrors(r,new Error(`Could not dereference '${r.url}'`))}}e.ActorDereferenceFallback=u},10607:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(78867),e)},10766:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},10888:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Util=void 0;const c=s(42395),o=s(47793),u=s(64860),i=s(82341);class r{constructor(t){this.parsingContext=t.parsingContext,this.dataFactory=t.dataFactory||new o.DataFactory,this.rdfFirst=this.dataFactory.namedNode(r.RDF+"first"),this.rdfRest=this.dataFactory.namedNode(r.RDF+"rest"),this.rdfNil=this.dataFactory.namedNode(r.RDF+"nil"),this.rdfType=this.dataFactory.namedNode(r.RDF+"type"),this.rdfJson=this.dataFactory.namedNode(r.RDF+"JSON")}static getContextValue(t,a,l,d){const p=t.getContextRaw()[l];if(!p)return d;const f=p[a];return f===void 0?d:f}static getContextValueContainer(t,a){return r.getContextValue(t,"@container",a,{"@set":!0})}static getContextValueType(t,a){const l=r.getContextValue(t,"@type",a,null);return l==="@none"?null:l}static getContextValueLanguage(t,a){return r.getContextValue(t,"@language",a,t.getContextRaw()["@language"]||null)}static getContextValueDirection(t,a){return r.getContextValue(t,"@direction",a,t.getContextRaw()["@direction"]||null)}static isContextValueReverse(t,a){return!!r.getContextValue(t,"@reverse",a,null)}static getContextValueIndex(t,a){return r.getContextValue(t,"@index",a,t.getContextRaw()["@index"]||null)}static isPropertyReverse(t,a,l){return l==="@reverse"!==r.isContextValueReverse(t,a)}static isPropertyInEmbeddedNode(t){return t==="@id"}static isPropertyInAnnotationObject(t){return t==="@annotation"}static isValidIri(t){return t!==null&&c.Util.isValidIri(t)}static isPrefixArray(t,a){if(t.length>a.length)return!1;for(let l=0;l<t.length;l++)if(t[l]!==a[l])return!1;return!0}async validateValueIndexes(t){if(this.parsingContext.validateValueIndexes){const a={};for(const l of t)if(l&&typeof l=="object"){const d=l["@id"],p=l["@index"];if(d&&p){const f=a[d];if(f&&f!==p)throw new c.ErrorCoded(`Conflicting @index value for ${d}`,c.ERROR_CODES.CONFLICTING_INDEXES);a[d]=p}}}}async valueToTerm(t,a,l,d,p){if(r.getContextValueType(t,a)==="@json")return[this.dataFactory.literal(this.valueToJsonString(l),this.rdfJson)];const f=typeof l;switch(f){case"object":if(l==null)return[];if(Array.isArray(l))return"@list"in r.getContextValueContainer(t,a)?l.length===0?[this.rdfNil]:this.parsingContext.idStack[d+1]||[]:(await this.validateValueIndexes(l),[]);if(t=await this.getContextSelfOrPropertyScoped(t,a),"@context"in l&&(t=await this.parsingContext.parseContext(l["@context"],(await this.parsingContext.getContext(p,0)).getContextRaw())),"@value"in(l=await this.unaliasKeywords(l,p,d,t))){let h,y,m,b,v;for(a in l){const _=l[a];switch(a){case"@value":h=_;break;case"@language":y=_;break;case"@direction":m=_;break;case"@type":b=_;break;case"@index":v=_;break;case"@annotation":break;default:throw new c.ErrorCoded(`Unknown value entry '${a}' in @value: ${JSON.stringify(l)}`,c.ERROR_CODES.INVALID_VALUE_OBJECT)}}if(await this.unaliasKeyword(b,p,d,!0,t)==="@json")return[this.dataFactory.literal(this.valueToJsonString(h),this.rdfJson)];if(h===null)return[];if(typeof h=="object")throw new c.ErrorCoded(`The value of an '@value' can not be an object, got '${JSON.stringify(h)}'`,c.ERROR_CODES.INVALID_VALUE_OBJECT_VALUE);if(this.parsingContext.validateValueIndexes&&v&&typeof v!="string")throw new c.ErrorCoded(`The value of an '@index' must be a string, got '${JSON.stringify(v)}'`,c.ERROR_CODES.INVALID_INDEX_VALUE);if(y){if(typeof h!="string")throw new c.ErrorCoded(`When an '@language' is set, the value of '@value' must be a string, got '${JSON.stringify(h)}'`,c.ERROR_CODES.INVALID_LANGUAGE_TAGGED_VALUE);if(!c.ContextParser.validateLanguage(y,this.parsingContext.strictValues,c.ERROR_CODES.INVALID_LANGUAGE_TAGGED_STRING))return[];(this.parsingContext.normalizeLanguageTags||this.parsingContext.activeProcessingMode===1)&&(y=y.toLowerCase())}if(m){if(typeof h!="string")throw new Error(`When an '@direction' is set, the value of '@value' must be a string, got '${JSON.stringify(h)}'`);if(!c.ContextParser.validateDirection(m,this.parsingContext.strictValues))return[]}if(y&&m&&this.parsingContext.rdfDirection){if(b)throw new c.ErrorCoded(`Can not have '@language', '@direction' and '@type' in a value: '${JSON.stringify(l)}'`,c.ERROR_CODES.INVALID_VALUE_OBJECT);return this.nullableTermToArray(this.createLanguageDirectionLiteral(d,h,y,m))}if(y){if(b)throw new c.ErrorCoded(`Can not have both '@language' and '@type' in a value: '${JSON.stringify(l)}'`,c.ERROR_CODES.INVALID_VALUE_OBJECT);return[this.dataFactory.literal(h,y)]}if(m&&this.parsingContext.rdfDirection){if(b)throw new c.ErrorCoded(`Can not have both '@direction' and '@type' in a value: '${JSON.stringify(l)}'`,c.ERROR_CODES.INVALID_VALUE_OBJECT);return this.nullableTermToArray(this.createLanguageDirectionLiteral(d,h,y,m))}if(b){if(typeof b!="string")throw new c.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(b)}'`,c.ERROR_CODES.INVALID_TYPED_VALUE);const _=this.createVocabOrBaseTerm(t,b);if(!_)throw new c.ErrorCoded(`Invalid '@type' value, got '${JSON.stringify(b)}'`,c.ERROR_CODES.INVALID_TYPED_VALUE);if(_.termType!=="NamedNode")throw new c.ErrorCoded(`Illegal value type (${_.termType}): ${b}`,c.ERROR_CODES.INVALID_TYPED_VALUE);return[this.dataFactory.literal(h,_)]}return await this.valueToTerm(new c.JsonLdContextNormalized({}),a,h,d,p)}if("@set"in l){if(Object.keys(l).length>1)throw new c.ErrorCoded(`Found illegal neighbouring entries next to @set for key: '${a}'`,c.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT);return[]}if("@list"in l){if(Object.keys(l).length>1)throw new c.ErrorCoded(`Found illegal neighbouring entries next to @list for key: '${a}'`,c.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT);const h=l["@list"];return Array.isArray(h)?h.length===0?[this.rdfNil]:this.parsingContext.idStack[d+1]||[]:await this.valueToTerm(await this.parsingContext.getContext(p),a,h,d-1,p.slice(0,-1))}if("@reverse"in l&&typeof l["@reverse"]=="boolean")return[];if("@graph"in r.getContextValueContainer(await this.parsingContext.getContext(p),a)){const h=this.parsingContext.graphContainerTermStack[d+1];return h?Object.values(h):[this.dataFactory.blankNode()]}if("@id"in l){if(Object.keys(l).length>1&&(t=await this.parsingContext.getContext(p,0)),"@context"in l&&(t=await this.parsingContext.parseContext(l["@context"],t.getContextRaw())),l["@type"]==="@vocab")return this.nullableTermToArray(this.createVocabOrBaseTerm(t,l["@id"]));{const h=l["@id"];let y;if(typeof h=="object"){if(!this.parsingContext.rdfstar)throw new c.ErrorCoded(`Found illegal @id '${l}'`,c.ERROR_CODES.INVALID_ID_VALUE);y=this.parsingContext.idStack[d+1][0]}else y=this.resourceToTerm(t,h);return this.nullableTermToArray(y)}}return this.parsingContext.emittedStack[d+1]||l&&typeof l=="object"&&Object.keys(l).length===0?this.parsingContext.idStack[d+1]||(this.parsingContext.idStack[d+1]=[this.dataFactory.blankNode()]):[];case"string":return this.nullableTermToArray(this.stringValueToTerm(d,await this.getContextSelfOrPropertyScoped(t,a),a,l,null));case"boolean":return this.nullableTermToArray(this.stringValueToTerm(d,await this.getContextSelfOrPropertyScoped(t,a),a,(!!l).toString(),this.dataFactory.namedNode(r.XSD_BOOLEAN)));case"number":return this.nullableTermToArray(this.stringValueToTerm(d,await this.getContextSelfOrPropertyScoped(t,a),a,l,this.dataFactory.namedNode(l%1==0&&l<1e21?r.XSD_INTEGER:r.XSD_DOUBLE)));default:return this.parsingContext.emitError(new Error(`Could not determine the RDF type of a ${f}`)),[]}}async getContextSelfOrPropertyScoped(t,a){const l=t.getContextRaw()[a];return l&&typeof l=="object"&&"@context"in l&&(t=await this.parsingContext.parseContext(l,t.getContextRaw(),!0)),t}nullableTermToArray(t){return t?[t]:[]}predicateToTerm(t,a){const l=t.expandTerm(a,!0,this.parsingContext.getExpandOptions());return l?l[0]==="_"&&l[1]===":"?this.parsingContext.produceGeneralizedRdf?this.dataFactory.blankNode(l.substr(2)):null:r.isValidIri(l)?this.dataFactory.namedNode(l):(l&&this.parsingContext.strictValues&&this.parsingContext.emitError(new c.ErrorCoded(`Invalid predicate IRI: ${l}`,c.ERROR_CODES.INVALID_IRI_MAPPING)),null):null}resourceToTerm(t,a){if(a.startsWith("_:"))return this.dataFactory.blankNode(a.substr(2));const l=t.expandTerm(a,!1,this.parsingContext.getExpandOptions());if(!r.isValidIri(l)){if(!l||!this.parsingContext.strictValues)return null;this.parsingContext.emitError(new Error(`Invalid resource IRI: ${l}`))}return this.dataFactory.namedNode(l)}createVocabOrBaseTerm(t,a){if(a.startsWith("_:"))return this.dataFactory.blankNode(a.substr(2));const l=this.parsingContext.getExpandOptions();let d=t.expandTerm(a,!0,l);if(d===a&&(d=t.expandTerm(a,!1,l)),!r.isValidIri(d)){if(!d||!this.parsingContext.strictValues||d.startsWith("@"))return null;this.parsingContext.emitError(new Error(`Invalid term IRI: ${d}`))}return this.dataFactory.namedNode(d)}intToString(t,a){return typeof t=="number"?Number.isFinite(t)?t%1!=0||a&&a.value===r.XSD_DOUBLE?t.toExponential(15).replace(/(\d)0*e\+?/,"$1E"):Number(t).toString():t>0?"INF":"-INF":t}stringValueToTerm(t,a,l,d,p){const f=r.getContextValueType(a,l);if(f)if(f==="@id"){if(!p)return this.resourceToTerm(a,this.intToString(d,p))}else if(f==="@vocab"){if(!p)return this.createVocabOrBaseTerm(a,this.intToString(d,p))}else p=this.dataFactory.namedNode(f);if(!p){const h=r.getContextValueLanguage(a,l),y=r.getContextValueDirection(a,l);return y&&this.parsingContext.rdfDirection?this.createLanguageDirectionLiteral(t,this.intToString(d,p),h,y):this.dataFactory.literal(this.intToString(d,p),h)}return this.dataFactory.literal(this.intToString(d,p),p)}createLanguageDirectionLiteral(t,a,l,d){if(this.parsingContext.rdfDirection==="i18n-datatype")return l||(l=""),this.dataFactory.literal(a,this.dataFactory.namedNode(`https://www.w3.org/ns/i18n#${l}_${d}`));{const p=this.dataFactory.blankNode(),f=this.getDefaultGraph();return this.parsingContext.emitQuad(t,this.dataFactory.quad(p,this.dataFactory.namedNode(r.RDF+"value"),this.dataFactory.literal(a),f)),l&&this.parsingContext.emitQuad(t,this.dataFactory.quad(p,this.dataFactory.namedNode(r.RDF+"language"),this.dataFactory.literal(l),f)),this.parsingContext.emitQuad(t,this.dataFactory.quad(p,this.dataFactory.namedNode(r.RDF+"direction"),this.dataFactory.literal(d),f)),p}}valueToJsonString(t){return i(t)}async unaliasKeyword(t,a,l,d,p){if(Number.isInteger(t))return t;if(!d){const f=this.parsingContext.unaliasedKeywordCacheStack[l];if(f)return f}if(!c.Util.isPotentialKeyword(t)){let f=(p=p||await this.parsingContext.getContext(a)).getContextRaw()[t];f&&typeof f=="object"&&(f=f["@id"]),c.Util.isValidKeyword(f)&&(t=f)}return d?t:this.parsingContext.unaliasedKeywordCacheStack[l]=t}async unaliasKeywordParent(t,a){return await this.unaliasKeyword(a>0&&t[a-1],t,a-1)}async unaliasKeywords(t,a,l,d){const p={};for(const f in t)p[await this.unaliasKeyword(f,a,l+1,!0,d)]=t[f];return p}async isLiteral(t,a){for(let l=a;l>=0;l--){if(await this.unaliasKeyword(t[l],t,l)==="@annotation")return!1;if(this.parsingContext.literalStack[l]||this.parsingContext.jsonLiteralStack[l])return!0}return!1}async getDepthOffsetGraph(t,a){for(let l=t-1;l>0;l--)if(await this.unaliasKeyword(a[l],a,l)==="@graph"){const d=(await u.EntryHandlerContainer.getContainerHandler(this.parsingContext,a,l)).containers;return u.EntryHandlerContainer.isComplexGraphContainer(d)?-1:t-l-1}return-1}validateReverseSubject(t){if(t.termType==="Literal")throw new c.ErrorCoded(`Found illegal literal in subject position: ${t.value}`,c.ERROR_CODES.INVALID_REVERSE_PROPERTY_VALUE)}getDefaultGraph(){return this.parsingContext.defaultGraph||this.dataFactory.defaultGraph()}async getGraphContainerValue(t,a){let l=this.getDefaultGraph();const{containers:d,depth:p}=await u.EntryHandlerContainer.getContainerHandler(this.parsingContext,t,a);if("@graph"in d){const f=u.EntryHandlerContainer.getContainerGraphIndex(d,p,t),h=this.parsingContext.graphContainerTermStack[p];if(l=h?h[f]:null,!l){let y=null;if("@id"in d){const m=await this.getContainerKey(t[p],t,p);m!==null&&(y=await this.resourceToTerm(await this.parsingContext.getContext(t),m))}y||(y=this.dataFactory.blankNode()),this.parsingContext.graphContainerTermStack[p]||(this.parsingContext.graphContainerTermStack[p]={}),l=this.parsingContext.graphContainerTermStack[p][f]=y}}return l}async getPropertiesDepth(t,a){let l=a;for(let d=a-1;d>0;d--)if(typeof t[d]!="number"){const p=await this.unaliasKeyword(t[d],t,d);if(p==="@reverse")return d;if(p!=="@nest")return l;l=d}return l}async getContainerKey(t,a,l){const d=await this.unaliasKeyword(t,a,l);return d==="@none"?null:d}validateReverseInEmbeddedNode(t,a,l){if(l&&a&&!this.parsingContext.rdfstarReverseInEmbedded)throw new c.ErrorCoded(`Illegal reverse property in embedded node in ${t}`,c.ERROR_CODES.INVALID_EMBEDDED_NODE)}emitQuadChecked(t,a,l,d,p,f,h){let y;if(f?(this.validateReverseSubject(d),y=this.dataFactory.quad(d,l,a,p)):y=this.dataFactory.quad(a,l,d,p),h){if(y.graph.termType!=="DefaultGraph"&&(y=this.dataFactory.quad(y.subject,y.predicate,y.object)),this.parsingContext.idStack[t-1])throw new c.ErrorCoded("Illegal multiple properties in an embedded node",c.ERROR_CODES.INVALID_EMBEDDED_NODE);this.parsingContext.idStack[t-1]=[y]}else this.parsingContext.emitQuad(t,y);const m=this.parsingContext.annotationsBuffer[t];if(m){for(const b of m)this.emitAnnotation(t,y,b);delete this.parsingContext.annotationsBuffer[t]}}emitAnnotation(t,a,l){let d;l.reverse?(this.validateReverseSubject(l.object),d=this.dataFactory.quad(l.object,l.predicate,a)):d=this.dataFactory.quad(a,l.predicate,l.object),this.parsingContext.emitQuad(t,d);for(const p of l.nestedAnnotations)this.emitAnnotation(t,d,p)}}r.XSD="http://www.w3.org/2001/XMLSchema#",r.XSD_BOOLEAN=r.XSD+"boolean",r.XSD_INTEGER=r.XSD+"integer",r.XSD_DOUBLE=r.XSD+"double",r.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",e.Util=r},11304:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermIsTriple=void 0;const c=s(77617),o=s(77545),u=s(99669);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.SparqlOperator.IS_TRIPLE],termFunction:!0})}async run(n){return new u.TermFunctionIsTriple}}e.ActorFunctionFactoryTermIsTriple=i},11370:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorDereferenceRdf=void 0;const c=s(42890);class o extends c.ActorDereferenceParse{constructor(i){super(i)}}e.ActorDereferenceRdf=o},11501:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default={deactivated:!0,severity:!0,message:!0,class:!0,datatype:!0,nodeKind:!0,minExclusive:!0,minInclusive:!0,maxExclusive:!0,maxInclusive:!0,minLength:!0,maxLength:!0,pattern:!0,flags:!0,languageIn:!0,uniqueLang:!0,equals:!0,disjoint:!0,lessThan:!0,lessThanOrEquals:!0,qualifiedValueShape:!0,qualifiedMinCount:!0,qualifiedMaxCount:!0,qualifiedValueShapesDisjoint:!0,closed:!0,ignoredProperties:!0,hasValue:!0,in:!0,node:!0}},11554:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(83161),e)},11558:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(94424),e)},11582:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.doesShapeAcceptOperation=void 0;const c=s(96331);function o(t,a,l){return u(t,t,a,l)}function u(t,a,l,d){if(a.type==="conjunction")return a.children.every(f=>u(t,f,l,d));if(a.type==="disjunction")return a.children.some(f=>u(t,f,l,d));if(a.type==="negation")return!u(a.child,a.child,l,d);if(a.type==="arity")return u(t,a.child,l,d);if((d?.joinBindings&&!a.joinBindings)??(d?.filterBindings&&!a.filterBindings))return!1;const p=a.operation;switch(p.operationType){case"type":return!(!(p.type!==c.Algebra.types.EXPRESSION||!n(l)||"extensionFunctions"in p&&p.extensionFunctions?.includes(l.name.value))||!i(t,a.children,l,d)&&!r(t,l,d)||p.type!==l.type);case"pattern":return!(!i(t,a.children,l,d)&&!r(t,l,d))&&p.pattern.type===l.type;case"wildcard":{if(d?.wildcardAcceptAllExtensionFunctions)return!0;if(n(l))return!1;let f=!1;return c.Util.recurseOperation(l,{[c.Algebra.types.EXPRESSION]:h=>!(n(h)&&!o(t,h,d)&&(f=!0,1))}),!f}}}function i(t,a,l,d){if(n(l)||n(l.expression))return!1;if(a){const p=l.input?Array.isArray(l.input)?l.input:[l.input]:l.patterns??[];for(const[f,h]of a.entries())if(!p[f]||!u(t,h,p[f],d))return!1;return!0}return!1}function r(t,a,l){return!(a.input&&!(Array.isArray(a.input)?a.input:[a.input]).every(d=>u(t,t,d,l)))&&!(a.expression&&n(a.expression)&&!u(t,t,a.expression,l)||a.patterns&&!a.patterns.every(d=>u(t,t,d,l)))}function n(t){return t&&t.type===c.Algebra.types.EXPRESSION&&t.expressionType===c.Algebra.expressionTypes.NAMED&&(a=t.name.value,!/^https?:\/\/www\.w3\.org\//u.test(a));var a}e.doesShapeAcceptOperation=o},11658:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionRegex=void 0;const c=s(77617),o=s(77545);class u extends c.TermFunctionBase{constructor(){super({arity:[2,3],operator:o.SparqlOperator.REGEX,overloads:(0,o.declare)(o.SparqlOperator.REGEX).onBinaryTyped([o.TypeAlias.SPARQL_STRINGLY,o.TypeURL.XSD_STRING],u.regex2).onTernaryTyped([o.TypeAlias.SPARQL_STRINGLY,o.TypeURL.XSD_STRING,o.TypeURL.XSD_STRING],u.regex3).collect()})}static regex2(){return(r,n)=>(0,o.bool)(u.matches(r,n))}static regex3(){return(r,n,t)=>(0,o.bool)(u.matches(r,n,t))}static matches(r,n,t=""){return(t=u.cleanFlags(t)).includes("x")&&(n=u.flagX(n)),t.includes("q")&&(n=u.flagQ(n)),new RegExp(n,t.replaceAll(/[qx]/gu,"")).test(r)}static cleanFlags(r){if(!/^[imsxq]*$/u.test(r))throw new Error("Invalid flags");const n=[...r].find((t,a,l)=>l.indexOf(t)!==a);if(n)throw new Error(`Duplicate flag: ${n}`);return r?.includes("q")&&(r=r.replaceAll(/[msx]/gu,"")),`${r}u`}static flagX(r){if(!r)return r;let n=r[0];for(;["	",`
`,"\r"," "].includes(n);)n=(r=r.slice(1))[0];let t=n==="[";for(let a=1;a<r.length;a++){const l=r[a];["	",`
`,"\r"," "].includes(l)&&!t?(r=r.slice(0,a)+r.slice(a+1),a--):l==="["&&n!=="\\"?t=!0:l==="]"&&n!=="\\"&&(t=!1),n=l}return r}static flagQ(r){return r.replaceAll(/([?+*.{}()[\]\\|])/gu,"\\$1").replaceAll(/^\^/gu,"\\^").replaceAll(/\$$/gu,"\\$")}}e.TermFunctionRegex=u},11724:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(v,_,w,S){S===void 0&&(S=w);var x=Object.getOwnPropertyDescriptor(_,w);x&&!("get"in x?!_.__esModule:x.writable||x.configurable)||(x={enumerable:!0,get:function(){return _[w]}}),Object.defineProperty(v,S,x)}:function(v,_,w,S){S===void 0&&(S=w),v[S]=_[w]}),o=this&&this.__setModuleDefault||(Object.create?function(v,_){Object.defineProperty(v,"default",{enumerable:!0,value:_})}:function(v,_){v.default=_}),u=this&&this.__importStar||function(v){if(v&&v.__esModule)return v;var _={};if(v!=null)for(var w in v)w!=="default"&&Object.prototype.hasOwnProperty.call(v,w)&&c(_,v,w);return o(_,v),_};Object.defineProperty(e,"__esModule",{value:!0}),e.Parser=void 0;var i=u(s(57918)),r=s(79878),n=new Set(["input","option","optgroup","select","button","datalist","textarea"]),t=new Set(["p"]),a=new Set(["thead","tbody"]),l=new Set(["dd","dt"]),d=new Set(["rt","rp"]),p=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",t],["h1",t],["h2",t],["h3",t],["h4",t],["h5",t],["h6",t],["select",n],["input",n],["output",n],["button",n],["datalist",n],["textarea",n],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",l],["dt",l],["address",t],["article",t],["aside",t],["blockquote",t],["details",t],["div",t],["dl",t],["fieldset",t],["figcaption",t],["figure",t],["footer",t],["form",t],["header",t],["hr",t],["main",t],["nav",t],["ol",t],["pre",t],["section",t],["table",t],["ul",t],["rt",d],["rp",d],["tbody",a],["tfoot",a]]),f=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),h=new Set(["math","svg"]),y=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),m=/\s|\//,b=(function(){function v(_,w){var S,x,T,O,E;w===void 0&&(w={}),this.options=w,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=_??{},this.lowerCaseTagNames=(S=w.lowerCaseTags)!==null&&S!==void 0?S:!w.xmlMode,this.lowerCaseAttributeNames=(x=w.lowerCaseAttributeNames)!==null&&x!==void 0?x:!w.xmlMode,this.tokenizer=new((T=w.Tokenizer)!==null&&T!==void 0?T:i.default)(this.options,this),(E=(O=this.cbs).onparserinit)===null||E===void 0||E.call(O,this)}return v.prototype.ontext=function(_,w){var S,x,T=this.getSlice(_,w);this.endIndex=w-1,(x=(S=this.cbs).ontext)===null||x===void 0||x.call(S,T),this.startIndex=w},v.prototype.ontextentity=function(_){var w,S,x=this.tokenizer.getSectionStart();this.endIndex=x-1,(S=(w=this.cbs).ontext)===null||S===void 0||S.call(w,(0,r.fromCodePoint)(_)),this.startIndex=x},v.prototype.isVoidElement=function(_){return!this.options.xmlMode&&f.has(_)},v.prototype.onopentagname=function(_,w){this.endIndex=w;var S=this.getSlice(_,w);this.lowerCaseTagNames&&(S=S.toLowerCase()),this.emitOpenTag(S)},v.prototype.emitOpenTag=function(_){var w,S,x,T;this.openTagStart=this.startIndex,this.tagname=_;var O=!this.options.xmlMode&&p.get(_);if(O)for(;this.stack.length>0&&O.has(this.stack[this.stack.length-1]);){var E=this.stack.pop();(S=(w=this.cbs).onclosetag)===null||S===void 0||S.call(w,E,!0)}this.isVoidElement(_)||(this.stack.push(_),h.has(_)?this.foreignContext.push(!0):y.has(_)&&this.foreignContext.push(!1)),(T=(x=this.cbs).onopentagname)===null||T===void 0||T.call(x,_),this.cbs.onopentag&&(this.attribs={})},v.prototype.endOpenTag=function(_){var w,S;this.startIndex=this.openTagStart,this.attribs&&((S=(w=this.cbs).onopentag)===null||S===void 0||S.call(w,this.tagname,this.attribs,_),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""},v.prototype.onopentagend=function(_){this.endIndex=_,this.endOpenTag(!1),this.startIndex=_+1},v.prototype.onclosetag=function(_,w){var S,x,T,O,E,R;this.endIndex=w;var M=this.getSlice(_,w);if(this.lowerCaseTagNames&&(M=M.toLowerCase()),(h.has(M)||y.has(M))&&this.foreignContext.pop(),this.isVoidElement(M))this.options.xmlMode||M!=="br"||((x=(S=this.cbs).onopentagname)===null||x===void 0||x.call(S,"br"),(O=(T=this.cbs).onopentag)===null||O===void 0||O.call(T,"br",{},!0),(R=(E=this.cbs).onclosetag)===null||R===void 0||R.call(E,"br",!1));else{var Q=this.stack.lastIndexOf(M);if(Q!==-1)if(this.cbs.onclosetag)for(var X=this.stack.length-Q;X--;)this.cbs.onclosetag(this.stack.pop(),X!==0);else this.stack.length=Q;else this.options.xmlMode||M!=="p"||(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=w+1},v.prototype.onselfclosingtag=function(_){this.endIndex=_,this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?(this.closeCurrentTag(!1),this.startIndex=_+1):this.onopentagend(_)},v.prototype.closeCurrentTag=function(_){var w,S,x=this.tagname;this.endOpenTag(_),this.stack[this.stack.length-1]===x&&((S=(w=this.cbs).onclosetag)===null||S===void 0||S.call(w,x,!_),this.stack.pop())},v.prototype.onattribname=function(_,w){this.startIndex=_;var S=this.getSlice(_,w);this.attribname=this.lowerCaseAttributeNames?S.toLowerCase():S},v.prototype.onattribdata=function(_,w){this.attribvalue+=this.getSlice(_,w)},v.prototype.onattribentity=function(_){this.attribvalue+=(0,r.fromCodePoint)(_)},v.prototype.onattribend=function(_,w){var S,x;this.endIndex=w,(x=(S=this.cbs).onattribute)===null||x===void 0||x.call(S,this.attribname,this.attribvalue,_===i.QuoteType.Double?'"':_===i.QuoteType.Single?"'":_===i.QuoteType.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""},v.prototype.getInstructionName=function(_){var w=_.search(m),S=w<0?_:_.substr(0,w);return this.lowerCaseTagNames&&(S=S.toLowerCase()),S},v.prototype.ondeclaration=function(_,w){this.endIndex=w;var S=this.getSlice(_,w);if(this.cbs.onprocessinginstruction){var x=this.getInstructionName(S);this.cbs.onprocessinginstruction("!".concat(x),"!".concat(S))}this.startIndex=w+1},v.prototype.onprocessinginstruction=function(_,w){this.endIndex=w;var S=this.getSlice(_,w);if(this.cbs.onprocessinginstruction){var x=this.getInstructionName(S);this.cbs.onprocessinginstruction("?".concat(x),"?".concat(S))}this.startIndex=w+1},v.prototype.oncomment=function(_,w,S){var x,T,O,E;this.endIndex=w,(T=(x=this.cbs).oncomment)===null||T===void 0||T.call(x,this.getSlice(_,w-S)),(E=(O=this.cbs).oncommentend)===null||E===void 0||E.call(O),this.startIndex=w+1},v.prototype.oncdata=function(_,w,S){var x,T,O,E,R,M,Q,X,V,H;this.endIndex=w;var U=this.getSlice(_,w-S);this.options.xmlMode||this.options.recognizeCDATA?((T=(x=this.cbs).oncdatastart)===null||T===void 0||T.call(x),(E=(O=this.cbs).ontext)===null||E===void 0||E.call(O,U),(M=(R=this.cbs).oncdataend)===null||M===void 0||M.call(R)):((X=(Q=this.cbs).oncomment)===null||X===void 0||X.call(Q,"[CDATA[".concat(U,"]]")),(H=(V=this.cbs).oncommentend)===null||H===void 0||H.call(V)),this.startIndex=w+1},v.prototype.onend=function(){var _,w;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(var S=this.stack.length;S>0;this.cbs.onclosetag(this.stack[--S],!0));}(w=(_=this.cbs).onend)===null||w===void 0||w.call(_)},v.prototype.reset=function(){var _,w,S,x;(w=(_=this.cbs).onreset)===null||w===void 0||w.call(_),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(x=(S=this.cbs).onparserinit)===null||x===void 0||x.call(S,this),this.buffers.length=0,this.bufferOffset=0,this.writeIndex=0,this.ended=!1},v.prototype.parseComplete=function(_){this.reset(),this.end(_)},v.prototype.getSlice=function(_,w){for(;_-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();for(var S=this.buffers[0].slice(_-this.bufferOffset,w-this.bufferOffset);w-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),S+=this.buffers[0].slice(0,w-this.bufferOffset);return S},v.prototype.shiftBuffer=function(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()},v.prototype.write=function(_){var w,S;this.ended?(S=(w=this.cbs).onerror)===null||S===void 0||S.call(w,new Error(".write() after done!")):(this.buffers.push(_),this.tokenizer.running&&(this.tokenizer.write(_),this.writeIndex++))},v.prototype.end=function(_){var w,S;this.ended?(S=(w=this.cbs).onerror)===null||S===void 0||S.call(w,new Error(".end() after done!")):(_&&this.write(_),this.ended=!0,this.tokenizer.end())},v.prototype.pause=function(){this.tokenizer.pause()},v.prototype.resume=function(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()},v.prototype.parseChunk=function(_){this.write(_)},v.prototype.done=function(_){this.end(_)},v})();e.Parser=b},11725:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BlankNode=void 0,e.BlankNode=class{constructor(s){this.termType="BlankNode",this.value=s}equals(s){return!!s&&s.termType==="BlankNode"&&s.value===this.value}}},11752:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BlankNodeBindingsScoped=void 0,e.BlankNodeBindingsScoped=class{constructor(s){this.termType="BlankNode",this.singleBindingsScope=!0,this.value=s}equals(s){return!!s&&s.termType==="BlankNode"&&s.value===this.value}}},11767:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(4136),e)},11832:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(40932),e)},11867:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermDivision=void 0;const c=s(77617),o=s(77545),u=s(39878);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.SparqlOperator.DIVISION],termFunction:!0})}async run(n){return new u.TermFunctionDivision}}e.ActorFunctionFactoryTermDivision=i},11930:(g,e,s)=>{function c(v){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},c(v)}function o(){var v,_,w=typeof Symbol=="function"?Symbol:{},S=w.iterator||"@@iterator",x=w.toStringTag||"@@toStringTag";function T(H,U,k,$){var ae=U&&U.prototype instanceof E?U:E,he=Object.create(ae.prototype);return u(he,"_invoke",(function(ye,I,j){var P,L,G,te=0,W=j||[],ce=!1,de={p:0,n:0,v,a:Se,f:Se.bind(v,4),d:function(ie,me){return P=ie,L=0,G=v,de.n=me,O}};function Se(ie,me){for(L=ie,G=me,_=0;!ce&&te&&!oe&&_<W.length;_++){var oe,ve=W[_],xe=de.p,q=ve[2];ie>3?(oe=q===me)&&(G=ve[(L=ve[4])?5:(L=3,3)],ve[4]=ve[5]=v):ve[0]<=xe&&((oe=ie<2&&xe<ve[1])?(L=0,de.v=me,de.n=ve[1]):xe<q&&(oe=ie<3||ve[0]>me||me>q)&&(ve[4]=ie,ve[5]=me,de.n=q,L=0))}if(oe||ie>1)return O;throw ce=!0,me}return function(ie,me,oe){if(te>1)throw TypeError("Generator is already running");for(ce&&me===1&&Se(me,oe),L=me,G=oe;(_=L<2?v:G)||!ce;){P||(L?L<3?(L>1&&(de.n=-1),Se(L,G)):de.n=G:de.v=G);try{if(te=2,P){if(L||(ie="next"),_=P[ie]){if(!(_=_.call(P,G)))throw TypeError("iterator result is not an object");if(!_.done)return _;G=_.value,L<2&&(L=0)}else L===1&&(_=P.return)&&_.call(P),L<2&&(G=TypeError("The iterator does not provide a '"+ie+"' method"),L=1);P=v}else if((_=(ce=de.n<0)?G:ye.call(I,de))!==O)break}catch(ve){P=v,L=1,G=ve}finally{te=1}}return{value:_,done:ce}}})(H,k,$),!0),he}var O={};function E(){}function R(){}function M(){}_=Object.getPrototypeOf;var Q=[][S]?_(_([][S]())):(u(_={},S,function(){return this}),_),X=M.prototype=E.prototype=Object.create(Q);function V(H){return Object.setPrototypeOf?Object.setPrototypeOf(H,M):(H.__proto__=M,u(H,x,"GeneratorFunction")),H.prototype=Object.create(X),H}return R.prototype=M,u(X,"constructor",M),u(M,"constructor",R),R.displayName="GeneratorFunction",u(M,x,"GeneratorFunction"),u(X),u(X,x,"Generator"),u(X,S,function(){return this}),u(X,"toString",function(){return"[object Generator]"}),(o=function(){return{w:T,m:V}})()}function u(v,_,w,S){var x=Object.defineProperty;try{x({},"",{})}catch{x=0}u=function(T,O,E,R){function M(Q,X){u(T,Q,function(V){return this._invoke(Q,X,V)})}O?x?x(T,O,{value:E,enumerable:!R,configurable:!R,writable:!R}):T[O]=E:(M("next",0),M("throw",1),M("return",2))},u(v,_,w,S)}function i(v,_,w,S,x,T,O){try{var E=v[T](O),R=E.value}catch(M){return void w(M)}E.done?_(R):Promise.resolve(R).then(S,x)}function r(v,_){for(var w=0;w<_.length;w++){var S=_[w];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(v,n(S.key),S)}}function n(v){var _=(function(w){if(c(w)!="object"||!w)return w;var S=w[Symbol.toPrimitive];if(S!==void 0){var x=S.call(w,"string");if(c(x)!="object")return x;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(w)})(v);return c(_)=="symbol"?_:_+""}function t(){try{var v=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t=function(){return!!v})()}function a(v){return a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},a(v)}function l(v,_){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(w,S){return w.__proto__=S,w},l(v,_)}Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryProcessSequentialRecursive=void 0;var d=s(90412),p=s(92423),f=s(96331),h=s(90711),y=s(81926),m=s(67021),b=(function(v){function _(O){return(function(E,R){if(!(E instanceof R))throw new TypeError("Cannot call a class as a function")})(this,_),(function(E,R,M){return R=a(R),(function(Q,X){if(X&&(c(X)=="object"||typeof X=="function"))return X;if(X!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(V){if(V===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return V})(Q)})(E,t()?Reflect.construct(R,M||[],a(E).constructor):R.apply(E,M))})(this,_,[O])}return(function(O,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(E&&E.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),E&&l(O,E)})(_,v),w=_,S=[{key:"parse",value:(x=o().m(function O(E,R){var M,Q,X,V,H,U,k,$;return o().w(function(ae){for(;;)switch(ae.n){case 0:if(R.get(new d.ActionContextKey("initialized"))){ae.n=2;break}return R.get(new d.ActionContextKey("physicalQueryPlanLogger"))&&(M=R.getSafe(new d.ActionContextKey("physicalQueryPlanLogger")),R=R.set(h.KeysInitQuery.physicalQueryPlanLogger,M())),R=R.set(new d.ActionContextKey("initialized"),!0),ae.n=1,this.mediatorContextPreprocess.mediate({context:R,initialize:!0});case 1:R=ae.v.context;case 2:if(typeof E!="string"){ae.n=4;break}return R=R.set(h.KeysInitQuery.queryString,E),X=R.get(h.KeysInitQuery.baseIRI),V=R.get(h.KeysInitQuery.queryFormat),ae.n=3,this.mediatorQueryParse.mediate({context:R,query:E,queryFormat:V,baseIRI:X});case 3:H=ae.v,Q=H.operation,H.baseIRI&&(R=R.set(h.KeysInitQuery.baseIRI,H.baseIRI)),ae.n=5;break;case 4:Q=E;case 5:if(!R.has(h.KeysInitQuery.initialBindings)){ae.n=7;break}return U=R.getSafe(h.KeysInitQuery.dataFactory),k=new f.Factory(U),ae.n=6,y.BindingsFactory.create(this.mediatorMergeBindingsContext,R,U);case 6:$=ae.v,Q=(0,m.materializeOperation)(Q,R.get(h.KeysInitQuery.initialBindings),k,$,{strictTargetVariables:!0}),R=R.delete(h.KeysInitQuery.queryString);case 7:return ae.a(2,{operation:Q,context:R})}},O,this)}),T=function(){var O=this,E=arguments;return new Promise(function(R,M){var Q=x.apply(O,E);function X(H){i(Q,R,M,X,V,"next",H)}function V(H){i(Q,R,M,X,V,"throw",H)}X(void 0)})},function(O,E){return T.apply(this,arguments)})}],S&&r(w.prototype,S),Object.defineProperty(w,"prototype",{writable:!1}),w;var w,S,x,T})(p.ActorQueryProcessSequential);e.ActorQueryProcessSequentialRecursive=b},12067:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(19464),e)},12147:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionStrUuid=void 0;const c=s(77617),o=s(77545),u=s(40182);class i extends c.TermFunctionBase{constructor(){super({arity:0,operator:o.SparqlOperator.STRUUID,overloads:(0,o.declare)(o.SparqlOperator.STRUUID).set([],()=>()=>(0,o.string)(u.v4())).collect()})}}e.TermFunctionStrUuid=i},12167:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryOperationBgpJoin=void 0;const c=s(66490),o=s(90711),u=s(90412),i=s(96331);class r extends c.ActorQueryOperationTypedMediated{constructor(t){super(t,"bgp")}async testOperation(t,a){return(0,u.passTestVoid)()}async runOperation(t,a){const l=a.getSafe(o.KeysInitQuery.dataFactory),d=new i.Factory(l);return this.mediatorQueryOperation.mediate({operation:d.createJoin(t.patterns),context:a})}}e.ActorQueryOperationBgpJoin=r},12278:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MediatorJoinCoefficientsFixed=void 0;const c=s(90711),o=s(90412);class u extends o.Mediator{constructor(r){super(r)}async mediateWith(r,n){const t=[],a=n.map(({reply:b})=>b),l=(await Promise.all(a)).map(b=>{if(!b.isFailed())return{value:b.get(),sideData:b.getSideData()};t.push(b.getFailMessage())});let d=l.map(b=>{if(b)return b.value.iterations*this.cpuWeight+b.value.persistedItems*this.memoryWeight+b.value.blockingItems*this.timeWeight+b.value.requestTime*this.ioWeight});const p=Math.max(...d.filter(b=>b!==void 0)),f=r.context.get(c.KeysQueryOperation.limitIndicator);f&&(d=d.map((b,v)=>b!==void 0&&(l[v]?.value).blockingItems>0&&(l[v]?.value).iterations>f?b+p:b));let h=-1,y=Number.POSITIVE_INFINITY;for(const[b,v]of d.entries())v!==void 0&&(h===-1||v<y)&&(h=b,y=v);if(h<0)return(0,o.failTest)(this.constructFailureMessage(r,t));const m=n[h].actor;return m.includeInLogs&&o.Actor.getContextLogger(r.context)?.debug(`Determined physical join operator '${m.logicalType}-${m.physicalName}'`,{entries:r.entries.length,variables:await Promise.all(r.entries.map(async b=>(await b.output.metadata()).variables.map(v=>v.variable.value))),costs:Object.fromEntries(d.map((b,v)=>[`${n[v].actor.logicalType}-${n[v].actor.physicalName}`,b]).filter(b=>b[1]!==void 0)),coefficients:Object.fromEntries(l.map((b,v)=>[`${n[v].actor.logicalType}-${n[v].actor.physicalName}`,b?.value]).filter(b=>b[1]!==void 0))}),(0,o.passTestWithSideData)(m,l[h].sideData)}}e.MediatorJoinCoefficientsFixed=u},12301:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(i,r,n,t){t===void 0&&(t=n);var a=Object.getOwnPropertyDescriptor(r,n);a&&!("get"in a?!r.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(i,t,a)}:function(i,r,n,t){t===void 0&&(t=n),i[t]=r[n]}),o=this&&this.__exportStar||function(i,r){for(var n in i)n==="default"||Object.prototype.hasOwnProperty.call(r,n)||c(r,i,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.QueryEngineBase=void 0,o(s(53638),e),o(s(20358),e);var u=s(76235);Object.defineProperty(e,"QueryEngineBase",{enumerable:!0,get:function(){return u.QueryEngineBase}})},12304:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(79904),e)},12314:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TRIPLE_TERM_NAMES=e.QUAD_TERM_NAMES=void 0,e.getTerms=o,e.getTermsNested=function t(a,l){const d=[];for(const p of o(a,l))p.termType==="Quad"?t(p,l).forEach(f=>d.push(f)):d.push(p);return d},e.getNamedTerms=function(t){return[{key:"subject",value:t.subject},{key:"predicate",value:t.predicate},{key:"object",value:t.object},{key:"graph",value:t.graph}]},e.collectNamedTerms=function(t,a,l){const d={};return t.forEach(p=>d[p.key]=p.value),a&&(d.subject=d.subject||a("subject"),d.predicate=d.predicate||a("predicate"),d.object=d.object||a("object"),d.graph=d.graph||a("graph")),(l||c).quad(d.subject,d.predicate,d.object,d.graph)},e.forEachTerms=function(t,a){a(t.subject,"subject"),a(t.predicate,"predicate"),a(t.object,"object"),a(t.graph,"graph")},e.forEachTermsNested=function t(a,l,d=[]){a.subject.termType==="Quad"?t(a.subject,l,[...d,"subject"]):l(a.subject,[...d,"subject"]),a.predicate.termType==="Quad"?t(a.predicate,l,[...d,"predicate"]):l(a.predicate,[...d,"predicate"]),a.object.termType==="Quad"?t(a.object,l,[...d,"object"]):l(a.object,[...d,"object"]),a.graph.termType==="Quad"?t(a.graph,l,[...d,"graph"]):l(a.graph,[...d,"graph"])},e.filterTerms=function(t,a){const l=[];return a(t.subject,"subject")&&l.push(t.subject),a(t.predicate,"predicate")&&l.push(t.predicate),a(t.object,"object")&&l.push(t.object),a(t.graph,"graph")&&l.push(t.graph),l},e.filterTermsNested=function t(a,l,d=[]){let p=[];return a.subject.termType==="Quad"?p=[...p,...t(a.subject,l,[...d,"subject"])]:l(a.subject,[...d,"subject"])&&p.push(a.subject),a.predicate.termType==="Quad"?p=[...p,...t(a.predicate,l,[...d,"predicate"])]:l(a.predicate,[...d,"predicate"])&&p.push(a.predicate),a.object.termType==="Quad"?p=[...p,...t(a.object,l,[...d,"object"])]:l(a.object,[...d,"object"])&&p.push(a.object),a.graph.termType==="Quad"?p=[...p,...t(a.graph,l,[...d,"graph"])]:l(a.graph,[...d,"graph"])&&p.push(a.graph),p},e.filterQuadTermNames=function(t,a){const l=[];return a(t.subject,"subject")&&l.push("subject"),a(t.predicate,"predicate")&&l.push("predicate"),a(t.object,"object")&&l.push("object"),a(t.graph,"graph")&&l.push("graph"),l},e.filterQuadTermNamesNested=function t(a,l,d=[]){let p=[];const f=[...d,"subject"];a.subject.termType==="Quad"?p=[...p,...t(a.subject,l,f)]:l(a.subject,f)&&p.push(f);const h=[...d,"predicate"];a.predicate.termType==="Quad"?p=[...p,...t(a.predicate,l,h)]:l(a.predicate,h)&&p.push(h);const y=[...d,"object"];a.object.termType==="Quad"?p=[...p,...t(a.object,l,y)]:l(a.object,y)&&p.push(y);const m=[...d,"graph"];return a.graph.termType==="Quad"?p=[...p,...t(a.graph,l,m)]:l(a.graph,m)&&p.push(m),p},e.mapTerms=function(t,a,l){return(l||c).quad(a(t.subject,"subject"),a(t.predicate,"predicate"),a(t.object,"object"),a(t.graph,"graph"))},e.mapTermsNested=function t(a,l,d,p=[]){return(d||c).quad(a.subject.termType==="Quad"?t(a.subject,l,d,[...p,"subject"]):l(a.subject,[...p,"subject"]),a.predicate.termType==="Quad"?t(a.predicate,l,d,[...p,"predicate"]):l(a.predicate,[...p,"predicate"]),a.object.termType==="Quad"?t(a.object,l,d,[...p,"object"]):l(a.object,[...p,"object"]),a.graph.termType==="Quad"?t(a.graph,l,d,[...p,"graph"]):l(a.graph,[...p,"graph"]))},e.reduceTerms=function(t,a,l){let d=l;return d=a(d,t.subject,"subject"),d=a(d,t.predicate,"predicate"),d=a(d,t.object,"object"),a(d,t.graph,"graph")},e.reduceTermsNested=function t(a,l,d,p=[]){let f=d;return f=a.subject.termType==="Quad"?t(a.subject,l,f,[...p,"subject"]):l(f,a.subject,[...p,"subject"]),f=a.predicate.termType==="Quad"?t(a.predicate,l,f,[...p,"predicate"]):l(f,a.predicate,[...p,"predicate"]),f=a.object.termType==="Quad"?t(a.object,l,f,[...p,"object"]):l(f,a.object,[...p,"object"]),f=a.graph.termType==="Quad"?t(a.graph,l,f,[...p,"graph"]):l(f,a.graph,[...p,"graph"]),f},e.everyTerms=u,e.everyTermsNested=function t(a,l,d=[]){return(a.subject.termType==="Quad"?t(a.subject,l,[...d,"subject"]):l(a.subject,[...d,"subject"]))&&(a.predicate.termType==="Quad"?t(a.predicate,l,[...d,"predicate"]):l(a.predicate,[...d,"predicate"]))&&(a.object.termType==="Quad"?t(a.object,l,[...d,"object"]):l(a.object,[...d,"object"]))&&(a.graph.termType==="Quad"?t(a.graph,l,[...d,"graph"]):l(a.graph,[...d,"graph"]))},e.someTerms=function(t,a){return a(t.subject,"subject")||a(t.predicate,"predicate")||a(t.object,"object")||a(t.graph,"graph")},e.someTermsNested=function t(a,l,d=[]){return(a.subject.termType==="Quad"?t(a.subject,l,[...d,"subject"]):l(a.subject,[...d,"subject"]))||(a.predicate.termType==="Quad"?t(a.predicate,l,[...d,"predicate"]):l(a.predicate,[...d,"predicate"]))||(a.object.termType==="Quad"?t(a.object,l,[...d,"object"]):l(a.object,[...d,"object"]))||(a.graph.termType==="Quad"?t(a.graph,l,[...d,"graph"]):l(a.graph,[...d,"graph"]))},e.getValueNestedPath=function t(a,l){if(l.length===0)return a;if(a.termType==="Quad")return t(a[l[0]],l.slice(1));throw new Error(`Tried to get ${l[0]} from term of type ${a.termType}`)},e.matchTerm=i,e.matchPattern=r,e.matchPatternComplete=n,e.matchPatternMappings=function(t,a,l={}){const d={};return(function p(f,h){return u(f,(y,m)=>{var b,v;const _=h[m];switch(y.termType){case"Variable":return l.skipVarMapping&&_.termType==="Variable"||((v=(b=d[y.value])===null||b===void 0?void 0:b.equals(_))!==null&&v!==void 0?v:(d[y.value]=_,!0));case"Quad":return _.termType==="Quad"&&p(y,_);default:return y.equals(_)}})})(a,t)&&(!l.returnMappings||d)};const c=new(s(99883)).DataFactory;function o(t,a){return a&&t.graph.termType==="DefaultGraph"?[t.subject,t.predicate,t.object]:[t.subject,t.predicate,t.object,t.graph]}function u(t,a){return a(t.subject,"subject")&&a(t.predicate,"predicate")&&a(t.object,"object")&&a(t.graph,"graph")}function i(t,a){return!a||a.termType==="Variable"||a.termType==="Quad"&&t.termType==="Quad"&&n(t,a)||a.equals(t)}function r(t,a,l,d,p){return i(t.subject,a)&&i(t.predicate,l)&&i(t.object,d)&&i(t.graph,p)}function n(t,a){return r(t,a.subject,a.predicate,a.object,a.graph)}e.QUAD_TERM_NAMES=["subject","predicate","object","graph"],e.TRIPLE_TERM_NAMES=["subject","predicate","object"]},12391:(g,e,s)=>{const{MultiTransformIterator:c,SimpleTransformIterator:o,scheduleTask:u}=s(75627);g.exports=class extends c{constructor(i,r,n,t){super(i,t),this.right=r,this.funJoin=n,this.on("end",()=>this.right.close())}_end(){super._end(),u(()=>this.right.destroy())}_createTransformer(i){return new o(this.right.clone(),{transform:(r,n,t)=>{let a=this.funJoin(i,r);a!==null&&t(a),n()}})}}},12476:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorDereferenceParse=e.getMediaTypeFromExtension=void 0;const c=s(90412),o=s(19198),u=s(79806);function i(n,t){const a=n.lastIndexOf(".");return a>=0&&t?.[n.slice(a+1)]||""}e.getMediaTypeFromExtension=i;class r extends u.ActorDereferenceBase{constructor(t){super(t)}async test(t){return(0,c.passTestVoid)()}handleDereferenceStreamErrors(t,a){return(0,u.isHardError)(t.context)||(a.on("error",l=>{this.logWarn(t.context,l.message,()=>({url:t.url})),a.push(null)}),a=a.pipe(new o.PassThrough({objectMode:!0}))),a}async run(t){const{context:a}=t,l=await this.mediatorDereference.mediate({...t,mediaTypes:async()=>(await this.mediatorParseMediatypes?.mediate({context:a,mediaTypes:!0}))?.mediaTypes});let d;if(l.exists)try{d=(await this.mediatorParse.mediate({context:a,handle:{context:a,...l,metadata:await this.getMetadata(l)},handleMediaType:l.mediaType||t.mediaType||i(l.url,this.mediaMappings)})).handle,d.data=this.handleDereferenceStreamErrors(t,d.data)}catch(p){await l.data.close?.(),d=await this.dereferenceErrorHandler(t,p,{})}else await l.data.close?.(),d={data:(0,u.emptyReadable)()};return{...l,...d}}}e.ActorDereferenceParse=r},12538:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(80664),e)},12740:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(15950),e)},12744:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(20405),e)},12763:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(52875),e)},12814:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(24582),e)},12845:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(45757),e)},12922:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionSubject=void 0;const c=s(77617),o=s(77545);class u extends c.TermFunctionBase{constructor(){super({arity:1,operator:o.SparqlOperator.SUBJECT,overloads:(0,o.declare)(o.SparqlOperator.SUBJECT).onQuad1(()=>r=>r.subject).collect()})}}e.TermFunctionSubject=u},12957:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfMetadataAccumulate=void 0;const c=s(90412);class o extends c.Actor{constructor(i){super(i)}}e.ActorRdfMetadataAccumulate=o},13079:(g,e)=>{var s,c;Object.defineProperty(e,"__esModule",{value:!0}),e.expressionTypes=e.types=void 0,(c=e.types||(e.types={})).ALT="alt",c.ASK="ask",c.BGP="bgp",c.CONSTRUCT="construct",c.DESCRIBE="describe",c.DISTINCT="distinct",c.EXPRESSION="expression",c.EXTEND="extend",c.FILTER="filter",c.FROM="from",c.GRAPH="graph",c.GROUP="group",c.INV="inv",c.JOIN="join",c.LEFT_JOIN="leftjoin",c.LINK="link",c.MINUS="minus",c.NOP="nop",c.NPS="nps",c.ONE_OR_MORE_PATH="OneOrMorePath",c.ORDER_BY="orderby",c.PATH="path",c.PATTERN="pattern",c.PROJECT="project",c.REDUCED="reduced",c.SEQ="seq",c.SERVICE="service",c.SLICE="slice",c.UNION="union",c.VALUES="values",c.ZERO_OR_MORE_PATH="ZeroOrMorePath",c.ZERO_OR_ONE_PATH="ZeroOrOnePath",c.COMPOSITE_UPDATE="compositeupdate",c.DELETE_INSERT="deleteinsert",c.LOAD="load",c.CLEAR="clear",c.CREATE="create",c.DROP="drop",c.ADD="add",c.MOVE="move",c.COPY="copy",(s=e.expressionTypes||(e.expressionTypes={})).AGGREGATE="aggregate",s.EXISTENCE="existence",s.NAMED="named",s.OPERATOR="operator",s.TERM="term",s.WILDCARD="wildcard"},13121:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(54068),e)},13125:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(40409),e),o(s(71186),e)},13168:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryResultSerializeSparqlXml=void 0;const c=s(58871),o=s(90412),u=s(75627),i=s(19198),r=s(1861);class n extends c.ActorQueryResultSerializeFixedMediaTypes{constructor(a){super(a)}static bindingToXmlBindings(a,l){return{name:"binding",attributes:{name:l.value},children:[this.valueToXmlValue(a)]}}static valueToXmlValue(a){let l;switch(a.termType){case"Literal":return l=a.language?{"xml:lang":a.language}:a.datatype&&a.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"?{datatype:a.datatype.value}:{},{name:"literal",attributes:l,children:a.value};case"BlankNode":return{name:"bnode",children:a.value};case"Quad":return{name:"triple",children:[{name:"subject",children:[this.valueToXmlValue(a.subject)]},{name:"predicate",children:[this.valueToXmlValue(a.predicate)]},{name:"object",children:[this.valueToXmlValue(a.object)]}]};default:return{name:"uri",children:a.value}}}async testHandleChecked(a,l){return["bindings","boolean"].includes(a.type)?(0,o.passTestVoid)():(0,o.failTest)("This actor can only handle bindings streams or booleans.")}async runHandle(a,l,d){const p=new i.Readable;p._read=()=>{};const f=new r.XmlSerializer,h=await a.metadata();if(p.push(r.XmlSerializer.header),p.push(f.open("sparql",{xmlns:"http://www.w3.org/2005/sparql-results#"})),p.push(f.serializeNode({name:"head",children:h.variables.map(y=>({name:"variable",attributes:{name:y.variable.value}}))})),a.type==="bindings"){function*y(){yield f.close(),yield f.close()}p.push(f.open("results"));const m=(0,u.wrap)(a.bindingsStream).map(b=>f.serializeNode({name:"result",children:[...b].map(([v,_])=>n.bindingToXmlBindings(_,v))})).append((0,u.wrap)(y()));p.wrap(m)}else try{const y=await a.execute();p.push(f.serializeNode({name:"boolean",children:y.toString()})),p.push(f.close()),setTimeout(()=>p.push(null))}catch(y){setTimeout(()=>p.emit("error",y))}return{data:p}}}e.ActorQueryResultSerializeSparqlXml=n},13252:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionTriple=void 0;const c=s(77617),o=s(77545);class u extends c.TermFunctionBase{constructor(){super({arity:3,operator:o.SparqlOperator.TRIPLE,overloads:(0,o.declare)(o.SparqlOperator.TRIPLE).onTerm3(r=>(...n)=>new o.Quad(n[0],n[1],n[2],new o.DefaultGraph)).collect()})}}e.TermFunctionTriple=u},13260:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeHandlerDefinitionFragment=void 0;const c=s(66337);class o extends c.NodeHandlerDefinitionAdapter{constructor(i,r){super("FragmentDefinition",i,r)}handle(i,r){throw new Error("Illegal state: fragment definitions must be indexed and removed before processing")}}e.NodeHandlerDefinitionFragment=o},13381:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeValueHandlerNull=void 0;const c=s(55009);class o extends c.NodeValueHandlerAdapter{constructor(i,r){super("NullValue",i,r),this.nil=this.util.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#nil")}handle(i,r,n){return{terms:[this.nil]}}}e.NodeValueHandlerNull=o},13559:(g,e,s)=>{(function(){var c;c=typeof window=="object"&&window?window:s.g,g.exports?g.exports=c.Promise?c.Promise:r:c.Promise||(c.Promise=r);var o=c.setImmediate||function(f){setTimeout(f,1)};function u(f,h){return function(){f.apply(h,arguments)}}var i=Array.isArray||function(f){return Object.prototype.toString.call(f)==="[object Array]"};function r(f){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof f!="function")throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],p(f,u(t,this),u(a,this))}function n(f){var h=this;this._state!==null?o(function(){var y=h._state?f.onFulfilled:f.onRejected;if(y!==null){var m;try{m=y(h._value)}catch(b){return void f.reject(b)}f.resolve(m)}else(h._state?f.resolve:f.reject)(h._value)}):this._deferreds.push(f)}function t(f){try{if(f===this)throw new TypeError("A promise cannot be resolved with itself.");if(f&&(typeof f=="object"||typeof f=="function")){var h=f.then;if(typeof h=="function")return void p(u(h,f),u(t,this),u(a,this))}this._state=!0,this._value=f,l.call(this)}catch(y){a.call(this,y)}}function a(f){this._state=!1,this._value=f,l.call(this)}function l(){for(var f=0,h=this._deferreds.length;f<h;f++)n.call(this,this._deferreds[f]);this._deferreds=null}function d(f,h,y,m){this.onFulfilled=typeof f=="function"?f:null,this.onRejected=typeof h=="function"?h:null,this.resolve=y,this.reject=m}function p(f,h,y){var m=!1;try{f(function(b){m||(m=!0,h(b))},function(b){m||(m=!0,y(b))})}catch(b){if(m)return;m=!0,y(b)}}r.prototype.catch=function(f){return this.then(null,f)},r.prototype.then=function(f,h){var y=this;return new r(function(m,b){n.call(y,new d(f,h,m,b))})},r.all=function(){var f=Array.prototype.slice.call(arguments.length===1&&i(arguments[0])?arguments[0]:arguments);return new r(function(h,y){if(f.length===0)return h([]);var m=f.length;function b(_,w){try{if(w&&(typeof w=="object"||typeof w=="function")){var S=w.then;if(typeof S=="function")return void S.call(w,function(x){b(_,x)},y)}f[_]=w,--m===0&&h(f)}catch(x){y(x)}}for(var v=0;v<f.length;v++)b(v,f[v])})},r.resolve=function(f){return f&&typeof f=="object"&&f.constructor===r?f:new r(function(h){h(f)})},r.reject=function(f){return new r(function(h,y){y(f)})},r.race=function(f){return new r(function(h,y){for(var m=0,b=f.length;m<b;m++)f[m].then(h,y)})}})()},13574:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorOptimizeQueryOperationJoinBgp=void 0;const c=s(38912),o=s(90711),u=s(90412),i=s(96331);class r extends c.ActorOptimizeQueryOperation{async test(t){return(0,u.passTestVoid)()}async run(t){const a=t.context.getSafe(o.KeysInitQuery.dataFactory),l=new i.Factory(a);return{operation:i.Util.mapOperation(t.operation,{join:(d,p)=>d.input.every(f=>f.type==="bgp")?{recurse:!1,result:p.createBgp(d.input.flatMap(f=>f.patterns))}:{recurse:!1,result:d}},l),context:t.context}}}e.ActorOptimizeQueryOperationJoinBgp=r},13603:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(function(s){return s.charCodeAt(0)}))},13679:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},13815:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Literal=void 0;const c=s(58593);class o{constructor(i,r){this.termType="Literal",this.value=i,typeof r=="string"?(this.language=r,this.datatype=o.RDF_LANGUAGE_STRING,this.direction=""):r?"termType"in r?(this.language="",this.datatype=r,this.direction=""):(this.language=r.language,this.datatype=r.direction?o.RDF_DIRECTIONAL_LANGUAGE_STRING:o.RDF_LANGUAGE_STRING,this.direction=r.direction||""):(this.language="",this.datatype=o.XSD_STRING,this.direction="")}equals(i){return!!i&&i.termType==="Literal"&&i.value===this.value&&i.language===this.language&&(i.direction===this.direction||!i.direction&&this.direction==="")&&this.datatype.equals(i.datatype)}}e.Literal=o,o.RDF_LANGUAGE_STRING=new c.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),o.RDF_DIRECTIONAL_LANGUAGE_STRING=new c.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#dirLangString"),o.XSD_STRING=new c.NamedNode("http://www.w3.org/2001/XMLSchema#string")},13824:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryOperationFilter=void 0;const c=s(66490),o=s(90412),u=s(81926),i=s(77545),r=s(67021);class n extends c.ActorQueryOperationTypedMediated{constructor(a){super(a,"filter"),this.mediatorExpressionEvaluatorFactory=a.mediatorExpressionEvaluatorFactory}async testOperation(){return(0,o.passTestVoid)()}async runOperation(a,l){const d=await this.mediatorQueryOperation.mediate({operation:a.input,context:l}),p=(0,r.getSafeBindings)(d);(0,r.validateQueryOutput)(p,"bindings");const f=await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:a.expression,context:l}),h=p.bindingsStream.transform({transform:async(y,m,b)=>{try{await f.evaluateAsEBV(y)&&b(y)}catch(v){(0,i.isExpressionError)(v)?this.logWarn(l,"Error occurred while filtering.",()=>({error:v,bindings:(0,u.bindingsToString)(y)})):h.emit("error",v)}m()},autoStart:!1});return{type:"bindings",bindingsStream:h,metadata:p.metadata}}}e.ActorQueryOperationFilter=n},13847:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(13903),e),o(s(7178),e)},13903:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorBindingsAggregatorFactoryMin=void 0;const c=s(86581),o=s(90412),u=s(7178);class i extends c.ActorBindingsAggregatorFactory{constructor(n){super(n),this.mediatorTermComparatorFactory=n.mediatorTermComparatorFactory}async test(n){return n.expr.aggregator!=="min"?(0,o.failTest)("This actor only supports the 'min' aggregator."):(0,o.passTestVoid)()}async run({context:n,expr:t}){return new u.MinAggregator(await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:t.expression,context:n}),t.distinct,await this.mediatorTermComparatorFactory.mediate({context:n}))}}e.ActorBindingsAggregatorFactoryMin=i},14191:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TypeHandlerString=void 0;class s{fromRdf(o){return o.value}toRdf(o,{datatype:u,dataFactory:i}){return i.literal(o,u)}}s.TYPES=["http://www.w3.org/2001/XMLSchema#string","http://www.w3.org/2001/XMLSchema#normalizedString","http://www.w3.org/2001/XMLSchema#anyURI","http://www.w3.org/2001/XMLSchema#base64Binary","http://www.w3.org/2001/XMLSchema#language","http://www.w3.org/2001/XMLSchema#Name","http://www.w3.org/2001/XMLSchema#NCName","http://www.w3.org/2001/XMLSchema#NMTOKEN","http://www.w3.org/2001/XMLSchema#token","http://www.w3.org/2001/XMLSchema#hexBinary","http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","http://www.w3.org/2001/XMLSchema#time","http://www.w3.org/2001/XMLSchema#duration"],e.TypeHandlerString=s},14231:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TestResultFailed=e.TestResultPassed=e.failTest=e.passTestVoidWithSideData=e.passTestWithSideData=e.passTestVoid=e.passTest=void 0,e.passTest=function(o){return new s(o,void 0)},e.passTestVoid=function(){return new s(!0,void 0)},e.passTestWithSideData=function(o,u){return new s(o,u)},e.passTestVoidWithSideData=function(o){return new s(!0,o)},e.failTest=function(o){return new c(o)};class s{constructor(u,i){this.value=u,this.sideData=i}isPassed(){return!0}isFailed(){return!1}get(){return this.value}getOrThrow(){return this.value}getSideData(){return this.sideData}getFailMessage(){}map(u){return new s(u(this.value,this.sideData),this.sideData)}async mapAsync(u){return new s(await u(this.value,this.sideData),this.sideData)}}e.TestResultPassed=s;class c{constructor(u){this.failMessage=u}isPassed(){return!1}isFailed(){return!0}get(){}getOrThrow(){throw new Error(this.getFailMessage())}getSideData(){throw new Error(this.getFailMessage())}getFailMessage(){return this.failMessage}map(){return this}async mapAsync(){return this}}e.TestResultFailed=c},14330:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionPredicate=void 0;const c=s(77617),o=s(77545);class u extends c.TermFunctionBase{constructor(){super({arity:1,operator:o.SparqlOperator.PREDICATE,overloads:(0,o.declare)(o.SparqlOperator.PREDICATE).onQuad1(()=>r=>r.predicate).collect()})}}e.TermFunctionPredicate=u},14405:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(20950),e)},14465:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.RdfaParser=void 0;const c=s(78659),o=s(19198),u=s(55180),i=s(10532),r=s(5213),n=s(6429);class t extends o.Transform{constructor(l){super({readableObjectMode:!0}),this.activeTagStack=[],l=l||{},this.options=l,this.util=new n.Util(l.dataFactory,l.baseIRI),this.defaultGraph=l.defaultGraph||this.util.dataFactory.defaultGraph();const d=l.contentType?n.Util.contentTypeToProfile(l.contentType):l.profile||"";this.features=l.features||r.RDFA_FEATURES[d],this.htmlParseListener=l.htmlParseListener,this.rdfaPatterns=this.features.copyRdfaPatterns?{}:null,this.pendingRdfaPatternCopies=this.features.copyRdfaPatterns?{}:null,this.parser=this.initializeParser(d==="xml"),this.activeTagStack.push({incompleteTriples:[],inlist:!1,language:l.language,listMapping:{},listMappingLocal:{},name:"",prefixesAll:Object.assign(Object.assign({},i["@context"]),this.features.xhtmlInitialContext?u["@context"]:{}),prefixesCustom:{},skipElement:!1,vocab:l.vocab})}import(l){const d=new o.PassThrough({readableObjectMode:!0});l.on("error",f=>p.emit("error",f)),l.on("data",f=>d.push(f)),l.on("end",()=>d.push(null));const p=d.pipe(new t(this.options));return p}_transform(l,d,p){this.parser.write(l.toString()),p()}_flush(l){this.parser.end(),l()}onTagOpen(l,d){let p=this.activeTagStack.length-1;for(;p>0&&this.activeTagStack[p].skipElement;)p--;let f=this.activeTagStack[p];p!==this.activeTagStack.length-1&&(f=Object.assign(Object.assign({},f),{language:this.activeTagStack[this.activeTagStack.length-1].language,prefixesAll:this.activeTagStack[this.activeTagStack.length-1].prefixesAll,prefixesCustom:this.activeTagStack[this.activeTagStack.length-1].prefixesCustom,vocab:this.activeTagStack[this.activeTagStack.length-1].vocab}));const h={collectChildTags:f.collectChildTags,incompleteTriples:[],inlist:"inlist"in d,listMapping:[],listMappingLocal:f.listMapping,localBaseIRI:f.localBaseIRI,name:l,prefixesAll:null,prefixesCustom:null,skipElement:!1};if(this.activeTagStack.push(h),h.collectChildTags){for(const T of Object.keys(f.prefixesCustom).sort()){const O=f.prefixesCustom[T],E=T===""?"xmlns":"xmlns:"+T;E in d||(d[E]=O)}const x=Object.keys(d).map(T=>`${T}="${d[T]}"`).join(" ");if(h.text=[`<${l}${x?" "+x:""}>`],this.features.skipHandlingXmlLiteralChildren)return}let y,m,b,v=!0,_=!0;if(this.features.onlyAllowUriRelRevIfProperty&&("property"in d&&"rel"in d&&(v=!1,d.rel.indexOf(":")<0&&delete d.rel),"property"in d&&"rev"in d&&(_=!1,d.rev.indexOf(":")<0&&delete d.rev)),this.features.copyRdfaPatterns){if(f.collectedPatternTag){const x={attributes:d,children:[],name:l,referenced:!1,rootPattern:!1,text:[]};return f.collectedPatternTag.children.push(x),void(h.collectedPatternTag=x)}if(d.typeof==="rdfa:Pattern")return void(h.collectedPatternTag={attributes:d,children:[],name:l,parentTag:f,referenced:!1,rootPattern:!0,text:[]});if(d.property==="rdfa:copy"){const x=d.resource||d.href||d.src;return void(this.rdfaPatterns[x]?this.emitPatternCopy(f,this.rdfaPatterns[x],x):(this.pendingRdfaPatternCopies[x]||(this.pendingRdfaPatternCopies[x]=[]),this.pendingRdfaPatternCopies[x].push(f)))}}if(this.features.baseTag&&l==="base"&&d.href&&(this.util.baseIRI=this.util.getBaseIRI(d.href)),this.features.xmlBase&&d["xml:base"]&&(h.localBaseIRI=this.util.getBaseIRI(d["xml:base"])),this.features.timeTag&&l==="time"&&!d.datatype&&(h.interpretObjectAsTime=!0),"vocab"in d?d.vocab?(h.vocab=d.vocab,this.emitTriple(this.util.getBaseIriTerm(h),this.util.dataFactory.namedNode(n.Util.RDFA+"usesVocabulary"),this.util.dataFactory.namedNode(h.vocab))):h.vocab=this.activeTagStack[0].vocab:h.vocab=f.vocab,h.prefixesCustom=n.Util.parsePrefixes(d,f.prefixesCustom,this.features.xmlnsPrefixMappings),h.prefixesAll=Object.keys(h.prefixesCustom).length>0?Object.assign(Object.assign({},f.prefixesAll),h.prefixesCustom):f.prefixesAll,this.features.roleAttribute&&d.role){const x=d.id?this.util.createIri("#"+d.id,h,!1,!1,!1):this.util.createBlankNode(),T=h.vocab;h.vocab="http://www.w3.org/1999/xhtml/vocab#";for(const O of this.util.createVocabIris(d.role,h,!0,!1))this.emitTriple(x,this.util.dataFactory.namedNode("http://www.w3.org/1999/xhtml/vocab#role"),O);h.vocab=T}"xml:lang"in d||this.features.langAttribute&&"lang"in d?h.language=d["xml:lang"]||d.lang:h.language=f.language;const w=this.activeTagStack.length===2;if("rel"in d||"rev"in d?("about"in d?(y=this.util.createIri(d.about,h,!1,!0,!0),h.explicitNewSubject=!!y,"typeof"in d&&(b=y)):w?y=!0:f.object&&(y=f.object),"resource"in d&&(m=this.util.createIri(d.resource,h,!1,!0,!0)),m||("href"in d||"src"in d?m=this.util.createIri(d.href||d.src,h,!1,!1,!0):!("typeof"in d)||"about"in d||this.isInheritSubjectInHeadBody(l)||(m=this.util.createBlankNode())),"typeof"in d&&!("about"in d)&&(b=this.isInheritSubjectInHeadBody(l)?y:m)):!("property"in d)||"content"in d||"datatype"in d?(("about"in d||"resource"in d)&&(y=this.util.createIri(d.about||d.resource,h,!1,!0,!0),h.explicitNewSubject=!!y),y||!("href"in d)&&!("src"in d)||(y=this.util.createIri(d.href||d.src,h,!1,!1,!0),h.explicitNewSubject=!!y),y||(w?y=!0:this.isInheritSubjectInHeadBody(l)?y=f.object:"typeof"in d?(y=this.util.createBlankNode(),h.explicitNewSubject=!0):f.object&&(y=f.object,"property"in d||(h.skipElement=!0))),"typeof"in d&&(b=y)):("about"in d?(y=this.util.createIri(d.about,h,!1,!0,!0),h.explicitNewSubject=!!y):w?y=!0:f.object&&(y=f.object),"typeof"in d&&("about"in d&&(b=this.util.createIri(d.about,h,!1,!0,!0)),!b&&w&&(b=!0),!b&&"resource"in d&&(b=this.util.createIri(d.resource,h,!1,!0,!0)),b||!("href"in d)&&!("src"in d)||(b=this.util.createIri(d.href||d.src,h,!1,!1,!0)),!b&&this.isInheritSubjectInHeadBody(l)&&(b=y),b||(b=this.util.createBlankNode()),m=b)),b)for(const x of this.util.createVocabIris(d.typeof,h,!0,!0))this.emitTriple(this.util.getResourceOrBaseIri(b,h),this.util.dataFactory.namedNode(n.Util.RDF+"type"),x);if(y&&(h.listMapping={}),m){if("rel"in d&&"inlist"in d)for(const x of this.util.createVocabIris(d.rel,h,v,!1))this.addListMapping(h,y,x,m);if(!("rel"in d)||!("inlist"in d)){if("rel"in d)for(const x of this.util.createVocabIris(d.rel,h,v,!1))this.emitTriple(this.util.getResourceOrBaseIri(y,h),x,this.util.getResourceOrBaseIri(m,h));if("rev"in d)for(const x of this.util.createVocabIris(d.rev,h,_,!1))this.emitTriple(this.util.getResourceOrBaseIri(m,h),x,this.util.getResourceOrBaseIri(y,h))}}if(!m){if("rel"in d)if("inlist"in d)for(const x of this.util.createVocabIris(d.rel,h,v,!1))this.addListMapping(h,y,x,null),h.incompleteTriples.push({predicate:x,reverse:!1,list:!0});else for(const x of this.util.createVocabIris(d.rel,h,v,!1))h.incompleteTriples.push({predicate:x,reverse:!1});if("rev"in d)for(const x of this.util.createVocabIris(d.rev,h,_,!1))h.incompleteTriples.push({predicate:x,reverse:!0});h.incompleteTriples.length>0&&(m=this.util.createBlankNode())}if("property"in d){let x;if(h.predicates=this.util.createVocabIris(d.property,h,!0,!1),"datatype"in d?(h.datatype=this.util.createIri(d.datatype,h,!0,!0,!1),h.datatype&&(h.datatype.value===n.Util.RDF+"XMLLiteral"||this.features.htmlDatatype&&h.datatype.value===n.Util.RDF+"HTML")&&(h.collectChildTags=!0)):("rev"in d||"rel"in d||"content"in d||("resource"in d&&(x=this.util.createIri(d.resource,h,!1,!0,!0)),!x&&"href"in d&&(x=this.util.createIri(d.href,h,!1,!1,!0)),!x&&"src"in d&&(x=this.util.createIri(d.src,h,!1,!1,!0))),"typeof"in d&&!("about"in d)&&(x=b)),"content"in d){const T=this.util.createLiteral(d.content,h);if("inlist"in d)for(const O of h.predicates)this.addListMapping(h,y,O,T);else{const O=this.util.getResourceOrBaseIri(y,h);for(const E of h.predicates)this.emitTriple(O,E,T)}h.predicates=null}else if(this.features.datetimeAttribute&&"datetime"in d){h.interpretObjectAsTime=!0;const T=this.util.createLiteral(d.datetime,h);if("inlist"in d)for(const O of h.predicates)this.addListMapping(h,y,O,T);else{const O=this.util.getResourceOrBaseIri(y,h);for(const E of h.predicates)this.emitTriple(O,E,T)}h.predicates=null}else if(x){const T=this.util.getResourceOrBaseIri(x,h);if("inlist"in d)for(const O of h.predicates)this.addListMapping(h,y,O,T);else{const O=this.util.getResourceOrBaseIri(y,h);for(const E of h.predicates)this.emitTriple(O,E,T)}h.predicates=null}}let S=!1;if(!h.skipElement&&y&&f.incompleteTriples.length>0){S=!0;const x=this.util.getResourceOrBaseIri(f.subject,h),T=this.util.getResourceOrBaseIri(y,h);for(const O of f.incompleteTriples)if(O.reverse)this.emitTriple(T,O.predicate,x);else if(O.list){let E=null;for(let R=this.activeTagStack.length-1;R>=0;R--)if(this.activeTagStack[R].inlist){E=this.activeTagStack[R];break}this.addListMapping(E,y,O.predicate,T)}else this.emitTriple(x,O.predicate,T)}!S&&f.incompleteTriples.length>0&&(h.incompleteTriples=h.incompleteTriples.concat(f.incompleteTriples)),h.subject=y||f.subject,h.object=m||y}onText(l){const d=this.activeTagStack[this.activeTagStack.length-1];this.features.copyRdfaPatterns&&d.collectedPatternTag?d.collectedPatternTag.text.push(l):(d.text||(d.text=[]),d.text.push(l))}onTagClose(){const l=this.activeTagStack[this.activeTagStack.length-1],d=this.activeTagStack[this.activeTagStack.length-2];if(!(l.collectChildTags&&d.collectChildTags&&this.features.skipHandlingXmlLiteralChildren)){if(this.features.copyRdfaPatterns&&l.collectedPatternTag&&l.collectedPatternTag.rootPattern){const p=l.collectedPatternTag.attributes.resource;if(delete l.collectedPatternTag.attributes.resource,delete l.collectedPatternTag.attributes.typeof,this.rdfaPatterns[p]=l.collectedPatternTag,this.pendingRdfaPatternCopies[p]){for(const f of this.pendingRdfaPatternCopies[p])this.emitPatternCopy(f,l.collectedPatternTag,p);delete this.pendingRdfaPatternCopies[p]}return void this.activeTagStack.pop()}if(l.predicates){const p=this.util.getResourceOrBaseIri(l.subject,l);let f=l.text||[];l.collectChildTags&&d.collectChildTags&&(f=f.slice(1));const h=this.util.createLiteral(f.join(""),l);if(l.inlist)for(const y of l.predicates)this.addListMapping(l,p,y,h);else for(const y of l.predicates)this.emitTriple(p,y,h);d.predicates||(l.text=null)}if(l.object&&Object.keys(l.listMapping).length>0){const p=this.util.getResourceOrBaseIri(l.object,l);for(const f in l.listMapping){const h=this.util.dataFactory.namedNode(f),y=l.listMapping[f];if(y.length>0){const m=y.map(()=>this.util.createBlankNode());for(let b=0;b<y.length;b++){const v=this.util.getResourceOrBaseIri(y[b],l);this.emitTriple(m[b],this.util.dataFactory.namedNode(n.Util.RDF+"first"),v),this.emitTriple(m[b],this.util.dataFactory.namedNode(n.Util.RDF+"rest"),b<y.length-1?m[b+1]:this.util.dataFactory.namedNode(n.Util.RDF+"nil"))}this.emitTriple(p,h,m[0])}else this.emitTriple(p,h,this.util.dataFactory.namedNode(n.Util.RDF+"nil"))}}}this.activeTagStack.pop(),l.collectChildTags&&l.text&&l.text.push(`</${l.name}>`),l.text&&d&&(d.text?d.text=d.text.concat(l.text):d.text=l.text)}onEnd(){if(this.features.copyRdfaPatterns){this.features.copyRdfaPatterns=!1;for(const l in this.rdfaPatterns){const d=this.rdfaPatterns[l];d.referenced||(d.attributes.typeof="rdfa:Pattern",d.attributes.resource=l,this.emitPatternCopy(d.parentTag,d,l),d.referenced=!1,delete d.attributes.typeof,delete d.attributes.resource)}for(const l in this.pendingRdfaPatternCopies)for(const d of this.pendingRdfaPatternCopies[l])this.activeTagStack.push(d),this.onTagOpen("link",{property:"rdfa:copy",href:l}),this.onTagClose(),this.activeTagStack.pop();this.features.copyRdfaPatterns=!0}}isInheritSubjectInHeadBody(l){return this.features.inheritSubjectInHeadBody&&(l==="head"||l==="body")}addListMapping(l,d,p,f){if(l.explicitNewSubject){const h=this.util.createBlankNode();this.emitTriple(this.util.getResourceOrBaseIri(d,l),p,h),this.emitTriple(h,this.util.dataFactory.namedNode(n.Util.RDF+"first"),this.util.getResourceOrBaseIri(f,l)),this.emitTriple(h,this.util.dataFactory.namedNode(n.Util.RDF+"rest"),this.util.dataFactory.namedNode(n.Util.RDF+"nil"))}else{let h=l.listMappingLocal[p.value];h||(l.listMappingLocal[p.value]=h=[]),f&&h.push(f)}}emitTriple(l,d,p){l.termType==="NamedNode"&&l.value.indexOf(":")<0||d.termType==="NamedNode"&&d.value.indexOf(":")<0||p.termType==="NamedNode"&&p.value.indexOf(":")<0||this.push(this.util.dataFactory.quad(l,d,p,this.defaultGraph))}emitPatternCopy(l,d,p){if(this.activeTagStack.push(l),d.referenced=!0,d.constructedBlankNodes){let f=0;this.util.blankNodeFactory=()=>d.constructedBlankNodes[f++]}else d.constructedBlankNodes=[],this.util.blankNodeFactory=()=>{const f=this.util.dataFactory.blankNode();return d.constructedBlankNodes.push(f),f};this.emitPatternCopyAbsolute(d,!0,p),this.util.blankNodeFactory=null,this.activeTagStack.pop()}emitPatternCopyAbsolute(l,d,p){if(d||l.attributes.property!=="rdfa:copy"||l.attributes.href!==p){this.onTagOpen(l.name,l.attributes);for(const f of l.text)this.onText(f);for(const f of l.children)this.emitPatternCopyAbsolute(f,!1,p);this.onTagClose()}}initializeParser(l){return new c.Parser({onclosetag:()=>{try{this.onTagClose(),this.htmlParseListener&&this.htmlParseListener.onTagClose()}catch(d){this.emit("error",d)}},onend:()=>{try{this.onEnd(),this.htmlParseListener&&this.htmlParseListener.onEnd()}catch(d){this.emit("error",d)}},onopentag:(d,p)=>{try{this.onTagOpen(d,p),this.htmlParseListener&&this.htmlParseListener.onTagOpen(d,p)}catch(f){this.emit("error",f)}},ontext:d=>{try{this.onText(d),this.htmlParseListener&&this.htmlParseListener.onText(d)}catch(p){this.emit("error",p)}}},{decodeEntities:!0,recognizeSelfClosing:!0,xmlMode:l})}}e.RdfaParser=t},14579:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(86652),e)},14589:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TRIPLE_TERM_NAMES=e.QUAD_TERM_NAMES=void 0,e.getTerms=o,e.getTermsNested=function t(a,l){const d=[];for(const p of o(a,l))p.termType==="Quad"?t(p,l).forEach(f=>d.push(f)):d.push(p);return d},e.getNamedTerms=function(t){return[{key:"subject",value:t.subject},{key:"predicate",value:t.predicate},{key:"object",value:t.object},{key:"graph",value:t.graph}]},e.collectNamedTerms=function(t,a,l){const d={};return t.forEach(p=>d[p.key]=p.value),a&&(d.subject=d.subject||a("subject"),d.predicate=d.predicate||a("predicate"),d.object=d.object||a("object"),d.graph=d.graph||a("graph")),(l||c).quad(d.subject,d.predicate,d.object,d.graph)},e.forEachTerms=function(t,a){a(t.subject,"subject"),a(t.predicate,"predicate"),a(t.object,"object"),a(t.graph,"graph")},e.forEachTermsNested=function t(a,l,d=[]){a.subject.termType==="Quad"?t(a.subject,l,[...d,"subject"]):l(a.subject,[...d,"subject"]),a.predicate.termType==="Quad"?t(a.predicate,l,[...d,"predicate"]):l(a.predicate,[...d,"predicate"]),a.object.termType==="Quad"?t(a.object,l,[...d,"object"]):l(a.object,[...d,"object"]),a.graph.termType==="Quad"?t(a.graph,l,[...d,"graph"]):l(a.graph,[...d,"graph"])},e.filterTerms=function(t,a){const l=[];return a(t.subject,"subject")&&l.push(t.subject),a(t.predicate,"predicate")&&l.push(t.predicate),a(t.object,"object")&&l.push(t.object),a(t.graph,"graph")&&l.push(t.graph),l},e.filterTermsNested=function t(a,l,d=[]){let p=[];return a.subject.termType==="Quad"?p=[...p,...t(a.subject,l,[...d,"subject"])]:l(a.subject,[...d,"subject"])&&p.push(a.subject),a.predicate.termType==="Quad"?p=[...p,...t(a.predicate,l,[...d,"predicate"])]:l(a.predicate,[...d,"predicate"])&&p.push(a.predicate),a.object.termType==="Quad"?p=[...p,...t(a.object,l,[...d,"object"])]:l(a.object,[...d,"object"])&&p.push(a.object),a.graph.termType==="Quad"?p=[...p,...t(a.graph,l,[...d,"graph"])]:l(a.graph,[...d,"graph"])&&p.push(a.graph),p},e.filterQuadTermNames=function(t,a){const l=[];return a(t.subject,"subject")&&l.push("subject"),a(t.predicate,"predicate")&&l.push("predicate"),a(t.object,"object")&&l.push("object"),a(t.graph,"graph")&&l.push("graph"),l},e.filterQuadTermNamesNested=function t(a,l,d=[]){let p=[];const f=[...d,"subject"];a.subject.termType==="Quad"?p=[...p,...t(a.subject,l,f)]:l(a.subject,f)&&p.push(f);const h=[...d,"predicate"];a.predicate.termType==="Quad"?p=[...p,...t(a.predicate,l,h)]:l(a.predicate,h)&&p.push(h);const y=[...d,"object"];a.object.termType==="Quad"?p=[...p,...t(a.object,l,y)]:l(a.object,y)&&p.push(y);const m=[...d,"graph"];return a.graph.termType==="Quad"?p=[...p,...t(a.graph,l,m)]:l(a.graph,m)&&p.push(m),p},e.mapTerms=function(t,a,l){return(l||c).quad(a(t.subject,"subject"),a(t.predicate,"predicate"),a(t.object,"object"),a(t.graph,"graph"))},e.mapTermsNested=function t(a,l,d,p=[]){return(d||c).quad(a.subject.termType==="Quad"?t(a.subject,l,d,[...p,"subject"]):l(a.subject,[...p,"subject"]),a.predicate.termType==="Quad"?t(a.predicate,l,d,[...p,"predicate"]):l(a.predicate,[...p,"predicate"]),a.object.termType==="Quad"?t(a.object,l,d,[...p,"object"]):l(a.object,[...p,"object"]),a.graph.termType==="Quad"?t(a.graph,l,d,[...p,"graph"]):l(a.graph,[...p,"graph"]))},e.reduceTerms=function(t,a,l){let d=l;return d=a(d,t.subject,"subject"),d=a(d,t.predicate,"predicate"),d=a(d,t.object,"object"),a(d,t.graph,"graph")},e.reduceTermsNested=function t(a,l,d,p=[]){let f=d;return f=a.subject.termType==="Quad"?t(a.subject,l,f,[...p,"subject"]):l(f,a.subject,[...p,"subject"]),f=a.predicate.termType==="Quad"?t(a.predicate,l,f,[...p,"predicate"]):l(f,a.predicate,[...p,"predicate"]),f=a.object.termType==="Quad"?t(a.object,l,f,[...p,"object"]):l(f,a.object,[...p,"object"]),f=a.graph.termType==="Quad"?t(a.graph,l,f,[...p,"graph"]):l(f,a.graph,[...p,"graph"]),f},e.everyTerms=u,e.everyTermsNested=function t(a,l,d=[]){return(a.subject.termType==="Quad"?t(a.subject,l,[...d,"subject"]):l(a.subject,[...d,"subject"]))&&(a.predicate.termType==="Quad"?t(a.predicate,l,[...d,"predicate"]):l(a.predicate,[...d,"predicate"]))&&(a.object.termType==="Quad"?t(a.object,l,[...d,"object"]):l(a.object,[...d,"object"]))&&(a.graph.termType==="Quad"?t(a.graph,l,[...d,"graph"]):l(a.graph,[...d,"graph"]))},e.someTerms=function(t,a){return a(t.subject,"subject")||a(t.predicate,"predicate")||a(t.object,"object")||a(t.graph,"graph")},e.someTermsNested=function t(a,l,d=[]){return(a.subject.termType==="Quad"?t(a.subject,l,[...d,"subject"]):l(a.subject,[...d,"subject"]))||(a.predicate.termType==="Quad"?t(a.predicate,l,[...d,"predicate"]):l(a.predicate,[...d,"predicate"]))||(a.object.termType==="Quad"?t(a.object,l,[...d,"object"]):l(a.object,[...d,"object"]))||(a.graph.termType==="Quad"?t(a.graph,l,[...d,"graph"]):l(a.graph,[...d,"graph"]))},e.getValueNestedPath=function t(a,l){if(l.length===0)return a;if(a.termType==="Quad")return t(a[l[0]],l.slice(1));throw new Error(`Tried to get ${l[0]} from term of type ${a.termType}`)},e.matchTerm=i,e.matchPattern=r,e.matchPatternComplete=n,e.matchPatternMappings=function(t,a,l={}){const d={};return(function p(f,h){return u(f,(y,m)=>{var b,v;const _=h[m];switch(y.termType){case"Variable":return l.skipVarMapping&&_.termType==="Variable"||((v=(b=d[y.value])===null||b===void 0?void 0:b.equals(_))!==null&&v!==void 0?v:(d[y.value]=_,!0));case"Quad":return _.termType==="Quad"&&p(y,_);default:return y.equals(_)}})})(a,t)&&(!l.returnMappings||d)};const c=new(s(28664)).DataFactory;function o(t,a){return a&&t.graph.termType==="DefaultGraph"?[t.subject,t.predicate,t.object]:[t.subject,t.predicate,t.object,t.graph]}function u(t,a){return a(t.subject,"subject")&&a(t.predicate,"predicate")&&a(t.object,"object")&&a(t.graph,"graph")}function i(t,a){return!a||a.termType==="Variable"||a.termType==="Quad"&&t.termType==="Quad"&&n(t,a)||a.equals(t)}function r(t,a,l,d,p){return i(t.subject,a)&&i(t.predicate,l)&&i(t.object,d)&&i(t.graph,p)}function n(t,a){return r(t,a.subject,a.predicate,a.object,a.graph)}e.QUAD_TERM_NAMES=["subject","predicate","object","graph"],e.TRIPLE_TERM_NAMES=["subject","predicate","object"]},14597:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(16305),e)},14628:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(77401),e)},14639:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SortIterator=void 0;const c=s(75627);class o extends c.TransformIterator{constructor(i,r,n){super(i,n);const t=n&&n.window;this.windowLength=Number.isFinite(t)&&t>0?t:Number.POSITIVE_INFINITY,this.sort=r,this.sorted=[]}_read(i,r){let n,{length:t}=this.sorted;for(;t!==this.windowLength&&(n=this.source.read(),n!==null);){let a,l,d=0,p=t-1;for(;d<=p;)a=Math.trunc((d+p)/2),l=this.sort(n,this.sorted[a]),l<0?d=a+1:l>0?p=a-1:(d=a,p=-1);this.sorted.splice(d,0,n),t++}t===this.windowLength&&this._push(this.sorted.pop()),r()}_flush(i){let{length:r}=this.sorted;for(;r--;)this._push(this.sorted.pop());i()}}e.SortIterator=o},14652:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfJoinMultiBind=void 0;const c=s(95445),o=s(90711),u=s(90412),i=s(81926),r=s(67021),n=s(75627),t=s(96331);class a extends c.ActorRdfJoin{constructor(d){super(d,{logicalType:"inner",physicalName:"bind",canHandleUndefs:!0,isLeaf:!1})}static createBindStream(d,p,f,h,y,m,b){const v=d==="depth-first",_=w=>{const S=f.map(T=>(0,r.materializeOperation)(T,w,m,b,{bindFilter:!0})),x=T=>T.merge(w);return new n.TransformIterator(async()=>(await h(S,w)).transform({map:x}),{maxBufferSize:128,autoStart:v})};switch(d){case"depth-first":return new n.MultiTransformIterator(p,{autoStart:!1,multiTransform:_,optional:y});case"breadth-first":return new n.UnionIterator(p.transform({map:_,optional:y}),{autoStart:!1});default:throw new Error(`Received request for unknown bind order: ${d}`)}}async getOutput(d,p){const f=d.context.getSafe(o.KeysInitQuery.dataFactory),h=new t.Factory(f),y=await i.BindingsFactory.create(this.mediatorMergeBindingsContext,d.context,f),m=p.entriesSorted;this.logDebug(d.context,"First entry for Bind Join: ",()=>({entry:m[0].operation,cardinality:m[0].metadata.cardinality,order:m[0].metadata.order,availableOrders:m[0].metadata.availableOrders}));for(const[w,S]of m.entries())w!==0&&S.output.bindingsStream.close();const b=m[0].output,v=[...m];v.splice(0,1);const _=d.context.set(o.KeysQueryOperation.joinLeftMetadata,m[0].metadata).set(o.KeysQueryOperation.joinRightMetadatas,v.map(w=>w.metadata));return{result:{type:"bindings",bindingsStream:a.createBindStream(this.bindOrder,b.bindingsStream,v.map(w=>w.operation),async(w,S)=>{const x=w.length===1?w[0]:h.createJoin(w,w.every(T=>!T.metadata));return(0,r.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:x,context:_?.set(o.KeysQueryOperation.joinBindings,S)})).bindingsStream},!1,h,y),metadata:()=>this.constructResultMetadata(m,m.map(w=>w.metadata),d.context)},physicalPlanMetadata:{bindIndex:p.entriesUnsorted.indexOf(m[0]),bindOperation:m[0].operation,bindOperationCardinality:m[0].metadata.cardinality,bindOrder:this.bindOrder}}}canBindWithOperation(d){let p=!0;return t.Util.recurseOperation(d,{[t.Algebra.types.EXTEND]:()=>(p=!1,!1),[t.Algebra.types.GROUP]:()=>(p=!1,!1)}),p}async getJoinCoefficients(d,p){let{metadatas:f}=p;const h=d.entries.map((M,Q)=>({...M,metadata:f[Q]})),y=await c.ActorRdfJoin.sortJoinEntries(this.mediatorJoinEntriesSort,h,d.context);if(y.isFailed())return y;const m=y.get();f=m.map(M=>M.metadata);const b=c.ActorRdfJoin.getRequestInitialTimes(f),v=c.ActorRdfJoin.getRequestItemTimes(f),_=[...m],w=[...b],S=[...v];if(_.splice(0,1),w.splice(0,1),S.splice(0,1),_.some(M=>!this.canBindWithOperation(M.operation)))return(0,u.failTest)(`Actor ${this.name} can not bind on Extend and Group operations`);if(_.some(M=>M.operationModified))return(0,u.failTest)(`Actor ${this.name} can not be used over remaining entries with modified operations`);const x=v.some(M=>M>0);if(f[0].cardinality.value*this.minMaxCardinalityRatio/(x?1:3)>Math.max(...f.map(M=>M.cardinality.value)))return(0,u.failTest)(`Actor ${this.name} can only run if the smallest stream is much smaller than largest stream`);const T=await Promise.all(_.map(async M=>(await this.mediatorJoinSelectivity.mediate({entries:[m[0],M],context:d.context})).selectivity*this.selectivityModifier)),O=_.map((M,Q)=>M.metadata.cardinality.value*T[Q]).reduce((M,Q)=>M+Q,0),E=w.reduce((M,Q)=>M+Q,0),R=S.reduce((M,Q)=>M+Q,0);return(0,u.passTestWithSideData)({iterations:f[0].cardinality.value*O,persistedItems:0,blockingItems:0,requestTime:b[0]+f[0].cardinality.value*(v[0]+E+O*R)},{...p,entriesUnsorted:h,entriesSorted:m})}}e.ActorRdfJoinMultiBind=a},14695:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionUnaryPlus=void 0;const c=s(77617),o=s(77545);class u extends c.TermFunctionBase{constructor(){super({arity:1,operator:o.SparqlOperator.UPLUS,overloads:(0,o.declare)(o.SparqlOperator.UPLUS).numericConverter(()=>r=>r).collect()})}}e.TermFunctionUnaryPlus=u},14709:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.QuoteType=void 0;const c=s(65621);var o,u,i;function r(a){return a===o.Space||a===o.NewLine||a===o.Tab||a===o.FormFeed||a===o.CarriageReturn}function n(a){return a===o.Slash||a===o.Gt||r(a)}(function(a){a[a.Tab=9]="Tab",a[a.NewLine=10]="NewLine",a[a.FormFeed=12]="FormFeed",a[a.CarriageReturn=13]="CarriageReturn",a[a.Space=32]="Space",a[a.ExclamationMark=33]="ExclamationMark",a[a.Number=35]="Number",a[a.Amp=38]="Amp",a[a.SingleQuote=39]="SingleQuote",a[a.DoubleQuote=34]="DoubleQuote",a[a.Dash=45]="Dash",a[a.Slash=47]="Slash",a[a.Zero=48]="Zero",a[a.Nine=57]="Nine",a[a.Semi=59]="Semi",a[a.Lt=60]="Lt",a[a.Eq=61]="Eq",a[a.Gt=62]="Gt",a[a.Questionmark=63]="Questionmark",a[a.UpperA=65]="UpperA",a[a.LowerA=97]="LowerA",a[a.UpperF=70]="UpperF",a[a.LowerF=102]="LowerF",a[a.UpperZ=90]="UpperZ",a[a.LowerZ=122]="LowerZ",a[a.LowerX=120]="LowerX",a[a.OpeningSquareBracket=91]="OpeningSquareBracket"})(o||(o={})),(function(a){a[a.Text=1]="Text",a[a.BeforeTagName=2]="BeforeTagName",a[a.InTagName=3]="InTagName",a[a.InSelfClosingTag=4]="InSelfClosingTag",a[a.BeforeClosingTagName=5]="BeforeClosingTagName",a[a.InClosingTagName=6]="InClosingTagName",a[a.AfterClosingTagName=7]="AfterClosingTagName",a[a.BeforeAttributeName=8]="BeforeAttributeName",a[a.InAttributeName=9]="InAttributeName",a[a.AfterAttributeName=10]="AfterAttributeName",a[a.BeforeAttributeValue=11]="BeforeAttributeValue",a[a.InAttributeValueDq=12]="InAttributeValueDq",a[a.InAttributeValueSq=13]="InAttributeValueSq",a[a.InAttributeValueNq=14]="InAttributeValueNq",a[a.BeforeDeclaration=15]="BeforeDeclaration",a[a.InDeclaration=16]="InDeclaration",a[a.InProcessingInstruction=17]="InProcessingInstruction",a[a.BeforeComment=18]="BeforeComment",a[a.CDATASequence=19]="CDATASequence",a[a.InSpecialComment=20]="InSpecialComment",a[a.InCommentLike=21]="InCommentLike",a[a.BeforeSpecialS=22]="BeforeSpecialS",a[a.BeforeSpecialT=23]="BeforeSpecialT",a[a.SpecialStartSequence=24]="SpecialStartSequence",a[a.InSpecialTag=25]="InSpecialTag",a[a.InEntity=26]="InEntity"})(u||(u={})),(function(a){a[a.NoValue=0]="NoValue",a[a.Unquoted=1]="Unquoted",a[a.Single=2]="Single",a[a.Double=3]="Double"})(i||(e.QuoteType=i={}));const t={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97]),XmpEnd:new Uint8Array([60,47,120,109,112])};e.default=class{constructor({xmlMode:a=!1,decodeEntities:l=!0},d){this.cbs=d,this.state=u.Text,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=u.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.xmlMode=a,this.decodeEntities=l,this.entityDecoder=new c.EntityDecoder(a?c.xmlDecodeTree:c.htmlDecodeTree,(p,f)=>this.emitCodePoint(p,f))}reset(){this.state=u.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=u.Text,this.currentSequence=void 0,this.running=!0,this.offset=0}write(a){this.offset+=this.buffer.length,this.buffer=a,this.parse()}end(){this.running&&this.finish()}pause(){this.running=!1}resume(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()}stateText(a){a===o.Lt||!this.decodeEntities&&this.fastForwardTo(o.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=u.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&a===o.Amp&&this.startEntity()}stateSpecialStartSequence(a){const l=this.sequenceIndex===this.currentSequence.length;if(l?n(a):(32|a)===this.currentSequence[this.sequenceIndex]){if(!l)return void this.sequenceIndex++}else this.isSpecial=!1;this.sequenceIndex=0,this.state=u.InTagName,this.stateInTagName(a)}stateInSpecialTag(a){if(this.sequenceIndex===this.currentSequence.length){if(a===o.Gt||r(a)){const l=this.index-this.currentSequence.length;if(this.sectionStart<l){const d=this.index;this.index=l,this.cbs.ontext(this.sectionStart,l),this.index=d}return this.isSpecial=!1,this.sectionStart=l+2,void this.stateInClosingTagName(a)}this.sequenceIndex=0}(32|a)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===t.TitleEnd?this.decodeEntities&&a===o.Amp&&this.startEntity():this.fastForwardTo(o.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(a===o.Lt)}stateCDATASequence(a){a===t.Cdata[this.sequenceIndex]?++this.sequenceIndex===t.Cdata.length&&(this.state=u.InCommentLike,this.currentSequence=t.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=u.InDeclaration,this.stateInDeclaration(a))}fastForwardTo(a){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===a)return!0;return this.index=this.buffer.length+this.offset-1,!1}stateInCommentLike(a){a===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===t.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=u.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):a!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}isTagStartChar(a){return this.xmlMode?!n(a):(function(l){return l>=o.LowerA&&l<=o.LowerZ||l>=o.UpperA&&l<=o.UpperZ})(a)}startSpecial(a,l){this.isSpecial=!0,this.currentSequence=a,this.sequenceIndex=l,this.state=u.SpecialStartSequence}stateBeforeTagName(a){if(a===o.ExclamationMark)this.state=u.BeforeDeclaration,this.sectionStart=this.index+1;else if(a===o.Questionmark)this.state=u.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(a)){const l=32|a;this.sectionStart=this.index,this.xmlMode?this.state=u.InTagName:l===t.ScriptEnd[2]?this.state=u.BeforeSpecialS:l===t.TitleEnd[2]||l===t.XmpEnd[2]?this.state=u.BeforeSpecialT:this.state=u.InTagName}else a===o.Slash?this.state=u.BeforeClosingTagName:(this.state=u.Text,this.stateText(a))}stateInTagName(a){n(a)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=u.BeforeAttributeName,this.stateBeforeAttributeName(a))}stateBeforeClosingTagName(a){r(a)||(a===o.Gt?this.state=u.Text:(this.state=this.isTagStartChar(a)?u.InClosingTagName:u.InSpecialComment,this.sectionStart=this.index))}stateInClosingTagName(a){(a===o.Gt||r(a))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=u.AfterClosingTagName,this.stateAfterClosingTagName(a))}stateAfterClosingTagName(a){(a===o.Gt||this.fastForwardTo(o.Gt))&&(this.state=u.Text,this.sectionStart=this.index+1)}stateBeforeAttributeName(a){a===o.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=u.InSpecialTag,this.sequenceIndex=0):this.state=u.Text,this.sectionStart=this.index+1):a===o.Slash?this.state=u.InSelfClosingTag:r(a)||(this.state=u.InAttributeName,this.sectionStart=this.index)}stateInSelfClosingTag(a){a===o.Gt?(this.cbs.onselfclosingtag(this.index),this.state=u.Text,this.sectionStart=this.index+1,this.isSpecial=!1):r(a)||(this.state=u.BeforeAttributeName,this.stateBeforeAttributeName(a))}stateInAttributeName(a){(a===o.Eq||n(a))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=this.index,this.state=u.AfterAttributeName,this.stateAfterAttributeName(a))}stateAfterAttributeName(a){a===o.Eq?this.state=u.BeforeAttributeValue:a===o.Slash||a===o.Gt?(this.cbs.onattribend(i.NoValue,this.sectionStart),this.sectionStart=-1,this.state=u.BeforeAttributeName,this.stateBeforeAttributeName(a)):r(a)||(this.cbs.onattribend(i.NoValue,this.sectionStart),this.state=u.InAttributeName,this.sectionStart=this.index)}stateBeforeAttributeValue(a){a===o.DoubleQuote?(this.state=u.InAttributeValueDq,this.sectionStart=this.index+1):a===o.SingleQuote?(this.state=u.InAttributeValueSq,this.sectionStart=this.index+1):r(a)||(this.sectionStart=this.index,this.state=u.InAttributeValueNq,this.stateInAttributeValueNoQuotes(a))}handleInAttributeValue(a,l){a===l||!this.decodeEntities&&this.fastForwardTo(l)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(l===o.DoubleQuote?i.Double:i.Single,this.index+1),this.state=u.BeforeAttributeName):this.decodeEntities&&a===o.Amp&&this.startEntity()}stateInAttributeValueDoubleQuotes(a){this.handleInAttributeValue(a,o.DoubleQuote)}stateInAttributeValueSingleQuotes(a){this.handleInAttributeValue(a,o.SingleQuote)}stateInAttributeValueNoQuotes(a){r(a)||a===o.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(i.Unquoted,this.index),this.state=u.BeforeAttributeName,this.stateBeforeAttributeName(a)):this.decodeEntities&&a===o.Amp&&this.startEntity()}stateBeforeDeclaration(a){a===o.OpeningSquareBracket?(this.state=u.CDATASequence,this.sequenceIndex=0):this.state=a===o.Dash?u.BeforeComment:u.InDeclaration}stateInDeclaration(a){(a===o.Gt||this.fastForwardTo(o.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=u.Text,this.sectionStart=this.index+1)}stateInProcessingInstruction(a){(a===o.Gt||this.fastForwardTo(o.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=u.Text,this.sectionStart=this.index+1)}stateBeforeComment(a){a===o.Dash?(this.state=u.InCommentLike,this.currentSequence=t.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=u.InDeclaration}stateInSpecialComment(a){(a===o.Gt||this.fastForwardTo(o.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=u.Text,this.sectionStart=this.index+1)}stateBeforeSpecialS(a){const l=32|a;l===t.ScriptEnd[3]?this.startSpecial(t.ScriptEnd,4):l===t.StyleEnd[3]?this.startSpecial(t.StyleEnd,4):(this.state=u.InTagName,this.stateInTagName(a))}stateBeforeSpecialT(a){switch(32|a){case t.TitleEnd[3]:this.startSpecial(t.TitleEnd,4);break;case t.TextareaEnd[3]:this.startSpecial(t.TextareaEnd,4);break;case t.XmpEnd[3]:this.startSpecial(t.XmpEnd,4);break;default:this.state=u.InTagName,this.stateInTagName(a)}}startEntity(){this.baseState=this.state,this.state=u.InEntity,this.entityStart=this.index,this.entityDecoder.startEntity(this.xmlMode?c.DecodingMode.Strict:this.baseState===u.Text||this.baseState===u.InSpecialTag?c.DecodingMode.Legacy:c.DecodingMode.Attribute)}stateInEntity(){const a=this.entityDecoder.write(this.buffer,this.index-this.offset);a>=0?(this.state=this.baseState,a===0&&(this.index=this.entityStart)):this.index=this.offset+this.buffer.length-1}cleanup(){this.running&&this.sectionStart!==this.index&&(this.state===u.Text||this.state===u.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):this.state!==u.InAttributeValueDq&&this.state!==u.InAttributeValueSq&&this.state!==u.InAttributeValueNq||(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}shouldContinue(){return this.index<this.buffer.length+this.offset&&this.running}parse(){for(;this.shouldContinue();){const a=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case u.Text:this.stateText(a);break;case u.SpecialStartSequence:this.stateSpecialStartSequence(a);break;case u.InSpecialTag:this.stateInSpecialTag(a);break;case u.CDATASequence:this.stateCDATASequence(a);break;case u.InAttributeValueDq:this.stateInAttributeValueDoubleQuotes(a);break;case u.InAttributeName:this.stateInAttributeName(a);break;case u.InCommentLike:this.stateInCommentLike(a);break;case u.InSpecialComment:this.stateInSpecialComment(a);break;case u.BeforeAttributeName:this.stateBeforeAttributeName(a);break;case u.InTagName:this.stateInTagName(a);break;case u.InClosingTagName:this.stateInClosingTagName(a);break;case u.BeforeTagName:this.stateBeforeTagName(a);break;case u.AfterAttributeName:this.stateAfterAttributeName(a);break;case u.InAttributeValueSq:this.stateInAttributeValueSingleQuotes(a);break;case u.BeforeAttributeValue:this.stateBeforeAttributeValue(a);break;case u.BeforeClosingTagName:this.stateBeforeClosingTagName(a);break;case u.AfterClosingTagName:this.stateAfterClosingTagName(a);break;case u.BeforeSpecialS:this.stateBeforeSpecialS(a);break;case u.BeforeSpecialT:this.stateBeforeSpecialT(a);break;case u.InAttributeValueNq:this.stateInAttributeValueNoQuotes(a);break;case u.InSelfClosingTag:this.stateInSelfClosingTag(a);break;case u.InDeclaration:this.stateInDeclaration(a);break;case u.BeforeDeclaration:this.stateBeforeDeclaration(a);break;case u.BeforeComment:this.stateBeforeComment(a);break;case u.InProcessingInstruction:this.stateInProcessingInstruction(a);break;case u.InEntity:this.stateInEntity()}this.index++}this.cleanup()}finish(){this.state===u.InEntity&&(this.entityDecoder.end(),this.state=this.baseState),this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const a=this.buffer.length+this.offset;this.sectionStart>=a||(this.state===u.InCommentLike?this.currentSequence===t.CdataEnd?this.cbs.oncdata(this.sectionStart,a,0):this.cbs.oncomment(this.sectionStart,a,0):this.state===u.InTagName||this.state===u.BeforeAttributeName||this.state===u.BeforeAttributeValue||this.state===u.AfterAttributeName||this.state===u.InAttributeName||this.state===u.InAttributeValueSq||this.state===u.InAttributeValueDq||this.state===u.InAttributeValueNq||this.state===u.InClosingTagName||this.cbs.ontext(this.sectionStart,a))}emitCodePoint(a,l){this.baseState!==u.Text&&this.baseState!==u.InSpecialTag?(this.sectionStart<this.entityStart&&this.cbs.onattribdata(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+l,this.index=this.sectionStart-1,this.cbs.onattribentity(a)):(this.sectionStart<this.entityStart&&this.cbs.ontext(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+l,this.index=this.sectionStart-1,this.cbs.ontextentity(a,this.sectionStart))}}},14752:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(86080),e)},14801:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryOperationUpdateDeleteInsert=void 0;const c=s(34585),o=s(66490),u=s(90711),i=s(81926),r=s(67021),n=s(75627);class t extends o.ActorQueryOperationTypedMediated{constructor(l){super(l,"deleteinsert"),this.blankNodeCounter=0}async testOperation(l,d){return(0,r.testReadOnly)(d)}async runOperation(l,d){const p=d.getSafe(u.KeysInitQuery.dataFactory),f=await i.BindingsFactory.create(this.mediatorMergeBindingsContext,d,p),h=l.where?(0,r.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:l.where,context:d})).bindingsStream:new n.ArrayIterator([f.bindings()],{autoStart:!1});let y,m;l.insert&&(y=new c.BindingsToQuadsIterator(p,l.insert.map(c.BindingsToQuadsIterator.localizeQuad.bind(null,p,this.blankNodeCounter)),h.clone()),this.blankNodeCounter++),l.delete&&(m=new c.BindingsToQuadsIterator(p,l.delete.map(c.BindingsToQuadsIterator.localizeQuad.bind(null,p,this.blankNodeCounter)),h.clone()),this.blankNodeCounter++);const{execute:b}=await this.mediatorUpdateQuads.mediate({quadStreamInsert:y,quadStreamDelete:m,context:d});return{type:"void",execute:b}}}e.ActorQueryOperationUpdateDeleteInsert=t},15064:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DirectiveNodeHandlerSingle=void 0;const c=s(65183),o=s(67797);class u extends o.DirectiveNodeHandlerAdapter{constructor(r,n){super("single",r,n)}handle(r,n){return this.isDirectiveScopeAll(r.directive)&&(n.singularizeState=c.SingularizeState.SINGLE),n.singularizeVariables[this.util.nameToVariable(r.fieldLabel,n).value]=!0,{}}}e.DirectiveNodeHandlerSingle=u},15195:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermInequality=void 0;const c=s(77617),o=s(77545),u=s(1530);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.SparqlOperator.NOT_EQUAL],termFunction:!0}),this.mediatorFunctionFactory=n.mediatorFunctionFactory}async run(n){const t=await this.mediatorFunctionFactory.mediate({functionName:o.SparqlOperator.EQUAL,requireTermExpression:!0,context:n.context,arguments:n.arguments});return new u.TermFunctionInequality(t)}}e.ActorFunctionFactoryTermInequality=i},15517:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerKeywordId=void 0;const c=s(42395),o=s(1548);class u extends o.EntryHandlerKeyword{constructor(){super("@id")}isStackProcessor(){return!1}async handle(r,n,t,a,l,d){if(typeof l!="string"){if(r.rdfstar&&typeof l=="object"){const f=Object.keys(l);f.length===1&&f[0]==="@id"&&r.emitError(new c.ErrorCoded(`Invalid embedded node without property with @id ${l["@id"]}`,c.ERROR_CODES.INVALID_EMBEDDED_NODE))}else r.emitError(new c.ErrorCoded(`Found illegal @id '${l}'`,c.ERROR_CODES.INVALID_ID_VALUE));return}const p=await n.getPropertiesDepth(a,d);if(r.idStack[p]!==void 0&&(r.idStack[p][0].listHead?r.emitError(new c.ErrorCoded(`Found illegal neighbouring entries next to @list for key: '${a[d-1]}'`,c.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT)):r.emitError(new c.ErrorCoded(`Found duplicate @ids '${r.idStack[p][0].value}' and '${l}'`,c.ERROR_CODES.COLLIDING_KEYWORDS))),r.rdfstar&&r.annotationsBuffer[d])for(const f of r.annotationsBuffer[d])f.depth===d&&r.emitError(new c.ErrorCoded(`Found an illegal @id inside an annotation: ${l}`,c.ERROR_CODES.INVALID_ANNOTATION));r.idStack[p]=n.nullableTermToArray(await n.resourceToTerm(await r.getContext(a),l))}}e.EntryHandlerKeywordId=u},15541:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryOperationPathOneOrMore=void 0;const c=s(97091),o=s(90711),u=s(81926),i=s(67021),r=s(75627),n=s(96331);class t extends c.ActorAbstractPath{constructor(l){super(l,n.Algebra.types.ONE_OR_MORE_PATH)}async runOperation(l,d){const p=d.getSafe(o.KeysInitQuery.dataFactory),f=new n.Factory(p),h=await u.BindingsFactory.create(this.mediatorMergeBindingsContext,d,p),y=await this.isPathArbitraryLengthDistinct(f,d,l);if(y.operation)return y.operation;d=y.context;const m=l.predicate;if(l.subject.termType!=="Variable"&&l.object.termType==="Variable"){const _=l.object,w=await this.getObjectsPredicateStarEval(l.subject,m.path,_,l.graph,d,!1,f,h),S=(l.graph.termType==="Variable"?[_,l.graph]:[_]).map(x=>({variable:x,canBeUndef:!1}));return{type:"bindings",bindingsStream:w.bindingsStream,metadata:async()=>({...await w.metadata(),variables:S})}}if(l.subject.termType==="Variable"&&l.object.termType==="Variable"){const _=f.createDistinct(f.createPath(l.subject,l.predicate.path,l.object,l.graph)),w=(0,i.getSafeBindings)(await this.mediatorQueryOperation.mediate({context:d,operation:_})),S=l.subject,x=l.object,T={},O=new r.MultiTransformIterator(w.bindingsStream,{multiTransform:R=>{const M=R.get(S),Q=R.get(x),X=l.graph.termType==="Variable"?R.get(l.graph):l.graph;return new r.TransformIterator(async()=>{const V=new r.BufferedIterator;return await this.getSubjectAndObjectBindingsPredicateStar(S,x,M,Q,m.path,X,d,T,{},V,{count:0},f,h),V.map(H=>(l.graph.termType==="Variable"&&(H=H.set(l.graph,X)),H))},{autoStart:!1,maxBufferSize:128})},autoStart:!1}),E=(l.graph.termType==="Variable"?[S,x,l.graph]:[S,x]).map(R=>({variable:R,canBeUndef:!1}));return{type:"bindings",bindingsStream:O,metadata:async()=>({...await w.metadata(),variables:E})}}if(l.subject.termType==="Variable"&&l.object.termType!=="Variable")return this.mediatorQueryOperation.mediate({context:d,operation:f.createPath(l.object,f.createOneOrMorePath(f.createInv(m.path)),l.subject,l.graph)});const b=this.generateVariable(p),v=(0,i.getSafeBindings)(await this.mediatorQueryOperation.mediate({context:d,operation:f.createPath(l.subject,m,b,l.graph)}));return{type:"bindings",bindingsStream:v.bindingsStream.map(_=>l.object.equals(_.get(b))?l.graph.termType==="Variable"?h.bindings([[l.graph,_.get(l.graph)]]):h.bindings():null),metadata:async()=>({...await v.metadata(),variables:(l.graph.termType==="Variable"?[l.graph]:[]).map(_=>({variable:_,canBeUndef:!1}))})}}}e.ActorQueryOperationPathOneOrMore=t},15721:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermNow=void 0;const c=s(77617),o=s(77545),u=s(78478);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.SparqlOperator.NOW],termFunction:!0})}async run(n){return new u.TermFunctionNow}}e.ActorFunctionFactoryTermNow=i},15769:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(30393),e)},15825:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQuerySourceIdentifySerialized=void 0;const c=s(559),o=s(90412),u=s(34554),i=s(19198);class r extends c.ActorQuerySourceIdentify{constructor(t){super(t)}async test(t){return this.isStringSource(t.querySourceUnidentified)?(0,o.passTestVoid)():(0,o.failTest)(`${this.name} requires a single query source with serialized type to be present in the context.`)}async run(t){return await this.mediatorQuerySourceIdentify.mediate({querySourceUnidentified:{type:"rdfjs",value:await this.getRdfSource(t.context,t.querySourceUnidentified),context:t.querySourceUnidentified.context},context:t.context})}async getRdfSource(t,a){const l=new i.Readable({objectMode:!0});l._read=()=>{},l.push(a.value),l.push(null);const d={context:t,handle:{metadata:{baseIRI:a.baseIRI},data:l,context:t},handleMediaType:a.mediaType},p=await this.mediatorRdfParse.mediate(d);return await(0,u.storeStream)(p.handle.data)}isStringSource(t){return"type"in t?t.type==="serialized":typeof t.value=="string"&&"mediaType"in t}}e.ActorQuerySourceIdentifySerialized=r},15950:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MediatorRace=void 0;const c=s(90412);class o extends c.Mediator{constructor(i){super(i)}mediateWith(i,r){return new Promise((n,t)=>{const a=[];for(const l of r)l.reply.then(d=>{d.isPassed()?n((0,c.passTestWithSideData)(l.actor,d.getSideData())):(a.push(d.getFailMessage()),a.length===r.length&&n((0,c.failTest)(this.constructFailureMessage(i,a))))}).catch(d=>{t(d)})})}}e.MediatorRace=o},16115:(g,e,s)=>{const{SymbolAsyncIterator:c,SymbolIterator:o,SymbolFor:u}=s(24134),i=u("nodejs.stream.destroyed"),r=u("nodejs.stream.errored"),n=u("nodejs.stream.readable"),t=u("nodejs.stream.writable"),a=u("nodejs.stream.disturbed"),l=u("nodejs.webstream.isClosedPromise"),d=u("nodejs.webstream.controllerErrorFunction");function p(E,R=!1){var M;return!(!E||typeof E.pipe!="function"||typeof E.on!="function"||R&&(typeof E.pause!="function"||typeof E.resume!="function")||E._writableState&&((M=E._readableState)===null||M===void 0?void 0:M.readable)===!1||E._writableState&&!E._readableState)}function f(E){var R;return!(!E||typeof E.write!="function"||typeof E.on!="function"||E._readableState&&((R=E._writableState)===null||R===void 0?void 0:R.writable)===!1)}function h(E){return E&&(E._readableState||E._writableState||typeof E.write=="function"&&typeof E.on=="function"||typeof E.pipe=="function"&&typeof E.on=="function")}function y(E){return!(!E||h(E)||typeof E.pipeThrough!="function"||typeof E.getReader!="function"||typeof E.cancel!="function")}function m(E){return!(!E||h(E)||typeof E.getWriter!="function"||typeof E.abort!="function")}function b(E){return!(!E||h(E)||typeof E.readable!="object"||typeof E.writable!="object")}function v(E){if(!h(E))return null;const R=E._writableState,M=E._readableState,Q=R||M;return!!(E.destroyed||E[i]||Q!=null&&Q.destroyed)}function _(E){if(!f(E))return null;if(E.writableEnded===!0)return!0;const R=E._writableState;return(R==null||!R.errored)&&(typeof R?.ended!="boolean"?null:R.ended)}function w(E,R){if(!p(E))return null;const M=E._readableState;return(M==null||!M.errored)&&(typeof M?.endEmitted!="boolean"?null:!!(M.endEmitted||R===!1&&M.ended===!0&&M.length===0))}function S(E){return E&&E[n]!=null?E[n]:typeof E?.readable!="boolean"?null:!v(E)&&p(E)&&E.readable&&!w(E)}function x(E){return E&&E[t]!=null?E[t]:typeof E?.writable!="boolean"?null:!v(E)&&f(E)&&E.writable&&!_(E)}function T(E){return typeof E._closed=="boolean"&&typeof E._defaultKeepAlive=="boolean"&&typeof E._removedConnection=="boolean"&&typeof E._removedContLen=="boolean"}function O(E){return typeof E._sent100=="boolean"&&T(E)}g.exports={isDestroyed:v,kIsDestroyed:i,isDisturbed:function(E){var R;return!(!E||!((R=E[a])!==null&&R!==void 0?R:E.readableDidRead||E.readableAborted))},kIsDisturbed:a,isErrored:function(E){var R,M,Q,X,V,H,U,k,$,ae;return!(!E||!((R=(M=(Q=(X=(V=(H=E[r])!==null&&H!==void 0?H:E.readableErrored)!==null&&V!==void 0?V:E.writableErrored)!==null&&X!==void 0?X:(U=E._readableState)===null||U===void 0?void 0:U.errorEmitted)!==null&&Q!==void 0?Q:(k=E._writableState)===null||k===void 0?void 0:k.errorEmitted)!==null&&M!==void 0?M:($=E._readableState)===null||$===void 0?void 0:$.errored)!==null&&R!==void 0?R:!((ae=E._writableState)===null||ae===void 0)&&ae.errored))},kIsErrored:r,isReadable:S,kIsReadable:n,kIsClosedPromise:l,kControllerErrorFunction:d,kIsWritable:t,isClosed:function(E){if(!h(E))return null;if(typeof E.closed=="boolean")return E.closed;const R=E._writableState,M=E._readableState;return typeof R?.closed=="boolean"||typeof M?.closed=="boolean"?R?.closed||M?.closed:typeof E._closed=="boolean"&&T(E)?E._closed:null},isDuplexNodeStream:function(E){return!(!E||typeof E.pipe!="function"||!E._readableState||typeof E.on!="function"||typeof E.write!="function")},isFinished:function(E,R){return h(E)?!(!v(E)&&(R?.readable!==!1&&S(E)||R?.writable!==!1&&x(E))):null},isIterable:function(E,R){return E!=null&&(R===!0?typeof E[c]=="function":R===!1?typeof E[o]=="function":typeof E[c]=="function"||typeof E[o]=="function")},isReadableNodeStream:p,isReadableStream:y,isReadableEnded:function(E){if(!p(E))return null;if(E.readableEnded===!0)return!0;const R=E._readableState;return!(!R||R.errored)&&(typeof R?.ended!="boolean"?null:R.ended)},isReadableFinished:w,isReadableErrored:function(E){var R,M;return h(E)?E.readableErrored?E.readableErrored:(R=(M=E._readableState)===null||M===void 0?void 0:M.errored)!==null&&R!==void 0?R:null:null},isNodeStream:h,isWebStream:function(E){return y(E)||m(E)||b(E)},isWritable:x,isWritableNodeStream:f,isWritableStream:m,isWritableEnded:_,isWritableFinished:function(E,R){if(!f(E))return null;if(E.writableFinished===!0)return!0;const M=E._writableState;return(M==null||!M.errored)&&(typeof M?.finished!="boolean"?null:!!(M.finished||R===!1&&M.ended===!0&&M.length===0))},isWritableErrored:function(E){var R,M;return h(E)?E.writableErrored?E.writableErrored:(R=(M=E._writableState)===null||M===void 0?void 0:M.errored)!==null&&R!==void 0?R:null:null},isServerRequest:function(E){var R;return typeof E._consuming=="boolean"&&typeof E._dumped=="boolean"&&((R=E.req)===null||R===void 0?void 0:R.upgradeOrConnect)===void 0},isServerResponse:O,willEmitClose:function(E){if(!h(E))return null;const R=E._writableState,M=E._readableState,Q=R||M;return!Q&&O(E)||!!(Q&&Q.autoDestroy&&Q.emitClose&&Q.closed===!1)},isTransformStream:b}},16166:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorTermComparatorFactoryExpressionEvaluator=void 0;const c=s(74448),o=s(14628),u=s(90711),i=s(90412),r=s(81926),n=s(77545),t=s(78605);class a extends o.ActorTermComparatorFactory{async test(d){return(0,i.passTestVoid)()}async run({context:d}){return d=n.prepareEvaluatorActionContext(d),new t.TermComparatorExpressionEvaluator(new c.InternalEvaluator(d,this.mediatorFunctionFactory,this.mediatorQueryOperation,await r.BindingsFactory.create(this.mediatorMergeBindingsContext,d,d.getSafe(u.KeysInitQuery.dataFactory))),await this.mediatorFunctionFactory.mediate({functionName:n.SparqlOperator.EQUAL,context:d,requireTermExpression:!0}),await this.mediatorFunctionFactory.mediate({functionName:n.SparqlOperator.LT,context:d,requireTermExpression:!0}))}}e.ActorTermComparatorFactoryExpressionEvaluator=a},16235:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(67120),e)},16305:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfUpdateHypermedia=void 0;const c=s(90412);class o extends c.Actor{constructor(i,r){super(i),this.destinationType=r}async test(i){return i.forceDestinationType&&this.destinationType!==i.forceDestinationType?(0,c.failTest)(`Actor ${this.name} is not able to handle destination type ${i.forceDestinationType}.`):this.testMetadata(i)}}e.ActorRdfUpdateHypermedia=o},16332:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeHandlerSelectionFragmentSpread=void 0;const c=s(53284);class o extends c.NodeHandlerSelectionAdapter{constructor(i,r){super("FragmentSpread",i,r)}handle(i,r){const n=r.fragmentDefinitions[i.name.value];if(!n)throw new Error("Undefined fragment definition: "+i.name.value);const t={alias:void 0,arguments:void 0,directives:n.directives,kind:"Field",name:i.name,selectionSet:n.selectionSet},a=[this.util.newTypePattern(r.subject,n.typeCondition,r)];return this.util.operationFactory.createLeftJoin(this.util.operationFactory.createBgp([]),this.fieldToOperation(r,t,!1,a))}}e.NodeHandlerSelectionFragmentSpread=o},16524:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorDereferenceHttpBase=e.mediaTypesToAcceptString=void 0;const c=s(42890),o=s(70322),u=s(90412),i=s(52728),r=s(70742),n=/^[^ ;]*/u;function t(l,d){const p=[],f=Object.entries(l).map(([y,m])=>({mediaType:y,priority:m})).sort((y,m)=>m.priority===y.priority?y.mediaType.localeCompare(m.mediaType):m.priority-y.priority);let h=f.length-1;for(const{mediaType:y,priority:m}of f){const b=y+(m===1?"":`;q=${m.toFixed(3).replace(/0*$/u,"")}`);if(h+b.length>d){for(;h+9>d;)h-=(p.pop()??"").length+1;p.push("*/*;q=0.1");break}p.push(b),h+=b.length}return p.length===0?"*/*":p.join(",")}e.mediaTypesToAcceptString=t;class a extends c.ActorDereference{constructor(d){super(d)}async test({url:d}){return/^https?:/u.test(d)?(0,u.passTestVoid)():(0,u.failTest)(`Cannot retrieve ${d} because it is not an HTTP(S) URL.`)}async run(d){let p=!0;const f=new Headers(d.headers);let h;f.append("Accept",t(await d.mediaTypes?.()??{},this.getMaxAcceptHeaderLength()));const y=Date.now();try{h=await this.mediatorHttp.mediate({context:d.context,init:{headers:f,method:d.method},input:d.url})}catch(_){return this.handleDereferenceErrors(d,_)}const m=(0,r.resolve)(h.url,d.url),b=Date.now()-y;if(h.status!==200){p=!1;const _=h.body?await(0,i.stringify)(o.ActorHttp.toNodeReadable(h.body)):"empty response";if(!d.acceptErrors){const w=new Error(`Could not retrieve ${d.url} (HTTP status ${h.status}):
${_}`);return this.handleDereferenceErrors(d,w,h.headers,b)}}const v=n.exec(h.headers.get("content-type")??"")?.[0];return{url:m,data:p?o.ActorHttp.toNodeReadable(h.body):(0,c.emptyReadable)(),exists:p,requestTime:b,headers:h.headers,mediaType:v==="text/plain"?void 0:v}}}e.ActorDereferenceHttpBase=a},16657:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(38291),e),o(s(85459),e),o(s(41937),e),o(s(52604),e)},16682:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(30152),e)},16686:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(73481),e)},16850:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQuerySourceIdentifyHypermediaNone=void 0;const c=s(20998),o=s(62100),u=s(90711),i=s(90412),r=s(81926),n=s(34554);class t extends o.ActorQuerySourceIdentifyHypermedia{constructor(l){super(l,"file")}async testMetadata(l){return(0,i.passTest)({filterFactor:0})}async run(l){this.logInfo(l.context,`Identified as file source: ${l.url}`);const d=l.context.getSafe(u.KeysInitQuery.dataFactory),p=new c.QuerySourceRdfJs(await(0,n.storeStream)(l.quads),d,await r.BindingsFactory.create(this.mediatorMergeBindingsContext,l.context,d));return p.toString=()=>`QuerySourceRdfJs(${l.url})`,p.referenceValue=l.url,{source:p}}}e.ActorQuerySourceIdentifyHypermediaNone=t},16851:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfMetadataAccumulateRequestTime=void 0;const c=s(50433),o=s(90412);class u extends c.ActorRdfMetadataAccumulate{constructor(r){super(r)}async test(r){return(0,o.passTestVoid)()}async run(r){return r.mode==="initialize"?{metadata:{}}:{metadata:{..."requestTime"in r.accumulatedMetadata||"requestTime"in r.appendingMetadata?{requestTime:(r.accumulatedMetadata.requestTime??0)+(r.appendingMetadata.requestTime??0)}:{}}}}}e.ActorRdfMetadataAccumulateRequestTime=u},16883:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryExpressionIn=void 0;const c=s(77617),o=s(77545),u=s(7190);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.SparqlOperator.IN],termFunction:!1}),this.mediatorFunctionFactory=n.mediatorFunctionFactory}async run(n){const t=await this.mediatorFunctionFactory.mediate({functionName:o.SparqlOperator.EQUAL,requireTermExpression:!0,context:n.context,arguments:n.arguments});return new u.ExpressionFunctionIn(t)}}e.ActorFunctionFactoryExpressionIn=i},16994:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Bindings=void 0;const c=s(90412),o=s(49568),u=s(18594);class i{constructor(n,t,a){this.type="bindings",this.dataFactory=n,this.entries=t,this.contextHolder=a}has(n){return this.entries.has(typeof n=="string"?n:n.value)}get(n){return this.entries.get(typeof n=="string"?n:n.value)}set(n,t){return new i(this.dataFactory,this.entries.set(typeof n=="string"?n:n.value,t),this.contextHolder)}delete(n){return new i(this.dataFactory,this.entries.delete(typeof n=="string"?n:n.value),this.contextHolder)}keys(){return this.mapIterable(this.iteratorToIterable(this.entries.keys()),n=>this.dataFactory.variable(n))}values(){return this.iteratorToIterable(this.entries.values())}forEach(n){for(const[t,a]of this.entries.entries())n(a,this.dataFactory.variable(t))}get size(){return this.entries.size}[Symbol.iterator](){return this.mapIterable(this.iteratorToIterable(this.entries.entries()),([n,t])=>[this.dataFactory.variable(n),t])[Symbol.iterator]()}equals(n){if(!n)return!1;if(this===n)return!0;if(this.size!==n.size)return!1;for(const t of this.keys())if(!this.get(t)?.equals(n.get(t)))return!1;return!0}filter(n){return new i(this.dataFactory,(0,o.Map)(this.entries.filter((t,a)=>n(t,this.dataFactory.variable(a)))),this.contextHolder)}map(n){return new i(this.dataFactory,(0,o.Map)(this.entries.map((t,a)=>n(t,this.dataFactory.variable(a)))),this.contextHolder)}merge(n){if(this.size<n.size&&n instanceof i)return n.merge(this);let t=this.entries;if(n instanceof i)for(const[a,l]of n.entries){const d=this.entries.get(a);if(d&&!d.equals(l))return;t=t.set(a,l)}else for(const[a,l]of n){const d=this.entries.get(a.value);if(d&&!d.equals(l))return;t=t.set(a.value,l)}return this.createBindingsWithContexts(t,n)}mergeWith(n,t){if(this.size<t.size&&t instanceof i)return t.mergeWith(n,this);let a=this.entries;if(t instanceof i)for(const[l,d]of t.entries){const p=this.entries.get(l);let f;f=p&&!p.equals(d)?n(p,d,this.dataFactory.variable(l)):d,a=a.set(l,f)}else for(const[l,d]of t){const p=this.entries.get(l.value);let f;f=p&&!p.equals(d)?n(p,d,l):d,a=a.set(l.value,f)}return this.createBindingsWithContexts(a,t)}createBindingsWithContexts(n,t){if(this.contextHolder&&this.contextHolder.context){let a=this.contextHolder.context;return"contextHolder"in t&&t.contextHolder&&t.contextHolder.context&&(a=i.mergeContext(this.contextHolder.contextMergeHandlers,a,t.contextHolder.context)),new i(this.dataFactory,n,{contextMergeHandlers:this.contextHolder.contextMergeHandlers,context:a})}return new i(this.dataFactory,n,t.contextHolder)}static mergeContext(n,t,a){const l=[...t.keys(),...a.keys()],d={},p={},f=new Set(a.keys().map(y=>y.name)),h=t.keys().filter(y=>f.has(y.name));for(const y of l){if(p[y.name]===1)continue;p[y.name]=1;const m=h.some(b=>b.name===y.name);n[y.name]&&m?d[y.name]=n[y.name].run(t.get(y),a.get(y)):!n[y.name]&&m||(d[y.name]=t.get(y)||a.get(y))}return new c.ActionContext(d)}setContextEntry(n,t){return this.setContextEntryRaw(n,t)}setContextEntryRaw(n,t){return this.contextHolder&&this.contextHolder.context?new i(this.dataFactory,this.entries,{contextMergeHandlers:this.contextHolder.contextMergeHandlers,context:this.contextHolder.context.set(n,t)}):new i(this.dataFactory,this.entries,{contextMergeHandlers:this.contextHolder?.contextMergeHandlers??{},context:new c.ActionContext().set(n,t)})}deleteContextEntry(n){return this.deleteContextEntryRaw(n)}deleteContextEntryRaw(n){return this.contextHolder?new i(this.dataFactory,this.entries,{contextMergeHandlers:this.contextHolder.contextMergeHandlers,context:this.contextHolder.context?.delete(n)}):new i(this.dataFactory,this.entries)}getContext(){return this.contextHolder?.context}getContextEntry(n){return this.getContext()?.get(n)}toString(){return(0,u.bindingsToString)(this)}*mapIterable(n,t){for(const a of n)yield t(a)}iteratorToIterable(n){return{[Symbol.iterator]:()=>n}}}e.Bindings=i},17024:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(32300),e)},17136:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorHashQuads=void 0;const c=s(90412);class o extends c.Actor{constructor(i){super(i)}}e.ActorHashQuads=o},17140:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.LinkedRdfSourcesAsyncRdfIterator=void 0;const c=s(90711),o=s(99214),u=s(75627);class i extends u.BufferedIterator{constructor(n,t,a,l,d,p,f,h){if(super({autoStart:!1,...h}),this.started=!1,this.currentIterators=[],this.iteratorsPendingCreation=0,this.iteratorsPendingTermination=0,this.accumulatedMetadata=Promise.resolve(void 0),this._reading=!1,this.cacheSize=n,this.operation=t,this.queryBindingsOptions=a,this.context=l,this.firstUrl=d,this.maxIterators=p,this.sourceStateGetter=f,this.maxIterators<=0)throw new Error(`LinkedRdfSourcesAsyncRdfIterator.maxIterators must be larger than zero, but got ${this.maxIterators}`)}kickstart(){this.started||this._fillBufferAsync()}getProperty(n,t){return n!=="metadata"||this.started||(this.preflightMetadata||(this.preflightMetadata=new Promise((a,l)=>{this.sourceStateGetter({url:this.firstUrl},{}).then(d=>{const p=d.source.queryBindings(this.operation,this.context);p.getProperty("metadata",f=>{f.state=new o.MetadataValidationState,p.destroy(),this.accumulateMetadata(d.metadata,f).then(h=>{const y={...d.metadata,...f,...h};a(y)}).catch(()=>{a({...d.metadata,state:new o.MetadataValidationState})})})}).catch(l)})),this.preflightMetadata.then(a=>this.setProperty("metadata",a)).catch(a=>this.emit("error",a))),super.getProperty(n,t)}_end(n){for(const t of this.currentIterators)t.destroy();super._end(n)}_read(n,t){if(this.started){for(const a of this.currentIterators){for(;n>0;){const l=a.read();if(l===null)break;n--,this._push(l)}if(n<=0)break}n>=0&&this.canStartNewIterator()?this.sourceStateGetter({url:this.firstUrl},{}).then(a=>{this.startIteratorsForNextUrls(a.handledDatasets,!1),t()}):t()}else this.started=!0,this.sourceStateGetter({url:this.firstUrl},{}).then(a=>{this.startIterator(a),t()}).catch(a=>setTimeout(()=>this.destroy(a)))}canStartNewIterator(){return this.currentIterators.length+this.iteratorsPendingCreation+this.iteratorsPendingTermination<this.maxIterators&&(!this.canStartNewIteratorConsiderReadable()||!this.readable)}canStartNewIteratorConsiderReadable(){return!0}areIteratorsRunning(){return this.currentIterators.length+this.iteratorsPendingCreation+this.iteratorsPendingTermination>0}startIterator(n){try{const t=n.source.queryBindings(this.operation,this.context,this.queryBindingsOptions);this.currentIterators.push(t);let a=!1,l=!1;t._destination=this,t.on("error",d=>this.destroy(d)),t.on("readable",()=>this._fillBuffer()),t.on("end",()=>{this.currentIterators.splice(this.currentIterators.indexOf(t),1),a=!0,l||this.iteratorsPendingTermination++,l&&this.startIteratorsForNextUrls(n.handledDatasets,!0)}),t.getProperty("metadata",d=>{this.accumulatedMetadata=this.accumulatedMetadata.then(p=>(async()=>(p||(p=n.metadata),this.accumulateMetadata(p,d)))().then(f=>{const h={...n.metadata,...d,...f};return h.state=new o.MetadataValidationState,this.updateMetadata(h),this.preflightMetadata&&this.preflightMetadata.then(y=>y.state.invalidate()).catch(()=>{}),this.getSourceLinks(h,n).then(y=>Promise.all(y)).then(async y=>{const m=await this.getLinkQueue();for(const b of y)m.push(b,n.link);l=!0,a&&this.iteratorsPendingTermination--,this.startIteratorsForNextUrls(n.handledDatasets,!0)}).catch(y=>this.destroy(y)),h})).catch(p=>(this.destroy(p),{}))})}catch(t){this.destroy(t)}}updateMetadata(n){const t=this.getProperty("metadata");this.setProperty("metadata",n),t?.state.invalidate()}isRunning(){return!this.done}startIteratorsForNextUrls(n,t){this.getLinkQueue().then(a=>{for(;this.canStartNewIterator()&&this.isRunning();){const l=a.pop();if(!l)break;this.iteratorsPendingCreation++,this.sourceStateGetter(l,n).then(d=>{const p=this.context.get(c.KeysStatistics.dereferencedLinks);p&&p.updateStatistic({url:d.link.url,metadata:{...d.metadata,...d.link.metadata}},d.source),this.iteratorsPendingCreation--,this.startIterator(d)}).catch(d=>this.emit("error",d))}t&&this.isCloseable(a,!0)&&this.close()}).catch(a=>this.destroy(a))}isCloseable(n,t){return n.isEmpty()&&!this.areIteratorsRunning()}}e.LinkedRdfSourcesAsyncRdfIterator=i},17169:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},17173:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.termToString=e.stringToTerm=e.stringQuadToQuad=e.quadToStringQuad=e.getLiteralValue=e.getLiteralType=e.getLiteralLanguage=void 0;const c=s(73719);Object.defineProperty(e,"getLiteralLanguage",{enumerable:!0,get:function(){return c.getLiteralLanguage}}),Object.defineProperty(e,"getLiteralType",{enumerable:!0,get:function(){return c.getLiteralType}}),Object.defineProperty(e,"getLiteralValue",{enumerable:!0,get:function(){return c.getLiteralValue}}),Object.defineProperty(e,"quadToStringQuad",{enumerable:!0,get:function(){return c.quadToStringQuad}}),Object.defineProperty(e,"stringQuadToQuad",{enumerable:!0,get:function(){return c.stringQuadToQuad}}),Object.defineProperty(e,"stringToTerm",{enumerable:!0,get:function(){return c.stringToTerm}}),Object.defineProperty(e,"termToString",{enumerable:!0,get:function(){return c.termToString}})},17215:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(80933),e)},17352:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(34023),e),o(s(23786),e)},17382:(g,e,s)=>{const{ObjectSetPrototypeOf:c,Symbol:o}=s(24134);g.exports=t;const{ERR_METHOD_NOT_IMPLEMENTED:u}=s(76371).codes,i=s(93370),{getHighWaterMark:r}=s(65291);c(t.prototype,i.prototype),c(t,i);const n=o("kCallback");function t(d){if(!(this instanceof t))return new t(d);const p=d?r(this,d,"readableHighWaterMark",!0):null;p===0&&(d={...d,highWaterMark:null,readableHighWaterMark:p,writableHighWaterMark:d.writableHighWaterMark||0}),i.call(this,d),this._readableState.sync=!1,this[n]=null,d&&(typeof d.transform=="function"&&(this._transform=d.transform),typeof d.flush=="function"&&(this._flush=d.flush)),this.on("prefinish",l)}function a(d){typeof this._flush!="function"||this.destroyed?(this.push(null),d&&d()):this._flush((p,f)=>{p?d?d(p):this.destroy(p):(f!=null&&this.push(f),this.push(null),d&&d())})}function l(){this._final!==a&&a.call(this)}t.prototype._final=a,t.prototype._transform=function(d,p,f){throw new u("_transform()")},t.prototype._write=function(d,p,f){const h=this._readableState,y=this._writableState,m=h.length;this._transform(d,p,(b,v)=>{b?f(b):(v!=null&&this.push(v),y.ended||m===h.length||h.length<h.highWaterMark?f():this[n]=f)})},t.prototype._read=function(){if(this[n]){const d=this[n];this[n]=null,d()}}},17394:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(d,p,f,h){h===void 0&&(h=f);var y=Object.getOwnPropertyDescriptor(p,f);y&&!("get"in y?!p.__esModule:y.writable||y.configurable)||(y={enumerable:!0,get:function(){return p[f]}}),Object.defineProperty(d,h,y)}:function(d,p,f,h){h===void 0&&(h=f),d[h]=p[f]}),o=this&&this.__setModuleDefault||(Object.create?function(d,p){Object.defineProperty(d,"default",{enumerable:!0,value:p})}:function(d,p){d.default=p}),u=this&&this.__importStar||function(d){if(d&&d.__esModule)return d;var p={};if(d!=null)for(var f in d)f!=="default"&&Object.prototype.hasOwnProperty.call(d,f)&&c(p,d,f);return o(p,d),p},i=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0}),e.Util=e.toSparqlJs=e.toSparql=e.Factory=e.Algebra=e.translate=void 0;const r=i(s(70189));e.translate=r.default;const n=u(s(8498));e.Algebra=n;const t=i(s(35344));e.Factory=t.default;const a=s(74093);Object.defineProperty(e,"toSparql",{enumerable:!0,get:function(){return a.toSparql}}),Object.defineProperty(e,"toSparqlJs",{enumerable:!0,get:function(){return a.toSparqlJs}});const l=i(s(53496));e.Util=l.default},17426:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorContextPreprocessQuerySourceSkolemize=void 0;const c=s(98926),o=s(90711),u=s(90412),i=s(3898),r=s(28703);class n extends c.ActorContextPreprocess{constructor(a){super(a)}async test(a){return(0,u.passTestVoid)()}async run(a){let l=a.context;if(l.has(o.KeysQueryOperation.querySources)){l.has(o.KeysQuerySourceIdentify.sourceIds)||(l=l.set(o.KeysQuerySourceIdentify.sourceIds,new Map));const d=l.getSafe(o.KeysQuerySourceIdentify.sourceIds);let p=l.getSafe(o.KeysQueryOperation.querySources);p=p.map(f=>({source:new i.QuerySourceSkolemized(f.source,(0,r.getSourceId)(d,f.source)),context:f.context})),l=l.set(o.KeysQueryOperation.querySources,p)}return{context:l}}}e.ActorContextPreprocessQuerySourceSkolemize=n},17538:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfSerialize=void 0;const c=s(48092);class o extends c.ActorAbstractMediaTyped{constructor(i){super(i)}}e.ActorRdfSerialize=o},17569:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermDatatype=void 0;const c=s(77617),o=s(77545),u=s(62944);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.SparqlOperator.DATATYPE],termFunction:!0})}async run(n){return new u.TermFunctionDatatype}}e.ActorFunctionFactoryTermDatatype=i},17633:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorAbstractMediaTypedFixed=void 0;const c=s(90412),o=s(78563);class u extends o.ActorAbstractMediaTyped{constructor(r){super(r);const n=this.priorityScale||this.priorityScale===0?this.priorityScale:1;if(this.mediaTypePriorities)for(const[t,[a,l]]of Object.entries(this.mediaTypePriorities).entries())this.mediaTypePriorities[a]=n*l;this.mediaTypePriorities=Object.freeze(this.mediaTypePriorities),this.mediaTypeFormats=Object.freeze(this.mediaTypeFormats)}async testHandle(r,n,t){return n&&n in this.mediaTypePriorities?await this.testHandleChecked(r,t):(0,c.failTest)(`Unrecognized media type: ${n}`)}async testMediaType(r){return(0,c.passTestVoid)()}async getMediaTypes(r){return this.mediaTypePriorities}async testMediaTypeFormats(r){return(0,c.passTestVoid)()}async getMediaTypeFormats(r){return this.mediaTypeFormats}}e.ActorAbstractMediaTypedFixed=u},17685:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQuerySourceIdentifyHypermedia=void 0;const c=s(559),o=s(90711),u=s(90412),i=s(81926),r=s(20386);class n extends c.ActorQuerySourceIdentify{constructor(a){super(a)}async test(a){return typeof a.querySourceUnidentified.value!="string"?(0,u.failTest)(`${this.name} requires a single query source with a URL value to be present in the context.`):(0,u.passTestVoid)()}async run(a){const l=a.context.getSafe(o.KeysInitQuery.dataFactory);return{querySource:{source:new r.QuerySourceHypermedia(this.cacheSize,a.querySourceUnidentified.value,a.querySourceUnidentified.type,this.maxIterators,this.aggregateTraversalStore&&!!a.querySourceUnidentified.context?.get(o.KeysQuerySourceIdentify.traverse),this.emitPartialCardinalities,{mediatorMetadata:this.mediatorMetadata,mediatorMetadataExtract:this.mediatorMetadataExtract,mediatorMetadataAccumulate:this.mediatorMetadataAccumulate,mediatorDereferenceRdf:this.mediatorDereferenceRdf,mediatorQuerySourceIdentifyHypermedia:this.mediatorQuerySourceIdentifyHypermedia,mediatorRdfResolveHypermediaLinks:this.mediatorRdfResolveHypermediaLinks,mediatorRdfResolveHypermediaLinksQueue:this.mediatorRdfResolveHypermediaLinksQueue},d=>this.logWarn(a.context,d),l,await i.BindingsFactory.create(this.mediatorMergeBindingsContext,a.context,l)),context:a.querySourceUnidentified.context??new u.ActionContext}}}}e.ActorQuerySourceIdentifyHypermedia=n},17731:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(80991),e)},17796:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionSha512=void 0;const c=s(77617),o=s(77545),u=s(77952);class i extends c.TermFunctionBase{constructor(){super({arity:1,operator:o.SparqlOperator.SHA512,overloads:(0,o.declare)(o.SparqlOperator.SHA512).onString1Typed(()=>n=>(0,o.string)((0,u.sha512)().update(n).digest("hex"))).collect()})}}e.TermFunctionSha512=i},17845:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.prepareEvaluatorActionContext=void 0;const c=s(90711),o=s(89096),u=s(31296);e.prepareEvaluatorActionContext=function(i){let r=i;if(r.has(c.KeysInitQuery.extensionFunctionCreator)&&r.has(c.KeysInitQuery.extensionFunctions))throw new Error("Illegal simultaneous usage of extensionFunctionCreator and extensionFunctions in context");if(r.has(c.KeysInitQuery.extensionFunctionCreator))r=r.set(c.KeysExpressionEvaluator.extensionFunctionCreator,r.get(c.KeysInitQuery.extensionFunctionCreator));else if(r.has(c.KeysInitQuery.extensionFunctions)){const n=r.getSafe(c.KeysInitQuery.extensionFunctions);r=r.set(c.KeysExpressionEvaluator.extensionFunctionCreator,async t=>n[t.value])}else r=r.setDefault(c.KeysExpressionEvaluator.extensionFunctionCreator,async()=>{});return r=r.setDefault(c.KeysExpressionEvaluator.defaultTimeZone,(0,u.extractTimeZone)(r.getSafe(c.KeysInitQuery.queryTimestamp))),r=r.setDefault(c.KeysExpressionEvaluator.superTypeProvider,{cache:new o.LRUCache({max:1e3}),discoverer:()=>"term"}),r}},17919:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermXsdToYearMonthDuration=void 0;const c=s(77617),o=s(77545),u=s(60882);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.TypeURL.XSD_YEAR_MONTH_DURATION],termFunction:!0})}async run(n){return new u.TermFunctionXsdToYearMonthDuration}}e.ActorFunctionFactoryTermXsdToYearMonthDuration=i},17937:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfJoinHash=void 0;const c=s(95445),o=s(90412),u=s(18888),i=s(4809),r=s(75627),n=s(25579),t=s(51038);class a extends c.ActorRdfJoin{constructor(d){super(d,{logicalType:"inner",physicalName:"hash-"+(d.canHandleUndefs?"undef":"def"),limitEntries:2,requiresVariableOverlap:!0,canHandleUndefs:d.canHandleUndefs})}async getOutput(d,p){const f=p.metadatas;let h;const y=c.ActorRdfJoin.overlappingVariables(f);if(this.canHandleUndefs){const m=p.entriesSorted[0].output,b=p.entriesSorted[1].output;h=new i.ClosableTransformIterator(async()=>{const v=new u.BindingsIndexUndef(y,_=>_&&_.termType!=="Variable"?(0,t.termToString)(_):"",!0);return await new Promise(_=>{m.bindingsStream.on("data",w=>{(v.getFirst(w,!1)??v.put(w,[])).push(w)}),m.bindingsStream.on("end",_),m.bindingsStream.on("error",w=>{h.emit("error",w)})}),new r.MultiTransformIterator(b.bindingsStream,{multiTransform:_=>new r.ArrayIterator(v.get(_).flat().map(w=>c.ActorRdfJoin.joinBindings(_,w)).filter(w=>w!==null),{autoStart:!1}),autoStart:!1})},{autoStart:!1,onClose(){m.bindingsStream.destroy(),b.bindingsStream.destroy()}})}else{const{hashFunction:m}=await this.mediatorHashBindings.mediate({context:d.context}),b=y.map(v=>v.variable);h=new n.HashJoin(p.entriesSorted[0].output.bindingsStream,p.entriesSorted[1].output.bindingsStream,v=>m(v,b),c.ActorRdfJoin.joinBindings)}return{result:{type:"bindings",bindingsStream:h,metadata:async()=>await this.constructResultMetadata(p.entriesSorted,f,d.context)}}}async getJoinCoefficients(d,p){let f=d.entries;p.metadatas[1].cardinality.value<p.metadatas[0].cardinality.value&&(p.metadatas=[p.metadatas[1],p.metadatas[0]],f=[d.entries[1],d.entries[0]]);const{metadatas:h}=p,y=c.ActorRdfJoin.getRequestInitialTimes(h),m=c.ActorRdfJoin.getRequestItemTimes(h);let b=h[0].cardinality.value+h[1].cardinality.value;return this.canHandleUndefs||(b*=.8),(0,o.passTestWithSideData)({iterations:b,persistedItems:h[0].cardinality.value,blockingItems:h[0].cardinality.value,requestTime:y[0]+h[0].cardinality.value*m[0]+y[1]+h[1].cardinality.value*m[1]},{...p,entriesSorted:f})}}e.ActorRdfJoinHash=a},18021:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultGraph=void 0;class s{constructor(){this.termType="DefaultGraph",this.value=""}equals(o){return!!o&&o.termType==="DefaultGraph"}}e.DefaultGraph=s,s.INSTANCE=new s},18202:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MediatorNumber=void 0;const c=s(90412);class o extends c.Mediator{constructor(i){super(i),this.indexPicker=this.createIndexPicker()}createIndexPicker(){switch(this.type){case"min":return i=>i.reduce((r,n,t)=>{const a=this.getOrDefault(n[this.field],Number.POSITIVE_INFINITY);return a!==null&&(Number.isNaN(r[0])||r[0]>a)?[a,t]:r},[Number.NaN,-1])[1];case"max":return i=>i.reduce((r,n,t)=>{const a=this.getOrDefault(n[this.field],Number.NEGATIVE_INFINITY);return a!==null&&(Number.isNaN(r[0])||r[0]<a)?[a,t]:r},[Number.NaN,-1])[1];default:throw new Error(`No valid "type" value was given, must be either 'min' or 'max', but got: ${this.type}`)}}getOrDefault(i,r){return i===void 0?r:i}async mediateWith(i,r){let n=await Promise.all(r.map(({reply:p})=>p));const t=[];if(this.ignoreFailures){const p={};p[this.field]=null,n=n.map(f=>f.isFailed()?(t.push(f.getFailMessage()),(0,c.passTestWithSideData)(p,void 0)):f)}const a=[],l=n.map((p,f)=>{const h=p.getOrThrow();return a[f]=p.getSideData(),h}),d=this.indexPicker(l);return d<0?(0,c.failTest)(this.constructFailureMessage(i,t)):(0,c.passTestWithSideData)(r[d].actor,a[d])}}e.MediatorNumber=o},18412:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(30795),e)},18512:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfMetadataExtractRequestTime=void 0;const c=s(18412),o=s(90412);class u extends c.ActorRdfMetadataExtract{constructor(r){super(r)}async test(r){return(0,o.passTestVoid)()}async run(r){return{metadata:{requestTime:r.requestTime}}}}e.ActorRdfMetadataExtractRequestTime=u},18594:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.bindingsToCompactString=e.bindingsToString=void 0;const c=s(76952);e.bindingsToString=function(o){const u={};for(const i of o.keys())u[i.value]=(0,c.termToString)(o.get(i));return JSON.stringify(u,null,"  ")},e.bindingsToCompactString=function(o,u){return u.map(i=>{const r=o.get(i);return r?(0,c.termToString)(r):""}).join("")}},18697:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfJoinMultiBindSource=void 0;const c=s(95445),o=s(90711),u=s(90412),i=s(4809),r=s(67021),n=s(75627),t=s(96331);class a extends c.ActorRdfJoin{constructor(d){super(d,{logicalType:"inner",physicalName:"bind-source",canHandleUndefs:!0})}async getOutput(d,p){const f=d.context.getSafe(o.KeysInitQuery.dataFactory),h=new t.Factory(f),y=p.entriesSorted;this.logDebug(d.context,"First entry for Bind Join Source: ",()=>({entry:y[0].operation,cardinality:y[0].metadata.cardinality,order:y[0].metadata.order,availableOrders:y[0].metadata.availableOrders}));for(const[x,T]of y.entries())x!==0&&T.output.bindingsStream.close();const m=y[0].output,b=y[0].metadata,v=[...y];v.splice(0,1);const _=(0,r.getOperationSource)(v[0].operation),w=this.createOperationFromEntries(h,v),S=new i.ChunkedIterator(m.bindingsStream,this.blockSize,{autoStart:!1});return{result:{type:"bindings",bindingsStream:new n.UnionIterator(S.map(x=>_.source.queryBindings(w,_.context?d.context.merge(_.context):d.context,{joinBindings:{bindings:x,metadata:b}}))),metadata:()=>this.constructResultMetadata(y,y.map(x=>x.metadata),d.context)},physicalPlanMetadata:{bindIndex:p.entriesUnsorted.indexOf(y[0])}}}async sortJoinEntries(d,p){const f=await c.ActorRdfJoin.sortJoinEntries(this.mediatorJoinEntriesSort,d,p);return f.isFailed()?f:(d=(d=f.get()).sort((h,y)=>h.operationModified&&!y.operationModified?-1:0),(0,u.passTest)(d))}async getJoinCoefficients(d,p){let{metadatas:f}=p;const h=d.context.getSafe(o.KeysInitQuery.dataFactory),y=new t.Factory(h),m=d.entries.map((X,V)=>({...X,metadata:f[V]})),b=await this.sortJoinEntries(m,d.context);if(b.isFailed())return b;const v=b.get();f=v.map(X=>X.metadata);const _=c.ActorRdfJoin.getRequestInitialTimes(f),w=c.ActorRdfJoin.getRequestItemTimes(f),S=[...v];[..._],[...w],S.splice(0,1);const x=S.map(X=>(0,r.getOperationSource)(X.operation));if(x.some(X=>!X))return(0,u.failTest)(`Actor ${this.name} can not bind on remaining operations without source annotation`);if(x.some(X=>X!==x[0]))return(0,u.failTest)(`Actor ${this.name} can not bind on remaining operations with non-equal source annotation`);const T=x[0],O=this.createOperationFromEntries(y,S),E=await T.source.getSelectorShape(d.context),R=d.context.get(o.KeysInitQuery.extensionFunctionsAlwaysPushdown);if(!(0,r.doesShapeAcceptOperation)(E,O,{joinBindings:!0,wildcardAcceptAllExtensionFunctions:R}))return(0,u.failTest)(`Actor ${this.name} detected a source that can not handle passing down join bindings`);const M=await Promise.all(S.map(async X=>(await this.mediatorJoinSelectivity.mediate({entries:[v[0],X],context:d.context})).selectivity*this.selectivityModifier)),Q=S.map((X,V)=>X.metadata.cardinality.value*M[V]).reduce((X,V)=>X+V,0);return(0,u.passTestWithSideData)({iterations:1,persistedItems:f[0].cardinality.value,blockingItems:f[0].cardinality.value,requestTime:_[0]+f[0].cardinality.value*w[0]+_[1]+Q*w[1]},{...p,entriesUnsorted:m,entriesSorted:v})}createOperationFromEntries(d,p){return p.length===1?p[0].operation:d.createJoin(p.map(f=>f.operation),!0)}}e.ActorRdfJoinMultiBindSource=a},18888:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(4519),e),o(s(30862),e),o(s(73833),e)},18895:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(57805),e)},18962:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(23598),e),o(s(83893),e)},18996:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0});const c=s(25828);class o extends c.Store{getQuadsOnce(i,r,n,t){const a=this.getQuads(i,r,n,t);return this.removeQuads(a),a}getSubjectsOnce(i,r,n){return this.getQuadsOnce(null,i,r,n).map(t=>t.subject)}getObjectsOnce(i,r,n){return this.getQuadsOnce(i,r,null,n).map(t=>t.object)}}e.default=o},19036:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfParseHtml=void 0;const c=s(95124),o=s(54392),u=s(19198);class i extends c.ActorRdfParseFixedMediaTypes{constructor(n){super(n)}async runHandle(n,t,a){const l=new u.Readable({objectMode:!0});l._read=()=>{};let d=0,p=1;function f(m){l.emit("error",m)}function h(){--p===0&&l.push(null)}const y={baseIRI:n.metadata?.baseIRI??"",context:a,emit:m=>{d--,l.push(m)},end:h,error:f,headers:n.headers};try{const m=await Promise.all(this.busRdfParseHtml.publish(y));p+=m.length;const b=[];for(const w of m){const{htmlParseListener:S}=await w.actor.run(y,void 0);b.push(S)}const v=new o.Parser({onclosetag(){try{for(const w of b)w.onTagClose()}catch(w){f(w)}},onend(){try{for(const w of b)w.onEnd()}catch(w){f(w)}h()},onopentag(w,S){try{for(const x of b)x.onTagOpen(w,S)}catch(x){f(x)}},ontext(w){try{for(const S of b)S.onText(w)}catch(S){f(S)}}},{decodeEntities:!0,recognizeSelfClosing:!0,xmlMode:!1}),_=l._read=w=>{for(d=Math.max(w,d);d>0;){const S=n.data.read();if(S===null)return void n.data.once("readable",()=>_(0));v.write(S.toString())}};n.data.on("error",f).on("end",()=>v.end())}catch(m){setTimeout(()=>{l.emit("error",m)})}return{data:l}}}e.ActorRdfParseHtml=i},19039:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.KeysStatistics=e.KeysRdfJoin=e.KeysMergeBindingsContext=e.KeysRdfUpdateQuads=e.KeysQuerySourceIdentify=e.KeysRdfParseHtmlScript=e.KeysRdfParseJsonLd=e.KeysQueryOperation=e.KeysExpressionEvaluator=e.KeysInitQuery=e.KeysHttpProxy=e.KeysHttpMemento=e.KeysHttpWayback=e.KeysHttp=e.KeysCore=void 0;const c=s(90412);e.KeysCore={log:c.CONTEXT_KEY_LOGGER},e.KeysHttp={includeCredentials:new c.ActionContextKey("@comunica/bus-http:include-credentials"),auth:new c.ActionContextKey("@comunica/bus-http:auth"),fetch:new c.ActionContextKey("@comunica/bus-http:fetch"),httpTimeout:new c.ActionContextKey("@comunica/bus-http:http-timeout"),httpBodyTimeout:new c.ActionContextKey("@comunica/bus-http:http-body-timeout"),httpRetryCount:new c.ActionContextKey("@comunica/bus-http:http-retry-count"),httpRetryDelayFallback:new c.ActionContextKey("@comunica/bus-http:http-retry-delay-fallback"),httpRetryDelayLimit:new c.ActionContextKey("@comunica/bus-http:http-retry-delay-limit"),httpRetryStatusCodes:new c.ActionContextKey("@comunica/bus-http:http-retry-status-codes")},e.KeysHttpWayback={recoverBrokenLinks:new c.ActionContextKey("@comunica/bus-http:recover-broken-links")},e.KeysHttpMemento={datetime:new c.ActionContextKey("@comunica/actor-http-memento:datetime")},e.KeysHttpProxy={httpProxyHandler:new c.ActionContextKey("@comunica/actor-http-proxy:httpProxyHandler")},e.KeysInitQuery={querySourcesUnidentified:new c.ActionContextKey("@comunica/actor-init-query:querySourcesUnidentified"),initialBindings:new c.ActionContextKey("@comunica/actor-init-query:initialBindings"),queryFormat:new c.ActionContextKey("@comunica/actor-init-query:queryFormat"),graphqlSingularizeVariables:new c.ActionContextKey("@comunica/actor-init-query:singularizeVariables"),lenient:new c.ActionContextKey("@comunica/actor-init-query:lenient"),queryString:new c.ActionContextKey("@comunica/actor-init-query:queryString"),query:new c.ActionContextKey("@comunica/actor-init-query:query"),baseIRI:new c.ActionContextKey("@comunica/actor-init-query:baseIRI"),fileBaseIRI:new c.ActionContextKey("@comunica/actor-init-query:fileBaseIRI"),functionArgumentsCache:new c.ActionContextKey("@comunica/actor-init-query:functionArgumentsCache"),queryTimestamp:new c.ActionContextKey("@comunica/actor-init-query:queryTimestamp"),queryTimestampHighResolution:new c.ActionContextKey("@comunica/actor-init-query:queryTimestampHighResolution"),extensionFunctionCreator:new c.ActionContextKey("@comunica/actor-init-query:extensionFunctionCreator"),extensionFunctions:new c.ActionContextKey("@comunica/actor-init-query:extensionFunctions"),extensionFunctionsAlwaysPushdown:new c.ActionContextKey("@comunica/actor-init-query:extensionFunctionsAlwaysPushdown"),cliArgsHandlers:new c.ActionContextKey("@comunica/actor-init-query:cliArgsHandlers"),explain:new c.ActionContextKey("@comunica/actor-init-query:explain"),physicalQueryPlanLogger:new c.ActionContextKey("@comunica/actor-init-query:physicalQueryPlanLogger"),physicalQueryPlanNode:new c.ActionContextKey("@comunica/actor-init-query:physicalQueryPlanNode"),jsonLdContext:new c.ActionContextKey("@context"),invalidateCache:new c.ActionContextKey("@comunica/actor-init-query:invalidateCache"),dataFactory:new c.ActionContextKey("@comunica/actor-init-query:dataFactory"),distinctConstruct:new c.ActionContextKey("@comunica/actor-init-query:distinctConstruct")},e.KeysExpressionEvaluator={extensionFunctionCreator:new c.ActionContextKey("@comunica/utils-expression-evaluator:extensionFunctionCreator"),superTypeProvider:new c.ActionContextKey("@comunica/utils-expression-evaluator:superTypeProvider"),defaultTimeZone:new c.ActionContextKey("@comunica/utils-expression-evaluator:defaultTimeZone"),actionContext:new c.ActionContextKey("@comunica/utils-expression-evaluator:actionContext")},e.KeysQueryOperation={operation:new c.ActionContextKey("@comunica/bus-query-operation:operation"),joinLeftMetadata:new c.ActionContextKey("@comunica/bus-query-operation:joinLeftMetadata"),joinRightMetadatas:new c.ActionContextKey("@comunica/bus-query-operation:joinRightMetadatas"),joinBindings:new c.ActionContextKey("@comunica/bus-query-operation:joinBindings"),readOnly:new c.ActionContextKey("@comunica/bus-query-operation:readOnly"),isPathArbitraryLengthDistinctKey:new c.ActionContextKey("@comunica/bus-query-operation:isPathArbitraryLengthDistinct"),limitIndicator:new c.ActionContextKey("@comunica/bus-query-operation:limitIndicator"),unionDefaultGraph:new c.ActionContextKey("@comunica/bus-query-operation:unionDefaultGraph"),querySources:new c.ActionContextKey("@comunica/bus-query-operation:querySources")},e.KeysRdfParseJsonLd={documentLoader:new c.ActionContextKey("@comunica/actor-rdf-parse-jsonld:documentLoader"),strictValues:new c.ActionContextKey("@comunica/actor-rdf-parse-jsonld:strictValues"),parserOptions:new c.ActionContextKey("@comunica/actor-rdf-parse-jsonld:parserOptions")},e.KeysRdfParseHtmlScript={processingHtmlScript:new c.ActionContextKey("@comunica/actor-rdf-parse-html-script:processingHtmlScript"),extractAllScripts:new c.ActionContextKey("extractAllScripts")},e.KeysQuerySourceIdentify={sourceIds:new c.ActionContextKey("@comunica/bus-query-source-identify:sourceIds"),hypermediaSourcesAggregatedStores:new c.ActionContextKey("@comunica/bus-query-source-identify:hypermediaSourcesAggregatedStores"),traverse:new c.ActionContextKey("@comunica/bus-query-source-identify:traverse")},e.KeysRdfUpdateQuads={destination:new c.ActionContextKey("@comunica/bus-rdf-update-quads:destination")},e.KeysMergeBindingsContext={sourcesBinding:new c.ActionContextKey("@comunica/bus-merge-bindings-context:sourcesBinding")},e.KeysRdfJoin={lastPhysicalJoin:new c.ActionContextKey("@comunica/bus-rdf-join:lastPhysicalJoin")},e.KeysStatistics={discoveredLinks:new c.ActionContextKey("@comunica/statistic:discoveredLinks"),dereferencedLinks:new c.ActionContextKey("@comunica/statistic:dereferencedLinks"),intermediateResults:new c.ActionContextKey("@comunica/statistic:intermediateResults")}},19198:(g,e,s)=>{const c=s(63125),o=s(43095),u=c.Readable.destroy;g.exports=c.Readable,g.exports._uint8ArrayToBuffer=c._uint8ArrayToBuffer,g.exports._isUint8Array=c._isUint8Array,g.exports.isDisturbed=c.isDisturbed,g.exports.isErrored=c.isErrored,g.exports.isReadable=c.isReadable,g.exports.Readable=c.Readable,g.exports.Writable=c.Writable,g.exports.Duplex=c.Duplex,g.exports.Transform=c.Transform,g.exports.PassThrough=c.PassThrough,g.exports.addAbortSignal=c.addAbortSignal,g.exports.finished=c.finished,g.exports.destroy=c.destroy,g.exports.destroy=u,g.exports.pipeline=c.pipeline,g.exports.compose=c.compose,Object.defineProperty(c,"promises",{configurable:!0,enumerable:!0,get:()=>o}),g.exports.Stream=c.Stream,g.exports.default=g.exports},19227:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(8236),e)},19356:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(86551),e),o(s(34864),e)},19383:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},19464:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryExpressionLogicalAnd=void 0;const c=s(77617),o=s(77545),u=s(60677);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.SparqlOperator.LOGICAL_AND],termFunction:!1})}async run(n){return new u.ExpressionFunctionLogicalAnd}}e.ActorFunctionFactoryExpressionLogicalAnd=i},19480:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryParseGraphql=void 0;const c=s(92180),o=s(90711),u=s(90412),i=s(33826);class r extends c.ActorQueryParse{constructor(t){super(t),this.graphqlToSparql=new i.Converter({requireContext:!0})}async test(t){return t.queryFormat?.language!=="graphql"?(0,u.failTest)("This actor can only parse GraphQL queries"):(0,u.passTestVoid)()}async run(t){const a=t.context.get(o.KeysInitQuery.jsonLdContext)||{},l={singularizeVariables:t.context.get(o.KeysInitQuery.graphqlSingularizeVariables)};return{operation:await this.graphqlToSparql.graphqlToSparqlAlgebra(t.query,a,l)}}}e.ActorQueryParseGraphql=r},19531:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(61205),e)},19722:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionUcase=void 0;const c=s(77617),o=s(77545);class u extends c.TermFunctionBase{constructor(){super({arity:1,operator:o.SparqlOperator.UCASE,overloads:(0,o.declare)(o.SparqlOperator.UCASE).onString1Typed(()=>r=>(0,o.string)(r.toUpperCase())).onLangString1(()=>r=>(0,o.langString)(r.typedValue.toUpperCase(),r.language)).collect()})}}e.TermFunctionUcase=u},19727:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(72258),e)},19831:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionStrBefore=void 0;const c=s(77617),o=s(77545);class u extends c.TermFunctionBase{constructor(){super({arity:2,operator:o.SparqlOperator.STRBEFORE,overloads:(0,o.declare)(o.SparqlOperator.STRBEFORE).onBinaryTyped([o.TypeURL.XSD_STRING,o.TypeURL.XSD_STRING],()=>(r,n)=>(0,o.string)(r.slice(0,Math.max(0,r.indexOf(n))))).onBinary([o.TypeURL.RDF_LANG_STRING,o.TypeURL.XSD_STRING],()=>(r,n)=>{const[t,a]=[r.typedValue,n.typedValue],l=r.typedValue.slice(0,Math.max(0,t.indexOf(a)));return l||!a?(0,o.langString)(l,r.language):(0,o.string)(l)}).onBinary([o.TypeURL.RDF_LANG_STRING,o.TypeURL.RDF_LANG_STRING],()=>(r,n)=>{if(r.language!==n.language)throw new o.IncompatibleLanguageOperation(r,n);const[t,a]=[r.typedValue,n.typedValue],l=r.typedValue.slice(0,Math.max(0,t.indexOf(a)));return l||!a?(0,o.langString)(l,r.language):(0,o.string)(l)}).collect()})}}e.TermFunctionStrBefore=u},19856:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(26357),e)},19858:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.stringQuadToQuad=e.quadToStringQuad=e.stringToTerm=e.getLiteralLanguage=e.getLiteralType=e.getLiteralValue=e.termToString=void 0;const c=new(s(47793)).DataFactory;function o(d){var p,f;if(d)switch(d.termType){case"NamedNode":return`<${p=d.value,p.replace(t,l)}>`;case"BlankNode":return`_:${d.value}`;case"Literal":{const h=d;return`"${f=h.value,t.test(f)&&(f=f.replace(t,l)),f}"${h.datatype&&h.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&h.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?`^^<${h.datatype.value}>`:""}${h.language?`@${h.language}`:""}`}case"Quad":return`<<${o(d.subject)} ${o(d.predicate)} ${o(d.object)}${d.graph.termType==="DefaultGraph"?"":` ${o(d.graph)}`}>>`;case"Variable":return`?${d.value}`;case"DefaultGraph":return d.value}}function u(d){const p=/^"([^]*)"((\^\^.*)|(@.*))?$/u.exec(d);if(!p)throw new Error(`${d} is not a literal`);return p[1].replace(/\\"/gu,'"')}function i(d){const p=/^"[^]*"(?:\^\^<([^"]+)>|(@)[^@"]+)?$/u.exec(d);if(!p)throw new Error(`${d} is not a literal`);return p[1]||(p[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}function r(d){const p=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/u.exec(d);if(!p)throw new Error(`${d} is not a literal`);return p[1]?p[1].toLowerCase():""}function n(d,p){if(p=p||c,!d||d.length===0)return p.defaultGraph();switch(d[0]){case"_":return p.blankNode(d.slice(2));case"?":if(!p.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return p.variable(d.slice(1));case'"':{const f=r(d),h=p.namedNode(i(d));return p.literal(u(d),f||h)}default:if(d.startsWith("<<")&&d.endsWith(">>")){const f=d.slice(2,-2),h=[];let y=0,m=0;for(let b=0;b<f.length;b++){const v=f[b];if(v==="<"&&y++,v===">"){if(y===0)throw new Error(`Found closing tag without opening tag in ${d}`);y--}v===" "&&y===0&&(h.push(f.slice(m,b)),m=b+1)}if(y!==0)throw new Error(`Found opening tag without closing tag in ${d}`);if(h.push(f.slice(m,f.length)),h.length!==3&&h.length!==4)throw new Error(`Nested quad syntax error ${d}`);return p.quad(n(h[0]),n(h[1]),n(h[2]),h[3]?n(h[3]):void 0)}if(!d.startsWith("<")||!d.endsWith(">"))throw new Error(`Detected invalid iri for named node (must be wrapped in <>): ${d}`);return p.namedNode(d.slice(1,-1))}}e.termToString=o,e.getLiteralValue=u,e.getLiteralType=i,e.getLiteralLanguage=r,e.stringToTerm=n,e.quadToStringQuad=function(d){return{subject:o(d.subject),predicate:o(d.predicate),object:o(d.object),graph:o(d.graph)}},e.stringQuadToQuad=function(d,p){return(p=p||c).quad(n(d.subject,p),n(d.predicate,p),n(d.object,p),n(d.graph,p))};const t=/["\\\t\n\r\b\f\u0000-\u0019]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,a=new Map([["\\","\\\\"],['"','\\"'],["	","\\t"],[`
`,"\\n"],["\r","\\r"],["\b","\\b"],["\f","\\f"]]);function l(d){const p=a.get(d);if(!p){if(d.length===1){const h=d.charCodeAt(0).toString(16);return`${"\\u0000".slice(0,-h.length)}${h}`}const f=(1024*(d.charCodeAt(0)-55296)+d.charCodeAt(1)+9216).toString(16);return`${"\\U00000000".slice(0,-f.length)}${f}`}return p}},19881:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SparqlJsonParser=void 0;const c=s(32320),o=s(19198),u=s(50608);class i{constructor(n){var t;n=n||{},this.dataFactory=n.dataFactory||new c.DataFactory,this.prefixVariableQuestionMark=!!n.prefixVariableQuestionMark,this.suppressMissingStreamResultsError=(t=n.suppressMissingStreamResultsError)===null||t===void 0||t,this.parseUnsupportedVersions=!!n.parseUnsupportedVersions}isValidVersion(n){return this.parseUnsupportedVersions||i.SUPPORTED_VERSIONS.includes(n)}parseJsonResults(n,t){if(t&&!this.isValidVersion(t))throw new Error(`Detected unsupported version as media type parameter: ${t}`);return n.results.bindings.map(a=>this.parseJsonBindings(a))}parseJsonResultsStream(n,t){const a=h=>f.emit("error",h);n.on("error",a);const l=new u;l.onError=a;let d=!1,p=!1;l.onValue=h=>{if(l.key==="vars"&&l.stack.length===2&&l.stack[1].key==="head")f.emit("variables",h.map(y=>this.dataFactory.variable(y))),d=!0;else if(l.key==="link"&&l.stack.length===2&&l.stack[1].key==="head")f.emit("link",h);else if(l.key==="version"&&l.stack.length===2&&l.stack[1].key==="head")this.isValidVersion(h)||f.emit("error",new Error(`Detected unsupported version: ${h}`)),f.emit("version",h);else if(l.key==="results"&&l.stack.length===1)p=!0;else if(typeof l.key=="number"&&l.stack.length===3&&l.stack[1].key==="results"&&l.stack[2].key==="bindings")try{f.push(this.parseJsonBindings(h))}catch(y){f.emit("error",y)}else l.key==="metadata"&&l.stack.length===1&&f.emit("metadata",h)};const f=n.on("end",h=>{p||this.suppressMissingStreamResultsError?d||f.emit("variables",[]):f.emit("error",new Error("No valid SPARQL query results were found."))}).pipe(new o.Transform({objectMode:!0,transform(h,y,m){l.write(h),m()}}));return t&&!this.isValidVersion(t)&&f.destroy(new Error(`Detected unsupported version as media type parameter: ${t}`)),f}parseJsonBindings(n){const t={};for(const a in n){const l=n[a];t[this.prefixVariableQuestionMark?"?"+a:a]=this.parseJsonValue(l)}return t}parseJsonValue(n){let t;switch(n.type){case"bnode":t=this.dataFactory.blankNode(n.value);break;case"literal":if(n["xml:lang"]){const l=n["xml:lang"],d=n["its:dir"];t=this.dataFactory.literal(n.value,{language:l,direction:d})}else t=n.datatype?this.dataFactory.literal(n.value,this.dataFactory.namedNode(n.datatype)):this.dataFactory.literal(n.value);break;case"typed-literal":t=this.dataFactory.literal(n.value,this.dataFactory.namedNode(n.datatype));break;case"triple":const a=n.value;if(!(a&&a.subject&&a.predicate&&a.object))throw new Error("Invalid quoted triple: "+JSON.stringify(n));t=this.dataFactory.quad(this.parseJsonValue(a.subject),this.parseJsonValue(a.predicate),this.parseJsonValue(a.object));break;default:t=this.dataFactory.namedNode(n.value)}return t}parseJsonBoolean(n,t){if(t&&!this.isValidVersion(t))throw new Error(`Detected unsupported version as media type parameter: ${t}`);if("boolean"in n)return n.boolean;throw new Error("No valid ASK response was found.")}parseJsonBooleanStream(n,t){return t&&!this.isValidVersion(t)?Promise.reject(new Error(`Detected unsupported version as media type parameter: ${t}`)):new Promise((a,l)=>{const d=new u;d.onError=l,d.onValue=p=>{d.key==="boolean"&&typeof p=="boolean"&&d.stack.length===1&&a(p)},n.on("error",l).on("data",p=>d.write(p)).on("end",()=>l(new Error("No valid ASK response was found.")))})}}e.SparqlJsonParser=i,i.SUPPORTED_VERSIONS=["1.2","1.2-basic","1.1"]},20057:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermXsdToFloat=void 0;const c=s(77617),o=s(77545),u=s(48260);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.TypeURL.XSD_FLOAT],termFunction:!0})}async run(n){return new u.TermFunctionXsdToFloat}}e.ActorFunctionFactoryTermXsdToFloat=i},20138:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(81928),e),o(s(98848),e),o(s(99475),e),o(s(50673),e),o(s(58283),e),o(s(60871),e),o(s(33384),e)},20240:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(27568),e)},20268:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfJoinMultiSmallest=void 0;const c=s(95445),o=s(90711),u=s(90412),i=s(67021),r=s(96331);class n extends c.ActorRdfJoin{constructor(a){super(a,{logicalType:"inner",physicalName:"multi-smallest",limitEntries:3,limitEntriesMin:!0,canHandleUndefs:!0,isLeaf:!1})}getJoinIndexes(a){for(let l=0;l<a.length;l++)for(let d=l+1;d<a.length;d++)if(this.hasCommonVariables(a[l],a[d]))return[l,d];return[0,1]}hasCommonVariables(a,l){const d=a.metadata.variables.map(f=>f.variable.value),p=new Set(l.metadata.variables.map(f=>f.variable.value));return d.some(f=>p.has(f))}async sortJoinEntries(a,l){return(await this.mediatorJoinEntriesSort.mediate({entries:a,context:l})).entries}async getOutput(a,l){const d=a.context.getSafe(o.KeysInitQuery.dataFactory),p=new r.Factory(d),f=l.sortedEntries,h=await c.ActorRdfJoin.getEntriesWithMetadatas(f),y=this.getJoinIndexes(h),m=f[y[0]],b=f[y[1]];f.splice(y[1],1),f.splice(y[0],1);const v={output:(0,i.getSafeBindings)(await this.mediatorJoin.mediate({type:a.type,entries:[m,b],context:a.context})),operation:p.createJoin([m.operation,b.operation],!1)};return f.push(v),{result:await this.mediatorJoin.mediate({type:a.type,entries:f,context:a.context})}}async getJoinCoefficients(a,l){let{metadatas:d}=l;d=[...d];const p=await this.sortJoinEntries(a.entries.map((y,m)=>({...y,metadata:d[m]})),a.context);d=p.map(y=>y.metadata);const f=c.ActorRdfJoin.getRequestInitialTimes(d),h=c.ActorRdfJoin.getRequestItemTimes(d);return(0,u.passTestWithSideData)({iterations:d.reduce((y,m)=>y*m.cardinality.value,1),persistedItems:0,blockingItems:0,requestTime:d.reduce((y,m,b)=>y+f[b]+m.cardinality.value*h[b],0)},{...l,sortedEntries:p})}}e.ActorRdfJoinMultiSmallest=n},20358:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorInitQuery=void 0;const c=s(53638);typeof process>"u"&&(globalThis.process=s(65606));class o extends c.ActorInitQueryBase{}e.ActorInitQuery=o},20379:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(771),e)},20386:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.QuerySourceHypermedia=void 0;const c=s(20998),o=s(90711),u=s(75627),i=s(89096),r=s(19198),n=s(96331),t=s(10037),a=s(22573);e.QuerySourceHypermedia=class{constructor(l,d,p,f,h,y,m,b,v,_){this.referenceValue=d,this.cacheSize=l,this.firstUrl=d,this.forceSourceType=p,this.maxIterators=f,this.mediators=m,this.aggregateStore=h,this.emitPartialCardinalities=y,this.logWarning=b,this.dataFactory=v,this.bindingsFactory=_,this.sourcesState=new i.LRUCache({max:this.cacheSize})}async getSelectorShape(l){return(await this.getSourceCached({url:this.firstUrl},{},l,this.getAggregateStore(l))).source.getSelectorShape(l)}queryBindings(l,d,p){const f=this.getAggregateStore(d);if(f&&l.type==="pattern"&&f.started)return new c.QuerySourceRdfJs(f,d.getSafe(o.KeysInitQuery.dataFactory),this.bindingsFactory).queryBindings(l,d);this.sourcesState.size===0&&this.getSourceCached({url:this.firstUrl},{},d,f).catch(b=>m.destroy(b));const h=d.getSafe(o.KeysInitQuery.dataFactory),y=new n.Factory(h),m=new t.MediatedLinkedRdfSourcesAsyncRdfIterator(this.cacheSize,l,p,d,this.forceSourceType,this.firstUrl,this.maxIterators,(b,v)=>this.getSourceCached(b,v,d,f),f,this.mediators.mediatorMetadataAccumulate,this.mediators.mediatorRdfResolveHypermediaLinks,this.mediators.mediatorRdfResolveHypermediaLinksQueue,h,y);if(f){f.started=!0;const b=()=>m.kickstart();f.addIteratorCreatedListener(b),m.on("end",()=>f.removeIteratorCreatedListener(b))}return m}queryQuads(l,d){return new u.TransformIterator(async()=>(await this.getSourceCached({url:this.firstUrl},{},d,this.getAggregateStore(d))).source.queryQuads(l,d))}async queryBoolean(l,d){return await(await this.getSourceCached({url:this.firstUrl},{},d,this.getAggregateStore(d))).source.queryBoolean(l,d)}async queryVoid(l,d){return await(await this.getSourceCached({url:this.firstUrl},{},d,this.getAggregateStore(d))).source.queryVoid(l,d)}async getSource(l,d,p,f){l.context&&(p=p.merge(l.context));let h,y,m=l.url;if(this.forceSourceType==="sparql"&&p.get(o.KeysQueryOperation.querySources)?.length===1)h=new r.Readable,h.read=()=>null,{metadata:y}=await this.mediators.mediatorMetadataAccumulate.mediate({context:p,mode:"initialize"});else try{const _=await this.mediators.mediatorDereferenceRdf.mediate({context:p,url:m});m=_.url;const w=await this.mediators.mediatorMetadata.mediate({context:p,url:m,quads:_.data,triples:_.metadata?.triples});w.data.on("error",()=>{}),y=(await this.mediators.mediatorMetadataExtract.mediate({context:p,url:m,metadata:w.metadata,headers:_.headers,requestTime:_.requestTime})).metadata,h=w.data,l.transform&&(h=await l.transform(h))}catch(_){h=new r.Readable,h.read=()=>(setTimeout(()=>h.emit("error",_)),null),{metadata:y}=await this.mediators.mediatorMetadataAccumulate.mediate({context:p,mode:"initialize"}),this.logWarning(`Metadata extraction for ${m} failed: ${_.message}`)}f?.setBaseMetadata(y,!1),f?.containedSources.add(l.url),f?.import(h);const{source:b,dataset:v}=await this.mediators.mediatorQuerySourceIdentifyHypermedia.mediate({context:p,forceSourceType:l.url===this.firstUrl?this.forceSourceType:void 0,handledDatasets:d,metadata:y,quads:h,url:m});return v&&(d[v]=!0),{link:l,source:b,metadata:y,handledDatasets:d}}getSourceCached(l,d,p,f){let h=this.sourcesState.get(l.url);return h||(h=this.getSource(l,d,p,f),l.url!==this.firstUrl&&f!==void 0||this.sourcesState.set(l.url,h),h)}getAggregateStore(l){let d;if(this.aggregateStore){const p=l.get(o.KeysQuerySourceIdentify.hypermediaSourcesAggregatedStores);if(p)return d=p.get(this.firstUrl),d||(d=new a.StreamingStoreMetadata(void 0,async(f,h)=>(await this.mediators.mediatorMetadataAccumulate.mediate({mode:"append",accumulatedMetadata:f,appendingMetadata:h,context:l})).metadata,this.emitPartialCardinalities),p.set(this.firstUrl,d)),d}}toString(){return`QuerySourceHypermedia(${this.firstUrl})`}}},20405:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermMd5=void 0;const c=s(77617),o=s(77545),u=s(64826);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.SparqlOperator.MD5],termFunction:!0})}async run(n){return new u.TermFunctionMd5}}e.ActorFunctionFactoryTermMd5=i},20489:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(38020),e),o(s(60801),e)},20550:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ExpressionFunctionIf=void 0;const c=s(77617),o=s(77545);class u extends c.ExpressionFunctionBase{constructor(){super({arity:3,operator:o.SparqlOperator.IF,apply:async({args:r,mapping:n,exprEval:t})=>(await t.evaluatorExpressionEvaluation(r[0],n)).coerceEBV()?t.evaluatorExpressionEvaluation(r[1],n):t.evaluatorExpressionEvaluation(r[2],n)})}}e.ExpressionFunctionIf=u},20554:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(48904),e)},20578:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(42512),e)},20679:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryOperationFromQuad=void 0;const c=s(66490),o=s(90711),u=s(90412),i=s(96331);class r extends c.ActorQueryOperationTypedMediated{constructor(t){super(t,"from")}static copyOperation(t,a){const l={};for(const d of Object.keys(t))Array.isArray(t[d])&&d!=="template"?l[d]=d==="variables"?t[d]:t[d].map(a):r.ALGEBRA_TYPES.includes(t[d].type)?l[d]=a(t[d]):l[d]=t[d];return l}static applyOperationDefaultGraph(t,a,l){if(a.type==="bgp"&&a.patterns.length>0||a.type==="path"||a.type==="pattern"){if(a.type==="bgp")return r.joinOperations(t,a.patterns.map(p=>{if(p.graph.termType!=="DefaultGraph")return t.createBgp([p]);const f=l.map(h=>t.createBgp([Object.assign(t.createPattern(p.subject,p.predicate,p.object,h),{metadata:p.metadata})]));return r.unionOperations(t,f)}));if(a.graph.termType!=="DefaultGraph")return a;const d=l.map(p=>a.type==="path"?t.createPath(a.subject,a.predicate,a.object,p):Object.assign(t.createPattern(a.subject,a.predicate,a.object,p),{metadata:a.metadata}));return r.unionOperations(t,d)}return r.copyOperation(a,d=>this.applyOperationDefaultGraph(t,d,l))}static applyOperationNamedGraph(t,a,l,d){if(a.type==="bgp"&&a.patterns.length>0||a.type==="path"||a.type==="pattern"){const p=a.type==="bgp"?a.patterns[0].graph:a.graph;if(p.termType==="DefaultGraph")return{type:i.Algebra.types.BGP,patterns:[]};if(p.termType==="Variable"){if(l.length===1){const f=l[0],h={};h[`?${p.value}`]=f;const y=t.createValues([p],[h]);let m;return m=a.type==="bgp"?t.createBgp(a.patterns.map(b=>t.createPattern(b.subject,b.predicate,b.object,f))):a.type==="path"?t.createPath(a.subject,a.predicate,a.object,f):t.createPattern(a.subject,a.predicate,a.object,f),t.createJoin([y,m])}return r.unionOperations(t,l.map(f=>r.applyOperationNamedGraph(t,a,[f],d)))}return[...l,...d].some(f=>f.equals(p))?a:{type:i.Algebra.types.BGP,patterns:[]}}return r.copyOperation(a,p=>this.applyOperationNamedGraph(t,p,l,d))}static joinOperations(t,a){if(a.length===1)return a[0];if(a.length>1)return t.createJoin(a);throw new Error("A join can only be applied on at least one operation")}static unionOperations(t,a){if(a.length===1)return a[0];if(a.length>1)return t.createUnion(a);throw new Error("A union can only be applied on at least one operation")}static createOperation(t,a){let l=a.input;return a.default.length>0&&(l=r.applyOperationDefaultGraph(t,l,a.default)),(a.named.length>0||a.default.length>0)&&(l=r.applyOperationNamedGraph(t,l,a.named,a.default)),l}async testOperation(t,a){return(0,u.passTestVoid)()}async runOperation(t,a){const l=a.getSafe(o.KeysInitQuery.dataFactory),d=new i.Factory(l),p=r.createOperation(d,t);return this.mediatorQueryOperation.mediate({operation:p,context:a})}}e.ActorQueryOperationFromQuad=r,r.ALGEBRA_TYPES=Object.keys(i.Algebra.types).map(n=>i.Algebra.types[n])},20712:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryOperationValues=void 0;const c=s(66490),o=s(90711),u=s(90412),i=s(81926),r=s(99214),n=s(75627);class t extends c.ActorQueryOperationTyped{constructor(l){super(l,"values")}async testOperation(l,d){return(0,u.passTestVoid)()}async runOperation(l,d){const p=d.getSafe(o.KeysInitQuery.dataFactory),f=await i.BindingsFactory.create(this.mediatorMergeBindingsContext,d,p);return{type:"bindings",bindingsStream:new n.ArrayIterator(l.bindings.map(h=>f.bindings(Object.entries(h).map(([y,m])=>[p.variable(y.slice(1)),m])))),metadata:()=>Promise.resolve({state:new r.MetadataValidationState,cardinality:{type:"exact",value:l.bindings.length},variables:l.variables.map(h=>({variable:h,canBeUndef:l.bindings.some(y=>!(`?${h.value}`in y))}))})}}}e.ActorQueryOperationValues=t},20715:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.QuerySourceQpf=void 0;const c=s(559),o=s(90711),u=s(99214),i=s(75627),r=s(92951),n=s(46898),t=s(3285);function a(l){return l.termType==="DefaultGraph"?"|":(0,r.termToString)(l)}e.QuerySourceQpf=class{constructor(l,d,p,f,h,y,m,b,v,_,w,S,x,T){if(this.referenceValue=w,this.mediatorMetadata=l,this.mediatorMetadataExtract=d,this.mediatorDereferenceRdf=p,this.dataFactory=f,this.algebraFactory=h,this.bindingsFactory=y,this.subjectUri=m,this.predicateUri=b,this.objectUri=v,this.graphUri=_,this.url=w,this.bindingsRestricted=x,this.cachedQuads={},this.searchForm=this.getSearchForm(S),this.defaultGraph=S.defaultGraph?this.dataFactory.namedNode(S.defaultGraph):void 0,T){let O=(0,i.wrap)(T);this.defaultGraph&&(O=this.reverseMapQuadsToDefaultGraph(O)),S={...S,state:new u.MetadataValidationState},O.setProperty("metadata",S),this.cacheQuads(O,this.dataFactory.variable(""),this.dataFactory.variable(""),this.dataFactory.variable(""),this.dataFactory.variable(""))}this.selectorShape=this.bindingsRestricted?{type:"operation",operation:{operationType:"pattern",pattern:this.algebraFactory.createPattern(this.dataFactory.variable("s"),this.dataFactory.variable("p"),this.dataFactory.variable("o"),this.dataFactory.variable("g"))},variablesOptional:[this.dataFactory.variable("s"),this.dataFactory.variable("p"),this.dataFactory.variable("o"),this.dataFactory.variable("g")],filterBindings:!0}:{type:"operation",operation:{operationType:"pattern",pattern:this.algebraFactory.createPattern(this.dataFactory.variable("s"),this.dataFactory.variable("p"),this.dataFactory.variable("o"),this.dataFactory.variable("g"))},variablesOptional:[this.dataFactory.variable("s"),this.dataFactory.variable("p"),this.dataFactory.variable("o"),this.dataFactory.variable("g")]}}async getSelectorShape(){return this.selectorShape}queryBindings(l,d,p){if(l.type!=="pattern")throw new Error(`Attempted to pass non-pattern operation '${l.type}' to QuerySourceQpf`);const f=!!d.get(o.KeysQueryOperation.unionDefaultGraph);let h=this.match(l.subject,l.predicate,l.object,l.graph,f,d,p);return h=(0,c.filterMatchingQuotedQuads)(l,h),(0,c.quadsToBindings)(h,l,this.dataFactory,this.bindingsFactory,f)}getSearchForm(l){if(!l.searchForms||!l.searchForms.values)return;const{searchForms:d}=l;for(const p of d.values)if(this.graphUri&&this.subjectUri in p.mappings&&this.predicateUri in p.mappings&&this.objectUri in p.mappings&&this.graphUri in p.mappings&&Object.keys(p.mappings).length===4||this.subjectUri in p.mappings&&this.predicateUri in p.mappings&&this.objectUri in p.mappings&&Object.keys(p.mappings).length===3)return p}createFragmentUri(l,d,p,f,h){const y={},m=[{uri:this.subjectUri,term:d},{uri:this.predicateUri,term:p},{uri:this.objectUri,term:f},{uri:this.graphUri,term:h}];for(const b of m)b.uri&&(this.bindingsRestricted||b.term.termType!=="Variable"&&(b.term.termType!=="Quad"||(0,t.everyTermsNested)(b.term,v=>v.termType!=="Variable")))&&(y[b.uri]=(0,r.termToString)(b.term));return l.getUri(y)}match(l,d,p,f,h,y,m){let b=!1;if(f.termType==="DefaultGraph")if(this.defaultGraph)b=!0,f=this.defaultGraph;else if(Object.keys(this.searchForm.mappings).length!==4||this.defaultGraph)f=this.dataFactory.variable("g");else{if(!h){const S=new i.ArrayIterator([],{autoStart:!1});return S.setProperty("metadata",{state:new u.MetadataValidationState,requestTime:0,cardinality:{type:"exact",value:0},first:null,next:null,last:null}),S}f=this.dataFactory.variable("g")}if(!m?.filterBindings){const S=this.getCachedQuads(l,d,p,f);if(S)return S}const v=this;let _;const w=(async function(){let S=v.createFragmentUri(v.searchForm,l,d,p,f);m?.filterBindings&&(S=await v.getBindingsRestrictedLink(l,d,p,f,S,m.filterBindings));const x=await v.mediatorDereferenceRdf.mediate({context:y,url:S});S=x.url;const T=await v.mediatorMetadata.mediate({context:y,url:S,quads:x.data,triples:x.metadata?.triples}),{metadata:O}=await v.mediatorMetadataExtract.mediate({context:y,url:S,metadata:T.metadata,requestTime:x.requestTime});return _.setProperty("metadata",{...O,state:new u.MetadataValidationState,subsetOf:v.url}),T.data})();return _=new i.TransformIterator(async()=>{const S=await w,x=this.dataFactory.defaultGraph();let T=(0,i.wrap)(S).transform({filter:O=>!!(0,t.matchPattern)(O,l,d,p,f)||b&&(0,t.matchPattern)(O,l,d,p,x)});return(b||f.termType==="Variable")&&(T=this.reverseMapQuadsToDefaultGraph(T)),T},{autoStart:!1}),m?.filterBindings?_:(this.cacheQuads(_,l,d,p,f),this.getCachedQuads(l,d,p,f))}async getBindingsRestrictedLink(l,d,p,f,h,y){const m=[];for(const b of await y.bindings.toArray()){const v=["("];for(const _ of y.metadata.variables){const w=b.get(_.variable);v.push(w?(0,n.termToString)(w):"UNDEF"),v.push(" ")}v.push(")"),m.push(v.join(""))}return m.length===0&&m.push("(<ex:comunica:unknown>)"),`${h}&values=${encodeURIComponent(`(${y.metadata.variables.map(b=>`?${b.variable.value}`).join(" ")}) { ${m.join(" ")} }`)}`}reverseMapQuadsToDefaultGraph(l){const d=this.dataFactory.defaultGraph();return l.map(p=>(0,t.mapTerms)(p,(f,h)=>h==="graph"&&f.equals(this.defaultGraph)?d:f))}getPatternId(l,d,p,f){return JSON.stringify({s:l.termType==="Variable"?"":a(l),p:d.termType==="Variable"?"":a(d),o:p.termType==="Variable"?"":a(p),g:f.termType==="Variable"?"":a(f)})}cacheQuads(l,d,p,f,h){const y=this.getPatternId(d,p,f,h);this.cachedQuads[y]=l.clone()}getCachedQuads(l,d,p,f){const h=this.getPatternId(l,d,p,f),y=this.cachedQuads[h];if(y)return y.clone()}queryQuads(l,d){throw new Error("queryQuads is not implemented in QuerySourceQpf")}queryBoolean(l,d){throw new Error("queryBoolean is not implemented in QuerySourceQpf")}queryVoid(l,d){throw new Error("queryVoid is not implemented in QuerySourceQpf")}}},20811:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.termToString=e.stringToTerm=e.stringQuadToQuad=e.quadToStringQuad=e.getLiteralValue=e.getLiteralType=e.getLiteralLanguage=void 0;const c=s(89529);Object.defineProperty(e,"getLiteralLanguage",{enumerable:!0,get:function(){return c.getLiteralLanguage}}),Object.defineProperty(e,"getLiteralType",{enumerable:!0,get:function(){return c.getLiteralType}}),Object.defineProperty(e,"getLiteralValue",{enumerable:!0,get:function(){return c.getLiteralValue}}),Object.defineProperty(e,"quadToStringQuad",{enumerable:!0,get:function(){return c.quadToStringQuad}}),Object.defineProperty(e,"stringQuadToQuad",{enumerable:!0,get:function(){return c.stringQuadToQuad}}),Object.defineProperty(e,"stringToTerm",{enumerable:!0,get:function(){return c.stringToTerm}}),Object.defineProperty(e,"termToString",{enumerable:!0,get:function(){return c.termToString}})},20935:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorBindingsAggregatorFactorySum=void 0;const c=s(86581),o=s(90711),u=s(90412),i=s(77545),r=s(77866);class n extends c.ActorBindingsAggregatorFactory{constructor(a){super(a),this.mediatorFunctionFactory=a.mediatorFunctionFactory}async test(a){return a.expr.aggregator!=="sum"?(0,u.failTest)("This actor only supports the 'sum' aggregator."):(0,u.passTestVoid)()}async run({expr:a,context:l}){return new r.SumAggregator(await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:a.expression,context:l}),a.distinct,l.getSafe(o.KeysInitQuery.dataFactory),await this.mediatorFunctionFactory.mediate({functionName:i.SparqlOperator.ADDITION,context:l,requireTermExpression:!0}))}}e.ActorBindingsAggregatorFactorySum=n},20950:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfMetadataExtractHydraPagesize=void 0;const c=s(18412),o=s(90412);class u extends c.ActorRdfMetadataExtract{constructor(r){super(r)}async test(r){return(0,o.passTestVoid)()}async run(r){return new Promise((n,t)=>{r.metadata.on("error",t),r.metadata.on("data",a=>{this.predicates.includes(a.predicate.value)&&n({metadata:{pageSize:Number.parseInt(a.object.value,10)}})}),r.metadata.on("end",()=>{n({metadata:{}})})})}}e.ActorRdfMetadataExtractHydraPagesize=u},20998:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(37859),e),o(s(31994),e),o(s(70020),e)},21074:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Quad=void 0,e.Quad=class{constructor(s,c,o,u){this.termType="Quad",this.value="",this.subject=s,this.predicate=c,this.object=o,this.graph=u}equals(s){return!!s&&(s.termType==="Quad"||!s.termType)&&this.subject.equals(s.subject)&&this.predicate.equals(s.predicate)&&this.object.equals(s.object)&&this.graph.equals(s.graph)}}},21115:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionStrLang=void 0;const c=s(77617),o=s(77545);class u extends c.TermFunctionBase{constructor(){super({arity:2,operator:o.SparqlOperator.STRLANG,overloads:(0,o.declare)(o.SparqlOperator.STRLANG).onBinaryTyped([o.TypeURL.XSD_STRING,o.TypeURL.XSD_STRING],()=>(r,n)=>new o.LangStringLiteral(r,n.toLowerCase())).collect()})}}e.TermFunctionStrLang=u},21250:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SparqlXmlParser=void 0;const c=s(27473),o=s(55201),u=s(19198);class i{constructor(n){n=n||{},this.dataFactory=n.dataFactory||new c.DataFactory,this.prefixVariableQuestionMark=!!n.prefixVariableQuestionMark,this.parseUnsupportedVersions=!!n.parseUnsupportedVersions}isValidVersion(n){return this.parseUnsupportedVersions||i.SUPPORTED_VERSIONS.includes(n)}parseXmlResultsStream(n,t){const a=x=>S.emit("error",x);n.on("error",a);const l=new o.SaxesParser,d=[];let p=!1,f=!1;const h=[];let y,m={},b="",v="",_="",w=[];l.on("error",a),l.on("opentag",x=>{x.name==="variable"&&this.stackEquals(d,["sparql","head"])?h.push(this.dataFactory.variable(x.attributes.name)):x.name==="results"&&this.stackEquals(d,["sparql"])?f=!0:x.name==="result"&&this.stackEquals(d,["sparql","results"])?m={}:x.name==="binding"&&this.stackEquals(d,["sparql","results","result"])?(b=x.attributes.name||"",v="",y=void 0,_="",w=[]):x.name==="triple"&&this.stackBeginsWith(d,["sparql","results","result"])?w.push({components:{}}):d[d.length-1]==="triple"&&this.stackBeginsWith(d,["sparql","results","result","binding"])?(v="",y=void 0,_="",["subject","predicate","object"].includes(x.name)?w[w.length-1].currentComponent=x.name:a(new Error(`Illegal quoted triple component '${x.name}' found on line ${l.line+1}`))):this.stackBeginsWith(d,["sparql","results","result","binding"])?(v=x.name,y="xml:lang"in x.attributes?{language:x.attributes["xml:lang"],direction:x.attributes["its:dir"]}:"datatype"in x.attributes?this.dataFactory.namedNode(x.attributes.datatype):void 0):x.name==="sparql"&&x.attributes.version&&(this.isValidVersion(x.attributes.version)||S.emit("error",new Error(`Detected unsupported version: ${x.attributes.version}`)),S.emit("version",x.attributes.version)),d.push(x.name)}),l.on("closetag",x=>{if(this.stackEquals(d,["sparql","head"])&&(S.emit("variables",h),p=!0),this.stackEquals(d,["sparql","results","result"])&&S.push(m),this.stackBeginsWith(d,["sparql","results","result","binding"])){let T;if(!b&&v)a(new Error(`Terms should have a name on line ${l.line+1}`));else if(v==="uri")T=this.dataFactory.namedNode(_);else if(v==="bnode")T=this.dataFactory.blankNode(_);else if(v==="literal")T=this.dataFactory.literal(_,y);else if(d[d.length-1]==="triple"){const O=w.pop();O&&O.components.subject&&O.components.predicate&&O.components.object?T=this.dataFactory.quad(O.components.subject,O.components.predicate,O.components.object):a(new Error(`Incomplete quoted triple on line ${l.line+1}`))}else v&&a(new Error(`Invalid term type '${v}' on line ${l.line+1}`));if(T)if(w.length>0){const O=w[w.length-1];O.components[O.currentComponent]&&a(new Error(`The ${O.currentComponent} in a quoted triple on line ${l.line+1} was already defined before`)),O.components[O.currentComponent]=T}else{const O=this.prefixVariableQuestionMark?"?"+b:b;m[O]=T}v=void 0}d.pop()}),l.on("text",x=>{this.stackBeginsWith(d,["sparql","results","result","binding"])&&d[d.length-1]===v&&(_=x)});const S=n.on("end",x=>{f?p||S.emit("variables",[]):S.emit("error",new Error("No valid SPARQL query results were found."))}).pipe(new u.Transform({objectMode:!0,transform(x,T,O){l.write(x),O()}}));return t&&!this.isValidVersion(t)&&S.destroy(new Error(`Detected unsupported version as media type parameter: ${t}`)),S}parseXmlBooleanStream(n,t){return t&&!this.isValidVersion(t)?Promise.reject(new Error(`Detected unsupported version as media type parameter: ${t}`)):new Promise((a,l)=>{const d=new o.SaxesParser,p=[];d.on("error",l),d.on("opentag",f=>{p.push(f.name)}),d.on("closetag",f=>{p.pop()}),d.on("text",f=>{this.stackEquals(p,["sparql","boolean"])&&a(f==="true")}),n.on("error",l).on("data",f=>d.write(f)).on("end",()=>l(new Error("No valid ASK response was found.")))})}stackEquals(n,t){return n.length===t.length&&n.every((a,l)=>t[l]===a)}stackBeginsWith(n,t){return n.length>=t.length&&t.every((a,l)=>n[l]===a)}}e.SparqlXmlParser=i,i.SUPPORTED_VERSIONS=["1.2","1.2-basic","1.1"]},21451:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermDictionarySymbol=void 0;const c=s(28664),o=s(43347);e.TermDictionarySymbol=class{constructor(u=new c.DataFactory){this.features={quotedTriples:!1},this.dataFactory=u}encode(u){return Symbol.for(`rdf::${(0,o.termToString)(u)}`)}encodeOptional(u){return this.encode(u)}decode(u){const i=Symbol.keyFor(u);if(i===void 0)throw new Error(`The value ${String(u)} is not present in this dictionary`);return(0,o.stringToTerm)(i.slice(5),this.dataFactory)}encodings(){throw new Error("encodings is not supported")}findQuotedTriples(u){throw new Error("findQuotedTriples is not supported")}findQuotedTriplesEncoded(u){throw new Error("findQuotedTriplesEncoded is not supported")}}},21645:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQuerySourceIdentify=void 0;const c=s(90412);class o extends c.Actor{constructor(i){super(i)}}e.ActorQuerySourceIdentify=o},21806:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(17426),e),o(s(3898),e),o(s(28703),e)},21911:(g,e,s)=>{var c=s(67426),o=s(57766);function u(){if(!(this instanceof u))return new u;o.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}c.inherits(u,o),g.exports=u,u.blockSize=1024,u.outSize=384,u.hmacStrength=192,u.padLength=128,u.prototype._digest=function(i){return i==="hex"?c.toHex32(this.h.slice(0,12),"big"):c.split32(this.h.slice(0,12),"big")}},22361:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(29395),e)},22386:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerInvalidFallback=void 0,e.EntryHandlerInvalidFallback=class{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(s,c,o,u,i){return!1}async test(s,c,o,u,i){return!0}async handle(s,c,o,u,i,r){s.emittedStack[r]=!1}}},22437:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfResolveHypermediaLinksQueueFifo=void 0;const c=s(86074),o=s(90412),u=s(79081);class i extends c.ActorRdfResolveHypermediaLinksQueue{constructor(n){super(n)}async test(n){return(0,o.passTestVoid)()}async run(n){return{linkQueue:new u.LinkQueueFifo}}}e.ActorRdfResolveHypermediaLinksQueueFifo=i},22460:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(85181),e)},22517:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(function(s){return s.charCodeAt(0)}))},22545:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},22573:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.StreamingStoreMetadata=void 0;const c=s(4809),o=s(99214),u=s(18962);class i extends u.StreamingStore{constructor(n,t,a){super(n),this.started=!1,this.containedSources=new Set,this.runningIterators=new Set,this.iteratorCreatedListeners=new Set,this.baseMetadata={state:new o.MetadataValidationState,cardinality:{type:"exact",value:0},variables:[]},this.metadataAccumulator=t,this.emitPartialCardinalities=a}import(n){return this.ended||super.import(n),n}hasRunningIterators(){return this.runningIterators.size>0}match(n,t,a,l){const d=super.match(n,t,a,l),p=new c.ClosableTransformIterator(d,{autoStart:!1,onClose:()=>{this.runningIterators.delete(p)}});let f=this.getStore().countQuads(n,t,a,l);const h={state:new o.MetadataValidationState,cardinality:{type:"estimate",value:f}};p.setProperty("metadata",h),p.setProperty("lastCount",f),this.emitPartialCardinalities&&d.on("quad",()=>{p.setProperty("lastCount",++f),this.updateMetadataState(p,f)}),this.runningIterators.add(p);for(const y of this.iteratorCreatedListeners)y();return p}setBaseMetadata(n,t){if(this.baseMetadata={...n},this.baseMetadata.cardinality={type:"exact",value:0},t)for(const a of this.runningIterators){const l=a.getProperty("lastCount");this.updateMetadataState(a,l)}}updateMetadataState(n,t){const a={state:new o.MetadataValidationState,cardinality:{type:"estimate",value:t},variables:[]};this.metadataAccumulator(this.baseMetadata,a).then(l=>{l.state=new o.MetadataValidationState;const d=n.getProperty("metadata");n.setProperty("metadata",l),d?.state.invalidate()}).catch(()=>{})}addIteratorCreatedListener(n){this.iteratorCreatedListeners.add(n)}removeIteratorCreatedListener(n){this.iteratorCreatedListeners.delete(n)}}e.StreamingStoreMetadata=i},22719:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfMetadataExtractPatchSparqlUpdate=void 0;const c=s(18412),o=s(90412);class u extends c.ActorRdfMetadataExtract{constructor(r){super(r)}async test(r){return(0,o.passTestVoid)()}async run(r){const n={};return(r.headers?.get("accept-patch")?.includes("application/sparql-update")??r.headers?.get("ms-author-via")?.includes("SPARQL"))&&(n.patchSparqlUpdate=!0),{metadata:n}}}e.ActorRdfMetadataExtractPatchSparqlUpdate=u},22744:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(20679),e)},22829:(g,e)=>{function s(o,u,i,r){switch(o){case 0:return u&i^~u&r;case 1:case 3:return u^i^r;case 2:return u&i^u&r^i&r}}function c(o,u){return o<<u|o>>>32-u}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(o){const u=[1518500249,1859775393,2400959708,3395469782],i=[1732584193,4023233417,2562383102,271733878,3285377520],r=new Uint8Array(o.length+1);r.set(o),r[o.length]=128;const n=(o=r).length/4+2,t=Math.ceil(n/16),a=new Array(t);for(let l=0;l<t;++l){const d=new Uint32Array(16);for(let p=0;p<16;++p)d[p]=o[64*l+4*p]<<24|o[64*l+4*p+1]<<16|o[64*l+4*p+2]<<8|o[64*l+4*p+3];a[l]=d}a[t-1][14]=8*(o.length-1)/Math.pow(2,32),a[t-1][14]=Math.floor(a[t-1][14]),a[t-1][15]=8*(o.length-1)&4294967295;for(let l=0;l<t;++l){const d=new Uint32Array(80);for(let b=0;b<16;++b)d[b]=a[l][b];for(let b=16;b<80;++b)d[b]=c(d[b-3]^d[b-8]^d[b-14]^d[b-16],1);let p=i[0],f=i[1],h=i[2],y=i[3],m=i[4];for(let b=0;b<80;++b){const v=Math.floor(b/20),_=c(p,5)+s(v,f,h,y)+m+u[v]+d[b]>>>0;m=y,y=h,h=c(f,30)>>>0,f=p,p=_}i[0]=i[0]+p>>>0,i[1]=i[1]+f>>>0,i[2]=i[2]+h>>>0,i[3]=i[3]+y>>>0,i[4]=i[4]+m>>>0}return Uint8Array.of(i[0]>>24,i[0]>>16,i[0]>>8,i[0],i[1]>>24,i[1]>>16,i[1]>>8,i[1],i[2]>>24,i[2]>>16,i[2]>>8,i[2],i[3]>>24,i[3]>>16,i[3]>>8,i[3],i[4]>>24,i[4]>>16,i[4]>>8,i[4])}},22895:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermDictionaryQuoted=void 0;const c=s(28664),o=s(61758);class u{constructor(r,n,t=new c.DataFactory){this.features={quotedTriples:!0},this.plainTermDictionary=r,this.quotedTriplesDictionary=n,this.dataFactory=t}encode(r){return r.termType==="Quad"?u.BITMASK|1+this.quotedTriplesDictionary.encode(r):this.plainTermDictionary.encode(r)}encodeOptional(r){if(r.termType==="Quad"){const n=this.quotedTriplesDictionary.encodeOptional(r);return n===void 0?n:u.BITMASK|1+n}return this.plainTermDictionary.encodeOptional(r)}decode(r){if(u.BITMASK&r){const n=(~u.BITMASK&r)-1;return this.quotedTriplesDictionary.decode(n)}return this.plainTermDictionary.decode(r)}*encodings(){for(const r of this.plainTermDictionary.encodings())yield r;for(const r of this.quotedTriplesDictionary.encodings())yield u.BITMASK|1+r}*findQuotedTriples(r){for(const n of this.findQuotedTriplesEncoded(r))yield this.decode(n)}*findQuotedTriplesEncoded(r){for(let n of this.quotedTriplesDictionary.encodings()){n=u.BITMASK|1+n;const t=this.decode(n);(0,o.matchPattern)(t,r.subject,r.predicate,r.object,r.graph)&&(yield n)}}}e.TermDictionaryQuoted=u,u.BITMASK=1<<31},22910:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeValueHandlerBoolean=void 0;const c=s(55009);class o extends c.NodeValueHandlerAdapter{constructor(i,r){super("BooleanValue",i,r),this.datatype=this.util.dataFactory.namedNode("http://www.w3.org/2001/XMLSchema#boolean")}handle(i,r,n){return{terms:[this.util.dataFactory.literal(i.value?"true":"false",this.datatype)]}}}e.NodeValueHandlerBoolean=o},23038:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQuerySourceIdentifyHypermedia=void 0;const c=s(90412);class o extends c.Actor{constructor(i,r){super(i),this.sourceType=r}async test(i){return i.forceSourceType&&this.sourceType!==i.forceSourceType?(0,c.failTest)(`Actor ${this.name} is not able to handle source type ${i.forceSourceType}.`):this.testMetadata(i)}}e.ActorQuerySourceIdentifyHypermedia=o},23069:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorExpressionEvaluatorFactory=void 0;const c=s(90412);class o extends c.Actor{constructor(i){super(i),this.mediatorQueryOperation=i.mediatorQueryOperation,this.mediatorFunctionFactory=i.mediatorFunctionFactory,this.mediatorMergeBindingsContext=i.mediatorMergeBindingsContext}}e.ActorExpressionEvaluatorFactory=o},23111:(g,e,s)=>{let c=s(75627).AsyncIterator;g.exports=class extends c{constructor(o,u,i,r){super(),this.left=o,this.right=u,this.funHash=i,this.funJoin=r,this.usedLeft=!1,this.leftMap=new Map,this.rightMap=new Map,this.on("end",()=>this._cleanup()),this.match=null,this.matches=[],this.matchIdx=0,(this.left.readable||this.right.readable)&&(this.readable=!0),this.left.on("error",n=>this.destroy(n)),this.right.on("error",n=>this.destroy(n)),this.left.on("readable",()=>this.readable=!0),this.right.on("readable",()=>this.readable=!0),this.left.on("end",()=>{this.hasResults()||this._end()}),this.right.on("end",()=>{this.hasResults()||this._end()})}hasResults(){return!this.left.ended||!this.right.ended||!!this.matches&&this.matchIdx<this.matches.length}_cleanup(){this.leftMap=null,this.rightMap=null,this.matches=null}_end(){super._end(),this.left.destroy(),this.right.destroy()}read(){for(;;){if(this.ended)return null;for(;this.matchIdx<this.matches.length;){let i=this.matches[this.matchIdx++],r=this.usedLeft?this.funJoin(this.match,i):this.funJoin(i,this.match);if(r!==null)return r}this.hasResults()||this._end();let o=null;for(let i=0;i<2&&(o=this.usedLeft?this.right.read():this.left.read(),this.usedLeft=!this.usedLeft,o===null);++i);if(this.done||o===null)return this.readable=!1,null;let u=this.funHash(o);if(this.usedLeft&&this.right.done)this.leftMap=null;else if(this.left.done)this.rightMap=null;else{let i=this.usedLeft?this.leftMap:this.rightMap;i.has(u)||i.set(u,[]);let r=i.get(u);r||(r=[],i.set(u,r)),r.push(o)}this.match=o,this.matches=(this.usedLeft?this.rightMap:this.leftMap).get(u)||[],this.matchIdx=0}}}},23129:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermEquality=void 0;const c=s(77617),o=s(77545),u=s(60856);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.SparqlOperator.EQUAL],termFunction:!0})}async run(n){return new u.TermFunctionEquality}}e.ActorFunctionFactoryTermEquality=i},23200:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(13168),e)},23261:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DatasetCoreWrapper=void 0;const c=s(447);class o{constructor(i){this.store=i}get size(){return this.store.size}add(i){return this.store.addQuad(i),this}delete(i){return this.store.removeQuad(i),this}has(i){for(const r of this.store.readQuads(i.subject,i.predicate,i.object,i.graph))return!0;return!1}match(i,r,n,t){const a=new c.RdfStore(this.store.options);for(const l of this.store.readQuads(i,r,n,t))a.addQuad(l);return new o(a)}[Symbol.iterator](){return this.store.readQuads()}}e.DatasetCoreWrapper=o},23317:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Util=void 0;const c=s(42395);class o{static termToValue(i,r,n={compactIds:!1,useNativeTypes:!1}){switch(i.termType){case"NamedNode":const t=r.compactIri(i.value,n.vocab);return n.compactIds?t:{"@id":t};case"DefaultGraph":return n.compactIds?i.value:{"@id":i.value};case"BlankNode":const a=`_:${i.value}`;return n.compactIds?a:{"@id":a};case"Literal":if(i.datatype.value===o.RDF_JSON){let p;try{p=JSON.parse(i.value)}catch(f){throw new c.ErrorCoded("Invalid JSON literal: "+f.message,c.ERROR_CODES.INVALID_JSON_LITERAL)}return{"@value":p,"@type":"@json"}}if(n.rdfDirection==="i18n-datatype"&&i.datatype.value.startsWith(o.I18N)){const[p,f]=i.datatype.value.substr(o.I18N.length,i.datatype.value.length).split("_");return Object.assign(Object.assign({"@value":i.value},p?{"@language":p}:{}),f?{"@direction":f}:{})}const l=i.datatype.value===o.XSD_STRING,d={"@value":!l&&n.useNativeTypes?o.stringToNativeType(i.value,i.datatype.value):i.value};return i.language?Object.assign(Object.assign({},d),{"@language":i.language}):l||typeof d["@value"]!="string"?d:Object.assign(Object.assign({},d),{"@type":i.datatype.value})}}static stringToNativeType(i,r){if(r.startsWith(o.XSD))switch(r.substr(o.XSD.length)){case"boolean":if(i==="true")return!0;if(i==="false")return!1;throw new Error(`Invalid xsd:boolean value '${i}'`);case"integer":case"number":case"int":case"byte":case"long":const n=parseInt(i,10);if(isNaN(n))throw new Error(`Invalid xsd:integer value '${i}'`);return n;case"float":case"double":const t=parseFloat(i);if(isNaN(t))throw new Error(`Invalid xsd:float value '${i}'`);return t}return i}}e.Util=o,o.XSD="http://www.w3.org/2001/XMLSchema#",o.XSD_STRING=o.XSD+"string",o.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",o.RDF_TYPE=o.RDF+"type",o.RDF_JSON=o.RDF+"JSON",o.I18N="https://www.w3.org/ns/i18n#"},23585:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.termToString=o,e.getLiteralValue=u,e.getLiteralType=i,e.getLiteralLanguage=r,e.getLiteralDirection=n,e.stringToTerm=t,e.quadToStringQuad=function(a){return{subject:o(a.subject),predicate:o(a.predicate),object:o(a.object),graph:o(a.graph)}},e.stringQuadToQuad=function(a,l){return(l=l||c).quad(t(a.subject,l),t(a.predicate,l),t(a.object,l),t(a.graph,l))};const c=new(s(96019)).DataFactory;function o(a){if(a)switch(a.termType){case"NamedNode":case"DefaultGraph":return a.value;case"BlankNode":return"_:"+a.value;case"Literal":const l=a;return'"'+l.value+'"'+(l.datatype&&l.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&l.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"&&l.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#dirLangString"?"^^"+l.datatype.value:"")+(l.language?"@"+l.language:"")+(l.direction?"--"+l.direction:"");case"Quad":return`<<${o(a.subject)} ${o(a.predicate)} ${o(a.object)}${a.graph.termType==="DefaultGraph"?"":" "+o(a.graph)}>>`;case"Variable":return"?"+a.value}}function u(a){const l=/^"([^]*)"/.exec(a);if(!l)throw new Error(a+" is not a literal");return l[1]}function i(a){const l=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(a);if(!l)throw new Error(a+" is not a literal");return l[1]||(l[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}function r(a){const l=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(a);if(!l)throw new Error(a+" is not a literal");if(l[1]){let d=l[1].toLowerCase();const p=d.indexOf("--");return p>=0&&(d=d.slice(0,p)),d}return""}function n(a){const l=a.indexOf("--",a.lastIndexOf('"'));if(l>=0){const d=a.slice(l+2,a.length);if(d==="ltr"||d==="rtl")return d;throw new Error(a+" is not a literal with a valid direction")}return""}function t(a,l){if(l=l||c,!a||!a.length)return l.defaultGraph();switch(a[0]){case"_":return l.blankNode(a.substr(2));case"?":if(!l.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return l.variable(a.substr(1));case'"':const d=r(a),p=n(a),f=l.namedNode(i(a));return l.literal(u(a),d?{language:d,direction:p}:f);default:if(a[0]==="<"&&a.length>4&&a[1]==="<"&&a[a.length-1]===">"&&a[a.length-2]===">"){const h=a.slice(2,-2).trim();let y=[],m=0,b=0,v=!1;for(let _=0;_<h.length;_++){const w=h[_];if(w==="<"&&m++,w===">"){if(m===0)throw new Error("Found closing tag without opening tag in "+a);m--}if(w==='"'){let S=!1,x=_;for(;x-- >0&&h[x]==="\\";)S=!S;S||(v=!v)}if(w===" "&&!v&&m===0){for(y.push(h.slice(b,_));h[_+1]===" ";)_+=1;b=_+1}}if(m!==0)throw new Error("Found opening tag without closing tag in "+a);if(y.push(h.slice(b,h.length)),y.length!==3&&y.length!==4)throw new Error("Nested quad syntax error "+a);return y=y.map(_=>_.startsWith("<")&&!_.includes(" ")?_.slice(1,-1):_),l.quad(t(y[0]),t(y[1]),t(y[2]),y[3]?t(y[3]):void 0)}return l.namedNode(a)}}},23598:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PendingStreamsIndex=void 0;const c=s(43347),o=s(19356);class u{constructor(){this.indexedStreams=new Map,this.allStreams=[]}termToString(r){return r&&r.termType!=="Variable"?(0,c.termToString)(r):u.ID_VARIABLE}addPatternListener(r,n,t,a,l){this.allStreams.push(r);const d=`${this.termToString(n)}${u.ID_SEPARATOR}${this.termToString(t)}${u.ID_SEPARATOR}${this.termToString(a)}${u.ID_SEPARATOR}${this.termToString(l)}`;let p=this.indexedStreams.get(d);p||(p=[],this.indexedStreams.set(d,p)),p.push(r)}getPendingStreamsForQuad(r){let n=[(0,o.getTerms)(r).map(a=>(0,c.termToString)(a))];for(let a=0;a<o.QUAD_TERM_NAMES.length;a++){const l=n;n=[];for(const d of l){n.push(d);const p=[...d];p[a]=u.ID_VARIABLE,n.push(p)}}const t=[];for(const a of n){const l=this.indexedStreams.get(a.join(u.ID_SEPARATOR));l&&t.push(...l)}return t}}u.ID_VARIABLE="?",u.ID_SEPARATOR=":",e.PendingStreamsIndex=u},23610:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(26769),e)},23633:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TERM_TYPES=void 0,e.uniqTerms=function(u){const i={};return u.filter(r=>{const n=(0,c.termToString)(r);return!(n in i)&&(i[n]=!0)})},e.getTermsOfType=o,e.getNamedNodes=function(u){return o(u,"NamedNode")},e.getBlankNodes=function(u){return o(u,"BlankNode")},e.getLiterals=function(u){return o(u,"Literal")},e.getVariables=function(u){return o(u,"Variable")},e.getDefaultGraphs=function(u){return o(u,"DefaultGraph")},e.getQuads=function(u){return o(u,"Quad")};const c=s(43347);function o(u,i){return u.filter(r=>r.termType===i)}e.TERM_TYPES=["NamedNode","BlankNode","Literal","Variable","DefaultGraph","Quad"]},23637:g=>{class e{constructor(){return s||this}equals(o){return o&&this.termType===o.termType}}Object.defineProperty(e.prototype,"value",{enumerable:!0,value:"*"}),Object.defineProperty(e.prototype,"termType",{enumerable:!0,value:"Wildcard"});var s=new e;g.exports.Wildcard=e},23654:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(15541),e)},23686:(g,e,s)=>{function c(T){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},c(T)}function o(T,O){return(function(E){if(Array.isArray(E))return E})(T)||(function(E,R){var M=E==null?null:typeof Symbol<"u"&&E[Symbol.iterator]||E["@@iterator"];if(M!=null){var Q,X,V,H,U=[],k=!0,$=!1;try{if(V=(M=M.call(E)).next,R!==0)for(;!(k=(Q=V.call(M)).done)&&(U.push(Q.value),U.length!==R);k=!0);}catch(ae){$=!0,X=ae}finally{try{if(!k&&M.return!=null&&(H=M.return(),Object(H)!==H))return}finally{if($)throw X}}return U}})(T,O)||i(T,O)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function u(T,O){var E=typeof Symbol<"u"&&T[Symbol.iterator]||T["@@iterator"];if(!E){if(Array.isArray(T)||(E=i(T))||O){E&&(T=E);var R=0,M=function(){};return{s:M,n:function(){return R>=T.length?{done:!0}:{done:!1,value:T[R++]}},e:function(H){throw H},f:M}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Q,X=!0,V=!1;return{s:function(){E=E.call(T)},n:function(){var H=E.next();return X=H.done,H},e:function(H){V=!0,Q=H},f:function(){try{X||E.return==null||E.return()}finally{if(V)throw Q}}}}function i(T,O){if(T){if(typeof T=="string")return r(T,O);var E={}.toString.call(T).slice(8,-1);return E==="Object"&&T.constructor&&(E=T.constructor.name),E==="Map"||E==="Set"?Array.from(T):E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E)?r(T,O):void 0}}function r(T,O){(O==null||O>T.length)&&(O=T.length);for(var E=0,R=Array(O);E<O;E++)R[E]=T[E];return R}function n(){var T,O,E=typeof Symbol=="function"?Symbol:{},R=E.iterator||"@@iterator",M=E.toStringTag||"@@toStringTag";function Q(he,ye,I,j){var P=ye&&ye.prototype instanceof V?ye:V,L=Object.create(P.prototype);return t(L,"_invoke",(function(G,te,W){var ce,de,Se,ie=0,me=W||[],oe=!1,ve={p:0,n:0,v:T,a:xe,f:xe.bind(T,4),d:function(q,N){return ce=q,de=0,Se=T,ve.n=N,X}};function xe(q,N){for(de=q,Se=N,O=0;!oe&&ie&&!B&&O<me.length;O++){var B,J=me[O],ne=ve.p,re=J[2];q>3?(B=re===N)&&(Se=J[(de=J[4])?5:(de=3,3)],J[4]=J[5]=T):J[0]<=ne&&((B=q<2&&ne<J[1])?(de=0,ve.v=N,ve.n=J[1]):ne<re&&(B=q<3||J[0]>N||N>re)&&(J[4]=q,J[5]=N,ve.n=re,de=0))}if(B||q>1)return X;throw oe=!0,N}return function(q,N,B){if(ie>1)throw TypeError("Generator is already running");for(oe&&N===1&&xe(N,B),de=N,Se=B;(O=de<2?T:Se)||!oe;){ce||(de?de<3?(de>1&&(ve.n=-1),xe(de,Se)):ve.n=Se:ve.v=Se);try{if(ie=2,ce){if(de||(q="next"),O=ce[q]){if(!(O=O.call(ce,Se)))throw TypeError("iterator result is not an object");if(!O.done)return O;Se=O.value,de<2&&(de=0)}else de===1&&(O=ce.return)&&O.call(ce),de<2&&(Se=TypeError("The iterator does not provide a '"+q+"' method"),de=1);ce=T}else if((O=(oe=ve.n<0)?Se:G.call(te,ve))!==X)break}catch(J){ce=T,de=1,Se=J}finally{ie=1}}return{value:O,done:oe}}})(he,I,j),!0),L}var X={};function V(){}function H(){}function U(){}O=Object.getPrototypeOf;var k=[][R]?O(O([][R]())):(t(O={},R,function(){return this}),O),$=U.prototype=V.prototype=Object.create(k);function ae(he){return Object.setPrototypeOf?Object.setPrototypeOf(he,U):(he.__proto__=U,t(he,M,"GeneratorFunction")),he.prototype=Object.create($),he}return H.prototype=U,t($,"constructor",U),t(U,"constructor",H),H.displayName="GeneratorFunction",t(U,M,"GeneratorFunction"),t($),t($,M,"Generator"),t($,R,function(){return this}),t($,"toString",function(){return"[object Generator]"}),(n=function(){return{w:Q,m:ae}})()}function t(T,O,E,R){var M=Object.defineProperty;try{M({},"",{})}catch{M=0}t=function(Q,X,V,H){function U(k,$){t(Q,k,function(ae){return this._invoke(k,$,ae)})}X?M?M(Q,X,{value:V,enumerable:!H,configurable:!H,writable:!H}):Q[X]=V:(U("next",0),U("throw",1),U("return",2))},t(T,O,E,R)}function a(T,O,E,R,M,Q,X){try{var V=T[Q](X),H=V.value}catch(U){return void E(U)}V.done?O(H):Promise.resolve(H).then(R,M)}function l(T){return function(){var O=this,E=arguments;return new Promise(function(R,M){var Q=T.apply(O,E);function X(H){a(Q,R,M,X,V,"next",H)}function V(H){a(Q,R,M,X,V,"throw",H)}X(void 0)})}}function d(T,O){for(var E=0;E<O.length;E++){var R=O[E];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(T,p(R.key),R)}}function p(T){var O=(function(E){if(c(E)!="object"||!E)return E;var R=E[Symbol.toPrimitive];if(R!==void 0){var M=R.call(E,"string");if(c(M)!="object")return M;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(E)})(T);return c(O)=="symbol"?O:O+""}Object.defineProperty(e,"__esModule",{value:!0}),e.QuerySourceRaw=void 0;var f=s(90711),h=s(90412),y=s(99214),m=s(75627),b=s(92603),v=s(89096),_=s(96331),w=s(83101),S=s(95877),x=(function(){function T(X,V,H,U,k,$,ae,he,ye,I){var j=this;(function(P,L){if(!(P instanceof L))throw new TypeError("Cannot call a class as a function")})(this,T),this.referenceValue=X,this.url=X,this.context=V,this.mediatorHttp=H,this.bindMethod=U,this.dataFactory=k,this.algebraFactory=$,this.bindingsFactory=ae,this.endpointFetcher=new b.SparqlEndpointFetcher({method:he?"GET":"POST",fetch:function(P,L){return j.mediatorHttp.mediate({input:P,init:L,context:j.lastSourceContext})},defaultHeaders:this.context.get(new h.ActionContextKey("headers")),prefixVariableQuestionMark:!0,dataFactory:k}),this.cache=ye>0?new v.LRUCache({max:ye}):void 0,this.countTimeout=I}return O=T,E=[{key:"getSelectorShape",value:(Q=l(n().m(function X(){return n().w(function(V){for(;;)if(V.n===0)return V.a(2,T.SELECTOR_SHAPE)},X)})),function(){return Q.apply(this,arguments)})},{key:"queryBindings",value:function(X,V,H){var U,k=this;U=H!=null&&H.joinBindings?w.QuerySourceSparql.addBindingsToOperation(this.algebraFactory,this.bindMethod,X,H.joinBindings):Promise.resolve(X);var $=new m.TransformIterator(l(n().m(function ae(){var he,ye,I,j,P,L;return n().w(function(G){for(;;)switch(G.n){case 0:return G.n=1,U;case 1:return ye=G.v,I=_.Util.inScopeVariables(ye),j=V.get(f.KeysInitQuery.queryString),P=H!=null&&H.joinBindings||!j?ye.type===_.Algebra.types.PROJECT?w.QuerySourceSparql.operationToQuery(ye):w.QuerySourceSparql.operationToSelectQuery(k.algebraFactory,ye,I):j,L=w.QuerySourceSparql.getOperationUndefs(ye),(he=h.Actor.getContextLogger(V))===null||he===void 0||he.info(`Asking for:
`.concat(P)),G.a(2,k.queryBindingsRemote(ye,k.url,P,I,V,L))}},ae)})),{autoStart:!1});return this.attachMetadata($,V,U),$}},{key:"attachMetadata",value:function(X,V,H){var U=this,k=[];new Promise((function(){var $=l(n().m(function ae(he,ye){var I,j,P;return n().w(function(L){for(;;)switch(L.n){case 0:return L.n=1,H;case 1:return I=L.v,j=w.QuerySourceSparql.getOperationUndefs(I),P=_.Util.inScopeVariables(I),k=P.map(function(G){return{variable:G,canBeUndef:j.some(function(te){return te.equals(G)})}}),L.a(2,he(I))}},ae)}));return function(ae,he){return $.apply(this,arguments)}})()).then(function($){var ae=_.Util.inScopeVariables($),he=$.type===_.Algebra.types.PROJECT?w.QuerySourceSparql.operationToQuery($):w.QuerySourceSparql.operationToSelectQuery(U.algebraFactory,$,ae),ye={state:new y.MetadataValidationState,cardinality:{type:"estimate",value:Number.POSITIVE_INFINITY},variables:k,query:he};X.setProperty("metadata",ye),T.initializeLogger(V,$,he),V=V.set(f.KeysInitQuery.physicalQueryPlanNode,$)})}},{key:"queryBindingsRemote",value:(M=l(n().m(function X(V,H,U,k,$,ae){var he,ye,I,j,P,L,G=this;return n().w(function(te){for(;;)switch(te.n){case 0:T.updateStartTime($,V),he=new Set,ye=u(ae);try{for(ye.s();!(I=ye.n()).done;)j=I.value,he.add(j.value)}catch(W){ye.e(W)}finally{ye.f()}return this.lastSourceContext=this.context.merge($),te.n=1,this.endpointFetcher.fetchBindings(H,U);case 1:return P=te.v,this.lastSourceContext=void 0,L=(0,m.wrap)(P,{autoStart:!1,maxBufferSize:Number.POSITIVE_INFINITY}).map(function(W){var ce=L.getProperty("nbResults")||0;return L.setProperty("nbResults",ce+1),G.bindingsFactory.bindings(k.map(function(de){var Se,ie=W["?".concat(de.value)];return he.has(de.value)||ie||(Se=h.Actor.getContextLogger(G.context))===null||Se===void 0||Se.warn("The endpoint ".concat(H," failed to provide a binding for ").concat(de.value,".")),[de,ie]}).filter(function(de){var Se=o(de,2),ie=(Se[0],Se[1]);return!!ie}))}),te.a(2,L)}},X,this)})),function(X,V,H,U,k,$){return M.apply(this,arguments)})},{key:"queryQuads",value:function(X,V){throw new Error("queryQuads is not implemented in QuerySourceRaw.")}},{key:"queryBoolean",value:function(X,V){throw new Error("queryBoolean is not implemented in QuerySourceRaw.")}},{key:"queryVoid",value:function(X,V){throw new Error("queryVoid is not implemented in QuerySourceRaw.")}},{key:"toString",value:function(){return"QuerySourceRaw(".concat(this.url,")")}}],R=[{key:"initializeLogger",value:function(X,V,H){var U=X.get(f.KeysInitQuery.physicalQueryPlanLogger);if(U){var k={variables:_.Util.inScopeVariables(V).map(function($){return $.value}),query:H};U.logOperation(_.Algebra.types.SERVICE,void 0,V,X.get(f.KeysInitQuery.physicalQueryPlanNode),"raw",k)}}},{key:"updateStartTime",value:function(X,V){var H=X.get(f.KeysInitQuery.physicalQueryPlanLogger)||X.get(new h.ActionContextKey("physicalQueryPlanLogger"));H&&(V.startAt=Date.now(),H.appendMetadata(V,{startAt:V.startAt}))}},{key:"updateDoneTime",value:function(X,V){var H=X.get(f.KeysInitQuery.physicalQueryPlanLogger)||X.get(new h.ActionContextKey("physicalQueryPlanLogger"));H&&(V.doneAt=Date.now(),V.timeLife=V.doneAt-V.startAt,H.appendMetadata(V,{doneAt:V.doneAt}),H.appendMetadata(V,{timeLife:V.timeLife}))}},{key:"updateNbResults",value:function(X,V,H){var U=X.get(f.KeysInitQuery.physicalQueryPlanLogger)||X.get(new h.ActionContextKey("physicalQueryPlanLogger"));U&&(V.cardinalityReal=H,U.appendMetadata(V,{cardinalityReal:H}))}}],E&&d(O.prototype,E),R&&d(O,R),Object.defineProperty(O,"prototype",{writable:!1}),O;var O,E,R,M,Q})();e.QuerySourceRaw=x,x.SELECTOR_SHAPE=S.Shapes.ALL},23786:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.AverageAggregator=void 0;const c=s(86581),o=s(77545);class u extends c.AggregateEvaluator{constructor(r,n,t,a,l,d){super(r,n,d),this.dataFactory=t,this.additionFunction=a,this.divisionFunction=l,this.state=void 0}emptyValueTerm(){return o.typedLiteral("0",o.TypeURL.XSD_INTEGER)}putTerm(r){if(this.state===void 0){const n=this.termToNumericOrError(r);this.state={sum:n,count:1}}else{const n=this.termToNumericOrError(r);this.state.sum=this.additionFunction.applyOnTerms([this.state.sum,n],this.evaluator),this.state.count++}}termResult(){if(this.state===void 0)return this.emptyValue();const r=new o.IntegerLiteral(this.state.count);return this.divisionFunction.applyOnTerms([this.state.sum,r],this.evaluator).toRDF(this.dataFactory)}}e.AverageAggregator=u},23794:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(50311),e)},23809:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerKeywordContext=void 0;const c=s(42395),o=s(1548);class u extends o.EntryHandlerKeyword{constructor(){super("@context")}isStackProcessor(){return!1}async handle(r,n,t,a,l,d){r.streamingProfile&&(r.processingStack[d]||r.processingType[d]||r.idStack[d]!==void 0)&&r.emitError(new c.ErrorCoded("Found an out-of-order context, while streaming is enabled.(disable `streamingProfile`)",c.ERROR_CODES.INVALID_STREAMING_KEY_ORDER));const p=r.getContext(a),f=r.parseContext(l,(await p).getContextRaw());r.contextTree.setContext(a.slice(0,-1),f),r.emitContext(l),await r.validateContext(await f)}}e.EntryHandlerKeywordContext=u},23825:g=>{function e(a){this._options=a=a||{};var l=a.prefixes||{};this._prefixByIri={};var d=[];for(var p in l){var f=l[p];i(f)&&(this._prefixByIri[f]=p,d.push(f))}var h=d.join("|").replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&");this._prefixRegex=new RegExp("^("+h+")([a-zA-Z][\\-_a-zA-Z0-9]*)$"),this._usedPrefixes={},this._sparqlStar=a.sparqlStar,this._indent=i(a.indent)?a.indent:"  ",this._newline=i(a.newline)?a.newline:`
`,this._explicitDatatype=!!a.explicitDatatype}e.prototype.toQuery=function(a){var l="";return a.queryType&&(l+=a.queryType.toUpperCase()+" "),a.reduced&&(l+="REDUCED "),a.distinct&&(l+="DISTINCT "),a.variables?l+=t(a.variables,void 0,function(d){return/^[?$]/.test(d)?d:r(d)?this.toEntity(d):"("+this.toExpression(d.expression)+" AS "+u(d.variable)+")"},this)+" ":a.template&&(l+=this.group(a.template,!0)+this._newline),a.from&&(l+=this.graphs("FROM ",a.from.default)+this.graphs("FROM NAMED ",a.from.named)),a.where&&(l+="WHERE "+this.group(a.where,!0)+this._newline),a.updates&&(l+=t(a.updates,";"+this._newline,this.toUpdate,this)),a.group&&(l+="GROUP BY "+t(a.group,void 0,function(d){var p=r(d.expression)?this.toEntity(d.expression):"("+this.toExpression(d.expression)+")";return d.variable?"("+p+" AS "+u(d.variable)+")":p},this)+this._newline),a.having&&(l+="HAVING ("+t(a.having,void 0,this.toExpression,this)+")"+this._newline),a.order&&(l+="ORDER BY "+t(a.order,void 0,function(d){var p="("+this.toExpression(d.expression)+")";return d.descending?"DESC "+p:p},this)+this._newline),a.offset&&(l+="OFFSET "+a.offset+this._newline),a.limit&&(l+="LIMIT "+a.limit+this._newline),a.values&&(l+=this.values(a)),(l=this.baseAndPrefixes(a)+l).trim()},e.prototype.baseAndPrefixes=function(a){var l=a.base?"BASE <"+a.base+">"+this._newline:"",d="";for(var p in a.prefixes)(this._options.allPrefixes||this._usedPrefixes[p])&&(d+="PREFIX "+p+": <"+a.prefixes[p]+">"+this._newline);return l+d},e.prototype.toPattern=function(a){var l=a.type||a instanceof Array&&"array"||(a.subject&&a.predicate&&a.object?"triple":"");if(!(l in this))throw new Error("Unknown entry type: "+l);return this[l](a)},e.prototype.triple=function(a){return this.toEntity(a.subject)+" "+this.toEntity(a.predicate)+" "+this.toEntity(a.object)+"."},e.prototype.array=function(a){return t(a,this._newline,this.toPattern,this)},e.prototype.bgp=function(a){return this.encodeTriples(a.triples)},e.prototype.encodeTriples=function(a){if(!a.length)return"";for(var l=[],d=void 0,p=void 0,f=0;f<a.length;f++){var h=a[f];n(h.subject,d)?n(h.predicate,p)?l.push(","):(p=h.predicate,l.push(";"+this._newline,this._indent,this.toEntity(p))):(d&&l.push("."+this._newline),d=h.subject,p=h.predicate,l.push(this.toEntity(d)," ",this.toEntity(p))),l.push(" ",this.toEntity(h.object))}return l.push("."),l.join("")},e.prototype.graph=function(a){return"GRAPH "+this.toEntity(a.name)+" "+this.group(a)},e.prototype.graphs=function(a,l){return l&&l.length!==0?t(l,"",function(d){return a+this.toEntity(d)+this._newline},this):""},e.prototype.group=function(a,l){return(a=l!==!0?this.array(a.patterns||a.triples):this.toPattern(a.type!=="group"?a:a.patterns)).indexOf(this._newline)===-1?"{ "+a+" }":"{"+this._newline+this.indent(a)+this._newline+"}"},e.prototype.query=function(a){return this.toQuery(a)},e.prototype.filter=function(a){return"FILTER("+this.toExpression(a.expression)+")"},e.prototype.bind=function(a){return"BIND("+this.toExpression(a.expression)+" AS "+u(a.variable)+")"},e.prototype.optional=function(a){return"OPTIONAL "+this.group(a)},e.prototype.union=function(a){return t(a.patterns,this._newline+"UNION"+this._newline,function(l){return this.group(l,!0)},this)},e.prototype.minus=function(a){return"MINUS "+this.group(a)},e.prototype.values=function(a){var l,d,p=Object.keys(a.values.reduce(function(f,h){for(var y in h)f[y]=!0;return f},{}));return p.length===1?l=d="":(l="(",d=")"),"VALUES "+l+p.join(" ")+d+" {"+this._newline+t(a.values,this._newline,function(f){return"  "+l+t(p,void 0,function(h){return f[h]?this.toEntity(f[h]):"UNDEF"},this)+d},this)+this._newline+"}"},e.prototype.service=function(a){return"SERVICE "+(a.silent?"SILENT ":"")+this.toEntity(a.name)+" "+this.group(a)},e.prototype.toExpression=function(a){if(r(a))return this.toEntity(a);switch(a.type.toLowerCase()){case"aggregate":return a.aggregation.toUpperCase()+"("+(a.distinct?"DISTINCT ":"")+this.toExpression(a.expression)+(typeof a.separator=="string"?'; SEPARATOR = "'+a.separator.replace(s,c)+'"':"")+")";case"functioncall":return this.toEntity(a.function)+"("+t(a.args,", ",this.toExpression,this)+")";case"operation":var l=a.operator.toUpperCase(),d=a.args||[];switch(a.operator.toLowerCase()){case"<":case">":case">=":case"<=":case"&&":case"||":case"=":case"!=":case"+":case"-":case"*":case"/":return(r(d[0])?this.toEntity(d[0]):"("+this.toExpression(d[0])+")")+" "+l+" "+(r(d[1])?this.toEntity(d[1]):"("+this.toExpression(d[1])+")");case"!":return"!("+this.toExpression(d[0])+")";case"uplus":return"+("+this.toExpression(d[0])+")";case"uminus":return"-("+this.toExpression(d[0])+")";case"notin":l="NOT IN";case"in":return this.toExpression(d[0])+" "+l+"("+(i(d[1])?d[1]:t(d[1],", ",this.toExpression,this))+")";case"notexists":l="NOT EXISTS";case"exists":return l+" "+this.group(d[0],!0);default:return l+"("+t(d,", ",this.toExpression,this)+")"}default:throw new Error("Unknown expression type: "+a.type)}},e.prototype.toEntity=function(a){if(r(a))switch(a.termType){case"Wildcard":return"*";case"Variable":return u(a);case"BlankNode":return"_:"+a.value;case"Literal":var l=a.value||"",d=a.language||"",p=a.datatype;if(a='"'+l.replace(s,c)+'"',d)a+="@"+d;else if(p){if(!this._explicitDatatype)switch(p.value){case"http://www.w3.org/2001/XMLSchema#string":return a;case"http://www.w3.org/2001/XMLSchema#integer":if(/^\d+$/.test(l))return l+" "}a+="^^"+this.encodeIRI(p.value)}return a;case"Quad":if(!this._sparqlStar)throw new Error("SPARQL* support is not enabled");return a.graph&&a.graph.termType!=="DefaultGraph"?"<< GRAPH "+this.toEntity(a.graph)+" { "+this.toEntity(a.subject)+" "+this.toEntity(a.predicate)+" "+this.toEntity(a.object)+" }  >>":"<< "+this.toEntity(a.subject)+" "+this.toEntity(a.predicate)+" "+this.toEntity(a.object)+" >>";default:return this.encodeIRI(a.value)}else{var f=a.items.map(this.toEntity,this),h=a.pathType;switch(h){case"^":case"!":return h+f[0];case"*":case"+":case"?":return"("+f[0]+h+")";default:return"("+f.join(h)+")"}}};var s=/["\\\t\n\r\b\f]/g,c=function(a){return o[a]},o={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};function u(a){return"?"+a.value}function i(a){return typeof a=="string"}function r(a){return typeof a.termType=="string"}function n(a,l){if(!a||!r(a)||!l||!r(l)||a.termType!==l.termType)return!1;switch(a.termType){case"Literal":return a.value===l.value&&a.language===l.language&&n(a.datatype,l.datatype);case"Quad":return n(a.subject,l.subject)&&n(a.predicate,l.predicate)&&n(a.object,l.object)&&n(a.graph,l.graph);default:return a.value===l.value}}function t(a,l,d,p){return a.map(d,p).join(i(l)?l:" ")}e.prototype.encodeIRI=function(a){var l=this._prefixRegex.exec(a);if(l){var d=this._prefixByIri[l[1]];return this._usedPrefixes[d]=!0,d+":"+l[2]}return"<"+a+">"},e.prototype.toUpdate=function(a){switch(a.type||a.updateType){case"load":return"LOAD"+(a.source?" "+this.toEntity(a.source):"")+(a.destination?" INTO GRAPH "+this.toEntity(a.destination):"");case"insert":return"INSERT DATA "+this.group(a.insert,!0);case"delete":return"DELETE DATA "+this.group(a.delete,!0);case"deletewhere":return"DELETE WHERE "+this.group(a.delete,!0);case"insertdelete":return(a.graph?"WITH "+this.toEntity(a.graph)+this._newline:"")+(a.delete.length?"DELETE "+this.group(a.delete,!0)+this._newline:"")+(a.insert.length?"INSERT "+this.group(a.insert,!0)+this._newline:"")+(a.using?this.graphs("USING ",a.using.default):"")+(a.using?this.graphs("USING NAMED ",a.using.named):"")+"WHERE "+this.group(a.where,!0);case"add":case"copy":case"move":return a.type.toUpperCase()+" "+(a.silent?"SILENT ":"")+(a.source.default?"DEFAULT":this.toEntity(a.source.name))+" TO "+this.toEntity(a.destination.name);case"create":case"clear":case"drop":return a.type.toUpperCase()+(a.silent?" SILENT ":" ")+(a.graph.default?"DEFAULT":a.graph.named?"NAMED":a.graph.all?"ALL":"GRAPH "+this.toEntity(a.graph.name));default:throw new Error("Unknown update query type: "+a.type)}},e.prototype.indent=function(a){return a.replace(/^/gm,this._indent)},g.exports={Generator:function(a={}){return{stringify:function(l){var d=Object.create(a);return d.prefixes=l.prefixes,new e(d).toQuery(l)},createGenerator:function(){return new e(a)}}}}},24075:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionStrEnds=void 0;const c=s(77617),o=s(77545);class u extends c.TermFunctionBase{constructor(){super({arity:2,operator:o.SparqlOperator.STRENDS,overloads:(0,o.declare)(o.SparqlOperator.STRENDS).onBinaryTyped([o.TypeAlias.SPARQL_STRINGLY,o.TypeURL.XSD_STRING],()=>(r,n)=>(0,o.bool)(r.endsWith(n))).onBinary([o.TypeURL.RDF_LANG_STRING,o.TypeURL.RDF_LANG_STRING],()=>(r,n)=>{if(r.language!==n.language)throw new o.IncompatibleLanguageOperation(r,n);return(0,o.bool)(r.typedValue.endsWith(n.typedValue))}).collect()})}}e.TermFunctionStrEnds=u},24134:g=>{class e extends Error{constructor(c){if(!Array.isArray(c))throw new TypeError("Expected input to be an Array, got "+typeof c);let o="";for(let u=0;u<c.length;u++)o+=`    ${c[u].stack}
`;super(o),this.name="AggregateError",this.errors=c}}g.exports={AggregateError:e,ArrayIsArray:s=>Array.isArray(s),ArrayPrototypeIncludes:(s,c)=>s.includes(c),ArrayPrototypeIndexOf:(s,c)=>s.indexOf(c),ArrayPrototypeJoin:(s,c)=>s.join(c),ArrayPrototypeMap:(s,c)=>s.map(c),ArrayPrototypePop:(s,c)=>s.pop(c),ArrayPrototypePush:(s,c)=>s.push(c),ArrayPrototypeSlice:(s,c,o)=>s.slice(c,o),Error,FunctionPrototypeCall:(s,c,...o)=>s.call(c,...o),FunctionPrototypeSymbolHasInstance:(s,c)=>Function.prototype[Symbol.hasInstance].call(s,c),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(s,c)=>Object.defineProperties(s,c),ObjectDefineProperty:(s,c,o)=>Object.defineProperty(s,c,o),ObjectGetOwnPropertyDescriptor:(s,c)=>Object.getOwnPropertyDescriptor(s,c),ObjectKeys:s=>Object.keys(s),ObjectSetPrototypeOf:(s,c)=>Object.setPrototypeOf(s,c),Promise,PromisePrototypeCatch:(s,c)=>s.catch(c),PromisePrototypeThen:(s,c,o)=>s.then(c,o),PromiseReject:s=>Promise.reject(s),PromiseResolve:s=>Promise.resolve(s),ReflectApply:Reflect.apply,RegExpPrototypeTest:(s,c)=>s.test(c),SafeSet:Set,String,StringPrototypeSlice:(s,c,o)=>s.slice(c,o),StringPrototypeToLowerCase:s=>s.toLowerCase(),StringPrototypeToUpperCase:s=>s.toUpperCase(),StringPrototypeTrim:s=>s.trim(),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet:(s,c,o)=>s.set(c,o),Boolean,Uint8Array}},24148:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ContextParser=void 0,s(86547);const c=s(70742),o=s(44063),u=s(67726),i=s(97976),r=s(8486);class n{constructor(a){a=a||{},this.documentLoader=a.documentLoader||new u.FetchDocumentLoader,this.documentCache={},this.validateContext=!a.skipValidation,this.expandContentTypeToBase=!!a.expandContentTypeToBase,this.remoteContextsDepthLimit=a.remoteContextsDepthLimit||32,this.redirectSchemaOrgHttps=!("redirectSchemaOrgHttps"in a)||!!a.redirectSchemaOrgHttps}static validateLanguage(a,l,d){if(typeof a!="string")throw new o.ErrorCoded(`The value of an '@language' must be a string, got '${JSON.stringify(a)}'`,d);if(!r.Util.REGEX_LANGUAGE_TAG.test(a)){if(l)throw new o.ErrorCoded(`The value of an '@language' must be a valid language tag, got '${JSON.stringify(a)}'`,d);return!1}return!0}static validateDirection(a,l){if(typeof a!="string")throw new o.ErrorCoded(`The value of an '@direction' must be a string, got '${JSON.stringify(a)}'`,o.ERROR_CODES.INVALID_BASE_DIRECTION);if(!r.Util.REGEX_DIRECTION_TAG.test(a)){if(l)throw new o.ErrorCoded(`The value of an '@direction' must be 'ltr' or 'rtl', got '${JSON.stringify(a)}'`,o.ERROR_CODES.INVALID_BASE_DIRECTION);return!1}return!0}idifyReverseTerms(a){for(const l of Object.keys(a)){let d=a[l];if(d&&typeof d=="object"&&d["@reverse"]&&!d["@id"]){if(typeof d["@reverse"]!="string"||r.Util.isValidKeyword(d["@reverse"]))throw new o.ErrorCoded(`Invalid @reverse value, must be absolute IRI or blank node: '${d["@reverse"]}'`,o.ERROR_CODES.INVALID_IRI_MAPPING);d=a[l]=Object.assign(Object.assign({},d),{"@id":d["@reverse"]}),d["@id"]=d["@reverse"],r.Util.isPotentialKeyword(d["@reverse"])?delete d["@reverse"]:d["@reverse"]=!0}}return a}expandPrefixedTerms(a,l,d){const p=a.getContextRaw();for(const f of d||Object.keys(p))if(r.Util.EXPAND_KEYS_BLACKLIST.indexOf(f)<0&&!r.Util.isReservedInternalKeyword(f)){const h=p[f];if(r.Util.isPotentialKeyword(f)&&r.Util.ALIAS_DOMAIN_BLACKLIST.indexOf(f)>=0&&(f!=="@type"||typeof p[f]=="object"&&!p[f]["@protected"]&&p[f]["@container"]!=="@set"))throw new o.ErrorCoded(`Keywords can not be aliased to something else.
Tried mapping ${f} to ${JSON.stringify(h)}`,o.ERROR_CODES.KEYWORD_REDEFINITION);if(r.Util.ALIAS_RANGE_BLACKLIST.indexOf(r.Util.getContextValueId(h))>=0)throw new o.ErrorCoded(`Aliasing to certain keywords is not allowed.
Tried mapping ${f} to ${JSON.stringify(h)}`,o.ERROR_CODES.INVALID_KEYWORD_ALIAS);if(h&&r.Util.isPotentialKeyword(r.Util.getContextValueId(h))&&h["@prefix"]===!0)throw new o.ErrorCoded(`Tried to use keyword aliases as prefix: '${f}': '${JSON.stringify(h)}'`,o.ERROR_CODES.INVALID_TERM_DEFINITION);for(;r.Util.isPrefixValue(p[f]);){const y=p[f];let m=!1;if(typeof y=="string")p[f]=a.expandTerm(y,!0),m=m||y!==p[f];else{const b=y["@id"],v=y["@type"],_=!("@prefix"in y)||r.Util.isValidIri(f);if("@id"in y)b!=null&&typeof b=="string"&&(p[f]=Object.assign(Object.assign({},p[f]),{"@id":a.expandTerm(b,!0)}),m=m||b!==p[f]["@id"]);else if(!r.Util.isPotentialKeyword(f)&&_){const w=a.expandTerm(f,!0);w!==f&&(p[f]=Object.assign(Object.assign({},p[f]),{"@id":w}),m=!0)}if(v&&typeof v=="string"&&v!=="@vocab"&&(!y["@container"]||!y["@container"]["@type"])&&_){let w=a.expandTerm(v,!0);l&&v===w&&(w=a.expandTerm(v,!1)),w!==v&&(m=!0,p[f]=Object.assign(Object.assign({},p[f]),{"@type":w}))}}if(!m)break}}}normalize(a,{processingMode:l,normalizeLanguageTags:d}){if(d||l===1)for(const p of Object.keys(a))if(p==="@language"&&typeof a[p]=="string")a[p]=a[p].toLowerCase();else{const f=a[p];if(f&&typeof f=="object"&&typeof f["@language"]=="string"){const h=f["@language"].toLowerCase();h!==f["@language"]&&(a[p]=Object.assign(Object.assign({},f),{"@language":h}))}}}containersToHash(a){for(const l of Object.keys(a)){const d=a[l];if(d&&typeof d=="object"){if(typeof d["@container"]=="string")a[l]=Object.assign(Object.assign({},d),{"@container":{[d["@container"]]:!0}});else if(Array.isArray(d["@container"])){const p={};for(const f of d["@container"])p[f]=!0;a[l]=Object.assign(Object.assign({},d),{"@container":p})}}}}applyScopedProtected(a,{processingMode:l},d){if(l&&l>=1.1&&a["@protected"]){for(const p of Object.keys(a))if(!r.Util.isReservedInternalKeyword(p)&&!r.Util.isPotentialKeyword(p)&&!r.Util.isTermProtected(a,p)){const f=a[p];f&&typeof f=="object"?"@protected"in a[p]||(a[p]=Object.assign(Object.assign({},a[p]),{"@protected":!0})):(a[p]={"@id":f,"@protected":!0},r.Util.isSimpleTermDefinitionPrefix(f,d)&&(a[p]=Object.assign(Object.assign({},a[p]),{"@prefix":!0})))}delete a["@protected"]}}validateKeywordRedefinitions(a,l,d,p){for(const f of p??Object.keys(l))if(r.Util.isTermProtected(a,f)&&(typeof l[f]=="string"?l[f]={"@id":l[f],"@protected":!0}:l[f]=Object.assign(Object.assign({},l[f]),{"@protected":!0}),!r.Util.deepEqual(a[f],l[f])))throw new o.ErrorCoded(`Attempted to override the protected keyword ${f} from ${JSON.stringify(r.Util.getContextValueId(a[f]))} to ${JSON.stringify(r.Util.getContextValueId(l[f]))}`,o.ERROR_CODES.PROTECTED_TERM_REDEFINITION)}validate(a,{processingMode:l}){for(const d of Object.keys(a)){if(r.Util.isReservedInternalKeyword(d))continue;if(d==="")throw new o.ErrorCoded(`The empty term is not allowed, got: '${d}': '${JSON.stringify(a[d])}'`,o.ERROR_CODES.INVALID_TERM_DEFINITION);const p=a[d],f=typeof p;if(r.Util.isPotentialKeyword(d)){switch(d.substr(1)){case"vocab":if(p!==null&&f!=="string")throw new o.ErrorCoded(`Found an invalid @vocab IRI: ${p}`,o.ERROR_CODES.INVALID_VOCAB_MAPPING);break;case"base":if(p!==null&&f!=="string")throw new o.ErrorCoded(`Found an invalid @base IRI: ${a[d]}`,o.ERROR_CODES.INVALID_BASE_IRI);break;case"language":p!==null&&n.validateLanguage(p,!0,o.ERROR_CODES.INVALID_DEFAULT_LANGUAGE);break;case"version":if(p!==null&&f!=="number")throw new o.ErrorCoded(`Found an invalid @version number: ${p}`,o.ERROR_CODES.INVALID_VERSION_VALUE);break;case"direction":p!==null&&n.validateDirection(p,!0);break;case"propagate":if(l===1)throw new o.ErrorCoded(`Found an illegal @propagate keyword: ${p}`,o.ERROR_CODES.INVALID_CONTEXT_ENTRY);if(p!==null&&f!=="boolean")throw new o.ErrorCoded(`Found an invalid @propagate value: ${p}`,o.ERROR_CODES.INVALID_PROPAGATE_VALUE)}if(r.Util.isValidKeyword(d)&&r.Util.isValidKeyword(r.Util.getContextValueId(p)))throw new o.ErrorCoded(`Illegal keyword alias in term value, found: '${d}': '${r.Util.getContextValueId(p)}'`,o.ERROR_CODES.KEYWORD_REDEFINITION)}else if(p!==null)switch(f){case"string":if(r.Util.getPrefix(p,a)===d)throw new o.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${d}': '${JSON.stringify(p)}'`,o.ERROR_CODES.CYCLIC_IRI_MAPPING);if(r.Util.isValidIriWeak(d)){if(p==="@type")throw new o.ErrorCoded(`IRIs can not be mapped to @type, found: '${d}': '${p}'`,o.ERROR_CODES.INVALID_IRI_MAPPING);if(r.Util.isValidIri(p)&&p!==new i.JsonLdContextNormalized(a).expandTerm(d))throw new o.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${d}': '${p}'`,o.ERROR_CODES.INVALID_IRI_MAPPING)}break;case"object":if(!(r.Util.isCompactIri(d)||"@id"in p||(p["@type"]==="@id"?a["@base"]:a["@vocab"])))throw new o.ErrorCoded(`Missing @id in context entry: '${d}': '${JSON.stringify(p)}'`,o.ERROR_CODES.INVALID_IRI_MAPPING);for(const h of Object.keys(p)){const y=p[h];if(y)switch(h){case"@id":if(r.Util.isValidKeyword(y)&&y!=="@type"&&y!=="@id"&&y!=="@graph"&&y!=="@nest")throw new o.ErrorCoded(`Illegal keyword alias in term value, found: '${d}': '${JSON.stringify(p)}'`,o.ERROR_CODES.INVALID_IRI_MAPPING);if(r.Util.isValidIriWeak(d)){if(y==="@type")throw new o.ErrorCoded(`IRIs can not be mapped to @type, found: '${d}': '${JSON.stringify(p)}'`,o.ERROR_CODES.INVALID_IRI_MAPPING);if(r.Util.isValidIri(y)&&y!==new i.JsonLdContextNormalized(a).expandTerm(d))throw new o.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${d}': '${JSON.stringify(p)}'`,o.ERROR_CODES.INVALID_IRI_MAPPING)}if(typeof y!="string")throw new o.ErrorCoded(`Detected non-string @id in context entry: '${d}': '${JSON.stringify(p)}'`,o.ERROR_CODES.INVALID_IRI_MAPPING);if(r.Util.getPrefix(y,a)===d)throw new o.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${d}': '${JSON.stringify(p)}'`,o.ERROR_CODES.CYCLIC_IRI_MAPPING);break;case"@type":if(p["@container"]==="@type"&&y!=="@id"&&y!=="@vocab")throw new o.ErrorCoded(`@container: @type only allows @type: @id or @vocab, but got: '${d}': '${y}'`,o.ERROR_CODES.INVALID_TYPE_MAPPING);if(typeof y!="string")throw new o.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(f)}'`,o.ERROR_CODES.INVALID_TYPE_MAPPING);if(!(y==="@id"||y==="@vocab"||l!==1&&y==="@json"||l!==1&&y==="@none"||y[0]!=="_"&&r.Util.isValidIri(y)))throw new o.ErrorCoded(`A context @type must be an absolute IRI, found: '${d}': '${y}'`,o.ERROR_CODES.INVALID_TYPE_MAPPING);break;case"@reverse":if(typeof y=="string"&&p["@id"]&&p["@id"]!==y)throw new o.ErrorCoded(`Found non-matching @id and @reverse term values in '${d}':'${y}' and '${p["@id"]}'`,o.ERROR_CODES.INVALID_REVERSE_PROPERTY);if("@nest"in p)throw new o.ErrorCoded(`@nest is not allowed in the reverse property '${d}'`,o.ERROR_CODES.INVALID_REVERSE_PROPERTY);break;case"@container":if(l===1&&(Object.keys(y).length>1||r.Util.CONTAINERS_1_0.indexOf(Object.keys(y)[0])<0))throw new o.ErrorCoded(`Invalid term @container for '${d}' ('${Object.keys(y)}') in 1.0, must be only one of ${r.Util.CONTAINERS_1_0.join(", ")}`,o.ERROR_CODES.INVALID_CONTAINER_MAPPING);for(const m of Object.keys(y)){if(m==="@list"&&p["@reverse"])throw new o.ErrorCoded(`Term value can not be @container: @list and @reverse at the same time on '${d}'`,o.ERROR_CODES.INVALID_REVERSE_PROPERTY);if(r.Util.CONTAINERS.indexOf(m)<0)throw new o.ErrorCoded(`Invalid term @container for '${d}' ('${m}'), must be one of ${r.Util.CONTAINERS.join(", ")}`,o.ERROR_CODES.INVALID_CONTAINER_MAPPING)}break;case"@language":n.validateLanguage(y,!0,o.ERROR_CODES.INVALID_LANGUAGE_MAPPING);break;case"@direction":n.validateDirection(y,!0);break;case"@prefix":if(y!==null&&typeof y!="boolean")throw new o.ErrorCoded(`Found an invalid term @prefix boolean in: '${d}': '${JSON.stringify(p)}'`,o.ERROR_CODES.INVALID_PREFIX_VALUE);if(!("@id"in p)&&!r.Util.isValidIri(d))throw new o.ErrorCoded(`Invalid @prefix definition for '${d}' ('${JSON.stringify(p)}'`,o.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@index":if(l===1||!p["@container"]||!p["@container"]["@index"])throw new o.ErrorCoded(`Attempt to add illegal key to value object: '${d}': '${JSON.stringify(p)}'`,o.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@nest":if(r.Util.isPotentialKeyword(y)&&y!=="@nest")throw new o.ErrorCoded(`Found an invalid term @nest value in: '${d}': '${JSON.stringify(p)}'`,o.ERROR_CODES.INVALID_NEST_VALUE)}}break;default:throw new o.ErrorCoded(`Found an invalid term value: '${d}': '${p}'`,o.ERROR_CODES.INVALID_TERM_DEFINITION)}}}applyBaseEntry(a,l,d){return typeof a=="string"||(d&&!("@base"in a)&&l.parentContext&&typeof l.parentContext=="object"&&"@base"in l.parentContext&&(a["@base"]=l.parentContext["@base"],l.parentContext["@__baseDocument"]&&(a["@__baseDocument"]=!0)),l.baseIRI&&!l.external&&("@base"in a?a["@base"]===null||typeof a["@base"]!="string"||r.Util.isValidIri(a["@base"])||(a["@base"]=(0,c.resolve)(a["@base"],l.parentContext&&l.parentContext["@base"]||l.baseIRI)):(a["@base"]=l.baseIRI,a["@__baseDocument"]=!0))),a}normalizeContextIri(a,l){if(!r.Util.isValidIri(a))try{a=(0,c.resolve)(a,l)}catch{throw new Error(`Invalid context IRI: ${a}`)}return this.redirectSchemaOrgHttps&&a.startsWith("http://schema.org")&&(a="https://schema.org/"),a}async parseInnerContexts(a,l,d){for(const p of d??Object.keys(a)){const f=a[p];if(f&&typeof f=="object"&&"@context"in f&&f["@context"]!==null&&!l.ignoreScopedContexts){if(this.validateContext)try{const h=Object.assign(Object.assign({},a),{[p]:Object.assign({},a[p])});delete h[p]["@context"],await this.parse(f["@context"],Object.assign(Object.assign({},l),{external:!1,parentContext:h,ignoreProtection:!0,ignoreRemoteScopedContexts:!0,ignoreScopedContexts:!0}))}catch(h){throw new o.ErrorCoded(h.message,o.ERROR_CODES.INVALID_SCOPED_CONTEXT)}a[p]=Object.assign(Object.assign({},f),{"@context":(await this.parse(f["@context"],Object.assign(Object.assign({},l),{external:!1,minimalProcessing:!0,ignoreRemoteScopedContexts:!0,parentContext:a}))).getContextRaw()})}}return a}async parse(a,l={},d={}){const{baseIRI:p,parentContext:f,external:h,processingMode:y=n.DEFAULT_PROCESSING_MODE,normalizeLanguageTags:m,ignoreProtection:b,minimalProcessing:v}=l,_=l.remoteContexts||{};if(Object.keys(_).length>=this.remoteContextsDepthLimit)throw new o.ErrorCoded("Detected an overflow in remote context inclusions: "+Object.keys(_),o.ERROR_CODES.CONTEXT_OVERFLOW);if(a==null){if(!b&&f&&r.Util.hasProtectedTerms(f))throw new o.ErrorCoded("Illegal context nullification when terms are protected",o.ERROR_CODES.INVALID_CONTEXT_NULLIFICATION);return new i.JsonLdContextNormalized(this.applyBaseEntry({},l,!1))}if(typeof a=="string"){const w=this.normalizeContextIri(a,p),S=this.getOverriddenLoad(w,l);if(S)return new i.JsonLdContextNormalized(S);const x=await this.parse(await this.load(w),Object.assign(Object.assign({},l),{baseIRI:w,external:!0,remoteContexts:Object.assign(Object.assign({},_),{[w]:!0})}));return this.applyBaseEntry(x.getContextRaw(),l,!0),x}if(Array.isArray(a)){const w=[],S=await Promise.all(a.map((T,O)=>{if(typeof T=="string"){const E=this.normalizeContextIri(T,p);return w[O]=E,this.getOverriddenLoad(E,l)||this.load(E)}return T}));if(v)return new i.JsonLdContextNormalized(S);const x=await S.reduce((T,O,E)=>T.then(R=>this.parse(O,Object.assign(Object.assign({},l),{baseIRI:w[E]||l.baseIRI,external:!!w[E]||l.external,parentContext:R.getContextRaw(),remoteContexts:w[E]?Object.assign(Object.assign({},_),{[w[E]]:!0}):_}),{skipValidation:E<S.length-1})),Promise.resolve(new i.JsonLdContextNormalized(f||{})));return this.applyBaseEntry(x.getContextRaw(),l,!0),x}if(typeof a=="object"){if("@context"in a)return await this.parse(a["@context"],l);if(a=Object.assign({},a),h&&delete a["@base"],this.applyBaseEntry(a,l,!0),this.containersToHash(a),v)return new i.JsonLdContextNormalized(a);let w={};if("@import"in a){if(!(y>=1.1))throw new o.ErrorCoded("Context importing is not supported in JSON-LD 1.0",o.ERROR_CODES.INVALID_CONTEXT_ENTRY);if(typeof a["@import"]!="string")throw new o.ErrorCoded("An @import value must be a string, but got "+typeof a["@import"],o.ERROR_CODES.INVALID_IMPORT_VALUE);w=await this.loadImportContext(this.normalizeContextIri(a["@import"],p)),delete a["@import"]}this.applyScopedProtected(w,{processingMode:y},i.defaultExpandOptions);const S=Object.assign(w,a);this.idifyReverseTerms(S),this.normalize(S,{processingMode:y,normalizeLanguageTags:m}),this.applyScopedProtected(S,{processingMode:y},i.defaultExpandOptions);const x=Object.keys(S),T=[];if(typeof f=="object")for(const E in f)E in S?T.push(E):S[E]=f[E];await this.parseInnerContexts(S,l,x);const O=new i.JsonLdContextNormalized(S);return(S&&S["@version"]||n.DEFAULT_PROCESSING_MODE)>=1.1&&(a["@vocab"]&&typeof a["@vocab"]=="string"||a["@vocab"]==="")&&(f&&"@vocab"in f&&a["@vocab"].indexOf(":")<0?S["@vocab"]=f["@vocab"]+a["@vocab"]:(r.Util.isCompactIri(a["@vocab"])||a["@vocab"]in S)&&(S["@vocab"]=O.expandTerm(a["@vocab"],!0))),this.expandPrefixedTerms(O,this.expandContentTypeToBase,x),!b&&f&&y>=1.1&&this.validateKeywordRedefinitions(f,S,i.defaultExpandOptions,T),this.validateContext&&!d.skipValidation&&this.validate(S,{processingMode:y}),O}throw new o.ErrorCoded(`Tried parsing a context that is not a string, array or object, but got ${a}`,o.ERROR_CODES.INVALID_LOCAL_CONTEXT)}async load(a){const l=this.documentCache[a];if(l)return l;let d;try{d=await this.documentLoader.load(a)}catch(p){throw new o.ErrorCoded(`Failed to load remote context ${a}: ${p.message}`,o.ERROR_CODES.LOADING_REMOTE_CONTEXT_FAILED)}if(!("@context"in d))throw new o.ErrorCoded(`Missing @context in remote context at ${a}`,o.ERROR_CODES.INVALID_REMOTE_CONTEXT);return this.documentCache[a]=d["@context"]}getOverriddenLoad(a,l){if(a in(l.remoteContexts||{})){if(l.ignoreRemoteScopedContexts)return a;throw new o.ErrorCoded("Detected a cyclic context inclusion of "+a,o.ERROR_CODES.RECURSIVE_CONTEXT_INCLUSION)}return null}async loadImportContext(a){let l=await this.load(a);if(typeof l!="object"||Array.isArray(l))throw new o.ErrorCoded("An imported context must be a single object: "+a,o.ERROR_CODES.INVALID_REMOTE_CONTEXT);if("@import"in l)throw new o.ErrorCoded("An imported context can not import another context: "+a,o.ERROR_CODES.INVALID_CONTEXT_ENTRY);return l=Object.assign({},l),this.containersToHash(l),l}}n.DEFAULT_PROCESSING_MODE=1.1,e.ContextParser=n},24582:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfMetadataExtractHydraCount=void 0;const c=s(18412),o=s(90412);class u extends c.ActorRdfMetadataExtract{constructor(r){super(r)}async test(r){return(0,o.passTestVoid)()}run(r){return new Promise((n,t)=>{r.metadata.on("error",t),r.metadata.on("data",a=>{this.predicates.includes(a.predicate.value)&&n({metadata:{cardinality:{type:"estimate",value:Number.parseInt(a.object.value,10),dataset:a.subject.value}}})}),r.metadata.on("end",()=>{n({metadata:{cardinality:{type:"estimate",value:0}}})})})}}e.ActorRdfMetadataExtractHydraCount=u},24615:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(46271),e)},24690:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},24700:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(17569),e)},24713:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(74577),e)},24718:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(46342),e)},24742:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(39417),e)},24799:g=>{(function(){var e;function s(c,o){var u=this instanceof s?this:e;if(u.reset(o),typeof c=="string"&&c.length>0&&u.hash(c),u!==this)return u}s.prototype.hash=function(c){var o,u,i,r,n;switch(n=c.length,this.len+=n,u=this.k1,i=0,this.rem){case 0:u^=n>i?65535&c.charCodeAt(i++):0;case 1:u^=n>i?(65535&c.charCodeAt(i++))<<8:0;case 2:u^=n>i?(65535&c.charCodeAt(i++))<<16:0;case 3:u^=n>i?(255&c.charCodeAt(i))<<24:0,u^=n>i?(65280&c.charCodeAt(i++))>>8:0}if(this.rem=n+this.rem&3,(n-=this.rem)>0){for(o=this.h1;o=5*(o=(o^=u=13715*(u=(u=11601*u+3432906752*(65535&u)&4294967295)<<15|u>>>17)+461832192*(65535&u)&4294967295)<<13|o>>>19)+3864292196&4294967295,!(i>=n);)u=65535&c.charCodeAt(i++)^(65535&c.charCodeAt(i++))<<8^(65535&c.charCodeAt(i++))<<16,u^=(255&(r=c.charCodeAt(i++)))<<24^(65280&r)>>8;switch(u=0,this.rem){case 3:u^=(65535&c.charCodeAt(i+2))<<16;case 2:u^=(65535&c.charCodeAt(i+1))<<8;case 1:u^=65535&c.charCodeAt(i)}this.h1=o}return this.k1=u,this},s.prototype.result=function(){var c,o;return c=this.k1,o=this.h1,c>0&&(o^=c=13715*(c=(c=11601*c+3432906752*(65535&c)&4294967295)<<15|c>>>17)+461832192*(65535&c)&4294967295),o^=this.len,o=51819*(o^=o>>>16)+2246770688*(65535&o)&4294967295,o=44597*(o^=o>>>13)+3266445312*(65535&o)&4294967295,(o^=o>>>16)>>>0},s.prototype.reset=function(c){return this.h1=typeof c=="number"?c:0,this.rem=this.k1=this.len=0,this},e=new s,g.exports=s})()},24806:(g,e)=>{function s(u){const i=[];let r=0;for(;r<u.length;)switch(u[r]){case"/":if(u[r+1]===".")if(u[r+2]==="."){if(!o(u[r+3])){i.push([]),r++;break}i.pop(),u[r+3]||i.push([]),r+=3}else{if(!o(u[r+2])){i.push([]),r++;break}u[r+2]||i.push([]),r+=2}else i.push([]),r++;break;case"#":case"?":i.length||i.push([]),i[i.length-1].push(u.substr(r)),r=u.length;break;default:i.length||i.push([]),i[i.length-1].push(u[r]),r++}return"/"+i.map(n=>n.join("")).join("/")}function c(u,i){let r=i+1;i>=0?u[i+1]==="/"&&u[i+2]==="/"&&(r=i+3):u[0]==="/"&&u[1]==="/"&&(r=2);const n=u.indexOf("/",r);return n<0?u:u.substr(0,n)+s(u.substr(n))}function o(u){return!u||u==="#"||u==="?"||u==="/"}Object.defineProperty(e,"__esModule",{value:!0}),e.removeDotSegmentsOfPath=e.removeDotSegments=e.resolve=void 0,e.resolve=function(u,i){const r=(i=i||"").indexOf("#");if(r>0&&(i=i.substr(0,r)),!u.length){if(i.indexOf(":")<0)throw new Error(`Found invalid baseIRI '${i}' for value '${u}'`);return i}if(u.startsWith("?")){const f=i.indexOf("?");return f>0&&(i=i.substr(0,f)),i+u}if(u.startsWith("#"))return i+u;if(!i.length){const f=u.indexOf(":");if(f<0)throw new Error(`Found invalid relative IRI '${u}' for a missing baseIRI`);return c(u,f)}const n=u.indexOf(":");if(n>=0)return c(u,n);const t=i.indexOf(":");if(t<0)throw new Error(`Found invalid baseIRI '${i}' for value '${u}'`);const a=i.substr(0,t+1);if(u.indexOf("//")===0)return a+c(u,n);let l;if(i.indexOf("//",t)===t+1){if(l=i.indexOf("/",t+3),l<0)return i.length>t+3?i+"/"+c(u,n):a+c(u,n)}else if(l=i.indexOf("/",t+1),l<0)return a+c(u,n);if(u.indexOf("/")===0)return i.substr(0,l)+s(u);let d=i.substr(l);const p=d.lastIndexOf("/");return p>=0&&p<d.length-1&&(d=d.substr(0,p+1),u[0]==="."&&u[1]!=="."&&u[1]!=="/"&&u[2]&&(u=u.substr(1))),u=s(u=d+u),i.substr(0,l)+u},e.removeDotSegments=s,e.removeDotSegmentsOfPath=c},24910:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerKeywordNest=void 0;const c=s(42395),o=s(1548);class u extends o.EntryHandlerKeyword{constructor(){super("@nest")}async handle(r,n,t,a,l,d){typeof l!="object"&&r.emitError(new c.ErrorCoded(`Found invalid @nest entry for '${t}': '${l}'`,c.ERROR_CODES.INVALID_NEST_VALUE)),"@value"in await n.unaliasKeywords(l,a,d,await r.getContext(a))&&r.emitError(new c.ErrorCoded(`Found an invalid @value node for '${t}'`,c.ERROR_CODES.INVALID_NEST_VALUE)),r.emittedStack[d]=!1}}e.EntryHandlerKeywordNest=u},24960:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryProcessSequential=void 0;const c=s(59478),o=s(90711),u=s(90412),i=s(81926),r=s(67021),n=s(96331);class t extends c.ActorQueryProcess{constructor(l){super(l)}async test(l){return l.context.get(o.KeysInitQuery.explain)??l.context.get(new u.ActionContextKey("explain"))?(0,u.failTest)(`${this.name} is not able to explain queries.`):(0,u.passTestVoid)()}async run(l){let{operation:d,context:p}=await this.parse(l.query,l.context);return{operation:d,context:p}=await this.optimize(d,p),{result:await this.evaluate(d,p)}}async parse(l,d){let p;if(d=(await this.mediatorContextPreprocess.mediate({context:d,initialize:!0})).context,typeof l=="string"){const f=(d=d.set(o.KeysInitQuery.queryString,l)).get(o.KeysInitQuery.baseIRI),h=d.get(o.KeysInitQuery.queryFormat),y=await this.mediatorQueryParse.mediate({context:d,query:l,queryFormat:h,baseIRI:f});p=y.operation,y.baseIRI&&(d=d.set(o.KeysInitQuery.baseIRI,y.baseIRI))}else p=l;if(d.has(o.KeysInitQuery.initialBindings)){const f=d.getSafe(o.KeysInitQuery.dataFactory),h=new n.Factory(f),y=await i.BindingsFactory.create(this.mediatorMergeBindingsContext,d,f);p=(0,r.materializeOperation)(p,d.get(o.KeysInitQuery.initialBindings),h,y,{strictTargetVariables:!0}),d=d.delete(o.KeysInitQuery.queryString)}return{operation:p,context:d}}async optimize(l,d){return d=d.set(o.KeysInitQuery.query,l),{operation:l,context:d}=await this.mediatorOptimizeQueryOperation.mediate({context:d,operation:l}),{operation:l,context:d=d.set(o.KeysInitQuery.query,l)}}async evaluate(l,d){const p=await this.mediatorQueryOperation.mediate({context:d,operation:l});return p.context=d,p}}e.ActorQueryProcessSequential=t},25033:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(92015),e)},25337:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermLang=void 0;const c=s(77617),o=s(77545),u=s(41420);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.SparqlOperator.LANG],termFunction:!0})}async run(n){return new u.TermFunctionLang}}e.ActorFunctionFactoryTermLang=i},25445:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(82e3),e)},25462:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.termToString=e.stringToTerm=e.stringQuadToQuad=e.quadToStringQuad=e.getLiteralValue=e.getLiteralType=e.getLiteralLanguage=void 0;const c=s(34358);Object.defineProperty(e,"getLiteralLanguage",{enumerable:!0,get:function(){return c.getLiteralLanguage}}),Object.defineProperty(e,"getLiteralType",{enumerable:!0,get:function(){return c.getLiteralType}}),Object.defineProperty(e,"getLiteralValue",{enumerable:!0,get:function(){return c.getLiteralValue}}),Object.defineProperty(e,"quadToStringQuad",{enumerable:!0,get:function(){return c.quadToStringQuad}}),Object.defineProperty(e,"stringQuadToQuad",{enumerable:!0,get:function(){return c.stringQuadToQuad}}),Object.defineProperty(e,"stringToTerm",{enumerable:!0,get:function(){return c.stringToTerm}}),Object.defineProperty(e,"termToString",{enumerable:!0,get:function(){return c.termToString}})},25538:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorOptimizeQueryOperationConstructDistinct=void 0;const c=s(38912),o=s(19039),u=s(90412),i=s(96331);class r extends c.ActorOptimizeQueryOperation{constructor(t){super(t)}async test(t){return t.context.has(o.KeysInitQuery.distinctConstruct)?(0,u.passTestVoid)():(0,u.failTest)(`${this.name} was not enabled by the query.`)}async run(t){return{operation:i.Util.mapOperation(t.operation,{construct:(a,l)=>({recurse:!1,result:l.createDistinct(l.createConstruct(a.input,a.template))})}),context:t.context.delete(o.KeysInitQuery.distinctConstruct)}}}e.ActorOptimizeQueryOperationConstructDistinct=r},25568:g=>{const{AbortController:e,AbortSignal:s}=typeof self<"u"?self:typeof window<"u"?window:void 0;g.exports=e,g.exports.AbortSignal=s,g.exports.default=e},25579:(g,e,s)=>{const c=s(2044),o=s(4518),u=s(12391),i=s(23111),r=s(32106);g.exports={DynamicNestedLoopJoin:c,HashJoin:o,NestedLoopJoin:u,SymmetricHashJoin:i,MergeStream:r}},25614:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NamedNode=void 0,e.NamedNode=class{constructor(s){this.termType="NamedNode",this.value=s}equals(s){return!!s&&s.termType==="NamedNode"&&s.value===this.value}}},25828:(g,e,s)=>{s.d(e,{BaseIRI:()=>q,BlankNode:()=>O,DataFactory:()=>w,DefaultGraph:()=>R,EntityIndex:()=>qe,Lexer:()=>h,Literal:()=>T,NamedNode:()=>x,Parser:()=>I,Quad:()=>X,Reasoner:()=>it,Store:()=>Be,StoreFactory:()=>Te,StreamParser:()=>pt,StreamWriter:()=>mt,Term:()=>S,Triple:()=>X,Util:()=>c,Variable:()=>E,Writer:()=>we,default:()=>at,getRulesFromDataset:()=>Ke,termFromId:()=>M,termToId:()=>Q}),s.r(e);var c={};s.r(c),s.d(c,{inDefaultGraph:()=>Se,isBlankNode:()=>G,isDefaultGraph:()=>de,isLiteral:()=>te,isNamedNode:()=>L,isQuad:()=>ce,isVariable:()=>W,prefix:()=>ie,prefixes:()=>me});var o=s(48287);const u="http://www.w3.org/1999/02/22-rdf-syntax-ns#",i="http://www.w3.org/2001/XMLSchema#",r="http://www.w3.org/2000/10/swap/",n={xsd:{decimal:`${i}decimal`,boolean:`${i}boolean`,double:`${i}double`,integer:`${i}integer`,string:`${i}string`},rdf:{type:`${u}type`,nil:`${u}nil`,first:`${u}first`,rest:`${u}rest`,langString:`${u}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${r}reify#forSome`,forAll:`${r}reify#forAll`},log:{implies:`${r}log#implies`,isImpliedBy:`${r}log#isImpliedBy`}},{xsd:t}=n,a=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,l={"\\":"\\","'":"'",'"':'"',n:`
`,r:"\r",t:"	",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},d=/[\x00-\x20<>\\"\{\}\|\^\`]/,p={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},f=/$0^/;class h{constructor(F){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,F=F||{},this._isImpliedBy=F.isImpliedBy,this._lineMode=!!F.lineMode){this._n3Mode=!1;for(const Y in this)!(Y in p)&&this[Y]instanceof RegExp&&(this[Y]=f)}else this._n3Mode=F.n3!==!1;this.comments=!!F.comments,this._literalClosingPos=0}_tokenizeToEnd(F,Y){let ee=this._input,pe=ee.length;for(;;){let Ee,De;for(;Ee=this._newline.exec(ee);)this.comments&&(De=this._comment.exec(Ee[0]))&&Re("comment",De[1],"",this._line,Ee[0].length),ee=ee.substr(Ee[0].length,ee.length),pe=ee.length,this._line++;if(!Ee&&(Ee=this._whitespace.exec(ee))&&(ee=ee.substr(Ee[0].length,ee.length)),this._endOfFile.test(ee))return Y&&(this.comments&&(De=this._comment.exec(ee))&&Re("comment",De[1],"",this._line,ee.length),ee=null,Re("eof","","",this._line,0)),this._input=ee;const Ue=this._line,Ve=ee[0];let Ge="",Ze="",$e="",ze=null,ot=0,ht=!1;switch(Ve){case"^":if(ee.length<3)break;if(ee[1]!=="^"){this._n3Mode&&(ot=1,Ge="^");break}if(this._previousMarker="^^",ee=ee.substr(2),ee[0]!=="<"){ht=!0;break}case"<":if(ze=this._unescapedIri.exec(ee))Ge="IRI",Ze=ze[1];else if(ze=this._iri.exec(ee)){if(Ze=this._unescape(ze[1]),Ze===null||d.test(Ze))return Fe(this);Ge="IRI"}else ee.length>1&&ee[1]==="<"?(Ge="<<",ot=2):this._n3Mode&&ee.length>1&&ee[1]==="="&&(ot=2,this._isImpliedBy?(Ge="abbreviation",Ze="<"):(Ge="inverse",Ze=">"));break;case">":ee.length>1&&ee[1]===">"&&(Ge=">>",ot=2);break;case"_":((ze=this._blank.exec(ee))||Y&&(ze=this._blank.exec(`${ee} `)))&&(Ge="blank",$e="_",Ze=ze[1]);break;case'"':if(ze=this._simpleQuotedString.exec(ee))Ze=ze[1];else if({value:Ze,matchLength:ot}=this._parseLiteral(ee),Ze===null)return Fe(this);ze===null&&ot===0||(Ge="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(ze=this._simpleApostropheString.exec(ee))Ze=ze[1];else if({value:Ze,matchLength:ot}=this._parseLiteral(ee),Ze===null)return Fe(this);ze===null&&ot===0||(Ge="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(ze=this._variable.exec(ee))&&(Ge="var",Ze=ze[0]);break;case"@":this._previousMarker==="literal"&&(ze=this._langcode.exec(ee))?(Ge="langcode",Ze=ze[1]):(ze=this._keyword.exec(ee))&&(Ge=ze[0]);break;case".":if(ee.length===1?Y:ee[1]<"0"||ee[1]>"9"){Ge=".",ot=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(ze=this._number.exec(ee)||Y&&(ze=this._number.exec(`${ee} `)))&&(Ge="literal",Ze=ze[0],$e=typeof ze[1]=="string"?t.double:typeof ze[2]=="string"?t.decimal:t.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(ze=this._sparqlKeyword.exec(ee))?Ge=ze[0].toUpperCase():ht=!0;break;case"f":case"t":(ze=this._boolean.exec(ee))?(Ge="literal",Ze=ze[0],$e=t.boolean):ht=!0;break;case"a":(ze=this._shortPredicates.exec(ee))?(Ge="abbreviation",Ze="a"):ht=!0;break;case"=":this._n3Mode&&ee.length>1&&(Ge="abbreviation",ee[1]!==">"?(ot=1,Ze="="):(ot=2,Ze=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"}":this._lineMode||(ot=1,Ge=Ve);break;case"{":!this._lineMode&&ee.length>=2&&(ee[1]==="|"?(Ge="{|",ot=2):(Ge=Ve,ot=1));break;case"|":ee.length>=2&&ee[1]==="}"&&(Ge="|}",ot=2);break;default:ht=!0}if(ht&&(this._previousMarker!=="@prefix"&&this._previousMarker!=="PREFIX"||!(ze=this._prefix.exec(ee))?((ze=this._prefixed.exec(ee))||Y&&(ze=this._prefixed.exec(`${ee} `)))&&(Ge="prefixed",$e=ze[1]||"",Ze=this._unescape(ze[2])):(Ge="prefix",Ze=ze[1]||"")),this._previousMarker==="^^")switch(Ge){case"prefixed":Ge="type";break;case"IRI":Ge="typeIRI";break;default:Ge=""}if(!Ge)return Y||!/^'''|^"""/.test(ee)&&/\n|\r/.test(ee)?Fe(this):this._input=ee;const Ye=ot||ze[0].length,Dt=Re(Ge,Ze,$e,Ue,Ye);this.previousToken=Dt,this._previousMarker=Ge,ee=ee.substr(Ye,ee.length)}function Re(Ee,De,Ue,Ve,Ge){const Ze=ee?pe-ee.length:pe,$e={type:Ee,value:De,prefix:Ue,line:Ve,start:Ze,end:Ze+Ge};return F(null,$e),$e}function Fe(Ee){F(Ee._syntaxError(/^\S*/.exec(ee)[0]))}}_unescape(F){let Y=!1;const ee=F.replace(a,(pe,Re,Fe,Ee)=>{if(typeof Re=="string")return String.fromCharCode(Number.parseInt(Re,16));if(typeof Fe=="string"){let De=Number.parseInt(Fe,16);return De<=65535?String.fromCharCode(Number.parseInt(Fe,16)):String.fromCharCode(55296+((De-=65536)>>10),56320+(1023&De))}return Ee in l?l[Ee]:(Y=!0,"")});return Y?null:ee}_parseLiteral(F){if(F.length>=3){const Y=F.match(/^(?:"""|"|'''|'|)/)[0],ee=Y.length;let pe=Math.max(this._literalClosingPos,ee);for(;(pe=F.indexOf(Y,pe))>0;){let Re=0;for(;F[pe-Re-1]==="\\";)Re++;if(Re%2==0){const Fe=F.substring(ee,pe),Ee=Fe.split(/\r\n|\r|\n/).length-1,De=pe+ee;if(ee===1&&Ee!==0||ee===3&&this._lineMode)break;return this._line+=Ee,{value:this._unescape(Fe),matchLength:De}}pe++}this._literalClosingPos=F.length-ee+1}return{value:"",matchLength:0}}_syntaxError(F){this._input=null;const Y=new Error(`Unexpected "${F}" on line ${this._line}.`);return Y.context={token:void 0,line:this._line,previousToken:this.previousToken},Y}_readStartingBom(F){return F.startsWith("\uFEFF")?F.substr(1):F}tokenize(F,Y){if(this._line=1,typeof F=="string"){if(this._input=this._readStartingBom(F),typeof Y!="function"){const ee=[];let pe;if(this._tokenizeToEnd((Re,Fe)=>Re?pe=Re:ee.push(Fe),!0),pe)throw pe;return ee}queueMicrotask(()=>this._tokenizeToEnd(Y,!0))}else this._pendingBuffer=null,typeof F.setEncoding=="function"&&F.setEncoding("utf8"),F.on("data",ee=>{this._input!==null&&ee.length!==0&&(this._pendingBuffer&&(ee=o.Buffer.concat([this._pendingBuffer,ee]),this._pendingBuffer=null),128&ee[ee.length-1]?this._pendingBuffer=ee:(this._input===void 0?this._input=this._readStartingBom(typeof ee=="string"?ee:ee.toString()):this._input+=ee,this._tokenizeToEnd(Y,!1)))}),F.on("end",()=>{typeof this._input=="string"&&this._tokenizeToEnd(Y,!0)}),F.on("error",Y)}}const{rdf:y,xsd:m}=n;let b,v=0;const _={namedNode:V,blankNode:H,variable:k,literal:U,defaultGraph:function(){return b},quad:$,triple:$,fromTerm:ae,fromQuad:he},w=_;class S{constructor(F){this.id=F}get value(){return this.id}equals(F){return F instanceof S?this.id===F.id:!!F&&this.termType===F.termType&&this.value===F.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}}class x extends S{get termType(){return"NamedNode"}}class T extends S{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){const F=this.id;let Y=F.lastIndexOf('"')+1;return Y<F.length&&F[Y++]==="@"?F.substr(Y).toLowerCase():""}get datatype(){return new x(this.datatypeString)}get datatypeString(){const F=this.id,Y=F.lastIndexOf('"')+1,ee=Y<F.length?F[Y]:"";return ee==="^"?F.substr(Y+2):ee!=="@"?m.string:y.langString}equals(F){return F instanceof T?this.id===F.id:!!F&&!!F.datatype&&this.termType===F.termType&&this.value===F.value&&this.language===F.language&&this.datatype.value===F.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}}class O extends S{constructor(F){super(`_:${F}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}}class E extends S{constructor(F){super(`?${F}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}}class R extends S{constructor(){return super(""),b||this}get termType(){return"DefaultGraph"}equals(F){return this===F||!!F&&this.termType===F.termType}}function M(Ne,F,Y){if(F=F||_,!Ne)return F.defaultGraph();switch(Ne[0]){case"?":return F.variable(Ne.substr(1));case"_":return F.blankNode(Ne.substr(2));case'"':if(F===_)return new T(Ne);if(Ne[Ne.length-1]==='"')return F.literal(Ne.substr(1,Ne.length-2));const ee=Ne.lastIndexOf('"',Ne.length-1);return F.literal(Ne.substr(1,ee-1),Ne[ee+1]==="@"?Ne.substr(ee+2):F.namedNode(Ne.substr(ee+3)));case"[":Ne=JSON.parse(Ne);break;default:if(!Y||!Array.isArray(Ne))return F.namedNode(Ne)}return F.quad(M(Ne[0],F,!0),M(Ne[1],F,!0),M(Ne[2],F,!0),Ne[3]&&M(Ne[3],F,!0))}function Q(Ne,F){if(typeof Ne=="string")return Ne;if(Ne instanceof S&&Ne.termType!=="Quad")return Ne.id;if(!Ne)return b.id;switch(Ne.termType){case"NamedNode":return Ne.value;case"BlankNode":return`_:${Ne.value}`;case"Variable":return`?${Ne.value}`;case"DefaultGraph":return"";case"Literal":return`"${Ne.value}"${Ne.language?`@${Ne.language}`:Ne.datatype&&Ne.datatype.value!==m.string?`^^${Ne.datatype.value}`:""}`;case"Quad":const Y=[Q(Ne.subject,!0),Q(Ne.predicate,!0),Q(Ne.object,!0)];return Ne.graph&&Ne.graph.termType!=="DefaultGraph"&&Y.push(Q(Ne.graph,!0)),F?Y:JSON.stringify(Y);default:throw new Error(`Unexpected termType: ${Ne.termType}`)}}b=new R;class X extends S{constructor(F,Y,ee,pe){super(""),this._subject=F,this._predicate=Y,this._object=ee,this._graph=pe||b}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(F){return!!F&&this._subject.equals(F.subject)&&this._predicate.equals(F.predicate)&&this._object.equals(F.object)&&this._graph.equals(F.graph)}}function V(Ne){return new x(Ne)}function H(Ne){return new O(Ne||"n3-"+v++)}function U(Ne,F){if(typeof F=="string")return new T(`"${Ne}"@${F.toLowerCase()}`);let Y=F?F.value:"";return Y===""&&(typeof Ne=="boolean"?Y=m.boolean:typeof Ne=="number"&&(Number.isFinite(Ne)?Y=Number.isInteger(Ne)?m.integer:m.double:(Y=m.double,Number.isNaN(Ne)||(Ne=Ne>0?"INF":"-INF")))),Y===""||Y===m.string?new T(`"${Ne}"`):new T(`"${Ne}"^^${Y}`)}function k(Ne){return new E(Ne)}function $(Ne,F,Y,ee){return new X(Ne,F,Y,ee)}function ae(Ne){if(Ne instanceof S)return Ne;switch(Ne.termType){case"NamedNode":return V(Ne.value);case"BlankNode":return H(Ne.value);case"Variable":return k(Ne.value);case"DefaultGraph":return b;case"Literal":return U(Ne.value,Ne.language||Ne.datatype);case"Quad":return he(Ne);default:throw new Error(`Unexpected termType: ${Ne.termType}`)}}function he(Ne){if(Ne instanceof X)return Ne;if(Ne.termType!=="Quad")throw new Error(`Unexpected termType: ${Ne.termType}`);return $(ae(Ne.subject),ae(Ne.predicate),ae(Ne.object),ae(Ne.graph))}let ye=0;class I{constructor(F){this._contextStack=[],this._graph=null,F=F||{},this._setBase(F.baseIRI),F.factory&&P(this,F.factory);const Y=typeof F.format=="string"?F.format.match(/\w*$/)[0].toLowerCase():"",ee=/turtle/.test(Y),pe=/trig/.test(Y),Re=/triple/.test(Y),Fe=/quad/.test(Y),Ee=this._n3Mode=/n3/.test(Y),De=Re||Fe;(this._supportsNamedGraphs=!(ee||Ee))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(ee||pe||Re||Ee),this._isImpliedBy=F.isImpliedBy,this._supportsRDFStar=Y===""||/star|\*$/.test(Y),De&&(this._resolveRelativeIRI=Ue=>null),this._blankNodePrefix=typeof F.blankNodePrefix!="string"?"":F.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=F.lexer||new h({lineMode:De,n3:Ee,isImpliedBy:this._isImpliedBy}),this._explicitQuantifiers=!!F.explicitQuantifiers}static _resetBlankNodePrefix(){ye=0}_setBase(F){if(F){const Y=F.indexOf("#");Y>=0&&(F=F.substr(0,Y)),this._base=F,this._basePath=F.indexOf("/")<0?F:F.replace(/[^\/?]*(?:\?.*)?$/,""),F=F.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=F[0],this._baseScheme=F[1]}else this._base="",this._basePath=""}_saveContext(F,Y,ee,pe,Re){const Fe=this._n3Mode;this._contextStack.push({type:F,subject:ee,predicate:pe,object:Re,graph:Y,inverse:!!Fe&&this._inversePredicate,blankPrefix:Fe?this._prefixes._:"",quantified:Fe?this._quantified:null}),Fe&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.value}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(F,Y){const ee=this._contextStack.pop();if(!ee||ee.type!==F)return this._error(`Unexpected ${Y.type}`,Y);this._subject=ee.subject,this._predicate=ee.predicate,this._object=ee.object,this._graph=ee.graph,this._n3Mode&&(this._inversePredicate=ee.inverse,this._prefixes._=ee.blankPrefix,this._quantified=ee.quantified)}_readInTopContext(F){switch(F.type){case"eof":return this._graph!==null?this._error("Unclosed graph",F):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(F)}}_readEntity(F,Y){let ee;switch(F.type){case"IRI":case"typeIRI":const pe=this._resolveIRI(F.value);if(pe===null)return this._error("Invalid IRI",F);ee=this._factory.namedNode(pe);break;case"type":case"prefixed":const Re=this._prefixes[F.prefix];if(Re===void 0)return this._error(`Undefined prefix "${F.prefix}:"`,F);ee=this._factory.namedNode(Re+F.value);break;case"blank":ee=this._factory.blankNode(this._prefixes[F.prefix]+F.value);break;case"var":ee=this._factory.variable(F.value.substr(1));break;default:return this._error(`Expected entity but got ${F.type}`,F)}return!Y&&this._n3Mode&&ee.id in this._quantified&&(ee=this._quantified[ee.id]),ee}_readSubject(F){switch(this._predicate=null,F.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._factory.blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._factory.blankNode(),null,null),this._readSubject):this._error("Unexpected graph",F);case"}":return this._readPunctuation(F);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier="blankNode",this._readQuantifierList):this._error('Unexpected "@forSome"',F);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier="variable",this._readQuantifierList):this._error('Unexpected "@forAll"',F);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",F);if(F.prefix.length===0)return this._literalValue=F.value,this._completeSubjectLiteral;this._subject=this._factory.literal(F.value,this._factory.namedNode(F.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",F);default:if((this._subject=this._readEntity(F))===void 0)return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(F){const Y=F.type;switch(Y){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[F.value];break;case".":case"]":case"}":return this._predicate===null?this._error(`Unexpected ${Y}`,F):(this._subject=null,Y==="]"?this._readBlankNodeTail(F):this._readPunctuation(F));case";":return this._predicate!==null?this._readPredicate:this._error("Expected predicate but got ;",F);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._factory.blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",F);default:if((this._predicate=this._readEntity(F))===void 0)return}return this._readObject}_readObject(F){switch(F.type){case"literal":if(F.prefix.length===0)return this._literalValue=F.value,this._readDataTypeOrLang;this._object=this._factory.literal(F.value,this._factory.namedNode(F.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._factory.blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._factory.blankNode()),this._readSubject):this._error("Unexpected graph",F);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",F);default:if((this._object=this._readEntity(F))===void 0)return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(F){return F.type==="{"?this._readGraph(F):this._readPredicate(F)}_readGraph(F){return F.type!=="{"?this._error(`Expected graph but got ${F.type}`,F):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(F){return F.type==="]"?(this._subject=null,this._readBlankNodeTail(F)):(this._predicate=null,this._readPredicate(F))}_readBlankNodeTail(F){if(F.type!=="]")return this._readBlankNodePunctuation(F);this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph);const Y=this._predicate===null;return this._restoreContext("blank",F),this._object!==null?this._getContextEndReader():this._predicate!==null?this._readObject:Y?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(F){switch(F.type){case".":case"}":return this._subject=null,this._readPunctuation(F);default:return this._readPredicate(F)}}_readListItem(F){let Y=null,ee=null,pe=this._readListItem;const Re=this._subject,Fe=this._contextStack,Ee=Fe[Fe.length-1];switch(F.type){case"[":this._saveContext("blank",this._graph,ee=this._factory.blankNode(),this.RDF_FIRST,this._subject=Y=this._factory.blankNode()),pe=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,ee=this._factory.blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext("list",F),Fe.length!==0&&Fe[Fe.length-1].type==="list"&&this._emit(this._subject,this._predicate,this._object,this._graph),this._predicate===null){if(pe=this._readPredicate,this._subject===this.RDF_NIL)return pe}else if(pe=this._getContextEndReader(),this._object===this.RDF_NIL)return pe;ee=this.RDF_NIL;break;case"literal":F.prefix.length===0?(this._literalValue=F.value,pe=this._readListItemDataTypeOrLang):(Y=this._factory.literal(F.value,this._factory.namedNode(F.prefix)),pe=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._factory.blankNode()),this._readSubject):this._error("Unexpected graph",F);default:if((Y=this._readEntity(F))===void 0)return}if(ee===null&&(this._subject=ee=this._factory.blankNode()),Re===null?Ee.predicate===null?Ee.subject=ee:Ee.object=ee:this._emit(Re,this.RDF_REST,ee,this._graph),Y!==null){if(this._n3Mode&&(F.type==="IRI"||F.type==="prefixed"))return this._saveContext("item",this._graph,ee,this.RDF_FIRST,Y),this._subject=Y,this._predicate=null,this._getPathReader(this._readListItem);this._emit(ee,this.RDF_FIRST,Y,this._graph)}return pe}_readDataTypeOrLang(F){return this._completeObjectLiteral(F,!1)}_readListItemDataTypeOrLang(F){return this._completeObjectLiteral(F,!0)}_completeLiteral(F){let Y=this._factory.literal(this._literalValue);switch(F.type){case"type":case"typeIRI":const ee=this._readEntity(F);if(ee===void 0)return;Y=this._factory.literal(this._literalValue,ee),F=null;break;case"langcode":Y=this._factory.literal(this._literalValue,F.value),F=null}return{token:F,literal:Y}}_completeSubjectLiteral(F){return this._subject=this._completeLiteral(F).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(F,Y){const ee=this._completeLiteral(F);if(ee)return this._object=ee.literal,Y&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),ee.token===null?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(ee.token))}_readFormulaTail(F){return F.type!=="}"?this._readPunctuation(F):(this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext("formula",F),this._object===null?this._readPredicate:this._getContextEndReader())}_readPunctuation(F){let Y,ee=this._graph;const pe=this._subject,Re=this._inversePredicate;switch(F.type){case"}":if(this._graph===null)return this._error("Unexpected graph closing",F);if(this._n3Mode)return this._readFormulaTail(F);this._graph=null;case".":this._subject=null,Y=this._contextStack.length?this._readSubject:this._readInTopContext,Re&&(this._inversePredicate=!1);break;case";":Y=this._readPredicate;break;case",":Y=this._readObject;break;case"{|":if(!this._supportsRDFStar)return this._error("Unexpected RDF-star syntax",F);const Fe=this._predicate,Ee=this._object;this._subject=this._factory.quad(pe,Fe,Ee,this.DEFAULTGRAPH),Y=this._readPredicate;break;case"|}":if(this._subject.termType!=="Quad")return this._error("Unexpected asserted triple closing",F);this._subject=null,Y=this._readPunctuation;break;default:if(this._supportsQuads&&this._graph===null&&(ee=this._readEntity(F))!==void 0){Y=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,F)}if(pe!==null){const Fe=this._predicate,Ee=this._object;Re?this._emit(Ee,Fe,pe,ee):this._emit(pe,Fe,Ee,ee)}return Y}_readBlankNodePunctuation(F){let Y;switch(F.type){case";":Y=this._readPredicate;break;case",":Y=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,F)}return this._emit(this._subject,this._predicate,this._object,this._graph),Y}_readQuadPunctuation(F){return F.type!=="."?this._error("Expected dot to follow quad",F):this._readInTopContext}_readPrefix(F){return F.type!=="prefix"?this._error("Expected prefix to follow @prefix",F):(this._prefix=F.value,this._readPrefixIRI)}_readPrefixIRI(F){if(F.type!=="IRI")return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,F);const Y=this._readEntity(F);return this._prefixes[this._prefix]=Y.value,this._prefixCallback(this._prefix,Y),this._readDeclarationPunctuation}_readBaseIRI(F){const Y=F.type==="IRI"&&this._resolveIRI(F.value);return Y?(this._setBase(Y),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",F)}_readNamedGraphLabel(F){switch(F.type){case"IRI":case"blank":case"prefixed":return this._readSubject(F),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",F)}}_readNamedGraphBlankLabel(F){return F.type!=="]"?this._error("Invalid graph label",F):(this._subject=this._factory.blankNode(),this._readGraph)}_readDeclarationPunctuation(F){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(F)):F.type!=="."?this._error("Expected declaration to end with a dot",F):this._readInTopContext}_readQuantifierList(F){let Y;switch(F.type){case"IRI":case"prefixed":if((Y=this._readEntity(F,!0))!==void 0)break;default:return this._error(`Unexpected ${F.type}`,F)}return this._explicitQuantifiers?(this._subject===null?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._factory.blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._factory.blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,Y,this.QUANTIFIERS_GRAPH)):this._quantified[Y.id]=this._factory[this._quantifier](this._factory.blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(F){return F.type===","?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(F))}_getPathReader(F){return this._afterPath=F,this._readPath}_readPath(F){switch(F.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:const Y=this._contextStack,ee=Y.length&&Y[Y.length-1];if(ee&&ee.type==="item"){const pe=this._subject;this._restoreContext("item",F),this._emit(this._subject,this.RDF_FIRST,pe,this._graph)}return this._afterPath(F)}}_readForwardPath(F){let Y,ee;const pe=this._factory.blankNode();if((ee=this._readEntity(F))!==void 0)return this._predicate===null?(Y=this._subject,this._subject=pe):(Y=this._object,this._object=pe),this._emit(Y,ee,pe,this._graph),this._readPath}_readBackwardPath(F){const Y=this._factory.blankNode();let ee,pe;if((ee=this._readEntity(F))!==void 0)return this._predicate===null?(pe=this._subject,this._subject=Y):(pe=this._object,this._object=Y),this._emit(Y,ee,pe,this._graph),this._readPath}_readRDFStarTailOrGraph(F){return F.type!==">>"?this._supportsQuads&&this._graph===null&&(this._graph=this._readEntity(F))!==void 0?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,F):this._readRDFStarTail(F)}_readRDFStarTail(F){if(F.type!==">>")return this._error(`Expected >> but got ${F.type}`,F);const Y=this._factory.quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext("<<",F),this._subject===null?(this._subject=Y,this._readPredicate):(this._object=Y,this._getContextEndReader())}_getContextEndReader(){const F=this._contextStack;if(!F.length)return this._readPunctuation;switch(F[F.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(F,Y,ee,pe){this._callback(null,this._factory.quad(F,Y,ee,pe||this.DEFAULTGRAPH))}_error(F,Y){const ee=new Error(`${F} on line ${Y.line}.`);ee.context={token:Y,line:Y.line,previousToken:this._lexer.previousToken},this._callback(ee),this._callback=j}_resolveIRI(F){return/^[a-z][a-z0-9+.-]*:/i.test(F)?F:this._resolveRelativeIRI(F)}_resolveRelativeIRI(F){if(!F.length)return this._base;switch(F[0]){case"#":return this._base+F;case"?":return this._base.replace(/(?:\?.*)?$/,F);case"/":return(F[1]==="/"?this._baseScheme:this._baseRoot)+this._removeDotSegments(F);default:return/^[^/:]*:/.test(F)?null:this._removeDotSegments(this._basePath+F)}}_removeDotSegments(F){if(!/(^|\/)\.\.?($|[/#?])/.test(F))return F;const Y=F.length;let ee="",pe=-1,Re=-1,Fe=0,Ee="/";for(;pe<Y;){switch(Ee){case":":if(Re<0&&F[++pe]==="/"&&F[++pe]==="/")for(;(Re=pe+1)<Y&&F[Re]!=="/";)pe=Re;break;case"?":case"#":pe=Y;break;case"/":if(F[pe+1]===".")switch(Ee=F[1+ ++pe],Ee){case"/":ee+=F.substring(Fe,pe-1),Fe=pe+1;break;case void 0:case"?":case"#":return ee+F.substring(Fe,pe)+F.substr(pe+1);case".":if(Ee=F[1+ ++pe],Ee===void 0||Ee==="/"||Ee==="?"||Ee==="#"){if(ee+=F.substring(Fe,pe-2),(Fe=ee.lastIndexOf("/"))>=Re&&(ee=ee.substr(0,Fe)),Ee!=="/")return`${ee}/${F.substr(pe+1)}`;Fe=pe+1}}}Ee=F[++pe]}return ee+F.substring(Fe)}parse(F,Y,ee){let pe,Re,Fe;if(Y&&(Y.onQuad||Y.onPrefix||Y.onComment)?(pe=Y.onQuad,Re=Y.onPrefix,Fe=Y.onComment):(pe=Y,Re=ee),this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${ye++}_`,this._prefixCallback=Re||j,this._inversePredicate=!1,this._quantified=Object.create(null),!pe){const De=[];let Ue;if(this._callback=(Ve,Ge)=>{Ve?Ue=Ve:Ge&&De.push(Ge)},this._lexer.tokenize(F).every(Ve=>this._readCallback=this._readCallback(Ve)),Ue)throw Ue;return De}let Ee=(De,Ue)=>{De!==null?(this._callback(De),this._callback=j):this._readCallback&&(this._readCallback=this._readCallback(Ue))};Fe&&(this._lexer.comments=!0,Ee=(De,Ue)=>{De!==null?(this._callback(De),this._callback=j):this._readCallback&&(Ue.type==="comment"?Fe(Ue.value):this._readCallback=this._readCallback(Ue))}),this._callback=pe,this._lexer.tokenize(F,Ee)}}function j(){}function P(Ne,F){Ne._factory=F,Ne.DEFAULTGRAPH=F.defaultGraph(),Ne.RDF_FIRST=F.namedNode(n.rdf.first),Ne.RDF_REST=F.namedNode(n.rdf.rest),Ne.RDF_NIL=F.namedNode(n.rdf.nil),Ne.N3_FORALL=F.namedNode(n.r.forAll),Ne.N3_FORSOME=F.namedNode(n.r.forSome),Ne.ABBREVIATIONS={a:F.namedNode(n.rdf.type),"=":F.namedNode(n.owl.sameAs),">":F.namedNode(n.log.implies),"<":F.namedNode(n.log.isImpliedBy)},Ne.QUANTIFIERS_GRAPH=F.namedNode("urn:n3:quantifiers")}function L(Ne){return!!Ne&&Ne.termType==="NamedNode"}function G(Ne){return!!Ne&&Ne.termType==="BlankNode"}function te(Ne){return!!Ne&&Ne.termType==="Literal"}function W(Ne){return!!Ne&&Ne.termType==="Variable"}function ce(Ne){return!!Ne&&Ne.termType==="Quad"}function de(Ne){return!!Ne&&Ne.termType==="DefaultGraph"}function Se(Ne){return de(Ne.graph)}function ie(Ne,F){return me({"":Ne.value||Ne},F)("")}function me(Ne,F){const Y=Object.create(null);for(const pe in Ne)ee(pe,Ne[pe]);function ee(pe,Re){if(typeof Re=="string"){const Fe=Object.create(null);Y[pe]=Ee=>Fe[Ee]||(Fe[Ee]=F.namedNode(Re+Ee))}else if(!(pe in Y))throw new Error(`Unknown prefix: ${pe}`);return Y[pe]}return F=F||w,ee}function oe(Ne){return Ne.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&")}P(I.prototype,w);const ve=/^:?[^:?#]*(?:[?#]|$)|^file:|^[^:]*:\/*[^?#]+?\/(?:\.\.?(?:\/|$)|\/)/i,xe=/^(?:(?:[^/?#]{3,}|\.?[^/?#.]\.?)(?:\/[^/?#]{3,}|\.?[^/?#.]\.?)*\/?)?(?:[?#]|$)/;class q{constructor(F){this.base=F,this._baseLength=0,this._baseMatcher=null,this._pathReplacements=new Array(F.length+1)}static supports(F){return!ve.test(F)}_getBaseMatcher(){if(this._baseMatcher)return this._baseMatcher;if(!q.supports(this.base))return this._baseMatcher=/.^/;const F=/^[^:]*:\/*/.exec(this.base)[0],Y=["^",oe(F)],ee=[],pe=[],Re=/[^/?#]*([/?#])/y;let Fe,Ee=0,De=0,Ue=Re.lastIndex=F.length;for(;!Ee&&!De&&(Fe=Re.exec(this.base));)Fe[1]==="#"?De=Re.lastIndex-1:(Y.push(oe(Fe[0]),"(?:"),ee.push(")?"),Fe[1]!=="?"?pe.push(Ue=Re.lastIndex):(Ee=Ue=Re.lastIndex,De=this.base.indexOf("#",Ee),this._pathReplacements[Ee]="?"));for(let Ve=0;Ve<pe.length;Ve++)this._pathReplacements[pe[Ve]]="../".repeat(pe.length-Ve-1);return this._pathReplacements[pe[pe.length-1]]="./",this._baseLength=De>0?De:this.base.length,Y.push(oe(this.base.substring(Ue,this._baseLength)),Ee?"(?:#|$)":"(?:[?#]|$)"),this._baseMatcher=new RegExp([...Y,...ee].join(""))}toRelative(F){const Y=this._getBaseMatcher().exec(F);if(!Y)return F;const ee=Y[0].length;if(ee===this._baseLength&&ee===F.length)return"";const pe=this._pathReplacements[ee];if(pe){const Re=F.substring(ee);return pe==="?"||xe.test(Re)?pe==="./"&&/^[^?#]/.test(Re)?Re:pe+Re:F}return F.substring(ee-1)}}const N=w.defaultGraph(),{rdf:B,xsd:J}=n,ne=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,re=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,fe={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};class _e extends S{equals(F){return F===this}}class we{constructor(F,Y){if(this._prefixRegex=/$0^/,F&&typeof F.write!="function"&&(Y=F,F=null),Y=Y||{},this._lists=Y.lists,F)this._outputStream=F,this._endStream=Y.end===void 0||!!Y.end;else{let ee="";this._outputStream={write(pe,Re,Fe){ee+=pe,Fe&&Fe()},end:pe=>{pe&&pe(null,ee)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(Y.format)?(this._lineMode=!0,this._writeQuad=this._writeQuadLine):(this._lineMode=!1,this._graph=N,this._prefixIRIs=Object.create(null),Y.prefixes&&this.addPrefixes(Y.prefixes),Y.baseIRI&&(this._baseIri=new q(Y.baseIRI)))}get _inDefaultGraph(){return N.equals(this._graph)}_write(F,Y){this._outputStream.write(F,"utf8",Y)}_writeQuad(F,Y,ee,pe,Re){try{pe.equals(this._graph)||(this._write((this._subject===null?"":this._inDefaultGraph?`.
`:`
}
`)+(N.equals(pe)?"":`${this._encodeIriOrBlank(pe)} {
`)),this._graph=pe,this._subject=null),F.equals(this._subject)?Y.equals(this._predicate)?this._write(`, ${this._encodeObject(ee)}`,Re):this._write(`;
    ${this._encodePredicate(this._predicate=Y)} ${this._encodeObject(ee)}`,Re):this._write(`${(this._subject===null?"":`.
`)+this._encodeSubject(this._subject=F)} ${this._encodePredicate(this._predicate=Y)} ${this._encodeObject(ee)}`,Re)}catch(Fe){Re&&Re(Fe)}}_writeQuadLine(F,Y,ee,pe,Re){delete this._prefixMatch,this._write(this.quadToString(F,Y,ee,pe),Re)}quadToString(F,Y,ee,pe){return`${this._encodeSubject(F)} ${this._encodeIriOrBlank(Y)} ${this._encodeObject(ee)}${pe&&pe.value?` ${this._encodeIriOrBlank(pe)} .
`:` .
`}`}quadsToString(F){let Y="";for(const ee of F)Y+=this.quadToString(ee.subject,ee.predicate,ee.object,ee.graph);return Y}_encodeSubject(F){return F.termType==="Quad"?this._encodeQuad(F):this._encodeIriOrBlank(F)}_encodeIriOrBlank(F){if(F.termType!=="NamedNode")return this._lists&&F.value in this._lists&&(F=this.list(this._lists[F.value])),"id"in F?F.id:`_:${F.value}`;let Y=F.value;this._baseIri&&(Y=this._baseIri.toRelative(Y)),ne.test(Y)&&(Y=Y.replace(re,Pe));const ee=this._prefixRegex.exec(Y);return ee?ee[1]?this._prefixIRIs[ee[1]]+ee[2]:Y:`<${Y}>`}_encodeLiteral(F){let Y=F.value;if(ne.test(Y)&&(Y=Y.replace(re,Pe)),F.language)return`"${Y}"@${F.language}`;if(this._lineMode){if(F.datatype.value===J.string)return`"${Y}"`}else switch(F.datatype.value){case J.string:return`"${Y}"`;case J.boolean:if(Y==="true"||Y==="false")return Y;break;case J.integer:if(/^[+-]?\d+$/.test(Y))return Y;break;case J.decimal:if(/^[+-]?\d*\.\d+$/.test(Y))return Y;break;case J.double:if(/^[+-]?(?:\d+\.\d*|\.?\d+)[eE][+-]?\d+$/.test(Y))return Y}return`"${Y}"^^${this._encodeIriOrBlank(F.datatype)}`}_encodePredicate(F){return F.value===B.type?"a":this._encodeIriOrBlank(F)}_encodeObject(F){switch(F.termType){case"Quad":return this._encodeQuad(F);case"Literal":return this._encodeLiteral(F);default:return this._encodeIriOrBlank(F)}}_encodeQuad({subject:F,predicate:Y,object:ee,graph:pe}){return`<<${this._encodeSubject(F)} ${this._encodePredicate(Y)} ${this._encodeObject(ee)}${de(pe)?"":` ${this._encodeIriOrBlank(pe)}`}>>`}_blockedWrite(){throw new Error("Cannot write because the writer has been closed.")}addQuad(F,Y,ee,pe,Re){ee===void 0?this._writeQuad(F.subject,F.predicate,F.object,F.graph,Y):typeof pe=="function"?this._writeQuad(F,Y,ee,N,pe):this._writeQuad(F,Y,ee,pe||N,Re)}addQuads(F){for(let Y=0;Y<F.length;Y++)this.addQuad(F[Y])}addPrefix(F,Y,ee){const pe={};pe[F]=Y,this.addPrefixes(pe,ee)}addPrefixes(F,Y){if(!this._prefixIRIs)return Y&&Y();let ee=!1;for(let pe in F){let Re=F[pe];typeof Re!="string"&&(Re=Re.value),ee=!0,this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null,this._graph=""),this._prefixIRIs[Re]=pe+=":",this._write(`@prefix ${pe} <${Re}>.
`)}if(ee){let pe="",Re="";for(const Fe in this._prefixIRIs)pe+=pe?`|${Fe}`:Fe,Re+=(Re?"|":"")+this._prefixIRIs[Fe];pe=oe(pe),this._prefixRegex=new RegExp(`^(?:${Re})[^/]*$|^(${pe})([_a-zA-Z0-9][\\-_a-zA-Z0-9]*)$`)}this._write(ee?`
`:"",Y)}blank(F,Y){let ee,pe,Re=F;switch(F===void 0?Re=[]:F.termType?Re=[{predicate:F,object:Y}]:"length"in F||(Re=[F]),pe=Re.length){case 0:return new _e("[]");case 1:if(ee=Re[0],!(ee.object instanceof _e))return new _e(`[ ${this._encodePredicate(ee.predicate)} ${this._encodeObject(ee.object)} ]`);default:let Fe="[";for(let Ee=0;Ee<pe;Ee++)ee=Re[Ee],ee.predicate.equals(F)?Fe+=`, ${this._encodeObject(ee.object)}`:(Fe+=`${(Ee?`;
  `:`
  `)+this._encodePredicate(ee.predicate)} ${this._encodeObject(ee.object)}`,F=ee.predicate);return new _e(`${Fe}
]`)}}list(F){const Y=F&&F.length||0,ee=new Array(Y);for(let pe=0;pe<Y;pe++)ee[pe]=this._encodeObject(F[pe]);return new _e(`(${ee.join(" ")})`)}end(F){this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null),this._write=this._blockedWrite;let Y=F&&((ee,pe)=>{Y=null,F(ee,pe)});if(this._endStream)try{return this._outputStream.end(Y)}catch{}Y&&Y()}}function Pe(Ne){let F=fe[Ne];return F===void 0&&(Ne.length===1?(F=Ne.charCodeAt(0).toString(16),F="\\u0000".substr(0,6-F.length)+F):(F=(1024*(Ne.charCodeAt(0)-55296)+Ne.charCodeAt(1)+9216).toString(16),F="\\U00000000".substr(0,10-F.length)+F)),F}var je=s(19198);const Ie=Symbol("iter");function ue(Ne,F,Y=4){if(Y===0)return Object.assign(Ne,F);for(const ee in F)Ne[ee]=ue(Ne[ee]||Object.create(null),F[ee],Y-1);return Ne}function ge(Ne,F,Y=4){let ee=!1;for(const pe in Ne)if(pe in F){const Re=Y===0?null:ge(Ne[pe],F[pe],Y-1);if(Re!==!1)ee=ee||Object.create(null),ee[pe]=Re;else if(Y===3)return!1}return ee}function Me(Ne,F,Y=4){let ee=!1;for(const pe in Ne)if(pe in F){if(Y!==0){const Re=Me(Ne[pe],F[pe],Y-1);if(Re!==!1)ee=ee||Object.create(null),ee[pe]=Re;else if(Y===3)return!1}}else ee=ee||Object.create(null),ee[pe]=Y===0?null:ue({},Ne[pe],Y-1);return ee}class qe{constructor(F={}){this._id=1,this._ids=Object.create(null),this._ids[""]=1,this._entities=Object.create(null),this._entities[1]="",this._blankNodeIndex=0,this._factory=F.factory||w}_termFromId(F){if(F[0]==="."){const Y=this._entities,ee=F.split(".");return this._factory.quad(this._termFromId(Y[ee[1]]),this._termFromId(Y[ee[2]]),this._termFromId(Y[ee[3]]),ee[4]&&this._termFromId(Y[ee[4]]))}return M(F,this._factory)}_termToNumericId(F){if(F.termType==="Quad"){const Y=this._termToNumericId(F.subject),ee=this._termToNumericId(F.predicate),pe=this._termToNumericId(F.object);let Re;return Y&&ee&&pe&&(de(F.graph)||(Re=this._termToNumericId(F.graph)))&&this._ids[Re?`.${Y}.${ee}.${pe}.${Re}`:`.${Y}.${ee}.${pe}`]}return this._ids[Q(F)]}_termToNewNumericId(F){const Y=F&&F.termType==="Quad"?`.${this._termToNewNumericId(F.subject)}.${this._termToNewNumericId(F.predicate)}.${this._termToNewNumericId(F.object)}${de(F.graph)?"":`.${this._termToNewNumericId(F.graph)}`}`:Q(F);return this._ids[Y]||(this._ids[this._entities[++this._id]=Y]=this._id)}createBlankNode(F){let Y,ee;if(F)for(Y=F=`_:${F}`,ee=1;this._ids[Y];)Y=F+ee++;else do Y="_:b"+this._blankNodeIndex++;while(this._ids[Y]);return this._ids[Y]=++this._id,this._entities[this._id]=Y,this._factory.blankNode(Y.substr(2))}}class Be{constructor(F,Y){this._size=0,this._graphs=Object.create(null),Y||!F||F[0]||typeof F.match=="function"||(Y=F,F=null),Y=Y||{},this._factory=Y.factory||w,this._entityIndex=Y.entityIndex||new qe({factory:this._factory}),this._entities=this._entityIndex._entities,this._termFromId=this._entityIndex._termFromId.bind(this._entityIndex),this._termToNumericId=this._entityIndex._termToNumericId.bind(this._entityIndex),this._termToNewNumericId=this._entityIndex._termToNewNumericId.bind(this._entityIndex),F&&this.addAll(F)}get size(){let F=this._size;if(F!==null)return F;F=0;const Y=this._graphs;let ee,pe;for(const Re in Y)for(const Fe in ee=Y[Re].subjects)for(const Ee in pe=ee[Fe])F+=Object.keys(pe[Ee]).length;return this._size=F}_addToIndex(F,Y,ee,pe){const Re=F[Y]||(F[Y]={}),Fe=Re[ee]||(Re[ee]={}),Ee=pe in Fe;return Ee||(Fe[pe]=null),!Ee}_removeFromIndex(F,Y,ee,pe){const Re=F[Y],Fe=Re[ee];delete Fe[pe];for(const Ee in Fe)return;delete Re[ee];for(const Ee in Re)return;delete F[Y]}*_findInIndex(F,Y,ee,pe,Re,Fe,Ee,De){let Ue,Ve,Ge;const Ze=this._entities,$e=this._termFromId(Ze[De]),ze={subject:null,predicate:null,object:null};Y&&((Ue=F,F={})[Y]=Ue[Y]);for(const ot in F)if(Ve=F[ot]){ze[Re]=this._termFromId(Ze[ot]),ee&&((Ue=Ve,Ve={})[ee]=Ue[ee]);for(const ht in Ve)if(Ge=Ve[ht]){ze[Fe]=this._termFromId(Ze[ht]);const Ye=pe?pe in Ge?[pe]:[]:Object.keys(Ge);for(let Dt=0;Dt<Ye.length;Dt++)ze[Ee]=this._termFromId(Ze[Ye[Dt]]),yield this._factory.quad(ze.subject,ze.predicate,ze.object,$e)}}}_loop(F,Y){for(const ee in F)Y(ee)}_loopByKey0(F,Y,ee){let pe,Re;if(pe=F[Y])for(Re in pe)ee(Re)}_loopByKey1(F,Y,ee){let pe,Re;for(pe in F)Re=F[pe],Re[Y]&&ee(pe)}_loopBy2Keys(F,Y,ee,pe){let Re,Fe,Ee;if((Re=F[Y])&&(Fe=Re[ee]))for(Ee in Fe)pe(Ee)}_countInIndex(F,Y,ee,pe){let Re,Fe,Ee,De=0;Y&&((Re=F,F={})[Y]=Re[Y]);for(const Ue in F)if(Fe=F[Ue]){ee&&((Re=Fe,Fe={})[ee]=Re[ee]);for(const Ve in Fe)(Ee=Fe[Ve])&&(pe?pe in Ee&&De++:De+=Object.keys(Ee).length)}return De}_getGraphs(F){return typeof(F=F===""?1:F&&(this._termToNumericId(F)||-1))!="number"?this._graphs:{[F]:this._graphs[F]}}_uniqueEntities(F){const Y=Object.create(null);return ee=>{ee in Y||(Y[ee]=!0,F(this._termFromId(this._entities[ee],this._factory)))}}add(F){return this.addQuad(F),this}addQuad(F,Y,ee,pe){Y||(pe=F.graph,ee=F.object,Y=F.predicate,F=F.subject),pe=pe?this._termToNewNumericId(pe):1;let Re=this._graphs[pe];return Re||(Re=this._graphs[pe]={subjects:{},predicates:{},objects:{}},Object.freeze(Re)),F=this._termToNewNumericId(F),Y=this._termToNewNumericId(Y),ee=this._termToNewNumericId(ee),!!this._addToIndex(Re.subjects,F,Y,ee)&&(this._addToIndex(Re.predicates,Y,ee,F),this._addToIndex(Re.objects,ee,F,Y),this._size=null,!0)}addQuads(F){for(let Y=0;Y<F.length;Y++)this.addQuad(F[Y])}delete(F){return this.removeQuad(F),this}has(F,Y,ee,pe){return F&&F.subject&&({subject:F,predicate:Y,object:ee,graph:pe}=F),!this.readQuads(F,Y,ee,pe).next().done}import(F){return F.on("data",Y=>{this.addQuad(Y)}),F}removeQuad(F,Y,ee,pe){Y||({subject:F,predicate:Y,object:ee,graph:pe}=F),pe=pe?this._termToNumericId(pe):1;const Re=this._graphs;let Fe,Ee,De;if(!((F=F&&this._termToNumericId(F))&&(Y=Y&&this._termToNumericId(Y))&&(ee=ee&&this._termToNumericId(ee))&&(Fe=Re[pe])&&(Ee=Fe.subjects[F])&&(De=Ee[Y])&&ee in De))return!1;for(F in this._removeFromIndex(Fe.subjects,F,Y,ee),this._removeFromIndex(Fe.predicates,Y,ee,F),this._removeFromIndex(Fe.objects,ee,F,Y),this._size!==null&&this._size--,Fe.subjects)return!0;return delete Re[pe],!0}removeQuads(F){for(let Y=0;Y<F.length;Y++)this.removeQuad(F[Y])}remove(F){return F.on("data",Y=>{this.removeQuad(Y)}),F}removeMatches(F,Y,ee,pe){const Re=new je.Readable({objectMode:!0}),Fe=this.readQuads(F,Y,ee,pe);return Re._read=Ee=>{for(;--Ee>=0;){const{done:De,value:Ue}=Fe.next();if(De)return void Re.push(null);Re.push(Ue)}},this.remove(Re)}deleteGraph(F){return this.removeMatches(null,null,null,F)}getQuads(F,Y,ee,pe){return[...this.readQuads(F,Y,ee,pe)]}*readQuads(F,Y,ee,pe){const Re=this._getGraphs(pe);let Fe,Ee,De,Ue;if(!(F&&!(Ee=this._termToNumericId(F))||Y&&!(De=this._termToNumericId(Y))||ee&&!(Ue=this._termToNumericId(ee))))for(const Ve in Re)(Fe=Re[Ve])&&(Ee?Ue?yield*this._findInIndex(Fe.objects,Ue,Ee,De,"object","subject","predicate",Ve):yield*this._findInIndex(Fe.subjects,Ee,De,null,"subject","predicate","object",Ve):De?yield*this._findInIndex(Fe.predicates,De,Ue,null,"predicate","object","subject",Ve):Ue?yield*this._findInIndex(Fe.objects,Ue,null,null,"object","subject","predicate",Ve):yield*this._findInIndex(Fe.subjects,null,null,null,"subject","predicate","object",Ve))}match(F,Y,ee,pe){return new Ae(this,F,Y,ee,pe,{entityIndex:this._entityIndex})}countQuads(F,Y,ee,pe){const Re=this._getGraphs(pe);let Fe,Ee,De,Ue,Ve=0;if(F&&!(Ee=this._termToNumericId(F))||Y&&!(De=this._termToNumericId(Y))||ee&&!(Ue=this._termToNumericId(ee)))return 0;for(const Ge in Re)(Fe=Re[Ge])&&(Ve+=F?ee?this._countInIndex(Fe.objects,Ue,Ee,De):this._countInIndex(Fe.subjects,Ee,De,Ue):Y?this._countInIndex(Fe.predicates,De,Ue,Ee):this._countInIndex(Fe.objects,Ue,Ee,De));return Ve}forEach(F,Y,ee,pe,Re){this.some(Fe=>(F(Fe,this),!1),Y,ee,pe,Re)}every(F,Y,ee,pe,Re){return!this.some(Fe=>!F(Fe,this),Y,ee,pe,Re)}some(F,Y,ee,pe,Re){for(const Fe of this.readQuads(Y,ee,pe,Re))if(F(Fe,this))return!0;return!1}getSubjects(F,Y,ee){const pe=[];return this.forSubjects(Re=>{pe.push(Re)},F,Y,ee),pe}forSubjects(F,Y,ee,pe){const Re=this._getGraphs(pe);let Fe,Ee,De;if(F=this._uniqueEntities(F),!(Y&&!(Ee=this._termToNumericId(Y))||ee&&!(De=this._termToNumericId(ee))))for(pe in Re)(Fe=Re[pe])&&(Ee?De?this._loopBy2Keys(Fe.predicates,Ee,De,F):this._loopByKey1(Fe.subjects,Ee,F):De?this._loopByKey0(Fe.objects,De,F):this._loop(Fe.subjects,F))}getPredicates(F,Y,ee){const pe=[];return this.forPredicates(Re=>{pe.push(Re)},F,Y,ee),pe}forPredicates(F,Y,ee,pe){const Re=this._getGraphs(pe);let Fe,Ee,De;if(F=this._uniqueEntities(F),!(Y&&!(Ee=this._termToNumericId(Y))||ee&&!(De=this._termToNumericId(ee))))for(pe in Re)(Fe=Re[pe])&&(Ee?De?this._loopBy2Keys(Fe.objects,De,Ee,F):this._loopByKey0(Fe.subjects,Ee,F):De?this._loopByKey1(Fe.predicates,De,F):this._loop(Fe.predicates,F))}getObjects(F,Y,ee){const pe=[];return this.forObjects(Re=>{pe.push(Re)},F,Y,ee),pe}forObjects(F,Y,ee,pe){const Re=this._getGraphs(pe);let Fe,Ee,De;if(F=this._uniqueEntities(F),!(Y&&!(Ee=this._termToNumericId(Y))||ee&&!(De=this._termToNumericId(ee))))for(pe in Re)(Fe=Re[pe])&&(Ee?De?this._loopBy2Keys(Fe.subjects,Ee,De,F):this._loopByKey1(Fe.objects,Ee,F):De?this._loopByKey0(Fe.predicates,De,F):this._loop(Fe.objects,F))}getGraphs(F,Y,ee){const pe=[];return this.forGraphs(Re=>{pe.push(Re)},F,Y,ee),pe}forGraphs(F,Y,ee,pe){for(const Re in this._graphs)this.some(Fe=>(F(Fe.graph),!0),Y,ee,pe,this._termFromId(this._entities[Re]))}createBlankNode(F){return this._entityIndex.createBlankNode(F)}extractLists({remove:F=!1,ignoreErrors:Y=!1}={}){const ee={},pe=Y?()=>!0:(Ee,De)=>{throw new Error(`${Ee.value} ${De}`)},Re=this.getQuads(null,n.rdf.rest,n.rdf.nil,null),Fe=F?[...Re]:[];return Re.forEach(Ee=>{const De=[];let Ue,Ve,Ge=!1;const Ze=Ee.graph;let $e=Ee.subject;for(;$e&&!Ge;){const ze=this.getQuads(null,null,$e,null),ot=this.getQuads($e,null,null,null);let ht,Ye=null,Dt=null,yt=null;for(let lt=0;lt<ot.length&&!Ge;lt++)ht=ot[lt],ht.graph.equals(Ze)?Ue?Ge=pe($e,"has non-list arcs out"):ht.predicate.value===n.rdf.first?Ye?Ge=pe($e,"has multiple rdf:first arcs"):Fe.push(Ye=ht):ht.predicate.value===n.rdf.rest?Dt?Ge=pe($e,"has multiple rdf:rest arcs"):Fe.push(Dt=ht):ze.length?Ge=pe($e,"can't be subject and object"):(Ue=ht,Ve="subject"):Ge=pe($e,"not confined to single graph");for(let lt=0;lt<ze.length&&!Ge;++lt)ht=ze[lt],Ue?Ge=pe($e,"can't have coreferences"):ht.predicate.value===n.rdf.rest?yt?Ge=pe($e,"has incoming rdf:rest arcs"):yt=ht:(Ue=ht,Ve="object");Ye?De.unshift(Ye.object):Ge=pe($e,"has no list head"),$e=yt&&yt.subject}Ge?F=!1:Ue&&(ee[Ue[Ve].value]=De)}),F&&this.removeQuads(Fe),ee}addAll(F){if(F instanceof Ae&&(F=F.filtered),Array.isArray(F))this.addQuads(F);else if(F instanceof Be&&F._entityIndex===this._entityIndex)F._size!==0&&(this._graphs=ue(this._graphs,F._graphs),this._size=null);else for(const Y of F)this.add(Y);return this}contains(F){if(F instanceof Ae&&(F=F.filtered),F===this)return!0;if(!(F instanceof Be)||this._entityIndex!==F._entityIndex)return F.every(Ue=>this.has(Ue));const Y=this._graphs,ee=F._graphs;let pe,Re,Fe,Ee,De;for(const Ue in ee){if(!(pe=Y[Ue]))return!1;pe=pe.subjects;for(const Ve in Re=ee[Ue].subjects){if(!(Fe=pe[Ve]))return!1;for(const Ge in Ee=Re[Ve]){if(!(De=Fe[Ge]))return!1;for(const Ze in Ee[Ge])if(!(Ze in De))return!1}}}return!0}deleteMatches(F,Y,ee,pe){for(const Re of this.match(F,Y,ee,pe))this.removeQuad(Re);return this}difference(F){if(F&&F instanceof Ae&&(F=F.filtered),F===this)return new Be({entityIndex:this._entityIndex});if(F instanceof Be&&F._entityIndex===this._entityIndex){const Y=new Be({entityIndex:this._entityIndex}),ee=Me(this._graphs,F._graphs);return ee&&(Y._graphs=ee,Y._size=null),Y}return this.filter(Y=>!F.has(Y))}equals(F){return F instanceof Ae&&(F=F.filtered),F===this||this.size===F.size&&this.contains(F)}filter(F){const Y=new Be({entityIndex:this._entityIndex});for(const ee of this)F(ee,this)&&Y.add(ee);return Y}intersection(F){if(F instanceof Ae&&(F=F.filtered),F===this){const Y=new Be({entityIndex:this._entityIndex});return Y._graphs=ue(Object.create(null),this._graphs),Y._size=this._size,Y}if(F instanceof Be&&this._entityIndex===F._entityIndex){const Y=new Be({entityIndex:this._entityIndex}),ee=ge(F._graphs,this._graphs);return ee&&(Y._graphs=ee,Y._size=null),Y}return this.filter(Y=>F.has(Y))}map(F){const Y=new Be({entityIndex:this._entityIndex});for(const ee of this)Y.add(F(ee,this));return Y}reduce(F,Y){const ee=this.readQuads();let pe=Y===void 0?ee.next().value:Y;for(const Re of ee)pe=F(pe,Re,this);return pe}toArray(){return this.getQuads()}toCanonical(){throw new Error("not implemented")}toStream(){return this.match()}toString(){return new we().quadsToString(this)}union(F){const Y=new Be({entityIndex:this._entityIndex});return Y._graphs=ue(Object.create(null),this._graphs),Y._size=this._size,Y.addAll(F),Y}*[Symbol.iterator](){yield*this.readQuads()}}function He(Ne,F,Y=0){const ee=F[Y];if(ee&&!(ee in Ne))return!1;let pe=!1;for(const Re in ee?{[ee]:Ne[ee]}:Ne){const Fe=Y===2?null:He(Ne[Re],F,Y+1);Fe!==!1&&(pe=pe||Object.create(null),pe[Re]=Fe)}return pe}class Ae extends je.Readable{constructor(F,Y,ee,pe,Re,Fe){super({objectMode:!0}),Object.assign(this,{n3Store:F,subject:Y,predicate:ee,object:pe,graph:Re,options:Fe})}get filtered(){if(!this._filtered){const{n3Store:F,graph:Y,object:ee,predicate:pe,subject:Re}=this,Fe=this._filtered=new Be({factory:F._factory,entityIndex:this.options.entityIndex});let Ee,De,Ue;if(Re&&!(Ee=Fe._termToNumericId(Re))||pe&&!(De=Fe._termToNumericId(pe))||ee&&!(Ue=Fe._termToNumericId(ee)))return Fe;const Ve=F._getGraphs(Y);for(const Ge in Ve){let Ze,$e,ze,ot;(ot=Ve[Ge])&&(!Ee&&De?($e=He(ot.predicates,[De,Ue,Ee]))&&(Ze=He(ot.subjects,[Ee,De,Ue]),ze=He(ot.objects,[Ue,Ee,De])):Ue?(ze=He(ot.objects,[Ue,Ee,De]))&&(Ze=He(ot.subjects,[Ee,De,Ue]),$e=He(ot.predicates,[De,Ue,Ee])):(Ze=He(ot.subjects,[Ee,De,Ue]))&&($e=He(ot.predicates,[De,Ue,Ee]),ze=He(ot.objects,[Ue,Ee,De])),Ze&&(Fe._graphs[Ge]={subjects:Ze,predicates:$e,objects:ze}))}Fe._size=null}return this._filtered}get size(){return this.filtered.size}_read(F){F>0&&!this[Ie]&&(this[Ie]=this[Symbol.iterator]());const Y=this[Ie];for(;--F>=0;){const{done:ee,value:pe}=Y.next();if(ee)return void this.push(null);this.push(pe)}}addAll(F){return this.filtered.addAll(F)}contains(F){return this.filtered.contains(F)}deleteMatches(F,Y,ee,pe){return this.filtered.deleteMatches(F,Y,ee,pe)}difference(F){return this.filtered.difference(F)}equals(F){return this.filtered.equals(F)}every(F,Y,ee,pe,Re){return this.filtered.every(F,Y,ee,pe,Re)}filter(F){return this.filtered.filter(F)}forEach(F,Y,ee,pe,Re){return this.filtered.forEach(F,Y,ee,pe,Re)}import(F){return this.filtered.import(F)}intersection(F){return this.filtered.intersection(F)}map(F){return this.filtered.map(F)}some(F,Y,ee,pe,Re){return this.filtered.some(F,Y,ee,pe,Re)}toCanonical(){return this.filtered.toCanonical()}toStream(){return this._filtered?this._filtered.toStream():this.n3Store.match(this.subject,this.predicate,this.object,this.graph)}union(F){return this._filtered?this._filtered.union(F):this.n3Store.match(this.subject,this.predicate,this.object,this.graph).addAll(F)}toArray(){return this._filtered?this._filtered.toArray():this.n3Store.getQuads(this.subject,this.predicate,this.object,this.graph)}reduce(F,Y){return this.filtered.reduce(F,Y)}toString(){return new we().quadsToString(this)}add(F){return this.filtered.add(F)}delete(F){return this.filtered.delete(F)}has(F){return this.filtered.has(F)}match(F,Y,ee,pe){return new Ae(this.filtered,F,Y,ee,pe,this.options)}*[Symbol.iterator](){yield*this._filtered||this.n3Store.readQuads(this.subject,this.predicate,this.object,this.graph)}}class Te{dataset(F){return new Be(F)}}function Ke(Ne){const F=[];for(const{subject:Y,object:ee}of Ne.match(null,w.namedNode("http://www.w3.org/2000/10/swap/log#implies"),null,w.defaultGraph())){const pe=[...Ne.match(null,null,null,Y)],Re=[...Ne.match(null,null,null,ee)];F.push({premise:pe,conclusion:Re})}return F}class it{constructor(F){this._store=F}_add(F,Y,ee,pe,Re){this._store._addToIndex(pe.subjects,F,Y,ee)&&(this._store._addToIndex(pe.predicates,Y,ee,F),this._store._addToIndex(pe.objects,ee,F,Y),Re())}_evaluatePremise(F,Y,ee,pe=0){let Re,Fe,Ee,De,Ue;const[Ve,Ge,Ze]=F.premise[pe].value,$e=Y[F.premise[pe].content],ze=!(Ee=Ve.value);for(Ee in ze?$e:{[Ee]:$e[Ee]})if(De=$e[Ee]){for(Ee in ze&&(Ve.value=Number(Ee)),Re=!(Ee=Ge.value),Re?De:{[Ee]:De[Ee]})if(Ue=De[Ee]){for(Ee in Re&&(Ge.value=Number(Ee)),Fe=!(Ee=Ze.value),Fe?Ue:{[Ee]:Ue[Ee]})Fe&&(Ze.value=Number(Ee)),pe===F.premise.length-1?F.conclusion.forEach(ot=>{this._add(ot.subject.value,ot.predicate.value,ot.object.value,Y,()=>{ee(ot)})}):this._evaluatePremise(F,Y,ee,pe+1);Fe&&(Ze.value=null)}Re&&(Ge.value=null)}ze&&(Ve.value=null)}_evaluateRules(F,Y,ee){for(let pe=0;pe<F.length;pe++)this._evaluatePremise(F[pe],Y,ee)}_reasonGraphNaive(F,Y){const ee=[];function pe(Ee){Ee.next&&Ee.next.forEach(De=>{ee.push([Ee.subject.value,Ee.predicate.value,Ee.object.value,De])})}const Re=Ee=>{Ee.forEach(De=>{this._add(De.subject.value,De.predicate.value,De.object.value,Y,()=>{pe(De)})})};let Fe;for(this._evaluateRules(F,Y,pe);(Fe=ee.pop())!==void 0;){const[Ee,De,Ue,Ve]=Fe,Ge=Ve.basePremise.subject.value;Ge||(Ve.basePremise.subject.value=Ee);const Ze=Ve.basePremise.predicate.value;Ze||(Ve.basePremise.predicate.value=De);const $e=Ve.basePremise.object.value;$e||(Ve.basePremise.object.value=Ue),Ve.premise.length===0?Re(Ve.conclusion):this._evaluatePremise(Ve,Y,pe),Ge||(Ve.basePremise.subject.value=null),Ze||(Ve.basePremise.predicate.value=null),$e||(Ve.basePremise.object.value=null)}}_createRule({premise:F,conclusion:Y}){const ee={},pe=Fe=>Fe.termType==="Variable"?ee[Fe.value]=ee[Fe.value]||{}:{value:this._store._termToNewNumericId(Fe)},Re=Fe=>({subject:pe(Fe.subject),predicate:pe(Fe.predicate),object:pe(Fe.object)});return{premise:F.map(Fe=>Re(Fe)),conclusion:Y.map(Fe=>Re(Fe)),variables:Object.values(ee)}}reason(F){Array.isArray(F)||(F=Ke(F)),F=F.map(ee=>this._createRule(ee));for(const ee of F)for(const pe of F)for(let Re=0;Re<pe.premise.length;Re++){const Fe=pe.premise[Re];for(const Ee of ee.conclusion){if(rt(Fe.subject,Ee.subject)&&rt(Fe.predicate,Ee.predicate)&&rt(Fe.object,Ee.object)){const De=new Set,Ue=[];Fe.subject.value=Fe.subject.value||1,Fe.object.value=Fe.object.value||1,Fe.predicate.value=Fe.predicate.value||1;for(let Ve=0;Ve<pe.premise.length;Ve++)Ve!==Re&&Ue.push(st(pe.premise[Ve],De));(Ee.next=Ee.next||[]).push({premise:Ue,conclusion:pe.conclusion,basePremise:Fe})}pe.variables.forEach(De=>{De.value=null})}}for(const ee of F){const pe=new Set;ee.premise=ee.premise.map(Re=>st(Re,pe))}const Y=this._store._getGraphs();for(const ee in Y)this._reasonGraphNaive(F,Y[ee]);this._store._size=null}}function st({subject:Ne,predicate:F,object:Y},ee){const pe=Ne.value||ee.has(Ne)||(ee.add(Ne),!1),Re=F.value||ee.has(F)||(ee.add(F),!1),Fe=Y.value||ee.has(Y)||(ee.add(Y),!1);return!pe&&Re?{content:"predicates",value:[F,Y,Ne]}:Fe?{content:"objects",value:[Y,Ne,F]}:{content:"subjects",value:[Ne,F,Y]}}function rt(Ne,F){return Ne.value===null&&(Ne.value=F.value),Ne.value===F.value}class pt extends je.Transform{constructor(F){super({decodeStrings:!0}),this._readableState.objectMode=!0;const Y=new I(F);let ee,pe;const Re={onQuad:(Fe,Ee)=>{Fe&&this.emit("error",Fe)||Ee&&this.push(Ee)},onPrefix:(Fe,Ee)=>{this.emit("prefix",Fe,Ee)}};F&&F.comments&&(Re.onComment=Fe=>{this.emit("comment",Fe)}),Y.parse({on:(Fe,Ee)=>{switch(Fe){case"data":ee=Ee;break;case"end":pe=Ee}}},Re),this._transform=(Fe,Ee,De)=>{ee(Fe),De()},this._flush=Fe=>{pe(),Fe()}}import(F){return F.on("data",Y=>{this.write(Y)}),F.on("end",()=>{this.end()}),F.on("error",Y=>{this.emit("error",Y)}),this}}class mt extends je.Transform{constructor(F){super({encoding:"utf8",writableObjectMode:!0});const Y=this._writer=new we({write:(ee,pe,Re)=>{this.push(ee),Re&&Re()},end:ee=>{this.push(null),ee&&ee()}},F);this._transform=(ee,pe,Re)=>{Y.addQuad(ee,Re)},this._flush=ee=>{Y.end(ee)}}import(F){return F.on("data",Y=>{this.write(Y)}),F.on("end",()=>{this.end()}),F.on("error",Y=>{this.emit("error",Y)}),F.on("prefix",(Y,ee)=>{this._writer.addPrefix(Y,ee)}),this}}const at={Lexer:h,Parser:I,Writer:we,Store:Be,StoreFactory:Te,EntityIndex:qe,StreamParser:pt,StreamWriter:mt,Util:c,Reasoner:it,BaseIRI:q,DataFactory:w,Term:S,NamedNode:x,Literal:T,BlankNode:O,Variable:E,DefaultGraph:R,Quad:X,Triple:X,termFromId:M,termToId:Q}},25888:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SYMBOL_TO_STRING_TAG=e.SYMBOL_ASYNC_ITERATOR=e.SYMBOL_ITERATOR=void 0;var s=typeof Symbol=="function"&&Symbol.iterator!=null?Symbol.iterator:"@@iterator";e.SYMBOL_ITERATOR=s;var c=typeof Symbol=="function"&&Symbol.asyncIterator!=null?Symbol.asyncIterator:"@@asyncIterator";e.SYMBOL_ASYNC_ITERATOR=c;var o=typeof Symbol=="function"&&Symbol.toStringTag!=null?Symbol.toStringTag:"@@toStringTag";e.SYMBOL_TO_STRING_TAG=o},25925:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(20268),e)},26143:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(17919),e)},26336:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfResolveHypermediaLinksNext=void 0;const c=s(67304),o=s(90412);class u extends c.ActorRdfResolveHypermediaLinks{constructor(r){super(r)}async test(r){return r.metadata.next&&r.metadata.next.length!==0?(0,o.passTestVoid)():(0,o.failTest)(`Actor ${this.name} requires a 'next' metadata entry.`)}async run(r){return{links:r.metadata.next.map(n=>({url:n}))}}}e.ActorRdfResolveHypermediaLinksNext=u},26357:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryExpressionBound=void 0;const c=s(77617),o=s(77545),u=s(72818);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.SparqlOperator.BOUND],termFunction:!1})}async run(n){return new u.ExpressionFunctionBound}}e.ActorFunctionFactoryExpressionBound=i},26471:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorHttpRetry=void 0;const c=s(70322),o=s(90711),u=s(90412);class i extends c.ActorHttp{constructor(n){super(n),this.activeDelays={},this.httpInvalidator=n.httpInvalidator,this.httpInvalidator.addInvalidateListener(t=>this.handleHttpInvalidateEvent(t)),this.mediatorHttp=n.mediatorHttp}async test(n){if(n.context.has(i.keyWrapped))return(0,u.failTest)(`${this.name} can only wrap a request once`);const t=n.context.get(o.KeysHttp.httpRetryCount);return!t||t<1?(0,u.failTest)(`${this.name} requires a retry count greater than zero to function`):(0,u.passTest)({time:0})}async run(n){const t=c.ActorHttp.getInputUrl(n.input),a=n.context.getSafe(o.KeysHttp.httpRetryCount)+1,l=n.context.get(o.KeysHttp.httpRetryDelayFallback)??0,d=n.context.get(o.KeysHttp.httpRetryDelayLimit),p=n.context.get(o.KeysHttp.httpRetryStatusCodes);for(let f=1;f<=a;f++){const h=t.host in this.activeDelays?this.activeDelays[t.host].date.getTime()-Date.now():l;if(d&&h>d){this.logWarn(n.context,"Requested delay exceeds the limit",()=>({url:t.href,delay:h,delayDate:this.activeDelays[t.host].date.toISOString(),delayLimit:d,currentAttempt:`${f} / ${a}`}));break}h>0&&f>1&&(this.logDebug(n.context,"Delaying request",()=>({url:t.href,delay:h,currentAttempt:`${f} / ${a}`})),await i.sleep(h));const y=await this.mediatorHttp.mediate({...n,context:n.context.set(i.keyWrapped,!0)});if(y.ok)return y;if(p&&p.includes(y.status))this.logDebug(n.context,"Status code in force retry list, forcing retry",()=>({url:t.href,status:y.status,statusText:y.statusText,currentAttempt:`${f} / ${a}`}));else if(y.status!==504){if(y.status===429||y.status===503||y.status===405&&y.headers.has("retry-after")){const m=y.headers.get("retry-after");if(m){const b=i.parseRetryAfterHeader(m);b?(t.host in this.activeDelays&&clearTimeout(this.activeDelays[t.host].timeout),this.activeDelays[t.host]={date:b,timeout:setTimeout(()=>delete this.activeDelays[t.host],b.getTime()-Date.now())}):this.logDebug(n.context,"Invalid Retry-After header value from server",()=>({url:t.href,status:y.status,statusText:y.statusText,retryAfterHeader:m,currentAttempt:`${f} / ${a}`}))}this.logDebug(n.context,"Server temporarily unavailable",()=>({url:t.href,status:y.status,statusText:y.statusText,currentAttempt:`${f} / ${a}`}));continue}if(y.status>=400&&y.status<500){this.logDebug(n.context,"Server reported client-side error",()=>({url:t.href,status:y.status,statusText:y.statusText,currentAttempt:`${f} / ${a}`}));break}if(y.status>=500&&y.status<600){this.logDebug(n.context,"Server-side error encountered, terminating",()=>({url:t.href,status:y.status,statusText:y.statusText,currentAttempt:`${f} / ${a}`}));break}this.logDebug(n.context,"Request failed",()=>({url:t.href,status:y.status,statusText:y.statusText,currentAttempt:`${f} / ${a}`}))}else this.logDebug(n.context,"Received proxy timeout",()=>({url:t.href,status:y.status,statusText:y.statusText,currentAttempt:`${f} / ${a}`}))}throw new Error(`Request failed: ${t.href}`)}static async sleep(n){n>0&&await new Promise(t=>setTimeout(t,n))}static parseRetryAfterHeader(n){return i.numberRegex.test(n)?new Date(Date.now()+1e3*Number.parseInt(n,10)):i.dateRegex.test(n)?new Date(n):void 0}handleHttpInvalidateEvent(n){const t=n.url?new URL(n.url).host:void 0;for(const a of Object.keys(this.activeDelays))t&&a!==t||(clearTimeout(this.activeDelays[a].timeout),delete this.activeDelays[a])}}e.ActorHttpRetry=i,i.dateRegex=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), [0-9]{2} (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) [0-9]{4} [0-9]{2}:[0-9]{2}:[0-9]{2} GMT$/u,i.numberRegex=/^[0-9]+$/u,i.keyWrapped=new u.ActionContextKey("urn:comunica:actor-http-retry#wrapped")},26568:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(20935),e),o(s(77866),e)},26615:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryExpressionCoalesce=void 0;const c=s(77617),o=s(77545),u=s(67626);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.SparqlOperator.COALESCE],termFunction:!1})}async run(n){return new u.ExpressionFunctionCoalesce}}e.ActorFunctionFactoryExpressionCoalesce=i},26769:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermMultiplication=void 0;const c=s(77617),o=s(77545),u=s(44936);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.SparqlOperator.MULTIPLICATION],termFunction:!0})}async run(n){return new u.TermFunctionMultiplication}}e.ActorFunctionFactoryTermMultiplication=i},27051:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.stringQuadToQuad=e.quadToStringQuad=e.stringToTerm=e.getLiteralLanguage=e.getLiteralType=e.getLiteralValue=e.termToString=void 0;const c=new(s(47793)).DataFactory;function o(t){if(t)switch(t.termType){case"NamedNode":case"DefaultGraph":return t.value;case"BlankNode":return"_:"+t.value;case"Literal":const a=t;return'"'+a.value+'"'+(a.datatype&&a.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&a.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?"^^"+a.datatype.value:"")+(a.language?"@"+a.language:"");case"Quad":return`<<${o(t.subject)} ${o(t.predicate)} ${o(t.object)}${t.graph.termType==="DefaultGraph"?"":" "+o(t.graph)}>>`;case"Variable":return"?"+t.value}}function u(t){const a=/^"([^]*)"/.exec(t);if(!a)throw new Error(t+" is not a literal");return a[1]}function i(t){const a=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(t);if(!a)throw new Error(t+" is not a literal");return a[1]||(a[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}function r(t){const a=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(t);if(!a)throw new Error(t+" is not a literal");return a[1]?a[1].toLowerCase():""}function n(t,a){if(a=a||c,!t||!t.length)return a.defaultGraph();switch(t[0]){case"_":return a.blankNode(t.substr(2));case"?":if(!a.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return a.variable(t.substr(1));case'"':const l=r(t),d=a.namedNode(i(t));return a.literal(u(t),l||d);default:if(t[0]==="<"&&t.length>4&&t[1]==="<"&&t[t.length-1]===">"&&t[t.length-2]===">"){const p=t.slice(2,-2).trim();let f=[],h=0,y=0,m=!1;for(let b=0;b<p.length;b++){const v=p[b];if(v==="<"&&h++,v===">"){if(h===0)throw new Error("Found closing tag without opening tag in "+t);h--}if(v==='"'){let _=!1,w=b;for(;w-- >0&&p[w]==="\\";)_=!_;_||(m=!m)}if(v===" "&&!m&&h===0){for(f.push(p.slice(y,b));p[b+1]===" ";)b+=1;y=b+1}}if(h!==0)throw new Error("Found opening tag without closing tag in "+t);if(f.push(p.slice(y,p.length)),f.length!==3&&f.length!==4)throw new Error("Nested quad syntax error "+t);return f=f.map(b=>b.startsWith("<")&&!b.includes(" ")?b.slice(1,-1):b),a.quad(n(f[0]),n(f[1]),n(f[2]),f[3]?n(f[3]):void 0)}return a.namedNode(t)}}e.termToString=o,e.getLiteralValue=u,e.getLiteralType=i,e.getLiteralLanguage=r,e.stringToTerm=n,e.quadToStringQuad=function(t){return{subject:o(t.subject),predicate:o(t.predicate),object:o(t.object),graph:o(t.graph)}},e.stringQuadToQuad=function(t,a){return(a=a||c).quad(n(t.subject,a),n(t.predicate,a),n(t.object,a),n(t.graph,a))}},27256:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryParseSparql=void 0;const c=s(92180),o=s(90711),u=s(90412),i=s(96331),r=s(98082);class n extends c.ActorQueryParse{constructor(a){super(a),this.prefixes=Object.freeze(this.prefixes)}async test(a){return a.queryFormat&&a.queryFormat.language!=="sparql"?(0,u.failTest)("This actor can only parse SPARQL queries"):(0,u.passTestVoid)()}async run(a){const l=a.context.getSafe(o.KeysInitQuery.dataFactory),d=new r.Parser({prefixes:this.prefixes,baseIRI:a.baseIRI,sparqlStar:!0,factory:l}).parse(a.query);return{baseIRI:d.type==="query"?d.base:void 0,operation:(0,i.translate)(d,{quads:!0,prefixes:this.prefixes,blankToVariable:!0,baseIRI:a.baseIRI,dataFactory:l})}}}e.ActorQueryParseSparql=n},27368:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.QuadDestinationSparql=void 0;const c=s(52728),o=s(75627),u=s(43796),i=s(46898);e.QuadDestinationSparql=class{constructor(r,n,t,a){this.url=r,this.context=n,this.mediatorHttp=t,this.endpointFetcher=new u.SparqlEndpointFetcher({fetch:(l,d)=>this.mediatorHttp.mediate({input:l,init:d,context:this.context}),prefixVariableQuestionMark:!0,dataFactory:a})}async update(r){const n=this.createCombinedQuadsQuery(r.insert,r.delete);await this.wrapSparqlUpdateRequest(n)}createCombinedQuadsQuery(r,n){return new o.ArrayIterator([],{autoStart:!1}).append(this.createQuadsQuery("DELETE",n)).append(n&&r?[` ;
`]:[]).append(this.createQuadsQuery("INSERT",r))}createQuadsQuery(r,n){return n?n.map(t=>{let a=`${(0,i.termToString)(t.subject)} ${(0,i.termToString)(t.predicate)} ${(0,i.termToString)(t.object)} .`;return a=t.graph.termType==="DefaultGraph"?`  ${a}
`:`  GRAPH ${(0,i.termToString)(t.graph)} { ${a} }
`,a}).prepend([`${r} DATA {
`]).append(["}"]):new o.ArrayIterator([],{autoStart:!1})}async wrapSparqlUpdateRequest(r){const n=await(0,c.stringify)(r);await this.endpointFetcher.fetchUpdate(this.url,n)}async deleteGraphs(r,n,t){const a=Array.isArray(r)?r:[r],l=[];for(const d of a){let p;p=typeof d=="string"?d:d.termType==="DefaultGraph"?"DEFAULT":`GRAPH <${d.value}>`,l.push(`${t?"DROP":"CLEAR"} ${n?"":"SILENT "}${p}`)}await this.endpointFetcher.fetchUpdate(this.url,l.join("; "))}async createGraphs(r,n){const t=[];for(const a of r)t.push(`CREATE${n?"":" SILENT"} GRAPH <${a.value}>`);await this.endpointFetcher.fetchUpdate(this.url,t.join("; "))}}},27403:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionStrDt=void 0;const c=s(77617),o=s(90711),u=s(77545);class i extends c.TermFunctionBase{constructor(){super({arity:2,operator:u.SparqlOperator.STRDT,overloads:(0,u.declare)(u.SparqlOperator.STRDT).set([u.TypeURL.XSD_STRING,"namedNode"],n=>([t,a])=>{const l=n.context.getSafe(o.KeysInitQuery.dataFactory),d=l.literal(t.typedValue,l.namedNode(a.value));return new u.TermTransformer(n.context.getSafe(o.KeysExpressionEvaluator.superTypeProvider)).transformLiteral(d)}).collect()})}}e.TermFunctionStrDt=i},27421:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.AggregateEvaluator=void 0;const c=s(90711),o=s(77545),u=s(20811);e.AggregateEvaluator=class{constructor(i,r,n=!1){this.evaluator=i,this.distinct=r,this.throwError=n,this.errorOccurred=!1,this.errorOccurred=!1,this.superTypeProvider=i.context.getSafe(c.KeysExpressionEvaluator.superTypeProvider),this.termTransformer=new o.TermTransformer(this.superTypeProvider),this.variableValues=new Set}emptyValueTerm(){}emptyValue(){const i=this.emptyValueTerm();if(i===void 0&&this.throwError)throw new o.EmptyAggregateError;return i}async putBindings(i){if(!this.errorOccurred)try{const r=await this.evaluator.evaluate(i);if(!r||this.errorOccurred)return;this.distinct&&this.variableValues.has(u.termToString(r))||(this.putTerm(r),this.distinct&&this.variableValues.add(u.termToString(r)))}catch(r){this.safeThrow(r)}}async result(){if(!this.errorOccurred)return this.termResult()}safeThrow(i){if(this.throwError)throw i;this.errorOccurred=!0}termToNumericOrError(i){if(i.termType!=="Literal")throw new Error(`Term with value ${i.value} has type ${i.termType} and is not a numeric literal`);if(!o.isSubTypeOf(i.datatype.value,o.TypeAlias.SPARQL_NUMERIC,this.superTypeProvider))throw new Error(`Term datatype ${i.datatype.value} with value ${i.value} has type ${i.termType} and is not a numeric literal`);return this.termTransformer.transformLiteral(i)}}},27473:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(65675),e),o(s(85411),e),o(s(10030),e),o(s(91642),e),o(s(10548),e),o(s(21074),e),o(s(8273),e)},27568:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryOperationJoin=void 0;const c=s(66490),o=s(95445),u=s(90412),i=s(99214),r=s(67021),n=s(75627),t=s(47793);class a extends c.ActorQueryOperationTypedMediated{constructor(d){super(d,"join")}async testOperation(d,p){return(0,u.passTestVoid)()}async runOperation(d,p){const f=(await Promise.all(d.input.map(async h=>({output:await this.mediatorQueryOperation.mediate({operation:h,context:p}),operation:h})))).map(({output:h,operation:y})=>({output:(0,r.getSafeBindings)(h),operation:y}));if((await Promise.all(f.map(h=>h.output.metadata()))).some(h=>h.cardinality.value===0&&h.cardinality.type==="exact")){for(const h of f)h.output.bindingsStream.close();return{bindingsStream:new n.ArrayIterator([],{autoStart:!1}),metadata:async()=>({state:new i.MetadataValidationState,cardinality:{type:"exact",value:0},variables:o.ActorRdfJoin.joinVariables(new t.DataFactory,await o.ActorRdfJoin.getMetadatas(f))}),type:"bindings"}}return this.mediatorJoin.mediate({type:"inner",entries:f,context:p})}}e.ActorQueryOperationJoin=a},27749:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermEncodeForUri=void 0;const c=s(77617),o=s(77545),u=s(1144);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.SparqlOperator.ENCODE_FOR_URI],termFunction:!0})}async run(n){return new u.TermFunctionEncodeForUri}}e.ActorFunctionFactoryTermEncodeForUri=i},27869:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(67024),e)},27984:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorOptimizeQueryOperation=void 0;const c=s(90412);class o extends c.Actor{constructor(i){super(i)}}e.ActorOptimizeQueryOperation=o},28223:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermSha1=void 0;const c=s(77617),o=s(77545),u=s(87242);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.SparqlOperator.SHA1],termFunction:!0})}async run(n){return new u.TermFunctionSha1}}e.ActorFunctionFactoryTermSha1=i},28498:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfParseHtml=void 0;const c=s(90412);class o extends c.Actor{constructor(i){super(i)}}e.ActorRdfParseHtml=o},28630:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default={owl:"http://www.w3.org/2002/07/owl#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",sh:"http://www.w3.org/ns/shacl#",xsd:"http://www.w3.org/2001/XMLSchema#"}},28664:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(1078),e),o(s(67986),e),o(s(18021),e),o(s(68159),e),o(s(59257),e),o(s(98701),e),o(s(74010),e)},28699:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(45510),e)},28703:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.deskolemizeOperation=e.deskolemizeQuad=e.deskolemizeTermNestedThrowing=e.deskolemizeTerm=e.skolemizeBindingsStream=e.skolemizeQuadStream=e.skolemizeBindings=e.skolemizeQuad=e.skolemizeTerm=e.getSourceId=e.SKOLEM_PREFIX=void 0;const c=s(51296),o=s(3285),u=s(96331);function i(l,d,p){return d.termType==="BlankNode"?new c.BlankNodeScoped(`bc_${p}_${d.value}`,l.namedNode(`${e.SKOLEM_PREFIX}${p}:${d.value}`)):d}function r(l,d,p){return(0,o.mapTermsNested)(d,f=>i(l,f,p))}function n(l,d,p){return d.map(f=>f.termType==="Quad"?r(l,f,p):i(l,f,p))}function t(l,d,p){if(d.termType==="BlankNode"&&"skolemized"in d&&(d=d.skolemized),d.termType==="NamedNode"&&d.value.startsWith(e.SKOLEM_PREFIX)){const f=d.value.indexOf(":",e.SKOLEM_PREFIX.length);if(d.value.slice(e.SKOLEM_PREFIX.length,f)===p){const h=d.value.slice(f+1,d.value.length);return l.blankNode(h)}return null}return d}function a(l,d,p){if(d.termType==="Quad")return(0,o.mapTermsNested)(d,h=>{const y=t(l,h,p);if(!y)throw new Error("Skolemized term is not in scope for this source");return y});const f=t(l,d,p);if(f===null)throw new Error("Skolemized term is not in scope for this source");return f}e.SKOLEM_PREFIX="urn:comunica_skolem:source_",e.getSourceId=function(l,d){let p=l.get(d.referenceValue);return p===void 0&&(p=`${l.size}`,l.set(d.referenceValue,p)),p},e.skolemizeTerm=i,e.skolemizeQuad=r,e.skolemizeBindings=n,e.skolemizeQuadStream=function(l,d,p){const f=d.map(h=>r(l,h,p));return(function h(){d.getProperty("metadata",y=>{f.setProperty("metadata",y),y.state.addInvalidateListener(h)})})(),f},e.skolemizeBindingsStream=function(l,d,p){const f=d.map(h=>n(l,h,p));return(function h(){d.getProperty("metadata",y=>{f.setProperty("metadata",y),y.state.addInvalidateListener(h)})})(),f},e.deskolemizeTerm=t,e.deskolemizeTermNestedThrowing=a,e.deskolemizeQuad=function(l,d,p){return(0,o.mapTermsNested)(d,f=>t(l,f,p)??f)},e.deskolemizeOperation=function(l,d,p){const f=new u.Factory;try{return u.Util.mapOperation(d,{[u.Algebra.types.PATTERN]:(h,y)=>({result:Object.assign(y.createPattern(a(l,h.subject,p),a(l,h.predicate,p),a(l,h.object,p),a(l,h.graph,p)),{metadata:h.metadata}),recurse:!1}),[u.Algebra.types.PATH]:(h,y)=>({result:Object.assign(y.createPath(a(l,h.subject,p),h.predicate,a(l,h.object,p),a(l,h.graph,p)),{metadata:h.metadata}),recurse:!1})},f)}catch{}}},28869:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfParseHtml=void 0;const c=s(90412);class o extends c.Actor{constructor(i){super(i)}}e.ActorRdfParseHtml=o},28948:(g,e,s)=>{var c=s(67426),o=s(43349);function u(i,r,n){if(!(this instanceof u))return new u(i,r,n);this.Hash=i,this.blockSize=i.blockSize/8,this.outSize=i.outSize/8,this.inner=null,this.outer=null,this._init(c.toArray(r,n))}g.exports=u,u.prototype._init=function(i){i.length>this.blockSize&&(i=new this.Hash().update(i).digest()),o(i.length<=this.blockSize);for(var r=i.length;r<this.blockSize;r++)i.push(0);for(r=0;r<i.length;r++)i[r]^=54;for(this.inner=new this.Hash().update(i),r=0;r<i.length;r++)i[r]^=106;this.outer=new this.Hash().update(i)},u.prototype.update=function(i,r){return this.inner.update(i,r),this},u.prototype.digest=function(i){return this.outer.update(this.inner.digest()),this.outer.digest(i)}},29097:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DataFactory=void 0;const c=s(85653),o=s(43196),u=s(68812),i=s(98958),r=s(87516),n=s(6095);let t=0;e.DataFactory=class{constructor(a){this.blankNodeCounter=0,a=a||{},this.blankNodePrefix=a.blankNodePrefix||`df_${t++}_`}namedNode(a){return new i.NamedNode(a)}blankNode(a){return new c.BlankNode(a||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(a,l){return new u.Literal(a,l)}variable(a){return new n.Variable(a)}defaultGraph(){return o.DefaultGraph.INSTANCE}quad(a,l,d,p){return new r.Quad(a,l,d,p||this.defaultGraph())}fromTerm(a){switch(a.termType){case"NamedNode":return this.namedNode(a.value);case"BlankNode":return this.blankNode(a.value);case"Literal":return a.language?this.literal(a.value,a.language):a.datatype.equals(u.Literal.XSD_STRING)?this.literal(a.value):this.literal(a.value,this.fromTerm(a.datatype));case"Variable":return this.variable(a.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(a.subject),this.fromTerm(a.predicate),this.fromTerm(a.object),this.fromTerm(a.graph))}}fromQuad(a){return this.fromTerm(a)}resetBlankNodeCounter(){this.blankNodeCounter=0}}},29111:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryOperationPathAlt=void 0;const c=s(97091),o=s(43415),u=s(90711),i=s(67021),r=s(75627),n=s(96331);class t extends c.ActorAbstractPath{constructor(l){super(l,n.Algebra.types.ALT)}async runOperation(l,d){const p=d.getSafe(u.KeysInitQuery.dataFactory),f=new n.Factory(p),h=l.predicate,y=(await Promise.all(h.input.map(m=>this.mediatorQueryOperation.mediate({context:d,operation:f.createPath(l.subject,m,l.object,l.graph)})))).map(i.getSafeBindings);return{type:"bindings",bindingsStream:new r.UnionIterator(y.map(m=>m.bindingsStream),{autoStart:!1}),metadata:()=>Promise.all(y.map(m=>m.metadata())).then(m=>o.ActorQueryOperationUnion.unionMetadata(m,!0,d,this.mediatorRdfMetadataAccumulate))}}}e.ActorQueryOperationPathAlt=t},29146:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},29200:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.RdfJsQuadDestination=void 0;const c=s(66486),o=s(59200);e.RdfJsQuadDestination=class{constructor(u,i){this.dataFactory=u,this.store=i}async update(u){u.delete&&await(0,c.promisifyEventEmitter)(this.store.remove(u.delete)),u.insert&&await(0,c.promisifyEventEmitter)(this.store.import(u.insert))}async deleteGraphs(u,i,r){switch(u){case"ALL":await(0,c.promisifyEventEmitter)(this.store.deleteGraph(this.dataFactory.defaultGraph()));case"NAMED":const n=this.store.match(),t={};n.on("data",a=>{a.graph.termType!=="DefaultGraph"&&(t[(0,o.termToString)(a.graph)]=!0)}),await(0,c.promisifyEventEmitter)(n),await Promise.all(Object.keys(t).map(a=>(0,c.promisifyEventEmitter)(this.store.deleteGraph((0,o.stringToTerm)(a,this.dataFactory)))));break;default:for(const a of Array.isArray(u)?u:[u])await(0,c.promisifyEventEmitter)(this.store.deleteGraph(a))}}async createGraphs(u,i){if(i)for(const r of u){const n=this.store.match(void 0,void 0,void 0,r);await new Promise((t,a)=>{n.once("data",()=>{a(new Error(`Unable to create graph ${r.value} as it already exists`))}),n.on("end",t),n.on("error",a)})}}}},29252:g=>{g.exports=function e(s,c){if(s===c)return!0;if(s&&c&&typeof s=="object"&&typeof c=="object"){if(s.constructor!==c.constructor)return!1;var o,u,i;if(Array.isArray(s)){if((o=s.length)!=c.length)return!1;for(u=o;u--!==0;)if(!e(s[u],c[u]))return!1;return!0}if(s instanceof Map&&c instanceof Map){if(s.size!==c.size)return!1;for(u of s.entries())if(!c.has(u[0]))return!1;for(u of s.entries())if(!e(u[1],c.get(u[0])))return!1;return!0}if(s instanceof Set&&c instanceof Set){if(s.size!==c.size)return!1;for(u of s.entries())if(!c.has(u[0]))return!1;return!0}if(ArrayBuffer.isView(s)&&ArrayBuffer.isView(c)){if((o=s.length)!=c.length)return!1;for(u=o;u--!==0;)if(s[u]!==c[u])return!1;return!0}if(s.constructor===RegExp)return s.source===c.source&&s.flags===c.flags;if(s.valueOf!==Object.prototype.valueOf)return s.valueOf()===c.valueOf();if(s.toString!==Object.prototype.toString)return s.toString()===c.toString();if((o=(i=Object.keys(s)).length)!==Object.keys(c).length)return!1;for(u=o;u--!==0;)if(!Object.prototype.hasOwnProperty.call(c,i[u]))return!1;for(u=o;u--!==0;){var r=i[u];if(!e(s[r],c[r]))return!1}return!0}return s!=s&&c!=c}},29306:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.LinkQueueWrapper=void 0,e.LinkQueueWrapper=class{constructor(s){this.linkQueue=s}push(s,c){return this.linkQueue.push(s,c)}getSize(){return this.linkQueue.getSize()}isEmpty(){return this.linkQueue.isEmpty()}pop(){return this.linkQueue.pop()}peek(){return this.linkQueue.peek()}}},29388:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Literal=void 0;const c=s(25614);class o{constructor(i,r){this.termType="Literal",this.value=i,typeof r=="string"?(this.language=r,this.datatype=o.RDF_LANGUAGE_STRING,this.direction=""):r?"termType"in r?(this.language="",this.datatype=r,this.direction=""):(this.language=r.language,this.datatype=r.direction?o.RDF_DIRECTIONAL_LANGUAGE_STRING:o.RDF_LANGUAGE_STRING,this.direction=r.direction||""):(this.language="",this.datatype=o.XSD_STRING,this.direction="")}equals(i){return!!i&&i.termType==="Literal"&&i.value===this.value&&i.language===this.language&&(i.direction===this.direction||!i.direction&&this.direction==="")&&this.datatype.equals(i.datatype)}}e.Literal=o,o.RDF_LANGUAGE_STRING=new c.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),o.RDF_DIRECTIONAL_LANGUAGE_STRING=new c.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#dirLangString"),o.XSD_STRING=new c.NamedNode("http://www.w3.org/2001/XMLSchema#string")},29395:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermYear=void 0;const c=s(77617),o=s(77545),u=s(49562);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.SparqlOperator.YEAR],termFunction:!0})}async run(n){return new u.TermFunctionYear}}e.ActorFunctionFactoryTermYear=i},29637:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermXsdToInteger=void 0;const c=s(77617),o=s(77545),u=s(78740);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.TypeURL.XSD_INTEGER],termFunction:!0})}async run(n){return new u.TermFunctionXsdToInteger}}e.ActorFunctionFactoryTermXsdToInteger=i},29638:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeHandlerSelectionInlineFragment=void 0;const c=s(53284);class o extends c.NodeHandlerSelectionAdapter{constructor(i,r){super("InlineFragment",i,r)}handle(i,r){const n={alias:void 0,arguments:void 0,directives:i.directives,kind:"Field",name:{kind:"Name",value:r.subject.value},selectionSet:i.selectionSet},t=i.typeCondition?[this.util.newTypePattern(r.subject,i.typeCondition,r)]:[];return this.util.operationFactory.createLeftJoin(this.util.operationFactory.createBgp([]),this.fieldToOperation(r,n,!1,t))}}e.NodeHandlerSelectionInlineFragment=o},29657:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return n(t,[])};var c,o=(c=s(98493))&&c.__esModule?c:{default:c};function u(t){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},u(t)}var i=10,r=2;function n(t,a){switch(u(t)){case"string":return JSON.stringify(t);case"function":return t.name?"[function ".concat(t.name,"]"):"[function]";case"object":return t===null?"null":(function(l,d){if(d.indexOf(l)!==-1)return"[Circular]";var p=[].concat(d,[l]),f=(function(y){var m=y[String(o.default)];return typeof m=="function"?m:typeof y.inspect=="function"?y.inspect:void 0})(l);if(f!==void 0){var h=f.call(l);if(h!==l)return typeof h=="string"?h:n(h,p)}else if(Array.isArray(l))return(function(y,m){if(y.length===0)return"[]";if(m.length>r)return"[Array]";for(var b=Math.min(i,y.length),v=y.length-b,_=[],w=0;w<b;++w)_.push(n(y[w],m));return v===1?_.push("... 1 more item"):v>1&&_.push("... ".concat(v," more items")),"["+_.join(", ")+"]"})(l,p);return(function(y,m){var b=Object.keys(y);return b.length===0?"{}":m.length>r?"["+(function(v){var _=Object.prototype.toString.call(v).replace(/^\[object /,"").replace(/]$/,"");if(_==="Object"&&typeof v.constructor=="function"){var w=v.constructor.name;if(typeof w=="string"&&w!=="")return w}return _})(y)+"]":"{ "+b.map(function(v){return v+": "+n(y[v],m)}).join(", ")+" }"})(l,p)})(t,a);default:return String(t)}}},29658:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.parseDayTimeDuration=e.parseYearMonthDuration=e.parseDuration=e.parseTime=e.parseDate=e.parseDateTime=e.parseXSDDecimal=e.parseXSDFloat=void 0;const c=s(31296),o=s(98575),u=s(84427);function i(a){if(a==="")return{zoneHours:void 0,zoneMinutes:void 0};if(a==="Z")return{zoneHours:0,zoneMinutes:0};const l=a.replaceAll(/^([+|-])(\d\d):(\d\d)$/gu,"$11!$2!$3").split("!").map(Number);return{zoneHours:l[0]*l[1],zoneMinutes:l[0]*l[2]}}function r(a){const l=a.replaceAll(/^(-)?([123456789]*\d{4})-(\d\d)-(\d\d)(Z|([+-]\d\d:\d\d))?$/gu,"$11!$2!$3!$4!$5");if(l===a)throw new o.ParseError(a,"date");const d=l.split("!"),p=d.slice(0,-1).map(Number),f={year:p[0]*p[1],month:p[2],day:p[3],...i(d[4])};if(!(f.month>=1&&f.month<=12&&f.day>=1&&f.day<=(0,u.maximumDayInMonthFor)(f.year,f.month)))throw new o.ParseError(a,"date");return f}function n(a){const l=a.replaceAll(/^(\d\d):(\d\d):(\d\d(\.\d+)?)(Z|([+-]\d\d:\d\d))?$/gu,"$1!$2!$3!$5");if(l===a)throw new o.ParseError(a,"time");const d=l.split("!"),p=d.slice(0,-1).map(Number),f={hours:p[0],minutes:p[1],seconds:p[2],...i(d[3])};if(f.seconds>=60||f.minutes>=60||f.hours>24||f.hours===24&&(f.minutes!==0||f.seconds!==0))throw new o.ParseError(a,"time");return f}function t(a){const[l,d]=a.split("T"),p=l.replaceAll(/^(-)?P(\d+Y)?(\d+M)?(\d+D)?$/gu,"$11S!$2!$3!$4");if(p===l)throw new o.ParseError(a,"duration");const f=p.split("!");if(d!==void 0){const m=d.replaceAll(/^(\d+H)?(\d+M)?(\d+(\.\d+)?S)?$/gu,"$1!$2!$3");if(d===""||d===m)throw new o.ParseError(a,"duration");f.push(...m.split("!"))}const h=f.map(m=>m.slice(0,-1));if(!h.slice(1).some(Boolean))throw new o.ParseError(a,"duration");const y=Number(h[0]);return(0,c.simplifyDurationRepresentation)({year:h[1]?y*Number(h[1]):void 0,month:h[2]?y*Number(h[2]):void 0,day:h[3]?y*Number(h[3]):void 0,hours:h[4]?y*Number(h[4]):void 0,minutes:h[5]?y*Number(h[5]):void 0,seconds:h[6]?y*Number(h[6]):void 0})}e.parseXSDFloat=function(a){const l=Number(a);return Number.isNaN(l)?a==="NaN"?Number.NaN:a==="INF"||a==="+INF"?Number.POSITIVE_INFINITY:a==="-INF"?Number.NEGATIVE_INFINITY:void 0:l},e.parseXSDDecimal=function(a){const l=Number(a);return Number.isNaN(l)?void 0:l},e.parseDateTime=function(a){const[l,d]=a.split("T");if(d===void 0)throw new o.ParseError(a,"dateTime");return{...r(l),...n(d)}},e.parseDate=r,e.parseTime=function(a){const l=n(a);return l.hours%=24,l},e.parseDuration=t,e.parseYearMonthDuration=function(a){const l=t(a);if(["hours","minutes","seconds","day"].some(d=>!!l[d]))throw new o.ParseError(a,"yearMonthDuration");return l},e.parseDayTimeDuration=function(a){const l=t(a);if(["year","month"].some(d=>!!l[d]))throw new o.ParseError(a,"dayTimeDuration");return l}},29754:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionXsdToTime=void 0;const c=s(77617),o=s(77545);class u extends c.TermFunctionBase{constructor(){super({arity:1,operator:o.TypeURL.XSD_TIME,overloads:(0,o.declare)(o.TypeURL.XSD_TIME).onUnary(o.TypeURL.XSD_TIME,()=>r=>new o.TimeLiteral(r.typedValue,r.strValue)).onUnary(o.TypeURL.XSD_DATE_TIME,()=>r=>new o.TimeLiteral(r.typedValue)).onStringly1(()=>r=>new o.TimeLiteral((0,o.parseTime)(r.str()))).collect()})}}e.TermFunctionXsdToTime=u},29814:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionSha384=void 0;const c=s(77617),o=s(77545),u=s(77952);class i extends c.TermFunctionBase{constructor(){super({arity:1,operator:o.SparqlOperator.SHA384,overloads:(0,o.declare)(o.SparqlOperator.SHA384).onString1Typed(()=>n=>(0,o.string)((0,u.sha384)().update(n).digest("hex"))).collect()})}}e.TermFunctionSha384=i},29832:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryExpressionNotIn=void 0;const c=s(77617),o=s(77545),u=s(5743);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.SparqlOperator.NOT_IN],termFunction:!1}),this.mediatorFunctionFactory=n.mediatorFunctionFactory}async run(n){const t=await this.mediatorFunctionFactory.mediate({functionName:o.SparqlOperator.IN,context:n.context,arguments:n.arguments});return new u.ExpressionFunctionNotIn(t)}}e.ActorFunctionFactoryExpressionNotIn=i},29856:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorHashBindingsMurmur=void 0;const c=s(16235),o=s(90412),u=s(24799);class i extends c.ActorHashBindings{async test(n){return(0,o.passTestVoid)()}async run(n){return{hashFunction:(t,a)=>{let l=u();for(const d of a)l=l.hash(t.get(d)?.value??"UNDEF");return l.result()}}}}e.ActorHashBindingsMurmur=i},30103:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Translator=void 0,e.Translator=class{constructor(){this.supportedRdfDatatypes=[],this.fromRdfHandlers={},this.toRdfHandlers={}}static incorrectRdfDataType(s){throw new Error(`Invalid RDF ${s.datatype.value} value: '${s.value}'`)}registerHandler(s,c,o){for(const u of c)this.supportedRdfDatatypes.push(u),this.fromRdfHandlers[u.value]=s;for(const u of o){let i=this.toRdfHandlers[u];i||(this.toRdfHandlers[u]=i=[]),i.push(s)}}fromRdf(s,c){const o=this.fromRdfHandlers[s.datatype.value];return o?o.fromRdf(s,c):s.value}toRdf(s,c){const o=this.toRdfHandlers[typeof s];if(o)for(const u of o){const i=u.toRdf(s,c);if(i)return i}throw new Error(`Invalid JavaScript value: '${s}'`)}getSupportedRdfDatatypes(){return this.supportedRdfDatatypes}getSupportedJavaScriptPrimitives(){return Object.keys(this.toRdfHandlers)}}},30152:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryOperationAsk=void 0;const c=s(66490),o=s(90412),u=s(67021);class i extends c.ActorQueryOperationTypedMediated{constructor(n){super(n,"ask")}async testOperation(n,t){return(0,o.passTestVoid)()}async runOperation(n,t){const a=await this.mediatorQueryOperation.mediate({operation:n.input,context:t}),{bindingsStream:l}=(0,u.getSafeBindings)(a);return{type:"boolean",execute:async()=>(await l.take(1).toArray()).length===1}}}e.ActorQueryOperationAsk=i},30199:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.termToString=e.stringToTerm=e.stringQuadToQuad=e.quadToStringQuad=e.getLiteralValue=e.getLiteralType=e.getLiteralLanguage=void 0;const c=s(92405);Object.defineProperty(e,"getLiteralLanguage",{enumerable:!0,get:function(){return c.getLiteralLanguage}}),Object.defineProperty(e,"getLiteralType",{enumerable:!0,get:function(){return c.getLiteralType}}),Object.defineProperty(e,"getLiteralValue",{enumerable:!0,get:function(){return c.getLiteralValue}}),Object.defineProperty(e,"quadToStringQuad",{enumerable:!0,get:function(){return c.quadToStringQuad}}),Object.defineProperty(e,"stringQuadToQuad",{enumerable:!0,get:function(){return c.stringQuadToQuad}}),Object.defineProperty(e,"stringToTerm",{enumerable:!0,get:function(){return c.stringToTerm}}),Object.defineProperty(e,"termToString",{enumerable:!0,get:function(){return c.termToString}})},30254:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(40236),e)},30389:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryResultSerializeJson=void 0;const c=s(58871),o=s(90412),u=s(75627),i=s(90913),r=s(19198);class n extends c.ActorQueryResultSerializeFixedMediaTypes{constructor(a){super(a)}async testHandleChecked(a,l){return["bindings","quads","boolean"].includes(a.type)?(0,o.passTestVoid)():(0,o.failTest)("This actor can only handle bindings or quad streams.")}async runHandle(a,l,d){const p=new r.Readable;if(p._read=()=>{},a.type==="bindings"||a.type==="quads"){let f=a.type==="bindings"?(0,u.wrap)(a.bindingsStream).map(y=>JSON.stringify(Object.fromEntries([...y].map(([m,b])=>[m.value,i.termToString(b)])))):(0,u.wrap)(a.quadStream).map(y=>JSON.stringify(i.quadToStringQuad(y))),h=!0;f=f.map(y=>{const m=`${h?"":","}
${y}`;return h=!1,m}).prepend(["["]).append([`
]
`]),p.wrap(f)}else try{p.push(`${JSON.stringify(await a.execute())}
`),p.push(null)}catch(f){setTimeout(()=>p.emit("error",f))}return{data:p}}}e.ActorQueryResultSerializeJson=n},30393:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermLangmatches=void 0;const c=s(77617),o=s(77545),u=s(42586);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.SparqlOperator.LANG_MATCHES],termFunction:!0})}async run(n){return new u.TermFunctionLangmatches}}e.ActorFunctionFactoryTermLangmatches=i},30615:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(90246),e)},30626:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryOperationMinus=void 0;const c=s(66490),o=s(90412),u=s(67021);class i extends c.ActorQueryOperationTypedMediated{constructor(n){super(n,"minus")}async testOperation(n,t){return(0,o.passTestVoid)()}async runOperation(n,t){const a=n.metadata?.graphVariableFromParentScope,l=(await Promise.all(n.input.map(async d=>({output:await this.mediatorQueryOperation.mediate({operation:d,context:t}),operation:d})))).map(({output:d,operation:p})=>({output:(0,u.getSafeBindings)(d),operation:p}));return this.mediatorJoin.mediate({type:"minus",entries:l,context:t,graphVariableFromParentScope:a})}}e.ActorQueryOperationMinus=i},30785:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorBindingsAggregatorFactorySample=void 0;const c=s(86581),o=s(90412),u=s(71932);class i extends c.ActorBindingsAggregatorFactory{constructor(n){super(n)}async test(n){return n.expr.aggregator!=="sample"?(0,o.failTest)("This actor only supports the 'sample' aggregator."):(0,o.passTestVoid)()}async run({context:n,expr:t}){return new u.SampleAggregator(await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:t.expression,context:n}),t.distinct)}}e.ActorBindingsAggregatorFactorySample=i},30795:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfMetadataExtract=void 0;const c=s(90412);class o extends c.Actor{constructor(i){super(i)}}e.ActorRdfMetadataExtract=o},30862:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BindingsIndexUndef=void 0,e.BindingsIndexUndef=class{constructor(s,c,o){this.data={},this.keys=s.map(u=>u.variable),this.hashFn=c,this.allowDisjointDomains=o&&this.keys.length>0}put(s,c){if(this.allowDisjointDomains||this.isBindingsValid(s)){let o=this.data;for(let u=0;u<this.keys.length;u++){const i=this.keys[u],r=this.hashFn(s.get(i));let n=o[r];n||(n=o[r]=u===this.keys.length-1?c:{}),o=n}}return c}isBindingsValid(s){let c=!1;for(const o of this.keys)if(s.has(o)){c=!0;break}return c}get(s){return this.allowDisjointDomains||this.isBindingsValid(s)?this.getRecursive(s,this.keys,[this.data]):[]}getRecursive(s,c,o){if(c.length===0)return o;let u;[u,...c]=c;const i=[];for(const r of o){const n=this.hashFn(s?.get(u));if(n){const t=[r[n],r[""]].filter(Boolean);if(t.length===0)continue;i.push(this.getRecursive(s,c,t))}else{const t=Object.values(r);if(t.length===0)continue;i.push(this.getRecursive(s,c,t))}}return i.flat()}getFirst(s,c=!0){if(this.allowDisjointDomains||this.isBindingsValid(s))return this.getRecursiveFirst(s,this.keys,[this.data],c)}getRecursiveFirst(s,c,o,u){if(c.length===0)return o[0];let i;[i,...c]=c;for(const r of o){const n=this.hashFn(s.get(i));if(n||!u){const t=[r[n],r[""]].filter(Boolean);if(t.length===0)continue;const a=this.getRecursiveFirst(s,c,t,u);if(a)return a}else{const t=Object.values(r);if(t.length===0)continue;const a=this.getRecursiveFirst(s,c,t,u);if(a)return a}}}values(){return this.keys.length===0?[]:this.getRecursive(void 0,this.keys,[this.data])}}},30872:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryExpressionLogicalOr=void 0;const c=s(77617),o=s(77545),u=s(40883);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.SparqlOperator.LOGICAL_OR],termFunction:!1})}async run(n){return new u.ExpressionFunctionLogicalOr}}e.ActorFunctionFactoryExpressionLogicalOr=i},30879:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DirectiveNodeHandlerSkip=void 0;const c=s(67797);class o extends c.DirectiveNodeHandlerAdapter{constructor(i,r){super("skip",i,r)}handle(i,r){const n=this.getDirectiveConditionalValue(i.directive,r);return n.termType==="Literal"&&n.value==="true"?{ignore:!0}:{}}}e.DirectiveNodeHandlerSkip=o},30912:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(33778),e)},30953:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(5935),e)},30971:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(27749),e)},31038:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(70982),e)},31232:g=>{const e=s=>s!==null&&typeof s=="object"&&typeof s.pipe=="function";e.writable=s=>e(s)&&s.writable!==!1&&typeof s._write=="function"&&typeof s._writableState=="object",e.readable=s=>e(s)&&s.readable!==!1&&typeof s._read=="function"&&typeof s._readableState=="object",e.duplex=s=>e.writable(s)&&e.readable(s),e.transform=s=>e.duplex(s)&&typeof s._transform=="function",g.exports=e},31278:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryOperation=void 0;const c=s(90412);class o extends c.Actor{constructor(i){super(i)}}e.ActorQueryOperation=o},31296:(g,e)=>{function s(r){return{day:r.day??0,hours:r.hours??0,minutes:r.minutes??0,seconds:r.seconds??0}}function c(r){return{year:r.year??0,month:r.month??0}}function o(r){return{...s(r),...c(r)}}function u(r){return{...r,day:r.day??1,hours:r.hours??0,month:r.month??1,year:r.year??0,seconds:r.seconds??0,minutes:r.minutes??0}}function i(r){const n=new Date(r.year,r.month-1,r.day,r.hours,r.minutes,Math.trunc(r.seconds),r.seconds%1*1e3);return r.year>=0&&r.year<100&&n.setFullYear(n.getFullYear()-1900),n}Object.defineProperty(e,"__esModule",{value:!0}),e.extractTimeZone=e.extractRawTimeZone=e.dayTimeDurationsToSeconds=e.yearMonthDurationsToMonths=e.trimToDayTimeDuration=e.trimToYearMonthDuration=e.toUTCDate=e.toJSDate=e.negateDuration=e.toDateTimeRepresentation=e.defaultedDateTimeRepresentation=e.simplifyDurationRepresentation=e.defaultedDurationRepresentation=e.defaultedYearMonthDurationRepresentation=e.defaultedDayTimeDurationRepresentation=void 0,e.defaultedDayTimeDurationRepresentation=s,e.defaultedYearMonthDurationRepresentation=c,e.defaultedDurationRepresentation=o,e.simplifyDurationRepresentation=function(r){const n=o(r),t={},a=n.year+Math.trunc(n.month/12);a&&(t.year=a,n.month%=12),n.month&&(t.month=n.month);const l=n.day+Math.trunc(n.hours/24)+Math.trunc(n.minutes/1440)+Math.trunc(n.seconds/86400);l&&(t.day=l,n.hours%=24,n.minutes%=1440,n.seconds%=86400);const d=n.hours+Math.trunc(n.minutes/60)+Math.trunc(n.seconds/3600);d&&(t.hours=d,n.minutes%=60,n.seconds%=3600);const p=n.minutes+Math.trunc(n.seconds/60);return p&&(t.minutes=p,n.seconds%=60),n.seconds&&(t.seconds=n.seconds),t},e.defaultedDateTimeRepresentation=u,e.toDateTimeRepresentation=function({date:r,timeZone:n}){return{year:r.getFullYear(),month:r.getMonth()+1,day:r.getDate(),hours:r.getHours(),minutes:r.getMinutes(),seconds:r.getSeconds(),zoneHours:n.zoneHours,zoneMinutes:n.zoneMinutes}},e.negateDuration=function(r){return{year:r.year===void 0?void 0:-1*r.year,month:r.month===void 0?void 0:-1*r.month,day:r.day===void 0?void 0:-1*r.day,hours:r.hours===void 0?void 0:-1*r.hours,minutes:r.minutes===void 0?void 0:-1*r.minutes,seconds:r.seconds===void 0?void 0:-1*r.seconds}},e.toJSDate=i,e.toUTCDate=function(r,n){const t=i(u(r)),a=t.getTimezoneOffset(),l=r.zoneHours??n.zoneHours,d=r.zoneMinutes??n.zoneMinutes;return new Date(t.getTime()-60*(a+60*l+d)*1e3)},e.trimToYearMonthDuration=function(r){return{year:r.year,month:r.month}},e.trimToDayTimeDuration=function(r){return{day:r.day,hours:r.hours,minutes:r.minutes,seconds:r.seconds}},e.yearMonthDurationsToMonths=function(r){return 12*r.year+r.month},e.dayTimeDurationsToSeconds=function(r){return 60*(60*(24*r.day+r.hours)+r.minutes)+r.seconds},e.extractRawTimeZone=function(r){return/(Z|([+-]\d\d:\d\d))?$/u.exec(r)[0]},e.extractTimeZone=function(r){return{zoneHours:r.getTimezoneOffset()/60,zoneMinutes:r.getTimezoneOffset()%60}}},31348:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(2693),e)},31399:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(43120),e)},31425:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.updateV1State=void 0;const c=s(52291),o=s(76011),u={};function i(n,t,a){return n.msecs??=-1/0,n.nsecs??=0,t===n.msecs?(n.nsecs++,n.nsecs>=1e4&&(n.node=void 0,n.nsecs=0)):t>n.msecs?n.nsecs=0:t<n.msecs&&(n.node=void 0),n.node||(n.node=a.slice(10,16),n.node[0]|=1,n.clockseq=16383&(a[8]<<8|a[9])),n.msecs=t,n}function r(n,t,a,l,d,p,f=0){if(n.length<16)throw new Error("Random bytes length must be >= 16");if(p){if(f<0||f+16>p.length)throw new RangeError(`UUID byte range ${f}:${f+15} is out of buffer bounds`)}else p=new Uint8Array(16),f=0;t??=Date.now(),a??=0,l??=16383&(n[8]<<8|n[9]),d??=n.slice(10,16);const h=(1e4*(268435455&(t+=122192928e5))+a)%4294967296;p[f++]=h>>>24&255,p[f++]=h>>>16&255,p[f++]=h>>>8&255,p[f++]=255&h;const y=t/4294967296*1e4&268435455;p[f++]=y>>>8&255,p[f++]=255&y,p[f++]=y>>>24&15|16,p[f++]=y>>>16&255,p[f++]=l>>>8|128,p[f++]=255&l;for(let m=0;m<6;++m)p[f++]=d[m];return p}e.updateV1State=i,e.default=function(n,t,a){let l;const d=n?._v6??!1;if(n){const p=Object.keys(n);p.length===1&&p[0]==="_v6"&&(n=void 0)}if(n)l=r(n.random??n.rng?.()??(0,c.default)(),n.msecs,n.nsecs,n.clockseq,n.node,t,a);else{const p=Date.now(),f=(0,c.default)();i(u,p,f),l=r(f,u.msecs,u.nsecs,d?void 0:u.clockseq,d?void 0:u.node,t,a)}return t??(0,o.unsafeStringify)(l)}},31487:(g,e)=>{function s(c){return c>=65&&c<=90||c>=97&&c<=122||c===58||c===95||c===8204||c===8205||c>=192&&c<=214||c>=216&&c<=246||c>=248&&c<=767||c>=880&&c<=893||c>=895&&c<=8191||c>=8304&&c<=8591||c>=11264&&c<=12271||c>=12289&&c<=55295||c>=63744&&c<=64975||c>=65008&&c<=65533||c>=65536&&c<=983039}Object.defineProperty(e,"__esModule",{value:!0}),e.CHAR=`	
\r ---`,e.S=` 	\r
`,e.NAME_START_CHAR=":A-Z_a-z-----------",e.NAME_CHAR="-"+e.NAME_START_CHAR+".0-9--",e.CHAR_RE=new RegExp("^["+e.CHAR+"]$","u"),e.S_RE=new RegExp("^["+e.S+"]+$","u"),e.NAME_START_CHAR_RE=new RegExp("^["+e.NAME_START_CHAR+"]$","u"),e.NAME_CHAR_RE=new RegExp("^["+e.NAME_CHAR+"]$","u"),e.NAME_RE=new RegExp("^["+e.NAME_START_CHAR+"]["+e.NAME_CHAR+"]*$","u"),e.NMTOKEN_RE=new RegExp("^["+e.NAME_CHAR+"]+$","u"),e.S_LIST=[32,10,13,9],e.isChar=function(c){return c>=32&&c<=55295||c===10||c===13||c===9||c>=57344&&c<=65533||c>=65536&&c<=1114111},e.isS=function(c){return c===32||c===10||c===13||c===9},e.isNameStartChar=s,e.isNameChar=function(c){return s(c)||c>=48&&c<=57||c===45||c===46||c===183||c>=768&&c<=879||c>=8255&&c<=8256}},31513:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},31523:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfJoinNestedLoop=void 0;const c=s(95445),o=s(90412),u=s(25579);class i extends c.ActorRdfJoin{constructor(n){super(n,{logicalType:"inner",physicalName:"nested-loop",limitEntries:2,canHandleUndefs:!0})}async getOutput(n){return{result:{type:"bindings",bindingsStream:new u.NestedLoopJoin(n.entries[0].output.bindingsStream,n.entries[1].output.bindingsStream,c.ActorRdfJoin.joinBindings,{autoStart:!1}),metadata:async()=>await this.constructResultMetadata(n.entries,await c.ActorRdfJoin.getMetadatas(n.entries),n.context)}}}async getJoinCoefficients(n,t){const{metadatas:a}=t,l=c.ActorRdfJoin.getRequestInitialTimes(a),d=c.ActorRdfJoin.getRequestItemTimes(a);return(0,o.passTestWithSideData)({iterations:a[0].cardinality.value*a[1].cardinality.value,persistedItems:0,blockingItems:0,requestTime:l[0]+a[0].cardinality.value*d[0]+l[1]+a[1].cardinality.value*d[1]},t)}}e.ActorRdfJoinNestedLoop=i},31588:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(18202),e)},31660:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryOperationUnion=void 0;const c=s(66490),o=s(90412),u=s(99214),i=s(67021),r=s(75627);class n extends c.ActorQueryOperationTypedMediated{constructor(a){super(a,"union")}static unionVariables(a){const l={};for(const d of a)for(const p of d){l[p.variable.value]||(l[p.variable.value]={variable:p.variable,canBeUndef:p.canBeUndef,occurrences:0});const f=l[p.variable.value];f.canBeUndef=f.canBeUndef||p.canBeUndef,f.occurrences++}return Object.values(l).map(d=>d.occurrences===a.length?{variable:d.variable,canBeUndef:d.canBeUndef}:{variable:d.variable,canBeUndef:!0})}static async unionMetadata(a,l,d,p){let f=(await p.mediate({mode:"initialize",context:d})).metadata;for(const y of a)f={...y,...(await p.mediate({mode:"append",accumulatedMetadata:f,appendingMetadata:y,context:d})).metadata};f.state=new u.MetadataValidationState;const h=()=>f.state.invalidate();for(const y of a)y.state.addInvalidateListener(h);if(l){const y=a.map(m=>m.variables);f.variables=n.unionVariables(y)}return f}async testOperation(a,l){return(0,o.passTestVoid)()}async runOperation(a,l){const d=await Promise.all(a.input.map(f=>this.mediatorQueryOperation.mediate({operation:f,context:l})));let p;for(const f of d)if(p===void 0)p=f.type;else if(p!==f.type)throw new Error(`Unable to union ${p} and ${f.type}`);if(p==="bindings"||a.input.length===0){const f=d.map(i.getSafeBindings);return{type:"bindings",bindingsStream:new r.UnionIterator(f.map(h=>h.bindingsStream),{autoStart:!1}),metadata:()=>Promise.all(f.map(h=>h.metadata())).then(h=>n.unionMetadata(h,!0,l,this.mediatorRdfMetadataAccumulate))}}if(p==="quads"){const f=d.map(i.getSafeQuads);return{type:"quads",quadStream:new r.UnionIterator(f.map(h=>h.quadStream),{autoStart:!1}),metadata:()=>Promise.all(f.map(h=>h.metadata())).then(h=>n.unionMetadata(h,!1,l,this.mediatorRdfMetadataAccumulate))}}throw new Error(`Unable to union ${p}`)}}e.ActorQueryOperationUnion=n},31797:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0});const c=s(59746);e.default=function(o){if(!(0,c.default)(o))throw TypeError("Invalid UUID");let u;return Uint8Array.of((u=parseInt(o.slice(0,8),16))>>>24,u>>>16&255,u>>>8&255,255&u,(u=parseInt(o.slice(9,13),16))>>>8,255&u,(u=parseInt(o.slice(14,18),16))>>>8,255&u,(u=parseInt(o.slice(19,23),16))>>>8,255&u,(u=parseInt(o.slice(24,36),16))/1099511627776&255,u/4294967296&255,u>>>24&255,u>>>16&255,u>>>8&255,255&u)}},31994:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},32072:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.termToString=e.stringToTerm=e.stringQuadToQuad=e.quadToStringQuad=e.getLiteralValue=e.getLiteralType=e.getLiteralLanguage=void 0;const c=s(2204);Object.defineProperty(e,"getLiteralLanguage",{enumerable:!0,get:function(){return c.getLiteralLanguage}}),Object.defineProperty(e,"getLiteralType",{enumerable:!0,get:function(){return c.getLiteralType}}),Object.defineProperty(e,"getLiteralValue",{enumerable:!0,get:function(){return c.getLiteralValue}}),Object.defineProperty(e,"quadToStringQuad",{enumerable:!0,get:function(){return c.quadToStringQuad}}),Object.defineProperty(e,"stringQuadToQuad",{enumerable:!0,get:function(){return c.stringQuadToQuad}}),Object.defineProperty(e,"stringToTerm",{enumerable:!0,get:function(){return c.stringToTerm}}),Object.defineProperty(e,"termToString",{enumerable:!0,get:function(){return c.termToString}})},32106:(g,e,s)=>{let c=s(75627).AsyncIterator;g.exports=class extends c{constructor(o){super(),Array.isArray(o)||(o=Array.prototype.slice.call(arguments)),this.streams=o;for(let u of o)u.on("readable",()=>this.emit("readable")),u.on("end",()=>this._removeStream(u));this.streams.length===0&&this.close(),this.idx=this.streams.length-1}_removeStream(o){let u=this.streams.indexOf(o);u<0||(this.streams.splice(u,1),this.idx>=this.streams.length&&--this.idx,this.streams.length===0&&this._end())}close(){super.close();for(let o of this.streams)o.close()}read(){for(let o=0;o<this.streams.length;++o){this.idx=(this.idx+1)%this.streams.length;let u=this.streams[this.idx].read();if(u!==null)return u}return null}}},32300:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.validateIri=e.IriValidationStrategy=void 0;const s=(function(){const u="[!$&'()*+,;=]",i="%[a-fA-F0-9]{2}",r="([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",n=`${r}\\.${r}\\.${r}\\.${r}`,t="[a-fA-F0-9]{1,4}",a=`(${t}:${t}|${n})`,l="[a-zA-Z0-9\\-._~-----------------]",d=`(${l}|${i}|${u}|[:@])*`,p=`(${d})+`,f=`(${d})*`;return new RegExp(`^[a-zA-Z][a-zA-Z0-9+\\-.]*:(\\/\\/((${l}|${i}|${u}|:)*@)?(\\[(((${t}:){6}${a}|::(${t}:){5}${a}|(${t})?::(${t}:){4}${a}|((${t}:){0,1}${t})?::(${t}:){3}${a}|((${t}:){0,2}${t})?::(${t}:){2}${a}|((${t}:){0,3}${t})?::${t}:${a}|((${t}:){0,4}${t})?::${a}|((${t}:){0,5}${t})?::${t}|((${t}:){0,6}${t})?::)|v[a-fA-F0-9]+\\.(${u}|${u}|":)+)\\]|${n}|(${l}|${i}|${u})*)(:[0-9]*)?(\\/${f})*|\\/(${p}(\\/${f})*)?|${p}(\\/${f})*|)(\\?(${d}|[---]|[\\/?])*)?(#(${d}|[\\/?])*)?$`,"u")})(),c=/^[A-Za-z][\d+-.A-Za-z]*:[^\u0000-\u0020"<>\\^`{|}]*$/u;var o;(function(u){u.Strict="strict",u.Pragmatic="pragmatic",u.None="none"})(o=e.IriValidationStrategy||(e.IriValidationStrategy={})),e.validateIri=function(u,i=o.Strict){switch(i){case o.Strict:return s.test(u)?void 0:new Error(`Invalid IRI according to RFC 3987: '${u}'`);case o.Pragmatic:return c.test(u)?void 0:new Error(`Invalid IRI according to RDF Turtle: '${u}'`);case o.None:return;default:return new Error(`Not supported validation strategy "${i}"`)}}},32310:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(62489),e)},32320:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(7982),e),o(s(39994),e),o(s(42429),e),o(s(13815),e),o(s(58593),e),o(s(55461),e),o(s(38930),e)},32549:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MetadataValidationState=void 0,e.MetadataValidationState=class{constructor(){this.invalidateListeners=[],this.valid=!0}addInvalidateListener(s){this.invalidateListeners.push(s)}invalidate(){if(this.valid){this.valid=!1;for(const s of this.invalidateListeners)s()}}}},32834:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionStr=void 0;const c=s(77617),o=s(77545);class u extends c.TermFunctionBase{constructor(){super({arity:1,operator:o.SparqlOperator.STR,overloads:(0,o.declare)(o.SparqlOperator.STR).onTerm1(()=>r=>(0,o.string)(r.str())).collect()})}}e.TermFunctionStr=u},32988:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.URL=e.DNS=e.stringToBytes=void 0;const c=s(31797),o=s(76011);function u(i){i=unescape(encodeURIComponent(i));const r=new Uint8Array(i.length);for(let n=0;n<i.length;++n)r[n]=i.charCodeAt(n);return r}e.stringToBytes=u,e.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",e.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",e.default=function(i,r,n,t,a,l){const d=typeof n=="string"?u(n):n,p=typeof t=="string"?(0,c.default)(t):t;if(typeof t=="string"&&(t=(0,c.default)(t)),t?.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let f=new Uint8Array(16+d.length);if(f.set(p),f.set(d,p.length),f=r(f),f[6]=15&f[6]|i,f[8]=63&f[8]|128,a){l=l||0;for(let h=0;h<16;++h)a[l+h]=f[h];return a}return(0,o.unsafeStringify)(f)}},33032:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(25337),e)},33152:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryResultSerializeFixedMediaTypes=void 0;const c=s(48092),o=s(90412);class u extends c.ActorAbstractMediaTypedFixed{constructor(r){super(r)}async testHandleChecked(r,n){return(0,o.passTestVoid)()}}e.ActorQueryResultSerializeFixedMediaTypes=u},33163:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(11930),e)},33181:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(5008),e)},33275:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(98027),e)},33283:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerKeywordValue=void 0;const c=s(1548);class o extends c.EntryHandlerKeyword{constructor(){super("@value")}async validate(i,r,n,t,a){const l=n[t];return l&&!i.literalStack[t]&&await this.test(i,r,l,n,t)&&(i.literalStack[t]=!0),super.validate(i,r,n,t,a)}async test(i,r,n,t,a){return await r.unaliasKeyword(t[a],t.slice(0,t.length-1),a-1,!0)==="@value"}async handle(i,r,n,t,a,l){i.literalStack[l]=!0,delete i.unidentifiedValuesBuffer[l],delete i.unidentifiedGraphsBuffer[l],i.emittedStack[l]=!1}}e.EntryHandlerKeywordValue=o},33369:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Variable=void 0;const c=s(42996);e.Variable=class{constructor(o){this.expressionType=c.ExpressionType.Variable,this.name=o}}},33381:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryOperationTypedMediated=void 0;const c=s(95816);class o extends c.ActorQueryOperationTyped{constructor(i,r){super(i,r)}}e.ActorQueryOperationTypedMediated=o},33384:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Variable=void 0,e.Variable=class{constructor(s){this.termType="Variable",this.value=s}equals(s){return!!s&&s.termType==="Variable"&&s.value===this.value}}},33386:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.filterMatchingQuotedQuads=e.quadsOrderToBindingsOrder=e.quadsMetadataToBindingsMetadata=e.setMetadata=e.getDuplicateElementLinks=e.getVariables=e.isTermVariable=e.quadsToBindings=void 0;const c=s(4809),o=s(99214),u=s(51905),i=s(3285),r=s(64232);function n(f){return f.termType==="Variable"}function t(f){return(0,i.uniqTerms)((0,i.getTermsNested)(f).filter(n))}function a(f){const h={};let y=!1;if((0,i.forEachTermsNested)(f,(b,v)=>{if(b.termType==="Variable"){const _=(0,u.termToString)(b),w=(h[_]||(h[_]=[])).push(v);y=y||w>1}}),!y)return;const m={};for(const b in h){const v=h[b],_=v.slice(1);_.length>0&&(m[v[0].join("_")]=_)}return m}function l(f,h,y,m,b,v){const _=S=>{v&&(S.cardinality.type="estimate"),h.setProperty("metadata",d(f,(0,o.validateMetadataQuads)(S),m,b)),S.state&&S.state.addInvalidateListener(()=>{l(f,h,y,m,b,v)})},w=y.getProperty("metadata");w?_(w):y.getProperty("metadata",_)}function d(f,h,y,m){return{...h,order:h.order?p(f,h.order,y):void 0,availableOrders:h.availableOrders?h.availableOrders.map(b=>({cost:b.cost,terms:p(f,b.terms,y)})):void 0,variables:m.map(b=>({variable:b,canBeUndef:!1}))}}function p(f,h,y){const m={};return h.map(b=>{const v=y[b.term];if(v&&!m[v])return m[v]=!0,{term:f.variable(v),direction:b.direction}}).filter(Boolean)}e.quadsToBindings=function(f,h,y,m,b){const v=t(h),_=h.graph.termType==="Variable"&&!b,w=a(h),S=(0,i.reduceTermsNested)(h,(O,E,R)=>(E.termType==="Variable"&&(O[R.join("_")]=E.value),O),{});let x=f;_&&(x=x.filter(O=>O.graph.termType!=="DefaultGraph")),w&&(x=x.filter(O=>{for(const E in w){const R=E.split("_"),M=(0,i.getValueNestedPath)(O,R);for(const Q of w[E])if(!M.equals((0,i.getValueNestedPath)(O,Q)))return!1}return!0}));const T=new c.ClosableIterator(x.map(O=>m.bindings(Object.keys(S).map(E=>{const R=E.split("_"),M=S[E],Q=(0,i.getValueNestedPath)(O,R);return[y.variable(M),Q]}))),{onClose:()=>f.destroy()});return l(y,T,f,S,v,_||!!w),T},e.isTermVariable=n,e.getVariables=t,e.getDuplicateElementLinks=a,e.setMetadata=l,e.quadsMetadataToBindingsMetadata=d,e.quadsOrderToBindingsOrder=p,e.filterMatchingQuotedQuads=function(f,h){return(0,i.someTerms)(f,y=>y.termType==="Quad")&&(h=h.filter(y=>(0,r.matchPatternMappings)(y,f))),h}},33401:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(45122),e)},33657:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfParseHtmlRdfa=void 0;const c=s(66882),o=s(90711),u=s(90412),i=s(69749);class r extends c.ActorRdfParseHtml{constructor(t){super(t)}async test(t){return(0,u.passTestVoid)()}async run(t){const a=t.context.getSafe(o.KeysInitQuery.dataFactory),l=t.headers?t.headers.get("content-type"):null,d=(t.headers&&t.headers.get("content-language"))??void 0,p=l&&l.includes("xml")?"xhtml":"html",f=new i.RdfaParser({dataFactory:a,baseIRI:t.baseIRI,profile:p,language:d});f.on("error",t.error),f.on("data",t.emit);const h=f.onEnd;return f.onEnd=()=>{h.call(f),t.end()},{htmlParseListener:f}}}e.ActorRdfParseHtmlRdfa=r},33688:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryOperationCreate=void 0;const c=s(66490),o=s(67021);class u extends c.ActorQueryOperationTypedMediated{constructor(r){super(r,"create")}async testOperation(r,n){return(0,o.testReadOnly)(n)}async runOperation(r,n){const{execute:t}=await this.mediatorUpdateQuads.mediate({createGraphs:{graphs:[r.source],requireNonExistence:!r.silent},context:n});return{type:"void",execute:t}}}e.ActorQueryOperationCreate=u},33704:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorOptimizeQueryOperationFilterPushdown=void 0;const c=s(38912),o=s(90711),u=s(90412),i=s(67021),r=s(3285),n=s(96331);class t extends c.ActorOptimizeQueryOperation{constructor(l){super(l)}async test(l){return(0,u.passTestVoid)()}async run(l){const d=l.context.getSafe(o.KeysInitQuery.dataFactory),p=new n.Factory(d);let f=l.operation;const h=this;this.splitConjunctive&&(f=n.Util.mapOperation(f,{filter:(_,w)=>_.expression.expressionType===n.Algebra.expressionTypes.OPERATOR&&_.expression.operator==="&&"?(h.logDebug(l.context,`Split conjunctive filter into ${_.expression.args.length} nested filters`),{recurse:!0,result:_.expression.args.reduce((S,x)=>w.createFilter(S,x),_.input)}):{recurse:!0,result:_}},p));const y=this.getSources(f),m=new Map(await Promise.all(y.map(async _=>[_,await _.source.getSelectorShape(l.context)])));let b=!0,v=0;for(;b&&v<this.maxIterations;)b=!1,f=n.Util.mapOperation(f,{filter(_,w){const S=l.context.get(o.KeysInitQuery.extensionFunctions),x=l.context.get(o.KeysInitQuery.extensionFunctionsAlwaysPushdown);if(!h.shouldAttemptPushDown(_,y,m,S,x))return{recurse:!0,result:_};const T=(0,i.getExpressionVariables)(_.expression),[O,E]=h.filterPushdown(_.expression,T,_.input,w,l.context);return O&&(b=!0),{recurse:!0,result:E}}}),v++;return v>1&&h.logDebug(l.context,`Pushed down filters in ${v} iterations`),this.mergeConjunctive&&(f=n.Util.mapOperation(f,{filter(_,w){if(_.input.type===n.Algebra.types.FILTER){const{nestedExpressions:S,input:x}=h.getNestedFilterExpressions(_);return h.logDebug(l.context,`Merge ${S.length} nested filters into conjunctive filter`),{recurse:!0,result:w.createFilter(x,S.slice(1).reduce((T,O)=>w.createOperatorExpression("&&",[T,O]),S[0]))}}return{recurse:!0,result:_}}})),{operation:f,context:l.context}}shouldAttemptPushDown(l,d,p,f,h){if(this.aggressivePushdown)return!0;const y=l.expression;return y.expressionType===n.Algebra.expressionTypes.OPERATOR&&y.operator==="="&&(y.args[0].expressionType==="term"&&y.args[0].term.termType!=="Variable"&&y.args[1].expressionType==="term"&&y.args[1].term.termType==="Variable"||y.args[0].expressionType==="term"&&y.args[0].term.termType==="Variable"&&y.args[1].expressionType==="term"&&y.args[1].term.termType!=="Variable")||!(f&&y.expressionType===n.Algebra.expressionTypes.NAMED&&y.name.value in f&&!d.some(m=>(0,i.doesShapeAcceptOperation)(p.get(m),y)))&&!!d.some(m=>(0,i.doesShapeAcceptOperation)(p.get(m),l,{wildcardAcceptAllExtensionFunctions:h}))}getSources(l){const d=new Set,p=f=>{const h=(0,i.getOperationSource)(f);return h&&d.add(h),!1};return n.Util.recurseOperation(l,{[n.Algebra.types.PATTERN]:p,[n.Algebra.types.LINK]:p,[n.Algebra.types.NPS]:p,[n.Algebra.types.SERVICE]:p}),[...d]}getOverlappingOperations(l,d){const p=[],f=[],h=[];for(const y of l.input){const m=n.Util.inScopeVariables(y);this.variablesSubSetOf(d,m)?p.push(y):this.variablesIntersect(d,m)?f.push(y):h.push(y)}return{fullyOverlapping:p,partiallyOverlapping:f,notOverlapping:h}}filterPushdown(l,d,p,f,h){if(this.isExpressionFalse(l))return[!0,f.createUnion([])];if(l.expressionType===n.Algebra.expressionTypes.EXISTENCE)return[!1,f.createFilter(p,l)];switch(p.type){case n.Algebra.types.EXTEND:return this.variablesIntersect([p.variable],d)?[!1,f.createFilter(p,l)]:[!0,f.createExtend(this.filterPushdown(l,d,p.input,f,h)[1],p.variable,p.expression)];case n.Algebra.types.FILTER:{const[y,m]=this.filterPushdown(l,d,p.input,f,h);return[y,f.createFilter(m,p.expression)]}case n.Algebra.types.JOIN:{if(p.input.length===0)return[!1,f.createFilter(p,l)];const{fullyOverlapping:y,partiallyOverlapping:m,notOverlapping:b}=this.getOverlappingOperations(p,d),v=[];let _=!1;return y.length>0&&(_=!0,v.push(f.createJoin(y.map(w=>this.filterPushdown(l,d,w,f,h)[1])))),m.length>0&&v.push(f.createFilter(f.createJoin(m,!1),l)),b.length>0&&v.push(...b),v.length>1&&(_=!0),_&&this.logDebug(h,`Push down filter across join entries with ${y.length} fully overlapping, ${m.length} partially overlapping, and ${b.length} not overlapping`),[_,v.length===1?v[0]:f.createJoin(v)]}case n.Algebra.types.NOP:return[!0,p];case n.Algebra.types.PROJECT:return this.variablesIntersect(p.variables,d)?[!0,f.createProject(this.filterPushdown(l,d,p.input,f,h)[1],p.variables)]:[!0,p];case n.Algebra.types.UNION:{const{fullyOverlapping:y,partiallyOverlapping:m,notOverlapping:b}=this.getOverlappingOperations(p,d),v=[];let _=!1;return y.length>0&&(_=!0,v.push(f.createUnion(y.map(w=>this.filterPushdown(l,d,w,f,h)[1])))),m.length>0&&v.push(f.createFilter(f.createUnion(m,!1),l)),b.length>0&&v.push(...b),v.length>1&&(_=!0),_&&this.logDebug(h,`Push down filter across union entries with ${y.length} fully overlapping, ${m.length} partially overlapping, and ${b.length} not overlapping`),[_,v.length===1?v[0]:f.createUnion(v)]}case n.Algebra.types.VALUES:return this.variablesIntersect(p.variables,d)?[!1,f.createFilter(p,l)]:[!0,p];case n.Algebra.types.LEFT_JOIN:if(this.pushIntoLeftJoins){const y=n.Util.inScopeVariables(p.input[1]);if(!this.variablesIntersect(d,y))return this.logDebug(h,"Push down filter into left join"),[!0,f.createLeftJoin(this.filterPushdown(l,d,p.input[0],f,h)[1],p.input[1],p.expression)]}return[!1,f.createFilter(p,l)];case n.Algebra.types.PATTERN:if(this.pushEqualityIntoPatterns){const y=this.getEqualityExpressionPushableIntoPattern(l);if(y){let m=!1;const b=p.metadata;if((p=(0,r.mapTermsNested)(p,v=>v.equals(y.variable)?(m=!0,y.term):v)).type=n.Algebra.types.PATTERN,p.metadata=b,m)return this.logDebug(h,`Push down filter into pattern for ?${y.variable.value}`),[!0,f.createJoin([p,f.createValues([y.variable],[{[`?${y.variable.value}`]:y.term}])])]}}return[!1,f.createFilter(p,l)];case n.Algebra.types.PATH:if(this.pushEqualityIntoPatterns){const y=this.getEqualityExpressionPushableIntoPattern(l);if(y&&(p.subject.equals(y.variable)||p.object.equals(y.variable))){this.logDebug(h,`Push down filter into path for ?${y.variable.value}`);const m=p.metadata;return(p=f.createPath(p.subject.equals(y.variable)?y.term:p.subject,p.predicate,p.object.equals(y.variable)?y.term:p.object)).metadata=m,[!0,f.createJoin([p,f.createValues([y.variable],[{[`?${y.variable.value}`]:y.term}])])]}}return[!1,f.createFilter(p,l)];case n.Algebra.types.MINUS:case n.Algebra.types.ALT:case n.Algebra.types.ASK:case n.Algebra.types.BGP:case n.Algebra.types.CONSTRUCT:case n.Algebra.types.DESCRIBE:case n.Algebra.types.DISTINCT:case n.Algebra.types.EXPRESSION:case n.Algebra.types.FROM:case n.Algebra.types.GRAPH:case n.Algebra.types.GROUP:case n.Algebra.types.INV:case n.Algebra.types.LINK:case n.Algebra.types.NPS:case n.Algebra.types.ONE_OR_MORE_PATH:case n.Algebra.types.ORDER_BY:case n.Algebra.types.REDUCED:case n.Algebra.types.SEQ:case n.Algebra.types.SERVICE:case n.Algebra.types.SLICE:case n.Algebra.types.ZERO_OR_MORE_PATH:case n.Algebra.types.ZERO_OR_ONE_PATH:case n.Algebra.types.COMPOSITE_UPDATE:case n.Algebra.types.DELETE_INSERT:case n.Algebra.types.LOAD:case n.Algebra.types.CLEAR:case n.Algebra.types.CREATE:case n.Algebra.types.DROP:case n.Algebra.types.ADD:case n.Algebra.types.MOVE:case n.Algebra.types.COPY:return[!1,f.createFilter(p,l)]}}getEqualityExpressionPushableIntoPattern(l){if(l.expressionType===n.Algebra.expressionTypes.OPERATOR&&l.operator==="="){if(l.args[0].expressionType==="term"&&l.args[0].term.termType!=="Variable"&&(l.args[0].term.termType!=="Literal"||this.isLiteralWithCanonicalLexicalForm(l.args[0].term))&&l.args[1].expressionType==="term"&&l.args[1].term.termType==="Variable")return{variable:l.args[1].term,term:l.args[0].term};if(l.args[0].expressionType==="term"&&l.args[0].term.termType==="Variable"&&l.args[1].expressionType==="term"&&l.args[1].term.termType!=="Variable"&&(l.args[1].term.termType!=="Literal"||this.isLiteralWithCanonicalLexicalForm(l.args[1].term)))return{variable:l.args[0].term,term:l.args[1].term}}}isLiteralWithCanonicalLexicalForm(l){switch(l.datatype.value){case"http://www.w3.org/2001/XMLSchema#string":case"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":case"http://www.w3.org/2001/XMLSchema#normalizedString":case"http://www.w3.org/2001/XMLSchema#anyURI":case"http://www.w3.org/2001/XMLSchema#base64Binary":case"http://www.w3.org/2001/XMLSchema#language":case"http://www.w3.org/2001/XMLSchema#Name":case"http://www.w3.org/2001/XMLSchema#NCName":case"http://www.w3.org/2001/XMLSchema#NMTOKEN":case"http://www.w3.org/2001/XMLSchema#token":case"http://www.w3.org/2001/XMLSchema#hexBinary":return!0}return!1}variablesIntersect(l,d){return l.some(p=>d.some(f=>p.equals(f)))}variablesSubSetOf(l,d){return l.length<=d.length&&l.every(p=>d.some(f=>p.equals(f)))}isExpressionFalse(l){return l.term&&l.term.termType==="Literal"&&l.term.value==="false"}getNestedFilterExpressions(l){if(l.input.type===n.Algebra.types.FILTER){const d=this.getNestedFilterExpressions(l.input);return{nestedExpressions:[l.expression,...d.nestedExpressions],input:d.input}}return{nestedExpressions:[l.expression],input:l.input}}}e.ActorOptimizeQueryOperationFilterPushdown=t},33778:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermStrAfter=void 0;const c=s(77617),o=s(77545),u=s(79011);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.SparqlOperator.STRAFTER],termFunction:!0})}async run(n){return new u.TermFunctionStrAfter}}e.ActorFunctionFactoryTermStrAfter=i},33823:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermGreaterThanEqual=void 0;const c=s(77617),o=s(77545),u=s(40178);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.SparqlOperator.GTE],termFunction:!0}),this.mediatorFunctionFactory=n.mediatorFunctionFactory}async run(n){const t=await this.mediatorFunctionFactory.mediate({functionName:o.SparqlOperator.LTE,requireTermExpression:!0,context:n.context,arguments:n.arguments});return new u.TermFunctionGreaterThanEqual(t)}}e.ActorFunctionFactoryTermGreaterThanEqual=i},33826:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(70297),e),o(s(3062),e),o(s(65183),e),o(s(91475),e),o(s(97480),e)},34023:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorBindingsAggregatorFactoryAverage=void 0;const c=s(86581),o=s(90711),u=s(90412),i=s(77545),r=s(23786);class n extends c.ActorBindingsAggregatorFactory{constructor(a){super(a),this.mediatorFunctionFactory=a.mediatorFunctionFactory}async test(a){return a.expr.aggregator!=="avg"?(0,u.failTest)("This actor only supports the 'avg' aggregator."):(0,u.passTestVoid)()}async run({context:a,expr:l}){return new r.AverageAggregator(await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:l.expression,context:a}),l.distinct,a.getSafe(o.KeysInitQuery.dataFactory),await this.mediatorFunctionFactory.mediate({functionName:i.SparqlOperator.ADDITION,context:a,requireTermExpression:!0}),await this.mediatorFunctionFactory.mediate({functionName:i.SparqlOperator.DIVISION,context:a,requireTermExpression:!0}))}}e.ActorBindingsAggregatorFactoryAverage=n},34121:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(26336),e)},34169:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermXsdToString=void 0;const c=s(77617),o=s(77545),u=s(62082);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.TypeURL.XSD_STRING],termFunction:!0})}async run(n){return new u.TermFunctionXsdToString}}e.ActorFunctionFactoryTermXsdToString=i},34247:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorHttpInvalidateListenable=void 0;const c=s(90412),o=s(4996);class u extends o.ActorHttpInvalidate{constructor(r){super(r),this.invalidateListeners=[],this.invalidateListeners=[]}addInvalidateListener(r){this.invalidateListeners.push(r)}async test(r){return(0,c.passTestVoid)()}async run(r){for(const n of this.invalidateListeners)n(r);return{}}}e.ActorHttpInvalidateListenable=u},34262:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermDictionaryNumberMap=void 0;const c=s(28664),o=s(43347);e.TermDictionaryNumberMap=class{constructor(u=new c.DataFactory){this.lastId=0,this.dictionary=new Map,this.reverseDictionary=new Map,this.features={quotedTriples:!1},this.dataFactory=u}encode(u){const i=(0,o.termToString)(u);let r=this.dictionary.get(i);return r===void 0&&(r=this.lastId++,this.dictionary.set(i,r),this.reverseDictionary.set(r,i)),r}encodeOptional(u){const i=(0,o.termToString)(u);return this.dictionary.get(i)}decode(u){const i=this.reverseDictionary.get(u);if(i===void 0)throw new Error(`The value ${u} is not present in this dictionary`);return(0,o.stringToTerm)(i,this.dataFactory)}encodings(){return this.reverseDictionary.keys()}findQuotedTriples(u){throw new Error("findQuotedTriples is not supported")}findQuotedTriplesEncoded(u){throw new Error("findQuotedTriplesEncoded is not supported")}}},34304:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(13574),e)},34358:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.stringQuadToQuad=e.quadToStringQuad=e.stringToTerm=e.getLiteralLanguage=e.getLiteralType=e.getLiteralValue=e.termToString=void 0;const c=new(s(47793)).DataFactory;function o(t){if(t)switch(t.termType){case"NamedNode":case"DefaultGraph":return t.value;case"BlankNode":return"_:"+t.value;case"Literal":const a=t;return'"'+a.value+'"'+(a.datatype&&a.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&a.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?"^^"+a.datatype.value:"")+(a.language?"@"+a.language:"");case"Quad":return`<<${o(t.subject)} ${o(t.predicate)} ${o(t.object)}${t.graph.termType==="DefaultGraph"?"":" "+o(t.graph)}>>`;case"Variable":return"?"+t.value}}function u(t){const a=/^"([^]*)"/.exec(t);if(!a)throw new Error(t+" is not a literal");return a[1]}function i(t){const a=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(t);if(!a)throw new Error(t+" is not a literal");return a[1]||(a[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}function r(t){const a=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(t);if(!a)throw new Error(t+" is not a literal");return a[1]?a[1].toLowerCase():""}function n(t,a){if(a=a||c,!t||!t.length)return a.defaultGraph();switch(t[0]){case"_":return a.blankNode(t.substr(2));case"?":if(!a.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return a.variable(t.substr(1));case'"':const l=r(t),d=a.namedNode(i(t));return a.literal(u(t),l||d);default:if(t[0]==="<"&&t.length>4&&t[1]==="<"&&t[t.length-1]===">"&&t[t.length-2]===">"){const p=t.slice(2,-2).trim();let f=[],h=0,y=0,m=!1;for(let b=0;b<p.length;b++){const v=p[b];if(v==="<"&&h++,v===">"){if(h===0)throw new Error("Found closing tag without opening tag in "+t);h--}if(v==='"'){let _=!1,w=b;for(;w-- >0&&p[w]==="\\";)_=!_;_||(m=!m)}if(v===" "&&!m&&h===0){for(f.push(p.slice(y,b));p[b+1]===" ";)b+=1;y=b+1}}if(h!==0)throw new Error("Found opening tag without closing tag in "+t);if(f.push(p.slice(y,p.length)),f.length!==3&&f.length!==4)throw new Error("Nested quad syntax error "+t);return f=f.map(b=>b.startsWith("<")&&!b.includes(" ")?b.slice(1,-1):b),a.quad(n(f[0]),n(f[1]),n(f[2]),f[3]?n(f[3]):void 0)}return a.namedNode(t)}}e.termToString=o,e.getLiteralValue=u,e.getLiteralType=i,e.getLiteralLanguage=r,e.stringToTerm=n,e.quadToStringQuad=function(t){return{subject:o(t.subject),predicate:o(t.predicate),object:o(t.object),graph:o(t.graph)}},e.stringQuadToQuad=function(t,a){return(a=a||c).quad(n(t.subject,a),n(t.predicate,a),n(t.object,a),n(t.graph,a))}},34406:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(83658),e)},34554:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.storeStream=function(o){const u=c.RdfStore.createDefault();return new Promise((i,r)=>u.import(o).on("error",r).once("end",()=>i(u)))};const c=s(61428)},34585:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(5336),e),o(s(77654),e)},34641:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.OverloadTree=void 0;const c=s(54833),o=s(86273);class u{constructor(r,n){this.identifier=r,this.implementation=void 0,this.generalOverloads=Object.create(null),this.literalOverLoads=[],this.depth=n??0,this.promotionCount=void 0}getSubtree(r){const n=(0,o.asGeneralType)(r);if(n)return this.generalOverloads[n];for(const[t,a]of this.literalOverLoads)if(r===t)return a}getImplementationExact(r){let n=this;for(const t of r)if(n=n.getSubtree(t),!n)return;return n.implementation}search(r,n,t){let a=t[this.identifier],l=0;for(;l<r.length&&a?.cache;){const p=r[l],f=(0,c.isLiteralTermExpression)(p);a=a.cache[f?f.dataType:p.termType],l++}if(l===r.length&&a?.func)return a.func;const d=[];if(r.length===0)return this.implementation;for(d.push(...this.getSubTreeWithArg(r[0],n).map(p=>({node:p,index:1})));d.length>0;){const{index:p,node:f}=d.pop();if(p===r.length&&f.implementation)return this.addToCache(t,r,f.implementation),f.implementation;d.push(...f.getSubTreeWithArg(r[p],n).map(h=>({node:h,index:p+1})))}}addToCache(r,n,t){function a(d,p){return p in d||(d[p]={}),d[p]}let l=a(r,this.identifier);for(const d of n){const p=(0,c.isLiteralTermExpression)(d),f=p?p.dataType:d.termType;l.cache=l.cache??{},l=a(l.cache,f)}l.func=t}addOverload(r,n){this._addOverload([...r],n,0)}_addOverload(r,n,t){const[a,...l]=r;if(!a)return void((this.promotionCount===void 0||t<=this.promotionCount)&&(this.promotionCount=t,this.implementation=n));let d=this.getSubtree(a);if(!d){const p=new u(this.identifier,this.depth+1),f=(0,o.asGeneralType)(a);f&&(this.generalOverloads[f]=p);const h=(0,o.asOverrideType)(a);h&&this.literalOverLoads.push([h,p]),d=p}if(d._addOverload(l,n,t),o.typePromotion[a])for(const p of o.typePromotion[a])this.addPromotedOverload(p.typeToPromote,n,p.conversionFunction,l,t)}addPromotedOverload(r,n,t,a,l){let d=this.getSubtree(r);if(!d){const p=new u(this.identifier,this.depth+1);this.literalOverLoads.push([r,p]),d=p}d._addOverload(a,p=>f=>n(p)([...f.slice(0,this.depth),t(f[this.depth]),...f.slice(this.depth+1,f.length)]),l+1)}getSubTreeWithArg(r,n){const t=[],a=(0,c.isLiteralTermExpression)(r);if(this.generalOverloads.term&&t.push(this.generalOverloads.term),this.generalOverloads[r.termType]&&t.push(this.generalOverloads[r.termType]),a){const l=(0,o.asKnownLiteralType)(a.dataType);let d;d=l?o.superTypeDictTable[l]:(0,o.getSuperTypes)(a.dataType,n);const p=this.literalOverLoads.filter(([f,h])=>f in d).map(([f,h])=>[d[f],h]);p.sort(([f,h],[y,m])=>f-y),t.push(...p.map(([f,h])=>h))}return t}}e.OverloadTree=u},34683:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createTaskScheduler=void 0;const c=s(89898),o=Promise.resolve(void 0);e.createTaskScheduler=function(u=c.setImmediate){const i=typeof queueMicrotask=="function"?queueMicrotask:t=>o.then(t);let r=0,n=null;return t=>{n!==null?n.push(t):++r<100?i(t):(n=[t],u(()=>{for(const a of n)i(a);n=null,r=0}))}}},34751:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(21250),e)},34864:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TERM_TYPES=void 0,e.uniqTerms=function(u){const i={};return u.filter(r=>{const n=(0,c.termToString)(r);return!(n in i)&&(i[n]=!0)})},e.getTermsOfType=o,e.getNamedNodes=function(u){return o(u,"NamedNode")},e.getBlankNodes=function(u){return o(u,"BlankNode")},e.getLiterals=function(u){return o(u,"Literal")},e.getVariables=function(u){return o(u,"Variable")},e.getDefaultGraphs=function(u){return o(u,"DefaultGraph")},e.getQuads=function(u){return o(u,"Quad")};const c=s(43347);function o(u,i){return u.filter(r=>r.termType===i)}e.TERM_TYPES=["NamedNode","BlankNode","Literal","Variable","DefaultGraph","Quad"]},34905:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(15825),e)},35030:function(g,e,s){var c=this&&this.__awaiter||function(r,n,t,a){return new(t||(t=Promise))(function(l,d){function p(y){try{h(a.next(y))}catch(m){d(m)}}function f(y){try{h(a.throw(y))}catch(m){d(m)}}function h(y){var m;y.done?l(y.value):(m=y.value,m instanceof t?m:new t(function(b){b(m)})).then(p,f)}h((a=a.apply(r,n||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.lookupAllPrefixes=e.prefixToUri=e.uriToPrefix=void 0;const o=s(62620),u=s(88993);e.uriToPrefix=function(r,n){return c(this,void 0,void 0,function*(){let t;try{t=yield(0,u.lookupPrefix)(r,n)}catch{n?.mintOnUnknown&&(t=(0,o.fragment)(r).slice(0,4))}if(t!==void 0&&typeof n?.existingPrefixes=="object"&&t in n.existingPrefixes){let a=0;for(;`${t}${a}`in n.existingPrefixes;)a+=1;t=`${t}${a}`}return t})},e.prefixToUri=function(r,n){return c(this,void 0,void 0,function*(){try{return yield(0,u.lookupUri)(r,n)}catch{return}})};var i=s(88993);Object.defineProperty(e,"lookupAllPrefixes",{enumerable:!0,get:function(){return i.lookupAllPrefixes}})},35191:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(86173),e),o(s(93974),e)},35276:g=>{g.exports=function(e){if(!g.exports.WEBSTREAM_SUPPORT)throw new Error("No web ReadableStream support");var s=!1,c={};return new ReadableStream({start:function(o){for(var u in c.data=i,c.end=i,c.end=r,c.close=r,c.error=r,c)e.on(u,c[u]);function i(n){s||(o.enqueue(n),e.pause())}function r(n){if(!s){for(var t in s=!0,c)e.removeListener(t,c[t]);n?o.error(n):o.close()}}e.pause()},pull:function(){s||e.resume()},cancel:function(){for(var o in s=!0,c)e.removeListener(o,c[o]);e.push(null),e.pause(),e.destroy?e.destroy():e.close&&e.close()}})},g.exports.WEBSTREAM_SUPPORT=typeof ReadableStream<"u"},35344:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(a,l,d,p){p===void 0&&(p=d);var f=Object.getOwnPropertyDescriptor(l,d);f&&!("get"in f?!l.__esModule:f.writable||f.configurable)||(f={enumerable:!0,get:function(){return l[d]}}),Object.defineProperty(a,p,f)}:function(a,l,d,p){p===void 0&&(p=d),a[p]=l[d]}),o=this&&this.__setModuleDefault||(Object.create?function(a,l){Object.defineProperty(a,"default",{enumerable:!0,value:l})}:function(a,l){a.default=l}),u=this&&this.__importStar||function(a){if(a&&a.__esModule)return a;var l={};if(a!=null)for(var d in a)d!=="default"&&Object.prototype.hasOwnProperty.call(a,d)&&c(l,a,d);return o(l,a),l};Object.defineProperty(e,"__esModule",{value:!0});const i=u(s(8498)),r=s(47793),n=s(32072),t=s(98082);e.default=class{constructor(a){this.dataFactory=a||new r.DataFactory,this.stringType=this.createTerm("http://www.w3.org/2001/XMLSchema#string")}createAlt(a,l=!0){return this.flattenMulti({type:i.types.ALT,input:a},l)}createAsk(a){return{type:i.types.ASK,input:a}}createBoundAggregate(a,l,d,p,f){const h=this.createAggregateExpression(l,d,p,f);return h.variable=a,h}createBgp(a){return{type:i.types.BGP,patterns:a}}createConstruct(a,l){return{type:i.types.CONSTRUCT,input:a,template:l}}createDescribe(a,l){return{type:i.types.DESCRIBE,input:a,terms:l}}createDistinct(a){return{type:i.types.DISTINCT,input:a}}createExtend(a,l,d){return{type:i.types.EXTEND,input:a,variable:l,expression:d}}createFrom(a,l,d){return{type:i.types.FROM,input:a,default:l,named:d}}createFilter(a,l){return{type:i.types.FILTER,input:a,expression:l}}createGraph(a,l){return{type:i.types.GRAPH,input:a,name:l}}createGroup(a,l,d){return{type:i.types.GROUP,input:a,variables:l,aggregates:d}}createInv(a){return{type:i.types.INV,path:a}}createJoin(a,l=!0){return this.flattenMulti({type:i.types.JOIN,input:a},l)}createLeftJoin(a,l,d){return d?{type:i.types.LEFT_JOIN,input:[a,l],expression:d}:{type:i.types.LEFT_JOIN,input:[a,l]}}createLink(a){return{type:i.types.LINK,iri:a}}createMinus(a,l){return{type:i.types.MINUS,input:[a,l]}}createNop(){return{type:i.types.NOP}}createNps(a){return{type:i.types.NPS,iris:a}}createOneOrMorePath(a){return{type:i.types.ONE_OR_MORE_PATH,path:a}}createOrderBy(a,l){return{type:i.types.ORDER_BY,input:a,expressions:l}}createPath(a,l,d,p){return p?{type:i.types.PATH,subject:a,predicate:l,object:d,graph:p}:{type:i.types.PATH,subject:a,predicate:l,object:d,graph:this.dataFactory.defaultGraph()}}createPattern(a,l,d,p){const f=this.dataFactory.quad(a,l,d,p);return f.type=i.types.PATTERN,f}createProject(a,l){return{type:i.types.PROJECT,input:a,variables:l}}createReduced(a){return{type:i.types.REDUCED,input:a}}createSeq(a,l=!0){return this.flattenMulti({type:i.types.SEQ,input:a},l)}createService(a,l,d){return{type:i.types.SERVICE,input:a,name:l,silent:!!d}}createSlice(a,l,d){return l=l||0,d!==void 0?{type:i.types.SLICE,input:a,start:l,length:d}:{type:i.types.SLICE,input:a,start:l}}createUnion(a,l=!0){return this.flattenMulti({type:i.types.UNION,input:a},l)}createValues(a,l){return{type:i.types.VALUES,variables:a,bindings:l}}createZeroOrMorePath(a){return{type:i.types.ZERO_OR_MORE_PATH,path:a}}createZeroOrOnePath(a){return{type:i.types.ZERO_OR_ONE_PATH,path:a}}createAggregateExpression(a,l,d,p){return p?{type:i.types.EXPRESSION,expressionType:i.expressionTypes.AGGREGATE,aggregator:a,expression:l,separator:p,distinct:d}:{type:i.types.EXPRESSION,expressionType:i.expressionTypes.AGGREGATE,aggregator:a,expression:l,distinct:d}}createExistenceExpression(a,l){return{type:i.types.EXPRESSION,expressionType:i.expressionTypes.EXISTENCE,not:a,input:l}}createNamedExpression(a,l){return{type:i.types.EXPRESSION,expressionType:i.expressionTypes.NAMED,name:a,args:l}}createOperatorExpression(a,l){return{type:i.types.EXPRESSION,expressionType:i.expressionTypes.OPERATOR,operator:a,args:l}}createTermExpression(a){return{type:i.types.EXPRESSION,expressionType:i.expressionTypes.TERM,term:a}}createWildcardExpression(){return{type:i.types.EXPRESSION,expressionType:i.expressionTypes.WILDCARD,wildcard:new t.Wildcard}}createTerm(a){return a[0]==="$"&&(a=a.replace("$","?")),(0,n.stringToTerm)(a,this.dataFactory)}createCompositeUpdate(a){return{type:i.types.COMPOSITE_UPDATE,updates:a}}createDeleteInsert(a,l,d){const p={type:i.types.DELETE_INSERT};return a&&(p.delete=a),l&&(p.insert=l),d&&(p.where=d),p}createLoad(a,l,d){const p={type:i.types.LOAD,source:a};return l&&(p.destination=l),this.addSilent(p,!!d)}createClear(a,l){return this.addSilent({type:i.types.CLEAR,source:a},!!l)}createCreate(a,l){return this.addSilent({type:i.types.CREATE,source:a},!!l)}createDrop(a,l){return this.addSilent({type:i.types.DROP,source:a},!!l)}createAdd(a,l,d){return this.addSilent({type:i.types.ADD,source:a,destination:l},!!d)}createMove(a,l,d){return this.addSilent({type:i.types.MOVE,source:a,destination:l},!!d)}createCopy(a,l,d){return this.addSilent({type:i.types.COPY,source:a,destination:l},!!d)}addSilent(a,l){return l&&(a.silent=l),a}flattenMulti(a,l){if(!l)return a;const d=a.type,p=a.input;let f=[];for(const h of p)h.type===d?f.push(...h.input):f.push(h);return a.input=f,a}}},35392:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryOperationLoad=void 0;const c=s(66490),o=s(90711),u=s(67021),i=s(96331);class r extends c.ActorQueryOperationTypedMediated{constructor(t){super(t,"load")}async testOperation(t,a){return(0,u.testReadOnly)(a)}async runOperation(t,a){const l=a.getSafe(o.KeysInitQuery.dataFactory),d=new i.Factory(l);let p=a;t.silent&&(p=p.set(o.KeysInitQuery.lenient,!0));const{querySource:f}=await this.mediatorQuerySourceIdentify.mediate({querySourceUnidentified:{value:t.source.value},context:p});let h=(0,u.getSafeQuads)(await this.mediatorQueryOperation.mediate({operation:d.createConstruct((0,u.assignOperationSource)(d.createPattern(l.variable("s"),l.variable("p"),l.variable("o")),f),[d.createPattern(l.variable("s"),l.variable("p"),l.variable("o"))]),context:p})).quadStream;t.destination&&(h=h.map(m=>l.quad(m.subject,m.predicate,m.object,t.destination)));const{execute:y}=await this.mediatorUpdateQuads.mediate({quadStreamInsert:h,context:a});return{type:"void",execute:y}}}e.ActorQueryOperationLoad=r},35504:(g,e)=>{function s(c){for(var o=1;o<c.length;o++)c[o][0]+=c[o-1][0]+1;return c}Object.defineProperty(e,"__esModule",{value:!0}),e.default=new Map(s([[9,"&Tab;"],[0,"&NewLine;"],[22,"&excl;"],[0,"&quot;"],[0,"&num;"],[0,"&dollar;"],[0,"&percnt;"],[0,"&amp;"],[0,"&apos;"],[0,"&lpar;"],[0,"&rpar;"],[0,"&ast;"],[0,"&plus;"],[0,"&comma;"],[1,"&period;"],[0,"&sol;"],[10,"&colon;"],[0,"&semi;"],[0,{v:"&lt;",n:8402,o:"&nvlt;"}],[0,{v:"&equals;",n:8421,o:"&bne;"}],[0,{v:"&gt;",n:8402,o:"&nvgt;"}],[0,"&quest;"],[0,"&commat;"],[26,"&lbrack;"],[0,"&bsol;"],[0,"&rbrack;"],[0,"&Hat;"],[0,"&lowbar;"],[0,"&DiacriticalGrave;"],[5,{n:106,o:"&fjlig;"}],[20,"&lbrace;"],[0,"&verbar;"],[0,"&rbrace;"],[34,"&nbsp;"],[0,"&iexcl;"],[0,"&cent;"],[0,"&pound;"],[0,"&curren;"],[0,"&yen;"],[0,"&brvbar;"],[0,"&sect;"],[0,"&die;"],[0,"&copy;"],[0,"&ordf;"],[0,"&laquo;"],[0,"&not;"],[0,"&shy;"],[0,"&circledR;"],[0,"&macr;"],[0,"&deg;"],[0,"&PlusMinus;"],[0,"&sup2;"],[0,"&sup3;"],[0,"&acute;"],[0,"&micro;"],[0,"&para;"],[0,"&centerdot;"],[0,"&cedil;"],[0,"&sup1;"],[0,"&ordm;"],[0,"&raquo;"],[0,"&frac14;"],[0,"&frac12;"],[0,"&frac34;"],[0,"&iquest;"],[0,"&Agrave;"],[0,"&Aacute;"],[0,"&Acirc;"],[0,"&Atilde;"],[0,"&Auml;"],[0,"&angst;"],[0,"&AElig;"],[0,"&Ccedil;"],[0,"&Egrave;"],[0,"&Eacute;"],[0,"&Ecirc;"],[0,"&Euml;"],[0,"&Igrave;"],[0,"&Iacute;"],[0,"&Icirc;"],[0,"&Iuml;"],[0,"&ETH;"],[0,"&Ntilde;"],[0,"&Ograve;"],[0,"&Oacute;"],[0,"&Ocirc;"],[0,"&Otilde;"],[0,"&Ouml;"],[0,"&times;"],[0,"&Oslash;"],[0,"&Ugrave;"],[0,"&Uacute;"],[0,"&Ucirc;"],[0,"&Uuml;"],[0,"&Yacute;"],[0,"&THORN;"],[0,"&szlig;"],[0,"&agrave;"],[0,"&aacute;"],[0,"&acirc;"],[0,"&atilde;"],[0,"&auml;"],[0,"&aring;"],[0,"&aelig;"],[0,"&ccedil;"],[0,"&egrave;"],[0,"&eacute;"],[0,"&ecirc;"],[0,"&euml;"],[0,"&igrave;"],[0,"&iacute;"],[0,"&icirc;"],[0,"&iuml;"],[0,"&eth;"],[0,"&ntilde;"],[0,"&ograve;"],[0,"&oacute;"],[0,"&ocirc;"],[0,"&otilde;"],[0,"&ouml;"],[0,"&div;"],[0,"&oslash;"],[0,"&ugrave;"],[0,"&uacute;"],[0,"&ucirc;"],[0,"&uuml;"],[0,"&yacute;"],[0,"&thorn;"],[0,"&yuml;"],[0,"&Amacr;"],[0,"&amacr;"],[0,"&Abreve;"],[0,"&abreve;"],[0,"&Aogon;"],[0,"&aogon;"],[0,"&Cacute;"],[0,"&cacute;"],[0,"&Ccirc;"],[0,"&ccirc;"],[0,"&Cdot;"],[0,"&cdot;"],[0,"&Ccaron;"],[0,"&ccaron;"],[0,"&Dcaron;"],[0,"&dcaron;"],[0,"&Dstrok;"],[0,"&dstrok;"],[0,"&Emacr;"],[0,"&emacr;"],[2,"&Edot;"],[0,"&edot;"],[0,"&Eogon;"],[0,"&eogon;"],[0,"&Ecaron;"],[0,"&ecaron;"],[0,"&Gcirc;"],[0,"&gcirc;"],[0,"&Gbreve;"],[0,"&gbreve;"],[0,"&Gdot;"],[0,"&gdot;"],[0,"&Gcedil;"],[1,"&Hcirc;"],[0,"&hcirc;"],[0,"&Hstrok;"],[0,"&hstrok;"],[0,"&Itilde;"],[0,"&itilde;"],[0,"&Imacr;"],[0,"&imacr;"],[2,"&Iogon;"],[0,"&iogon;"],[0,"&Idot;"],[0,"&imath;"],[0,"&IJlig;"],[0,"&ijlig;"],[0,"&Jcirc;"],[0,"&jcirc;"],[0,"&Kcedil;"],[0,"&kcedil;"],[0,"&kgreen;"],[0,"&Lacute;"],[0,"&lacute;"],[0,"&Lcedil;"],[0,"&lcedil;"],[0,"&Lcaron;"],[0,"&lcaron;"],[0,"&Lmidot;"],[0,"&lmidot;"],[0,"&Lstrok;"],[0,"&lstrok;"],[0,"&Nacute;"],[0,"&nacute;"],[0,"&Ncedil;"],[0,"&ncedil;"],[0,"&Ncaron;"],[0,"&ncaron;"],[0,"&napos;"],[0,"&ENG;"],[0,"&eng;"],[0,"&Omacr;"],[0,"&omacr;"],[2,"&Odblac;"],[0,"&odblac;"],[0,"&OElig;"],[0,"&oelig;"],[0,"&Racute;"],[0,"&racute;"],[0,"&Rcedil;"],[0,"&rcedil;"],[0,"&Rcaron;"],[0,"&rcaron;"],[0,"&Sacute;"],[0,"&sacute;"],[0,"&Scirc;"],[0,"&scirc;"],[0,"&Scedil;"],[0,"&scedil;"],[0,"&Scaron;"],[0,"&scaron;"],[0,"&Tcedil;"],[0,"&tcedil;"],[0,"&Tcaron;"],[0,"&tcaron;"],[0,"&Tstrok;"],[0,"&tstrok;"],[0,"&Utilde;"],[0,"&utilde;"],[0,"&Umacr;"],[0,"&umacr;"],[0,"&Ubreve;"],[0,"&ubreve;"],[0,"&Uring;"],[0,"&uring;"],[0,"&Udblac;"],[0,"&udblac;"],[0,"&Uogon;"],[0,"&uogon;"],[0,"&Wcirc;"],[0,"&wcirc;"],[0,"&Ycirc;"],[0,"&ycirc;"],[0,"&Yuml;"],[0,"&Zacute;"],[0,"&zacute;"],[0,"&Zdot;"],[0,"&zdot;"],[0,"&Zcaron;"],[0,"&zcaron;"],[19,"&fnof;"],[34,"&imped;"],[63,"&gacute;"],[65,"&jmath;"],[142,"&circ;"],[0,"&caron;"],[16,"&breve;"],[0,"&DiacriticalDot;"],[0,"&ring;"],[0,"&ogon;"],[0,"&DiacriticalTilde;"],[0,"&dblac;"],[51,"&DownBreve;"],[127,"&Alpha;"],[0,"&Beta;"],[0,"&Gamma;"],[0,"&Delta;"],[0,"&Epsilon;"],[0,"&Zeta;"],[0,"&Eta;"],[0,"&Theta;"],[0,"&Iota;"],[0,"&Kappa;"],[0,"&Lambda;"],[0,"&Mu;"],[0,"&Nu;"],[0,"&Xi;"],[0,"&Omicron;"],[0,"&Pi;"],[0,"&Rho;"],[1,"&Sigma;"],[0,"&Tau;"],[0,"&Upsilon;"],[0,"&Phi;"],[0,"&Chi;"],[0,"&Psi;"],[0,"&ohm;"],[7,"&alpha;"],[0,"&beta;"],[0,"&gamma;"],[0,"&delta;"],[0,"&epsi;"],[0,"&zeta;"],[0,"&eta;"],[0,"&theta;"],[0,"&iota;"],[0,"&kappa;"],[0,"&lambda;"],[0,"&mu;"],[0,"&nu;"],[0,"&xi;"],[0,"&omicron;"],[0,"&pi;"],[0,"&rho;"],[0,"&sigmaf;"],[0,"&sigma;"],[0,"&tau;"],[0,"&upsi;"],[0,"&phi;"],[0,"&chi;"],[0,"&psi;"],[0,"&omega;"],[7,"&thetasym;"],[0,"&Upsi;"],[2,"&phiv;"],[0,"&piv;"],[5,"&Gammad;"],[0,"&digamma;"],[18,"&kappav;"],[0,"&rhov;"],[3,"&epsiv;"],[0,"&backepsilon;"],[10,"&IOcy;"],[0,"&DJcy;"],[0,"&GJcy;"],[0,"&Jukcy;"],[0,"&DScy;"],[0,"&Iukcy;"],[0,"&YIcy;"],[0,"&Jsercy;"],[0,"&LJcy;"],[0,"&NJcy;"],[0,"&TSHcy;"],[0,"&KJcy;"],[1,"&Ubrcy;"],[0,"&DZcy;"],[0,"&Acy;"],[0,"&Bcy;"],[0,"&Vcy;"],[0,"&Gcy;"],[0,"&Dcy;"],[0,"&IEcy;"],[0,"&ZHcy;"],[0,"&Zcy;"],[0,"&Icy;"],[0,"&Jcy;"],[0,"&Kcy;"],[0,"&Lcy;"],[0,"&Mcy;"],[0,"&Ncy;"],[0,"&Ocy;"],[0,"&Pcy;"],[0,"&Rcy;"],[0,"&Scy;"],[0,"&Tcy;"],[0,"&Ucy;"],[0,"&Fcy;"],[0,"&KHcy;"],[0,"&TScy;"],[0,"&CHcy;"],[0,"&SHcy;"],[0,"&SHCHcy;"],[0,"&HARDcy;"],[0,"&Ycy;"],[0,"&SOFTcy;"],[0,"&Ecy;"],[0,"&YUcy;"],[0,"&YAcy;"],[0,"&acy;"],[0,"&bcy;"],[0,"&vcy;"],[0,"&gcy;"],[0,"&dcy;"],[0,"&iecy;"],[0,"&zhcy;"],[0,"&zcy;"],[0,"&icy;"],[0,"&jcy;"],[0,"&kcy;"],[0,"&lcy;"],[0,"&mcy;"],[0,"&ncy;"],[0,"&ocy;"],[0,"&pcy;"],[0,"&rcy;"],[0,"&scy;"],[0,"&tcy;"],[0,"&ucy;"],[0,"&fcy;"],[0,"&khcy;"],[0,"&tscy;"],[0,"&chcy;"],[0,"&shcy;"],[0,"&shchcy;"],[0,"&hardcy;"],[0,"&ycy;"],[0,"&softcy;"],[0,"&ecy;"],[0,"&yucy;"],[0,"&yacy;"],[1,"&iocy;"],[0,"&djcy;"],[0,"&gjcy;"],[0,"&jukcy;"],[0,"&dscy;"],[0,"&iukcy;"],[0,"&yicy;"],[0,"&jsercy;"],[0,"&ljcy;"],[0,"&njcy;"],[0,"&tshcy;"],[0,"&kjcy;"],[1,"&ubrcy;"],[0,"&dzcy;"],[7074,"&ensp;"],[0,"&emsp;"],[0,"&emsp13;"],[0,"&emsp14;"],[1,"&numsp;"],[0,"&puncsp;"],[0,"&ThinSpace;"],[0,"&hairsp;"],[0,"&NegativeMediumSpace;"],[0,"&zwnj;"],[0,"&zwj;"],[0,"&lrm;"],[0,"&rlm;"],[0,"&dash;"],[2,"&ndash;"],[0,"&mdash;"],[0,"&horbar;"],[0,"&Verbar;"],[1,"&lsquo;"],[0,"&CloseCurlyQuote;"],[0,"&lsquor;"],[1,"&ldquo;"],[0,"&CloseCurlyDoubleQuote;"],[0,"&bdquo;"],[1,"&dagger;"],[0,"&Dagger;"],[0,"&bull;"],[2,"&nldr;"],[0,"&hellip;"],[9,"&permil;"],[0,"&pertenk;"],[0,"&prime;"],[0,"&Prime;"],[0,"&tprime;"],[0,"&backprime;"],[3,"&lsaquo;"],[0,"&rsaquo;"],[3,"&oline;"],[2,"&caret;"],[1,"&hybull;"],[0,"&frasl;"],[10,"&bsemi;"],[7,"&qprime;"],[7,{v:"&MediumSpace;",n:8202,o:"&ThickSpace;"}],[0,"&NoBreak;"],[0,"&af;"],[0,"&InvisibleTimes;"],[0,"&ic;"],[72,"&euro;"],[46,"&tdot;"],[0,"&DotDot;"],[37,"&complexes;"],[2,"&incare;"],[4,"&gscr;"],[0,"&hamilt;"],[0,"&Hfr;"],[0,"&Hopf;"],[0,"&planckh;"],[0,"&hbar;"],[0,"&imagline;"],[0,"&Ifr;"],[0,"&lagran;"],[0,"&ell;"],[1,"&naturals;"],[0,"&numero;"],[0,"&copysr;"],[0,"&weierp;"],[0,"&Popf;"],[0,"&Qopf;"],[0,"&realine;"],[0,"&real;"],[0,"&reals;"],[0,"&rx;"],[3,"&trade;"],[1,"&integers;"],[2,"&mho;"],[0,"&zeetrf;"],[0,"&iiota;"],[2,"&bernou;"],[0,"&Cayleys;"],[1,"&escr;"],[0,"&Escr;"],[0,"&Fouriertrf;"],[1,"&Mellintrf;"],[0,"&order;"],[0,"&alefsym;"],[0,"&beth;"],[0,"&gimel;"],[0,"&daleth;"],[12,"&CapitalDifferentialD;"],[0,"&dd;"],[0,"&ee;"],[0,"&ii;"],[10,"&frac13;"],[0,"&frac23;"],[0,"&frac15;"],[0,"&frac25;"],[0,"&frac35;"],[0,"&frac45;"],[0,"&frac16;"],[0,"&frac56;"],[0,"&frac18;"],[0,"&frac38;"],[0,"&frac58;"],[0,"&frac78;"],[49,"&larr;"],[0,"&ShortUpArrow;"],[0,"&rarr;"],[0,"&darr;"],[0,"&harr;"],[0,"&updownarrow;"],[0,"&nwarr;"],[0,"&nearr;"],[0,"&LowerRightArrow;"],[0,"&LowerLeftArrow;"],[0,"&nlarr;"],[0,"&nrarr;"],[1,{v:"&rarrw;",n:824,o:"&nrarrw;"}],[0,"&Larr;"],[0,"&Uarr;"],[0,"&Rarr;"],[0,"&Darr;"],[0,"&larrtl;"],[0,"&rarrtl;"],[0,"&LeftTeeArrow;"],[0,"&mapstoup;"],[0,"&map;"],[0,"&DownTeeArrow;"],[1,"&hookleftarrow;"],[0,"&hookrightarrow;"],[0,"&larrlp;"],[0,"&looparrowright;"],[0,"&harrw;"],[0,"&nharr;"],[1,"&lsh;"],[0,"&rsh;"],[0,"&ldsh;"],[0,"&rdsh;"],[1,"&crarr;"],[0,"&cularr;"],[0,"&curarr;"],[2,"&circlearrowleft;"],[0,"&circlearrowright;"],[0,"&leftharpoonup;"],[0,"&DownLeftVector;"],[0,"&RightUpVector;"],[0,"&LeftUpVector;"],[0,"&rharu;"],[0,"&DownRightVector;"],[0,"&dharr;"],[0,"&dharl;"],[0,"&RightArrowLeftArrow;"],[0,"&udarr;"],[0,"&LeftArrowRightArrow;"],[0,"&leftleftarrows;"],[0,"&upuparrows;"],[0,"&rightrightarrows;"],[0,"&ddarr;"],[0,"&leftrightharpoons;"],[0,"&Equilibrium;"],[0,"&nlArr;"],[0,"&nhArr;"],[0,"&nrArr;"],[0,"&DoubleLeftArrow;"],[0,"&DoubleUpArrow;"],[0,"&DoubleRightArrow;"],[0,"&dArr;"],[0,"&DoubleLeftRightArrow;"],[0,"&DoubleUpDownArrow;"],[0,"&nwArr;"],[0,"&neArr;"],[0,"&seArr;"],[0,"&swArr;"],[0,"&lAarr;"],[0,"&rAarr;"],[1,"&zigrarr;"],[6,"&larrb;"],[0,"&rarrb;"],[15,"&DownArrowUpArrow;"],[7,"&loarr;"],[0,"&roarr;"],[0,"&hoarr;"],[0,"&forall;"],[0,"&comp;"],[0,{v:"&part;",n:824,o:"&npart;"}],[0,"&exist;"],[0,"&nexist;"],[0,"&empty;"],[1,"&Del;"],[0,"&Element;"],[0,"&NotElement;"],[1,"&ni;"],[0,"&notni;"],[2,"&prod;"],[0,"&coprod;"],[0,"&sum;"],[0,"&minus;"],[0,"&MinusPlus;"],[0,"&dotplus;"],[1,"&Backslash;"],[0,"&lowast;"],[0,"&compfn;"],[1,"&radic;"],[2,"&prop;"],[0,"&infin;"],[0,"&angrt;"],[0,{v:"&ang;",n:8402,o:"&nang;"}],[0,"&angmsd;"],[0,"&angsph;"],[0,"&mid;"],[0,"&nmid;"],[0,"&DoubleVerticalBar;"],[0,"&NotDoubleVerticalBar;"],[0,"&and;"],[0,"&or;"],[0,{v:"&cap;",n:65024,o:"&caps;"}],[0,{v:"&cup;",n:65024,o:"&cups;"}],[0,"&int;"],[0,"&Int;"],[0,"&iiint;"],[0,"&conint;"],[0,"&Conint;"],[0,"&Cconint;"],[0,"&cwint;"],[0,"&ClockwiseContourIntegral;"],[0,"&awconint;"],[0,"&there4;"],[0,"&becaus;"],[0,"&ratio;"],[0,"&Colon;"],[0,"&dotminus;"],[1,"&mDDot;"],[0,"&homtht;"],[0,{v:"&sim;",n:8402,o:"&nvsim;"}],[0,{v:"&backsim;",n:817,o:"&race;"}],[0,{v:"&ac;",n:819,o:"&acE;"}],[0,"&acd;"],[0,"&VerticalTilde;"],[0,"&NotTilde;"],[0,{v:"&eqsim;",n:824,o:"&nesim;"}],[0,"&sime;"],[0,"&NotTildeEqual;"],[0,"&cong;"],[0,"&simne;"],[0,"&ncong;"],[0,"&ap;"],[0,"&nap;"],[0,"&ape;"],[0,{v:"&apid;",n:824,o:"&napid;"}],[0,"&backcong;"],[0,{v:"&asympeq;",n:8402,o:"&nvap;"}],[0,{v:"&bump;",n:824,o:"&nbump;"}],[0,{v:"&bumpe;",n:824,o:"&nbumpe;"}],[0,{v:"&doteq;",n:824,o:"&nedot;"}],[0,"&doteqdot;"],[0,"&efDot;"],[0,"&erDot;"],[0,"&Assign;"],[0,"&ecolon;"],[0,"&ecir;"],[0,"&circeq;"],[1,"&wedgeq;"],[0,"&veeeq;"],[1,"&triangleq;"],[2,"&equest;"],[0,"&ne;"],[0,{v:"&Congruent;",n:8421,o:"&bnequiv;"}],[0,"&nequiv;"],[1,{v:"&le;",n:8402,o:"&nvle;"}],[0,{v:"&ge;",n:8402,o:"&nvge;"}],[0,{v:"&lE;",n:824,o:"&nlE;"}],[0,{v:"&gE;",n:824,o:"&ngE;"}],[0,{v:"&lnE;",n:65024,o:"&lvertneqq;"}],[0,{v:"&gnE;",n:65024,o:"&gvertneqq;"}],[0,{v:"&ll;",n:new Map(s([[824,"&nLtv;"],[7577,"&nLt;"]]))}],[0,{v:"&gg;",n:new Map(s([[824,"&nGtv;"],[7577,"&nGt;"]]))}],[0,"&between;"],[0,"&NotCupCap;"],[0,"&nless;"],[0,"&ngt;"],[0,"&nle;"],[0,"&nge;"],[0,"&lesssim;"],[0,"&GreaterTilde;"],[0,"&nlsim;"],[0,"&ngsim;"],[0,"&LessGreater;"],[0,"&gl;"],[0,"&NotLessGreater;"],[0,"&NotGreaterLess;"],[0,"&pr;"],[0,"&sc;"],[0,"&prcue;"],[0,"&sccue;"],[0,"&PrecedesTilde;"],[0,{v:"&scsim;",n:824,o:"&NotSucceedsTilde;"}],[0,"&NotPrecedes;"],[0,"&NotSucceeds;"],[0,{v:"&sub;",n:8402,o:"&NotSubset;"}],[0,{v:"&sup;",n:8402,o:"&NotSuperset;"}],[0,"&nsub;"],[0,"&nsup;"],[0,"&sube;"],[0,"&supe;"],[0,"&NotSubsetEqual;"],[0,"&NotSupersetEqual;"],[0,{v:"&subne;",n:65024,o:"&varsubsetneq;"}],[0,{v:"&supne;",n:65024,o:"&varsupsetneq;"}],[1,"&cupdot;"],[0,"&UnionPlus;"],[0,{v:"&sqsub;",n:824,o:"&NotSquareSubset;"}],[0,{v:"&sqsup;",n:824,o:"&NotSquareSuperset;"}],[0,"&sqsube;"],[0,"&sqsupe;"],[0,{v:"&sqcap;",n:65024,o:"&sqcaps;"}],[0,{v:"&sqcup;",n:65024,o:"&sqcups;"}],[0,"&CirclePlus;"],[0,"&CircleMinus;"],[0,"&CircleTimes;"],[0,"&osol;"],[0,"&CircleDot;"],[0,"&circledcirc;"],[0,"&circledast;"],[1,"&circleddash;"],[0,"&boxplus;"],[0,"&boxminus;"],[0,"&boxtimes;"],[0,"&dotsquare;"],[0,"&RightTee;"],[0,"&dashv;"],[0,"&DownTee;"],[0,"&bot;"],[1,"&models;"],[0,"&DoubleRightTee;"],[0,"&Vdash;"],[0,"&Vvdash;"],[0,"&VDash;"],[0,"&nvdash;"],[0,"&nvDash;"],[0,"&nVdash;"],[0,"&nVDash;"],[0,"&prurel;"],[1,"&LeftTriangle;"],[0,"&RightTriangle;"],[0,{v:"&LeftTriangleEqual;",n:8402,o:"&nvltrie;"}],[0,{v:"&RightTriangleEqual;",n:8402,o:"&nvrtrie;"}],[0,"&origof;"],[0,"&imof;"],[0,"&multimap;"],[0,"&hercon;"],[0,"&intcal;"],[0,"&veebar;"],[1,"&barvee;"],[0,"&angrtvb;"],[0,"&lrtri;"],[0,"&bigwedge;"],[0,"&bigvee;"],[0,"&bigcap;"],[0,"&bigcup;"],[0,"&diam;"],[0,"&sdot;"],[0,"&sstarf;"],[0,"&divideontimes;"],[0,"&bowtie;"],[0,"&ltimes;"],[0,"&rtimes;"],[0,"&leftthreetimes;"],[0,"&rightthreetimes;"],[0,"&backsimeq;"],[0,"&curlyvee;"],[0,"&curlywedge;"],[0,"&Sub;"],[0,"&Sup;"],[0,"&Cap;"],[0,"&Cup;"],[0,"&fork;"],[0,"&epar;"],[0,"&lessdot;"],[0,"&gtdot;"],[0,{v:"&Ll;",n:824,o:"&nLl;"}],[0,{v:"&Gg;",n:824,o:"&nGg;"}],[0,{v:"&leg;",n:65024,o:"&lesg;"}],[0,{v:"&gel;",n:65024,o:"&gesl;"}],[2,"&cuepr;"],[0,"&cuesc;"],[0,"&NotPrecedesSlantEqual;"],[0,"&NotSucceedsSlantEqual;"],[0,"&NotSquareSubsetEqual;"],[0,"&NotSquareSupersetEqual;"],[2,"&lnsim;"],[0,"&gnsim;"],[0,"&precnsim;"],[0,"&scnsim;"],[0,"&nltri;"],[0,"&NotRightTriangle;"],[0,"&nltrie;"],[0,"&NotRightTriangleEqual;"],[0,"&vellip;"],[0,"&ctdot;"],[0,"&utdot;"],[0,"&dtdot;"],[0,"&disin;"],[0,"&isinsv;"],[0,"&isins;"],[0,{v:"&isindot;",n:824,o:"&notindot;"}],[0,"&notinvc;"],[0,"&notinvb;"],[1,{v:"&isinE;",n:824,o:"&notinE;"}],[0,"&nisd;"],[0,"&xnis;"],[0,"&nis;"],[0,"&notnivc;"],[0,"&notnivb;"],[6,"&barwed;"],[0,"&Barwed;"],[1,"&lceil;"],[0,"&rceil;"],[0,"&LeftFloor;"],[0,"&rfloor;"],[0,"&drcrop;"],[0,"&dlcrop;"],[0,"&urcrop;"],[0,"&ulcrop;"],[0,"&bnot;"],[1,"&profline;"],[0,"&profsurf;"],[1,"&telrec;"],[0,"&target;"],[5,"&ulcorn;"],[0,"&urcorn;"],[0,"&dlcorn;"],[0,"&drcorn;"],[2,"&frown;"],[0,"&smile;"],[9,"&cylcty;"],[0,"&profalar;"],[7,"&topbot;"],[6,"&ovbar;"],[1,"&solbar;"],[60,"&angzarr;"],[51,"&lmoustache;"],[0,"&rmoustache;"],[2,"&OverBracket;"],[0,"&bbrk;"],[0,"&bbrktbrk;"],[37,"&OverParenthesis;"],[0,"&UnderParenthesis;"],[0,"&OverBrace;"],[0,"&UnderBrace;"],[2,"&trpezium;"],[4,"&elinters;"],[59,"&blank;"],[164,"&circledS;"],[55,"&boxh;"],[1,"&boxv;"],[9,"&boxdr;"],[3,"&boxdl;"],[3,"&boxur;"],[3,"&boxul;"],[3,"&boxvr;"],[7,"&boxvl;"],[7,"&boxhd;"],[7,"&boxhu;"],[7,"&boxvh;"],[19,"&boxH;"],[0,"&boxV;"],[0,"&boxdR;"],[0,"&boxDr;"],[0,"&boxDR;"],[0,"&boxdL;"],[0,"&boxDl;"],[0,"&boxDL;"],[0,"&boxuR;"],[0,"&boxUr;"],[0,"&boxUR;"],[0,"&boxuL;"],[0,"&boxUl;"],[0,"&boxUL;"],[0,"&boxvR;"],[0,"&boxVr;"],[0,"&boxVR;"],[0,"&boxvL;"],[0,"&boxVl;"],[0,"&boxVL;"],[0,"&boxHd;"],[0,"&boxhD;"],[0,"&boxHD;"],[0,"&boxHu;"],[0,"&boxhU;"],[0,"&boxHU;"],[0,"&boxvH;"],[0,"&boxVh;"],[0,"&boxVH;"],[19,"&uhblk;"],[3,"&lhblk;"],[3,"&block;"],[8,"&blk14;"],[0,"&blk12;"],[0,"&blk34;"],[13,"&square;"],[8,"&blacksquare;"],[0,"&EmptyVerySmallSquare;"],[1,"&rect;"],[0,"&marker;"],[2,"&fltns;"],[1,"&bigtriangleup;"],[0,"&blacktriangle;"],[0,"&triangle;"],[2,"&blacktriangleright;"],[0,"&rtri;"],[3,"&bigtriangledown;"],[0,"&blacktriangledown;"],[0,"&dtri;"],[2,"&blacktriangleleft;"],[0,"&ltri;"],[6,"&loz;"],[0,"&cir;"],[32,"&tridot;"],[2,"&bigcirc;"],[8,"&ultri;"],[0,"&urtri;"],[0,"&lltri;"],[0,"&EmptySmallSquare;"],[0,"&FilledSmallSquare;"],[8,"&bigstar;"],[0,"&star;"],[7,"&phone;"],[49,"&female;"],[1,"&male;"],[29,"&spades;"],[2,"&clubs;"],[1,"&hearts;"],[0,"&diamondsuit;"],[3,"&sung;"],[2,"&flat;"],[0,"&natural;"],[0,"&sharp;"],[163,"&check;"],[3,"&cross;"],[8,"&malt;"],[21,"&sext;"],[33,"&VerticalSeparator;"],[25,"&lbbrk;"],[0,"&rbbrk;"],[84,"&bsolhsub;"],[0,"&suphsol;"],[28,"&LeftDoubleBracket;"],[0,"&RightDoubleBracket;"],[0,"&lang;"],[0,"&rang;"],[0,"&Lang;"],[0,"&Rang;"],[0,"&loang;"],[0,"&roang;"],[7,"&longleftarrow;"],[0,"&longrightarrow;"],[0,"&longleftrightarrow;"],[0,"&DoubleLongLeftArrow;"],[0,"&DoubleLongRightArrow;"],[0,"&DoubleLongLeftRightArrow;"],[1,"&longmapsto;"],[2,"&dzigrarr;"],[258,"&nvlArr;"],[0,"&nvrArr;"],[0,"&nvHarr;"],[0,"&Map;"],[6,"&lbarr;"],[0,"&bkarow;"],[0,"&lBarr;"],[0,"&dbkarow;"],[0,"&drbkarow;"],[0,"&DDotrahd;"],[0,"&UpArrowBar;"],[0,"&DownArrowBar;"],[2,"&Rarrtl;"],[2,"&latail;"],[0,"&ratail;"],[0,"&lAtail;"],[0,"&rAtail;"],[0,"&larrfs;"],[0,"&rarrfs;"],[0,"&larrbfs;"],[0,"&rarrbfs;"],[2,"&nwarhk;"],[0,"&nearhk;"],[0,"&hksearow;"],[0,"&hkswarow;"],[0,"&nwnear;"],[0,"&nesear;"],[0,"&seswar;"],[0,"&swnwar;"],[8,{v:"&rarrc;",n:824,o:"&nrarrc;"}],[1,"&cudarrr;"],[0,"&ldca;"],[0,"&rdca;"],[0,"&cudarrl;"],[0,"&larrpl;"],[2,"&curarrm;"],[0,"&cularrp;"],[7,"&rarrpl;"],[2,"&harrcir;"],[0,"&Uarrocir;"],[0,"&lurdshar;"],[0,"&ldrushar;"],[2,"&LeftRightVector;"],[0,"&RightUpDownVector;"],[0,"&DownLeftRightVector;"],[0,"&LeftUpDownVector;"],[0,"&LeftVectorBar;"],[0,"&RightVectorBar;"],[0,"&RightUpVectorBar;"],[0,"&RightDownVectorBar;"],[0,"&DownLeftVectorBar;"],[0,"&DownRightVectorBar;"],[0,"&LeftUpVectorBar;"],[0,"&LeftDownVectorBar;"],[0,"&LeftTeeVector;"],[0,"&RightTeeVector;"],[0,"&RightUpTeeVector;"],[0,"&RightDownTeeVector;"],[0,"&DownLeftTeeVector;"],[0,"&DownRightTeeVector;"],[0,"&LeftUpTeeVector;"],[0,"&LeftDownTeeVector;"],[0,"&lHar;"],[0,"&uHar;"],[0,"&rHar;"],[0,"&dHar;"],[0,"&luruhar;"],[0,"&ldrdhar;"],[0,"&ruluhar;"],[0,"&rdldhar;"],[0,"&lharul;"],[0,"&llhard;"],[0,"&rharul;"],[0,"&lrhard;"],[0,"&udhar;"],[0,"&duhar;"],[0,"&RoundImplies;"],[0,"&erarr;"],[0,"&simrarr;"],[0,"&larrsim;"],[0,"&rarrsim;"],[0,"&rarrap;"],[0,"&ltlarr;"],[1,"&gtrarr;"],[0,"&subrarr;"],[1,"&suplarr;"],[0,"&lfisht;"],[0,"&rfisht;"],[0,"&ufisht;"],[0,"&dfisht;"],[5,"&lopar;"],[0,"&ropar;"],[4,"&lbrke;"],[0,"&rbrke;"],[0,"&lbrkslu;"],[0,"&rbrksld;"],[0,"&lbrksld;"],[0,"&rbrkslu;"],[0,"&langd;"],[0,"&rangd;"],[0,"&lparlt;"],[0,"&rpargt;"],[0,"&gtlPar;"],[0,"&ltrPar;"],[3,"&vzigzag;"],[1,"&vangrt;"],[0,"&angrtvbd;"],[6,"&ange;"],[0,"&range;"],[0,"&dwangle;"],[0,"&uwangle;"],[0,"&angmsdaa;"],[0,"&angmsdab;"],[0,"&angmsdac;"],[0,"&angmsdad;"],[0,"&angmsdae;"],[0,"&angmsdaf;"],[0,"&angmsdag;"],[0,"&angmsdah;"],[0,"&bemptyv;"],[0,"&demptyv;"],[0,"&cemptyv;"],[0,"&raemptyv;"],[0,"&laemptyv;"],[0,"&ohbar;"],[0,"&omid;"],[0,"&opar;"],[1,"&operp;"],[1,"&olcross;"],[0,"&odsold;"],[1,"&olcir;"],[0,"&ofcir;"],[0,"&olt;"],[0,"&ogt;"],[0,"&cirscir;"],[0,"&cirE;"],[0,"&solb;"],[0,"&bsolb;"],[3,"&boxbox;"],[3,"&trisb;"],[0,"&rtriltri;"],[0,{v:"&LeftTriangleBar;",n:824,o:"&NotLeftTriangleBar;"}],[0,{v:"&RightTriangleBar;",n:824,o:"&NotRightTriangleBar;"}],[11,"&iinfin;"],[0,"&infintie;"],[0,"&nvinfin;"],[4,"&eparsl;"],[0,"&smeparsl;"],[0,"&eqvparsl;"],[5,"&blacklozenge;"],[8,"&RuleDelayed;"],[1,"&dsol;"],[9,"&bigodot;"],[0,"&bigoplus;"],[0,"&bigotimes;"],[1,"&biguplus;"],[1,"&bigsqcup;"],[5,"&iiiint;"],[0,"&fpartint;"],[2,"&cirfnint;"],[0,"&awint;"],[0,"&rppolint;"],[0,"&scpolint;"],[0,"&npolint;"],[0,"&pointint;"],[0,"&quatint;"],[0,"&intlarhk;"],[10,"&pluscir;"],[0,"&plusacir;"],[0,"&simplus;"],[0,"&plusdu;"],[0,"&plussim;"],[0,"&plustwo;"],[1,"&mcomma;"],[0,"&minusdu;"],[2,"&loplus;"],[0,"&roplus;"],[0,"&Cross;"],[0,"&timesd;"],[0,"&timesbar;"],[1,"&smashp;"],[0,"&lotimes;"],[0,"&rotimes;"],[0,"&otimesas;"],[0,"&Otimes;"],[0,"&odiv;"],[0,"&triplus;"],[0,"&triminus;"],[0,"&tritime;"],[0,"&intprod;"],[2,"&amalg;"],[0,"&capdot;"],[1,"&ncup;"],[0,"&ncap;"],[0,"&capand;"],[0,"&cupor;"],[0,"&cupcap;"],[0,"&capcup;"],[0,"&cupbrcap;"],[0,"&capbrcup;"],[0,"&cupcup;"],[0,"&capcap;"],[0,"&ccups;"],[0,"&ccaps;"],[2,"&ccupssm;"],[2,"&And;"],[0,"&Or;"],[0,"&andand;"],[0,"&oror;"],[0,"&orslope;"],[0,"&andslope;"],[1,"&andv;"],[0,"&orv;"],[0,"&andd;"],[0,"&ord;"],[1,"&wedbar;"],[6,"&sdote;"],[3,"&simdot;"],[2,{v:"&congdot;",n:824,o:"&ncongdot;"}],[0,"&easter;"],[0,"&apacir;"],[0,{v:"&apE;",n:824,o:"&napE;"}],[0,"&eplus;"],[0,"&pluse;"],[0,"&Esim;"],[0,"&Colone;"],[0,"&Equal;"],[1,"&ddotseq;"],[0,"&equivDD;"],[0,"&ltcir;"],[0,"&gtcir;"],[0,"&ltquest;"],[0,"&gtquest;"],[0,{v:"&leqslant;",n:824,o:"&nleqslant;"}],[0,{v:"&geqslant;",n:824,o:"&ngeqslant;"}],[0,"&lesdot;"],[0,"&gesdot;"],[0,"&lesdoto;"],[0,"&gesdoto;"],[0,"&lesdotor;"],[0,"&gesdotol;"],[0,"&lap;"],[0,"&gap;"],[0,"&lne;"],[0,"&gne;"],[0,"&lnap;"],[0,"&gnap;"],[0,"&lEg;"],[0,"&gEl;"],[0,"&lsime;"],[0,"&gsime;"],[0,"&lsimg;"],[0,"&gsiml;"],[0,"&lgE;"],[0,"&glE;"],[0,"&lesges;"],[0,"&gesles;"],[0,"&els;"],[0,"&egs;"],[0,"&elsdot;"],[0,"&egsdot;"],[0,"&el;"],[0,"&eg;"],[2,"&siml;"],[0,"&simg;"],[0,"&simlE;"],[0,"&simgE;"],[0,{v:"&LessLess;",n:824,o:"&NotNestedLessLess;"}],[0,{v:"&GreaterGreater;",n:824,o:"&NotNestedGreaterGreater;"}],[1,"&glj;"],[0,"&gla;"],[0,"&ltcc;"],[0,"&gtcc;"],[0,"&lescc;"],[0,"&gescc;"],[0,"&smt;"],[0,"&lat;"],[0,{v:"&smte;",n:65024,o:"&smtes;"}],[0,{v:"&late;",n:65024,o:"&lates;"}],[0,"&bumpE;"],[0,{v:"&PrecedesEqual;",n:824,o:"&NotPrecedesEqual;"}],[0,{v:"&sce;",n:824,o:"&NotSucceedsEqual;"}],[2,"&prE;"],[0,"&scE;"],[0,"&precneqq;"],[0,"&scnE;"],[0,"&prap;"],[0,"&scap;"],[0,"&precnapprox;"],[0,"&scnap;"],[0,"&Pr;"],[0,"&Sc;"],[0,"&subdot;"],[0,"&supdot;"],[0,"&subplus;"],[0,"&supplus;"],[0,"&submult;"],[0,"&supmult;"],[0,"&subedot;"],[0,"&supedot;"],[0,{v:"&subE;",n:824,o:"&nsubE;"}],[0,{v:"&supE;",n:824,o:"&nsupE;"}],[0,"&subsim;"],[0,"&supsim;"],[2,{v:"&subnE;",n:65024,o:"&varsubsetneqq;"}],[0,{v:"&supnE;",n:65024,o:"&varsupsetneqq;"}],[2,"&csub;"],[0,"&csup;"],[0,"&csube;"],[0,"&csupe;"],[0,"&subsup;"],[0,"&supsub;"],[0,"&subsub;"],[0,"&supsup;"],[0,"&suphsub;"],[0,"&supdsub;"],[0,"&forkv;"],[0,"&topfork;"],[0,"&mlcp;"],[8,"&Dashv;"],[1,"&Vdashl;"],[0,"&Barv;"],[0,"&vBar;"],[0,"&vBarv;"],[1,"&Vbar;"],[0,"&Not;"],[0,"&bNot;"],[0,"&rnmid;"],[0,"&cirmid;"],[0,"&midcir;"],[0,"&topcir;"],[0,"&nhpar;"],[0,"&parsim;"],[9,{v:"&parsl;",n:8421,o:"&nparsl;"}],[44343,{n:new Map(s([[56476,"&Ascr;"],[1,"&Cscr;"],[0,"&Dscr;"],[2,"&Gscr;"],[2,"&Jscr;"],[0,"&Kscr;"],[2,"&Nscr;"],[0,"&Oscr;"],[0,"&Pscr;"],[0,"&Qscr;"],[1,"&Sscr;"],[0,"&Tscr;"],[0,"&Uscr;"],[0,"&Vscr;"],[0,"&Wscr;"],[0,"&Xscr;"],[0,"&Yscr;"],[0,"&Zscr;"],[0,"&ascr;"],[0,"&bscr;"],[0,"&cscr;"],[0,"&dscr;"],[1,"&fscr;"],[1,"&hscr;"],[0,"&iscr;"],[0,"&jscr;"],[0,"&kscr;"],[0,"&lscr;"],[0,"&mscr;"],[0,"&nscr;"],[1,"&pscr;"],[0,"&qscr;"],[0,"&rscr;"],[0,"&sscr;"],[0,"&tscr;"],[0,"&uscr;"],[0,"&vscr;"],[0,"&wscr;"],[0,"&xscr;"],[0,"&yscr;"],[0,"&zscr;"],[52,"&Afr;"],[0,"&Bfr;"],[1,"&Dfr;"],[0,"&Efr;"],[0,"&Ffr;"],[0,"&Gfr;"],[2,"&Jfr;"],[0,"&Kfr;"],[0,"&Lfr;"],[0,"&Mfr;"],[0,"&Nfr;"],[0,"&Ofr;"],[0,"&Pfr;"],[0,"&Qfr;"],[1,"&Sfr;"],[0,"&Tfr;"],[0,"&Ufr;"],[0,"&Vfr;"],[0,"&Wfr;"],[0,"&Xfr;"],[0,"&Yfr;"],[1,"&afr;"],[0,"&bfr;"],[0,"&cfr;"],[0,"&dfr;"],[0,"&efr;"],[0,"&ffr;"],[0,"&gfr;"],[0,"&hfr;"],[0,"&ifr;"],[0,"&jfr;"],[0,"&kfr;"],[0,"&lfr;"],[0,"&mfr;"],[0,"&nfr;"],[0,"&ofr;"],[0,"&pfr;"],[0,"&qfr;"],[0,"&rfr;"],[0,"&sfr;"],[0,"&tfr;"],[0,"&ufr;"],[0,"&vfr;"],[0,"&wfr;"],[0,"&xfr;"],[0,"&yfr;"],[0,"&zfr;"],[0,"&Aopf;"],[0,"&Bopf;"],[1,"&Dopf;"],[0,"&Eopf;"],[0,"&Fopf;"],[0,"&Gopf;"],[1,"&Iopf;"],[0,"&Jopf;"],[0,"&Kopf;"],[0,"&Lopf;"],[0,"&Mopf;"],[1,"&Oopf;"],[3,"&Sopf;"],[0,"&Topf;"],[0,"&Uopf;"],[0,"&Vopf;"],[0,"&Wopf;"],[0,"&Xopf;"],[0,"&Yopf;"],[1,"&aopf;"],[0,"&bopf;"],[0,"&copf;"],[0,"&dopf;"],[0,"&eopf;"],[0,"&fopf;"],[0,"&gopf;"],[0,"&hopf;"],[0,"&iopf;"],[0,"&jopf;"],[0,"&kopf;"],[0,"&lopf;"],[0,"&mopf;"],[0,"&nopf;"],[0,"&oopf;"],[0,"&popf;"],[0,"&qopf;"],[0,"&ropf;"],[0,"&sopf;"],[0,"&topf;"],[0,"&uopf;"],[0,"&vopf;"],[0,"&wopf;"],[0,"&xopf;"],[0,"&yopf;"],[0,"&zopf;"]]))}],[8906,"&fflig;"],[0,"&filig;"],[0,"&fllig;"],[0,"&ffilig;"],[0,"&ffllig;"]]))},35529:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(29111),e)},35535:function(g,e,s){var c=this&&this.__awaiter||function(u,i,r,n){return new(r||(r=Promise))(function(t,a){function l(f){try{p(n.next(f))}catch(h){a(h)}}function d(f){try{p(n.throw(f))}catch(h){a(h)}}function p(f){var h;f.done?t(f.value):(h=f.value,h instanceof r?h:new r(function(y){y(h)})).then(l,d)}p((n=n.apply(u,i||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.lookupPrefix=void 0;const o=s(37338);e.lookupPrefix=function(u,i){return c(this,void 0,void 0,function*(){const r=new URL("https://prefix.cc/reverse");r.searchParams.append("uri",u),r.searchParams.append("format","jsonld");const n=Object.keys(yield(0,o.fetchContext)(r,i));if(n.length===0)throw new Error("No prefixes returned");return n[0]})}},35694:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isomorphic=function(x,T){return!!i(x,T)},e.getBijection=i,e.getBijectionInner=r,e.hashValues=t,e.hasValue=a,e.getQuadsWithBlankNodes=l,e.getQuadsWithoutBlankNodes=d,e.indexGraph=p,e.deindexGraph=f,e.uniqGraph=h,e.getGraphBlankNodes=y,e.hashTerms=m,e.hashTerm=b,e.hashNumber=v,e.quadToSignature=_,e.termToSignature=w,e.isTermGrounded=S;const c=s(43347),o=s(52195),u=s(24799);function i(x,T){const O=p(d(x)),E=p(d(T));if(Object.keys(O).length!==Object.keys(E).length)return null;for(const R in O)if(O[R]!==E[R])return null;return r(h(l(x)),h(l(T)),y(x),y(T))}function r(x,T,O,E,R,M){R||(R={}),M||(M={});const[Q,X]=m(x,O,R),[V,H]=m(T,E,M);if(Object.keys(Q).length!==Object.keys(V).length)return null;for(const k in Q)if(!a(V,Q[k]))return null;let U={};for(const k of O){const $=(0,c.termToString)(k),ae=X[$];for(const he in H)if(H[he]===ae){U[$]=he,delete H[he];break}}if(!n(Object.keys(U).sort(),O.map(c.termToString).sort())||!n(t(U).sort(),E.map(c.termToString).sort())){U=null;for(const k of O){const $=(0,c.termToString)(k);if(!Q[$])for(const ae of E){const he=(0,c.termToString)(ae);if(!V[he]&&X[$]===H[he]){const ye=v($);U=r(x,T,O,E,Object.assign(Object.assign({},Q),{[$]:ye}),Object.assign(Object.assign({},V),{[he]:ye}))}}}}return U}function n(x,T){if(x.length!==T.length)return!1;for(let O=x.length;O--;)if(x[O]!==T[O])return!1;return!0}function t(x){const T=[];for(const O in x)T.push(x[O]);return T}function a(x,T){for(const O in x)if(x[O]===T)return!0;return!1}function l(x){return x.filter(T=>(0,o.someTerms)(T,O=>O.termType==="BlankNode"||O.termType==="Quad"&&(0,o.getTermsNested)(O).some(E=>E.termType==="BlankNode")))}function d(x){return x.filter(T=>(0,o.everyTerms)(T,O=>O.termType!=="BlankNode"&&!(O.termType==="Quad"&&(0,o.getTermsNested)(O).some(E=>E.termType==="BlankNode"))))}function p(x){const T={};for(const O of x)T[JSON.stringify((0,c.quadToStringQuad)(O))]=!0;return T}function f(x){return Object.keys(x).map(T=>(0,c.stringQuadToQuad)(JSON.parse(T)))}function h(x){return f(p(x))}function y(x){return(0,o.uniqTerms)(x.map(T=>(0,o.getBlankNodes)((0,o.getTermsNested)(T))).reduce((T,O)=>T.concat(O),[]))}function m(x,T,O){const E=Object.assign({},O),R={};let M=!0;for(;M;){const Q=Object.keys(E).length;for(const V of T){const H=(0,c.termToString)(V);if(!E[H]){const[U,k]=b(V,x,E);U&&(E[H]=k),R[H]=k}}const X=new Map;for(const V in R){const H=R[V];X.get(H)===void 0?X.set(H,V):X.set(H,!1)}for(const[V,H]of X.entries())H&&(E[H]=V);M=Q!==Object.keys(E).length}return[E,R]}function b(x,T,O){const E=[];let R=!0;for(const M of T){const Q=(0,o.getTermsNested)(M);if(Q.some(X=>X.equals(x))){E.push(_(M,O,x));for(const X of Q)S(X,O)||X.equals(x)||(R=!1)}}return[R,v(E.sort().join(""))]}function v(x){return u().hash(x).result()}function _(x,T,O){return(0,o.getTerms)(x).map(E=>w(E,T,O)).join("|")}function w(x,T,O){var E;return x.equals(O)?"@self":x.termType==="BlankNode"?((E=T[(0,c.termToString)(x)])===null||E===void 0?void 0:E.toString())||"@blank":x.termType==="Quad"?`<${_(x,T,O)}>`:(0,c.termToString)(x)}function S(x,T){return x.termType!=="BlankNode"&&!(x.termType==="Quad"&&(0,o.getTermsNested)(x).some(O=>!S(O,T)))||!!T[(0,c.termToString)(x)]}},35716:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryOperationLeftJoin=void 0;const c=s(66490),o=s(90711),u=s(90412),i=s(67021),r=s(96331);class n extends c.ActorQueryOperationTypedMediated{constructor(a){super(a,"leftjoin")}async testOperation(a,l){return(0,u.passTestVoid)()}async runOperation(a,l){const d=l.getSafe(o.KeysInitQuery.dataFactory),p=new r.Factory(d),f=await Promise.all(a.input.map(async(h,y)=>{const m=(0,i.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:h,context:l}));return a.expression&&y===1?{output:m,operation:p.createFilter(h,a.expression),operationRequired:!0}:{output:m,operation:h}}));return await this.mediatorJoin.mediate({type:"optional",entries:f,context:l})}}e.ActorQueryOperationLeftJoin=n},35733:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BlankNode=void 0,e.BlankNode=class{constructor(s){this.termType="BlankNode",this.value=s}equals(s){return!!s&&s.termType==="BlankNode"&&s.value===this.value}}},35738:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.stringQuadToQuad=e.quadToStringQuad=e.stringToTerm=e.getLiteralLanguage=e.getLiteralType=e.getLiteralValue=e.termToString=void 0;const c=new(s(47793)).DataFactory;function o(t){if(t)switch(t.termType){case"NamedNode":case"DefaultGraph":return t.value;case"BlankNode":return"_:"+t.value;case"Literal":const a=t;return'"'+a.value+'"'+(a.datatype&&a.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&a.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?"^^"+a.datatype.value:"")+(a.language?"@"+a.language:"");case"Quad":return`<<${o(t.subject)} ${o(t.predicate)} ${o(t.object)}${t.graph.termType==="DefaultGraph"?"":" "+o(t.graph)}>>`;case"Variable":return"?"+t.value}}function u(t){const a=/^"([^]*)"/.exec(t);if(!a)throw new Error(t+" is not a literal");return a[1]}function i(t){const a=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(t);if(!a)throw new Error(t+" is not a literal");return a[1]||(a[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}function r(t){const a=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(t);if(!a)throw new Error(t+" is not a literal");return a[1]?a[1].toLowerCase():""}function n(t,a){if(a=a||c,!t||!t.length)return a.defaultGraph();switch(t[0]){case"_":return a.blankNode(t.substr(2));case"?":if(!a.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return a.variable(t.substr(1));case'"':const l=r(t),d=a.namedNode(i(t));return a.literal(u(t),l||d);default:if(t[0]==="<"&&t.length>4&&t[1]==="<"&&t[t.length-1]===">"&&t[t.length-2]===">"){const p=t.slice(2,-2).trim();let f=[],h=0,y=0,m=!1;for(let b=0;b<p.length;b++){const v=p[b];if(v==="<"&&h++,v===">"){if(h===0)throw new Error("Found closing tag without opening tag in "+t);h--}if(v==='"'){let _=!1,w=b;for(;w-- >0&&p[w]==="\\";)_=!_;_||(m=!m)}if(v===" "&&!m&&h===0){for(f.push(p.slice(y,b));p[b+1]===" ";)b+=1;y=b+1}}if(h!==0)throw new Error("Found opening tag without closing tag in "+t);if(f.push(p.slice(y,p.length)),f.length!==3&&f.length!==4)throw new Error("Nested quad syntax error "+t);return f=f.map(b=>b.startsWith("<")&&!b.includes(" ")?b.slice(1,-1):b),a.quad(n(f[0]),n(f[1]),n(f[2]),f[3]?n(f[3]):void 0)}return a.namedNode(t)}}e.termToString=o,e.getLiteralValue=u,e.getLiteralType=i,e.getLiteralLanguage=r,e.stringToTerm=n,e.quadToStringQuad=function(t){return{subject:o(t.subject),predicate:o(t.predicate),object:o(t.object),graph:o(t.graph)}},e.stringQuadToQuad=function(t,a){return(a=a||c).quad(n(t.subject,a),n(t.predicate,a),n(t.object,a),n(t.graph,a))}},35943:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermRand=void 0;const c=s(77617),o=s(77545),u=s(48430);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.SparqlOperator.RAND],termFunction:!0})}async run(n){return new u.TermFunctionRand}}e.ActorFunctionFactoryTermRand=i},36057:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryResultSerializeSimple=void 0;const c=s(58871),o=s(90412),u=s(75627),i=s(17173),r=s(19198);class n extends c.ActorQueryResultSerializeFixedMediaTypes{constructor(a){super(a)}async testHandleChecked(a,l){return["bindings","quads","boolean","void"].includes(a.type)?(0,o.passTestVoid)():(0,o.failTest)("This actor can only handle bindings streams, quad streams, booleans, or updates.")}static termToString(a){return a.termType==="Quad"?(0,i.termToString)(a):a.value}async runHandle(a,l,d){const p=new r.Readable;return a.type==="bindings"?p.wrap(a.bindingsStream.map(f=>`${[...f].map(([h,y])=>`?${h.value}: ${n.termToString(y)}`).join(`
`)}

`)):a.type==="quads"?p.wrap(a.quadStream.map(f=>`subject: ${n.termToString(f.subject)}
predicate: ${n.termToString(f.predicate)}
object: ${n.termToString(f.object)}
graph: ${n.termToString(f.graph)}

`)):p.wrap((0,u.wrap)(a.type==="boolean"?a.execute().then(f=>[`${f}
`]):a.execute().then(()=>[`ok
`]))),{data:p}}}e.ActorQueryResultSerializeSimple=n},36093:g=>{(function(){var e=(function(){function h(y){this.options=y}return h.prototype.toString=function(){return JSON&&JSON.stringify?JSON.stringify(this.options):this.options},h})(),s={isArray:function(h){return Object.prototype.toString.apply(h)==="[object Array]"},isString:function(h){return Object.prototype.toString.apply(h)==="[object String]"},isNumber:function(h){return Object.prototype.toString.apply(h)==="[object Number]"},isBoolean:function(h){return Object.prototype.toString.apply(h)==="[object Boolean]"},join:function(h,y){var m,b="",v=!0;for(m=0;m<h.length;m+=1)v?v=!1:b+=y,b+=h[m];return b},map:function(h,y){for(var m=[],b=0;b<h.length;b+=1)m.push(y(h[b]));return m},filter:function(h,y){for(var m=[],b=0;b<h.length;b+=1)y(h[b])&&m.push(h[b]);return m},deepFreeze:function h(y){return typeof Object.freeze=="function"?(function(m){if(typeof m!="object"||m===null)return m;var b,v;for(v in Object.freeze(m),m)m.hasOwnProperty(v)&&typeof(b=m[v])=="object"&&h(b);return m})(y):y}},c=(function(){function h(y){return y>="0"&&y<="9"}return{isAlpha:function(y){return y>="a"&&y<="z"||y>="A"&&y<="Z"},isDigit:h,isHexDigit:function(y){return h(y)||y>="a"&&y<="f"||y>="A"&&y<="F"}}})(),o=(function(){var h=function(v){return v<=127?1:194<=v&&v<=223?2:224<=v&&v<=239?3:240<=v&&v<=244?4:0},y=function(v){return 128<=v&&v<=191};function m(v,_){return v.charAt(_)==="%"&&c.isHexDigit(v.charAt(_+1))&&c.isHexDigit(v.charAt(_+2))}function b(v,_){return parseInt(v.substr(_,2),16)}return{encodeCharacter:function(v){var _,w,S="",x=(function(T){return unescape(encodeURIComponent(T))})(v);for(w=0;w<x.length;w+=1)S+="%"+((_=x.charCodeAt(w))<16?"0":"")+_.toString(16).toUpperCase();return S},isPctEncoded:function(v){if(!m(v,0))return!1;var _=b(v,1),w=h(_);if(w===0)return!1;for(var S=1;S<w;S+=1)if(!m(v,3*S)||!y(b(v,3*S+1)))return!1;return!0},pctCharAt:function(v,_){var w=v.charAt(_);if(!m(v,_))return w;var S=b(v,_+1),x=h(S);if(x===0)return w;for(var T=1;T<x;T+=1)if(!m(v,_+3*T)||!y(b(v,_+3*T+1)))return w;return v.substr(_,3*x)}}})(),u=function(h){return c.isAlpha(h)||c.isDigit(h)||h==="_"||o.isPctEncoded(h)},i=function(h){return c.isAlpha(h)||c.isDigit(h)||h==="-"||h==="."||h==="_"||h==="~"},r=function(h){return h===":"||h==="/"||h==="?"||h==="#"||h==="["||h==="]"||h==="@"||h==="!"||h==="$"||h==="&"||h==="("||h===")"||h==="*"||h==="+"||h===","||h===";"||h==="="||h==="'"},n=(function(){function h(y,m){var b,v="",_="";for(typeof y!="number"&&typeof y!="boolean"||(y=y.toString()),b=0;b<y.length;b+=_.length)_=y.charAt(b),v+=i(_)||m&&r(_)?_:o.encodeCharacter(_);return v}return{encode:h,encodePassReserved:function(y){return h(y,!0)},encodeLiteral:function(y){var m,b="",v="";for(m=0;m<y.length;m+=v.length)(v=o.pctCharAt(y,m)).length>1?b+=v:b+=r(v)||i(v)?v:o.encodeCharacter(v);return b},encodeLiteralCharacter:function(y,m){var b=o.pctCharAt(y,m);return b.length>1||r(b)||i(b)?b:o.encodeCharacter(b)}}})(),t=(function(){var h={};function y(m){h[m]={symbol:m,separator:m==="?"?"&":m===""||m==="+"||m==="#"?",":m,named:m===";"||m==="&"||m==="?",ifEmpty:m==="&"||m==="?"?"=":"",first:m==="+"?"":m,encode:m==="+"||m==="#"?n.encodePassReserved:n.encode,toString:function(){return this.symbol}}}return y(""),y("+"),y("#"),y("."),y("/"),y(";"),y("?"),y("&"),{valueOf:function(m){return h[m]?h[m]:"=,!@|".indexOf(m)>=0?null:h[""]}}})();function a(h){var y;if(h==null)return!1;if(s.isArray(h))return h.length>0;if(typeof h=="string"||typeof h=="number"||typeof h=="boolean")return!0;for(y in h)if(h.hasOwnProperty(y)&&a(h[y]))return!0;return!1}var l=(function(){function h(y){this.literal=n.encodeLiteral(y)}return h.prototype.expand=function(){return this.literal},h.prototype.toString=h.prototype.expand,h})(),d=(function(){function h(y){var m,b,v=[],_=null,w=null,S=null,x="";function T(){var E=y.substring(w,b);if(E.length===0)throw new e({expressionText:y,message:"a varname must be specified",position:b});_={varname:E,exploded:!1,maxLength:null},w=null}function O(){if(S===b)throw new e({expressionText:y,message:"after a ':' you have to specify the length",position:b});_.maxLength=parseInt(y.substring(S,b),10),S=null}for(m=(function(E){var R=t.valueOf(E);if(R===null)throw new e({expressionText:y,message:"illegal use of reserved operator",position:b,operator:E});return R})(y.charAt(0)),b=m.symbol.length,w=b;b<y.length;b+=x.length){if(x=o.pctCharAt(y,b),w!==null){if(x==="."){if(w===b)throw new e({expressionText:y,message:"a varname MUST NOT start with a dot",position:b});continue}if(u(x))continue;T()}if(S!==null){if(b===S&&x==="0")throw new e({expressionText:y,message:"A :prefix must not start with digit 0",position:b});if(c.isDigit(x)){if(b-S>=4)throw new e({expressionText:y,message:"A :prefix must have max 4 digits",position:b});continue}O()}if(x!==":")if(x!=="*"){if(x!==",")throw new e({expressionText:y,message:"illegal character",character:x,position:b});v.push(_),_=null,w=b+1}else{if(_===null)throw new e({expressionText:y,message:"exploded without varspec",position:b});if(_.exploded)throw new e({expressionText:y,message:"exploded twice",position:b});if(_.maxLength)throw new e({expressionText:y,message:"an explode (*) MUST NOT follow to a prefix",position:b});_.exploded=!0}else{if(_.maxLength!==null)throw new e({expressionText:y,message:"only one :maxLength is allowed per varspec",position:b});if(_.exploded)throw new e({expressionText:y,message:"an exploeded varspec MUST NOT be varspeced",position:b});S=b+1}}return w!==null&&T(),S!==null&&O(),v.push(_),new p(y,m,v)}return function(y){var m,b,v=[],_=null,w=0;for(m=0;m<y.length;m+=1)if(b=y.charAt(m),w===null){if(_===null)throw new Error("reached unreachable code");if(b==="{")throw new e({templateText:y,message:"brace already opened",position:m});if(b==="}"){if(_+1===m)throw new e({templateText:y,message:"empty braces",position:_});try{v.push(h(y.substring(_+1,m)))}catch(S){throw S.prototype===e.prototype?new e({templateText:y,message:S.options.message,position:_+S.options.position,details:S.options}):S}_=null,w=m+1}}else{if(b==="}")throw new e({templateText:y,message:"unopened brace closed",position:m});b==="{"&&(w<m&&v.push(new l(y.substring(w,m))),w=null,_=m)}if(_!==null)throw new e({templateText:y,message:"unclosed brace",position:_});return w<y.length&&v.push(new l(y.substr(w))),new f(y,v)}})(),p=(function(){function h(T){return JSON&&JSON.stringify?JSON.stringify(T):T}function y(T){if(!a(T))return!0;if(s.isString(T))return T==="";if(s.isNumber(T)||s.isBoolean(T))return!1;if(s.isArray(T))return T.length===0;for(var O in T)if(T.hasOwnProperty(O))return!1;return!0}function m(T){var O,E=[];for(O in T)T.hasOwnProperty(O)&&E.push({name:O,value:T[O]});return E}function b(T,O,E){this.templateText=T,this.operator=O,this.varspecs=E}function v(T,O,E){var R="";if(E=E.toString(),O.named){if(R+=n.encodeLiteral(T.varname),E==="")return R+O.ifEmpty;R+="="}return T.maxLength!==null&&(E=E.substr(0,T.maxLength)),R+O.encode(E)}function _(T){return a(T.value)}function w(T,O,E){var R=[],M="";if(O.named){if(M+=n.encodeLiteral(T.varname),y(E))return M+O.ifEmpty;M+="="}return s.isArray(E)?(R=E,R=s.filter(R,a),R=s.map(R,O.encode),M+=s.join(R,",")):(R=m(E),R=s.filter(R,_),R=s.map(R,function(Q){return O.encode(Q.name)+","+O.encode(Q.value)}),M+=s.join(R,",")),M}function S(T,O,E){var R=[];return s.isArray(E)?(R=E,R=s.filter(R,a),R=s.map(R,function(M){var Q=n.encodeLiteral(T.varname);return y(M)?Q+=O.ifEmpty:Q+="="+O.encode(M),Q})):(R=m(E),R=s.filter(R,_),R=s.map(R,function(M){var Q=n.encodeLiteral(M.name);return y(M.value)?Q+=O.ifEmpty:Q+="="+O.encode(M.value),Q})),s.join(R,O.separator)}function x(T,O){var E=[],R="";return s.isArray(O)?(E=O,E=s.filter(E,a),E=s.map(E,T.encode),R+=s.join(E,T.separator)):(E=m(O),E=s.filter(E,function(M){return a(M.value)}),E=s.map(E,function(M){return T.encode(M.name)+"="+T.encode(M.value)}),R+=s.join(E,T.separator)),R}return b.prototype.toString=function(){return this.templateText},b.prototype.expand=function(T){var O,E,R,M=[],Q=this.operator;for(O=0;O<this.varspecs.length;O+=1)if((R=T[(E=this.varspecs[O]).varname])!=null)if(E.exploded,s.isArray(R),typeof R=="string"||typeof R=="number"||typeof R=="boolean")M.push(v(E,Q,R));else{if(E.maxLength&&a(R))throw new Error("Prefix modifiers are not applicable to variables that have composite values. You tried to expand "+this+" with "+h(R));E.exploded?a(R)&&(Q.named?M.push(S(E,Q,R)):M.push(x(Q,R))):!Q.named&&y(R)||M.push(w(E,Q,R))}return M.length===0?"":Q.first+s.join(M,Q.separator)},b})(),f=(function(){function h(y,m){this.templateText=y,this.expressions=m,s.deepFreeze(this)}return h.prototype.toString=function(){return this.templateText},h.prototype.expand=function(y){var m,b="";for(m=0;m<this.expressions.length;m+=1)b+=this.expressions[m].expand(y);return b},h.parse=d,h.UriTemplateError=e,h})();(function(h){g.exports=h})(f)})()},36229:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(31523),e)},36235:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(81789),e),o(s(23686),e)},36273:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DataFactory=void 0;const c=s(11725),o=s(97460),u=s(86020),i=s(56662),r=s(46388),n=s(42439);let t=0;e.DataFactory=class{constructor(a){this.blankNodeCounter=0,a=a||{},this.blankNodePrefix=a.blankNodePrefix||`df_${t++}_`}namedNode(a){return new i.NamedNode(a)}blankNode(a){return new c.BlankNode(a||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(a,l){return new u.Literal(a,l)}variable(a){return new n.Variable(a)}defaultGraph(){return o.DefaultGraph.INSTANCE}quad(a,l,d,p){return new r.Quad(a,l,d,p||this.defaultGraph())}fromTerm(a){switch(a.termType){case"NamedNode":return this.namedNode(a.value);case"BlankNode":return this.blankNode(a.value);case"Literal":return a.language?this.literal(a.value,a.language):a.datatype.equals(u.Literal.XSD_STRING)?this.literal(a.value):this.literal(a.value,this.fromTerm(a.datatype));case"Variable":return this.variable(a.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(a.subject),this.fromTerm(a.predicate),this.fromTerm(a.object),this.fromTerm(a.graph))}}fromQuad(a){return this.fromTerm(a)}resetBlankNodeCounter(){this.blankNodeCounter=0}}},36339:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.validateAndCloseHttpResponse=void 0;const c=s(52728),o=s(91295);e.validateAndCloseHttpResponse=async function(u,i){if(i.status>=400){let r="empty response";if(i.body){const n=o.ActorHttp.toNodeReadable(i.body);r=await(0,c.stringify)(n)}throw new Error(`Could not update ${u} (HTTP status ${i.status}):
${r}`)}await i.body?.cancel()}},36356:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorContextPreprocessSourceToDestination=void 0;const c=s(98926),o=s(90711),u=s(90412);class i extends c.ActorContextPreprocess{constructor(n){super(n)}async test(n){return(0,u.passTestVoid)()}async run(n){if(n.context.get(o.KeysInitQuery.querySourcesUnidentified)&&!n.context.get(o.KeysRdfUpdateQuads.destination)){const t=n.context.get(o.KeysInitQuery.querySourcesUnidentified);if(t.length===1)return{context:n.context.set(o.KeysRdfUpdateQuads.destination,t[0])}}return n}}e.ActorContextPreprocessSourceToDestination=i},36413:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.termToString=e.stringToTerm=e.stringQuadToQuad=e.quadToStringQuad=e.getLiteralValue=e.getLiteralType=e.getLiteralLanguage=void 0;const c=s(70047);Object.defineProperty(e,"getLiteralLanguage",{enumerable:!0,get:function(){return c.getLiteralLanguage}}),Object.defineProperty(e,"getLiteralType",{enumerable:!0,get:function(){return c.getLiteralType}}),Object.defineProperty(e,"getLiteralValue",{enumerable:!0,get:function(){return c.getLiteralValue}}),Object.defineProperty(e,"quadToStringQuad",{enumerable:!0,get:function(){return c.quadToStringQuad}}),Object.defineProperty(e,"stringQuadToQuad",{enumerable:!0,get:function(){return c.stringQuadToQuad}}),Object.defineProperty(e,"stringToTerm",{enumerable:!0,get:function(){return c.stringToTerm}}),Object.defineProperty(e,"termToString",{enumerable:!0,get:function(){return c.termToString}})},36424:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionXsdToBoolean=void 0;const c=s(77617),o=s(77545);class u extends c.TermFunctionBase{constructor(){super({arity:1,operator:o.TypeURL.XSD_BOOLEAN,overloads:(0,o.declare)(o.TypeURL.XSD_BOOLEAN).onNumeric1(()=>r=>(0,o.bool)(r.coerceEBV()),!0).onUnary(o.TypeURL.XSD_BOOLEAN,()=>r=>(0,o.bool)(r.coerceEBV()),!0).onUnary(o.TypeURL.XSD_STRING,()=>r=>{switch(r.str()){case"true":case"1":return(0,o.bool)(!0);case"false":case"0":return(0,o.bool)(!1);default:throw new o.CastError(r,o.TypeURL.XSD_BOOLEAN)}},!1).collect()})}}e.TermFunctionXsdToBoolean=u},36458:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ItemPropertyHandlerTime=void 0;const c=s(73153);class o{canHandle(i,r){return i==="time"&&"datetime"in r}getObject(i,r,n){const t=i.datetime;let a;for(const l of o.TIME_REGEXES)if(l.regex.test(t)){a=r.dataFactory.namedNode(c.Util.XSD+l.type);break}return r.dataFactory.literal(t,a)}}e.ItemPropertyHandlerTime=o,o.TIME_REGEXES=[{regex:/^-?P(\d+Y)?(\d+M)?(\d+D)?(T(\d+H)?(\d+M)?(\d+(\.\d)?S)?)?$/u,type:"duration"},{regex:/^\d+-\d\d-\d\dT\d\d:\d\d:\d\d((Z?)|([+-]\d\d:\d\d))$/u,type:"dateTime"},{regex:/^\d+-\d\d-\d\dZ?$/u,type:"date"},{regex:/^\d\d:\d\d:\d\d((Z?)|([+-]\d\d:\d\d))$/u,type:"time"},{regex:/^\d+-\d\d$/u,type:"gYearMonth"},{regex:/^\d+$/u,type:"gYear"}]},36666:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermUnaryMinus=void 0;const c=s(77617),o=s(77545),u=s(85959);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.SparqlOperator.UMINUS],termFunction:!0})}async run(n){return new u.TermFunctionUnaryMinus}}e.ActorFunctionFactoryTermUnaryMinus=i},36706:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionSha256=void 0;const c=s(77617),o=s(77545),u=s(77952);class i extends c.TermFunctionBase{constructor(){super({arity:1,operator:o.SparqlOperator.SHA256,overloads:(0,o.declare)(o.SparqlOperator.SHA256).onString1Typed(()=>n=>(0,o.string)((0,u.sha256)().update(n).digest("hex"))).collect()})}}e.TermFunctionSha256=i},36750:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.JoinTypes=e.ActorRdfJoinSelectivityVariableCounting=void 0;const c=s(95705),o=s(90412),u=s(96331);class i extends c.ActorRdfJoinSelectivity{constructor(t){super(t)}async test(t){return(0,o.passTest)({accuracy:.5})}static getPatternCost(t){let a=1;return t.subject.termType==="Variable"&&(a+=4),t.predicate.termType!=="Variable"&&t.type!==u.Algebra.types.PATH||(a+=1),t.object.termType==="Variable"&&(a+=2),t.graph.termType==="Variable"&&(a+=1),a/9}static getJoinTypes(t,a){const l=[];return t.subject.termType==="Variable"?(t.subject.equals(a.subject)&&l.push(r.unboundSS),a.type==="pattern"&&t.subject.equals(a.predicate)&&l.push(r.unboundSP),t.subject.equals(a.object)&&l.push(r.unboundSO),t.subject.equals(a.graph)&&l.push(r.unboundSG)):(t.subject.equals(a.subject)&&l.push(r.boundSS),a.type==="pattern"&&t.subject.equals(a.predicate)&&l.push(r.boundSP),t.subject.equals(a.object)&&l.push(r.boundSO),t.subject.equals(a.graph)&&l.push(r.boundSG)),t.type==="pattern"&&(t.predicate.termType==="Variable"?(t.predicate.equals(a.subject)&&l.push(r.unboundPS),a.type==="pattern"&&t.predicate.equals(a.predicate)&&l.push(r.unboundPP),t.predicate.equals(a.object)&&l.push(r.unboundPO),t.predicate.equals(a.graph)&&l.push(r.unboundPG)):(t.predicate.equals(a.subject)&&l.push(r.boundPS),a.type==="pattern"&&t.predicate.equals(a.predicate)&&l.push(r.boundPP),t.predicate.equals(a.object)&&l.push(r.boundPO),t.predicate.equals(a.graph)&&l.push(r.boundPG))),t.object.termType==="Variable"?(t.object.equals(a.subject)&&l.push(r.unboundOS),a.type==="pattern"&&t.object.equals(a.predicate)&&l.push(r.unboundOP),t.object.equals(a.object)&&l.push(r.unboundOO),t.object.equals(a.graph)&&l.push(r.unboundOG)):(t.object.equals(a.subject)&&l.push(r.boundOS),a.type==="pattern"&&t.object.equals(a.predicate)&&l.push(r.boundOP),t.object.equals(a.object)&&l.push(r.boundOO),t.object.equals(a.graph)&&l.push(r.boundOG)),t.graph.termType==="Variable"?(t.graph.equals(a.subject)&&l.push(r.unboundGS),a.type==="pattern"&&t.graph.equals(a.predicate)&&l.push(r.unboundGP),t.graph.equals(a.object)&&l.push(r.unboundGO),t.graph.equals(a.graph)&&l.push(r.unboundGG)):(t.graph.equals(a.subject)&&l.push(r.boundGS),a.type==="pattern"&&t.graph.equals(a.predicate)&&l.push(r.boundGP),t.graph.equals(a.object)&&l.push(r.boundGO),t.graph.equals(a.graph)&&l.push(r.boundGG)),l}static getOperationsPairwiseJoinCost(t,a){let l=i.MAX_PAIRWISE_COST;for(const d of i.getJoinTypes(t,a))switch(d){case r.boundSS:l-=4;break;case r.boundSP:l-=6;break;case r.boundSO:l-=2;break;case r.boundSG:case r.boundPS:l-=6;break;case r.boundPP:return 1;case r.boundPO:case r.boundPG:l-=6;break;case r.boundOS:l-=2;break;case r.boundOP:l-=6;break;case r.boundOO:l-=2;break;case r.boundOG:case r.boundGS:case r.boundGP:case r.boundGO:case r.boundGG:l-=6;break;case r.unboundSS:l-=2;break;case r.unboundSP:l-=3;break;case r.unboundSO:l-=1;break;case r.unboundSG:case r.unboundPS:case r.unboundPP:case r.unboundPO:case r.unboundPG:l-=3;break;case r.unboundOS:l-=1;break;case r.unboundOP:l-=3;break;case r.unboundOO:l-=1;break;case r.unboundOG:case r.unboundGS:case r.unboundGP:case r.unboundGO:case r.unboundGG:l-=3}return l/i.MAX_PAIRWISE_COST}static getOperationsJoinCost(t){const a=[];for(const p of t)u.Util.recurseOperation(p,{[u.Algebra.types.PATTERN]:f=>(a.push(f),!1),[u.Algebra.types.PATH]:f=>(a.push(f),!1)});let l=0,d=0;for(const p of a)for(const f of a)p!==f&&(l+=i.getOperationsPairwiseJoinCost(p,f),d++);return d===0?1:l/d*a.reduce((p,f)=>p*i.getPatternCost(f),1)}async run(t){return t.entries.length<=1?{selectivity:1}:{selectivity:i.getOperationsJoinCost(t.entries.map(a=>a.operation))}}}var r;e.ActorRdfJoinSelectivityVariableCounting=i,i.MAX_PAIRWISE_COST=82,(function(n){n[n.boundSS=0]="boundSS",n[n.boundSP=1]="boundSP",n[n.boundSO=2]="boundSO",n[n.boundSG=3]="boundSG",n[n.boundPS=4]="boundPS",n[n.boundPP=5]="boundPP",n[n.boundPO=6]="boundPO",n[n.boundPG=7]="boundPG",n[n.boundOS=8]="boundOS",n[n.boundOP=9]="boundOP",n[n.boundOO=10]="boundOO",n[n.boundOG=11]="boundOG",n[n.boundGS=12]="boundGS",n[n.boundGP=13]="boundGP",n[n.boundGO=14]="boundGO",n[n.boundGG=15]="boundGG",n[n.unboundSS=16]="unboundSS",n[n.unboundSP=17]="unboundSP",n[n.unboundSO=18]="unboundSO",n[n.unboundSG=19]="unboundSG",n[n.unboundPS=20]="unboundPS",n[n.unboundPP=21]="unboundPP",n[n.unboundPO=22]="unboundPO",n[n.unboundPG=23]="unboundPG",n[n.unboundOS=24]="unboundOS",n[n.unboundOP=25]="unboundOP",n[n.unboundOO=26]="unboundOO",n[n.unboundOG=27]="unboundOG",n[n.unboundGS=28]="unboundGS",n[n.unboundGP=29]="unboundGP",n[n.unboundGO=30]="unboundGO",n[n.unboundGG=31]="unboundGG"})(r||(e.JoinTypes=r={}))},36754:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Quad=void 0,e.Quad=class{constructor(s,c,o,u){this.termType="Quad",this.value="",this.subject=s,this.predicate=c,this.object=o,this.graph=u}equals(s){return!!s&&(s.termType==="Quad"||!s.termType)&&this.subject.equals(s.subject)&&this.predicate.equals(s.predicate)&&this.object.equals(s.object)&&this.graph.equals(s.graph)}}},36884:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(76326),e)},36957:function(g,e,s){var c,o=this&&this.__extends||(c=function(T,O){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,R){E.__proto__=R}||function(E,R){for(var M in R)Object.prototype.hasOwnProperty.call(R,M)&&(E[M]=R[M])},c(T,O)},function(T,O){if(typeof O!="function"&&O!==null)throw new TypeError("Class extends value "+String(O)+" is not a constructor or null");function E(){this.constructor=T}c(T,O),T.prototype=O===null?Object.create(O):(E.prototype=O.prototype,new E)}),u=this&&this.__assign||function(){return u=Object.assign||function(T){for(var O,E=1,R=arguments.length;E<R;E++)for(var M in O=arguments[E])Object.prototype.hasOwnProperty.call(O,M)&&(T[M]=O[M]);return T},u.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.cloneNode=e.hasChildren=e.isDocument=e.isDirective=e.isComment=e.isText=e.isCDATA=e.isTag=e.Element=e.Document=e.CDATA=e.NodeWithChildren=e.ProcessingInstruction=e.Comment=e.Text=e.DataNode=e.Node=void 0;var i=s(45413),r=(function(){function T(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(T.prototype,"parentNode",{get:function(){return this.parent},set:function(O){this.parent=O},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"previousSibling",{get:function(){return this.prev},set:function(O){this.prev=O},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"nextSibling",{get:function(){return this.next},set:function(O){this.next=O},enumerable:!1,configurable:!0}),T.prototype.cloneNode=function(O){return O===void 0&&(O=!1),S(this,O)},T})();e.Node=r;var n=(function(T){function O(E){var R=T.call(this)||this;return R.data=E,R}return o(O,T),Object.defineProperty(O.prototype,"nodeValue",{get:function(){return this.data},set:function(E){this.data=E},enumerable:!1,configurable:!0}),O})(r);e.DataNode=n;var t=(function(T){function O(){var E=T!==null&&T.apply(this,arguments)||this;return E.type=i.ElementType.Text,E}return o(O,T),Object.defineProperty(O.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),O})(n);e.Text=t;var a=(function(T){function O(){var E=T!==null&&T.apply(this,arguments)||this;return E.type=i.ElementType.Comment,E}return o(O,T),Object.defineProperty(O.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),O})(n);e.Comment=a;var l=(function(T){function O(E,R){var M=T.call(this,R)||this;return M.name=E,M.type=i.ElementType.Directive,M}return o(O,T),Object.defineProperty(O.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),O})(n);e.ProcessingInstruction=l;var d=(function(T){function O(E){var R=T.call(this)||this;return R.children=E,R}return o(O,T),Object.defineProperty(O.prototype,"firstChild",{get:function(){var E;return(E=this.children[0])!==null&&E!==void 0?E:null},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"childNodes",{get:function(){return this.children},set:function(E){this.children=E},enumerable:!1,configurable:!0}),O})(r);e.NodeWithChildren=d;var p=(function(T){function O(){var E=T!==null&&T.apply(this,arguments)||this;return E.type=i.ElementType.CDATA,E}return o(O,T),Object.defineProperty(O.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),O})(d);e.CDATA=p;var f=(function(T){function O(){var E=T!==null&&T.apply(this,arguments)||this;return E.type=i.ElementType.Root,E}return o(O,T),Object.defineProperty(O.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),O})(d);e.Document=f;var h=(function(T){function O(E,R,M,Q){M===void 0&&(M=[]),Q===void 0&&(Q=E==="script"?i.ElementType.Script:E==="style"?i.ElementType.Style:i.ElementType.Tag);var X=T.call(this,M)||this;return X.name=E,X.attribs=R,X.type=Q,X}return o(O,T),Object.defineProperty(O.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"tagName",{get:function(){return this.name},set:function(E){this.name=E},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"attributes",{get:function(){var E=this;return Object.keys(this.attribs).map(function(R){var M,Q;return{name:R,value:E.attribs[R],namespace:(M=E["x-attribsNamespace"])===null||M===void 0?void 0:M[R],prefix:(Q=E["x-attribsPrefix"])===null||Q===void 0?void 0:Q[R]}})},enumerable:!1,configurable:!0}),O})(d);function y(T){return(0,i.isTag)(T)}function m(T){return T.type===i.ElementType.CDATA}function b(T){return T.type===i.ElementType.Text}function v(T){return T.type===i.ElementType.Comment}function _(T){return T.type===i.ElementType.Directive}function w(T){return T.type===i.ElementType.Root}function S(T,O){var E;if(O===void 0&&(O=!1),b(T))E=new t(T.data);else if(v(T))E=new a(T.data);else if(y(T)){var R=O?x(T.children):[],M=new h(T.name,u({},T.attribs),R);R.forEach(function(H){return H.parent=M}),T.namespace!=null&&(M.namespace=T.namespace),T["x-attribsNamespace"]&&(M["x-attribsNamespace"]=u({},T["x-attribsNamespace"])),T["x-attribsPrefix"]&&(M["x-attribsPrefix"]=u({},T["x-attribsPrefix"])),E=M}else if(m(T)){R=O?x(T.children):[];var Q=new p(R);R.forEach(function(H){return H.parent=Q}),E=Q}else if(w(T)){R=O?x(T.children):[];var X=new f(R);R.forEach(function(H){return H.parent=X}),T["x-mode"]&&(X["x-mode"]=T["x-mode"]),E=X}else{if(!_(T))throw new Error("Not implemented yet: ".concat(T.type));var V=new l(T.name,T.data);T["x-name"]!=null&&(V["x-name"]=T["x-name"],V["x-publicId"]=T["x-publicId"],V["x-systemId"]=T["x-systemId"]),E=V}return E.startIndex=T.startIndex,E.endIndex=T.endIndex,T.sourceCodeLocation!=null&&(E.sourceCodeLocation=T.sourceCodeLocation),E}function x(T){for(var O=T.map(function(R){return S(R,!0)}),E=1;E<O.length;E++)O[E].prev=O[E-1],O[E-1].next=O[E];return O}e.Element=h,e.isTag=y,e.isCDATA=m,e.isText=b,e.isComment=v,e.isDirective=_,e.isDocument=w,e.hasChildren=function(T){return Object.prototype.hasOwnProperty.call(T,"children")},e.cloneNode=S},37007:g=>{var e,s=typeof Reflect=="object"?Reflect:null,c=s&&typeof s.apply=="function"?s.apply:function(y,m,b){return Function.prototype.apply.call(y,m,b)};e=s&&typeof s.ownKeys=="function"?s.ownKeys:Object.getOwnPropertySymbols?function(y){return Object.getOwnPropertyNames(y).concat(Object.getOwnPropertySymbols(y))}:function(y){return Object.getOwnPropertyNames(y)};var o=Number.isNaN||function(y){return y!=y};function u(){u.init.call(this)}g.exports=u,g.exports.once=function(y,m){return new Promise(function(b,v){function _(S){y.removeListener(m,w),v(S)}function w(){typeof y.removeListener=="function"&&y.removeListener("error",_),b([].slice.call(arguments))}h(y,m,w,{once:!0}),m!=="error"&&(function(S,x){typeof S.on=="function"&&h(S,"error",x,{once:!0})})(y,_)})},u.EventEmitter=u,u.prototype._events=void 0,u.prototype._eventsCount=0,u.prototype._maxListeners=void 0;var i=10;function r(y){if(typeof y!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof y)}function n(y){return y._maxListeners===void 0?u.defaultMaxListeners:y._maxListeners}function t(y,m,b,v){var _,w,S,x;if(r(b),(w=y._events)===void 0?(w=y._events=Object.create(null),y._eventsCount=0):(w.newListener!==void 0&&(y.emit("newListener",m,b.listener?b.listener:b),w=y._events),S=w[m]),S===void 0)S=w[m]=b,++y._eventsCount;else if(typeof S=="function"?S=w[m]=v?[b,S]:[S,b]:v?S.unshift(b):S.push(b),(_=n(y))>0&&S.length>_&&!S.warned){S.warned=!0;var T=new Error("Possible EventEmitter memory leak detected. "+S.length+" "+String(m)+" listeners added. Use emitter.setMaxListeners() to increase limit");T.name="MaxListenersExceededWarning",T.emitter=y,T.type=m,T.count=S.length,x=T,console&&console.warn&&console.warn(x)}return y}function a(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function l(y,m,b){var v={fired:!1,wrapFn:void 0,target:y,type:m,listener:b},_=a.bind(v);return _.listener=b,v.wrapFn=_,_}function d(y,m,b){var v=y._events;if(v===void 0)return[];var _=v[m];return _===void 0?[]:typeof _=="function"?b?[_.listener||_]:[_]:b?(function(w){for(var S=new Array(w.length),x=0;x<S.length;++x)S[x]=w[x].listener||w[x];return S})(_):f(_,_.length)}function p(y){var m=this._events;if(m!==void 0){var b=m[y];if(typeof b=="function")return 1;if(b!==void 0)return b.length}return 0}function f(y,m){for(var b=new Array(m),v=0;v<m;++v)b[v]=y[v];return b}function h(y,m,b,v){if(typeof y.on=="function")v.once?y.once(m,b):y.on(m,b);else{if(typeof y.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof y);y.addEventListener(m,function _(w){v.once&&y.removeEventListener(m,_),b(w)})}}Object.defineProperty(u,"defaultMaxListeners",{enumerable:!0,get:function(){return i},set:function(y){if(typeof y!="number"||y<0||o(y))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+y+".");i=y}}),u.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},u.prototype.setMaxListeners=function(y){if(typeof y!="number"||y<0||o(y))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+y+".");return this._maxListeners=y,this},u.prototype.getMaxListeners=function(){return n(this)},u.prototype.emit=function(y){for(var m=[],b=1;b<arguments.length;b++)m.push(arguments[b]);var v=y==="error",_=this._events;if(_!==void 0)v=v&&_.error===void 0;else if(!v)return!1;if(v){var w;if(m.length>0&&(w=m[0]),w instanceof Error)throw w;var S=new Error("Unhandled error."+(w?" ("+w.message+")":""));throw S.context=w,S}var x=_[y];if(x===void 0)return!1;if(typeof x=="function")c(x,this,m);else{var T=x.length,O=f(x,T);for(b=0;b<T;++b)c(O[b],this,m)}return!0},u.prototype.addListener=function(y,m){return t(this,y,m,!1)},u.prototype.on=u.prototype.addListener,u.prototype.prependListener=function(y,m){return t(this,y,m,!0)},u.prototype.once=function(y,m){return r(m),this.on(y,l(this,y,m)),this},u.prototype.prependOnceListener=function(y,m){return r(m),this.prependListener(y,l(this,y,m)),this},u.prototype.removeListener=function(y,m){var b,v,_,w,S;if(r(m),(v=this._events)===void 0)return this;if((b=v[y])===void 0)return this;if(b===m||b.listener===m)--this._eventsCount===0?this._events=Object.create(null):(delete v[y],v.removeListener&&this.emit("removeListener",y,b.listener||m));else if(typeof b!="function"){for(_=-1,w=b.length-1;w>=0;w--)if(b[w]===m||b[w].listener===m){S=b[w].listener,_=w;break}if(_<0)return this;_===0?b.shift():(function(x,T){for(;T+1<x.length;T++)x[T]=x[T+1];x.pop()})(b,_),b.length===1&&(v[y]=b[0]),v.removeListener!==void 0&&this.emit("removeListener",y,S||m)}return this},u.prototype.off=u.prototype.removeListener,u.prototype.removeAllListeners=function(y){var m,b,v;if((b=this._events)===void 0)return this;if(b.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):b[y]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete b[y]),this;if(arguments.length===0){var _,w=Object.keys(b);for(v=0;v<w.length;++v)(_=w[v])!=="removeListener"&&this.removeAllListeners(_);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(m=b[y])=="function")this.removeListener(y,m);else if(m!==void 0)for(v=m.length-1;v>=0;v--)this.removeListener(y,m[v]);return this},u.prototype.listeners=function(y){return d(this,y,!0)},u.prototype.rawListeners=function(y){return d(this,y,!1)},u.listenerCount=function(y,m){return typeof y.listenerCount=="function"?y.listenerCount(m):p.call(y,m)},u.prototype.listenerCount=p,u.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}},37141:(g,e,s)=>{const c=s(5148).Parser,o=s(25828);class u{constructor(){}parse(r,{extendedSyntax:n,baseIRI:t}={}){this._parser=new c,this._parser.Parser.factory=o.DataFactory,this._parser.Parser.base=o.DataFactory.namedNode(t||"urn:x-base:default"),this._parser.Parser.extended=n===!0,this._parser.Parser.prefixes={rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",sh:"http://www.w3.org/ns/shacl#",xsd:"http://www.w3.org/2001/XMLSchema#",owl:"http://www.w3.org/2002/07/owl#"},this._parser.Parser.currentNodeShape=void 0,this._parser.Parser.currentPropertyNode=void 0,this._parser.Parser.nodeShapeStack=[],this._parser.Parser.tempCurrentNodeShape=void 0,this._parser.Parser.n3Parser=new o.Parser({baseIRI:t||"urn:x-base:default"});const a=[];return this._parser.Parser.onQuad=l=>{a.push(l)},this._parser.parse(r),a.prefixes=this._parser.Parser.prefixes,a}}g.exports.Parser=u,g.exports.parse=function(i,r){return new u().parse(i,r)}},37143:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(76063),e)},37185:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermSubtraction=void 0;const c=s(77617),o=s(77545),u=s(47074);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.SparqlOperator.SUBTRACTION],termFunction:!0})}async run(n){return new u.TermFunctionSubtraction}}e.ActorFunctionFactoryTermSubtraction=i},37258:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TypeHandlerDate=void 0;const c=s(30103);class o{fromRdf(i,r){switch(r&&!i.value.match(o.VALIDATORS[i.datatype.value.substr(33,i.datatype.value.length)])&&c.Translator.incorrectRdfDataType(i),i.datatype.value){case"http://www.w3.org/2001/XMLSchema#gDay":return new Date(0,0,parseInt(i.value,10));case"http://www.w3.org/2001/XMLSchema#gMonthDay":const n=i.value.split("-");return new Date(0,parseInt(n[0],10)-1,parseInt(n[1],10));case"http://www.w3.org/2001/XMLSchema#gYear":return new Date(i.value+"-01-01");case"http://www.w3.org/2001/XMLSchema#gYearMonth":return new Date(i.value+"-01");default:return new Date(i.value)}}toRdf(i,{datatype:r,dataFactory:n}){if(r=r||n.namedNode(o.TYPES[0]),!(i instanceof Date))return null;const t=i;let a;switch(r.value){case"http://www.w3.org/2001/XMLSchema#gDay":a=String(t.getUTCDate());break;case"http://www.w3.org/2001/XMLSchema#gMonthDay":a=t.getUTCMonth()+1+"-"+t.getUTCDate();break;case"http://www.w3.org/2001/XMLSchema#gYear":a=String(t.getUTCFullYear());break;case"http://www.w3.org/2001/XMLSchema#gYearMonth":a=t.getUTCFullYear()+"-"+(t.getUTCMonth()+1);break;case"http://www.w3.org/2001/XMLSchema#date":a=t.toISOString().replace(/T.*$/,"");break;default:a=t.toISOString()}return n.literal(a,r)}}o.TYPES=["http://www.w3.org/2001/XMLSchema#dateTime","http://www.w3.org/2001/XMLSchema#date","http://www.w3.org/2001/XMLSchema#gDay","http://www.w3.org/2001/XMLSchema#gMonthDay","http://www.w3.org/2001/XMLSchema#gYear","http://www.w3.org/2001/XMLSchema#gYearMonth"],o.VALIDATORS={date:/^[0-9]+-[0-9][0-9]-[0-9][0-9]Z?$/,dateTime:/^[0-9]+-[0-9][0-9]-[0-9][0-9]T[0-9][0-9]:[0-9][0-9]:[0-9][0-9](\.[0-9][0-9][0-9])?((Z?)|([\+-][0-9][0-9]:[0-9][0-9]))$/,gDay:/^[0-9]+$/,gMonthDay:/^[0-9]+-[0-9][0-9]$/,gYear:/^[0-9]+$/,gYearMonth:/^[0-9]+-[0-9][0-9]$/},e.TypeHandlerDate=o},37338:function(g,e,s){var c=this&&this.__awaiter||function(i,r,n,t){return new(n||(n=Promise))(function(a,l){function d(h){try{f(t.next(h))}catch(y){l(y)}}function p(h){try{f(t.throw(h))}catch(y){l(y)}}function f(h){var y;h.done?a(h.value):(y=h.value,y instanceof n?y:new n(function(m){m(y)})).then(d,p)}f((t=t.apply(i,r||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.fetchContext=e.fetchJson=void 0;const o=s(74945);function u(i,r){var n;return c(this,void 0,void 0,function*(){return(yield((n=r?.fetch)!==null&&n!==void 0?n:o.fetch)(i)).json()})}e.fetchJson=u,e.fetchContext=function(i,r){return c(this,void 0,void 0,function*(){return(yield u(i,r))["@context"]})}},37515:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(38300),e)},37630:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(37701),e)},37701:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfParseHtmlMicrodata=void 0;const c=s(92973),o=s(90711),u=s(90412),i=s(51009);class r extends c.ActorRdfParseHtml{constructor(t){super(t)}async test(t){return(0,u.passTestVoid)()}async run(t){const a=t.context.getSafe(o.KeysInitQuery.dataFactory),l=t.headers?t.headers.get("content-type"):null,d=l?.includes("xml"),p=new i.MicrodataRdfParser({dataFactory:a,baseIRI:t.baseIRI,xmlMode:d});p.on("error",t.error),p.on("data",t.emit);const f=p.onEnd;return p.onEnd=()=>{f.call(p),t.end()},{htmlParseListener:p}}}e.ActorRdfParseHtmlMicrodata=r},37747:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermDictionaryNumberRecordFullTerms=void 0;const c=s(28664),o=s(43347);e.TermDictionaryNumberRecordFullTerms=class{constructor(u=new c.DataFactory){this.lastId=0,this.dictionary={},this.reverseDictionary={},this.features={quotedTriples:!1},this.dataFactory=u}encode(u){const i=(0,o.termToString)(u);let r=this.dictionary[i];return r===void 0&&(r=this.lastId++,this.dictionary[i]=r,this.reverseDictionary[r]=u),r}encodeOptional(u){const i=(0,o.termToString)(u);return this.dictionary[i]}decode(u){const i=this.reverseDictionary[u];if(i===void 0)throw new Error(`The value ${u} is not present in this dictionary`);return i}*encodings(){for(const u of Object.keys(this.reverseDictionary))yield Number.parseInt(u,10)}findQuotedTriples(u){throw new Error("findQuotedTriples is not supported")}findQuotedTriplesEncoded(u){throw new Error("findQuotedTriplesEncoded is not supported")}}},37779:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(50776),e),o(s(52573),e)},37811:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(23069),e)},37822:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.estimateNpsCardinality=e.estimateJoinCardinality=e.estimateUnionCardinality=e.estimateSliceCardinality=e.estimateMinusCardinality=e.estimateCardinality=void 0;const c=s(47793),o=s(96331),u=new c.DataFactory,i=new o.Factory(u);function r(p,f){const h=f.getCardinality(p);if(h)return h;switch(p.type){case o.Algebra.types.ASK:return{type:"exact",value:1,dataset:f.uri};case o.Algebra.types.LOAD:case o.Algebra.types.DELETE_INSERT:case o.Algebra.types.ADD:case o.Algebra.types.COMPOSITE_UPDATE:case o.Algebra.types.CLEAR:case o.Algebra.types.NOP:case o.Algebra.types.DROP:case o.Algebra.types.CREATE:case o.Algebra.types.MOVE:case o.Algebra.types.COPY:return{type:"exact",value:0,dataset:f.uri};case o.Algebra.types.PROJECT:case o.Algebra.types.FILTER:case o.Algebra.types.ORDER_BY:case o.Algebra.types.GROUP:case o.Algebra.types.CONSTRUCT:case o.Algebra.types.DISTINCT:case o.Algebra.types.REDUCED:case o.Algebra.types.EXTEND:case o.Algebra.types.FROM:case o.Algebra.types.GRAPH:return r(p.input,f);case o.Algebra.types.ZERO_OR_ONE_PATH:case o.Algebra.types.ZERO_OR_MORE_PATH:case o.Algebra.types.ONE_OR_MORE_PATH:case o.Algebra.types.INV:return r(p.path,f);case o.Algebra.types.PATH:return r(p.predicate,f);case o.Algebra.types.NPS:return d(p,f);case o.Algebra.types.LINK:return r(i.createPattern(u.variable("s"),p.iri,u.variable("o")),f);case o.Algebra.types.UNION:case o.Algebra.types.SEQ:case o.Algebra.types.ALT:return a(p.input,f);case o.Algebra.types.BGP:return l(p.patterns,f);case o.Algebra.types.JOIN:case o.Algebra.types.LEFT_JOIN:return l(p.input,f);case o.Algebra.types.SLICE:return t(p,f);case o.Algebra.types.MINUS:return n(p,f);case o.Algebra.types.VALUES:return{type:"exact",value:p.bindings.length,dataset:f.uri};case o.Algebra.types.SERVICE:case o.Algebra.types.DESCRIBE:case o.Algebra.types.EXPRESSION:case o.Algebra.types.PATTERN:return{type:"estimate",value:Number.POSITIVE_INFINITY,dataset:f.uri}}}function n(p,f){const h=r(p.input[0],f),y=r(p.input[1],f);return{type:"estimate",value:Math.max(h.value-y.value,0),dataset:f.uri}}function t(p,f){const h=r(p.input,f);return h.value>0&&(h.value=Math.max(h.value-p.start,0),p.length!==void 0&&(h.value=Math.min(h.value,p.length))),h}function a(p,f){const h={type:"exact",value:0,dataset:f.uri};for(const y of p){const m=r(y,f);m.type==="estimate"&&h.type==="exact"&&(h.type=m.type),h.value+=m.value}return h}function l(p,f){const h=[];for(const y of p){const m=o.Util.inScopeVariables(y).map(v=>v.value),b=h.find(v=>m.some(_=>v.vars.has(_)));if(b){b.ops.push(y);for(const v of m)b.vars.add(v)}else h.push({ops:[y],vars:new Set(m)})}return{type:"estimate",value:h.map(y=>Math.min(...y.ops.map(m=>r(m,f).value))).reduce((y,m)=>y*m,1),dataset:f.uri}}function d(p,f){const h=r(i.createSeq([...p.iris].reverse().map(m=>i.createLink(m))),f),y=r(i.createPattern(u.variable("s"),u.variable("p"),u.variable("o")),f);return{type:"estimate",value:Math.max(0,y.value-h.value),dataset:f.uri}}e.estimateCardinality=r,e.estimateMinusCardinality=n,e.estimateSliceCardinality=t,e.estimateUnionCardinality=a,e.estimateJoinCardinality=l,e.estimateNpsCardinality=d},37859:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQuerySourceIdentifyRdfJs=void 0;const c=s(559),o=s(90711),u=s(90412),i=s(81926),r=s(70020);class n extends c.ActorQuerySourceIdentify{constructor(a){super(a)}async test(a){const l=a.querySourceUnidentified;return l.type!==void 0&&l.type!=="rdfjs"?(0,u.failTest)(`${this.name} requires a single query source with rdfjs type to be present in the context.`):typeof l.value!="string"&&"match"in l.value?(0,u.passTestVoid)():(0,u.failTest)(`${this.name} received an invalid rdfjs query source.`)}async run(a){const l=a.context.getSafe(o.KeysInitQuery.dataFactory);return{querySource:{source:new r.QuerySourceRdfJs(a.querySourceUnidentified.value,l,await i.BindingsFactory.create(this.mediatorMergeBindingsContext,a.context,l)),context:a.querySourceUnidentified.context??new u.ActionContext}}}}e.ActorQuerySourceIdentifyRdfJs=n},38020:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorBindingsAggregatorFactoryWildcardCount=void 0;const c=s(86581),o=s(90412),u=s(60801);class i extends c.ActorBindingsAggregatorFactory{constructor(n){super(n)}async test(n){return n.expr.aggregator!=="count"||n.expr.expression.expressionType!=="wildcard"?(0,o.failTest)("This actor only supports the 'count' aggregator with wildcard."):(0,o.passTestVoid)()}async run({context:n,expr:t}){return new u.WildcardCountAggregator(await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:t.expression,context:n}),t.distinct)}}e.ActorBindingsAggregatorFactoryWildcardCount=i},38235:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(90284),e)},38274:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionTimezone=void 0;const c=s(77617),o=s(77545);class u extends c.TermFunctionBase{constructor(){super({arity:1,operator:o.SparqlOperator.TIMEZONE,overloads:(0,o.declare)(o.SparqlOperator.TIMEZONE).onDateTime1(()=>r=>{const n={hours:r.typedValue.zoneHours,minutes:r.typedValue.zoneMinutes};if(n.hours===void 0&&n.minutes===void 0)throw new o.InvalidTimezoneCall(r.str());return new o.DayTimeDurationLiteral(n)}).copy({from:[o.TypeURL.XSD_DATE_TIME],to:[o.TypeURL.XSD_DATE]}).copy({from:[o.TypeURL.XSD_DATE_TIME],to:[o.TypeURL.XSD_TIME]}).collect()})}}e.TermFunctionTimezone=u},38291:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfUpdateQuads=void 0;const c=s(90412);class o extends c.Actor{constructor(i){super(i)}}e.ActorRdfUpdateQuads=o},38300:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryOperationGroup=void 0;const c=s(66490),o=s(90711),u=s(90412),i=s(81926),r=s(67021),n=s(75627),t=s(8902);class a extends c.ActorQueryOperationTypedMediated{constructor(d){super(d,"group"),this.mediatorBindingsAggregatorFactory=d.mediatorBindingsAggregatorFactory}async testOperation(){return(0,u.passTestVoid)()}async runOperation(d,p){const f=p.getSafe(o.KeysInitQuery.dataFactory),h=await i.BindingsFactory.create(this.mediatorMergeBindingsContext,p,f),{input:y,aggregates:m}=d,b=await this.mediatorQueryOperation.mediate({operation:y,context:p}),v=(0,r.getSafeBindings)(b),_=[...d.variables,...m.map(S=>S.variable)].map(S=>({variable:S,canBeUndef:!1})),w=(await v.metadata()).variables.map(S=>S.variable);return{type:"bindings",bindingsStream:new n.TransformIterator(()=>new Promise((S,x)=>{const T=new t.GroupsState(d,this.mediatorBindingsAggregatorFactory,p,h,w);v.bindingsStream.on("end",async()=>{try{const O=new n.ArrayIterator(await T.collectResults(),{autoStart:!1});S(O)}catch(O){x(O)}}),v.bindingsStream.on("error",x),v.bindingsStream.on("data",O=>{T.consumeBindings(O).catch(x)})}),{autoStart:!1}),metadata:async()=>({...await v.metadata(),variables:_})}}}e.ActorQueryOperationGroup=a},38392:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(35392),e)},38505:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(79813),e)},38507:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(89),e)},38522:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfSerializeN3=void 0;const c=s(81261),o=s(25828);class u extends c.ActorRdfSerializeFixedMediaTypes{constructor(r){super(r)}async runHandle(r,n){const t=new o.StreamWriter({format:n});let a;return"pipe"in r.quadStream?(r.quadStream.on("error",l=>t.emit("error",l)),a=r.quadStream.pipe(t)):a=t.import(r.quadStream),{data:a,triples:n==="text/turtle"||n==="application/n-triples"||n==="text/n3"}}}e.ActorRdfSerializeN3=u},38690:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(52277),e)},38729:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfJoinMinusHash=void 0;const c=s(95445),o=s(90412),u=s(81926),i=s(18888),r=s(4809),n=s(46746);class t extends c.ActorRdfJoin{constructor(l){super(l,{logicalType:"minus",physicalName:"hash-"+(l.canHandleUndefs?"undef":"def"),limitEntries:2,canHandleUndefs:l.canHandleUndefs})}static constructIndex(l,d){return l?new i.BindingsIndexUndef(d,p=>p&&p.termType!=="Variable"?(0,n.termToString)(p):"",!1):new i.BindingsIndexDef(d,u.bindingsToCompactString)}async getOutput(l){const d=l.entries[1].output,p=l.entries[0].output,f=await c.ActorRdfJoin.getMetadatas(l.entries);let h=c.ActorRdfJoin.overlappingVariables(f);if(l.graphVariableFromParentScope&&(h=h.filter(m=>!m.variable.equals(l.graphVariableFromParentScope))),h.length===0)return d.bindingsStream.destroy(),{result:p};const y=new r.ClosableTransformIterator(async()=>{const m=t.constructIndex(this.canHandleUndefs,h);return await new Promise(b=>{d.bindingsStream.on("data",v=>m.put(v,!0)),d.bindingsStream.on("end",b),d.bindingsStream.on("error",v=>y.emit("error",v))}),p.bindingsStream.filter(b=>!m.getFirst(b,!0))},{autoStart:!1,onClose(){d.bindingsStream.destroy(),p.bindingsStream.destroy()}});return{result:{type:"bindings",bindingsStream:y,metadata:p.metadata}}}async getJoinCoefficients(l,d){const{metadatas:p}=d,f=c.ActorRdfJoin.getRequestInitialTimes(p),h=c.ActorRdfJoin.getRequestItemTimes(p);let y=p[0].cardinality.value+p[1].cardinality.value;return this.canHandleUndefs||(y*=.8),(0,o.passTestWithSideData)({iterations:y,persistedItems:p[0].cardinality.value,blockingItems:p[0].cardinality.value,requestTime:f[0]+p[0].cardinality.value*h[0]+f[1]+p[1].cardinality.value*h[1]},d)}}e.ActorRdfJoinMinusHash=t},38820:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(12167),e)},38912:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(27984),e)},38930:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Variable=void 0,e.Variable=class{constructor(s){this.termType="Variable",this.value=s}equals(s){return!!s&&s.termType==="Variable"&&s.value===this.value}}},38951:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorHttpFetch=void 0;const c=s(70322),o=s(90711),u=s(90412),i=s(48393),r=s(57006);class n extends c.ActorHttp{constructor(a){super(a),this.fetchInitPreprocessor=new r.FetchInitPreprocessor(a.agentOptions)}async test(a){return(0,u.passTest)({time:Number.POSITIVE_INFINITY})}async run(a){const l=this.prepareRequestHeaders(a),d={method:"GET",...a.init,headers:l};this.logInfo(a.context,`Requesting ${c.ActorHttp.getInputUrl(a.input).href}`,()=>({headers:c.ActorHttp.headersToHash(l),method:d.method})),a.context.has(o.KeysHttp.fetch)&&(d.headers=c.ActorHttp.headersToHash(l)),a.context.get(o.KeysHttp.includeCredentials)&&(d.credentials="include");const p=a.context.get(o.KeysHttp.httpTimeout),f=a.context.get(o.KeysHttp.httpBodyTimeout),h=a.context.get(o.KeysHttp.fetch)??fetch,y=await this.fetchInitPreprocessor.handle(d);let m,b;if(p){const _=new AbortController;y.signal=_.signal,m=()=>_.abort(new Error(`Fetch timed out for ${c.ActorHttp.getInputUrl(a.input).href} after ${p} ms`)),b=setTimeout(()=>m(),p)}const v=await h(a.input,y);return!p||f&&v.body||clearTimeout(b),v}prepareRequestHeaders(a){const l=new Headers(a.init?.headers);c.ActorHttp.isBrowser()?l.delete("user-agent"):l.has("user-agent")||l.set("user-agent",n.userAgent);const d=a.context.get(o.KeysHttp.auth);return d&&l.set("Authorization",`Basic ${n.stringToBase64(d)}`),l}static stringToBase64(a){const l=new TextEncoder().encode(a),d=Array.from(l,p=>String.fromCodePoint(p)).join("");return btoa(d)}}e.ActorHttpFetch=n,n.userAgent=c.ActorHttp.createUserAgent("ActorHttpFetch",i.version)},39187:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isDefinitionNode=function(t){return o(t)||u(t)||r(t)},e.isExecutableDefinitionNode=o,e.isSelectionNode=function(t){return t.kind===c.Kind.FIELD||t.kind===c.Kind.FRAGMENT_SPREAD||t.kind===c.Kind.INLINE_FRAGMENT},e.isValueNode=function(t){return t.kind===c.Kind.VARIABLE||t.kind===c.Kind.INT||t.kind===c.Kind.FLOAT||t.kind===c.Kind.STRING||t.kind===c.Kind.BOOLEAN||t.kind===c.Kind.NULL||t.kind===c.Kind.ENUM||t.kind===c.Kind.LIST||t.kind===c.Kind.OBJECT},e.isTypeNode=function(t){return t.kind===c.Kind.NAMED_TYPE||t.kind===c.Kind.LIST_TYPE||t.kind===c.Kind.NON_NULL_TYPE},e.isTypeSystemDefinitionNode=u,e.isTypeDefinitionNode=i,e.isTypeSystemExtensionNode=r,e.isTypeExtensionNode=n;var c=s(7030);function o(t){return t.kind===c.Kind.OPERATION_DEFINITION||t.kind===c.Kind.FRAGMENT_DEFINITION}function u(t){return t.kind===c.Kind.SCHEMA_DEFINITION||i(t)||t.kind===c.Kind.DIRECTIVE_DEFINITION}function i(t){return t.kind===c.Kind.SCALAR_TYPE_DEFINITION||t.kind===c.Kind.OBJECT_TYPE_DEFINITION||t.kind===c.Kind.INTERFACE_TYPE_DEFINITION||t.kind===c.Kind.UNION_TYPE_DEFINITION||t.kind===c.Kind.ENUM_TYPE_DEFINITION||t.kind===c.Kind.INPUT_OBJECT_TYPE_DEFINITION}function r(t){return t.kind===c.Kind.SCHEMA_EXTENSION||n(t)}function n(t){return t.kind===c.Kind.SCALAR_TYPE_EXTENSION||t.kind===c.Kind.OBJECT_TYPE_EXTENSION||t.kind===c.Kind.INTERFACE_TYPE_EXTENSION||t.kind===c.Kind.UNION_TYPE_EXTENSION||t.kind===c.Kind.ENUM_TYPE_EXTENSION||t.kind===c.Kind.INPUT_OBJECT_TYPE_EXTENSION}},39195:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(39582),e)},39417:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermSha512=void 0;const c=s(77617),o=s(77545),u=s(17796);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.SparqlOperator.SHA512],termFunction:!0})}async run(n){return new u.TermFunctionSha512}}e.ActorFunctionFactoryTermSha512=i},39479:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},39582:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfJoinEntriesSort=void 0;const c=s(90412);class o extends c.Actor{constructor(i){super(i)}}e.ActorRdfJoinEntriesSort=o},39614:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},39693:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerArrayValue=void 0;const c=s(10888),o=s(42395);e.EntryHandlerArrayValue=class{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(u,i,r,n,t){return this.test(u,i,null,r,n)}async test(u,i,r,n,t){return typeof n[t]=="number"}async handle(u,i,r,n,t,a){let l=await i.unaliasKeywordParent(n,a);if(l==="@list"){let d=null,p=0;for(let f=a-2;f>0;f--){const h=n[f];if(typeof h=="string"||typeof h=="number"){p=f,d=h;break}}if(d!==null){const f=await i.valueToTerm(await u.getContext(n),d,t,a,n);for(const h of f)await this.handleListElement(u,i,h,t,a,n.slice(0,p),p);f.length===0&&await this.handleListElement(u,i,null,t,a,n.slice(0,p),p)}}else if(l==="@set")await u.newOnValueJob(n.slice(0,-2),t,a-2,!1);else if(l!==void 0&&l!=="@type"){for(let p=a-1;p>0;p--)if(typeof n[p]!="number"){l=await i.unaliasKeyword(n[p],n,p);break}const d=await u.getContext(n.slice(0,-1));if("@list"in c.Util.getContextValueContainer(d,l)){u.emittedStack[a+1]=!0;const p=await i.valueToTerm(await u.getContext(n),l,t,a,n);for(const f of p)await this.handleListElement(u,i,f,t,a,n.slice(0,-1),a-1);p.length===0&&await this.handleListElement(u,i,null,t,a,n.slice(0,-1),a-1)}else u.shiftStack(a,1),await u.newOnValueJob(n.slice(0,-1),t,a-1,!1),u.contextTree.removeContext(n.slice(0,-1))}}async handleListElement(u,i,r,n,t,a,l){let d=u.listPointerStack[t];if(n!==null&&(await i.unaliasKeywords(n,a,t))["@value"]!==null){if(d&&d.value){const p=i.dataFactory.blankNode();u.emitQuad(t,i.dataFactory.quad(d.value,i.rdfRest,p,i.getDefaultGraph())),d.value=p}else{const p=i.dataFactory.blankNode();d={value:p,listRootDepth:l,listId:p}}r&&u.emitQuad(t,i.dataFactory.quad(d.value,i.rdfFirst,r,i.getDefaultGraph()))}else d||(d={listRootDepth:l,listId:i.rdfNil});u.listPointerStack[t]=d,u.rdfstar&&u.annotationsBuffer[t]&&u.emitError(new o.ErrorCoded("Found an illegal annotation inside a list",o.ERROR_CODES.INVALID_ANNOTATION))}}},39830:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryParse=void 0;const c=s(90412);class o extends c.Actor{constructor(i){super(i)}}e.ActorQueryParse=o},39878:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionDivision=void 0;const c=s(77617),o=s(77545),u=s(61594);class i extends c.TermFunctionBase{constructor(){super({arity:2,operator:o.SparqlOperator.DIVISION,overloads:(0,o.declare)(o.SparqlOperator.DIVISION).arithmetic(()=>(n,t)=>new u.BigNumber(n).div(t).toNumber()).onBinaryTyped([o.TypeURL.XSD_INTEGER,o.TypeURL.XSD_INTEGER],()=>(n,t)=>{if(t===0)throw new o.ExpressionError("Integer division by 0");return(0,o.decimal)(new u.BigNumber(n).div(t).toNumber())}).collect()})}}e.TermFunctionDivision=i},39994:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DataFactory=void 0;const c=s(7982),o=s(42429),u=s(13815),i=s(58593),r=s(55461),n=s(38930);let t=0;e.DataFactory=class{constructor(a){this.blankNodeCounter=0,a=a||{},this.blankNodePrefix=a.blankNodePrefix||`df_${t++}_`}namedNode(a){return new i.NamedNode(a)}blankNode(a){return new c.BlankNode(a||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(a,l){return new u.Literal(a,l)}variable(a){return new n.Variable(a)}defaultGraph(){return o.DefaultGraph.INSTANCE}quad(a,l,d,p){return new r.Quad(a,l,d,p||this.defaultGraph())}fromTerm(a){switch(a.termType){case"NamedNode":return this.namedNode(a.value);case"BlankNode":return this.blankNode(a.value);case"Literal":return a.language?this.literal(a.value,a.language):a.datatype.equals(u.Literal.XSD_STRING)?this.literal(a.value):this.literal(a.value,this.fromTerm(a.datatype));case"Variable":return this.variable(a.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(a.subject),this.fromTerm(a.predicate),this.fromTerm(a.object),this.fromTerm(a.graph))}}fromQuad(a){return this.fromTerm(a)}resetBlankNodeCounter(){this.blankNodeCounter=0}}},4e4:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionTz=void 0;const c=s(77617),o=s(77545);class u extends c.TermFunctionBase{constructor(){super({arity:1,operator:o.SparqlOperator.TZ,overloads:(0,o.declare)(o.SparqlOperator.TZ).onDateTime1(()=>r=>(0,o.string)((0,o.extractRawTimeZone)(r.str()))).copy({from:[o.TypeURL.XSD_DATE_TIME],to:[o.TypeURL.XSD_DATE]}).copy({from:[o.TypeURL.XSD_DATE_TIME],to:[o.TypeURL.XSD_TIME]}).collect()})}}e.TermFunctionTz=u},40178:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionGreaterThanEqual=void 0;const c=s(77617),o=s(77545);class u extends c.TermFunctionBase{constructor(r){super({arity:2,operator:o.SparqlOperator.GTE,overloads:(0,o.declare)(o.SparqlOperator.GTE).set(["term","term"],n=>([t,a])=>this.lessThanEqualFunction.applyOnTerms([a,t],n)).collect()}),this.lessThanEqualFunction=r}}e.TermFunctionGreaterThanEqual=u},40182:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.version=e.validate=e.v7=e.v6ToV1=e.v6=e.v5=e.v4=e.v3=e.v1ToV6=e.v1=e.stringify=e.parse=e.NIL=e.MAX=void 0;var c=s(62196);Object.defineProperty(e,"MAX",{enumerable:!0,get:function(){return c.default}});var o=s(63465);Object.defineProperty(e,"NIL",{enumerable:!0,get:function(){return o.default}});var u=s(31797);Object.defineProperty(e,"parse",{enumerable:!0,get:function(){return u.default}});var i=s(76011);Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return i.default}});var r=s(31425);Object.defineProperty(e,"v1",{enumerable:!0,get:function(){return r.default}});var n=s(96568);Object.defineProperty(e,"v1ToV6",{enumerable:!0,get:function(){return n.default}});var t=s(70591);Object.defineProperty(e,"v3",{enumerable:!0,get:function(){return t.default}});var a=s(48286);Object.defineProperty(e,"v4",{enumerable:!0,get:function(){return a.default}});var l=s(74557);Object.defineProperty(e,"v5",{enumerable:!0,get:function(){return l.default}});var d=s(46356);Object.defineProperty(e,"v6",{enumerable:!0,get:function(){return d.default}});var p=s(60268);Object.defineProperty(e,"v6ToV1",{enumerable:!0,get:function(){return p.default}});var f=s(94299);Object.defineProperty(e,"v7",{enumerable:!0,get:function(){return f.default}});var h=s(59746);Object.defineProperty(e,"validate",{enumerable:!0,get:function(){return h.default}});var y=s(72770);Object.defineProperty(e,"version",{enumerable:!0,get:function(){return y.default}})},40196:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryOperationClear=void 0;const c=s(66490),o=s(90711),u=s(67021);class i extends c.ActorQueryOperationTypedMediated{constructor(n){super(n,"clear")}async testOperation(n,t){return(0,u.testReadOnly)(t)}async runOperation(n,t){const a=t.getSafe(o.KeysInitQuery.dataFactory);let l;l=n.source==="DEFAULT"?a.defaultGraph():typeof n.source=="string"?n.source:[n.source];const{execute:d}=await this.mediatorUpdateQuads.mediate({deleteGraphs:{graphs:l,requireExistence:!n.silent,dropGraphs:!1},context:t});return{type:"void",execute:d}}}e.ActorQueryOperationClear=i},40229:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.QuerySourceSparql=void 0;const c=s(90711),o=s(90412),u=s(99214),i=s(67021),r=s(75627),n=s(40443),t=s(89096),a=s(3285),l=s(96331);class d{constructor(f,h,y,m,b,v,_,w,S,x,T,O,E,R){this.referenceValue=f,this.url=f,this.context=h,this.mediatorHttp=y,this.bindMethod=m,this.dataFactory=b,this.algebraFactory=v,this.bindingsFactory=_,this.endpointFetcher=new n.SparqlEndpointFetcher({method:w?"GET":"POST",fetch:(M,Q)=>this.mediatorHttp.mediate({input:M,init:Q,context:this.lastSourceContext}),prefixVariableQuestionMark:!0,dataFactory:b,forceGetIfUrlLengthBelow:E,directPost:R.postAccepted&&!R.postAccepted.includes("application/x-www-form-urlencoded")}),this.cache=S>0?new t.LRUCache({max:S}):void 0,this.countTimeout=x,this.cardinalityCountQueries=T,this.cardinalityEstimateConstruction=O,this.defaultGraph=R.defaultGraph,this.unionDefaultGraph=R.unionDefaultGraph??!1,this.datasets=R.datasets,this.extensionFunctions=R.extensionFunctions,this.propertyFeatures=R.propertyFeatures?new Set(R.propertyFeatures):void 0}async getSelectorShape(){const f={type:"disjunction",children:[{type:"operation",operation:{operationType:"wildcard"},joinBindings:!0}]};return this.extensionFunctions&&f.children.push({type:"operation",operation:{operationType:"type",type:l.Algebra.types.EXPRESSION,extensionFunctions:this.extensionFunctions},joinBindings:!0}),{type:"conjunction",children:[f,{type:"negation",child:{type:"operation",operation:{operationType:"type",type:l.Algebra.types.DISTINCT},children:[{type:"operation",operation:{operationType:"type",type:l.Algebra.types.CONSTRUCT},children:[{type:"operation",operation:{operationType:"wildcard"},joinBindings:!0}]}]}}]}}queryBindings(f,h,y){let m;m=y?.joinBindings?d.addBindingsToOperation(this.algebraFactory,this.bindMethod,f,y.joinBindings):Promise.resolve(f);const b=new r.TransformIterator(async()=>{const v=await m,_=l.Util.inScopeVariables(v),w=h.get(c.KeysInitQuery.queryString),S=h.getSafe(c.KeysInitQuery.queryFormat),x=!y?.joinBindings&&w&&S.language==="sparql"?w:d.operationToSelectQuery(this.algebraFactory,v,_),T=d.getOperationUndefs(v);return this.queryBindingsRemote(this.url,x,_,h,T)},{autoStart:!1});return this.attachMetadata(b,h,m),b}queryQuads(f,h){this.lastSourceContext=this.context.merge(h);const y=h.get(c.KeysInitQuery.queryString)??d.operationToQuery(f),m=this.endpointFetcher.fetchTriples(this.url,y);this.lastSourceContext=void 0;const b=(0,r.wrap)(m,{autoStart:!1,maxBufferSize:Number.POSITIVE_INFINITY});return this.attachMetadata(b,h,Promise.resolve(f.input)),b}queryBoolean(f,h){if(this.operationUsesPropertyFeatures(f))return Promise.resolve(!0);this.lastSourceContext=this.context.merge(h);const y=h.get(c.KeysInitQuery.queryString)??d.operationToQuery(f),m=this.endpointFetcher.fetchAsk(this.url,y);return this.lastSourceContext=void 0,m}queryVoid(f,h){this.lastSourceContext=this.context.merge(h);const y=h.get(c.KeysInitQuery.queryString)??d.operationToQuery(f),m=this.endpointFetcher.fetchUpdate(this.url,y);return this.lastSourceContext=void 0,m}attachMetadata(f,h,y){let m=[];new Promise(async(b,v)=>{try{const _=await y,w=l.Util.inScopeVariables(_),S=this.operationToNormalizedCountQuery(_),x=d.getOperationUndefs(_);m=w.map(R=>({variable:R,canBeUndef:x.some(M=>M.equals(R))}));const T=this.cache?.get(S);if(T)return b(T);if(this.cardinalityEstimateConstruction){const R=await this.estimateOperationCardinality(_);if(Number.isFinite(R.value))return this.cache?.set(S,R),b(R)}if(!this.cardinalityCountQueries)return b({type:"estimate",value:Number.POSITIVE_INFINITY,dataset:this.url});const O=setTimeout(()=>b({type:"estimate",value:Number.POSITIVE_INFINITY,dataset:this.url}),this.countTimeout),E=this.dataFactory.variable("count");(await this.queryBindingsRemote(this.url,S,[E],h,[])).on("data",R=>{clearTimeout(O);const M=R.get(E),Q={type:"estimate",value:Number.POSITIVE_INFINITY,dataset:this.url};if(M){const X=Number.parseInt(M.value,10);Number.isNaN(X)||(Q.type="exact",Q.value=X,this.cache?.set(S,Q))}return b(Q)}).on("error",()=>{clearTimeout(O),b({type:"estimate",value:Number.POSITIVE_INFINITY,dataset:this.url})}).on("end",()=>{clearTimeout(O),b({type:"estimate",value:Number.POSITIVE_INFINITY,dataset:this.url})})}catch(_){v(_)}}).then(b=>f.setProperty("metadata",{state:new u.MetadataValidationState,cardinality:b,variables:m})).catch(()=>f.setProperty("metadata",{state:new u.MetadataValidationState,cardinality:{type:"estimate",value:Number.POSITIVE_INFINITY,dataset:this.url},variables:m}))}operationToNormalizedCountQuery(f){const h=f.type===l.Algebra.types.PATTERN?this.algebraFactory.createPattern(f.subject.termType==="Variable"?this.dataFactory.variable("s"):f.subject,f.predicate.termType==="Variable"?this.dataFactory.variable("p"):f.predicate,f.object.termType==="Variable"?this.dataFactory.variable("o"):f.object):f;return d.operationToCountQuery(this.dataFactory,this.algebraFactory,h)}async estimateOperationCardinality(f){if(this.operationUsesPropertyFeatures(f))return{type:"estimate",value:1,dataset:this.url};const h={getCardinality:y=>{const m=this.operationToNormalizedCountQuery(y),b=this.cache?.get(m);if(b)return b;if(this.datasets){const v=this.datasets.filter(_=>this.unionDefaultGraph||this.defaultGraph&&_.uri.endsWith(this.defaultGraph)).map(_=>(0,i.estimateCardinality)(y,_));return{type:v.some(_=>_.type==="estimate")?"estimate":"exact",value:v.length>0?v.reduce((_,w)=>_+w.value,0):0,dataset:this.url}}},source:this.url,uri:this.url};return(0,i.estimateCardinality)(f,h)}operationUsesPropertyFeatures(f){let h=!1;return this.propertyFeatures&&l.Util.recurseOperation(f,{[l.Algebra.types.PATTERN]:y=>(y.predicate.termType==="NamedNode"&&this.propertyFeatures.has(y.predicate.value)&&(h=!0),!1),[l.Algebra.types.LINK]:y=>(this.propertyFeatures.has(y.iri.value)&&(h=!0),!1),[l.Algebra.types.NPS]:y=>(y.iris.some(m=>this.propertyFeatures.has(m.value))&&(h=!0),!1)}),h}static async addBindingsToOperation(f,h,y,m){const b=await m.bindings.toArray();switch(h){case"values":return f.createJoin([f.createValues(m.metadata.variables.map(v=>v.variable),b.map(v=>Object.fromEntries([...v].map(([_,w])=>[`?${_.value}`,w])))),y],!1);case"union":throw new Error('Not implemented yet: "union" case');case"filter":throw new Error('Not implemented yet: "filter" case')}}static operationToSelectQuery(f,h,y){return d.operationToQuery(f.createProject(h,y))}static operationToCountQuery(f,h,y){return d.operationToQuery(h.createProject(h.createExtend(h.createGroup(y,[],[h.createBoundAggregate(f.variable("var0"),"count",h.createWildcardExpression(),!1)]),f.variable("count"),h.createTermExpression(f.variable("var0"))),[f.variable("count")]))}static operationToQuery(f){return(0,l.toSparql)(f,{sparqlStar:!0})}static getOperationUndefs(f){const h=[];return l.Util.recurseOperation(f,{leftjoin(y){const m=l.Util.inScopeVariables(y.input[0]),b=l.Util.inScopeVariables(y.input[1]);for(const v of b)m.some(_=>_.equals(v))||h.push(v);return!1},values(y){for(const m of y.variables)y.bindings.some(b=>!(`?${m.value}`in b))&&h.push(m);return!1},union(y){const m=y.input.map(l.Util.inScopeVariables);for(const b of(0,a.uniqTerms)(m.flat()))m.every(v=>v.some(_=>_.equals(b)))||h.push(b);return!0}}),(0,a.uniqTerms)(h)}async queryBindingsRemote(f,h,y,m,b){const v=new Set(b.map(w=>w.value));this.lastSourceContext=this.context.merge(m);const _=await this.endpointFetcher.fetchBindings(f,h);return this.lastSourceContext=void 0,(0,r.wrap)(_,{autoStart:!1,maxBufferSize:Number.POSITIVE_INFINITY}).map(w=>this.bindingsFactory.bindings(y.map(S=>{const x=w[`?${S.value}`];return v.has(S.value)||x||o.Actor.getContextLogger(this.context)?.warn(`The endpoint ${f} failed to provide a binding for ${S.value}.`),[S,x]}).filter(([S,x])=>!!x)))}toString(){return`QuerySourceSparql(${this.url})`}}e.QuerySourceSparql=d},40236:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermIsLiteral=void 0;const c=s(77617),o=s(77545),u=s(92615);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.SparqlOperator.IS_LITERAL],termFunction:!0})}async run(n){return new u.TermFunctionIsLiteral}}e.ActorFunctionFactoryTermIsLiteral=i},40274:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ClosableIterator=void 0;const c=s(75627);class o extends c.AsyncIterator{constructor(t,a){super(),this.onClose=a.onClose,this._source=t,this._source[c.DESTINATION]=this,this._source.on("end",r),this._source.on("error",i),this._source.on("readable",u),this.readable=this._source.readable}read(){const t=this._source.read();return t||(this.readable=!1,this._source.done&&this.close()),t}_end(t){this.onClose(),this._source.removeListener("end",r),this._source.removeListener("error",i),this._source.removeListener("readable",u),delete this._source[c.DESTINATION],this._source.destroy(),super._end(t)}}function u(){this[c.DESTINATION].readable=!0}function i(n){this[c.DESTINATION].emit("error",n)}function r(){this[c.DESTINATION].close()}e.ClosableIterator=o},40288:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.LinkedList=void 0,e.LinkedList=class{constructor(){this._length=0,this._head=null,this._tail=null}get length(){return this._length}get first(){var s;return(s=this._head)===null||s===void 0?void 0:s.value}get last(){var s;return(s=this._tail)===null||s===void 0?void 0:s.value}get empty(){return this._head===null}push(s){const c={value:s,next:null};this._tail===null?this._head=this._tail=c:this._tail.next=this._tail=c,this._length++}shift(){if(this._head===null)return;const{value:s,next:c}=this._head;return this._head=c,c===null&&(this._tail=null),this._length--,s}clear(){this._length=0,this._head=this._tail=null}}},40332:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(4996),e),o(s(34247),e)},40338:(g,e)=>{function s(t){return 14+(t+64>>>9<<4)+1}function c(t,a){const l=(65535&t)+(65535&a);return(t>>16)+(a>>16)+(l>>16)<<16|65535&l}function o(t,a,l,d,p,f){return c((h=c(c(a,t),c(d,f)))<<(y=p)|h>>>32-y,l);var h,y}function u(t,a,l,d,p,f,h){return o(a&l|~a&d,t,a,p,f,h)}function i(t,a,l,d,p,f,h){return o(a&d|l&~d,t,a,p,f,h)}function r(t,a,l,d,p,f,h){return o(a^l^d,t,a,p,f,h)}function n(t,a,l,d,p,f,h){return o(l^(a|~d),t,a,p,f,h)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(function(a){const l=new Uint8Array(4*a.length);for(let d=0;d<4*a.length;d++)l[d]=a[d>>2]>>>d%4*8&255;return l})((function(a,l){const d=new Uint32Array(s(l)).fill(0);d.set(a),d[l>>5]|=128<<l%32,d[d.length-1]=l,a=d;let p=1732584193,f=-271733879,h=-1732584194,y=271733878;for(let m=0;m<a.length;m+=16){const b=p,v=f,_=h,w=y;p=u(p,f,h,y,a[m],7,-680876936),y=u(y,p,f,h,a[m+1],12,-389564586),h=u(h,y,p,f,a[m+2],17,606105819),f=u(f,h,y,p,a[m+3],22,-1044525330),p=u(p,f,h,y,a[m+4],7,-176418897),y=u(y,p,f,h,a[m+5],12,1200080426),h=u(h,y,p,f,a[m+6],17,-1473231341),f=u(f,h,y,p,a[m+7],22,-45705983),p=u(p,f,h,y,a[m+8],7,1770035416),y=u(y,p,f,h,a[m+9],12,-1958414417),h=u(h,y,p,f,a[m+10],17,-42063),f=u(f,h,y,p,a[m+11],22,-1990404162),p=u(p,f,h,y,a[m+12],7,1804603682),y=u(y,p,f,h,a[m+13],12,-40341101),h=u(h,y,p,f,a[m+14],17,-1502002290),f=u(f,h,y,p,a[m+15],22,1236535329),p=i(p,f,h,y,a[m+1],5,-165796510),y=i(y,p,f,h,a[m+6],9,-1069501632),h=i(h,y,p,f,a[m+11],14,643717713),f=i(f,h,y,p,a[m],20,-373897302),p=i(p,f,h,y,a[m+5],5,-701558691),y=i(y,p,f,h,a[m+10],9,38016083),h=i(h,y,p,f,a[m+15],14,-660478335),f=i(f,h,y,p,a[m+4],20,-405537848),p=i(p,f,h,y,a[m+9],5,568446438),y=i(y,p,f,h,a[m+14],9,-1019803690),h=i(h,y,p,f,a[m+3],14,-187363961),f=i(f,h,y,p,a[m+8],20,1163531501),p=i(p,f,h,y,a[m+13],5,-1444681467),y=i(y,p,f,h,a[m+2],9,-51403784),h=i(h,y,p,f,a[m+7],14,1735328473),f=i(f,h,y,p,a[m+12],20,-1926607734),p=r(p,f,h,y,a[m+5],4,-378558),y=r(y,p,f,h,a[m+8],11,-2022574463),h=r(h,y,p,f,a[m+11],16,1839030562),f=r(f,h,y,p,a[m+14],23,-35309556),p=r(p,f,h,y,a[m+1],4,-1530992060),y=r(y,p,f,h,a[m+4],11,1272893353),h=r(h,y,p,f,a[m+7],16,-155497632),f=r(f,h,y,p,a[m+10],23,-1094730640),p=r(p,f,h,y,a[m+13],4,681279174),y=r(y,p,f,h,a[m],11,-358537222),h=r(h,y,p,f,a[m+3],16,-722521979),f=r(f,h,y,p,a[m+6],23,76029189),p=r(p,f,h,y,a[m+9],4,-640364487),y=r(y,p,f,h,a[m+12],11,-421815835),h=r(h,y,p,f,a[m+15],16,530742520),f=r(f,h,y,p,a[m+2],23,-995338651),p=n(p,f,h,y,a[m],6,-198630844),y=n(y,p,f,h,a[m+7],10,1126891415),h=n(h,y,p,f,a[m+14],15,-1416354905),f=n(f,h,y,p,a[m+5],21,-57434055),p=n(p,f,h,y,a[m+12],6,1700485571),y=n(y,p,f,h,a[m+3],10,-1894986606),h=n(h,y,p,f,a[m+10],15,-1051523),f=n(f,h,y,p,a[m+1],21,-2054922799),p=n(p,f,h,y,a[m+8],6,1873313359),y=n(y,p,f,h,a[m+15],10,-30611744),h=n(h,y,p,f,a[m+6],15,-1560198380),f=n(f,h,y,p,a[m+13],21,1309151649),p=n(p,f,h,y,a[m+4],6,-145523070),y=n(y,p,f,h,a[m+11],10,-1120210379),h=n(h,y,p,f,a[m+2],15,718787259),f=n(f,h,y,p,a[m+9],21,-343485551),p=c(p,b),f=c(f,v),h=c(h,_),y=c(y,w)}return Uint32Array.of(p,f,h,y)})((function(a){if(a.length===0)return new Uint32Array;const l=new Uint32Array(s(8*a.length)).fill(0);for(let d=0;d<a.length;d++)l[d>>2]|=(255&a[d])<<d%4*8;return l})(t),8*t.length))}},40366:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfMetadataExtractHydraControls=void 0;const c=s(18412),o=s(90412),u=s(36093);class i extends c.ActorRdfMetadataExtract{constructor(n){super(n),this.parsedUriTemplateCache={}}async test(n){return(0,o.passTestVoid)()}getLinks(n,t){return Object.fromEntries(i.LINK_TYPES.map(a=>{const l=t[a]||t[`${a}Page`],d=l&&l[n];return[a,d&&d.length>0?[d[0]]:[]]}))}parseUriTemplateCached(n){return this.parsedUriTemplateCache[n]||(this.parsedUriTemplateCache[n]=(0,u.parse)(n))}getSearchForms(n){const t=n.search,a=[];if(t)for(const l in t)for(const d of t[l]){const p=(n.template||{})[d]||[];if(p.length!==1)throw new Error(`Expected 1 hydra:template for ${d}`);const f=p[0],h=this.parseUriTemplateCached(f),y=Object.fromEntries(((n.mapping||{})[d]||[]).map(b=>{const v=((n.variable||{})[b]||[])[0],_=((n.property||{})[b]||[])[0];if(!v)throw new Error(`Expected a hydra:variable for ${b}`);if(!_)throw new Error(`Expected a hydra:property for ${b}`);return[_,v]})),m=b=>h.expand(Object.fromEntries(Object.keys(b).map(v=>[y[v],b[v]])));a.push({dataset:l,template:f,mappings:y,getUri:m})}return{values:a}}getHydraProperties(n){return new Promise((t,a)=>{n.on("error",a);const l={};n.on("data",d=>{if(d.predicate.value.startsWith(i.HYDRA)){const p=d.predicate.value.slice(i.HYDRA.length),f=l[p]||(l[p]={});(f[d.subject.value]||(f[d.subject.value]=[])).push(d.object.value)}}),n.on("end",()=>t(l))})}async run(n){const t={},a=await this.getHydraProperties(n.metadata);return Object.assign(t,this.getLinks(n.url,a)),t.searchForms=this.getSearchForms(a),{metadata:t}}}e.ActorRdfMetadataExtractHydraControls=i,i.HYDRA="http://www.w3.org/ns/hydra/core#",i.LINK_TYPES=["first","next","previous","last"]},40409:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActionObserverHttp=void 0;const c=s(90412);class o extends c.ActionObserver{constructor(i){super(i),this.requests=0,this.bus.subscribeObserver(this),this.httpInvalidator.addInvalidateListener(()=>{this.requests=0})}onRun(i,r,n){this.observedActors.includes(i.name)&&this.requests++}}e.ActionObserverHttp=o},40443:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(67828),e)},40589:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryExpressionExtensions=void 0;const c=s(77617),o=s(90711),u=s(90412),i=s(47793),r=s(71742);class n extends c.ActorFunctionFactory{constructor(a){super(a)}async test({context:a,functionName:l}){return await a.getSafe(o.KeysExpressionEvaluator.extensionFunctionCreator)(new i.DataFactory().namedNode(l))?(0,u.passTestVoid)():(0,u.failTest)(`Actor ${this.name} can only provide non-termExpression implementations for functions that are provided through config entries like: ${o.KeysInitQuery.extensionFunctionCreator.name} or ${o.KeysInitQuery.extensionFunctions.name}`)}async run({context:a,functionName:l}){const d=a.getSafe(o.KeysExpressionEvaluator.extensionFunctionCreator),p=await d(new i.DataFactory().namedNode(l));return new r.NamedExtension({operator:l,functionDefinition:p})}}e.ActorFunctionFactoryExpressionExtensions=n},40611:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.stringQuadToQuad=e.quadToStringQuad=e.stringToTerm=e.getLiteralLanguage=e.getLiteralType=e.getLiteralValue=e.termToString=void 0;const c=new(s(47793)).DataFactory;function o(t){if(t)switch(t.termType){case"NamedNode":case"DefaultGraph":return t.value;case"BlankNode":return"_:"+t.value;case"Literal":const a=t;return'"'+a.value+'"'+(a.datatype&&a.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&a.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?"^^"+a.datatype.value:"")+(a.language?"@"+a.language:"");case"Quad":return`<<${o(t.subject)} ${o(t.predicate)} ${o(t.object)}${t.graph.termType==="DefaultGraph"?"":" "+o(t.graph)}>>`;case"Variable":return"?"+t.value}}function u(t){const a=/^"([^]*)"/.exec(t);if(!a)throw new Error(t+" is not a literal");return a[1]}function i(t){const a=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(t);if(!a)throw new Error(t+" is not a literal");return a[1]||(a[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}function r(t){const a=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(t);if(!a)throw new Error(t+" is not a literal");return a[1]?a[1].toLowerCase():""}function n(t,a){if(a=a||c,!t||!t.length)return a.defaultGraph();switch(t[0]){case"_":return a.blankNode(t.substr(2));case"?":if(!a.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return a.variable(t.substr(1));case'"':const l=r(t),d=a.namedNode(i(t));return a.literal(u(t),l||d);default:if(t[0]==="<"&&t.length>4&&t[1]==="<"&&t[t.length-1]===">"&&t[t.length-2]===">"){const p=t.slice(2,-2).trim();let f=[],h=0,y=0,m=!1;for(let b=0;b<p.length;b++){const v=p[b];if(v==="<"&&h++,v===">"){if(h===0)throw new Error("Found closing tag without opening tag in "+t);h--}if(v==='"'){let _=!1,w=b;for(;w-- >0&&p[w]==="\\";)_=!_;_||(m=!m)}if(v===" "&&!m&&h===0){for(f.push(p.slice(y,b));p[b+1]===" ";)b+=1;y=b+1}}if(h!==0)throw new Error("Found opening tag without closing tag in "+t);if(f.push(p.slice(y,p.length)),f.length!==3&&f.length!==4)throw new Error("Nested quad syntax error "+t);return f=f.map(b=>b.startsWith("<")&&!b.includes(" ")?b.slice(1,-1):b),a.quad(n(f[0]),n(f[1]),n(f[2]),f[3]?n(f[3]):void 0)}return a.namedNode(t)}}e.termToString=o,e.getLiteralValue=u,e.getLiteralType=i,e.getLiteralLanguage=r,e.stringToTerm=n,e.quadToStringQuad=function(t){return{subject:o(t.subject),predicate:o(t.predicate),object:o(t.object),graph:o(t.graph)}},e.stringQuadToQuad=function(t,a){return(a=a||c).quad(n(t.subject,a),n(t.predicate,a),n(t.object,a),n(t.graph,a))}},40671:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorDereference=void 0;const c=s(79806);class o extends c.ActorDereferenceBase{constructor(i){super(i)}async handleDereferenceErrors(i,r,n,t=0){return this.dereferenceErrorHandler(i,r,{url:i.url,exists:!1,headers:n,requestTime:t})}}e.ActorDereference=o},40721:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfJoinSingle=void 0;const c=s(95445),o=s(90412);class u extends c.ActorRdfJoin{constructor(r){super(r,{logicalType:"inner",physicalName:"single",limitEntries:1}),this.includeInLogs=!1}async test(r){return r.entries.length!==1?(0,o.failTest)(`Actor ${this.name} can only join a single entry`):await this.getJoinCoefficients(r,void 0)}async getOutput(r){return{result:r.entries[0].output}}async getJoinCoefficients(r,n){return(0,o.passTestWithSideData)({iterations:0,persistedItems:0,blockingItems:0,requestTime:0},n)}}e.ActorRdfJoinSingle=u},40767:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(68435),e)},40825:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.printLocation=function(r){return o(r.source,(0,c.getLocation)(r.source,r.start))},e.printSourceLocation=o;var c=s(99530);function o(r,n){var t=r.locationOffset.column-1,a=i(t)+r.body,l=n.line-1,d=r.locationOffset.line-1,p=n.line+d,f=n.line===1?t:0,h=n.column+f,y="".concat(r.name,":").concat(p,":").concat(h,`
`),m=a.split(/\r\n|[\n\r]/g),b=m[l];if(b.length>120){for(var v=Math.floor(h/80),_=h%80,w=[],S=0;S<b.length;S+=80)w.push(b.slice(S,S+80));return y+u([["".concat(p),w[0]]].concat(w.slice(1,v+1).map(function(x){return["",x]}),[[" ",i(_-1)+"^"],["",w[v+1]]]))}return y+u([["".concat(p-1),m[l-1]],["".concat(p),b],["",i(h-1)+"^"],["".concat(p+1),m[l+1]]])}function u(r){var n=r.filter(function(a){return a[0],a[1]!==void 0}),t=Math.max.apply(Math,n.map(function(a){return a[0].length}));return n.map(function(a){var l,d=a[0],p=a[1];return i(t-(l=d).length)+l+(p?" | "+p:" |")}).join(`
`)}function i(r){return Array(r+1).join(" ")}},40883:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ExpressionFunctionLogicalOr=void 0;const c=s(77617),o=s(77545);class u extends c.ExpressionFunctionBase{constructor(){super({arity:2,operator:o.SparqlOperator.LOGICAL_OR,apply:async({args:r,mapping:n,exprEval:t})=>{const[a,l]=r;try{if((await t.evaluatorExpressionEvaluation(a,n)).coerceEBV())return(0,o.bool)(!0);const d=(await t.evaluatorExpressionEvaluation(l,n)).coerceEBV();return(0,o.bool)(d)}catch(d){if(!(await t.evaluatorExpressionEvaluation(l,n)).coerceEBV())throw d;return(0,o.bool)(!0)}}})}}e.ExpressionFunctionLogicalOr=u},40916:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermStrDt=void 0;const c=s(77617),o=s(77545),u=s(27403);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.SparqlOperator.STRDT],termFunction:!0})}async run(n){return new u.TermFunctionStrDt}}e.ActorFunctionFactoryTermStrDt=i},40932:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.LoggerVoid=void 0;const c=s(42996);class o extends c.Logger{debug(){}error(){}fatal(){}info(){}trace(){}warn(){}}e.LoggerVoid=o},40972:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},41073:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TERM_TYPES=void 0,e.uniqTerms=function(u){const i={};return u.filter(r=>{const n=(0,c.termToString)(r);return!(n in i)&&(i[n]=!0)})},e.getTermsOfType=o,e.getNamedNodes=function(u){return o(u,"NamedNode")},e.getBlankNodes=function(u){return o(u,"BlankNode")},e.getLiterals=function(u){return o(u,"Literal")},e.getVariables=function(u){return o(u,"Variable")},e.getDefaultGraphs=function(u){return o(u,"DefaultGraph")},e.getQuads=function(u){return o(u,"Quad")};const c=s(43347);function o(u,i){return u.filter(r=>r.termType===i)}e.TERM_TYPES=["NamedNode","BlankNode","Literal","Variable","DefaultGraph","Quad"]},41141:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(t,a,l,d){d===void 0&&(d=l);var p=Object.getOwnPropertyDescriptor(a,l);p&&!("get"in p?!a.__esModule:p.writable||p.configurable)||(p={enumerable:!0,get:function(){return a[l]}}),Object.defineProperty(t,d,p)}:function(t,a,l,d){d===void 0&&(d=l),t[d]=a[l]}),o=this&&this.__exportStar||function(t,a){for(var l in t)l==="default"||Object.prototype.hasOwnProperty.call(a,l)||c(a,t,l)};Object.defineProperty(e,"__esModule",{value:!0}),e.DomHandler=void 0;var u=s(45413),i=s(36957);o(s(36957),e);var r={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},n=(function(){function t(a,l,d){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof l=="function"&&(d=l,l=r),typeof a=="object"&&(l=a,a=void 0),this.callback=a??null,this.options=l??r,this.elementCB=d??null}return t.prototype.onparserinit=function(a){this.parser=a},t.prototype.onreset=function(){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},t.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},t.prototype.onerror=function(a){this.handleCallback(a)},t.prototype.onclosetag=function(){this.lastNode=null;var a=this.tagStack.pop();this.options.withEndIndices&&(a.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(a)},t.prototype.onopentag=function(a,l){var d=this.options.xmlMode?u.ElementType.Tag:void 0,p=new i.Element(a,l,void 0,d);this.addNode(p),this.tagStack.push(p)},t.prototype.ontext=function(a){var l=this.lastNode;if(l&&l.type===u.ElementType.Text)l.data+=a,this.options.withEndIndices&&(l.endIndex=this.parser.endIndex);else{var d=new i.Text(a);this.addNode(d),this.lastNode=d}},t.prototype.oncomment=function(a){if(this.lastNode&&this.lastNode.type===u.ElementType.Comment)this.lastNode.data+=a;else{var l=new i.Comment(a);this.addNode(l),this.lastNode=l}},t.prototype.oncommentend=function(){this.lastNode=null},t.prototype.oncdatastart=function(){var a=new i.Text(""),l=new i.CDATA([a]);this.addNode(l),a.parent=l,this.lastNode=a},t.prototype.oncdataend=function(){this.lastNode=null},t.prototype.onprocessinginstruction=function(a,l){var d=new i.ProcessingInstruction(a,l);this.addNode(d)},t.prototype.handleCallback=function(a){if(typeof this.callback=="function")this.callback(a,this.dom);else if(a)throw a},t.prototype.addNode=function(a){var l=this.tagStack[this.tagStack.length-1],d=l.children[l.children.length-1];this.options.withStartIndices&&(a.startIndex=this.parser.startIndex),this.options.withEndIndices&&(a.endIndex=this.parser.endIndex),l.children.push(a),d&&(a.prev=d,d.next=a),a.parent=l,this.lastNode=null},t})();e.DomHandler=n,e.default=n},41142:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermLesserThan=void 0;const c=s(77617),o=s(77545),u=s(95199);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.SparqlOperator.LT],termFunction:!0}),this.mediatorFunctionFactory=n.mediatorFunctionFactory}async run(n){const t=await this.mediatorFunctionFactory.mediate({functionName:o.SparqlOperator.EQUAL,requireTermExpression:!0,context:n.context,arguments:n.arguments});return new u.TermFunctionLesserThan(t)}}e.ActorFunctionFactoryTermLesserThan=i},41291:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermSha384=void 0;const c=s(77617),o=s(77545),u=s(29814);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.SparqlOperator.SHA384],termFunction:!0})}async run(n){return new u.TermFunctionSha384}}e.ActorFunctionFactoryTermSha384=i},41363:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(81096),e),o(s(78877),e)},41388:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},41420:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionLang=void 0;const c=s(77617),o=s(77545);class u extends c.TermFunctionBase{constructor(){super({arity:1,operator:o.SparqlOperator.LANG,overloads:(0,o.declare)(o.SparqlOperator.LANG).onLiteral1(()=>r=>(0,o.string)(r.language??"")).collect()})}}e.TermFunctionLang=u},41845:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.stringQuadToQuad=e.quadToStringQuad=e.stringToTerm=e.getLiteralLanguage=e.getLiteralType=e.getLiteralValue=e.termToString=void 0;const c=new(s(47793)).DataFactory;function o(t){if(t)switch(t.termType){case"NamedNode":case"DefaultGraph":return t.value;case"BlankNode":return"_:"+t.value;case"Literal":const a=t;return'"'+a.value+'"'+(a.datatype&&a.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&a.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?"^^"+a.datatype.value:"")+(a.language?"@"+a.language:"");case"Quad":return`<<${o(t.subject)} ${o(t.predicate)} ${o(t.object)}${t.graph.termType==="DefaultGraph"?"":" "+o(t.graph)}>>`;case"Variable":return"?"+t.value}}function u(t){const a=/^"([^]*)"/.exec(t);if(!a)throw new Error(t+" is not a literal");return a[1]}function i(t){const a=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(t);if(!a)throw new Error(t+" is not a literal");return a[1]||(a[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}function r(t){const a=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(t);if(!a)throw new Error(t+" is not a literal");return a[1]?a[1].toLowerCase():""}function n(t,a){if(a=a||c,!t||!t.length)return a.defaultGraph();switch(t[0]){case"_":return a.blankNode(t.substr(2));case"?":if(!a.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return a.variable(t.substr(1));case'"':const l=r(t),d=a.namedNode(i(t));return a.literal(u(t),l||d);default:if(t[0]==="<"&&t.length>4&&t[1]==="<"&&t[t.length-1]===">"&&t[t.length-2]===">"){const p=t.slice(2,-2).trim();let f=[],h=0,y=0,m=!1;for(let b=0;b<p.length;b++){const v=p[b];if(v==="<"&&h++,v===">"){if(h===0)throw new Error("Found closing tag without opening tag in "+t);h--}if(v==='"'){let _=!1,w=b;for(;w-- >0&&p[w]==="\\";)_=!_;_||(m=!m)}if(v===" "&&!m&&h===0){for(f.push(p.slice(y,b));p[b+1]===" ";)b+=1;y=b+1}}if(h!==0)throw new Error("Found opening tag without closing tag in "+t);if(f.push(p.slice(y,p.length)),f.length!==3&&f.length!==4)throw new Error("Nested quad syntax error "+t);return f=f.map(b=>b.startsWith("<")&&!b.includes(" ")?b.slice(1,-1):b),a.quad(n(f[0]),n(f[1]),n(f[2]),f[3]?n(f[3]):void 0)}return a.namedNode(t)}}e.termToString=o,e.getLiteralValue=u,e.getLiteralType=i,e.getLiteralLanguage=r,e.stringToTerm=n,e.quadToStringQuad=function(t){return{subject:o(t.subject),predicate:o(t.predicate),object:o(t.object),graph:o(t.graph)}},e.stringQuadToQuad=function(t,a){return(a=a||c).quad(n(t.subject,a),n(t.predicate,a),n(t.object,a),n(t.graph,a))}},41937:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},42004:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(38729),e)},42149:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfJoinSymmetricHash=void 0;const c=s(95445),o=s(90412),u=s(25579);class i extends c.ActorRdfJoin{constructor(n){super(n,{logicalType:"inner",physicalName:"symmetric-hash",limitEntries:2,requiresVariableOverlap:!0})}async getOutput(n){const t=await c.ActorRdfJoin.getMetadatas(n.entries),a=c.ActorRdfJoin.overlappingVariables(t),{hashFunction:l}=await this.mediatorHashBindings.mediate({context:n.context}),d=a.map(p=>p.variable);return{result:{type:"bindings",bindingsStream:new u.SymmetricHashJoin(n.entries[0].output.bindingsStream,n.entries[1].output.bindingsStream,p=>l(p,d),c.ActorRdfJoin.joinBindings),metadata:async()=>await this.constructResultMetadata(n.entries,t,n.context)}}}async getJoinCoefficients(n,t){const{metadatas:a}=t,l=c.ActorRdfJoin.getRequestInitialTimes(a),d=c.ActorRdfJoin.getRequestItemTimes(a);return(0,o.passTestWithSideData)({iterations:a[0].cardinality.value+a[1].cardinality.value,persistedItems:a[0].cardinality.value+a[1].cardinality.value,blockingItems:0,requestTime:l[0]+a[0].cardinality.value*d[0]+l[1]+a[1].cardinality.value*d[1]},t)}}e.ActorRdfJoinSymmetricHash=i},42274:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(38522),e)},42281:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(53819),e)},42395:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(72803),e),o(s(75094),e),o(s(60585),e),o(s(29146),e),o(s(45086),e),o(s(85215),e),o(s(94931),e)},42429:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultGraph=void 0;class s{constructor(){this.termType="DefaultGraph",this.value=""}equals(o){return!!o&&o.termType==="DefaultGraph"}}e.DefaultGraph=s,s.INSTANCE=new s},42439:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Variable=void 0,e.Variable=class{constructor(s){this.termType="Variable",this.value=s}equals(s){return!!s&&s.termType==="Variable"&&s.value===this.value}}},42449:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.RdfStoreIndexNestedMap=void 0;const c=s(95439);e.RdfStoreIndexNestedMap=class{constructor(o){this.features={quotedTripleFiltering:!1},this.dictionary=o.dictionary,this.nestedMap=new Map}set(o,u){const i=this.nestedMap;let r=i.get(o[0]);r||(r=new Map,i.set(o[0],r));let n=r.get(o[1]);n||(n=new Map,r.set(o[1],n));let t=n.get(o[2]);t||(t=new Map,n.set(o[2],t));const a=t.has(o[3]);return a||t.set(o[3],u),!a}remove(o){const u=this.nestedMap,i=u.get(o[0]);if(!i)return!1;const r=i.get(o[1]);if(!r)return!1;const n=r.get(o[2]);if(!n)return!1;const t=n.delete(o[3]);return t&&n.size===0&&(r.delete(o[2]),r.size===0&&(i.delete(o[1]),i.size===0&&u.delete(o[0]))),t}get(o){const u=(0,c.encodeOptionalTerms)(o,this.dictionary);if(u&&!u.includes(void 0))return this.getEncoded(u)}getEncoded(o){const u=this.nestedMap.get(o[0]);if(!u)return;const i=u.get(o[1]);if(!i)return;const r=i.get(o[2]);return r?r.get(o[3]):void 0}*find(o){const u=(0,c.encodeOptionalTerms)(o,this.dictionary);if(!u)return;const[i,r,n,t]=u,[a,l,d,p]=o;let f,h,y,m,b,v,_;const w=this.nestedMap,S=i!==void 0?w.has(i)?[i]:[]:w.keys();for(const x of S){b=w.get(x),f=a||this.dictionary.decode(x);const T=r!==void 0?b.has(r)?[r]:[]:b.keys();for(const O of T){v=b.get(O),h=l||this.dictionary.decode(O);const E=n!==void 0?v.has(n)?[n]:[]:v.keys();for(const R of E){_=v.get(R),y=d||this.dictionary.decode(R);const M=t!==void 0?_.has(t)?[t]:[]:_.keys();for(const Q of M)m=p||this.dictionary.decode(Q),yield[f,h,y,m]}}}}*findEncoded(o,u){const[i,r,n,t]=o;let a,l,d;const p=this.nestedMap,f=i!==void 0?p.has(i)?[i]:[]:p.keys();for(const h of f){a=p.get(h);const y=r!==void 0?a.has(r)?[r]:[]:a.keys();for(const m of y){l=a.get(m);const b=n!==void 0?l.has(n)?[n]:[]:l.keys();for(const v of b){d=l.get(v);const _=t!==void 0?d.has(t)?[t]:[]:d.keys();for(const w of _)yield[h,m,v,w]}}}}count(o){let u=0;const i=(0,c.encodeOptionalTerms)(o,this.dictionary);if(!i)return 0;const r=i[0],n=i[1],t=i[2],a=i[3];let l,d,p;const f=this.nestedMap,h=r!==void 0?f.has(r)?[r]:[]:f.keys();for(const y of h){l=f.get(y);const m=n!==void 0?l.has(n)?[n]:[]:l.keys();for(const b of m){d=l.get(b);const v=t!==void 0?d.has(t)?[t]:[]:d.keys();for(const _ of v)p=d.get(_),a!==void 0?p.has(a)&&u++:u+=p.size}}return u}}},42512:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorOptimizeQueryOperationRewriteCopy=void 0;const c=s(38912),o=s(90711),u=s(90412),i=s(96331);class r extends c.ActorOptimizeQueryOperation{constructor(t){super(t)}async test(t){return(0,u.passTestVoid)()}async run(t){const a=t.context.getSafe(o.KeysInitQuery.dataFactory),l=new i.Factory(a);return{operation:i.Util.mapOperation(t.operation,{[i.Algebra.types.COPY](d,p){let f;return f=typeof d.destination=="string"&&typeof d.source=="string"&&d.destination===d.source||typeof d.destination!="string"&&typeof d.source!="string"&&d.destination.equals(d.source)?p.createCompositeUpdate([]):p.createCompositeUpdate([p.createDrop(d.destination,!0),p.createAdd(d.source,d.destination,d.silent)]),{result:f,recurse:!1}}},l),context:t.context}}}e.ActorOptimizeQueryOperationRewriteCopy=r},42586:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionLangmatches=void 0;const c=s(77617),o=s(77545);class u extends c.TermFunctionBase{constructor(){super({arity:2,operator:o.SparqlOperator.LANG_MATCHES,overloads:(0,o.declare)(o.SparqlOperator.LANG_MATCHES).onBinaryTyped([o.TypeURL.XSD_STRING,o.TypeURL.XSD_STRING],()=>(r,n)=>(0,o.bool)(u.langMatches(r,n))).collect()})}static langMatches(r,n){const t=r.split("-"),a=n.split("-");if(!u.matchLangTag(a[0],t[0])&&!u.isWildCard(t[0]))return!1;let l=1,d=1;for(;d<a.length;)if(u.isWildCard(a[d]))d++;else{if(l===t.length)return!1;if(u.matchLangTag(a[d],t[l]))l++,d++;else{if(t[l].length===1)return!1;l++}}return!0}static isWildCard(r){return r==="*"}static matchLangTag(r,n){return new RegExp(`/${r}/`,"iu").test(`/${n}/`)}}e.TermFunctionLangmatches=u},42651:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryOperationPathInv=void 0;const c=s(97091),o=s(90711),u=s(96331);class i extends c.ActorAbstractPath{constructor(n){super(n,u.Algebra.types.INV)}async runOperation(n,t){const a=t.getSafe(o.KeysInitQuery.dataFactory),l=new u.Factory(a),d=n.predicate,p=l.createPath(n.object,d.path,n.subject,n.graph);return this.mediatorQueryOperation.mediate({operation:p,context:t})}}e.ActorQueryOperationPathInv=i},42815:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(14652),e)},42890:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(40671),e),o(s(12476),e),o(s(79806),e)},42996:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(41388),e),o(s(22545),e),o(s(65358),e),o(s(17169),e),o(s(53846),e),o(s(19383),e),o(s(13679),e),o(s(85947),e),o(s(10766),e),o(s(63599),e),o(s(57755),e),o(s(80220),e),o(s(6841),e),o(s(9243),e),o(s(51690),e),o(s(39614),e),o(s(88680),e),o(s(95025),e),o(s(46671),e),o(s(90602),e),o(s(1707),e)},43095:(g,e,s)=>{const{ArrayPrototypePop:c,Promise:o}=s(24134),{isIterable:u,isNodeStream:i,isWebStream:r}=s(16115),{pipelineImpl:n}=s(57758),{finished:t}=s(86238);s(63125),g.exports={finished:t,pipeline:function(...a){return new o((l,d)=>{let p,f;const h=a[a.length-1];if(h&&typeof h=="object"&&!i(h)&&!u(h)&&!r(h)){const y=c(a);p=y.signal,f=y.end}n(a,(y,m)=>{y?d(y):l(m)},{signal:p,end:f})})}}},43120:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorOptimizeQueryOperationDescribeToConstructsSubject=void 0;const c=s(38912),o=s(90711),u=s(90412),i=s(96331);class r extends c.ActorOptimizeQueryOperation{constructor(t){super(t)}async test(t){return t.operation.type!==i.Algebra.types.DESCRIBE?(0,u.failTest)(`Actor ${this.name} only supports describe operations, but got ${t.operation.type}`):(0,u.passTest)(!0)}async run(t){const a=t.context.getSafe(o.KeysInitQuery.dataFactory),l=new i.Factory(a),d=t.operation,p=d.terms.filter(f=>f.termType!=="Variable").map(f=>{const h=[a.quad(f,a.variable("__predicate"),a.variable("__object"))];return h.forEach(y=>y.type="pattern"),{input:{type:i.Algebra.types.BGP,patterns:h},template:h,type:"construct"}});if(p.length!==d.terms.length){let f=[];d.terms.filter(h=>h.termType==="Variable").forEach((h,y)=>{const m=[a.quad(h,a.variable(`__predicate${y}`),a.variable(`__object${y}`))];m.forEach(b=>b.type="pattern"),f=[...f,...m]}),p.push({input:{type:i.Algebra.types.JOIN,input:[d.input,{type:i.Algebra.types.BGP,patterns:f}]},template:f,type:i.Algebra.types.CONSTRUCT})}return{operation:l.createUnion(p,!1),context:t.context}}}e.ActorOptimizeQueryOperationDescribeToConstructsSubject=r},43196:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultGraph=void 0;class s{constructor(){this.termType="DefaultGraph",this.value=""}equals(o){return!!o&&o.termType==="DefaultGraph"}}e.DefaultGraph=s,s.INSTANCE=new s},43209:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.testElement=function(t,a){var l=n(t);return!l||l(a)},e.getElements=function(t,a,l,d){d===void 0&&(d=1/0);var p=n(t);return p?(0,o.filter)(p,a,l,d):[]},e.getElementById=function(t,a,l){return l===void 0&&(l=!0),Array.isArray(a)||(a=[a]),(0,o.findOne)(i("id",t),a,l)},e.getElementsByTagName=function(t,a,l,d){return l===void 0&&(l=!0),d===void 0&&(d=1/0),(0,o.filter)(u.tag_name(t),a,l,d)},e.getElementsByClassName=function(t,a,l,d){return l===void 0&&(l=!0),d===void 0&&(d=1/0),(0,o.filter)(i("class",t),a,l,d)},e.getElementsByTagType=function(t,a,l,d){return l===void 0&&(l=!0),d===void 0&&(d=1/0),(0,o.filter)(u.tag_type(t),a,l,d)};var c=s(41141),o=s(90718),u={tag_name:function(t){return typeof t=="function"?function(a){return(0,c.isTag)(a)&&t(a.name)}:t==="*"?c.isTag:function(a){return(0,c.isTag)(a)&&a.name===t}},tag_type:function(t){return typeof t=="function"?function(a){return t(a.type)}:function(a){return a.type===t}},tag_contains:function(t){return typeof t=="function"?function(a){return(0,c.isText)(a)&&t(a.data)}:function(a){return(0,c.isText)(a)&&a.data===t}}};function i(t,a){return typeof a=="function"?function(l){return(0,c.isTag)(l)&&a(l.attribs[t])}:function(l){return(0,c.isTag)(l)&&l.attribs[t]===a}}function r(t,a){return function(l){return t(l)||a(l)}}function n(t){var a=Object.keys(t).map(function(l){var d=t[l];return Object.prototype.hasOwnProperty.call(u,l)?u[l](d):i(l,d)});return a.length===0?null:a.reduce(r)}},43347:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.termToString=e.stringToTerm=e.stringQuadToQuad=e.quadToStringQuad=e.getLiteralValue=e.getLiteralType=e.getLiteralDirection=e.getLiteralLanguage=void 0;const c=s(23585);Object.defineProperty(e,"getLiteralLanguage",{enumerable:!0,get:function(){return c.getLiteralLanguage}}),Object.defineProperty(e,"getLiteralDirection",{enumerable:!0,get:function(){return c.getLiteralDirection}}),Object.defineProperty(e,"getLiteralType",{enumerable:!0,get:function(){return c.getLiteralType}}),Object.defineProperty(e,"getLiteralValue",{enumerable:!0,get:function(){return c.getLiteralValue}}),Object.defineProperty(e,"quadToStringQuad",{enumerable:!0,get:function(){return c.quadToStringQuad}}),Object.defineProperty(e,"stringQuadToQuad",{enumerable:!0,get:function(){return c.stringQuadToQuad}}),Object.defineProperty(e,"stringToTerm",{enumerable:!0,get:function(){return c.stringToTerm}}),Object.defineProperty(e,"termToString",{enumerable:!0,get:function(){return c.termToString}})},43349:g=>{function e(s,c){if(!s)throw new Error(c||"Assertion failed")}g.exports=e,e.equal=function(s,c,o){if(s!=c)throw new Error(o||"Assertion failed: "+s+" != "+c)}},43392:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},43406:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(79217),e)},43415:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(31660),e)},43549:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(77843),e),o(s(23317),e)},43750:(g,e,s)=>{function c(T){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},c(T)}function o(T,O){return(function(E){if(Array.isArray(E))return E})(T)||(function(E,R){var M=E==null?null:typeof Symbol<"u"&&E[Symbol.iterator]||E["@@iterator"];if(M!=null){var Q,X,V,H,U=[],k=!0,$=!1;try{if(V=(M=M.call(E)).next,R!==0)for(;!(k=(Q=V.call(M)).done)&&(U.push(Q.value),U.length!==R);k=!0);}catch(ae){$=!0,X=ae}finally{try{if(!k&&M.return!=null&&(H=M.return(),Object(H)!==H))return}finally{if($)throw X}}return U}})(T,O)||i(T,O)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function u(T,O){var E=typeof Symbol<"u"&&T[Symbol.iterator]||T["@@iterator"];if(!E){if(Array.isArray(T)||(E=i(T))||O){E&&(T=E);var R=0,M=function(){};return{s:M,n:function(){return R>=T.length?{done:!0}:{done:!1,value:T[R++]}},e:function(H){throw H},f:M}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Q,X=!0,V=!1;return{s:function(){E=E.call(T)},n:function(){var H=E.next();return X=H.done,H},e:function(H){V=!0,Q=H},f:function(){try{X||E.return==null||E.return()}finally{if(V)throw Q}}}}function i(T,O){if(T){if(typeof T=="string")return r(T,O);var E={}.toString.call(T).slice(8,-1);return E==="Object"&&T.constructor&&(E=T.constructor.name),E==="Map"||E==="Set"?Array.from(T):E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E)?r(T,O):void 0}}function r(T,O){(O==null||O>T.length)&&(O=T.length);for(var E=0,R=Array(O);E<O;E++)R[E]=T[E];return R}function n(){var T,O,E=typeof Symbol=="function"?Symbol:{},R=E.iterator||"@@iterator",M=E.toStringTag||"@@toStringTag";function Q(he,ye,I,j){var P=ye&&ye.prototype instanceof V?ye:V,L=Object.create(P.prototype);return t(L,"_invoke",(function(G,te,W){var ce,de,Se,ie=0,me=W||[],oe=!1,ve={p:0,n:0,v:T,a:xe,f:xe.bind(T,4),d:function(q,N){return ce=q,de=0,Se=T,ve.n=N,X}};function xe(q,N){for(de=q,Se=N,O=0;!oe&&ie&&!B&&O<me.length;O++){var B,J=me[O],ne=ve.p,re=J[2];q>3?(B=re===N)&&(Se=J[(de=J[4])?5:(de=3,3)],J[4]=J[5]=T):J[0]<=ne&&((B=q<2&&ne<J[1])?(de=0,ve.v=N,ve.n=J[1]):ne<re&&(B=q<3||J[0]>N||N>re)&&(J[4]=q,J[5]=N,ve.n=re,de=0))}if(B||q>1)return X;throw oe=!0,N}return function(q,N,B){if(ie>1)throw TypeError("Generator is already running");for(oe&&N===1&&xe(N,B),de=N,Se=B;(O=de<2?T:Se)||!oe;){ce||(de?de<3?(de>1&&(ve.n=-1),xe(de,Se)):ve.n=Se:ve.v=Se);try{if(ie=2,ce){if(de||(q="next"),O=ce[q]){if(!(O=O.call(ce,Se)))throw TypeError("iterator result is not an object");if(!O.done)return O;Se=O.value,de<2&&(de=0)}else de===1&&(O=ce.return)&&O.call(ce),de<2&&(Se=TypeError("The iterator does not provide a '"+q+"' method"),de=1);ce=T}else if((O=(oe=ve.n<0)?Se:G.call(te,ve))!==X)break}catch(J){ce=T,de=1,Se=J}finally{ie=1}}return{value:O,done:oe}}})(he,I,j),!0),L}var X={};function V(){}function H(){}function U(){}O=Object.getPrototypeOf;var k=[][R]?O(O([][R]())):(t(O={},R,function(){return this}),O),$=U.prototype=V.prototype=Object.create(k);function ae(he){return Object.setPrototypeOf?Object.setPrototypeOf(he,U):(he.__proto__=U,t(he,M,"GeneratorFunction")),he.prototype=Object.create($),he}return H.prototype=U,t($,"constructor",U),t(U,"constructor",H),H.displayName="GeneratorFunction",t(U,M,"GeneratorFunction"),t($),t($,M,"Generator"),t($,R,function(){return this}),t($,"toString",function(){return"[object Generator]"}),(n=function(){return{w:Q,m:ae}})()}function t(T,O,E,R){var M=Object.defineProperty;try{M({},"",{})}catch{M=0}t=function(Q,X,V,H){function U(k,$){t(Q,k,function(ae){return this._invoke(k,$,ae)})}X?M?M(Q,X,{value:V,enumerable:!H,configurable:!H,writable:!H}):Q[X]=V:(U("next",0),U("throw",1),U("return",2))},t(T,O,E,R)}function a(T,O,E,R,M,Q,X){try{var V=T[Q](X),H=V.value}catch(U){return void E(U)}V.done?O(H):Promise.resolve(H).then(R,M)}function l(T){return function(){var O=this,E=arguments;return new Promise(function(R,M){var Q=T.apply(O,E);function X(H){a(Q,R,M,X,V,"next",H)}function V(H){a(Q,R,M,X,V,"throw",H)}X(void 0)})}}function d(T,O){for(var E=0;E<O.length;E++){var R=O[E];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(T,p(R.key),R)}}function p(T){var O=(function(E){if(c(E)!="object"||!E)return E;var R=E[Symbol.toPrimitive];if(R!==void 0){var M=R.call(E,"string");if(c(M)!="object")return M;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(E)})(T);return c(O)=="symbol"?O:O+""}Object.defineProperty(e,"__esModule",{value:!0}),e.QuerySourcePassage=void 0;var f=s(90711),h=s(90412),y=s(99214),m=s(75627),b=s(92603),v=s(89096),_=s(96331),w=s(83101),S=s(1039),x=(function(){function T(X,V,H,U,k,$,ae,he,ye,I,j){var P=this;(function(L,G){if(!(L instanceof G))throw new TypeError("Cannot call a class as a function")})(this,T),this.mediatorQueryProcess=j,this.referenceValue=X,this.url=X,this.context=V,this.mediatorHttp=H,this.bindMethod=U,this.dataFactory=k,this.algebraFactory=$,this.bindingsFactory=ae,this.endpointFetcher=new b.SparqlEndpointFetcher({method:he?"GET":"POST",fetch:function(L,G){return P.mediatorHttp.mediate({input:L,init:G,context:P.lastSourceContext})},defaultHeaders:this.context.get(new h.ActionContextKey("headers")),prefixVariableQuestionMark:!0,dataFactory:k}),this.cache=ye>0?new v.LRUCache({max:ye}):void 0,this.countTimeout=I}return O=T,E=[{key:"getSelectorShape",value:(Q=l(n().m(function X(){return n().w(function(V){for(;;)if(V.n===0)return V.a(2,this.context.get(new h.ActionContextKey("shape"))||T.SELECTOR_SHAPE)},X,this)})),function(){return Q.apply(this,arguments)})},{key:"queryBindings",value:function(X,V,H){var U,k=this;U=H!=null&&H.joinBindings?w.QuerySourceSparql.addBindingsToOperation(this.algebraFactory,this.bindMethod,X,H.joinBindings):Promise.resolve(X);var $=new m.TransformIterator(l(n().m(function ae(){var he,ye,I,j,P;return n().w(function(L){for(;;)switch(L.n){case 0:return L.n=1,U;case 1:return ye=L.v,I=T.toSelectQuery(V,ye,k.algebraFactory,H),j=_.Util.inScopeVariables(ye),P=w.QuerySourceSparql.getOperationUndefs(ye),(he=h.Actor.getContextLogger(V))===null||he===void 0||he.info(`Asking for:
`.concat(I)),L.a(2,k.queryBindingsRemote(ye,k.url,I,j,V,P))}},ae)})),{autoStart:!1});return this.attachMetadata($,V,U,H),$}},{key:"attachMetadata",value:function(X,V,H,U){var k=this,$=[];new Promise((function(){var ae=l(n().m(function he(ye,I){var j,P,L;return n().w(function(G){for(;;)switch(G.n){case 0:return G.n=1,H;case 1:return j=G.v,P=w.QuerySourceSparql.getOperationUndefs(j),L=_.Util.inScopeVariables(j),$=L.map(function(te){return{variable:te,canBeUndef:P.some(function(W){return W.equals(te)})}}),G.a(2,ye(j))}},he)}));return function(he,ye){return ae.apply(this,arguments)}})()).then(function(ae){var he=T.toSelectQuery(V,ae,k.algebraFactory,U),ye={state:new y.MetadataValidationState,cardinality:{type:"estimate",value:Number.POSITIVE_INFINITY},variables:$,query:he};X.setProperty("metadata",ye),T.initializeLogger(V,ae,he),V=V.set(f.KeysInitQuery.physicalQueryPlanNode,ae)})}},{key:"queryBindingsRemote",value:(M=l(n().m(function X(V,H,U,k,$,ae){var he,ye,I,j,P,L,G,te,W,ce=this;return n().w(function(de){for(;;)switch(de.n){case 0:T.updateStartTime($,V),he=new Set,ye=u(ae);try{for(ye.s();!(I=ye.n()).done;)j=I.value,he.add(j.value)}catch(Se){ye.e(Se)}finally{ye.f()}if(!(P=$.get(new h.ActionContextKey("abort")))||!P.value){de.n=1;break}return T.logError($,V,"The query has been aborted early."),de.a(2,(0,m.wrap)(new m.EmptyIterator));case 1:return this.lastSourceContext=this.context.merge($),de.n=2,this.endpointFetcher.fetchBindings(H,U).then(function(Se){return T.updateFirstResultTime($,V),Promise.resolve(Se)}).catch(function(Se){T.logError($,V,Se.message)});case 2:if(L=de.v,this.lastSourceContext=void 0,L){de.n=3;break}return de.a(2,Promise.resolve(new m.EmptyIterator));case 3:return G=(0,m.wrap)(L,{autoStart:!1,maxBufferSize:Number.POSITIVE_INFINITY}).map(function(Se){var ie=G.getProperty("nbResults")||0;return G.setProperty("nbResults",ie+1),ce.bindingsFactory.bindings(k.map(function(me){var oe,ve=Se["?".concat(me.value)];return he.has(me.value)||ve||(oe=h.Actor.getContextLogger(ce.context))===null||oe===void 0||oe.warn("The endpoint ".concat(H," failed to provide a binding for ").concat(me.value,".")),[me,ve]}).filter(function(me){var oe=o(me,2),ve=(oe[0],oe[1]);return!!ve}))}),te=new Promise(function(Se){L.on("metadata",(function(){var ie=l(n().m(function me(oe){var ve;return n().w(function(xe){for(;;)switch(xe.n){case 0:(ve=h.Actor.getContextLogger(ce.context))===null||ve===void 0||ve.info(`Next query to get complete result:
`.concat(oe.next)),Se(oe.next);case 1:return xe.a(2)}},me)}));return function(me){return ie.apply(this,arguments)}})()),L.on("end",(function(){var ie=l(n().m(function me(oe){return n().w(function(ve){for(;;)switch(ve.n){case 0:Se();case 1:return ve.a(2)}},me)}));return function(me){return ie.apply(this,arguments)}})()),G.on("error",(function(){var ie=l(n().m(function me(oe){return n().w(function(ve){for(;;)switch(ve.n){case 0:T.logError($,V,oe.message),Se();case 1:return ve.a(2)}},me)}));return function(me){return ie.apply(this,arguments)}})()),G.on("end",(function(){var ie=l(n().m(function me(oe){return n().w(function(ve){for(;;)switch(ve.n){case 0:T.updateDoneTime($,V),T.updateNbResults($,V,G.getProperty("nbResults")||0);case 1:return ve.a(2)}},me)}));return function(me){return ie.apply(this,arguments)}})())}),W=(0,m.wrap)(te.then(function(Se){if(!Se)return W.close(),new m.EmptyIterator;var ie=ce.algebraFactory.createService(V,ce.dataFactory.namedNode(H),!1);T.initializeLogger($,ie,Se);var me=$.get(new h.ActionContextKey("abort"));return me&&me.value?(T.logError($,ie,"The query has been aborted early."),W.close(),new m.EmptyIterator):ce.queryBindingsRemote(ie,H,Se,k,$,ae)})),de.a(2,G.append(W))}},X,this)})),function(X,V,H,U,k,$){return M.apply(this,arguments)})},{key:"queryQuads",value:function(X,V){throw new Error("queryQuads is not implemented in QuerySourcePassage.")}},{key:"queryBoolean",value:function(X,V){throw new Error("queryBoolean is not implemented in QuerySourcePassage.")}},{key:"queryVoid",value:function(X,V){throw new Error("queryVoid is not implemented in QuerySourcePassage.")}},{key:"toString",value:function(){return"QuerySourcePassage(".concat(this.url,")")}}],R=[{key:"toSelectQuery",value:function(X,V,H,U){var k=_.Util.inScopeVariables(V),$=X.get(f.KeysInitQuery.queryString);return U!=null&&U.joinBindings||!$?V.type===_.Algebra.types.PROJECT||V.type===_.Algebra.types.SLICE?w.QuerySourceSparql.operationToQuery(V):w.QuerySourceSparql.operationToSelectQuery(H,V,k):$}},{key:"initializeLogger",value:function(X,V,H){var U=X.get(f.KeysInitQuery.physicalQueryPlanLogger);if(U){var k={variables:_.Util.inScopeVariables(V).map(function($){return $.value}),query:H};U.logOperation(_.Algebra.types.SERVICE,void 0,V,X.get(f.KeysInitQuery.physicalQueryPlanNode),"passage",k)}}},{key:"updateStartTime",value:function(X,V){var H=X.get(f.KeysInitQuery.physicalQueryPlanLogger)||X.get(new h.ActionContextKey("physicalQueryPlanLogger"));H&&(V.startAt=Date.now(),H.appendMetadata(V,{startAt:V.startAt}))}},{key:"updateFirstResultTime",value:function(X,V){var H=X.get(f.KeysInitQuery.physicalQueryPlanLogger)||X.get(new h.ActionContextKey("physicalQueryPlanLogger"));H&&(V.firstResultAt=Date.now(),V.timeFirstResult=V.firstResultAt-V.startAt,H.appendMetadata(V,{firstResultAt:V.firstResultAt}),H.appendMetadata(V,{timeFirstResult:V.timeFirstResult}))}},{key:"updateDoneTime",value:function(X,V){var H=X.get(f.KeysInitQuery.physicalQueryPlanLogger)||X.get(new h.ActionContextKey("physicalQueryPlanLogger"));H&&(V.doneAt=Date.now(),V.timeLife=V.doneAt-V.startAt,H.appendMetadata(V,{doneAt:V.doneAt}),H.appendMetadata(V,{timeLife:V.timeLife}))}},{key:"updateNbResults",value:function(X,V,H){var U=X.get(f.KeysInitQuery.physicalQueryPlanLogger)||X.get(new h.ActionContextKey("physicalQueryPlanLogger"));U&&(V.cardinalityReal=H,U.appendMetadata(V,{cardinalityReal:H}))}},{key:"logError",value:function(X,V,H){var U=X.get(f.KeysInitQuery.physicalQueryPlanLogger)||X.get(new h.ActionContextKey("physicalQueryPlanLogger"));U&&U.appendMetadata(V,{status:"error",message:H})}}],E&&d(O.prototype,E),R&&d(O,R),Object.defineProperty(O,"prototype",{writable:!1}),O;var O,E,R,M,Q})();e.QuerySourcePassage=x,x.SELECTOR_SHAPE=ki.SHAPE&&ki.SHAPE==="tpf"?S.Shapes.TPF:ki.SHAPE&&ki.SHAPE==="brtpf"?S.Shapes.BRTPF:ki.SHAPE&&ki.SHAPE==="no-union"?S.Shapes.PASSAGE_NO_UNION:S.Shapes.PASSAGE},43789:(g,e,s)=>{var c=s(13559);g.exports=function(o,u,i){typeof u=="function"&&(i=u,u=null);var r="",n=new c(function(t,a){o.on("data",function(l){r+=typeof u=="string"?l.toString(u):l.toString()}),o.on("end",function(){t(r)}),o.on("error",a)});return i&&n.then(function(t){i(null,t)},i),n}},43796:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(48715),e)},43917:(g,e,s)=>{var c=s(67426),o=s(66166),u=s(66225),i=c.rotl32,r=c.sum32,n=c.sum32_5,t=u.ft_1,a=o.BlockHash,l=[1518500249,1859775393,2400959708,3395469782];function d(){if(!(this instanceof d))return new d;a.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}c.inherits(d,a),g.exports=d,d.blockSize=512,d.outSize=160,d.hmacStrength=80,d.padLength=64,d.prototype._update=function(p,f){for(var h=this.W,y=0;y<16;y++)h[y]=p[f+y];for(;y<h.length;y++)h[y]=i(h[y-3]^h[y-8]^h[y-14]^h[y-16],1);var m=this.h[0],b=this.h[1],v=this.h[2],_=this.h[3],w=this.h[4];for(y=0;y<h.length;y++){var S=~~(y/20),x=n(i(m,5),t(S,b,v,_),w,h[y],l[S]);w=_,_=v,v=i(b,30),b=m,m=x}this.h[0]=r(this.h[0],m),this.h[1]=r(this.h[1],b),this.h[2]=r(this.h[2],v),this.h[3]=r(this.h[3],_),this.h[4]=r(this.h[4],w)},d.prototype._digest=function(p){return p==="hex"?c.toHex32(this.h,"big"):c.split32(this.h,"big")}},43988:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NamedNode=void 0,e.NamedNode=class{constructor(s){this.termType="NamedNode",this.value=s}equals(s){return!!s&&s.termType==="NamedNode"&&s.value===this.value}}},44063:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ERROR_CODES=e.ErrorCoded=void 0;class s extends Error{constructor(u,i){super(u),this.code=i}}var c;e.ErrorCoded=s,(c=e.ERROR_CODES||(e.ERROR_CODES={})).COLLIDING_KEYWORDS="colliding keywords",c.CONFLICTING_INDEXES="conflicting indexes",c.CYCLIC_IRI_MAPPING="cyclic IRI mapping",c.INVALID_ID_VALUE="invalid @id value",c.INVALID_INDEX_VALUE="invalid @index value",c.INVALID_NEST_VALUE="invalid @nest value",c.INVALID_PREFIX_VALUE="invalid @prefix value",c.INVALID_PROPAGATE_VALUE="invalid @propagate value",c.INVALID_REVERSE_VALUE="invalid @reverse value",c.INVALID_IMPORT_VALUE="invalid @import value",c.INVALID_VERSION_VALUE="invalid @version value",c.INVALID_BASE_IRI="invalid base IRI",c.INVALID_CONTAINER_MAPPING="invalid container mapping",c.INVALID_CONTEXT_ENTRY="invalid context entry",c.INVALID_CONTEXT_NULLIFICATION="invalid context nullification",c.INVALID_DEFAULT_LANGUAGE="invalid default language",c.INVALID_INCLUDED_VALUE="invalid @included value",c.INVALID_IRI_MAPPING="invalid IRI mapping",c.INVALID_JSON_LITERAL="invalid JSON literal",c.INVALID_KEYWORD_ALIAS="invalid keyword alias",c.INVALID_LANGUAGE_MAP_VALUE="invalid language map value",c.INVALID_LANGUAGE_MAPPING="invalid language mapping",c.INVALID_LANGUAGE_TAGGED_STRING="invalid language-tagged string",c.INVALID_LANGUAGE_TAGGED_VALUE="invalid language-tagged value",c.INVALID_LOCAL_CONTEXT="invalid local context",c.INVALID_REMOTE_CONTEXT="invalid remote context",c.INVALID_REVERSE_PROPERTY="invalid reverse property",c.INVALID_REVERSE_PROPERTY_MAP="invalid reverse property map",c.INVALID_REVERSE_PROPERTY_VALUE="invalid reverse property value",c.INVALID_SCOPED_CONTEXT="invalid scoped context",c.INVALID_SCRIPT_ELEMENT="invalid script element",c.INVALID_SET_OR_LIST_OBJECT="invalid set or list object",c.INVALID_TERM_DEFINITION="invalid term definition",c.INVALID_TYPE_MAPPING="invalid type mapping",c.INVALID_TYPE_VALUE="invalid type value",c.INVALID_TYPED_VALUE="invalid typed value",c.INVALID_VALUE_OBJECT="invalid value object",c.INVALID_VALUE_OBJECT_VALUE="invalid value object value",c.INVALID_VOCAB_MAPPING="invalid vocab mapping",c.IRI_CONFUSED_WITH_PREFIX="IRI confused with prefix",c.KEYWORD_REDEFINITION="keyword redefinition",c.LOADING_DOCUMENT_FAILED="loading document failed",c.LOADING_REMOTE_CONTEXT_FAILED="loading remote context failed",c.MULTIPLE_CONTEXT_LINK_HEADERS="multiple context link headers",c.PROCESSING_MODE_CONFLICT="processing mode conflict",c.PROTECTED_TERM_REDEFINITION="protected term redefinition",c.CONTEXT_OVERFLOW="context overflow",c.INVALID_BASE_DIRECTION="invalid base direction",c.RECURSIVE_CONTEXT_INCLUSION="recursive context inclusion",c.INVALID_STREAMING_KEY_ORDER="invalid streaming key order",c.INVALID_EMBEDDED_NODE="invalid embedded node",c.INVALID_ANNOTATION="invalid annotation"},44407:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorHttpProxy=void 0;const c=s(70322),o=s(90711),u=s(90412);class i extends c.ActorHttp{constructor(n){super(n)}async test(n){const t=n.context.get(o.KeysHttpProxy.httpProxyHandler);return t?await t.getProxy(n)?(0,u.passTest)({time:Number.POSITIVE_INFINITY}):(0,u.failTest)(`Actor ${this.name} could not determine a proxy for the given request.`):(0,u.failTest)(`Actor ${this.name} could not find a proxy handler in the context.`)}async run(n){const t=typeof n.input=="string"?n.input:n.input.url,a=n.context.get(o.KeysHttpProxy.httpProxyHandler),l=await this.mediatorHttp.mediate({...await a.getProxy(n),context:n.context.delete(o.KeysHttpProxy.httpProxyHandler)});return Object.defineProperty(l,"url",{configurable:!0,enumerable:!0,get:()=>l.headers.get("x-final-url")??t}),l}}e.ActorHttpProxy=i},44609:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfResolveHypermediaLinksQueue=void 0;const c=s(90412);class o extends c.Actor{constructor(i){super(i)}}e.ActorRdfResolveHypermediaLinksQueue=o},44680:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PrefixWrappingIterator=void 0;const c=s(75627);class o extends c.WrappingIterator{constructor(i){super(i?.then(r=>(this.prefixes=r.prefixes,r)))}read(){if(this.prefixes){for(const i of Object.entries(this.prefixes))this.emit("prefix",...i);delete this.prefixes}return super.read()}}e.PrefixWrappingIterator=o},44858:(g,e)=>{function s(c,o,u){if(!("_profileInstrumented"in c)){if(c._profileInstrumented=!0,"_read"in c){const r=c._read;c._read=(n,t)=>{const a=performance.now();r.call(c,n,()=>{o.timeSelf+=performance.now()-a,t()})}}const i=c.read;if(c.read=()=>{const r=performance.now(),n=i.call(c);return u&&n&&o.count++,o.timeSelf+=performance.now()-r,n},u){const r=performance.now();c.on("end",()=>{o.timeLife=performance.now()-r})}"_source"in c&&s(c._source,o,!1)}}Object.defineProperty(e,"__esModule",{value:!0}),e.instrumentIterator=void 0,e.instrumentIterator=function(c){const o={count:0,timeSelf:0,timeLife:0};return s(c,o,!0),new Promise(u=>{c.on("end",()=>{u(o)})})}},44936:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionMultiplication=void 0;const c=s(77617),o=s(77545),u=s(61594);class i extends c.TermFunctionBase{constructor(){super({arity:2,operator:o.SparqlOperator.MULTIPLICATION,overloads:(0,o.declare)(o.SparqlOperator.MULTIPLICATION).arithmetic(()=>(n,t)=>new u.BigNumber(n).times(t).toNumber()).collect()})}}e.TermFunctionMultiplication=i},45020:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultGraph=void 0;class s{constructor(){this.termType="DefaultGraph",this.value=""}equals(o){return!!o&&o.termType==="DefaultGraph"}}e.DefaultGraph=s,s.INSTANCE=new s},45086:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},45109:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(98603),e),o(s(88052),e)},45122:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorHashQuadsMurmur=void 0;const c=s(65239),o=s(90412),u=s(24799);class i extends c.ActorHashQuads{async test(n){return(0,o.passTestVoid)()}async run(n){return{hashFunction:t=>{const a=u(t.subject.value);return a.hash(t.predicate.value),a.hash(t.object.value),a.hash(t.graph.value),a.result()}}}}e.ActorHashQuadsMurmur=i},45144:function(g,e,s){var c=this&&this.__awaiter||function(u,i,r,n){return new(r||(r=Promise))(function(t,a){function l(f){try{p(n.next(f))}catch(h){a(h)}}function d(f){try{p(n.throw(f))}catch(h){a(h)}}function p(f){var h;f.done?t(f.value):(h=f.value,h instanceof r?h:new r(function(y){y(h)})).then(l,d)}p((n=n.apply(u,i||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.lookupAllPrefixes=void 0;const o=s(37338);e.lookupAllPrefixes=function(u){return c(this,void 0,void 0,function*(){return(0,o.fetchContext)("https://prefix.cc/context",u)})}},45183:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.stringQuadToQuad=e.quadToStringQuad=e.stringToTerm=e.getLiteralLanguage=e.getLiteralType=e.getLiteralValue=e.termToString=void 0;const c=new(s(47793)).DataFactory;function o(t){if(t)switch(t.termType){case"NamedNode":case"DefaultGraph":return t.value;case"BlankNode":return"_:"+t.value;case"Literal":const a=t;return'"'+a.value+'"'+(a.datatype&&a.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&a.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?"^^"+a.datatype.value:"")+(a.language?"@"+a.language:"");case"Quad":return`<<${o(t.subject)} ${o(t.predicate)} ${o(t.object)}${t.graph.termType==="DefaultGraph"?"":" "+o(t.graph)}>>`;case"Variable":return"?"+t.value}}function u(t){const a=/^"([^]*)"/.exec(t);if(!a)throw new Error(t+" is not a literal");return a[1]}function i(t){const a=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(t);if(!a)throw new Error(t+" is not a literal");return a[1]||(a[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}function r(t){const a=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(t);if(!a)throw new Error(t+" is not a literal");return a[1]?a[1].toLowerCase():""}function n(t,a){if(a=a||c,!t||!t.length)return a.defaultGraph();switch(t[0]){case"_":return a.blankNode(t.substr(2));case"?":if(!a.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return a.variable(t.substr(1));case'"':const l=r(t),d=a.namedNode(i(t));return a.literal(u(t),l||d);default:if(t[0]==="<"&&t.length>4&&t[1]==="<"&&t[t.length-1]===">"&&t[t.length-2]===">"){const p=t.slice(2,-2).trim();let f=[],h=0,y=0,m=!1;for(let b=0;b<p.length;b++){const v=p[b];if(v==="<"&&h++,v===">"){if(h===0)throw new Error("Found closing tag without opening tag in "+t);h--}if(v==='"'){let _=!1,w=b;for(;w-- >0&&p[w]==="\\";)_=!_;_||(m=!m)}if(v===" "&&!m&&h===0){for(f.push(p.slice(y,b));p[b+1]===" ";)b+=1;y=b+1}}if(h!==0)throw new Error("Found opening tag without closing tag in "+t);if(f.push(p.slice(y,p.length)),f.length!==3&&f.length!==4)throw new Error("Nested quad syntax error "+t);return f=f.map(b=>b.startsWith("<")&&!b.includes(" ")?b.slice(1,-1):b),a.quad(n(f[0]),n(f[1]),n(f[2]),f[3]?n(f[3]):void 0)}return a.namedNode(t)}}e.termToString=o,e.getLiteralValue=u,e.getLiteralType=i,e.getLiteralLanguage=r,e.stringToTerm=n,e.quadToStringQuad=function(t){return{subject:o(t.subject),predicate:o(t.predicate),object:o(t.object),graph:o(t.graph)}},e.stringQuadToQuad=function(t,a){return(a=a||c).quad(n(t.subject,a),n(t.predicate,a),n(t.object,a),n(t.graph,a))}},45397:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DocumentPosition=void 0,e.removeSubsets=function(i){for(var r=i.length;--r>=0;){var n=i[r];if(r>0&&i.lastIndexOf(n,r-1)>=0)i.splice(r,1);else for(var t=n.parent;t;t=t.parent)if(i.includes(t)){i.splice(r,1);break}}return i},e.compareDocumentPosition=u,e.uniqueSort=function(i){return(i=i.filter(function(r,n,t){return!t.includes(r,n+1)})).sort(function(r,n){var t=u(r,n);return t&c.PRECEDING?-1:t&c.FOLLOWING?1:0}),i};var c,o=s(41141);function u(i,r){var n=[],t=[];if(i===r)return 0;for(var a=(0,o.hasChildren)(i)?i:i.parent;a;)n.unshift(a),a=a.parent;for(a=(0,o.hasChildren)(r)?r:r.parent;a;)t.unshift(a),a=a.parent;for(var l=Math.min(n.length,t.length),d=0;d<l&&n[d]===t[d];)d++;if(d===0)return c.DISCONNECTED;var p=n[d-1],f=p.children,h=n[d],y=t[d];return f.indexOf(h)>f.indexOf(y)?p===r?c.FOLLOWING|c.CONTAINED_BY:c.FOLLOWING:p===i?c.PRECEDING|c.CONTAINS:c.PRECEDING}(function(i){i[i.DISCONNECTED=1]="DISCONNECTED",i[i.PRECEDING=2]="PRECEDING",i[i.FOLLOWING=4]="FOLLOWING",i[i.CONTAINS=8]="CONTAINS",i[i.CONTAINED_BY=16]="CONTAINED_BY"})(c||(e.DocumentPosition=c={}))},45413:(g,e)=>{var s;Object.defineProperty(e,"__esModule",{value:!0}),e.Doctype=e.CDATA=e.Tag=e.Style=e.Script=e.Comment=e.Directive=e.Text=e.Root=e.isTag=e.ElementType=void 0,(function(c){c.Root="root",c.Text="text",c.Directive="directive",c.Comment="comment",c.Script="script",c.Style="style",c.Tag="tag",c.CDATA="cdata",c.Doctype="doctype"})(s=e.ElementType||(e.ElementType={})),e.isTag=function(c){return c.type===s.Tag||c.type===s.Script||c.type===s.Style},e.Root=s.Root,e.Text=s.Text,e.Directive=s.Directive,e.Comment=s.Comment,e.Script=s.Script,e.Style=s.Style,e.Tag=s.Tag,e.CDATA=s.CDATA,e.Doctype=s.Doctype},45510:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermStr=void 0;const c=s(77617),o=s(77545),u=s(32834);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.SparqlOperator.STR],termFunction:!0})}async run(n){return new u.TermFunctionStr}}e.ActorFunctionFactoryTermStr=i},45513:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryOperationPathLink=void 0;const c=s(97091),o=s(90711),u=s(96331);class i extends c.ActorAbstractPath{constructor(n){super(n,u.Algebra.types.LINK)}async runOperation(n,t){const a=t.getSafe(o.KeysInitQuery.dataFactory),l=new u.Factory(a),d=n.predicate,p=Object.assign(l.createPattern(n.subject,d.iri,n.object,n.graph),{metadata:d.metadata});return this.mediatorQueryOperation.mediate({operation:p,context:t})}}e.ActorQueryOperationPathLink=i},45534:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.materializeOperation=e.materializeTerm=void 0;const c=s(90691),o=s(3285),u=s(96331);function i(n,t){if(n.termType==="Variable"){const a=t.get(n);if(a)return a}return n.termType==="Quad"&&(0,o.someTermsNested)(n,a=>a.termType==="Variable")?(0,o.mapTermsNested)(n,a=>i(a,t)):n}function r(n,t,a){const l=[];for(const[d,p]of t)if(!a||a.some(f=>f.equals(d))){const f={[(0,c.termToString)(d)]:p};l.push(n.createValues([d],[f]))}return l}e.materializeTerm=i,e.materializeOperation=function n(t,a,l,d,p={}){return p={strictTargetVariables:"strictTargetVariables"in p&&p.strictTargetVariables,bindFilter:!("bindFilter"in p)||p.bindFilter,originalBindings:"originalBindings"in p?p.originalBindings:a},u.Util.mapOperation(t,{path:(f,h)=>({recurse:!1,result:Object.assign(h.createPath(i(f.subject,a),f.predicate,i(f.object,a),i(f.graph,a)),{metadata:f.metadata})}),pattern:(f,h)=>({recurse:!1,result:Object.assign(h.createPattern(i(f.subject,a),i(f.predicate,a),i(f.object,a),i(f.graph,a)),{metadata:f.metadata})}),join:(f,h)=>({recurse:!1,result:h.createJoin(f.input.map(y=>n(y,a,l,d,p)),f.input.every(y=>!y.metadata))}),extend(f){if(a.has(f.variable)){if(p.strictTargetVariables)throw new Error(`Tried to bind variable ${(0,c.termToString)(f.variable)} in a BIND operator.`);return{recurse:!0,result:n(f.input,a,l,d,p)}}return{recurse:!0,result:f}},group(f,h){if(p.strictTargetVariables){for(const m of f.variables)if(a.has(m))throw new Error(`Tried to bind variable ${(0,c.termToString)(m)} in a GROUP BY operator.`);return{recurse:!0,result:f}}const y=f.variables.filter(m=>!a.has(m));return{recurse:!0,result:h.createGroup(f.input,y,f.aggregates)}},filter(f,h){const y=p.originalBindings;if(f.expression.expressionType!=="operator"||y.size===0)return{recurse:!1,result:f};const m=r(h,y),b=n(f.expression,a,l,d,p),v=h.createJoin([...m,n(f.input,a,l,d,p)]);return{recurse:!1,result:h.createFilter(v,b)}},project(f,h){const y=r(h,p.originalBindings,f.variables);let m=n(f.input,a,l,d,p);return y.length>0&&(m=h.createJoin([...y,m])),{recurse:!1,result:h.createProject(m,f.variables)}},values(f,h){if(!p.strictTargetVariables){const y=f.variables.filter(b=>!a.has(b)),m=f.bindings.map(b=>{const v={...b};let _=!0;return a.forEach((w,S)=>{const x=(0,c.termToString)(S);x in v&&(w.equals(v[x])||(_=!1),delete v[x])}),_?v:void 0}).filter(Boolean);return{recurse:!0,result:h.createValues(y,m)}}for(const y of f.variables)if(a.has(y))throw new Error(`Tried to bind variable ${(0,c.termToString)(y)} in a VALUES operator.`);return{recurse:!1,result:f}},expression(f,h){if(!p.bindFilter)return{recurse:!1,result:f};if(f.expressionType==="term")return{recurse:!1,result:h.createTermExpression(i(f.term,a))};if(f.expressionType==="operator")return f.operator==="bound"&&f.args.length===1&&f.args[0].expressionType==="term"&&[...a.keys()].some(y=>f.args[0].term.equals(y))?{recurse:!1,result:h.createTermExpression(h.dataFactory.literal("true",h.dataFactory.namedNode("http://www.w3.org/2001/XMLSchema#boolean")))}:{recurse:!0,result:f};if(f.expressionType==="aggregate"&&"variable"in f&&a.has(f.variable)){if(p.strictTargetVariables)throw new Error(`Tried to bind ${(0,c.termToString)(f.variable)} in a ${f.aggregator} aggregate.`);return{recurse:!0,result:f}}return{recurse:!0,result:f}}},l)}},45548:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.stringQuadToQuad=e.quadToStringQuad=e.stringToTerm=e.getLiteralLanguage=e.getLiteralType=e.getLiteralValue=e.termToString=void 0;const c=new(s(47793)).DataFactory;function o(t){if(t)switch(t.termType){case"NamedNode":case"DefaultGraph":return t.value;case"BlankNode":return"_:"+t.value;case"Literal":const a=t;return'"'+a.value+'"'+(a.datatype&&a.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&a.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?"^^"+a.datatype.value:"")+(a.language?"@"+a.language:"");case"Quad":return`<<${o(t.subject)} ${o(t.predicate)} ${o(t.object)}${t.graph.termType==="DefaultGraph"?"":" "+o(t.graph)}>>`;case"Variable":return"?"+t.value}}function u(t){const a=/^"([^]*)"/.exec(t);if(!a)throw new Error(t+" is not a literal");return a[1]}function i(t){const a=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(t);if(!a)throw new Error(t+" is not a literal");return a[1]||(a[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}function r(t){const a=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(t);if(!a)throw new Error(t+" is not a literal");return a[1]?a[1].toLowerCase():""}function n(t,a){if(a=a||c,!t||!t.length)return a.defaultGraph();switch(t[0]){case"_":return a.blankNode(t.substr(2));case"?":if(!a.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return a.variable(t.substr(1));case'"':const l=r(t),d=a.namedNode(i(t));return a.literal(u(t),l||d);default:if(t[0]==="<"&&t.length>4&&t[1]==="<"&&t[t.length-1]===">"&&t[t.length-2]===">"){const p=t.slice(2,-2).trim();let f=[],h=0,y=0,m=!1;for(let b=0;b<p.length;b++){const v=p[b];if(v==="<"&&h++,v===">"){if(h===0)throw new Error("Found closing tag without opening tag in "+t);h--}if(v==='"'){let _=!1,w=b;for(;w-- >0&&p[w]==="\\";)_=!_;_||(m=!m)}if(v===" "&&!m&&h===0){for(f.push(p.slice(y,b));p[b+1]===" ";)b+=1;y=b+1}}if(h!==0)throw new Error("Found opening tag without closing tag in "+t);if(f.push(p.slice(y,p.length)),f.length!==3&&f.length!==4)throw new Error("Nested quad syntax error "+t);return f=f.map(b=>b.startsWith("<")&&!b.includes(" ")?b.slice(1,-1):b),a.quad(n(f[0]),n(f[1]),n(f[2]),f[3]?n(f[3]):void 0)}return a.namedNode(t)}}e.termToString=o,e.getLiteralValue=u,e.getLiteralType=i,e.getLiteralLanguage=r,e.stringToTerm=n,e.quadToStringQuad=function(t){return{subject:o(t.subject),predicate:o(t.predicate),object:o(t.object),graph:o(t.graph)}},e.stringQuadToQuad=function(t,a){return(a=a||c).quad(n(t.subject,a),n(t.predicate,a),n(t.object,a),n(t.graph,a))}},45757:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfUpdateQuadsHypermedia=void 0;const c=s(16657),o=s(90412),u=s(89096);class i extends c.ActorRdfUpdateQuadsDestination{constructor(n){super(n),this.cache=this.cacheSize?new u.LRUCache({max:this.cacheSize}):void 0;const t=this.cache;t&&this.httpInvalidator.addInvalidateListener(({url:a})=>a?t.delete(a):t.clear())}async test(n){return(0,c.getContextDestinationUrl)((0,c.getContextDestination)(n.context))?(0,o.passTestVoid)():(0,o.failTest)(`Actor ${this.name} can only update quads against a single destination URL.`)}getDestination(n){const t=(0,c.getContextDestination)(n);let a=(0,c.getContextDestinationUrl)(t);if(this.cache&&this.cache.has(a))return this.cache.get(a);const l=(async()=>{let d,p;try{const h=await this.mediatorDereferenceRdf.mediate({context:n,url:a,acceptErrors:!0});p=h.exists,a=h.url;const y=await this.mediatorMetadata.mediate({context:n,url:a,quads:h.data,triples:h.metadata?.triples});d=(await this.mediatorMetadataExtract.mediate({context:n,url:a,metadata:y.metadata,headers:h.headers,requestTime:h.requestTime})).metadata}catch{d={},p=!1}const{destination:f}=await this.mediatorRdfUpdateHypermedia.mediate({context:n,url:a,metadata:d,exists:p,forceDestinationType:(0,c.getDataDestinationType)(t)});return f})();return this.cache&&this.cache.set(a,l),l}}e.ActorRdfUpdateQuadsHypermedia=i},45762:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfMetadataAll=void 0;const c=s(14752),o=s(90412),u=s(19198);class i extends c.ActorRdfMetadata{constructor(n){super(n)}async test(n){return(0,o.passTestVoid)()}async run(n){const t=new u.Readable({objectMode:!0}),a=new u.Readable({objectMode:!0});n.quads.on("error",d=>{t.emit("error",d),a.emit("error",d)}),n.quads.on("end",()=>{t.push(null),a.push(null)});const l=t._read=a._read=d=>{for(;d>0;){const p=n.quads.read();if(p===null)return n.quads.once("readable",()=>l(d));d--,t.push(p),a.push(p)}};return{data:t,metadata:a}}}e.ActorRdfMetadataAll=i},45845:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(28223),e)},45978:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TRIPLE_TERM_NAMES=e.QUAD_TERM_NAMES=void 0,e.getTerms=o,e.getTermsNested=function t(a,l){const d=[];for(const p of o(a,l))p.termType==="Quad"?t(p,l).forEach(f=>d.push(f)):d.push(p);return d},e.getNamedTerms=function(t){return[{key:"subject",value:t.subject},{key:"predicate",value:t.predicate},{key:"object",value:t.object},{key:"graph",value:t.graph}]},e.collectNamedTerms=function(t,a,l){const d={};return t.forEach(p=>d[p.key]=p.value),a&&(d.subject=d.subject||a("subject"),d.predicate=d.predicate||a("predicate"),d.object=d.object||a("object"),d.graph=d.graph||a("graph")),(l||c).quad(d.subject,d.predicate,d.object,d.graph)},e.forEachTerms=function(t,a){a(t.subject,"subject"),a(t.predicate,"predicate"),a(t.object,"object"),a(t.graph,"graph")},e.forEachTermsNested=function t(a,l,d=[]){a.subject.termType==="Quad"?t(a.subject,l,[...d,"subject"]):l(a.subject,[...d,"subject"]),a.predicate.termType==="Quad"?t(a.predicate,l,[...d,"predicate"]):l(a.predicate,[...d,"predicate"]),a.object.termType==="Quad"?t(a.object,l,[...d,"object"]):l(a.object,[...d,"object"]),a.graph.termType==="Quad"?t(a.graph,l,[...d,"graph"]):l(a.graph,[...d,"graph"])},e.filterTerms=function(t,a){const l=[];return a(t.subject,"subject")&&l.push(t.subject),a(t.predicate,"predicate")&&l.push(t.predicate),a(t.object,"object")&&l.push(t.object),a(t.graph,"graph")&&l.push(t.graph),l},e.filterTermsNested=function t(a,l,d=[]){let p=[];return a.subject.termType==="Quad"?p=[...p,...t(a.subject,l,[...d,"subject"])]:l(a.subject,[...d,"subject"])&&p.push(a.subject),a.predicate.termType==="Quad"?p=[...p,...t(a.predicate,l,[...d,"predicate"])]:l(a.predicate,[...d,"predicate"])&&p.push(a.predicate),a.object.termType==="Quad"?p=[...p,...t(a.object,l,[...d,"object"])]:l(a.object,[...d,"object"])&&p.push(a.object),a.graph.termType==="Quad"?p=[...p,...t(a.graph,l,[...d,"graph"])]:l(a.graph,[...d,"graph"])&&p.push(a.graph),p},e.filterQuadTermNames=function(t,a){const l=[];return a(t.subject,"subject")&&l.push("subject"),a(t.predicate,"predicate")&&l.push("predicate"),a(t.object,"object")&&l.push("object"),a(t.graph,"graph")&&l.push("graph"),l},e.filterQuadTermNamesNested=function t(a,l,d=[]){let p=[];const f=[...d,"subject"];a.subject.termType==="Quad"?p=[...p,...t(a.subject,l,f)]:l(a.subject,f)&&p.push(f);const h=[...d,"predicate"];a.predicate.termType==="Quad"?p=[...p,...t(a.predicate,l,h)]:l(a.predicate,h)&&p.push(h);const y=[...d,"object"];a.object.termType==="Quad"?p=[...p,...t(a.object,l,y)]:l(a.object,y)&&p.push(y);const m=[...d,"graph"];return a.graph.termType==="Quad"?p=[...p,...t(a.graph,l,m)]:l(a.graph,m)&&p.push(m),p},e.mapTerms=function(t,a,l){return(l||c).quad(a(t.subject,"subject"),a(t.predicate,"predicate"),a(t.object,"object"),a(t.graph,"graph"))},e.mapTermsNested=function t(a,l,d,p=[]){return(d||c).quad(a.subject.termType==="Quad"?t(a.subject,l,d,[...p,"subject"]):l(a.subject,[...p,"subject"]),a.predicate.termType==="Quad"?t(a.predicate,l,d,[...p,"predicate"]):l(a.predicate,[...p,"predicate"]),a.object.termType==="Quad"?t(a.object,l,d,[...p,"object"]):l(a.object,[...p,"object"]),a.graph.termType==="Quad"?t(a.graph,l,d,[...p,"graph"]):l(a.graph,[...p,"graph"]))},e.reduceTerms=function(t,a,l){let d=l;return d=a(d,t.subject,"subject"),d=a(d,t.predicate,"predicate"),d=a(d,t.object,"object"),a(d,t.graph,"graph")},e.reduceTermsNested=function t(a,l,d,p=[]){let f=d;return f=a.subject.termType==="Quad"?t(a.subject,l,f,[...p,"subject"]):l(f,a.subject,[...p,"subject"]),f=a.predicate.termType==="Quad"?t(a.predicate,l,f,[...p,"predicate"]):l(f,a.predicate,[...p,"predicate"]),f=a.object.termType==="Quad"?t(a.object,l,f,[...p,"object"]):l(f,a.object,[...p,"object"]),f=a.graph.termType==="Quad"?t(a.graph,l,f,[...p,"graph"]):l(f,a.graph,[...p,"graph"]),f},e.everyTerms=u,e.everyTermsNested=function t(a,l,d=[]){return(a.subject.termType==="Quad"?t(a.subject,l,[...d,"subject"]):l(a.subject,[...d,"subject"]))&&(a.predicate.termType==="Quad"?t(a.predicate,l,[...d,"predicate"]):l(a.predicate,[...d,"predicate"]))&&(a.object.termType==="Quad"?t(a.object,l,[...d,"object"]):l(a.object,[...d,"object"]))&&(a.graph.termType==="Quad"?t(a.graph,l,[...d,"graph"]):l(a.graph,[...d,"graph"]))},e.someTerms=function(t,a){return a(t.subject,"subject")||a(t.predicate,"predicate")||a(t.object,"object")||a(t.graph,"graph")},e.someTermsNested=function t(a,l,d=[]){return(a.subject.termType==="Quad"?t(a.subject,l,[...d,"subject"]):l(a.subject,[...d,"subject"]))||(a.predicate.termType==="Quad"?t(a.predicate,l,[...d,"predicate"]):l(a.predicate,[...d,"predicate"]))||(a.object.termType==="Quad"?t(a.object,l,[...d,"object"]):l(a.object,[...d,"object"]))||(a.graph.termType==="Quad"?t(a.graph,l,[...d,"graph"]):l(a.graph,[...d,"graph"]))},e.getValueNestedPath=function t(a,l){if(l.length===0)return a;if(a.termType==="Quad")return t(a[l[0]],l.slice(1));throw new Error(`Tried to get ${l[0]} from term of type ${a.termType}`)},e.matchTerm=i,e.matchPattern=r,e.matchPatternComplete=n,e.matchPatternMappings=function(t,a,l={}){const d={};return(function p(f,h){return u(f,(y,m)=>{var b,v;const _=h[m];switch(y.termType){case"Variable":return l.skipVarMapping&&_.termType==="Variable"||((v=(b=d[y.value])===null||b===void 0?void 0:b.equals(_))!==null&&v!==void 0?v:(d[y.value]=_,!0));case"Quad":return _.termType==="Quad"&&p(y,_);default:return y.equals(_)}})})(a,t)&&(!l.returnMappings||d)};const c=new(s(76875)).DataFactory;function o(t,a){return a&&t.graph.termType==="DefaultGraph"?[t.subject,t.predicate,t.object]:[t.subject,t.predicate,t.object,t.graph]}function u(t,a){return a(t.subject,"subject")&&a(t.predicate,"predicate")&&a(t.object,"object")&&a(t.graph,"graph")}function i(t,a){return!a||a.termType==="Variable"||a.termType==="Quad"&&t.termType==="Quad"&&n(t,a)||a.equals(t)}function r(t,a,l,d,p){return i(t.subject,a)&&i(t.predicate,l)&&i(t.object,d)&&i(t.graph,p)}function n(t,a){return r(t,a.subject,a.predicate,a.object,a.graph)}e.QUAD_TERM_NAMES=["subject","predicate","object","graph"],e.TRIPLE_TERM_NAMES=["subject","predicate","object"]},46083:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isPunctuatorTokenKind=function(v){return v===u.TokenKind.BANG||v===u.TokenKind.DOLLAR||v===u.TokenKind.AMP||v===u.TokenKind.PAREN_L||v===u.TokenKind.PAREN_R||v===u.TokenKind.SPREAD||v===u.TokenKind.COLON||v===u.TokenKind.EQUALS||v===u.TokenKind.AT||v===u.TokenKind.BRACKET_L||v===u.TokenKind.BRACKET_R||v===u.TokenKind.BRACE_L||v===u.TokenKind.PIPE||v===u.TokenKind.BRACE_R},e.Lexer=void 0;var c=s(51352),o=s(76257),u=s(73038),i=s(69165),r=(function(){function v(w){var S=new o.Token(u.TokenKind.SOF,0,0,0,0,null);this.source=w,this.lastToken=S,this.token=S,this.line=1,this.lineStart=0}var _=v.prototype;return _.advance=function(){return this.lastToken=this.token,this.token=this.lookahead()},_.lookahead=function(){var w=this.token;if(w.kind!==u.TokenKind.EOF)do{var S;w=(S=w.next)!==null&&S!==void 0?S:w.next=t(this,w)}while(w.kind===u.TokenKind.COMMENT);return w},v})();function n(v){return isNaN(v)?u.TokenKind.EOF:v<127?JSON.stringify(String.fromCharCode(v)):'"\\u'.concat(("00"+v.toString(16).toUpperCase()).slice(-4),'"')}function t(v,_){for(var w=v.source,S=w.body,x=S.length,T=_.end;T<x;){var O=S.charCodeAt(T),E=v.line,R=1+T-v.lineStart;switch(O){case 65279:case 9:case 32:case 44:++T;continue;case 10:++T,++v.line,v.lineStart=T;continue;case 13:S.charCodeAt(T+1)===10?T+=2:++T,++v.line,v.lineStart=T;continue;case 33:return new o.Token(u.TokenKind.BANG,T,T+1,E,R,_);case 35:return l(w,T,E,R,_);case 36:return new o.Token(u.TokenKind.DOLLAR,T,T+1,E,R,_);case 38:return new o.Token(u.TokenKind.AMP,T,T+1,E,R,_);case 40:return new o.Token(u.TokenKind.PAREN_L,T,T+1,E,R,_);case 41:return new o.Token(u.TokenKind.PAREN_R,T,T+1,E,R,_);case 46:if(S.charCodeAt(T+1)===46&&S.charCodeAt(T+2)===46)return new o.Token(u.TokenKind.SPREAD,T,T+3,E,R,_);break;case 58:return new o.Token(u.TokenKind.COLON,T,T+1,E,R,_);case 61:return new o.Token(u.TokenKind.EQUALS,T,T+1,E,R,_);case 64:return new o.Token(u.TokenKind.AT,T,T+1,E,R,_);case 91:return new o.Token(u.TokenKind.BRACKET_L,T,T+1,E,R,_);case 93:return new o.Token(u.TokenKind.BRACKET_R,T,T+1,E,R,_);case 123:return new o.Token(u.TokenKind.BRACE_L,T,T+1,E,R,_);case 124:return new o.Token(u.TokenKind.PIPE,T,T+1,E,R,_);case 125:return new o.Token(u.TokenKind.BRACE_R,T,T+1,E,R,_);case 34:return S.charCodeAt(T+1)===34&&S.charCodeAt(T+2)===34?h(w,T,E,R,_,v):f(w,T,E,R,_);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return d(w,T,O,E,R,_);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return b(w,T,E,R,_)}throw(0,c.syntaxError)(w,T,a(O))}var M=v.line,Q=1+T-v.lineStart;return new o.Token(u.TokenKind.EOF,x,x,M,Q,_)}function a(v){return v<32&&v!==9&&v!==10&&v!==13?"Cannot contain the invalid character ".concat(n(v),"."):v===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:"Cannot parse the unexpected character ".concat(n(v),".")}function l(v,_,w,S,x){var T,O=v.body,E=_;do T=O.charCodeAt(++E);while(!isNaN(T)&&(T>31||T===9));return new o.Token(u.TokenKind.COMMENT,_,E,w,S,x,O.slice(_+1,E))}function d(v,_,w,S,x,T){var O=v.body,E=w,R=_,M=!1;if(E===45&&(E=O.charCodeAt(++R)),E===48){if((E=O.charCodeAt(++R))>=48&&E<=57)throw(0,c.syntaxError)(v,R,"Invalid number, unexpected digit after 0: ".concat(n(E),"."))}else R=p(v,R,E),E=O.charCodeAt(R);if(E===46&&(M=!0,E=O.charCodeAt(++R),R=p(v,R,E),E=O.charCodeAt(R)),E!==69&&E!==101||(M=!0,(E=O.charCodeAt(++R))!==43&&E!==45||(E=O.charCodeAt(++R)),R=p(v,R,E),E=O.charCodeAt(R)),E===46||(function(Q){return Q===95||Q>=65&&Q<=90||Q>=97&&Q<=122})(E))throw(0,c.syntaxError)(v,R,"Invalid number, expected digit but got: ".concat(n(E),"."));return new o.Token(M?u.TokenKind.FLOAT:u.TokenKind.INT,_,R,S,x,T,O.slice(_,R))}function p(v,_,w){var S=v.body,x=_,T=w;if(T>=48&&T<=57){do T=S.charCodeAt(++x);while(T>=48&&T<=57);return x}throw(0,c.syntaxError)(v,x,"Invalid number, expected digit but got: ".concat(n(T),"."))}function f(v,_,w,S,x){for(var T=v.body,O=_+1,E=O,R=0,M="";O<T.length&&!isNaN(R=T.charCodeAt(O))&&R!==10&&R!==13;){if(R===34)return M+=T.slice(E,O),new o.Token(u.TokenKind.STRING,_,O+1,w,S,x,M);if(R<32&&R!==9)throw(0,c.syntaxError)(v,O,"Invalid character within String: ".concat(n(R),"."));if(++O,R===92){switch(M+=T.slice(E,O-1),R=T.charCodeAt(O)){case 34:M+='"';break;case 47:M+="/";break;case 92:M+="\\";break;case 98:M+="\b";break;case 102:M+="\f";break;case 110:M+=`
`;break;case 114:M+="\r";break;case 116:M+="	";break;case 117:var Q=y(T.charCodeAt(O+1),T.charCodeAt(O+2),T.charCodeAt(O+3),T.charCodeAt(O+4));if(Q<0){var X=T.slice(O+1,O+5);throw(0,c.syntaxError)(v,O,"Invalid character escape sequence: \\u".concat(X,"."))}M+=String.fromCharCode(Q),O+=4;break;default:throw(0,c.syntaxError)(v,O,"Invalid character escape sequence: \\".concat(String.fromCharCode(R),"."))}E=++O}}throw(0,c.syntaxError)(v,O,"Unterminated string.")}function h(v,_,w,S,x,T){for(var O=v.body,E=_+3,R=E,M=0,Q="";E<O.length&&!isNaN(M=O.charCodeAt(E));){if(M===34&&O.charCodeAt(E+1)===34&&O.charCodeAt(E+2)===34)return Q+=O.slice(R,E),new o.Token(u.TokenKind.BLOCK_STRING,_,E+3,w,S,x,(0,i.dedentBlockStringValue)(Q));if(M<32&&M!==9&&M!==10&&M!==13)throw(0,c.syntaxError)(v,E,"Invalid character within String: ".concat(n(M),"."));M===10?(++E,++T.line,T.lineStart=E):M===13?(O.charCodeAt(E+1)===10?E+=2:++E,++T.line,T.lineStart=E):M===92&&O.charCodeAt(E+1)===34&&O.charCodeAt(E+2)===34&&O.charCodeAt(E+3)===34?(Q+=O.slice(R,E)+'"""',R=E+=4):++E}throw(0,c.syntaxError)(v,E,"Unterminated string.")}function y(v,_,w,S){return m(v)<<12|m(_)<<8|m(w)<<4|m(S)}function m(v){return v>=48&&v<=57?v-48:v>=65&&v<=70?v-55:v>=97&&v<=102?v-87:-1}function b(v,_,w,S,x){for(var T=v.body,O=T.length,E=_+1,R=0;E!==O&&!isNaN(R=T.charCodeAt(E))&&(R===95||R>=48&&R<=57||R>=65&&R<=90||R>=97&&R<=122);)++E;return new o.Token(u.TokenKind.NAME,_,E,w,S,x,T.slice(_,E))}e.Lexer=r},46229:(g,e,s)=>{e.sha1=s(43917),e.sha224=s(47714),e.sha256=s(2287),e.sha384=s(21911),e.sha512=s(57766)},46271:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryOperationDistinctHash=void 0;const c=s(66490),o=s(90412),u=s(67021);class i extends c.ActorQueryOperationTypedMediated{constructor(n){super(n,"distinct")}async testOperation(n,t){return(0,o.passTestVoid)()}async runOperation(n,t){const a=await this.mediatorQueryOperation.mediate({operation:n.input,context:t});if(a.type==="quads"){const p=(0,u.getSafeQuads)(a);return{type:"quads",quadStream:p.quadStream.filter(await this.newHashFilterQuads(t)),metadata:p.metadata}}const l=(0,u.getSafeBindings)(a),d=(await l.metadata()).variables.map(p=>p.variable);return{type:"bindings",bindingsStream:l.bindingsStream.filter(await this.newHashFilter(t,d)),metadata:l.metadata}}async newHashFilter(n,t){const{hashFunction:a}=await this.mediatorHashBindings.mediate({context:n}),l={};return d=>{const p=a(d,t);return!(p in l)&&(l[p]=!0)}}async newHashFilterQuads(n){const{hashFunction:t}=await this.mediatorHashQuads.mediate({context:n}),a={};return l=>{const d=t(l);return!(d in a)&&(a[d]=!0)}}}e.ActorQueryOperationDistinctHash=i},46293:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermSubject=void 0;const c=s(77617),o=s(77545),u=s(12922);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.SparqlOperator.SUBJECT],termFunction:!0})}async run(n){return new u.TermFunctionSubject}}e.ActorFunctionFactoryTermSubject=i},46342:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryOperationSlice=void 0;const c=s(66490),o=s(90711),u=s(90412);class i extends c.ActorQueryOperationTypedMediated{constructor(n){super(n,"slice")}async testOperation(n,t){return(0,u.passTestVoid)()}async runOperation(n,t){n.length&&(t=t.set(o.KeysQueryOperation.limitIndicator,n.length));const a=await this.mediatorQueryOperation.mediate({operation:n.input,context:t});return a.type==="bindings"?{type:"bindings",bindingsStream:this.sliceStream(a.bindingsStream,n),metadata:this.sliceMetadata(a,n)}:a.type==="quads"?{type:"quads",quadStream:this.sliceStream(a.quadStream,n),metadata:this.sliceMetadata(a,n)}:a}sliceStream(n,t){const a=!!t.length||t.length===0,{start:l}=t,d=a?t.start+t.length-1:Number.POSITIVE_INFINITY;return n.transform({offset:l,limit:Math.max(d-l+1,0),autoStart:!1})}sliceMetadata(n,t){const a=!!t.length||t.length===0;return()=>n.metadata().then(l=>{const d={...l.cardinality};return Number.isFinite(d.value)&&(d.value=Math.max(0,d.value-t.start),a&&(d.value=Math.min(d.value,t.length))),{...l,cardinality:d}})}}e.ActorQueryOperationSlice=i},46356:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0});const c=s(76011),o=s(31425),u=s(96568);e.default=function(i,r,n){i??={},n??=0;let t=(0,o.default)({...i,_v6:!0},new Uint8Array(16));if(t=(0,u.default)(t),r){for(let a=0;a<16;a++)r[n+a]=t[a];return r}return(0,c.unsafeStringify)(t)}},46388:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Quad=void 0,e.Quad=class{constructor(s,c,o,u){this.termType="Quad",this.value="",this.subject=s,this.predicate=c,this.object=o,this.graph=u}equals(s){return!!s&&(s.termType==="Quad"||!s.termType)&&this.subject.equals(s.subject)&&this.predicate.equals(s.predicate)&&this.object.equals(s.object)&&this.graph.equals(s.graph)}}},46645:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermAbs=void 0;const c=s(77617),o=s(77545),u=s(54502);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.SparqlOperator.ABS],termFunction:!0})}async run(n){return new u.TermFunctionAbs}}e.ActorFunctionFactoryTermAbs=i},46671:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},46691:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfParseFixedMediaTypes=void 0;const c=s(48092),o=s(90412);class u extends c.ActorAbstractMediaTypedFixed{constructor(r){super(r)}async testHandleChecked(r){return(0,o.passTestVoid)()}}e.ActorRdfParseFixedMediaTypes=u},46706:(g,e,s)=>{const c=s(65606),o=s(48287),{isReadable:u,isWritable:i,isIterable:r,isNodeStream:n,isReadableNodeStream:t,isWritableNodeStream:a,isDuplexNodeStream:l,isReadableStream:d,isWritableStream:p}=s(16115),f=s(86238),{AbortError:h,codes:{ERR_INVALID_ARG_TYPE:y,ERR_INVALID_RETURN_VALUE:m}}=s(76371),{destroyer:b}=s(75896),v=s(93370),_=s(57576),w=s(78584),{createDeferredPromise:S}=s(57760),x=s(96532),T=globalThis.Blob||o.Blob,O=T!==void 0?function(X){return X instanceof T}:function(X){return!1},E=globalThis.AbortController||s(25568).AbortController,{FunctionPrototypeCall:R}=s(24134);class M extends v{constructor(V){super(V),V?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),V?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function Q(X){const V=X.readable&&typeof X.readable.read!="function"?_.wrap(X.readable):X.readable,H=X.writable;let U,k,$,ae,he,ye=!!u(V),I=!!i(H);function j(P){const L=ae;ae=null,L?L(P):P&&he.destroy(P)}return he=new M({readableObjectMode:!(V==null||!V.readableObjectMode),writableObjectMode:!(H==null||!H.writableObjectMode),readable:ye,writable:I}),I&&(f(H,P=>{I=!1,P&&b(V,P),j(P)}),he._write=function(P,L,G){H.write(P,L)?G():U=G},he._final=function(P){H.end(),k=P},H.on("drain",function(){if(U){const P=U;U=null,P()}}),H.on("finish",function(){if(k){const P=k;k=null,P()}})),ye&&(f(V,P=>{ye=!1,P&&b(V,P),j(P)}),V.on("readable",function(){if($){const P=$;$=null,P()}}),V.on("end",function(){he.push(null)}),he._read=function(){for(;;){const P=V.read();if(P===null)return void($=he._read);if(!he.push(P))return}}),he._destroy=function(P,L){P||ae===null||(P=new h),$=null,U=null,k=null,ae===null?L(P):(ae=L,b(H,P),b(V,P))},he}g.exports=function X(V,H){if(l(V))return V;if(t(V))return Q({readable:V});if(a(V))return Q({writable:V});if(n(V))return Q({writable:!1,readable:!1});if(d(V))return Q({readable:_.fromWeb(V)});if(p(V))return Q({writable:w.fromWeb(V)});if(typeof V=="function"){const{value:k,write:$,final:ae,destroy:he}=(function(I){let{promise:j,resolve:P}=S();const L=new E,G=L.signal;return{value:I((async function*(){for(;;){const te=j;j=null;const{chunk:W,done:ce,cb:de}=await te;if(c.nextTick(de),ce)return;if(G.aborted)throw new h(void 0,{cause:G.reason});({promise:j,resolve:P}=S()),yield W}})(),{signal:G}),write(te,W,ce){const de=P;P=null,de({chunk:te,done:!1,cb:ce})},final(te){const W=P;P=null,W({done:!0,cb:te})},destroy(te,W){L.abort(),W(te)}}})(V);if(r(k))return x(M,k,{objectMode:!0,write:$,final:ae,destroy:he});const ye=k?.then;if(typeof ye=="function"){let I;const j=R(ye,k,P=>{if(P!=null)throw new m("nully","body",P)},P=>{b(I,P)});return I=new M({objectMode:!0,readable:!1,write:$,final(P){ae(async()=>{try{await j,c.nextTick(P,null)}catch(L){c.nextTick(P,L)}})},destroy:he})}throw new m("Iterable, AsyncIterable or AsyncFunction",H,k)}if(O(V))return X(V.arrayBuffer());if(r(V))return x(M,V,{objectMode:!0,writable:!1});if(d(V?.readable)&&p(V?.writable))return M.fromWeb(V);if(typeof V?.writable=="object"||typeof V?.readable=="object")return Q({readable:V!=null&&V.readable?t(V?.readable)?V?.readable:X(V.readable):void 0,writable:V!=null&&V.writable?a(V?.writable)?V?.writable:X(V.writable):void 0});const U=V?.then;if(typeof U=="function"){let k;return R(U,V,$=>{$!=null&&k.push($),k.push(null)},$=>{b(k,$)}),k=new M({objectMode:!0,writable:!1,read(){}})}throw new y(H,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],V)}},46746:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.termToString=e.stringToTerm=e.stringQuadToQuad=e.quadToStringQuad=e.getLiteralValue=e.getLiteralType=e.getLiteralLanguage=void 0;const c=s(35738);Object.defineProperty(e,"getLiteralLanguage",{enumerable:!0,get:function(){return c.getLiteralLanguage}}),Object.defineProperty(e,"getLiteralType",{enumerable:!0,get:function(){return c.getLiteralType}}),Object.defineProperty(e,"getLiteralValue",{enumerable:!0,get:function(){return c.getLiteralValue}}),Object.defineProperty(e,"quadToStringQuad",{enumerable:!0,get:function(){return c.quadToStringQuad}}),Object.defineProperty(e,"stringQuadToQuad",{enumerable:!0,get:function(){return c.stringQuadToQuad}}),Object.defineProperty(e,"stringToTerm",{enumerable:!0,get:function(){return c.stringToTerm}}),Object.defineProperty(e,"termToString",{enumerable:!0,get:function(){return c.termToString}})},46784:(g,e,s)=>{var c=s(67426),o=s(66166),u=c.rotl32,i=c.sum32,r=c.sum32_3,n=c.sum32_4,t=o.BlockHash;function a(){if(!(this instanceof a))return new a;t.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function l(b,v,_,w){return b<=15?v^_^w:b<=31?v&_|~v&w:b<=47?(v|~_)^w:b<=63?v&w|_&~w:v^(_|~w)}function d(b){return b<=15?0:b<=31?1518500249:b<=47?1859775393:b<=63?2400959708:2840853838}function p(b){return b<=15?1352829926:b<=31?1548603684:b<=47?1836072691:b<=63?2053994217:0}c.inherits(a,t),e.ripemd160=a,a.blockSize=512,a.outSize=160,a.hmacStrength=192,a.padLength=64,a.prototype._update=function(b,v){for(var _=this.h[0],w=this.h[1],S=this.h[2],x=this.h[3],T=this.h[4],O=_,E=w,R=S,M=x,Q=T,X=0;X<80;X++){var V=i(u(n(_,l(X,w,S,x),b[f[X]+v],d(X)),y[X]),T);_=T,T=x,x=u(S,10),S=w,w=V,V=i(u(n(O,l(79-X,E,R,M),b[h[X]+v],p(X)),m[X]),Q),O=Q,Q=M,M=u(R,10),R=E,E=V}V=r(this.h[1],S,M),this.h[1]=r(this.h[2],x,Q),this.h[2]=r(this.h[3],T,O),this.h[3]=r(this.h[4],_,E),this.h[4]=r(this.h[0],w,R),this.h[0]=V},a.prototype._digest=function(b){return b==="hex"?c.toHex32(this.h,"little"):c.split32(this.h,"little")};var f=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],h=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],y=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],m=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},46876:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isSource=function(a){return(0,i.default)(a,t)},e.Source=void 0;var c=s(25888),o=r(s(29657)),u=r(s(93028)),i=r(s(79527));function r(a){return a&&a.__esModule?a:{default:a}}function n(a,l){for(var d=0;d<l.length;d++){var p=l[d];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(a,p.key,p)}}var t=(function(){function a(p){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"GraphQL request",h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{line:1,column:1};typeof p=="string"||(0,u.default)(0,"Body must be a string. Received: ".concat((0,o.default)(p),".")),this.body=p,this.name=f,this.locationOffset=h,this.locationOffset.line>0||(0,u.default)(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||(0,u.default)(0,"column in locationOffset is 1-indexed and must be positive.")}var l,d;return l=a,(d=[{key:c.SYMBOL_TO_STRING_TAG,get:function(){return"Source"}}])&&n(l.prototype,d),a})();e.Source=t},46898:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.termToString=e.stringToTerm=e.stringQuadToQuad=e.quadToStringQuad=e.getLiteralValue=e.getLiteralType=e.getLiteralLanguage=void 0;const c=s(19858);Object.defineProperty(e,"getLiteralLanguage",{enumerable:!0,get:function(){return c.getLiteralLanguage}}),Object.defineProperty(e,"getLiteralType",{enumerable:!0,get:function(){return c.getLiteralType}}),Object.defineProperty(e,"getLiteralValue",{enumerable:!0,get:function(){return c.getLiteralValue}}),Object.defineProperty(e,"quadToStringQuad",{enumerable:!0,get:function(){return c.quadToStringQuad}}),Object.defineProperty(e,"stringQuadToQuad",{enumerable:!0,get:function(){return c.stringQuadToQuad}}),Object.defineProperty(e,"stringToTerm",{enumerable:!0,get:function(){return c.stringToTerm}}),Object.defineProperty(e,"termToString",{enumerable:!0,get:function(){return c.termToString}})},47062:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfParse=void 0;const c=s(48092);class o extends c.ActorAbstractMediaTyped{constructor(i){super(i)}}e.ActorRdfParse=o},47074:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionSubtraction=void 0;const c=s(77617),o=s(90711),u=s(77545),i=s(61594);class r extends c.TermFunctionBase{constructor(){super({arity:2,operator:u.SparqlOperator.SUBTRACTION,overloads:(0,u.declare)(u.SparqlOperator.SUBTRACTION).arithmetic(()=>(t,a)=>new i.BigNumber(t).minus(a).toNumber()).set([u.TypeURL.XSD_DATE_TIME,u.TypeURL.XSD_DATE_TIME],t=>([a,l])=>new u.DayTimeDurationLiteral((0,u.elapsedDuration)(a.typedValue,l.typedValue,t.context.getSafe(o.KeysExpressionEvaluator.defaultTimeZone)))).copy({from:[u.TypeURL.XSD_DATE_TIME,u.TypeURL.XSD_DATE_TIME],to:[u.TypeURL.XSD_DATE,u.TypeURL.XSD_DATE]}).copy({from:[u.TypeURL.XSD_DATE_TIME,u.TypeURL.XSD_DATE_TIME],to:[u.TypeURL.XSD_TIME,u.TypeURL.XSD_TIME]}).set([u.TypeURL.XSD_DATE_TIME,u.TypeURL.XSD_DAY_TIME_DURATION],()=>([t,a])=>new u.DateTimeLiteral((0,u.addDurationToDateTime)(t.typedValue,(0,u.defaultedDurationRepresentation)((0,u.negateDuration)(a.typedValue))))).copy({from:[u.TypeURL.XSD_DATE_TIME,u.TypeURL.XSD_DAY_TIME_DURATION],to:[u.TypeURL.XSD_DATE_TIME,u.TypeURL.XSD_YEAR_MONTH_DURATION]}).set([u.TypeURL.XSD_DATE,u.TypeURL.XSD_DAY_TIME_DURATION],()=>([t,a])=>new u.DateLiteral((0,u.addDurationToDateTime)((0,u.defaultedDateTimeRepresentation)(t.typedValue),(0,u.defaultedDurationRepresentation)((0,u.negateDuration)(a.typedValue))))).copy({from:[u.TypeURL.XSD_DATE,u.TypeURL.XSD_DAY_TIME_DURATION],to:[u.TypeURL.XSD_DATE,u.TypeURL.XSD_YEAR_MONTH_DURATION]}).set([u.TypeURL.XSD_TIME,u.TypeURL.XSD_DAY_TIME_DURATION],()=>([t,a])=>new u.TimeLiteral((0,u.addDurationToDateTime)((0,u.defaultedDateTimeRepresentation)(t.typedValue),(0,u.defaultedDurationRepresentation)((0,u.negateDuration)(a.typedValue))))).collect()})}}e.TermFunctionSubtraction=r},47111:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(29856),e)},47113:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryOperationUpdateCompositeUpdate=void 0;const c=s(66490),o=s(67021);class u extends c.ActorQueryOperationTypedMediated{constructor(r){super(r,"compositeupdate")}async testOperation(r,n){return(0,o.testReadOnly)(n)}async runOperation(r,n){return{type:"void",execute:()=>(async()=>{for(const t of r.updates)await(0,o.getSafeVoid)(await this.mediatorQueryOperation.mediate({operation:t,context:n})).execute()})()}}}e.ActorQueryOperationUpdateCompositeUpdate=u},47194:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ItemPropertyHandlerNumber=void 0;const c=s(73153);e.ItemPropertyHandlerNumber=class{constructor(o,u){this.tagName=o,this.attributeName=u}canHandle(o,u){return this.tagName===o&&this.attributeName in u}getObject(o,u,i){const r=o[this.attributeName];let n;return Number.isNaN(Number.parseInt(r,10))||r.includes(".")?Number.isNaN(Number.parseFloat(r))||(n=`${c.Util.XSD}double`):n=`${c.Util.XSD}integer`,u.dataFactory.literal(r,n&&u.dataFactory.namedNode(n))}}},47229:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ContainerHandlerType=void 0;const c=s(76970),o=s(10888);e.ContainerHandlerType=class{canCombineWithGraph(){return!1}async handle(u,i,r,n,t,a){if(!Array.isArray(t)){if(typeof t=="string"){const p=await i.getContext(n),f=o.Util.getContextValueType(p,n[a-1])==="@vocab"?await r.createVocabOrBaseTerm(p,t):await r.resourceToTerm(p,t);if(f){const h={"@id":f.termType==="NamedNode"?f.value:t};await i.newOnValueJob(n.slice(0,n.length-1),h,a-1,!0),i.idStack[a+1]=[f]}}else{const p=!!i.idStack[a+1];p||delete i.idStack[a],await i.newOnValueJob(n.slice(0,n.length-1),t,a-1,!0),p||(i.idStack[a+1]=i.idStack[a])}const l=await r.getContainerKey(n[a],n,a),d=l!==null?r.createVocabOrBaseTerm(await i.getContext(n),l):null;d&&await c.EntryHandlerPredicate.handlePredicateObject(i,r,n,a+1,r.rdfType,d,!1,!1,!1),await i.handlePendingContainerFlushBuffers()}i.emittedStack[a]=!1}}},47633:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(12278),e)},47714:(g,e,s)=>{var c=s(67426),o=s(2287);function u(){if(!(this instanceof u))return new u;o.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}c.inherits(u,o),g.exports=u,u.blockSize=512,u.outSize=224,u.hmacStrength=192,u.padLength=64,u.prototype._digest=function(i){return i==="hex"?c.toHex32(this.h.slice(0,7),"big"):c.split32(this.h.slice(0,7),"big")}},47793:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(49931),e),o(s(88483),e),o(s(92142),e),o(s(62426),e),o(s(43988),e),o(s(36754),e),o(s(88401),e)},47830:(g,e,s)=>{const{pipeline:c}=s(57758),o=s(93370),{destroyer:u}=s(75896),{isNodeStream:i,isReadable:r,isWritable:n,isWebStream:t,isTransformStream:a,isWritableStream:l,isReadableStream:d}=s(16115),{AbortError:p,codes:{ERR_INVALID_ARG_VALUE:f,ERR_MISSING_ARGS:h}}=s(76371),y=s(86238);g.exports=function(...m){if(m.length===0)throw new h("streams");if(m.length===1)return o.from(m[0]);const b=[...m];if(typeof m[0]=="function"&&(m[0]=o.from(m[0])),typeof m[m.length-1]=="function"){const M=m.length-1;m[M]=o.from(m[M])}for(let M=0;M<m.length;++M)if(i(m[M])||t(m[M])){if(M<m.length-1&&!(r(m[M])||d(m[M])||a(m[M])))throw new f(`streams[${M}]`,b[M],"must be readable");if(M>0&&!(n(m[M])||l(m[M])||a(m[M])))throw new f(`streams[${M}]`,b[M],"must be writable")}let v,_,w,S,x;const T=m[0],O=c(m,function(M){const Q=S;S=null,Q?Q(M):M?x.destroy(M):R||E||x.destroy()}),E=!!(n(T)||l(T)||a(T)),R=!!(r(O)||d(O)||a(O));if(x=new o({writableObjectMode:!(T==null||!T.writableObjectMode),readableObjectMode:!(O==null||!O.readableObjectMode),writable:E,readable:R}),E){if(i(T))x._write=function(Q,X,V){T.write(Q,X)?V():v=V},x._final=function(Q){T.end(),_=Q},T.on("drain",function(){if(v){const Q=v;v=null,Q()}});else if(t(T)){const Q=(a(T)?T.writable:T).getWriter();x._write=async function(X,V,H){try{await Q.ready,Q.write(X).catch(()=>{}),H()}catch(U){H(U)}},x._final=async function(X){try{await Q.ready,Q.close().catch(()=>{}),_=X}catch(V){X(V)}}}const M=a(O)?O.readable:O;y(M,()=>{if(_){const Q=_;_=null,Q()}})}if(R){if(i(O))O.on("readable",function(){if(w){const M=w;w=null,M()}}),O.on("end",function(){x.push(null)}),x._read=function(){for(;;){const M=O.read();if(M===null)return void(w=x._read);if(!x.push(M))return}};else if(t(O)){const M=(a(O)?O.readable:O).getReader();x._read=async function(){for(;;)try{const{value:Q,done:X}=await M.read();if(!x.push(Q))return;if(X)return void x.push(null)}catch{return}}}}return x._destroy=function(M,Q){M||S===null||(M=new p),w=null,v=null,_=null,S===null?Q(M):(S=Q,i(O)&&u(O,M))},x}},47882:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionCeil=void 0;const c=s(77617),o=s(77545);class u extends c.TermFunctionBase{constructor(){super({arity:1,operator:o.SparqlOperator.CEIL,overloads:(0,o.declare)(o.SparqlOperator.CEIL).numericConverter(()=>r=>Math.ceil(r)).collect()})}}e.TermFunctionCeil=u},48061:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BusFunctionFactory=void 0;const c=s(90412);class o extends c.BusIndexed{constructor(i){super({...i,actorIdentifierFields:["functionNames"],actionIdentifierFields:["functionName"]})}}e.BusFunctionFactory=o},48062:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TERM_TYPES=void 0,e.uniqTerms=function(u){const i={};return u.filter(r=>{const n=(0,c.termToString)(r);return!(n in i)&&(i[n]=!0)})},e.getTermsOfType=o,e.getNamedNodes=function(u){return o(u,"NamedNode")},e.getBlankNodes=function(u){return o(u,"BlankNode")},e.getLiterals=function(u){return o(u,"Literal")},e.getVariables=function(u){return o(u,"Variable")},e.getDefaultGraphs=function(u){return o(u,"DefaultGraph")},e.getQuads=function(u){return o(u,"Quad")};const c=s(43347);function o(u,i){return u.filter(r=>r.termType===i)}e.TERM_TYPES=["NamedNode","BlankNode","Literal","Variable","DefaultGraph","Quad"]},48073:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},48092:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(78563),e),o(s(17633),e)},48169:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(7020),e)},48260:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionXsdToFloat=void 0;const c=s(77617),o=s(77545);class u extends c.TermFunctionBase{constructor(){super({arity:1,operator:o.TypeURL.XSD_FLOAT,overloads:(0,o.declare)(o.TypeURL.XSD_FLOAT).onNumeric1(()=>r=>(0,o.float)(r.typedValue)).onBoolean1Typed(()=>r=>(0,o.float)(r?1:0)).onUnary(o.TypeURL.XSD_STRING,()=>r=>{const n=(0,o.parseXSDFloat)(r.str());if(n===void 0)throw new o.CastError(r,o.TypeURL.XSD_FLOAT);return(0,o.float)(n)},!1).collect()})}}e.TermFunctionXsdToFloat=u},48286:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0});const c=s(73779),o=s(52291),u=s(76011);e.default=function(i,r,n){if(c.default.randomUUID&&!r&&!i)return c.default.randomUUID();const t=(i=i||{}).random??i.rng?.()??(0,o.default)();if(t.length<16)throw new Error("Random bytes length must be >= 16");if(t[6]=15&t[6]|64,t[8]=63&t[8]|128,r){if((n=n||0)<0||n+16>r.length)throw new RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);for(let a=0;a<16;++a)r[n+a]=t[a];return r}return(0,u.unsafeStringify)(t)}},48287:(g,e,s)=>{const c=s(67526),o=s(251),u=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=n,e.SlowBuffer=function(q){return+q!=q&&(q=0),n.alloc(+q)},e.INSPECT_MAX_BYTES=50;const i=2147483647;function r(q){if(q>i)throw new RangeError('The value "'+q+'" is invalid for option "size"');const N=new Uint8Array(q);return Object.setPrototypeOf(N,n.prototype),N}function n(q,N,B){if(typeof q=="number"){if(typeof N=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return l(q)}return t(q,N,B)}function t(q,N,B){if(typeof q=="string")return(function(re,fe){if(typeof fe=="string"&&fe!==""||(fe="utf8"),!n.isEncoding(fe))throw new TypeError("Unknown encoding: "+fe);const _e=0|h(re,fe);let we=r(_e);const Pe=we.write(re,fe);return Pe!==_e&&(we=we.slice(0,Pe)),we})(q,N);if(ArrayBuffer.isView(q))return(function(re){if(ie(re,Uint8Array)){const fe=new Uint8Array(re);return p(fe.buffer,fe.byteOffset,fe.byteLength)}return d(re)})(q);if(q==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof q);if(ie(q,ArrayBuffer)||q&&ie(q.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ie(q,SharedArrayBuffer)||q&&ie(q.buffer,SharedArrayBuffer)))return p(q,N,B);if(typeof q=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const J=q.valueOf&&q.valueOf();if(J!=null&&J!==q)return n.from(J,N,B);const ne=(function(re){if(n.isBuffer(re)){const fe=0|f(re.length),_e=r(fe);return _e.length===0||re.copy(_e,0,0,fe),_e}return re.length!==void 0?typeof re.length!="number"||me(re.length)?r(0):d(re):re.type==="Buffer"&&Array.isArray(re.data)?d(re.data):void 0})(q);if(ne)return ne;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof q[Symbol.toPrimitive]=="function")return n.from(q[Symbol.toPrimitive]("string"),N,B);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof q)}function a(q){if(typeof q!="number")throw new TypeError('"size" argument must be of type number');if(q<0)throw new RangeError('The value "'+q+'" is invalid for option "size"')}function l(q){return a(q),r(q<0?0:0|f(q))}function d(q){const N=q.length<0?0:0|f(q.length),B=r(N);for(let J=0;J<N;J+=1)B[J]=255&q[J];return B}function p(q,N,B){if(N<0||q.byteLength<N)throw new RangeError('"offset" is outside of buffer bounds');if(q.byteLength<N+(B||0))throw new RangeError('"length" is outside of buffer bounds');let J;return J=N===void 0&&B===void 0?new Uint8Array(q):B===void 0?new Uint8Array(q,N):new Uint8Array(q,N,B),Object.setPrototypeOf(J,n.prototype),J}function f(q){if(q>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|q}function h(q,N){if(n.isBuffer(q))return q.length;if(ArrayBuffer.isView(q)||ie(q,ArrayBuffer))return q.byteLength;if(typeof q!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof q);const B=q.length,J=arguments.length>2&&arguments[2]===!0;if(!J&&B===0)return 0;let ne=!1;for(;;)switch(N){case"ascii":case"latin1":case"binary":return B;case"utf8":case"utf-8":return ce(q).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*B;case"hex":return B>>>1;case"base64":return de(q).length;default:if(ne)return J?-1:ce(q).length;N=(""+N).toLowerCase(),ne=!0}}function y(q,N,B){let J=!1;if((N===void 0||N<0)&&(N=0),N>this.length||((B===void 0||B>this.length)&&(B=this.length),B<=0)||(B>>>=0)<=(N>>>=0))return"";for(q||(q="utf8");;)switch(q){case"hex":return X(this,N,B);case"utf8":case"utf-8":return E(this,N,B);case"ascii":return M(this,N,B);case"latin1":case"binary":return Q(this,N,B);case"base64":return O(this,N,B);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return V(this,N,B);default:if(J)throw new TypeError("Unknown encoding: "+q);q=(q+"").toLowerCase(),J=!0}}function m(q,N,B){const J=q[N];q[N]=q[B],q[B]=J}function b(q,N,B,J,ne){if(q.length===0)return-1;if(typeof B=="string"?(J=B,B=0):B>2147483647?B=2147483647:B<-2147483648&&(B=-2147483648),me(B=+B)&&(B=ne?0:q.length-1),B<0&&(B=q.length+B),B>=q.length){if(ne)return-1;B=q.length-1}else if(B<0){if(!ne)return-1;B=0}if(typeof N=="string"&&(N=n.from(N,J)),n.isBuffer(N))return N.length===0?-1:v(q,N,B,J,ne);if(typeof N=="number")return N&=255,typeof Uint8Array.prototype.indexOf=="function"?ne?Uint8Array.prototype.indexOf.call(q,N,B):Uint8Array.prototype.lastIndexOf.call(q,N,B):v(q,[N],B,J,ne);throw new TypeError("val must be string, number or Buffer")}function v(q,N,B,J,ne){let re,fe=1,_e=q.length,we=N.length;if(J!==void 0&&((J=String(J).toLowerCase())==="ucs2"||J==="ucs-2"||J==="utf16le"||J==="utf-16le")){if(q.length<2||N.length<2)return-1;fe=2,_e/=2,we/=2,B/=2}function Pe(je,Ie){return fe===1?je[Ie]:je.readUInt16BE(Ie*fe)}if(ne){let je=-1;for(re=B;re<_e;re++)if(Pe(q,re)===Pe(N,je===-1?0:re-je)){if(je===-1&&(je=re),re-je+1===we)return je*fe}else je!==-1&&(re-=re-je),je=-1}else for(B+we>_e&&(B=_e-we),re=B;re>=0;re--){let je=!0;for(let Ie=0;Ie<we;Ie++)if(Pe(q,re+Ie)!==Pe(N,Ie)){je=!1;break}if(je)return re}return-1}function _(q,N,B,J){B=Number(B)||0;const ne=q.length-B;J?(J=Number(J))>ne&&(J=ne):J=ne;const re=N.length;let fe;for(J>re/2&&(J=re/2),fe=0;fe<J;++fe){const _e=parseInt(N.substr(2*fe,2),16);if(me(_e))return fe;q[B+fe]=_e}return fe}function w(q,N,B,J){return Se(ce(N,q.length-B),q,B,J)}function S(q,N,B,J){return Se((function(ne){const re=[];for(let fe=0;fe<ne.length;++fe)re.push(255&ne.charCodeAt(fe));return re})(N),q,B,J)}function x(q,N,B,J){return Se(de(N),q,B,J)}function T(q,N,B,J){return Se((function(ne,re){let fe,_e,we;const Pe=[];for(let je=0;je<ne.length&&!((re-=2)<0);++je)fe=ne.charCodeAt(je),_e=fe>>8,we=fe%256,Pe.push(we),Pe.push(_e);return Pe})(N,q.length-B),q,B,J)}function O(q,N,B){return N===0&&B===q.length?c.fromByteArray(q):c.fromByteArray(q.slice(N,B))}function E(q,N,B){B=Math.min(q.length,B);const J=[];let ne=N;for(;ne<B;){const re=q[ne];let fe=null,_e=re>239?4:re>223?3:re>191?2:1;if(ne+_e<=B){let we,Pe,je,Ie;switch(_e){case 1:re<128&&(fe=re);break;case 2:we=q[ne+1],(192&we)==128&&(Ie=(31&re)<<6|63&we,Ie>127&&(fe=Ie));break;case 3:we=q[ne+1],Pe=q[ne+2],(192&we)==128&&(192&Pe)==128&&(Ie=(15&re)<<12|(63&we)<<6|63&Pe,Ie>2047&&(Ie<55296||Ie>57343)&&(fe=Ie));break;case 4:we=q[ne+1],Pe=q[ne+2],je=q[ne+3],(192&we)==128&&(192&Pe)==128&&(192&je)==128&&(Ie=(15&re)<<18|(63&we)<<12|(63&Pe)<<6|63&je,Ie>65535&&Ie<1114112&&(fe=Ie))}}fe===null?(fe=65533,_e=1):fe>65535&&(fe-=65536,J.push(fe>>>10&1023|55296),fe=56320|1023&fe),J.push(fe),ne+=_e}return(function(re){const fe=re.length;if(fe<=R)return String.fromCharCode.apply(String,re);let _e="",we=0;for(;we<fe;)_e+=String.fromCharCode.apply(String,re.slice(we,we+=R));return _e})(J)}e.kMaxLength=i,n.TYPED_ARRAY_SUPPORT=(function(){try{const q=new Uint8Array(1),N={foo:function(){return 42}};return Object.setPrototypeOf(N,Uint8Array.prototype),Object.setPrototypeOf(q,N),q.foo()===42}catch{return!1}})(),n.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(n.prototype,"parent",{enumerable:!0,get:function(){if(n.isBuffer(this))return this.buffer}}),Object.defineProperty(n.prototype,"offset",{enumerable:!0,get:function(){if(n.isBuffer(this))return this.byteOffset}}),n.poolSize=8192,n.from=function(q,N,B){return t(q,N,B)},Object.setPrototypeOf(n.prototype,Uint8Array.prototype),Object.setPrototypeOf(n,Uint8Array),n.alloc=function(q,N,B){return(function(J,ne,re){return a(J),J<=0?r(J):ne!==void 0?typeof re=="string"?r(J).fill(ne,re):r(J).fill(ne):r(J)})(q,N,B)},n.allocUnsafe=function(q){return l(q)},n.allocUnsafeSlow=function(q){return l(q)},n.isBuffer=function(q){return q!=null&&q._isBuffer===!0&&q!==n.prototype},n.compare=function(q,N){if(ie(q,Uint8Array)&&(q=n.from(q,q.offset,q.byteLength)),ie(N,Uint8Array)&&(N=n.from(N,N.offset,N.byteLength)),!n.isBuffer(q)||!n.isBuffer(N))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(q===N)return 0;let B=q.length,J=N.length;for(let ne=0,re=Math.min(B,J);ne<re;++ne)if(q[ne]!==N[ne]){B=q[ne],J=N[ne];break}return B<J?-1:J<B?1:0},n.isEncoding=function(q){switch(String(q).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},n.concat=function(q,N){if(!Array.isArray(q))throw new TypeError('"list" argument must be an Array of Buffers');if(q.length===0)return n.alloc(0);let B;if(N===void 0)for(N=0,B=0;B<q.length;++B)N+=q[B].length;const J=n.allocUnsafe(N);let ne=0;for(B=0;B<q.length;++B){let re=q[B];if(ie(re,Uint8Array))ne+re.length>J.length?(n.isBuffer(re)||(re=n.from(re)),re.copy(J,ne)):Uint8Array.prototype.set.call(J,re,ne);else{if(!n.isBuffer(re))throw new TypeError('"list" argument must be an Array of Buffers');re.copy(J,ne)}ne+=re.length}return J},n.byteLength=h,n.prototype._isBuffer=!0,n.prototype.swap16=function(){const q=this.length;if(q%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let N=0;N<q;N+=2)m(this,N,N+1);return this},n.prototype.swap32=function(){const q=this.length;if(q%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let N=0;N<q;N+=4)m(this,N,N+3),m(this,N+1,N+2);return this},n.prototype.swap64=function(){const q=this.length;if(q%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let N=0;N<q;N+=8)m(this,N,N+7),m(this,N+1,N+6),m(this,N+2,N+5),m(this,N+3,N+4);return this},n.prototype.toString=function(){const q=this.length;return q===0?"":arguments.length===0?E(this,0,q):y.apply(this,arguments)},n.prototype.toLocaleString=n.prototype.toString,n.prototype.equals=function(q){if(!n.isBuffer(q))throw new TypeError("Argument must be a Buffer");return this===q||n.compare(this,q)===0},n.prototype.inspect=function(){let q="";const N=e.INSPECT_MAX_BYTES;return q=this.toString("hex",0,N).replace(/(.{2})/g,"$1 ").trim(),this.length>N&&(q+=" ... "),"<Buffer "+q+">"},u&&(n.prototype[u]=n.prototype.inspect),n.prototype.compare=function(q,N,B,J,ne){if(ie(q,Uint8Array)&&(q=n.from(q,q.offset,q.byteLength)),!n.isBuffer(q))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof q);if(N===void 0&&(N=0),B===void 0&&(B=q?q.length:0),J===void 0&&(J=0),ne===void 0&&(ne=this.length),N<0||B>q.length||J<0||ne>this.length)throw new RangeError("out of range index");if(J>=ne&&N>=B)return 0;if(J>=ne)return-1;if(N>=B)return 1;if(this===q)return 0;let re=(ne>>>=0)-(J>>>=0),fe=(B>>>=0)-(N>>>=0);const _e=Math.min(re,fe),we=this.slice(J,ne),Pe=q.slice(N,B);for(let je=0;je<_e;++je)if(we[je]!==Pe[je]){re=we[je],fe=Pe[je];break}return re<fe?-1:fe<re?1:0},n.prototype.includes=function(q,N,B){return this.indexOf(q,N,B)!==-1},n.prototype.indexOf=function(q,N,B){return b(this,q,N,B,!0)},n.prototype.lastIndexOf=function(q,N,B){return b(this,q,N,B,!1)},n.prototype.write=function(q,N,B,J){if(N===void 0)J="utf8",B=this.length,N=0;else if(B===void 0&&typeof N=="string")J=N,B=this.length,N=0;else{if(!isFinite(N))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");N>>>=0,isFinite(B)?(B>>>=0,J===void 0&&(J="utf8")):(J=B,B=void 0)}const ne=this.length-N;if((B===void 0||B>ne)&&(B=ne),q.length>0&&(B<0||N<0)||N>this.length)throw new RangeError("Attempt to write outside buffer bounds");J||(J="utf8");let re=!1;for(;;)switch(J){case"hex":return _(this,q,N,B);case"utf8":case"utf-8":return w(this,q,N,B);case"ascii":case"latin1":case"binary":return S(this,q,N,B);case"base64":return x(this,q,N,B);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,q,N,B);default:if(re)throw new TypeError("Unknown encoding: "+J);J=(""+J).toLowerCase(),re=!0}},n.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const R=4096;function M(q,N,B){let J="";B=Math.min(q.length,B);for(let ne=N;ne<B;++ne)J+=String.fromCharCode(127&q[ne]);return J}function Q(q,N,B){let J="";B=Math.min(q.length,B);for(let ne=N;ne<B;++ne)J+=String.fromCharCode(q[ne]);return J}function X(q,N,B){const J=q.length;(!N||N<0)&&(N=0),(!B||B<0||B>J)&&(B=J);let ne="";for(let re=N;re<B;++re)ne+=oe[q[re]];return ne}function V(q,N,B){const J=q.slice(N,B);let ne="";for(let re=0;re<J.length-1;re+=2)ne+=String.fromCharCode(J[re]+256*J[re+1]);return ne}function H(q,N,B){if(q%1!=0||q<0)throw new RangeError("offset is not uint");if(q+N>B)throw new RangeError("Trying to access beyond buffer length")}function U(q,N,B,J,ne,re){if(!n.isBuffer(q))throw new TypeError('"buffer" argument must be a Buffer instance');if(N>ne||N<re)throw new RangeError('"value" argument is out of bounds');if(B+J>q.length)throw new RangeError("Index out of range")}function k(q,N,B,J,ne){L(N,J,ne,q,B,7);let re=Number(N&BigInt(4294967295));q[B++]=re,re>>=8,q[B++]=re,re>>=8,q[B++]=re,re>>=8,q[B++]=re;let fe=Number(N>>BigInt(32)&BigInt(4294967295));return q[B++]=fe,fe>>=8,q[B++]=fe,fe>>=8,q[B++]=fe,fe>>=8,q[B++]=fe,B}function $(q,N,B,J,ne){L(N,J,ne,q,B,7);let re=Number(N&BigInt(4294967295));q[B+7]=re,re>>=8,q[B+6]=re,re>>=8,q[B+5]=re,re>>=8,q[B+4]=re;let fe=Number(N>>BigInt(32)&BigInt(4294967295));return q[B+3]=fe,fe>>=8,q[B+2]=fe,fe>>=8,q[B+1]=fe,fe>>=8,q[B]=fe,B+8}function ae(q,N,B,J,ne,re){if(B+J>q.length)throw new RangeError("Index out of range");if(B<0)throw new RangeError("Index out of range")}function he(q,N,B,J,ne){return N=+N,B>>>=0,ne||ae(q,0,B,4),o.write(q,N,B,J,23,4),B+4}function ye(q,N,B,J,ne){return N=+N,B>>>=0,ne||ae(q,0,B,8),o.write(q,N,B,J,52,8),B+8}n.prototype.slice=function(q,N){const B=this.length;(q=~~q)<0?(q+=B)<0&&(q=0):q>B&&(q=B),(N=N===void 0?B:~~N)<0?(N+=B)<0&&(N=0):N>B&&(N=B),N<q&&(N=q);const J=this.subarray(q,N);return Object.setPrototypeOf(J,n.prototype),J},n.prototype.readUintLE=n.prototype.readUIntLE=function(q,N,B){q>>>=0,N>>>=0,B||H(q,N,this.length);let J=this[q],ne=1,re=0;for(;++re<N&&(ne*=256);)J+=this[q+re]*ne;return J},n.prototype.readUintBE=n.prototype.readUIntBE=function(q,N,B){q>>>=0,N>>>=0,B||H(q,N,this.length);let J=this[q+--N],ne=1;for(;N>0&&(ne*=256);)J+=this[q+--N]*ne;return J},n.prototype.readUint8=n.prototype.readUInt8=function(q,N){return q>>>=0,N||H(q,1,this.length),this[q]},n.prototype.readUint16LE=n.prototype.readUInt16LE=function(q,N){return q>>>=0,N||H(q,2,this.length),this[q]|this[q+1]<<8},n.prototype.readUint16BE=n.prototype.readUInt16BE=function(q,N){return q>>>=0,N||H(q,2,this.length),this[q]<<8|this[q+1]},n.prototype.readUint32LE=n.prototype.readUInt32LE=function(q,N){return q>>>=0,N||H(q,4,this.length),(this[q]|this[q+1]<<8|this[q+2]<<16)+16777216*this[q+3]},n.prototype.readUint32BE=n.prototype.readUInt32BE=function(q,N){return q>>>=0,N||H(q,4,this.length),16777216*this[q]+(this[q+1]<<16|this[q+2]<<8|this[q+3])},n.prototype.readBigUInt64LE=ve(function(q){G(q>>>=0,"offset");const N=this[q],B=this[q+7];N!==void 0&&B!==void 0||te(q,this.length-8);const J=N+256*this[++q]+65536*this[++q]+this[++q]*2**24,ne=this[++q]+256*this[++q]+65536*this[++q]+B*2**24;return BigInt(J)+(BigInt(ne)<<BigInt(32))}),n.prototype.readBigUInt64BE=ve(function(q){G(q>>>=0,"offset");const N=this[q],B=this[q+7];N!==void 0&&B!==void 0||te(q,this.length-8);const J=N*2**24+65536*this[++q]+256*this[++q]+this[++q],ne=this[++q]*2**24+65536*this[++q]+256*this[++q]+B;return(BigInt(J)<<BigInt(32))+BigInt(ne)}),n.prototype.readIntLE=function(q,N,B){q>>>=0,N>>>=0,B||H(q,N,this.length);let J=this[q],ne=1,re=0;for(;++re<N&&(ne*=256);)J+=this[q+re]*ne;return ne*=128,J>=ne&&(J-=Math.pow(2,8*N)),J},n.prototype.readIntBE=function(q,N,B){q>>>=0,N>>>=0,B||H(q,N,this.length);let J=N,ne=1,re=this[q+--J];for(;J>0&&(ne*=256);)re+=this[q+--J]*ne;return ne*=128,re>=ne&&(re-=Math.pow(2,8*N)),re},n.prototype.readInt8=function(q,N){return q>>>=0,N||H(q,1,this.length),128&this[q]?-1*(255-this[q]+1):this[q]},n.prototype.readInt16LE=function(q,N){q>>>=0,N||H(q,2,this.length);const B=this[q]|this[q+1]<<8;return 32768&B?4294901760|B:B},n.prototype.readInt16BE=function(q,N){q>>>=0,N||H(q,2,this.length);const B=this[q+1]|this[q]<<8;return 32768&B?4294901760|B:B},n.prototype.readInt32LE=function(q,N){return q>>>=0,N||H(q,4,this.length),this[q]|this[q+1]<<8|this[q+2]<<16|this[q+3]<<24},n.prototype.readInt32BE=function(q,N){return q>>>=0,N||H(q,4,this.length),this[q]<<24|this[q+1]<<16|this[q+2]<<8|this[q+3]},n.prototype.readBigInt64LE=ve(function(q){G(q>>>=0,"offset");const N=this[q],B=this[q+7];N!==void 0&&B!==void 0||te(q,this.length-8);const J=this[q+4]+256*this[q+5]+65536*this[q+6]+(B<<24);return(BigInt(J)<<BigInt(32))+BigInt(N+256*this[++q]+65536*this[++q]+this[++q]*2**24)}),n.prototype.readBigInt64BE=ve(function(q){G(q>>>=0,"offset");const N=this[q],B=this[q+7];N!==void 0&&B!==void 0||te(q,this.length-8);const J=(N<<24)+65536*this[++q]+256*this[++q]+this[++q];return(BigInt(J)<<BigInt(32))+BigInt(this[++q]*2**24+65536*this[++q]+256*this[++q]+B)}),n.prototype.readFloatLE=function(q,N){return q>>>=0,N||H(q,4,this.length),o.read(this,q,!0,23,4)},n.prototype.readFloatBE=function(q,N){return q>>>=0,N||H(q,4,this.length),o.read(this,q,!1,23,4)},n.prototype.readDoubleLE=function(q,N){return q>>>=0,N||H(q,8,this.length),o.read(this,q,!0,52,8)},n.prototype.readDoubleBE=function(q,N){return q>>>=0,N||H(q,8,this.length),o.read(this,q,!1,52,8)},n.prototype.writeUintLE=n.prototype.writeUIntLE=function(q,N,B,J){q=+q,N>>>=0,B>>>=0,J||U(this,q,N,B,Math.pow(2,8*B)-1,0);let ne=1,re=0;for(this[N]=255&q;++re<B&&(ne*=256);)this[N+re]=q/ne&255;return N+B},n.prototype.writeUintBE=n.prototype.writeUIntBE=function(q,N,B,J){q=+q,N>>>=0,B>>>=0,J||U(this,q,N,B,Math.pow(2,8*B)-1,0);let ne=B-1,re=1;for(this[N+ne]=255&q;--ne>=0&&(re*=256);)this[N+ne]=q/re&255;return N+B},n.prototype.writeUint8=n.prototype.writeUInt8=function(q,N,B){return q=+q,N>>>=0,B||U(this,q,N,1,255,0),this[N]=255&q,N+1},n.prototype.writeUint16LE=n.prototype.writeUInt16LE=function(q,N,B){return q=+q,N>>>=0,B||U(this,q,N,2,65535,0),this[N]=255&q,this[N+1]=q>>>8,N+2},n.prototype.writeUint16BE=n.prototype.writeUInt16BE=function(q,N,B){return q=+q,N>>>=0,B||U(this,q,N,2,65535,0),this[N]=q>>>8,this[N+1]=255&q,N+2},n.prototype.writeUint32LE=n.prototype.writeUInt32LE=function(q,N,B){return q=+q,N>>>=0,B||U(this,q,N,4,4294967295,0),this[N+3]=q>>>24,this[N+2]=q>>>16,this[N+1]=q>>>8,this[N]=255&q,N+4},n.prototype.writeUint32BE=n.prototype.writeUInt32BE=function(q,N,B){return q=+q,N>>>=0,B||U(this,q,N,4,4294967295,0),this[N]=q>>>24,this[N+1]=q>>>16,this[N+2]=q>>>8,this[N+3]=255&q,N+4},n.prototype.writeBigUInt64LE=ve(function(q,N=0){return k(this,q,N,BigInt(0),BigInt("0xffffffffffffffff"))}),n.prototype.writeBigUInt64BE=ve(function(q,N=0){return $(this,q,N,BigInt(0),BigInt("0xffffffffffffffff"))}),n.prototype.writeIntLE=function(q,N,B,J){if(q=+q,N>>>=0,!J){const _e=Math.pow(2,8*B-1);U(this,q,N,B,_e-1,-_e)}let ne=0,re=1,fe=0;for(this[N]=255&q;++ne<B&&(re*=256);)q<0&&fe===0&&this[N+ne-1]!==0&&(fe=1),this[N+ne]=(q/re|0)-fe&255;return N+B},n.prototype.writeIntBE=function(q,N,B,J){if(q=+q,N>>>=0,!J){const _e=Math.pow(2,8*B-1);U(this,q,N,B,_e-1,-_e)}let ne=B-1,re=1,fe=0;for(this[N+ne]=255&q;--ne>=0&&(re*=256);)q<0&&fe===0&&this[N+ne+1]!==0&&(fe=1),this[N+ne]=(q/re|0)-fe&255;return N+B},n.prototype.writeInt8=function(q,N,B){return q=+q,N>>>=0,B||U(this,q,N,1,127,-128),q<0&&(q=255+q+1),this[N]=255&q,N+1},n.prototype.writeInt16LE=function(q,N,B){return q=+q,N>>>=0,B||U(this,q,N,2,32767,-32768),this[N]=255&q,this[N+1]=q>>>8,N+2},n.prototype.writeInt16BE=function(q,N,B){return q=+q,N>>>=0,B||U(this,q,N,2,32767,-32768),this[N]=q>>>8,this[N+1]=255&q,N+2},n.prototype.writeInt32LE=function(q,N,B){return q=+q,N>>>=0,B||U(this,q,N,4,2147483647,-2147483648),this[N]=255&q,this[N+1]=q>>>8,this[N+2]=q>>>16,this[N+3]=q>>>24,N+4},n.prototype.writeInt32BE=function(q,N,B){return q=+q,N>>>=0,B||U(this,q,N,4,2147483647,-2147483648),q<0&&(q=4294967295+q+1),this[N]=q>>>24,this[N+1]=q>>>16,this[N+2]=q>>>8,this[N+3]=255&q,N+4},n.prototype.writeBigInt64LE=ve(function(q,N=0){return k(this,q,N,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),n.prototype.writeBigInt64BE=ve(function(q,N=0){return $(this,q,N,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),n.prototype.writeFloatLE=function(q,N,B){return he(this,q,N,!0,B)},n.prototype.writeFloatBE=function(q,N,B){return he(this,q,N,!1,B)},n.prototype.writeDoubleLE=function(q,N,B){return ye(this,q,N,!0,B)},n.prototype.writeDoubleBE=function(q,N,B){return ye(this,q,N,!1,B)},n.prototype.copy=function(q,N,B,J){if(!n.isBuffer(q))throw new TypeError("argument should be a Buffer");if(B||(B=0),J||J===0||(J=this.length),N>=q.length&&(N=q.length),N||(N=0),J>0&&J<B&&(J=B),J===B||q.length===0||this.length===0)return 0;if(N<0)throw new RangeError("targetStart out of bounds");if(B<0||B>=this.length)throw new RangeError("Index out of range");if(J<0)throw new RangeError("sourceEnd out of bounds");J>this.length&&(J=this.length),q.length-N<J-B&&(J=q.length-N+B);const ne=J-B;return this===q&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(N,B,J):Uint8Array.prototype.set.call(q,this.subarray(B,J),N),ne},n.prototype.fill=function(q,N,B,J){if(typeof q=="string"){if(typeof N=="string"?(J=N,N=0,B=this.length):typeof B=="string"&&(J=B,B=this.length),J!==void 0&&typeof J!="string")throw new TypeError("encoding must be a string");if(typeof J=="string"&&!n.isEncoding(J))throw new TypeError("Unknown encoding: "+J);if(q.length===1){const re=q.charCodeAt(0);(J==="utf8"&&re<128||J==="latin1")&&(q=re)}}else typeof q=="number"?q&=255:typeof q=="boolean"&&(q=Number(q));if(N<0||this.length<N||this.length<B)throw new RangeError("Out of range index");if(B<=N)return this;let ne;if(N>>>=0,B=B===void 0?this.length:B>>>0,q||(q=0),typeof q=="number")for(ne=N;ne<B;++ne)this[ne]=q;else{const re=n.isBuffer(q)?q:n.from(q,J),fe=re.length;if(fe===0)throw new TypeError('The value "'+q+'" is invalid for argument "value"');for(ne=0;ne<B-N;++ne)this[ne+N]=re[ne%fe]}return this};const I={};function j(q,N,B){I[q]=class extends B{constructor(){super(),Object.defineProperty(this,"message",{value:N.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${q}]`,this.stack,delete this.name}get code(){return q}set code(J){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:J,writable:!0})}toString(){return`${this.name} [${q}]: ${this.message}`}}}function P(q){let N="",B=q.length;const J=q[0]==="-"?1:0;for(;B>=J+4;B-=3)N=`_${q.slice(B-3,B)}${N}`;return`${q.slice(0,B)}${N}`}function L(q,N,B,J,ne,re){if(q>B||q<N){const fe=typeof N=="bigint"?"n":"";let _e;throw _e=N===0||N===BigInt(0)?`>= 0${fe} and < 2${fe} ** ${8*(re+1)}${fe}`:`>= -(2${fe} ** ${8*(re+1)-1}${fe}) and < 2 ** ${8*(re+1)-1}${fe}`,new I.ERR_OUT_OF_RANGE("value",_e,q)}(function(fe,_e,we){G(_e,"offset"),fe[_e]!==void 0&&fe[_e+we]!==void 0||te(_e,fe.length-(we+1))})(J,ne,re)}function G(q,N){if(typeof q!="number")throw new I.ERR_INVALID_ARG_TYPE(N,"number",q)}function te(q,N,B){throw Math.floor(q)!==q?(G(q,B),new I.ERR_OUT_OF_RANGE("offset","an integer",q)):N<0?new I.ERR_BUFFER_OUT_OF_BOUNDS:new I.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${N}`,q)}j("ERR_BUFFER_OUT_OF_BOUNDS",function(q){return q?`${q} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),j("ERR_INVALID_ARG_TYPE",function(q,N){return`The "${q}" argument must be of type number. Received type ${typeof N}`},TypeError),j("ERR_OUT_OF_RANGE",function(q,N,B){let J=`The value of "${q}" is out of range.`,ne=B;return Number.isInteger(B)&&Math.abs(B)>2**32?ne=P(String(B)):typeof B=="bigint"&&(ne=String(B),(B>BigInt(2)**BigInt(32)||B<-(BigInt(2)**BigInt(32)))&&(ne=P(ne)),ne+="n"),J+=` It must be ${N}. Received ${ne}`,J},RangeError);const W=/[^+/0-9A-Za-z-_]/g;function ce(q,N){let B;N=N||1/0;const J=q.length;let ne=null;const re=[];for(let fe=0;fe<J;++fe){if(B=q.charCodeAt(fe),B>55295&&B<57344){if(!ne){if(B>56319){(N-=3)>-1&&re.push(239,191,189);continue}if(fe+1===J){(N-=3)>-1&&re.push(239,191,189);continue}ne=B;continue}if(B<56320){(N-=3)>-1&&re.push(239,191,189),ne=B;continue}B=65536+(ne-55296<<10|B-56320)}else ne&&(N-=3)>-1&&re.push(239,191,189);if(ne=null,B<128){if((N-=1)<0)break;re.push(B)}else if(B<2048){if((N-=2)<0)break;re.push(B>>6|192,63&B|128)}else if(B<65536){if((N-=3)<0)break;re.push(B>>12|224,B>>6&63|128,63&B|128)}else{if(!(B<1114112))throw new Error("Invalid code point");if((N-=4)<0)break;re.push(B>>18|240,B>>12&63|128,B>>6&63|128,63&B|128)}}return re}function de(q){return c.toByteArray((function(N){if((N=(N=N.split("=")[0]).trim().replace(W,"")).length<2)return"";for(;N.length%4!=0;)N+="=";return N})(q))}function Se(q,N,B,J){let ne;for(ne=0;ne<J&&!(ne+B>=N.length||ne>=q.length);++ne)N[ne+B]=q[ne];return ne}function ie(q,N){return q instanceof N||q!=null&&q.constructor!=null&&q.constructor.name!=null&&q.constructor.name===N.name}function me(q){return q!=q}const oe=(function(){const q="0123456789abcdef",N=new Array(256);for(let B=0;B<16;++B){const J=16*B;for(let ne=0;ne<16;++ne)N[J+ne]=q[B]+q[ne]}return N})();function ve(q){return typeof BigInt>"u"?xe:q}function xe(){throw new Error("BigInt not supported")}},48293:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermXsdToDouble=void 0;const c=s(77617),o=s(77545),u=s(92810);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.TypeURL.XSD_DOUBLE],termFunction:!0})}async run(n){return new u.TermFunctionXsdToDouble}}e.ActorFunctionFactoryTermXsdToDouble=i},48393:g=>{g.exports=JSON.parse('{"name":"@comunica/actor-http-fetch","version":"4.5.0","description":"A fetch http actor","lsd:module":true,"license":"MIT","funding":{"type":"opencollective","url":"https://opencollective.com/comunica-association"},"homepage":"https://comunica.dev/","repository":{"type":"git","url":"https://github.com/comunica/comunica.git","directory":"packages/actor-http-fetch"},"bugs":{"url":"https://github.com/comunica/comunica/issues"},"keywords":["comunica","runner"],"sideEffects":false,"main":"lib/index.js","typings":"lib/index","publishConfig":{"access":"public"},"files":["components","lib/**/*.d.ts","lib/**/*.js","lib/**/*.js.map"],"scripts":{"build":"yarn run build:ts && yarn run build:components","build:ts":"node \\"../../node_modules/typescript/bin/tsc\\"","build:components":"componentsjs-generator"},"dependencies":{"@comunica/bus-http":"^4.5.0","@comunica/context-entries":"^4.5.0","@comunica/core":"^4.5.0","@comunica/mediatortype-time":"^4.5.0"},"browser":{"./lib/FetchInitPreprocessor.js":"./lib/FetchInitPreprocessor-browser.js"},"gitHead":"2bcd98c387a021fc5c08d375793c205ca3d1bf0d"}')},48430:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionRand=void 0;const c=s(77617),o=s(77545);class u extends c.TermFunctionBase{constructor(){super({arity:0,operator:o.SparqlOperator.RAND,overloads:(0,o.declare)(o.SparqlOperator.RAND).set([],()=>()=>(0,o.double)(Math.random())).collect()})}}e.TermFunctionRand=u},48642:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SparqlXmlParser=void 0;const c=s(47793),o=s(55201),u=s(19198);e.SparqlXmlParser=class{constructor(i){i=i||{},this.dataFactory=i.dataFactory||new c.DataFactory,this.prefixVariableQuestionMark=!!i.prefixVariableQuestionMark}parseXmlResultsStream(i){const r=_=>v.emit("error",_);i.on("error",r);const n=new o.SaxesParser,t=[];let a=!1,l=!1;const d=[];let p,f={},h="",y="",m="",b=[];n.on("error",r),n.on("opentag",_=>{_.name==="variable"&&this.stackEquals(t,["sparql","head"])?d.push(this.dataFactory.variable(_.attributes.name)):_.name==="results"&&this.stackEquals(t,["sparql"])?l=!0:_.name==="result"&&this.stackEquals(t,["sparql","results"])?f={}:_.name==="binding"&&this.stackEquals(t,["sparql","results","result"])?(h=_.attributes.name||"",y="",p="",m="",b=[]):_.name==="triple"&&this.stackBeginsWith(t,["sparql","results","result"])?b.push({components:{}}):t[t.length-1]==="triple"&&this.stackBeginsWith(t,["sparql","results","result","binding"])?(y="",p="",m="",["subject","predicate","object"].includes(_.name)?b[b.length-1].currentComponent=_.name:r(new Error(`Illegal quoted triple component '${_.name}' found on line ${n.line+1}`))):this.stackBeginsWith(t,["sparql","results","result","binding"])&&(y=_.name,p="xml:lang"in _.attributes?_.attributes["xml:lang"]:"datatype"in _.attributes?this.dataFactory.namedNode(_.attributes.datatype):void 0),t.push(_.name)}),n.on("closetag",_=>{if(this.stackEquals(t,["sparql","head"])&&(v.emit("variables",d),a=!0),this.stackEquals(t,["sparql","results","result"])&&v.push(f),this.stackBeginsWith(t,["sparql","results","result","binding"])){let w;if(!h&&y)r(new Error(`Terms should have a name on line ${n.line+1}`));else if(y==="uri")w=this.dataFactory.namedNode(m);else if(y==="bnode")w=this.dataFactory.blankNode(m);else if(y==="literal")w=this.dataFactory.literal(m,p);else if(t[t.length-1]==="triple"){const S=b.pop();S&&S.components.subject&&S.components.predicate&&S.components.object?w=this.dataFactory.quad(S.components.subject,S.components.predicate,S.components.object):r(new Error(`Incomplete quoted triple on line ${n.line+1}`))}else y&&r(new Error(`Invalid term type '${y}' on line ${n.line+1}`));if(w)if(b.length>0){const S=b[b.length-1];S.components[S.currentComponent]&&r(new Error(`The ${S.currentComponent} in a quoted triple on line ${n.line+1} was already defined before`)),S.components[S.currentComponent]=w}else{const S=this.prefixVariableQuestionMark?"?"+h:h;f[S]=w}y=void 0}t.pop()}),n.on("text",_=>{this.stackBeginsWith(t,["sparql","results","result","binding"])&&t[t.length-1]===y&&(m=_)});const v=i.on("end",_=>{l?a||v.emit("variables",[]):v.emit("error",new Error("No valid SPARQL query results were found."))}).pipe(new u.Transform({objectMode:!0,transform(_,w,S){n.write(_),S()}}));return v}parseXmlBooleanStream(i){return new Promise((r,n)=>{const t=new o.SaxesParser,a=[];t.on("error",n),t.on("opentag",l=>{a.push(l.name)}),t.on("closetag",l=>{a.pop()}),t.on("text",l=>{this.stackEquals(a,["sparql","boolean"])&&r(l==="true")}),i.on("error",n).on("data",l=>t.write(l)).on("end",()=>n(new Error("No valid ASK response was found.")))})}stackEquals(i,r){return i.length===r.length&&i.every((n,t)=>r[t]===n)}stackBeginsWith(i,r){return i.length>=r.length&&r.every((n,t)=>i[t]===n)}}},48715:function(g,e,s){var c=this&&this.__awaiter||function(d,p,f,h){return new(f||(f=Promise))(function(y,m){function b(w){try{_(h.next(w))}catch(S){m(S)}}function v(w){try{_(h.throw(w))}catch(S){m(S)}}function _(w){var S;w.done?y(w.value):(S=w.value,S instanceof f?S:new f(function(x){x(S)})).then(b,v)}_((h=h.apply(d,p||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.SparqlEndpointFetcher=void 0;const o=s(31232),u=s(25828),i=s(65806),r=s(98082),n=s(64313),t=s(79644),a=s(43789);class l{constructor(p){var f,h,y,m,b;this.method=(f=p?.method)!==null&&f!==void 0?f:"POST",this.timeout=p?.timeout,this.forceGetIfUrlLengthBelow=(h=p?.forceGetIfUrlLengthBelow)!==null&&h!==void 0?h:0,this.directPost=(y=p?.directPost)!==null&&y!==void 0&&y,this.additionalUrlParams=(m=p?.additionalUrlParams)!==null&&m!==void 0?m:new URLSearchParams,this.defaultHeaders=(b=p?.defaultHeaders)!==null&&b!==void 0?b:new Headers,this.fetchCb=p?.fetch,this.sparqlJsonParser=new n.SparqlJsonParser(p),this.sparqlXmlParser=new t.SparqlXmlParser(p),this.sparqlParsers={[l.CONTENTTYPE_SPARQL_JSON]:{parseBooleanStream:v=>this.sparqlJsonParser.parseJsonBooleanStream(v),parseResultsStream:v=>this.sparqlJsonParser.parseJsonResultsStream(v)},[l.CONTENTTYPE_SPARQL_XML]:{parseBooleanStream:v=>this.sparqlXmlParser.parseXmlBooleanStream(v),parseResultsStream:v=>this.sparqlXmlParser.parseXmlResultsStream(v)}}}getQueryType(p){const f=new r.Parser({sparqlStar:!0}).parse(p);return f.type==="query"?f.queryType==="DESCRIBE"?"CONSTRUCT":f.queryType:"UNKNOWN"}getUpdateTypes(p){const f=new r.Parser({sparqlStar:!0}).parse(p);if(f.type==="update"){const h={};for(const y of f.updates)"type"in y?h[y.type]=!0:h[y.updateType]=!0;return h}return"UNKNOWN"}fetchBindings(p,f){return c(this,void 0,void 0,function*(){const[h,y]=yield this.fetchRawStream(p,f,l.CONTENTTYPE_SPARQL),m=this.sparqlParsers[h];if(!m)throw new Error(`Unknown SPARQL results content type: ${h}`);return m.parseResultsStream(y)})}fetchAsk(p,f){return c(this,void 0,void 0,function*(){const[h,y]=yield this.fetchRawStream(p,f,l.CONTENTTYPE_SPARQL),m=this.sparqlParsers[h];if(!m)throw new Error(`Unknown SPARQL results content type: ${h}`);return m.parseBooleanStream(y)})}fetchTriples(p,f){return c(this,void 0,void 0,function*(){const[h,y]=yield this.fetchRawStream(p,f,l.CONTENTTYPE_TURTLE);return y.pipe(new u.StreamParser({format:h}))})}fetchUpdate(p,f){return c(this,void 0,void 0,function*(){const h=new AbortController,y={};this.defaultHeaders.forEach((b,v)=>{y[v]=b});const m={method:"POST",headers:Object.assign(Object.assign({},y),{"content-type":"application/sparql-update"}),body:f,signal:h.signal};yield this.handleFetchCall(p,m,{ignoreBody:!0}),h.abort()})}fetchRawStream(p,f,h){return c(this,void 0,void 0,function*(){let y,m,b;if(this.method==="POST"&&this.forceGetIfUrlLengthBelow<=p.length)y=this.method,m=p;else{const _=`${p}?query=${encodeURIComponent(f)}`;y=this.method==="GET"||_.length<this.forceGetIfUrlLengthBelow?"GET":"POST",m=y==="POST"?p:_}const v=new Headers(this.defaultHeaders);if(v.append("Accept",h),y==="POST"){if(this.directPost)v.append("Content-Type","application/sparql-query"),b=f,this.additionalUrlParams.toString().length>0&&(m+=`?${this.additionalUrlParams.toString()}`);else{v.append("Content-Type","application/x-www-form-urlencoded"),b=new URLSearchParams,b.set("query",f);for(const[_,w]of this.additionalUrlParams.entries())b.set(_,w)}v.append("Content-Length",b.toString().length.toString())}else this.additionalUrlParams.toString().length>0&&(m+=`&${this.additionalUrlParams.toString()}`);return this.handleFetchCall(m,{headers:v,method:y,body:b})})}handleFetchCall(p,f,h){return c(this,void 0,void 0,function*(){var y,m,b;let v,_;if(this.timeout){const S=new AbortController;f.signal=S.signal,v=setTimeout(()=>S.abort(),this.timeout)}const w=yield((y=this.fetchCb)!==null&&y!==void 0?y:fetch)(p,f);if(clearTimeout(v),!h?.ignoreBody&&w.body&&(_=o(w.body)?w.body:(0,i.readableFromWeb)(w.body)),!w.ok||!_&&!h?.ignoreBody){const S=p.split("?").at(0),x=_?yield a(_):"empty response";throw new Error(`Invalid SPARQL endpoint response from ${S} (HTTP status ${w.status}):
${x}`)}return[(b=(m=w.headers.get("Content-Type"))===null||m===void 0?void 0:m.split(";").at(0))!==null&&b!==void 0?b:"",_]})}}e.SparqlEndpointFetcher=l,l.CONTENTTYPE_SPARQL_JSON="application/sparql-results+json",l.CONTENTTYPE_SPARQL_XML="application/sparql-results+xml",l.CONTENTTYPE_TURTLE="text/turtle",l.CONTENTTYPE_SPARQL=`${l.CONTENTTYPE_SPARQL_JSON};q=1.0,${l.CONTENTTYPE_SPARQL_XML};q=0.7`},48758:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(97969),e)},48767:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermSha256=void 0;const c=s(77617),o=s(77545),u=s(36706);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.SparqlOperator.SHA256],termFunction:!0})}async run(n){return new u.TermFunctionSha256}}e.ActorFunctionFactoryTermSha256=i},48904:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermStrLang=void 0;const c=s(77617),o=s(77545),u=s(21115);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.SparqlOperator.STRLANG],termFunction:!0})}async run(n){return new u.TermFunctionStrLang}}e.ActorFunctionFactoryTermStrLang=i},48952:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(30626),e)},48958:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getExpressionVariables=void 0;const c=s(3285),o=s(96331);e.getExpressionVariables=function u(i){switch(i.expressionType){case o.Algebra.expressionTypes.AGGREGATE:case o.Algebra.expressionTypes.WILDCARD:throw new Error(`Getting expression variables is not supported for ${i.expressionType}`);case o.Algebra.expressionTypes.EXISTENCE:return o.Util.inScopeVariables(i.input);case o.Algebra.expressionTypes.NAMED:return[];case o.Algebra.expressionTypes.OPERATOR:return(0,c.uniqTerms)(i.args.flatMap(r=>u(r)));case o.Algebra.expressionTypes.TERM:return i.term.termType==="Variable"?[i.term]:[]}}},49060:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(64212),e)},49176:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermStrBefore=void 0;const c=s(77617),o=s(77545),u=s(19831);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.SparqlOperator.STRBEFORE],termFunction:!0})}async run(n){return new u.TermFunctionStrBefore}}e.ActorFunctionFactoryTermStrBefore=i},49251:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.stringQuadToQuad=e.quadToStringQuad=e.stringToTerm=e.getLiteralLanguage=e.getLiteralType=e.getLiteralValue=e.termToString=void 0;const c=new(s(47793)).DataFactory;function o(t){if(t)switch(t.termType){case"NamedNode":case"DefaultGraph":return t.value;case"BlankNode":return"_:"+t.value;case"Literal":const a=t;return'"'+a.value+'"'+(a.datatype&&a.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&a.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?"^^"+a.datatype.value:"")+(a.language?"@"+a.language:"");case"Quad":return`<<${o(t.subject)} ${o(t.predicate)} ${o(t.object)}${t.graph.termType==="DefaultGraph"?"":" "+o(t.graph)}>>`;case"Variable":return"?"+t.value}}function u(t){const a=/^"([^]*)"/.exec(t);if(!a)throw new Error(t+" is not a literal");return a[1]}function i(t){const a=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(t);if(!a)throw new Error(t+" is not a literal");return a[1]||(a[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}function r(t){const a=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(t);if(!a)throw new Error(t+" is not a literal");return a[1]?a[1].toLowerCase():""}function n(t,a){if(a=a||c,!t||!t.length)return a.defaultGraph();switch(t[0]){case"_":return a.blankNode(t.substr(2));case"?":if(!a.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return a.variable(t.substr(1));case'"':const l=r(t),d=a.namedNode(i(t));return a.literal(u(t),l||d);default:if(t[0]==="<"&&t.length>4&&t[1]==="<"&&t[t.length-1]===">"&&t[t.length-2]===">"){const p=t.slice(2,-2).trim();let f=[],h=0,y=0,m=!1;for(let b=0;b<p.length;b++){const v=p[b];if(v==="<"&&h++,v===">"){if(h===0)throw new Error("Found closing tag without opening tag in "+t);h--}if(v==='"'){let _=!1,w=b;for(;w-- >0&&p[w]==="\\";)_=!_;_||(m=!m)}if(v===" "&&!m&&h===0){for(f.push(p.slice(y,b));p[b+1]===" ";)b+=1;y=b+1}}if(h!==0)throw new Error("Found opening tag without closing tag in "+t);if(f.push(p.slice(y,p.length)),f.length!==3&&f.length!==4)throw new Error("Nested quad syntax error "+t);return f=f.map(b=>b.startsWith("<")&&!b.includes(" ")?b.slice(1,-1):b),a.quad(n(f[0]),n(f[1]),n(f[2]),f[3]?n(f[3]):void 0)}return a.namedNode(t)}}e.termToString=o,e.getLiteralValue=u,e.getLiteralType=i,e.getLiteralLanguage=r,e.stringToTerm=n,e.quadToStringQuad=function(t){return{subject:o(t.subject),predicate:o(t.predicate),object:o(t.object),graph:o(t.graph)}},e.stringQuadToQuad=function(t,a){return(a=a||c).quad(n(t.subject,a),n(t.predicate,a),n(t.object,a),n(t.graph,a))}},49562:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionYear=void 0;const c=s(77617),o=s(77545);class u extends c.TermFunctionBase{constructor(){super({arity:1,operator:o.SparqlOperator.YEAR,overloads:(0,o.declare)(o.SparqlOperator.YEAR).onDateTime1(()=>r=>(0,o.integer)(r.typedValue.year)).set([o.TypeURL.XSD_DATE],()=>([r])=>(0,o.integer)(r.typedValue.year)).collect()})}}e.TermFunctionYear=u},49568:(g,e,s)=>{s.r(e),s.d(e,{Collection:()=>a,Iterable:()=>Xt,List:()=>Xn,Map:()=>un,OrderedMap:()=>Nr,OrderedSet:()=>Zn,PairSorting:()=>nt,Range:()=>Dr,Record:()=>tt,Repeat:()=>be,Seq:()=>de,Set:()=>Zr,Stack:()=>Qr,fromJS:()=>$r,get:()=>Gi,getIn:()=>Yi,has:()=>$i,hasIn:()=>Dn,hash:()=>je,is:()=>dt,isAssociative:()=>r,isCollection:()=>t,isImmutable:()=>j,isIndexed:()=>o,isKeyed:()=>i,isList:()=>Ir,isMap:()=>Gn,isOrdered:()=>L,isOrderedMap:()=>zi,isOrderedSet:()=>_i,isPlainObject:()=>Vt,isRecord:()=>I,isSeq:()=>te,isSet:()=>br,isStack:()=>Ut,isValueObject:()=>lt,merge:()=>wn,mergeDeep:()=>$n,mergeDeepWith:()=>sr,mergeWith:()=>Xr,remove:()=>Pn,removeIn:()=>Ur,set:()=>Ja,setIn:()=>sn,update:()=>wt,updateIn:()=>nr,version:()=>ia});var c="@@__IMMUTABLE_INDEXED__@@";function o(A){return!!(A&&A[c])}var u="@@__IMMUTABLE_KEYED__@@";function i(A){return!!(A&&A[u])}function r(A){return i(A)||o(A)}var n="@@__IMMUTABLE_ITERABLE__@@";function t(A){return!!(A&&A[n])}var a=function(A){return t(A)?A:de(A)},l=(function(A){function D(C){return i(C)?C:Se(C)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D})(a),d=(function(A){function D(C){return o(C)?C:ie(C)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D})(a),p=(function(A){function D(C){return t(C)&&!r(C)?C:me(C)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D})(a);a.Keyed=l,a.Indexed=d,a.Set=p;var f=typeof Symbol=="function"&&Symbol.iterator,h="@@iterator",y=f||h,m=function(A){this.next=A};function b(A,D,C,z){var K=A===0?D:A===1?C:[D,C];return z?z.value=K:z={value:K,done:!1},z}function v(){return{value:void 0,done:!0}}function _(A){return!!Array.isArray(A)||!!x(A)}function w(A){return!(!A||typeof A.next!="function")}function S(A){var D=x(A);return D&&D.call(A)}function x(A){var D=A&&(f&&A[f]||A[h]);if(typeof D=="function")return D}m.prototype.toString=function(){return"[Iterator]"},m.KEYS=0,m.VALUES=1,m.ENTRIES=2,m.prototype.inspect=m.prototype.toSource=function(){return this.toString()},m.prototype[y]=function(){return this};var T="delete",O=32,E=31,R={};function M(A){A&&(A.value=!0)}function Q(){}function X(A){return A.size===void 0&&(A.size=A.__iterate(H)),A.size}function V(A,D){if(typeof D!="number"){var C=D>>>0;if(""+C!==D||C===4294967295)return NaN;D=C}return D<0?X(A)+D:D}function H(){return!0}function U(A,D,C){return(A===0&&!he(A)||C!==void 0&&A<=-C)&&(D===void 0||C!==void 0&&D>=C)}function k(A,D){return ae(A,D,0)}function $(A,D){return ae(A,D,D)}function ae(A,D,C){return A===void 0?C:he(A)?D===1/0?D:0|Math.max(0,D+A):D===void 0||D===A?A:0|Math.min(D,A)}function he(A){return A<0||A===0&&1/A==-1/0}var ye="@@__IMMUTABLE_RECORD__@@";function I(A){return!!(A&&A[ye])}function j(A){return t(A)||I(A)}var P="@@__IMMUTABLE_ORDERED__@@";function L(A){return!!(A&&A[P])}var G="@@__IMMUTABLE_SEQ__@@";function te(A){return!!(A&&A[G])}var W=Object.prototype.hasOwnProperty;function ce(A){return!(!Array.isArray(A)&&typeof A!="string")||A&&typeof A=="object"&&Number.isInteger(A.length)&&A.length>=0&&(A.length===0?Object.keys(A).length===1:A.hasOwnProperty(A.length-1))}var de=(function(A){function D(C){return C==null?N():j(C)?C.toSeq():(function(z){var K,Z,se=ne(z);if(se)return(Z=x(K=z))&&Z===K.entries?se.fromEntrySeq():(function(Oe){var Le=x(Oe);return Le&&Le===Oe.keys})(z)?se.toSetSeq():se;if(typeof z=="object")return new ve(z);throw new TypeError("Expected Array or collection object of values, or keyed object: "+z)})(C)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.toSeq=function(){return this},D.prototype.toString=function(){return this.__toString("Seq {","}")},D.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},D.prototype.__iterate=function(C,z){var K=this._cache;if(K){for(var Z=K.length,se=0;se!==Z;){var Oe=K[z?Z-++se:se++];if(C(Oe[1],Oe[0],this)===!1)break}return se}return this.__iterateUncached(C,z)},D.prototype.__iterator=function(C,z){var K=this._cache;if(K){var Z=K.length,se=0;return new m(function(){if(se===Z)return{value:void 0,done:!0};var Oe=K[z?Z-++se:se++];return b(C,Oe[0],Oe[1])})}return this.__iteratorUncached(C,z)},D})(a),Se=(function(A){function D(C){return C==null?N().toKeyedSeq():t(C)?i(C)?C.toSeq():C.fromEntrySeq():I(C)?C.toSeq():B(C)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.toKeyedSeq=function(){return this},D})(de),ie=(function(A){function D(C){return C==null?N():t(C)?i(C)?C.entrySeq():C.toIndexedSeq():I(C)?C.toSeq().entrySeq():J(C)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.of=function(){return D(arguments)},D.prototype.toIndexedSeq=function(){return this},D.prototype.toString=function(){return this.__toString("Seq [","]")},D})(de),me=(function(A){function D(C){return(t(C)&&!r(C)?C:ie(C)).toSetSeq()}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.of=function(){return D(arguments)},D.prototype.toSetSeq=function(){return this},D})(de);de.isSeq=te,de.Keyed=Se,de.Set=me,de.Indexed=ie,de.prototype[G]=!0;var oe=(function(A){function D(C){this._array=C,this.size=C.length}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.get=function(C,z){return this.has(C)?this._array[V(this,C)]:z},D.prototype.__iterate=function(C,z){for(var K=this._array,Z=K.length,se=0;se!==Z;){var Oe=z?Z-++se:se++;if(C(K[Oe],Oe,this)===!1)break}return se},D.prototype.__iterator=function(C,z){var K=this._array,Z=K.length,se=0;return new m(function(){if(se===Z)return{value:void 0,done:!0};var Oe=z?Z-++se:se++;return b(C,Oe,K[Oe])})},D})(ie),ve=(function(A){function D(C){var z=Object.keys(C).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(C):[]);this._object=C,this._keys=z,this.size=z.length}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.get=function(C,z){return z===void 0||this.has(C)?this._object[C]:z},D.prototype.has=function(C){return W.call(this._object,C)},D.prototype.__iterate=function(C,z){for(var K=this._object,Z=this._keys,se=Z.length,Oe=0;Oe!==se;){var Le=Z[z?se-++Oe:Oe++];if(C(K[Le],Le,this)===!1)break}return Oe},D.prototype.__iterator=function(C,z){var K=this._object,Z=this._keys,se=Z.length,Oe=0;return new m(function(){if(Oe===se)return{value:void 0,done:!0};var Le=Z[z?se-++Oe:Oe++];return b(C,Le,K[Le])})},D})(Se);ve.prototype[P]=!0;var xe,q=(function(A){function D(C){this._collection=C,this.size=C.length||C.size}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.__iterateUncached=function(C,z){if(z)return this.cacheResult().__iterate(C,z);var K=S(this._collection),Z=0;if(w(K))for(var se;!(se=K.next()).done&&C(se.value,Z++,this)!==!1;);return Z},D.prototype.__iteratorUncached=function(C,z){if(z)return this.cacheResult().__iterator(C,z);var K=S(this._collection);if(!w(K))return new m(v);var Z=0;return new m(function(){var se=K.next();return se.done?se:b(C,Z++,se.value)})},D})(ie);function N(){return xe||(xe=new oe([]))}function B(A){var D=ne(A);if(D)return D.fromEntrySeq();if(typeof A=="object")return new ve(A);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+A)}function J(A){var D=ne(A);if(D)return D;throw new TypeError("Expected Array or collection object of values: "+A)}function ne(A){return ce(A)?new oe(A):_(A)?new q(A):void 0}function re(){return this.__ensureOwner()}function fe(){return this.__ownerID?this:this.__ensureOwner(new Q)}var _e=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(A,D){var C=65535&(A|=0),z=65535&(D|=0);return C*z+((A>>>16)*z+C*(D>>>16)<<16>>>0)|0};function we(A){return A>>>1&1073741824|3221225471&A}var Pe=Object.prototype.valueOf;function je(A){if(A==null)return Ie(A);if(typeof A.hashCode=="function")return we(A.hashCode(A));var D,C,z,K=(D=A).valueOf!==Pe&&typeof D.valueOf=="function"?D.valueOf(D):D;if(K==null)return Ie(K);switch(typeof K){case"boolean":return K?1108378657:1108378656;case"number":return(function(Z){if(Z!=Z||Z===1/0)return 0;var se=0|Z;for(se!==Z&&(se^=4294967295*Z);Z>4294967295;)se^=Z/=4294967295;return we(se)})(K);case"string":return K.length>it?((z=pt[C=K])===void 0&&(z=ue(C),rt===st&&(rt=0,pt={}),rt++,pt[C]=z),z):ue(K);case"object":case"function":return(function(Z){var se;if(He&&(se=Be.get(Z))!==void 0||(se=Z[Ke])!==void 0||!Me&&((se=Z.propertyIsEnumerable&&Z.propertyIsEnumerable[Ke])!==void 0||(se=(function(Oe){if(Oe&&Oe.nodeType>0)switch(Oe.nodeType){case 1:return Oe.uniqueID;case 9:return Oe.documentElement&&Oe.documentElement.uniqueID}})(Z))!==void 0))return se;if(se=qe(),He)Be.set(Z,se);else{if(ge!==void 0&&ge(Z)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(Me)Object.defineProperty(Z,Ke,{enumerable:!1,configurable:!1,writable:!1,value:se});else if(Z.propertyIsEnumerable!==void 0&&Z.propertyIsEnumerable===Z.constructor.prototype.propertyIsEnumerable)Z.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},Z.propertyIsEnumerable[Ke]=se;else{if(Z.nodeType===void 0)throw new Error("Unable to set a non-enumerable property on object.");Z[Ke]=se}}return se})(K);case"symbol":return(function(Z){var se=Ae[Z];return se!==void 0||(se=qe(),Ae[Z]=se),se})(K);default:if(typeof K.toString=="function")return ue(K.toString());throw new Error("Value type "+typeof K+" cannot be hashed.")}}function Ie(A){return A===null?1108378658:1108378659}function ue(A){for(var D=0,C=0;C<A.length;C++)D=31*D+A.charCodeAt(C)|0;return we(D)}var ge=Object.isExtensible,Me=(function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}})();function qe(){var A=++Te;return 1073741824&Te&&(Te=0),A}var Be,He=typeof WeakMap=="function";He&&(Be=new WeakMap);var Ae=Object.create(null),Te=0,Ke="__immutablehash__";typeof Symbol=="function"&&(Ke=Symbol(Ke));var it=16,st=255,rt=0,pt={},mt=(function(A){function D(C,z){this._iter=C,this._useKeys=z,this.size=C.size}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.get=function(C,z){return this._iter.get(C,z)},D.prototype.has=function(C){return this._iter.has(C)},D.prototype.valueSeq=function(){return this._iter.valueSeq()},D.prototype.reverse=function(){var C=this,z=pe(this,!0);return this._useKeys||(z.valueSeq=function(){return C._iter.toSeq().reverse()}),z},D.prototype.map=function(C,z){var K=this,Z=ee(this,C,z);return this._useKeys||(Z.valueSeq=function(){return K._iter.toSeq().map(C,z)}),Z},D.prototype.__iterate=function(C,z){var K=this;return this._iter.__iterate(function(Z,se){return C(Z,se,K)},z)},D.prototype.__iterator=function(C,z){return this._iter.__iterator(C,z)},D})(Se);mt.prototype[P]=!0;var at=(function(A){function D(C){this._iter=C,this.size=C.size}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.includes=function(C){return this._iter.includes(C)},D.prototype.__iterate=function(C,z){var K=this,Z=0;return z&&X(this),this._iter.__iterate(function(se){return C(se,z?K.size-++Z:Z++,K)},z)},D.prototype.__iterator=function(C,z){var K=this,Z=this._iter.__iterator(1,z),se=0;return z&&X(this),new m(function(){var Oe=Z.next();return Oe.done?Oe:b(C,z?K.size-++se:se++,Oe.value,Oe)})},D})(ie),Ne=(function(A){function D(C){this._iter=C,this.size=C.size}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.has=function(C){return this._iter.includes(C)},D.prototype.__iterate=function(C,z){var K=this;return this._iter.__iterate(function(Z){return C(Z,Z,K)},z)},D.prototype.__iterator=function(C,z){var K=this._iter.__iterator(1,z);return new m(function(){var Z=K.next();return Z.done?Z:b(C,Z.value,Z.value,Z)})},D})(me),F=(function(A){function D(C){this._iter=C,this.size=C.size}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.entrySeq=function(){return this._iter.toSeq()},D.prototype.__iterate=function(C,z){var K=this;return this._iter.__iterate(function(Z){if(Z){ot(Z);var se=t(Z);return C(se?Z.get(1):Z[1],se?Z.get(0):Z[0],K)}},z)},D.prototype.__iterator=function(C,z){var K=this._iter.__iterator(1,z);return new m(function(){for(;;){var Z=K.next();if(Z.done)return Z;var se=Z.value;if(se){ot(se);var Oe=t(se);return b(C,Oe?se.get(0):se[0],Oe?se.get(1):se[1],Z)}}})},D})(Se);function Y(A){var D=Ye(A);return D._iter=A,D.size=A.size,D.flip=function(){return A},D.reverse=function(){var C=A.reverse.apply(this);return C.flip=function(){return A.reverse()},C},D.has=function(C){return A.includes(C)},D.includes=function(C){return A.has(C)},D.cacheResult=Dt,D.__iterateUncached=function(C,z){var K=this;return A.__iterate(function(Z,se){return C(se,Z,K)!==!1},z)},D.__iteratorUncached=function(C,z){if(C===2){var K=A.__iterator(C,z);return new m(function(){var Z=K.next();if(!Z.done){var se=Z.value[0];Z.value[0]=Z.value[1],Z.value[1]=se}return Z})}return A.__iterator(C===1?0:1,z)},D}function ee(A,D,C){var z=Ye(A);return z.size=A.size,z.has=function(K){return A.has(K)},z.get=function(K,Z){var se=A.get(K,R);return se===R?Z:D.call(C,se,K,A)},z.__iterateUncached=function(K,Z){var se=this;return A.__iterate(function(Oe,Le,ke){return K(D.call(C,Oe,Le,ke),Le,se)!==!1},Z)},z.__iteratorUncached=function(K,Z){var se=A.__iterator(2,Z);return new m(function(){var Oe=se.next();if(Oe.done)return Oe;var Le=Oe.value,ke=Le[0];return b(K,ke,D.call(C,Le[1],ke,A),Oe)})},z}function pe(A,D){var C=this,z=Ye(A);return z._iter=A,z.size=A.size,z.reverse=function(){return A},A.flip&&(z.flip=function(){var K=Y(A);return K.reverse=function(){return A.flip()},K}),z.get=function(K,Z){return A.get(D?K:-1-K,Z)},z.has=function(K){return A.has(D?K:-1-K)},z.includes=function(K){return A.includes(K)},z.cacheResult=Dt,z.__iterate=function(K,Z){var se=this,Oe=0;return Z&&X(A),A.__iterate(function(Le,ke){return K(Le,D?ke:Z?se.size-++Oe:Oe++,se)},!Z)},z.__iterator=function(K,Z){var se=0;Z&&X(A);var Oe=A.__iterator(2,!Z);return new m(function(){var Le=Oe.next();if(Le.done)return Le;var ke=Le.value;return b(K,D?ke[0]:Z?C.size-++se:se++,ke[1],Le)})},z}function Re(A,D,C,z){var K=Ye(A);return z&&(K.has=function(Z){var se=A.get(Z,R);return se!==R&&!!D.call(C,se,Z,A)},K.get=function(Z,se){var Oe=A.get(Z,R);return Oe!==R&&D.call(C,Oe,Z,A)?Oe:se}),K.__iterateUncached=function(Z,se){var Oe=this,Le=0;return A.__iterate(function(ke,Qe,We){if(D.call(C,ke,Qe,We))return Le++,Z(ke,z?Qe:Le-1,Oe)},se),Le},K.__iteratorUncached=function(Z,se){var Oe=A.__iterator(2,se),Le=0;return new m(function(){for(;;){var ke=Oe.next();if(ke.done)return ke;var Qe=ke.value,We=Qe[0],et=Qe[1];if(D.call(C,et,We,A))return b(Z,z?We:Le++,et,ke)}})},K}function Fe(A,D,C,z){var K=A.size;if(U(D,C,K))return A;if(K===void 0&&(D<0||C<0))return Fe(A.toSeq().cacheResult(),D,C,z);var Z,se=k(D,K),Oe=$(C,K)-se;Oe==Oe&&(Z=Oe<0?0:Oe);var Le=Ye(A);return Le.size=Z===0?Z:A.size&&Z||void 0,!z&&te(A)&&Z>=0&&(Le.get=function(ke,Qe){return(ke=V(this,ke))>=0&&ke<Z?A.get(ke+se,Qe):Qe}),Le.__iterateUncached=function(ke,Qe){var We=this;if(Z===0)return 0;if(Qe)return this.cacheResult().__iterate(ke,Qe);var et=0,ut=!0,ct=0;return A.__iterate(function(kt,Jt){if(!ut||!(ut=et++<se))return ct++,ke(kt,z?Jt:ct-1,We)!==!1&&ct!==Z}),ct},Le.__iteratorUncached=function(ke,Qe){if(Z!==0&&Qe)return this.cacheResult().__iterator(ke,Qe);if(Z===0)return new m(v);var We=A.__iterator(ke,Qe),et=0,ut=0;return new m(function(){for(;et++<se;)We.next();if(++ut>Z)return{value:void 0,done:!0};var ct=We.next();return z||ke===1||ct.done?ct:b(ke,ut-1,ke===0?void 0:ct.value[1],ct)})},Le}function Ee(A,D,C,z){var K=Ye(A);return K.__iterateUncached=function(Z,se){var Oe=this;if(se)return this.cacheResult().__iterate(Z,se);var Le=!0,ke=0;return A.__iterate(function(Qe,We,et){if(!Le||!(Le=D.call(C,Qe,We,et)))return ke++,Z(Qe,z?We:ke-1,Oe)}),ke},K.__iteratorUncached=function(Z,se){var Oe=this;if(se)return this.cacheResult().__iterator(Z,se);var Le=A.__iterator(2,se),ke=!0,Qe=0;return new m(function(){var We,et,ut;do{if((We=Le.next()).done)return z||Z===1?We:b(Z,Qe++,Z===0?void 0:We.value[1],We);var ct=We.value;et=ct[0],ut=ct[1],ke&&(ke=D.call(C,ut,et,Oe))}while(ke);return Z===2?We:b(Z,et,ut,We)})},K}at.prototype.cacheResult=mt.prototype.cacheResult=Ne.prototype.cacheResult=F.prototype.cacheResult=Dt;var De=(function(A){function D(C){this._wrappedIterables=C.flatMap(function(z){return z._wrappedIterables?z._wrappedIterables:[z]}),this.size=this._wrappedIterables.reduce(function(z,K){if(z!==void 0){var Z=K.size;if(Z!==void 0)return z+Z}},0),this[u]=this._wrappedIterables[0][u],this[c]=this._wrappedIterables[0][c],this[P]=this._wrappedIterables[0][P]}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.__iterateUncached=function(C,z){if(this._wrappedIterables.length!==0){if(z)return this.cacheResult().__iterate(C,z);for(var K=0,Z=i(this),se=Z?2:1,Oe=this._wrappedIterables[K].__iterator(se,z),Le=!0,ke=0;Le;){for(var Qe=Oe.next();Qe.done;){if(++K===this._wrappedIterables.length)return ke;Qe=(Oe=this._wrappedIterables[K].__iterator(se,z)).next()}Le=(Z?C(Qe.value[1],Qe.value[0],this):C(Qe.value,ke,this))!==!1,ke++}return ke}},D.prototype.__iteratorUncached=function(C,z){var K=this;if(this._wrappedIterables.length===0)return new m(v);if(z)return this.cacheResult().__iterator(C,z);var Z=0,se=this._wrappedIterables[Z].__iterator(C,z);return new m(function(){for(var Oe=se.next();Oe.done;){if(++Z===K._wrappedIterables.length)return Oe;Oe=(se=K._wrappedIterables[Z].__iterator(C,z)).next()}return Oe})},D})(de);function Ue(A,D,C){var z=Ye(A);return z.__iterateUncached=function(K,Z){if(Z)return this.cacheResult().__iterate(K,Z);var se=0,Oe=!1;return(function Le(ke,Qe){ke.__iterate(function(We,et){return(!D||Qe<D)&&t(We)?Le(We,Qe+1):(se++,K(We,C?et:se-1,z)===!1&&(Oe=!0)),!Oe},Z)})(A,0),se},z.__iteratorUncached=function(K,Z){if(Z)return this.cacheResult().__iterator(K,Z);var se=A.__iterator(K,Z),Oe=[],Le=0;return new m(function(){for(;se;){var ke=se.next();if(ke.done===!1){var Qe=ke.value;if(K===2&&(Qe=Qe[1]),D&&!(Oe.length<D)||!t(Qe))return C?ke:b(K,Le++,Qe,ke);Oe.push(se),se=Qe.__iterator(K,Z)}else se=Oe.pop()}return{value:void 0,done:!0}})},z}function Ve(A,D,C){D||(D=yt);var z=i(A),K=0,Z=A.toSeq().map(function(se,Oe){return[Oe,se,K++,C?C(se,Oe,A):se]}).valueSeq().toArray();return Z.sort(function(se,Oe){return D(se[3],Oe[3])||se[2]-Oe[2]}).forEach(z?function(se,Oe){Z[Oe].length=2}:function(se,Oe){Z[Oe]=se[1]}),z?Se(Z):o(A)?ie(Z):me(Z)}function Ge(A,D,C){if(D||(D=yt),C){var z=A.toSeq().map(function(K,Z){return[K,C(K,Z,A)]}).reduce(function(K,Z){return Ze(D,K[1],Z[1])?Z:K});return z&&z[0]}return A.reduce(function(K,Z){return Ze(D,K,Z)?Z:K})}function Ze(A,D,C){var z=A(C,D);return z===0&&C!==D&&(C==null||C!=C)||z>0}function $e(A,D,C,z){var K=Ye(A),Z=new oe(C).map(function(se){return se.size});return K.size=z?Z.max():Z.min(),K.__iterate=function(se,Oe){for(var Le,ke=this.__iterator(1,Oe),Qe=0;!(Le=ke.next()).done&&se(Le.value,Qe++,this)!==!1;);return Qe},K.__iteratorUncached=function(se,Oe){var Le=C.map(function(We){return We=a(We),S(Oe?We.reverse():We)}),ke=0,Qe=!1;return new m(function(){var We;return Qe||(We=Le.map(function(et){return et.next()}),Qe=z?We.every(function(et){return et.done}):We.some(function(et){return et.done})),Qe?{value:void 0,done:!0}:b(se,ke++,D.apply(null,We.map(function(et){return et.value})))})},K}function ze(A,D){return A===D?A:te(A)?D:A.constructor(D)}function ot(A){if(A!==Object(A))throw new TypeError("Expected [K, V] tuple: "+A)}function ht(A){return i(A)?l:o(A)?d:p}function Ye(A){return Object.create((i(A)?Se:o(A)?ie:me).prototype)}function Dt(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):de.prototype.cacheResult.call(this)}function yt(A,D){return A===void 0&&D===void 0?0:A===void 0?1:D===void 0?-1:A>D?1:A<D?-1:0}function lt(A){return!!(A&&typeof A.equals=="function"&&typeof A.hashCode=="function")}function dt(A,D){if(A===D||A!=A&&D!=D)return!0;if(!A||!D)return!1;if(typeof A.valueOf=="function"&&typeof D.valueOf=="function"){if((A=A.valueOf())===(D=D.valueOf())||A!=A&&D!=D)return!0;if(!A||!D)return!1}return!!(lt(A)&&lt(D)&&A.equals(D))}function wt(A,D,C,z){return nr(A,[D],C,z)}function Er(){for(var A=[],D=arguments.length;D--;)A[D]=arguments[D];return Et(this,A)}function Bt(A){for(var D=[],C=arguments.length-1;C-- >0;)D[C]=arguments[C+1];if(typeof A!="function")throw new TypeError("Invalid merger function: "+A);return Et(this,D,A)}function Et(A,D,C){for(var z=[],K=0;K<D.length;K++){var Z=l(D[K]);Z.size!==0&&z.push(Z)}return z.length===0?A:A.toSeq().size!==0||A.__ownerID||z.length!==1?A.withMutations(function(se){for(var Oe=C?function(ke,Qe){wt(se,Qe,R,function(We){return We===R?ke:C(We,ke,Qe)})}:function(ke,Qe){se.set(Qe,ke)},Le=0;Le<z.length;Le++)z[Le].forEach(Oe)}):I(A)?A:A.constructor(z[0])}var Br=Object.prototype.toString;function Vt(A){if(!A||typeof A!="object"||Br.call(A)!=="[object Object]")return!1;var D=Object.getPrototypeOf(A);if(D===null)return!0;for(var C=D,z=Object.getPrototypeOf(D);z!==null;)C=z,z=Object.getPrototypeOf(C);return C===D}function xt(A){return typeof A=="object"&&(j(A)||Array.isArray(A)||Vt(A))}function Ct(A,D){D=D||0;for(var C=Math.max(0,A.length-D),z=new Array(C),K=0;K<C;K++)z[K]=A[K+D];return z}function $t(A){if(Array.isArray(A))return Ct(A);var D={};for(var C in A)W.call(A,C)&&(D[C]=A[C]);return D}function wn(A){for(var D=[],C=arguments.length-1;C-- >0;)D[C]=arguments[C+1];return gr(A,D)}function Xr(A,D){for(var C=[],z=arguments.length-2;z-- >0;)C[z]=arguments[z+2];return gr(D,C,A)}function $n(A){for(var D=[],C=arguments.length-1;C-- >0;)D[C]=arguments[C+1];return Gt(A,D)}function sr(A,D){for(var C=[],z=arguments.length-2;z-- >0;)C[z]=arguments[z+2];return Gt(D,C,A)}function Gt(A,D,C){return gr(A,D,(function(z){return function K(Z,se,Oe){return xt(Z)&&xt(se)&&(Le=se,ke=de(Z),Qe=de(Le),o(ke)===o(Qe)&&i(ke)===i(Qe))?gr(Z,[se],K):z?z(Z,se,Oe):se;var Le,ke,Qe}})(C))}function gr(A,D,C){if(!xt(A))throw new TypeError("Cannot merge into non-data-structure value: "+A);if(j(A))return typeof C=="function"&&A.mergeWith?A.mergeWith.apply(A,[C].concat(D)):A.merge?A.merge.apply(A,D):A.concat.apply(A,D);for(var z=Array.isArray(A),K=A,Z=z?d:l,se=z?function(Le){K===A&&(K=$t(K)),K.push(Le)}:function(Le,ke){var Qe=W.call(K,ke),We=Qe&&C?C(K[ke],Le,ke):Le;Qe&&We===K[ke]||(K===A&&(K=$t(K)),K[ke]=We)},Oe=0;Oe<D.length;Oe++)Z(D[Oe]).forEach(se);return K}function Tn(){for(var A=[],D=arguments.length;D--;)A[D]=arguments[D];return Gt(this,A)}function qi(A){for(var D=[],C=arguments.length-1;C-- >0;)D[C]=arguments[C+1];return Gt(this,D,A)}function Bi(A){for(var D=[],C=arguments.length-1;C-- >0;)D[C]=arguments[C+1];return nr(this,A,dr(),function(z){return Gt(z,D)})}function xr(A){for(var D=[],C=arguments.length-1;C-- >0;)D[C]=arguments[C+1];return nr(this,A,dr(),function(z){return gr(z,D)})}function sn(A,D,C){return nr(A,D,R,function(){return C})}function On(A,D){return sn(this,A,D)}function Ar(A,D,C){return arguments.length===1?A(this):wt(this,A,D,C)}function gi(A,D,C){return nr(this,A,D,C)}function Ui(){return this.__altered}function jr(A){var D=this.asMutable();return A(D),D.wasAltered()?D.__ensureOwner(this.__ownerID):this}var Ft="@@__IMMUTABLE_MAP__@@";function Gn(A){return!!(A&&A[Ft])}function Sn(A,D){if(!A)throw new Error(D)}function Lt(A){Sn(A!==1/0,"Cannot perform this action with an infinite size.")}var un=(function(A){function D(C){return C==null?dr():Gn(C)&&!L(C)?C:dr().withMutations(function(z){var K=A(C);Lt(K.size),K.forEach(function(Z,se){return z.set(se,Z)})})}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.toString=function(){return this.__toString("Map {","}")},D.prototype.get=function(C,z){return this._root?this._root.get(0,void 0,C,z):z},D.prototype.set=function(C,z){return Ha(this,C,z)},D.prototype.remove=function(C){return Ha(this,C,R)},D.prototype.deleteAll=function(C){var z=a(C);return z.size===0?this:this.withMutations(function(K){z.forEach(function(Z){return K.remove(Z)})})},D.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):dr()},D.prototype.sort=function(C){return Nr(Ve(this,C))},D.prototype.sortBy=function(C,z){return Nr(Ve(this,z,C))},D.prototype.map=function(C,z){var K=this;return this.withMutations(function(Z){Z.forEach(function(se,Oe){Z.set(Oe,C.call(z,se,Oe,K))})})},D.prototype.__iterator=function(C,z){return new Qi(this,C,z)},D.prototype.__iterate=function(C,z){var K=this,Z=0;return this._root&&this._root.iterate(function(se){return Z++,C(se[1],se[0],K)},z),Z},D.prototype.__ensureOwner=function(C){return C===this.__ownerID?this:C?Jr(this.size,this._root,C,this.__hash):this.size===0?dr():(this.__ownerID=C,this.__altered=!1,this)},D})(l);un.isMap=Gn;var Tt=un.prototype;Tt[Ft]=!0,Tt[T]=Tt.remove,Tt.removeAll=Tt.deleteAll,Tt.setIn=On,Tt.removeIn=Tt.deleteIn=dn,Tt.update=Ar,Tt.updateIn=gi,Tt.merge=Tt.concat=Er,Tt.mergeWith=Bt,Tt.mergeDeep=Tn,Tt.mergeDeepWith=qi,Tt.mergeIn=xr,Tt.mergeDeepIn=Bi,Tt.withMutations=jr,Tt.wasAltered=Ui,Tt.asImmutable=re,Tt["@@transducer/init"]=Tt.asMutable=fe,Tt["@@transducer/step"]=function(A,D){return A.set(D[0],D[1])},Tt["@@transducer/result"]=function(A){return A.asImmutable()};var cn=function(A,D){this.ownerID=A,this.entries=D};cn.prototype.get=function(A,D,C,z){for(var K=this.entries,Z=0,se=K.length;Z<se;Z++)if(dt(C,K[Z][0]))return K[Z][1];return z},cn.prototype.update=function(A,D,C,z,K,Z,se){for(var Oe=K===R,Le=this.entries,ke=0,Qe=Le.length;ke<Qe&&!dt(z,Le[ke][0]);ke++);var We=ke<Qe;if(We?Le[ke][1]===K:Oe)return this;if(M(se),(Oe||!We)&&M(Z),!Oe||Le.length!==1){if(!We&&!Oe&&Le.length>=jo)return(function(ct,kt,Jt,Gr){ct||(ct=new Q);for(var Rt=new Pr(ct,je(Jt),[Jt,Gr]),pr=0;pr<kt.length;pr++){var Fr=kt[pr];Rt=Rt.update(ct,0,void 0,Fr[0],Fr[1])}return Rt})(A,Le,z,K);var et=A&&A===this.ownerID,ut=et?Le:Ct(Le);return We?Oe?ke===Qe-1?ut.pop():ut[ke]=ut.pop():ut[ke]=[z,K]:ut.push([z,K]),et?(this.entries=ut,this):new cn(A,ut)}};var En=function(A,D,C){this.ownerID=A,this.bitmap=D,this.nodes=C};En.prototype.get=function(A,D,C,z){D===void 0&&(D=je(C));var K=1<<((A===0?D:D>>>A)&E),Z=this.bitmap;return(Z&K)===0?z:this.nodes[za(Z&K-1)].get(A+5,D,C,z)},En.prototype.update=function(A,D,C,z,K,Z,se){C===void 0&&(C=je(z));var Oe=(D===0?C:C>>>D)&E,Le=1<<Oe,ke=this.bitmap,Qe=(ke&Le)!==0;if(!Qe&&K===R)return this;var We=za(ke&Le-1),et=this.nodes,ut=Qe?et[We]:void 0,ct=mi(ut,A,D+5,C,z,K,Z,se);if(ct===ut)return this;if(!Qe&&ct&&et.length>=Vi)return(function(Rt,pr,Fr,vn,Mr){for(var Hr=0,vr=new Array(O),zr=0;Fr!==0;zr++,Fr>>>=1)vr[zr]=1&Fr?pr[Hr++]:void 0;return vr[vn]=Mr,new mr(Rt,Hr+1,vr)})(A,et,ke,Oe,ct);if(Qe&&!ct&&et.length===2&&zn(et[1^We]))return et[1^We];if(Qe&&ct&&et.length===1&&zn(ct))return ct;var kt=A&&A===this.ownerID,Jt=Qe?ct?ke:ke^Le:ke|Le,Gr=Qe?ct?Ka(et,We,ct,kt):(function(Rt,pr,Fr){var vn=Rt.length-1;if(Fr&&pr===vn)return Rt.pop(),Rt;for(var Mr=new Array(vn),Hr=0,vr=0;vr<vn;vr++)vr===pr&&(Hr=1),Mr[vr]=Rt[vr+Hr];return Mr})(et,We,kt):(function(Rt,pr,Fr,vn){var Mr=Rt.length+1;if(vn&&pr+1===Mr)return Rt[pr]=Fr,Rt;for(var Hr=new Array(Mr),vr=0,zr=0;zr<Mr;zr++)zr===pr?(Hr[zr]=Fr,vr=-1):Hr[zr]=Rt[zr+vr];return Hr})(et,We,ct,kt);return kt?(this.bitmap=Jt,this.nodes=Gr,this):new En(A,Jt,Gr)};var mr=function(A,D,C){this.ownerID=A,this.count=D,this.nodes=C};mr.prototype.get=function(A,D,C,z){D===void 0&&(D=je(C));var K=(A===0?D:D>>>A)&E,Z=this.nodes[K];return Z?Z.get(A+5,D,C,z):z},mr.prototype.update=function(A,D,C,z,K,Z,se){C===void 0&&(C=je(z));var Oe=(D===0?C:C>>>D)&E,Le=K===R,ke=this.nodes,Qe=ke[Oe];if(Le&&!Qe)return this;var We=mi(Qe,A,D+5,C,z,K,Z,se);if(We===Qe)return this;var et=this.count;if(Qe){if(!We&&--et<jn)return(function(kt,Jt,Gr,Rt){for(var pr=0,Fr=0,vn=new Array(Gr),Mr=0,Hr=1,vr=Jt.length;Mr<vr;Mr++,Hr<<=1){var zr=Jt[Mr];zr!==void 0&&Mr!==Rt&&(pr|=Hr,vn[Fr++]=zr)}return new En(kt,pr,vn)})(A,ke,et,Oe)}else et++;var ut=A&&A===this.ownerID,ct=Ka(ke,Oe,We,ut);return ut?(this.count=et,this.nodes=ct,this):new mr(A,et,ct)};var xn=function(A,D,C){this.ownerID=A,this.keyHash=D,this.entries=C};xn.prototype.get=function(A,D,C,z){for(var K=this.entries,Z=0,se=K.length;Z<se;Z++)if(dt(C,K[Z][0]))return K[Z][1];return z},xn.prototype.update=function(A,D,C,z,K,Z,se){C===void 0&&(C=je(z));var Oe=K===R;if(C!==this.keyHash)return Oe?this:(M(se),M(Z),An(this,A,D,C,[z,K]));for(var Le=this.entries,ke=0,Qe=Le.length;ke<Qe&&!dt(z,Le[ke][0]);ke++);var We=ke<Qe;if(We?Le[ke][1]===K:Oe)return this;if(M(se),(Oe||!We)&&M(Z),Oe&&Qe===2)return new Pr(A,this.keyHash,Le[1^ke]);var et=A&&A===this.ownerID,ut=et?Le:Ct(Le);return We?Oe?ke===Qe-1?ut.pop():ut[ke]=ut.pop():ut[ke]=[z,K]:ut.push([z,K]),et?(this.entries=ut,this):new xn(A,this.keyHash,ut)};var Pr=function(A,D,C){this.ownerID=A,this.keyHash=D,this.entry=C};Pr.prototype.get=function(A,D,C,z){return dt(C,this.entry[0])?this.entry[1]:z},Pr.prototype.update=function(A,D,C,z,K,Z,se){var Oe=K===R,Le=dt(z,this.entry[0]);return(Le?K===this.entry[1]:Oe)?this:(M(se),Oe?void M(Z):Le?A&&A===this.ownerID?(this.entry[1]=K,this):new Pr(A,this.keyHash,[z,K]):(M(Z),An(this,A,D,je(z),[z,K])))},cn.prototype.iterate=xn.prototype.iterate=function(A,D){for(var C=this.entries,z=0,K=C.length-1;z<=K;z++)if(A(C[D?K-z:z])===!1)return!1},En.prototype.iterate=mr.prototype.iterate=function(A,D){for(var C=this.nodes,z=0,K=C.length-1;z<=K;z++){var Z=C[D?K-z:z];if(Z&&Z.iterate(A,D)===!1)return!1}},Pr.prototype.iterate=function(A,D){return A(this.entry)};var ln,Qi=(function(A){function D(C,z,K){this._type=z,this._reverse=K,this._stack=C._root&&Ga(C._root)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.next=function(){for(var C=this._type,z=this._stack;z;){var K=z.node,Z=z.index++,se=void 0;if(K.entry){if(Z===0)return Hn(C,K.entry)}else if(K.entries){if(Z<=(se=K.entries.length-1))return Hn(C,K.entries[this._reverse?se-Z:Z])}else if(Z<=(se=K.nodes.length-1)){var Oe=K.nodes[this._reverse?se-Z:Z];if(Oe){if(Oe.entry)return Hn(C,Oe.entry);z=this._stack=Ga(Oe,z)}continue}z=this._stack=this._stack.__prev}return{value:void 0,done:!0}},D})(m);function Hn(A,D){return b(A,D[0],D[1])}function Ga(A,D){return{node:A,index:0,__prev:D}}function Jr(A,D,C,z){var K=Object.create(Tt);return K.size=A,K._root=D,K.__ownerID=C,K.__hash=z,K.__altered=!1,K}function dr(){return ln||(ln=Jr(0))}function Ha(A,D,C){var z,K;if(A._root){var Z={value:!1},se={value:!1};if(z=mi(A._root,A.__ownerID,0,void 0,D,C,Z,se),!se.value)return A;K=A.size+(Z.value?C===R?-1:1:0)}else{if(C===R)return A;K=1,z=new cn(A.__ownerID,[[D,C]])}return A.__ownerID?(A.size=K,A._root=z,A.__hash=void 0,A.__altered=!0,A):z?Jr(K,z):dr()}function mi(A,D,C,z,K,Z,se,Oe){return A?A.update(D,C,z,K,Z,se,Oe):Z===R?A:(M(Oe),M(se),new Pr(D,z,[K,Z]))}function zn(A){return A.constructor===Pr||A.constructor===xn}function An(A,D,C,z,K){if(A.keyHash===z)return new xn(D,z,[A.entry,K]);var Z,se=(C===0?A.keyHash:A.keyHash>>>C)&E,Oe=(C===0?z:z>>>C)&E,Le=se===Oe?[An(A,D,C+5,z,K)]:(Z=new Pr(D,z,K),se<Oe?[A,Z]:[Z,A]);return new En(D,1<<se|1<<Oe,Le)}function za(A){return A=(A=(858993459&(A-=A>>1&1431655765))+(A>>2&858993459))+(A>>4)&252645135,127&(A+=A>>8)+(A>>16)}function Ka(A,D,C,z){var K=z?A:Ct(A);return K[D]=C,K}var jo=8,Vi=16,jn=8;function Xa(A){if(ce(A)&&typeof A!="string")return A;if(L(A))return A.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+A)}function Kn(A){try{return typeof A=="string"?JSON.stringify(A):String(A)}catch{return JSON.stringify(A)}}function $i(A,D){return j(A)?A.has(D):xt(A)&&W.call(A,D)}function Gi(A,D,C){return j(A)?A.get(D,C):$i(A,D)?typeof A.get=="function"?A.get(D):A[D]:C}function Pn(A,D){if(!xt(A))throw new TypeError("Cannot update non-data-structure value: "+A);if(j(A)){if(!A.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+A);return A.remove(D)}if(!W.call(A,D))return A;var C=$t(A);return Array.isArray(C)?C.splice(D,1):delete C[D],C}function Ja(A,D,C){if(!xt(A))throw new TypeError("Cannot update non-data-structure value: "+A);if(j(A)){if(!A.set)throw new TypeError("Cannot update immutable value without .set() method: "+A);return A.set(D,C)}if(W.call(A,D)&&C===A[D])return A;var z=$t(A);return z[D]=C,z}function nr(A,D,C,z){z||(z=C,C=void 0);var K=Wa(j(A),A,Xa(D),0,C,z);return K===R?C:K}function Wa(A,D,C,z,K,Z){var se=D===R;if(z===C.length){var Oe=se?K:D,Le=Z(Oe);return Le===Oe?D:Le}if(!se&&!xt(D))throw new TypeError("Cannot update within non-data-structure value in path ["+Array.from(C).slice(0,z).map(Kn)+"]: "+D);var ke=C[z],Qe=se?R:Gi(D,ke,R),We=Wa(Qe===R?A:j(Qe),Qe,C,z+1,K,Z);return We===Qe?D:We===R?Pn(D,ke):Ja(se?A?dr():{}:D,ke,We)}function Ur(A,D){return nr(A,D,function(){return R})}function dn(A){return Ur(this,A)}var bi="@@__IMMUTABLE_LIST__@@";function Ir(A){return!!(A&&A[bi])}var Xn=(function(A){function D(C){var z=In();if(C==null)return z;if(Ir(C))return C;var K=A(C),Z=K.size;return Z===0?z:(Lt(Z),Z>0&&Z<O?pn(0,Z,5,null,new Wr(K.toArray())):z.withMutations(function(se){se.setSize(Z),K.forEach(function(Oe,Le){return se.set(Le,Oe)})}))}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.of=function(){return this(arguments)},D.prototype.toString=function(){return this.__toString("List [","]")},D.prototype.get=function(C,z){if((C=V(this,C))>=0&&C<this.size){var K=Po(this,C+=this._origin);return K&&K.array[C&E]}return z},D.prototype.set=function(C,z){return(function(K,Z,se){if((Z=V(K,Z))!=Z)return K;if(Z>=K.size||Z<0)return K.withMutations(function(Qe){Z<0?Yr(Qe,Z).set(0,se):Yr(Qe,0,Z+1).set(Z,se)});Z+=K._origin;var Oe=K._tail,Le=K._root,ke={value:!1};return Z>=fn(K._capacity)?Oe=Ya(Oe,K.__ownerID,0,Z,se,ke):Le=Ya(Le,K.__ownerID,K._level,Z,se,ke),ke.value?K.__ownerID?(K._root=Le,K._tail=Oe,K.__hash=void 0,K.__altered=!0,K):pn(K._origin,K._capacity,K._level,Le,Oe):K})(this,C,z)},D.prototype.remove=function(C){return this.has(C)?C===0?this.shift():C===this.size-1?this.pop():this.splice(C,1):this},D.prototype.insert=function(C,z){return this.splice(C,0,z)},D.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=5,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):In()},D.prototype.push=function(){var C=arguments,z=this.size;return this.withMutations(function(K){Yr(K,0,z+C.length);for(var Z=0;Z<C.length;Z++)K.set(z+Z,C[Z])})},D.prototype.pop=function(){return Yr(this,0,-1)},D.prototype.unshift=function(){var C=arguments;return this.withMutations(function(z){Yr(z,-C.length);for(var K=0;K<C.length;K++)z.set(K,C[K])})},D.prototype.shift=function(){return Yr(this,1)},D.prototype.shuffle=function(C){return C===void 0&&(C=Math.random),this.withMutations(function(z){for(var K,Z,se=z.size;se;)K=Math.floor(C()*se--),Z=z.get(K),z.set(K,z.get(se)),z.set(se,Z)})},D.prototype.concat=function(){for(var C=arguments,z=[],K=0;K<arguments.length;K++){var Z=C[K],se=A(typeof Z!="string"&&_(Z)?Z:[Z]);se.size!==0&&z.push(se)}return z.length===0?this:this.size!==0||this.__ownerID||z.length!==1?this.withMutations(function(Oe){z.forEach(function(Le){return Le.forEach(function(ke){return Oe.push(ke)})})}):this.constructor(z[0])},D.prototype.setSize=function(C){return Yr(this,0,C)},D.prototype.map=function(C,z){var K=this;return this.withMutations(function(Z){for(var se=0;se<K.size;se++)Z.set(se,C.call(z,Z.get(se),se,K))})},D.prototype.slice=function(C,z){var K=this.size;return U(C,z,K)?this:Yr(this,k(C,K),$(z,K))},D.prototype.__iterator=function(C,z){var K=z?this.size:0,Z=Hi(this,z);return new m(function(){var se=Z();return se===Jn?{value:void 0,done:!0}:b(C,z?--K:K++,se)})},D.prototype.__iterate=function(C,z){for(var K,Z=z?this.size:0,se=Hi(this,z);(K=se())!==Jn&&C(K,z?--Z:Z++,this)!==!1;);return Z},D.prototype.__ensureOwner=function(C){return C===this.__ownerID?this:C?pn(this._origin,this._capacity,this._level,this._root,this._tail,C,this.__hash):this.size===0?In():(this.__ownerID=C,this.__altered=!1,this)},D})(d);Xn.isList=Ir;var Nt=Xn.prototype;Nt[bi]=!0,Nt[T]=Nt.remove,Nt.merge=Nt.concat,Nt.setIn=On,Nt.deleteIn=Nt.removeIn=dn,Nt.update=Ar,Nt.updateIn=gi,Nt.mergeIn=xr,Nt.mergeDeepIn=Bi,Nt.withMutations=jr,Nt.wasAltered=Ui,Nt.asImmutable=re,Nt["@@transducer/init"]=Nt.asMutable=fe,Nt["@@transducer/step"]=function(A,D){return A.push(D)},Nt["@@transducer/result"]=function(A){return A.asImmutable()};var Wr=function(A,D){this.array=A,this.ownerID=D};Wr.prototype.removeBefore=function(A,D,C){if(!(C&(1<<D+5)-1)||this.array.length===0)return this;var z=C>>>D&E;if(z>=this.array.length)return new Wr([],A);var K,Z=z===0;if(D>0){var se=this.array[z];if((K=se&&se.removeBefore(A,D-5,C))===se&&Z)return this}if(Z&&!K)return this;var Oe=Wn(this,A);if(!Z)for(var Le=0;Le<z;Le++)Oe.array[Le]=void 0;return K&&(Oe.array[z]=K),Oe},Wr.prototype.removeAfter=function(A,D,C){if(C===(D?1<<D+5:O)||this.array.length===0)return this;var z,K=C-1>>>D&E;if(K>=this.array.length)return this;if(D>0){var Z=this.array[K];if((z=Z&&Z.removeAfter(A,D-5,C))===Z&&K===this.array.length-1)return this}var se=Wn(this,A);return se.array.splice(K+1),z&&(se.array[K]=z),se};var Jn={};function Hi(A,D){var C=A._origin,z=A._capacity,K=fn(z),Z=A._tail;return(function se(Oe,Le,ke){return Le===0?(function(Qe,We){var et=We===K?Z&&Z.array:Qe&&Qe.array,ut=We>C?0:C-We,ct=z-We;return ct>O&&(ct=O),function(){if(ut===ct)return Jn;var kt=D?--ct:ut++;return et&&et[kt]}})(Oe,ke):(function(Qe,We,et){var ut,ct=Qe&&Qe.array,kt=et>C?0:C-et>>We,Jt=1+(z-et>>We);return Jt>O&&(Jt=O),function(){for(;;){if(ut){var Gr=ut();if(Gr!==Jn)return Gr;ut=null}if(kt===Jt)return Jn;var Rt=D?--Jt:kt++;ut=se(ct&&ct[Rt],We-5,et+(Rt<<We))}}})(Oe,Le,ke)})(A._root,A._level,0)}function pn(A,D,C,z,K,Z,se){var Oe=Object.create(Nt);return Oe.size=D-A,Oe._origin=A,Oe._capacity=D,Oe._level=C,Oe._root=z,Oe._tail=K,Oe.__ownerID=Z,Oe.__hash=se,Oe.__altered=!1,Oe}function In(){return pn(0,0,5)}function Ya(A,D,C,z,K,Z){var se,Oe=z>>>C&E,Le=A&&Oe<A.array.length;if(!Le&&K===void 0)return A;if(C>0){var ke=A&&A.array[Oe],Qe=Ya(ke,D,C-5,z,K,Z);return Qe===ke?A:((se=Wn(A,D)).array[Oe]=Qe,se)}return Le&&A.array[Oe]===K?A:(Z&&M(Z),se=Wn(A,D),K===void 0&&Oe===se.array.length-1?se.array.pop():se.array[Oe]=K,se)}function Wn(A,D){return D&&A&&D===A.ownerID?A:new Wr(A?A.array.slice():[],D)}function Po(A,D){if(D>=fn(A._capacity))return A._tail;if(D<1<<A._level+5){for(var C=A._root,z=A._level;C&&z>0;)C=C.array[D>>>z&E],z-=5;return C}}function Yr(A,D,C){D!==void 0&&(D|=0),C!==void 0&&(C|=0);var z=A.__ownerID||new Q,K=A._origin,Z=A._capacity,se=K+D,Oe=C===void 0?Z:C<0?Z+C:K+C;if(se===K&&Oe===Z)return A;if(se>=Oe)return A.clear();for(var Le=A._level,ke=A._root,Qe=0;se+Qe<0;)ke=new Wr(ke&&ke.array.length?[void 0,ke]:[],z),Qe+=1<<(Le+=5);Qe&&(se+=Qe,K+=Qe,Oe+=Qe,Z+=Qe);for(var We=fn(Z),et=fn(Oe);et>=1<<Le+5;)ke=new Wr(ke&&ke.array.length?[ke]:[],z),Le+=5;var ut=A._tail,ct=et<We?Po(A,Oe-1):et>We?new Wr([],z):ut;if(ut&&et>We&&se<Z&&ut.array.length){for(var kt=ke=Wn(ke,z),Jt=Le;Jt>5;Jt-=5){var Gr=We>>>Jt&E;kt=kt.array[Gr]=Wn(kt.array[Gr],z)}kt.array[We>>>5&E]=ut}if(Oe<Z&&(ct=ct&&ct.removeAfter(z,0,Oe)),se>=et)se-=et,Oe-=et,Le=5,ke=null,ct=ct&&ct.removeBefore(z,0,se);else if(se>K||et<We){for(Qe=0;ke;){var Rt=se>>>Le&E;if(Rt!==et>>>Le&E)break;Rt&&(Qe+=(1<<Le)*Rt),Le-=5,ke=ke.array[Rt]}ke&&se>K&&(ke=ke.removeBefore(z,Le,se-Qe)),ke&&et<We&&(ke=ke.removeAfter(z,Le,et-Qe)),Qe&&(se-=Qe,Oe-=Qe)}return A.__ownerID?(A.size=Oe-se,A._origin=se,A._capacity=Oe,A._level=Le,A._root=ke,A._tail=ct,A.__hash=void 0,A.__altered=!0,A):pn(se,Oe,Le,ke,ct)}function fn(A){return A<O?0:A-1>>>5<<5}function zi(A){return Gn(A)&&L(A)}var Za,Nr=(function(A){function D(C){return C==null?Rr():zi(C)?C:Rr().withMutations(function(z){var K=l(C);Lt(K.size),K.forEach(function(Z,se){return z.set(se,Z)})})}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.of=function(){return this(arguments)},D.prototype.toString=function(){return this.__toString("OrderedMap {","}")},D.prototype.get=function(C,z){var K=this._map.get(C);return K!==void 0?this._list.get(K)[1]:z},D.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):Rr()},D.prototype.set=function(C,z){return to(this,C,z)},D.prototype.remove=function(C){return to(this,C,R)},D.prototype.__iterate=function(C,z){var K=this;return this._list.__iterate(function(Z){return Z&&C(Z[1],Z[0],K)},z)},D.prototype.__iterator=function(C,z){return this._list.fromEntrySeq().__iterator(C,z)},D.prototype.__ensureOwner=function(C){if(C===this.__ownerID)return this;var z=this._map.__ensureOwner(C),K=this._list.__ensureOwner(C);return C?eo(z,K,C,this.__hash):this.size===0?Rr():(this.__ownerID=C,this.__altered=!1,this._map=z,this._list=K,this)},D})(un);function eo(A,D,C,z){var K=Object.create(Nr.prototype);return K.size=A?A.size:0,K._map=A,K._list=D,K.__ownerID=C,K.__hash=z,K.__altered=!1,K}function Rr(){return Za||(Za=eo(dr(),In()))}function to(A,D,C){var z,K,Z=A._map,se=A._list,Oe=Z.get(D),Le=Oe!==void 0;if(C===R){if(!Le)return A;se.size>=O&&se.size>=2*Z.size?(z=(K=se.filter(function(ke,Qe){return ke!==void 0&&Oe!==Qe})).toKeyedSeq().map(function(ke){return ke[0]}).flip().toMap(),A.__ownerID&&(z.__ownerID=K.__ownerID=A.__ownerID)):(z=Z.remove(D),K=Oe===se.size-1?se.pop():se.set(Oe,void 0))}else if(Le){if(C===se.get(Oe)[1])return A;z=Z,K=se.set(Oe,[D,C])}else z=Z.set(D,se.size),K=se.set(se.size,[D,C]);return A.__ownerID?(A.size=z.size,A._map=z,A._list=K,A.__hash=void 0,A.__altered=!0,A):eo(z,K)}Nr.isOrderedMap=zi,Nr.prototype[P]=!0,Nr.prototype[T]=Nr.prototype.remove;var ro="@@__IMMUTABLE_STACK__@@";function Ut(A){return!!(A&&A[ro])}var Qr=(function(A){function D(C){return C==null?hn():Ut(C)?C:hn().pushAll(C)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.of=function(){return this(arguments)},D.prototype.toString=function(){return this.__toString("Stack [","]")},D.prototype.get=function(C,z){var K=this._head;for(C=V(this,C);K&&C--;)K=K.next;return K?K.value:z},D.prototype.peek=function(){return this._head&&this._head.value},D.prototype.push=function(){var C=arguments;if(arguments.length===0)return this;for(var z=this.size+arguments.length,K=this._head,Z=arguments.length-1;Z>=0;Z--)K={value:C[Z],next:K};return this.__ownerID?(this.size=z,this._head=K,this.__hash=void 0,this.__altered=!0,this):ur(z,K)},D.prototype.pushAll=function(C){if((C=A(C)).size===0)return this;if(this.size===0&&Ut(C))return C;Lt(C.size);var z=this.size,K=this._head;return C.__iterate(function(Z){z++,K={value:Z,next:K}},!0),this.__ownerID?(this.size=z,this._head=K,this.__hash=void 0,this.__altered=!0,this):ur(z,K)},D.prototype.pop=function(){return this.slice(1)},D.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):hn()},D.prototype.slice=function(C,z){if(U(C,z,this.size))return this;var K=k(C,this.size);if($(z,this.size)!==this.size)return A.prototype.slice.call(this,C,z);for(var Z=this.size-K,se=this._head;K--;)se=se.next;return this.__ownerID?(this.size=Z,this._head=se,this.__hash=void 0,this.__altered=!0,this):ur(Z,se)},D.prototype.__ensureOwner=function(C){return C===this.__ownerID?this:C?ur(this.size,this._head,C,this.__hash):this.size===0?hn():(this.__ownerID=C,this.__altered=!1,this)},D.prototype.__iterate=function(C,z){var K=this;if(z)return new oe(this.toArray()).__iterate(function(Oe,Le){return C(Oe,Le,K)},z);for(var Z=0,se=this._head;se&&C(se.value,Z++,this)!==!1;)se=se.next;return Z},D.prototype.__iterator=function(C,z){if(z)return new oe(this.toArray()).__iterator(C,z);var K=0,Z=this._head;return new m(function(){if(Z){var se=Z.value;return Z=Z.next,b(C,K++,se)}return{value:void 0,done:!0}})},D})(d);Qr.isStack=Ut;var Nn,gt=Qr.prototype;function ur(A,D,C,z){var K=Object.create(gt);return K.size=A,K._head=D,K.__ownerID=C,K.__hash=z,K.__altered=!1,K}function hn(){return Nn||(Nn=ur(0))}function Ki(A,D,C,z,K,Z){return Lt(A.size),A.__iterate(function(se,Oe,Le){K?(K=!1,C=se):C=D.call(z,C,se,Oe,Le)},Z),C}function Ht(A,D){return D}function Yn(A,D){return[D,A]}function yn(A){return function(){for(var D=[],C=arguments.length;C--;)D[C]=arguments[C];return!A.apply(this,D)}}function Xi(A){return function(){for(var D=[],C=arguments.length;C--;)D[C]=arguments[C];return-A.apply(this,D)}}function gn(A,D){return A<D?1:A>D?-1:0}function mn(A,D){if(A===D)return!0;if(!t(D)||A.size!==void 0&&D.size!==void 0&&A.size!==D.size||A.__hash!==void 0&&D.__hash!==void 0&&A.__hash!==D.__hash||i(A)!==i(D)||o(A)!==o(D)||L(A)!==L(D))return!1;if(A.size===0&&D.size===0)return!0;var C=!r(A);if(L(A)){var z=A.entries();return D.every(function(Le,ke){var Qe=z.next().value;return Qe&&dt(Qe[1],Le)&&(C||dt(Qe[0],ke))})&&z.next().done}var K=!1;if(A.size===void 0)if(D.size===void 0)typeof A.cacheResult=="function"&&A.cacheResult();else{K=!0;var Z=A;A=D,D=Z}var se=!0,Oe=D.__iterate(function(Le,ke){if(C?!A.has(Le):K?!dt(Le,A.get(ke,R)):!dt(A.get(ke,R),Le))return se=!1,!1});return se&&A.size===Oe}gt[ro]=!0,gt.shift=gt.pop,gt.unshift=gt.push,gt.unshiftAll=gt.pushAll,gt.withMutations=jr,gt.wasAltered=Ui,gt.asImmutable=re,gt["@@transducer/init"]=gt.asMutable=fe,gt["@@transducer/step"]=function(A,D){return A.unshift(D)},gt["@@transducer/result"]=function(A){return A.asImmutable()};var vi,Dr=(function(A){function D(C,z,K){if(K===void 0&&(K=1),!(this instanceof D))return new D(C,z,K);if(Sn(K!==0,"Cannot step a Range by 0"),Sn(C!==void 0,"You must define a start value when using Range"),Sn(z!==void 0,"You must define an end value when using Range"),K=Math.abs(K),z<C&&(K=-K),this._start=C,this._end=z,this._step=K,this.size=Math.max(0,Math.ceil((z-C)/K-1)+1),this.size===0){if(vi)return vi;vi=this}}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"},D.prototype.get=function(C,z){return this.has(C)?this._start+V(this,C)*this._step:z},D.prototype.includes=function(C){var z=(C-this._start)/this._step;return z>=0&&z<this.size&&z===Math.floor(z)},D.prototype.slice=function(C,z){return U(C,z,this.size)?this:(C=k(C,this.size),(z=$(z,this.size))<=C?new D(0,0):new D(this.get(C,this._end),this.get(z,this._end),this._step))},D.prototype.indexOf=function(C){var z=C-this._start;if(z%this._step===0){var K=z/this._step;if(K>=0&&K<this.size)return K}return-1},D.prototype.lastIndexOf=function(C){return this.indexOf(C)},D.prototype.__iterate=function(C,z){for(var K=this.size,Z=this._step,se=z?this._start+(K-1)*Z:this._start,Oe=0;Oe!==K&&C(se,z?K-++Oe:Oe++,this)!==!1;)se+=z?-Z:Z;return Oe},D.prototype.__iterator=function(C,z){var K=this.size,Z=this._step,se=z?this._start+(K-1)*Z:this._start,Oe=0;return new m(function(){if(Oe===K)return{value:void 0,done:!0};var Le=se;return se+=z?-Z:Z,b(C,z?K-++Oe:Oe++,Le)})},D.prototype.equals=function(C){return C instanceof D?this._start===C._start&&this._end===C._end&&this._step===C._step:mn(this,C)},D})(ie),Ji="@@__IMMUTABLE_SET__@@";function br(A){return!!(A&&A[Ji])}var Zr=(function(A){function D(C){return C==null?Rn():br(C)&&!L(C)?C:Rn().withMutations(function(z){var K=A(C);Lt(K.size),K.forEach(function(Z){return z.add(Z)})})}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.of=function(){return this(arguments)},D.fromKeys=function(C){return this(l(C).keySeq())},D.intersect=function(C){return(C=a(C).toArray()).length?zt.intersect.apply(D(C.pop()),C):Rn()},D.union=function(C){return(C=a(C).toArray()).length?zt.union.apply(D(C.pop()),C):Rn()},D.prototype.toString=function(){return this.__toString("Set {","}")},D.prototype.has=function(C){return this._map.has(C)},D.prototype.add=function(C){return Wi(this,this._map.set(C,C))},D.prototype.remove=function(C){return Wi(this,this._map.remove(C))},D.prototype.clear=function(){return Wi(this,this._map.clear())},D.prototype.map=function(C,z){var K=this,Z=!1,se=Wi(this,this._map.mapEntries(function(Oe){var Le=Oe[1],ke=C.call(z,Le,Le,K);return ke!==Le&&(Z=!0),[ke,ke]},z));return Z?se:this},D.prototype.union=function(){for(var C=[],z=arguments.length;z--;)C[z]=arguments[z];return(C=C.filter(function(K){return K.size!==0})).length===0?this:this.size!==0||this.__ownerID||C.length!==1?this.withMutations(function(K){for(var Z=0;Z<C.length;Z++)typeof C[Z]=="string"?K.add(C[Z]):A(C[Z]).forEach(function(se){return K.add(se)})}):this.constructor(C[0])},D.prototype.intersect=function(){for(var C=[],z=arguments.length;z--;)C[z]=arguments[z];if(C.length===0)return this;C=C.map(function(Z){return A(Z)});var K=[];return this.forEach(function(Z){C.every(function(se){return se.includes(Z)})||K.push(Z)}),this.withMutations(function(Z){K.forEach(function(se){Z.remove(se)})})},D.prototype.subtract=function(){for(var C=[],z=arguments.length;z--;)C[z]=arguments[z];if(C.length===0)return this;C=C.map(function(Z){return A(Z)});var K=[];return this.forEach(function(Z){C.some(function(se){return se.includes(Z)})&&K.push(Z)}),this.withMutations(function(Z){K.forEach(function(se){Z.remove(se)})})},D.prototype.sort=function(C){return Zn(Ve(this,C))},D.prototype.sortBy=function(C,z){return Zn(Ve(this,z,C))},D.prototype.wasAltered=function(){return this._map.wasAltered()},D.prototype.__iterate=function(C,z){var K=this;return this._map.__iterate(function(Z){return C(Z,Z,K)},z)},D.prototype.__iterator=function(C,z){return this._map.__iterator(C,z)},D.prototype.__ensureOwner=function(C){if(C===this.__ownerID)return this;var z=this._map.__ensureOwner(C);return C?this.__make(z,C):this.size===0?this.__empty():(this.__ownerID=C,this._map=z,this)},D})(p);Zr.isSet=br;var no,zt=Zr.prototype;function Wi(A,D){return A.__ownerID?(A.size=D.size,A._map=D,A):D===A._map?A:D.size===0?A.__empty():A.__make(D)}function Io(A,D){var C=Object.create(zt);return C.size=A?A.size:0,C._map=A,C.__ownerID=D,C}function Rn(){return no||(no=Io(dr()))}function Yi(A,D,C){for(var z=Xa(D),K=0;K!==z.length;)if((A=Gi(A,z[K++],R))===R)return C;return A}function Zi(A,D){return Yi(this,A,D)}function Dn(A,D){return Yi(A,D,R)!==R}function ea(){Lt(this.size);var A={};return this.__iterate(function(D,C){A[C]=D}),A}function ta(A){if(!A||typeof A!="object")return A;if(!t(A)){if(!xt(A))return A;A=de(A)}if(i(A)){var D={};return A.__iterate(function(z,K){D[K]=ta(z)}),D}var C=[];return A.__iterate(function(z){C.push(ta(z))}),C}function ra(A,D){return A^D+2654435769+(A<<6)+(A>>2)|0}function en(A,D){var C=function(z){A.prototype[z]=D[z]};return Object.keys(D).forEach(C),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(D).forEach(C),A}zt[Ji]=!0,zt[T]=zt.remove,zt.merge=zt.concat=zt.union,zt.withMutations=jr,zt.asImmutable=re,zt["@@transducer/init"]=zt.asMutable=fe,zt["@@transducer/step"]=function(A,D){return A.add(D)},zt["@@transducer/result"]=function(A){return A.asImmutable()},zt.__empty=Rn,zt.__make=Io,a.Iterator=m,en(a,{toArray:function(){Lt(this.size);var A=new Array(this.size||0),D=i(this),C=0;return this.__iterate(function(z,K){A[C++]=D?[K,z]:z}),A},toIndexedSeq:function(){return new at(this)},toJS:function(){return ta(this)},toKeyedSeq:function(){return new mt(this,!0)},toMap:function(){return un(this.toKeyedSeq())},toObject:ea,toOrderedMap:function(){return Nr(this.toKeyedSeq())},toOrderedSet:function(){return Zn(i(this)?this.valueSeq():this)},toSet:function(){return Zr(i(this)?this.valueSeq():this)},toSetSeq:function(){return new Ne(this)},toSeq:function(){return o(this)?this.toIndexedSeq():i(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Qr(i(this)?this.valueSeq():this)},toList:function(){return Xn(i(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(A,D){return this.size===0?A+D:A+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+D},concat:function(){for(var A=[],D=arguments.length;D--;)A[D]=arguments[D];return ze(this,(function(C,z){var K=i(C),Z=[C].concat(z).map(function(Oe){return t(Oe)?K&&(Oe=l(Oe)):Oe=K?B(Oe):J(Array.isArray(Oe)?Oe:[Oe]),Oe}).filter(function(Oe){return Oe.size!==0});if(Z.length===0)return C;if(Z.length===1){var se=Z[0];if(se===C||K&&i(se)||o(C)&&o(se))return se}return new De(Z)})(this,A))},includes:function(A){return this.some(function(D){return dt(D,A)})},entries:function(){return this.__iterator(2)},every:function(A,D){Lt(this.size);var C=!0;return this.__iterate(function(z,K,Z){if(!A.call(D,z,K,Z))return C=!1,!1}),C},filter:function(A,D){return ze(this,Re(this,A,D,!0))},partition:function(A,D){return(function(C,z,K){var Z=i(C),se=[[],[]];C.__iterate(function(Le,ke){se[z.call(K,Le,ke,C)?1:0].push(Z?[ke,Le]:Le)});var Oe=ht(C);return se.map(function(Le){return ze(C,Oe(Le))})})(this,A,D)},find:function(A,D,C){var z=this.findEntry(A,D);return z?z[1]:C},forEach:function(A,D){return Lt(this.size),this.__iterate(D?A.bind(D):A)},join:function(A){Lt(this.size),A=A!==void 0?""+A:",";var D="",C=!0;return this.__iterate(function(z){C?C=!1:D+=A,D+=z!=null?z.toString():""}),D},keys:function(){return this.__iterator(0)},map:function(A,D){return ze(this,ee(this,A,D))},reduce:function(A,D,C){return Ki(this,A,D,C,arguments.length<2,!1)},reduceRight:function(A,D,C){return Ki(this,A,D,C,arguments.length<2,!0)},reverse:function(){return ze(this,pe(this,!0))},slice:function(A,D){return ze(this,Fe(this,A,D,!0))},some:function(A,D){Lt(this.size);var C=!1;return this.__iterate(function(z,K,Z){if(A.call(D,z,K,Z))return C=!0,!1}),C},sort:function(A){return ze(this,Ve(this,A))},values:function(){return this.__iterator(1)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(A,D){return X(A?this.toSeq().filter(A,D):this)},countBy:function(A,D){return(function(C,z,K){var Z=un().asMutable();return C.__iterate(function(se,Oe){Z.update(z.call(K,se,Oe,C),0,function(Le){return Le+1})}),Z.asImmutable()})(this,A,D)},equals:function(A){return mn(this,A)},entrySeq:function(){var A=this;if(A._cache)return new oe(A._cache);var D=A.toSeq().map(Yn).toIndexedSeq();return D.fromEntrySeq=function(){return A.toSeq()},D},filterNot:function(A,D){return this.filter(yn(A),D)},findEntry:function(A,D,C){var z=C;return this.__iterate(function(K,Z,se){if(A.call(D,K,Z,se))return z=[Z,K],!1}),z},findKey:function(A,D){var C=this.findEntry(A,D);return C&&C[0]},findLast:function(A,D,C){return this.toKeyedSeq().reverse().find(A,D,C)},findLastEntry:function(A,D,C){return this.toKeyedSeq().reverse().findEntry(A,D,C)},findLastKey:function(A,D){return this.toKeyedSeq().reverse().findKey(A,D)},first:function(A){return this.find(H,null,A)},flatMap:function(A,D){return ze(this,(function(C,z,K){var Z=ht(C);return C.toSeq().map(function(se,Oe){return Z(z.call(K,se,Oe,C))}).flatten(!0)})(this,A,D))},flatten:function(A){return ze(this,Ue(this,A,!0))},fromEntrySeq:function(){return new F(this)},get:function(A,D){return this.find(function(C,z){return dt(z,A)},void 0,D)},getIn:Zi,groupBy:function(A,D){return(function(C,z,K){var Z=i(C),se=(L(C)?Nr():un()).asMutable();C.__iterate(function(Le,ke){se.update(z.call(K,Le,ke,C),function(Qe){return(Qe=Qe||[]).push(Z?[ke,Le]:Le),Qe})});var Oe=ht(C);return se.map(function(Le){return ze(C,Oe(Le))}).asImmutable()})(this,A,D)},has:function(A){return this.get(A,R)!==R},hasIn:function(A){return Dn(this,A)},isSubset:function(A){return A=typeof A.includes=="function"?A:a(A),this.every(function(D){return A.includes(D)})},isSuperset:function(A){return(A=typeof A.isSubset=="function"?A:a(A)).isSubset(this)},keyOf:function(A){return this.findKey(function(D){return dt(D,A)})},keySeq:function(){return this.toSeq().map(Ht).toIndexedSeq()},last:function(A){return this.toSeq().reverse().first(A)},lastKeyOf:function(A){return this.toKeyedSeq().reverse().keyOf(A)},max:function(A){return Ge(this,A)},maxBy:function(A,D){return Ge(this,D,A)},min:function(A){return Ge(this,A?Xi(A):gn)},minBy:function(A,D){return Ge(this,D?Xi(D):gn,A)},rest:function(){return this.slice(1)},skip:function(A){return A===0?this:this.slice(Math.max(0,A))},skipLast:function(A){return A===0?this:this.slice(0,-Math.max(0,A))},skipWhile:function(A,D){return ze(this,Ee(this,A,D,!0))},skipUntil:function(A,D){return this.skipWhile(yn(A),D)},sortBy:function(A,D){return ze(this,Ve(this,D,A))},take:function(A){return this.slice(0,Math.max(0,A))},takeLast:function(A){return this.slice(-Math.max(0,A))},takeWhile:function(A,D){return ze(this,(function(C,z,K){var Z=Ye(C);return Z.__iterateUncached=function(se,Oe){var Le=this;if(Oe)return this.cacheResult().__iterate(se,Oe);var ke=0;return C.__iterate(function(Qe,We,et){return z.call(K,Qe,We,et)&&++ke&&se(Qe,We,Le)}),ke},Z.__iteratorUncached=function(se,Oe){var Le=this;if(Oe)return this.cacheResult().__iterator(se,Oe);var ke=C.__iterator(2,Oe),Qe=!0;return new m(function(){if(!Qe)return{value:void 0,done:!0};var We=ke.next();if(We.done)return We;var et=We.value,ut=et[0],ct=et[1];return z.call(K,ct,ut,Le)?se===2?We:b(se,ut,ct,We):(Qe=!1,{value:void 0,done:!0})})},Z})(this,A,D))},takeUntil:function(A,D){return this.takeWhile(yn(A),D)},update:function(A){return A(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=(function(A){if(A.size===1/0)return 0;var D=L(A),C=i(A),z=D?1:0;return A.__iterate(C?D?function(K,Z){z=31*z+ra(je(K),je(Z))|0}:function(K,Z){z=z+ra(je(K),je(Z))|0}:D?function(K){z=31*z+je(K)|0}:function(K){z=z+je(K)|0}),(function(K,Z){return Z=_e(Z,3432918353),Z=_e(Z<<15|Z>>>-15,461845907),Z=_e(Z<<13|Z>>>-13,5),Z=_e((Z=(Z+3864292196|0)^K)^Z>>>16,2246822507),we((Z=_e(Z^Z>>>13,3266489909))^Z>>>16)})(A.size,z)})(this))}});var Kt=a.prototype;Kt[n]=!0,Kt[y]=Kt.values,Kt.toJSON=Kt.toArray,Kt.__toStringMapper=Kn,Kt.inspect=Kt.toSource=function(){return this.toString()},Kt.chain=Kt.flatMap,Kt.contains=Kt.includes,en(l,{flip:function(){return ze(this,Y(this))},mapEntries:function(A,D){var C=this,z=0;return ze(this,this.toSeq().map(function(K,Z){return A.call(D,[Z,K],z++,C)}).fromEntrySeq())},mapKeys:function(A,D){var C=this;return ze(this,this.toSeq().flip().map(function(z,K){return A.call(D,z,K,C)}).flip())}});var tn=l.prototype;tn[u]=!0,tn[y]=Kt.entries,tn.toJSON=ea,tn.__toStringMapper=function(A,D){return Kn(D)+": "+Kn(A)},en(d,{toKeyedSeq:function(){return new mt(this,!1)},filter:function(A,D){return ze(this,Re(this,A,D,!1))},findIndex:function(A,D){var C=this.findEntry(A,D);return C?C[0]:-1},indexOf:function(A){var D=this.keyOf(A);return D===void 0?-1:D},lastIndexOf:function(A){var D=this.lastKeyOf(A);return D===void 0?-1:D},reverse:function(){return ze(this,pe(this,!1))},slice:function(A,D){return ze(this,Fe(this,A,D,!1))},splice:function(A,D){var C=arguments.length;if(D=Math.max(D||0,0),C===0||C===2&&!D)return this;A=k(A,A<0?this.count():this.size);var z=this.slice(0,A);return ze(this,C===1?z:z.concat(Ct(arguments,2),this.slice(A+D)))},findLastIndex:function(A,D){var C=this.findLastEntry(A,D);return C?C[0]:-1},first:function(A){return this.get(0,A)},flatten:function(A){return ze(this,Ue(this,A,!1))},get:function(A,D){return(A=V(this,A))<0||this.size===1/0||this.size!==void 0&&A>this.size?D:this.find(function(C,z){return z===A},void 0,D)},has:function(A){return(A=V(this,A))>=0&&(this.size!==void 0?this.size===1/0||A<this.size:this.indexOf(A)!==-1)},interpose:function(A){return ze(this,(function(D,C){var z=Ye(D);return z.size=D.size&&2*D.size-1,z.__iterateUncached=function(K,Z){var se=this,Oe=0;return D.__iterate(function(Le){return(!Oe||K(C,Oe++,se)!==!1)&&K(Le,Oe++,se)!==!1},Z),Oe},z.__iteratorUncached=function(K,Z){var se,Oe=D.__iterator(1,Z),Le=0;return new m(function(){return(!se||Le%2)&&(se=Oe.next()).done?se:Le%2?b(K,Le++,C):b(K,Le++,se.value,se)})},z})(this,A))},interleave:function(){var A=[this].concat(Ct(arguments)),D=$e(this.toSeq(),ie.of,A),C=D.flatten(!0);return D.size&&(C.size=D.size*A.length),ze(this,C)},keySeq:function(){return Dr(0,this.size)},last:function(A){return this.get(-1,A)},skipWhile:function(A,D){return ze(this,Ee(this,A,D,!1))},zip:function(){return ze(this,$e(this,io,[this].concat(Ct(arguments))))},zipAll:function(){return ze(this,$e(this,io,[this].concat(Ct(arguments)),!0))},zipWith:function(A){var D=Ct(arguments);return D[0]=this,ze(this,$e(this,A,D))}});var Fn=d.prototype;Fn[c]=!0,Fn[P]=!0,en(p,{get:function(A,D){return this.has(A)?A:D},includes:function(A){return this.has(A)},keySeq:function(){return this.valueSeq()}});var bn=p.prototype;function io(){return Ct(arguments)}function _i(A){return br(A)&&L(A)}bn.has=Kt.includes,bn.contains=bn.includes,bn.keys=bn.values,en(Se,tn),en(ie,Fn),en(me,bn);var Zn=(function(A){function D(C){return C==null?Je():_i(C)?C:Je().withMutations(function(z){var K=p(C);Lt(K.size),K.forEach(function(Z){return z.add(Z)})})}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.of=function(){return this(arguments)},D.fromKeys=function(C){return this(l(C).keySeq())},D.prototype.toString=function(){return this.__toString("OrderedSet {","}")},D})(Zr);Zn.isOrderedSet=_i;var ft,Ce=Zn.prototype;function Xe(A,D){var C=Object.create(Ce);return C.size=A?A.size:0,C._map=A,C.__ownerID=D,C}function Je(){return ft||(ft=Xe(Rr()))}Ce[P]=!0,Ce.zip=Fn.zip,Ce.zipWith=Fn.zipWith,Ce.zipAll=Fn.zipAll,Ce.__empty=Je,Ce.__make=Xe;var nt={LeftThenRight:-1,RightThenLeft:1},tt=function(A,D){var C;(function(Z){if(I(Z))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(j(Z))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(Z===null||typeof Z!="object")throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")})(A);var z=function(Z){var se=this;if(Z instanceof z)return Z;if(!(this instanceof z))return new z(Z);if(!C){C=!0;var Oe=Object.keys(A),Le=K._indices={};K._name=D,K._keys=Oe,K._defaultValues=A;for(var ke=0;ke<Oe.length;ke++){var Qe=Oe[ke];Le[Qe]=ke,K[Qe]?typeof console=="object"&&console.warn&&console.warn("Cannot define "+Zt(this)+' with property "'+Qe+'" since that property name is part of the Record API.'):na(K,Qe)}}return this.__ownerID=void 0,this._values=Xn().withMutations(function(We){We.setSize(se._keys.length),l(Z).forEach(function(et,ut){We.set(se._indices[ut],et===se._defaultValues[ut]?void 0:et)})}),this},K=z.prototype=Object.create(le);return K.constructor=z,D&&(z.displayName=D),z};tt.prototype.toString=function(){for(var A,D=Zt(this)+" { ",C=this._keys,z=0,K=C.length;z!==K;z++)D+=(z?", ":"")+(A=C[z])+": "+Kn(this.get(A));return D+" }"},tt.prototype.equals=function(A){return this===A||I(A)&&Vr(this).equals(Vr(A))},tt.prototype.hashCode=function(){return Vr(this).hashCode()},tt.prototype.has=function(A){return this._indices.hasOwnProperty(A)},tt.prototype.get=function(A,D){if(!this.has(A))return D;var C=this._indices[A],z=this._values.get(C);return z===void 0?this._defaultValues[A]:z},tt.prototype.set=function(A,D){if(this.has(A)){var C=this._values.set(this._indices[A],D===this._defaultValues[A]?void 0:D);if(C!==this._values&&!this.__ownerID)return Mt(this,C)}return this},tt.prototype.remove=function(A){return this.set(A)},tt.prototype.clear=function(){var A=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:Mt(this,A)},tt.prototype.wasAltered=function(){return this._values.wasAltered()},tt.prototype.toSeq=function(){return Vr(this)},tt.prototype.toJS=function(){return ta(this)},tt.prototype.entries=function(){return this.__iterator(2)},tt.prototype.__iterator=function(A,D){return Vr(this).__iterator(A,D)},tt.prototype.__iterate=function(A,D){return Vr(this).__iterate(A,D)},tt.prototype.__ensureOwner=function(A){if(A===this.__ownerID)return this;var D=this._values.__ensureOwner(A);return A?Mt(this,D,A):(this.__ownerID=A,this._values=D,this)},tt.isRecord=I,tt.getDescriptiveName=Zt;var le=tt.prototype;function Mt(A,D,C){var z=Object.create(Object.getPrototypeOf(A));return z._values=D,z.__ownerID=C,z}function Zt(A){return A.constructor.displayName||A.constructor.name||"Record"}function Vr(A){return B(A._keys.map(function(D){return[D,A.get(D)]}))}function na(A,D){try{Object.defineProperty(A,D,{get:function(){return this.get(D)},set:function(C){Sn(this.__ownerID,"Cannot set on an immutable record."),this.set(D,C)}})}catch{}}le[ye]=!0,le[T]=le.remove,le.deleteIn=le.removeIn=dn,le.getIn=Zi,le.hasIn=Kt.hasIn,le.merge=Er,le.mergeWith=Bt,le.mergeIn=xr,le.mergeDeep=Tn,le.mergeDeepWith=qi,le.mergeDeepIn=Bi,le.setIn=On,le.update=Ar,le.updateIn=gi,le.withMutations=jr,le.asMutable=fe,le.asImmutable=re,le[y]=le.entries,le.toJSON=le.toObject=Kt.toObject,le.inspect=le.toSource=function(){return this.toString()};var ei,be=(function(A){function D(C,z){if(!(this instanceof D))return new D(C,z);if(this._value=C,this.size=z===void 0?1/0:Math.max(0,z),this.size===0){if(ei)return ei;ei=this}}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},D.prototype.get=function(C,z){return this.has(C)?this._value:z},D.prototype.includes=function(C){return dt(this._value,C)},D.prototype.slice=function(C,z){var K=this.size;return U(C,z,K)?this:new D(this._value,$(z,K)-k(C,K))},D.prototype.reverse=function(){return this},D.prototype.indexOf=function(C){return dt(this._value,C)?0:-1},D.prototype.lastIndexOf=function(C){return dt(this._value,C)?this.size:-1},D.prototype.__iterate=function(C,z){for(var K=this.size,Z=0;Z!==K&&C(this._value,z?K-++Z:Z++,this)!==!1;);return Z},D.prototype.__iterator=function(C,z){var K=this,Z=this.size,se=0;return new m(function(){return se===Z?{value:void 0,done:!0}:b(C,z?Z-++se:se++,K._value)})},D.prototype.equals=function(C){return C instanceof D?dt(this._value,C._value):mn(this,C)},D})(ie);function $r(A,D){return Mn([],D||wi,A,"",D&&D.length>2?[]:void 0,{"":A})}function Mn(A,D,C,z,K,Z){if(typeof C!="string"&&!j(C)&&(ce(C)||_(C)||Vt(C))){if(~A.indexOf(C))throw new TypeError("Cannot convert circular structure to Immutable");A.push(C),K&&z!==""&&K.push(z);var se=D.call(Z,z,de(C).map(function(Oe,Le){return Mn(A,D,Oe,Le,K,C)}),K&&K.slice());return A.pop(),K&&K.pop(),se}return C}function wi(A,D){return o(D)?D.toList():i(D)?D.toMap():D.toSet()}var ia="5.1.4",Xt=a},49931:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BlankNode=void 0,e.BlankNode=class{constructor(s){this.termType="BlankNode",this.value=s}equals(s){return!!s&&s.termType==="BlankNode"&&s.value===this.value}}},50246:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.parse=function(p,f){return new a(p,f).parseDocument()},e.parseValue=function(p,f){var h=new a(p,f);h.expectToken(i.TokenKind.SOF);var y=h.parseValueLiteral(!1);return h.expectToken(i.TokenKind.EOF),y},e.parseType=function(p,f){var h=new a(p,f);h.expectToken(i.TokenKind.SOF);var y=h.parseTypeReference();return h.expectToken(i.TokenKind.EOF),y},e.Parser=void 0;var c=s(51352),o=s(7030),u=s(76257),i=s(73038),r=s(46876),n=s(5919),t=s(46083),a=(function(){function p(h,y){var m=(0,r.isSource)(h)?h:new r.Source(h);this._lexer=new t.Lexer(m),this._options=y}var f=p.prototype;return f.parseName=function(){var h=this.expectToken(i.TokenKind.NAME);return{kind:o.Kind.NAME,value:h.value,loc:this.loc(h)}},f.parseDocument=function(){var h=this._lexer.token;return{kind:o.Kind.DOCUMENT,definitions:this.many(i.TokenKind.SOF,this.parseDefinition,i.TokenKind.EOF),loc:this.loc(h)}},f.parseDefinition=function(){if(this.peek(i.TokenKind.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(i.TokenKind.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},f.parseOperationDefinition=function(){var h=this._lexer.token;if(this.peek(i.TokenKind.BRACE_L))return{kind:o.Kind.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(h)};var y,m=this.parseOperationType();return this.peek(i.TokenKind.NAME)&&(y=this.parseName()),{kind:o.Kind.OPERATION_DEFINITION,operation:m,name:y,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(h)}},f.parseOperationType=function(){var h=this.expectToken(i.TokenKind.NAME);switch(h.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(h)},f.parseVariableDefinitions=function(){return this.optionalMany(i.TokenKind.PAREN_L,this.parseVariableDefinition,i.TokenKind.PAREN_R)},f.parseVariableDefinition=function(){var h=this._lexer.token;return{kind:o.Kind.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(i.TokenKind.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(i.TokenKind.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(h)}},f.parseVariable=function(){var h=this._lexer.token;return this.expectToken(i.TokenKind.DOLLAR),{kind:o.Kind.VARIABLE,name:this.parseName(),loc:this.loc(h)}},f.parseSelectionSet=function(){var h=this._lexer.token;return{kind:o.Kind.SELECTION_SET,selections:this.many(i.TokenKind.BRACE_L,this.parseSelection,i.TokenKind.BRACE_R),loc:this.loc(h)}},f.parseSelection=function(){return this.peek(i.TokenKind.SPREAD)?this.parseFragment():this.parseField()},f.parseField=function(){var h,y,m=this._lexer.token,b=this.parseName();return this.expectOptionalToken(i.TokenKind.COLON)?(h=b,y=this.parseName()):y=b,{kind:o.Kind.FIELD,alias:h,name:y,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(i.TokenKind.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(m)}},f.parseArguments=function(h){var y=h?this.parseConstArgument:this.parseArgument;return this.optionalMany(i.TokenKind.PAREN_L,y,i.TokenKind.PAREN_R)},f.parseArgument=function(){var h=this._lexer.token,y=this.parseName();return this.expectToken(i.TokenKind.COLON),{kind:o.Kind.ARGUMENT,name:y,value:this.parseValueLiteral(!1),loc:this.loc(h)}},f.parseConstArgument=function(){var h=this._lexer.token;return{kind:o.Kind.ARGUMENT,name:this.parseName(),value:(this.expectToken(i.TokenKind.COLON),this.parseValueLiteral(!0)),loc:this.loc(h)}},f.parseFragment=function(){var h=this._lexer.token;this.expectToken(i.TokenKind.SPREAD);var y=this.expectOptionalKeyword("on");return!y&&this.peek(i.TokenKind.NAME)?{kind:o.Kind.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(h)}:{kind:o.Kind.INLINE_FRAGMENT,typeCondition:y?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(h)}},f.parseFragmentDefinition=function(){var h,y=this._lexer.token;return this.expectKeyword("fragment"),((h=this._options)===null||h===void 0?void 0:h.experimentalFragmentVariables)===!0?{kind:o.Kind.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(y)}:{kind:o.Kind.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(y)}},f.parseFragmentName=function(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()},f.parseValueLiteral=function(h){var y=this._lexer.token;switch(y.kind){case i.TokenKind.BRACKET_L:return this.parseList(h);case i.TokenKind.BRACE_L:return this.parseObject(h);case i.TokenKind.INT:return this._lexer.advance(),{kind:o.Kind.INT,value:y.value,loc:this.loc(y)};case i.TokenKind.FLOAT:return this._lexer.advance(),{kind:o.Kind.FLOAT,value:y.value,loc:this.loc(y)};case i.TokenKind.STRING:case i.TokenKind.BLOCK_STRING:return this.parseStringLiteral();case i.TokenKind.NAME:switch(this._lexer.advance(),y.value){case"true":return{kind:o.Kind.BOOLEAN,value:!0,loc:this.loc(y)};case"false":return{kind:o.Kind.BOOLEAN,value:!1,loc:this.loc(y)};case"null":return{kind:o.Kind.NULL,loc:this.loc(y)};default:return{kind:o.Kind.ENUM,value:y.value,loc:this.loc(y)}}case i.TokenKind.DOLLAR:if(!h)return this.parseVariable()}throw this.unexpected()},f.parseStringLiteral=function(){var h=this._lexer.token;return this._lexer.advance(),{kind:o.Kind.STRING,value:h.value,block:h.kind===i.TokenKind.BLOCK_STRING,loc:this.loc(h)}},f.parseList=function(h){var y=this,m=this._lexer.token;return{kind:o.Kind.LIST,values:this.any(i.TokenKind.BRACKET_L,function(){return y.parseValueLiteral(h)},i.TokenKind.BRACKET_R),loc:this.loc(m)}},f.parseObject=function(h){var y=this,m=this._lexer.token;return{kind:o.Kind.OBJECT,fields:this.any(i.TokenKind.BRACE_L,function(){return y.parseObjectField(h)},i.TokenKind.BRACE_R),loc:this.loc(m)}},f.parseObjectField=function(h){var y=this._lexer.token,m=this.parseName();return this.expectToken(i.TokenKind.COLON),{kind:o.Kind.OBJECT_FIELD,name:m,value:this.parseValueLiteral(h),loc:this.loc(y)}},f.parseDirectives=function(h){for(var y=[];this.peek(i.TokenKind.AT);)y.push(this.parseDirective(h));return y},f.parseDirective=function(h){var y=this._lexer.token;return this.expectToken(i.TokenKind.AT),{kind:o.Kind.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(h),loc:this.loc(y)}},f.parseTypeReference=function(){var h,y=this._lexer.token;return this.expectOptionalToken(i.TokenKind.BRACKET_L)?(h=this.parseTypeReference(),this.expectToken(i.TokenKind.BRACKET_R),h={kind:o.Kind.LIST_TYPE,type:h,loc:this.loc(y)}):h=this.parseNamedType(),this.expectOptionalToken(i.TokenKind.BANG)?{kind:o.Kind.NON_NULL_TYPE,type:h,loc:this.loc(y)}:h},f.parseNamedType=function(){var h=this._lexer.token;return{kind:o.Kind.NAMED_TYPE,name:this.parseName(),loc:this.loc(h)}},f.parseTypeSystemDefinition=function(){var h=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(h.kind===i.TokenKind.NAME)switch(h.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(h)},f.peekDescription=function(){return this.peek(i.TokenKind.STRING)||this.peek(i.TokenKind.BLOCK_STRING)},f.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},f.parseSchemaDefinition=function(){var h=this._lexer.token,y=this.parseDescription();this.expectKeyword("schema");var m=this.parseDirectives(!0),b=this.many(i.TokenKind.BRACE_L,this.parseOperationTypeDefinition,i.TokenKind.BRACE_R);return{kind:o.Kind.SCHEMA_DEFINITION,description:y,directives:m,operationTypes:b,loc:this.loc(h)}},f.parseOperationTypeDefinition=function(){var h=this._lexer.token,y=this.parseOperationType();this.expectToken(i.TokenKind.COLON);var m=this.parseNamedType();return{kind:o.Kind.OPERATION_TYPE_DEFINITION,operation:y,type:m,loc:this.loc(h)}},f.parseScalarTypeDefinition=function(){var h=this._lexer.token,y=this.parseDescription();this.expectKeyword("scalar");var m=this.parseName(),b=this.parseDirectives(!0);return{kind:o.Kind.SCALAR_TYPE_DEFINITION,description:y,name:m,directives:b,loc:this.loc(h)}},f.parseObjectTypeDefinition=function(){var h=this._lexer.token,y=this.parseDescription();this.expectKeyword("type");var m=this.parseName(),b=this.parseImplementsInterfaces(),v=this.parseDirectives(!0),_=this.parseFieldsDefinition();return{kind:o.Kind.OBJECT_TYPE_DEFINITION,description:y,name:m,interfaces:b,directives:v,fields:_,loc:this.loc(h)}},f.parseImplementsInterfaces=function(){var h;if(!this.expectOptionalKeyword("implements"))return[];if(((h=this._options)===null||h===void 0?void 0:h.allowLegacySDLImplementsInterfaces)===!0){var y=[];this.expectOptionalToken(i.TokenKind.AMP);do y.push(this.parseNamedType());while(this.expectOptionalToken(i.TokenKind.AMP)||this.peek(i.TokenKind.NAME));return y}return this.delimitedMany(i.TokenKind.AMP,this.parseNamedType)},f.parseFieldsDefinition=function(){var h;return((h=this._options)===null||h===void 0?void 0:h.allowLegacySDLEmptyFields)===!0&&this.peek(i.TokenKind.BRACE_L)&&this._lexer.lookahead().kind===i.TokenKind.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(i.TokenKind.BRACE_L,this.parseFieldDefinition,i.TokenKind.BRACE_R)},f.parseFieldDefinition=function(){var h=this._lexer.token,y=this.parseDescription(),m=this.parseName(),b=this.parseArgumentDefs();this.expectToken(i.TokenKind.COLON);var v=this.parseTypeReference(),_=this.parseDirectives(!0);return{kind:o.Kind.FIELD_DEFINITION,description:y,name:m,arguments:b,type:v,directives:_,loc:this.loc(h)}},f.parseArgumentDefs=function(){return this.optionalMany(i.TokenKind.PAREN_L,this.parseInputValueDef,i.TokenKind.PAREN_R)},f.parseInputValueDef=function(){var h=this._lexer.token,y=this.parseDescription(),m=this.parseName();this.expectToken(i.TokenKind.COLON);var b,v=this.parseTypeReference();this.expectOptionalToken(i.TokenKind.EQUALS)&&(b=this.parseValueLiteral(!0));var _=this.parseDirectives(!0);return{kind:o.Kind.INPUT_VALUE_DEFINITION,description:y,name:m,type:v,defaultValue:b,directives:_,loc:this.loc(h)}},f.parseInterfaceTypeDefinition=function(){var h=this._lexer.token,y=this.parseDescription();this.expectKeyword("interface");var m=this.parseName(),b=this.parseImplementsInterfaces(),v=this.parseDirectives(!0),_=this.parseFieldsDefinition();return{kind:o.Kind.INTERFACE_TYPE_DEFINITION,description:y,name:m,interfaces:b,directives:v,fields:_,loc:this.loc(h)}},f.parseUnionTypeDefinition=function(){var h=this._lexer.token,y=this.parseDescription();this.expectKeyword("union");var m=this.parseName(),b=this.parseDirectives(!0),v=this.parseUnionMemberTypes();return{kind:o.Kind.UNION_TYPE_DEFINITION,description:y,name:m,directives:b,types:v,loc:this.loc(h)}},f.parseUnionMemberTypes=function(){return this.expectOptionalToken(i.TokenKind.EQUALS)?this.delimitedMany(i.TokenKind.PIPE,this.parseNamedType):[]},f.parseEnumTypeDefinition=function(){var h=this._lexer.token,y=this.parseDescription();this.expectKeyword("enum");var m=this.parseName(),b=this.parseDirectives(!0),v=this.parseEnumValuesDefinition();return{kind:o.Kind.ENUM_TYPE_DEFINITION,description:y,name:m,directives:b,values:v,loc:this.loc(h)}},f.parseEnumValuesDefinition=function(){return this.optionalMany(i.TokenKind.BRACE_L,this.parseEnumValueDefinition,i.TokenKind.BRACE_R)},f.parseEnumValueDefinition=function(){var h=this._lexer.token,y=this.parseDescription(),m=this.parseName(),b=this.parseDirectives(!0);return{kind:o.Kind.ENUM_VALUE_DEFINITION,description:y,name:m,directives:b,loc:this.loc(h)}},f.parseInputObjectTypeDefinition=function(){var h=this._lexer.token,y=this.parseDescription();this.expectKeyword("input");var m=this.parseName(),b=this.parseDirectives(!0),v=this.parseInputFieldsDefinition();return{kind:o.Kind.INPUT_OBJECT_TYPE_DEFINITION,description:y,name:m,directives:b,fields:v,loc:this.loc(h)}},f.parseInputFieldsDefinition=function(){return this.optionalMany(i.TokenKind.BRACE_L,this.parseInputValueDef,i.TokenKind.BRACE_R)},f.parseTypeSystemExtension=function(){var h=this._lexer.lookahead();if(h.kind===i.TokenKind.NAME)switch(h.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(h)},f.parseSchemaExtension=function(){var h=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var y=this.parseDirectives(!0),m=this.optionalMany(i.TokenKind.BRACE_L,this.parseOperationTypeDefinition,i.TokenKind.BRACE_R);if(y.length===0&&m.length===0)throw this.unexpected();return{kind:o.Kind.SCHEMA_EXTENSION,directives:y,operationTypes:m,loc:this.loc(h)}},f.parseScalarTypeExtension=function(){var h=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var y=this.parseName(),m=this.parseDirectives(!0);if(m.length===0)throw this.unexpected();return{kind:o.Kind.SCALAR_TYPE_EXTENSION,name:y,directives:m,loc:this.loc(h)}},f.parseObjectTypeExtension=function(){var h=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var y=this.parseName(),m=this.parseImplementsInterfaces(),b=this.parseDirectives(!0),v=this.parseFieldsDefinition();if(m.length===0&&b.length===0&&v.length===0)throw this.unexpected();return{kind:o.Kind.OBJECT_TYPE_EXTENSION,name:y,interfaces:m,directives:b,fields:v,loc:this.loc(h)}},f.parseInterfaceTypeExtension=function(){var h=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var y=this.parseName(),m=this.parseImplementsInterfaces(),b=this.parseDirectives(!0),v=this.parseFieldsDefinition();if(m.length===0&&b.length===0&&v.length===0)throw this.unexpected();return{kind:o.Kind.INTERFACE_TYPE_EXTENSION,name:y,interfaces:m,directives:b,fields:v,loc:this.loc(h)}},f.parseUnionTypeExtension=function(){var h=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var y=this.parseName(),m=this.parseDirectives(!0),b=this.parseUnionMemberTypes();if(m.length===0&&b.length===0)throw this.unexpected();return{kind:o.Kind.UNION_TYPE_EXTENSION,name:y,directives:m,types:b,loc:this.loc(h)}},f.parseEnumTypeExtension=function(){var h=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var y=this.parseName(),m=this.parseDirectives(!0),b=this.parseEnumValuesDefinition();if(m.length===0&&b.length===0)throw this.unexpected();return{kind:o.Kind.ENUM_TYPE_EXTENSION,name:y,directives:m,values:b,loc:this.loc(h)}},f.parseInputObjectTypeExtension=function(){var h=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var y=this.parseName(),m=this.parseDirectives(!0),b=this.parseInputFieldsDefinition();if(m.length===0&&b.length===0)throw this.unexpected();return{kind:o.Kind.INPUT_OBJECT_TYPE_EXTENSION,name:y,directives:m,fields:b,loc:this.loc(h)}},f.parseDirectiveDefinition=function(){var h=this._lexer.token,y=this.parseDescription();this.expectKeyword("directive"),this.expectToken(i.TokenKind.AT);var m=this.parseName(),b=this.parseArgumentDefs(),v=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var _=this.parseDirectiveLocations();return{kind:o.Kind.DIRECTIVE_DEFINITION,description:y,name:m,arguments:b,repeatable:v,locations:_,loc:this.loc(h)}},f.parseDirectiveLocations=function(){return this.delimitedMany(i.TokenKind.PIPE,this.parseDirectiveLocation)},f.parseDirectiveLocation=function(){var h=this._lexer.token,y=this.parseName();if(n.DirectiveLocation[y.value]!==void 0)return y;throw this.unexpected(h)},f.loc=function(h){var y;if(((y=this._options)===null||y===void 0?void 0:y.noLocation)!==!0)return new u.Location(h,this._lexer.lastToken,this._lexer.source)},f.peek=function(h){return this._lexer.token.kind===h},f.expectToken=function(h){var y=this._lexer.token;if(y.kind===h)return this._lexer.advance(),y;throw(0,c.syntaxError)(this._lexer.source,y.start,"Expected ".concat(d(h),", found ").concat(l(y),"."))},f.expectOptionalToken=function(h){var y=this._lexer.token;if(y.kind===h)return this._lexer.advance(),y},f.expectKeyword=function(h){var y=this._lexer.token;if(y.kind!==i.TokenKind.NAME||y.value!==h)throw(0,c.syntaxError)(this._lexer.source,y.start,'Expected "'.concat(h,'", found ').concat(l(y),"."));this._lexer.advance()},f.expectOptionalKeyword=function(h){var y=this._lexer.token;return y.kind===i.TokenKind.NAME&&y.value===h&&(this._lexer.advance(),!0)},f.unexpected=function(h){var y=h??this._lexer.token;return(0,c.syntaxError)(this._lexer.source,y.start,"Unexpected ".concat(l(y),"."))},f.any=function(h,y,m){this.expectToken(h);for(var b=[];!this.expectOptionalToken(m);)b.push(y.call(this));return b},f.optionalMany=function(h,y,m){if(this.expectOptionalToken(h)){var b=[];do b.push(y.call(this));while(!this.expectOptionalToken(m));return b}return[]},f.many=function(h,y,m){this.expectToken(h);var b=[];do b.push(y.call(this));while(!this.expectOptionalToken(m));return b},f.delimitedMany=function(h,y){this.expectOptionalToken(h);var m=[];do m.push(y.call(this));while(this.expectOptionalToken(h));return m},p})();function l(p){var f=p.value;return d(p.kind)+(f!=null?' "'.concat(f,'"'):"")}function d(p){return(0,t.isPunctuatorTokenKind)(p)?'"'.concat(p,'"'):p}e.Parser=a},50311:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorHttpWayback=void 0;const c=s(70322),o=s(90711),u=s(90412),i=s(52728);function r(a){const l=new Request(a.input,a.init);return{input:new Request(new URL(`/${l.url}`,"http://wayback.archive-it.org/"),l)}}function n(a){const l=a.get(o.KeysHttpProxy.httpProxyHandler);return l?d=>l.getProxy(r(d)):d=>Promise.resolve(r(d))}class t extends c.ActorHttp{constructor(l){super(l)}async test(l){return(0,u.passTestVoid)()}async run(l){let d=await this.mediatorHttp.mediate(l);if(d.status===404&&l.context.get(o.KeysHttpWayback.recoverBrokenLinks)){let p=await this.mediatorHttp.mediate({...l,context:l.context.set(o.KeysHttpWayback.recoverBrokenLinks,!1).set(o.KeysHttpProxy.httpProxyHandler,{getProxy:n(l.context)})});p.status===200&&([d,p]=[p,d]);const{body:f}=p;f&&("cancel"in f&&typeof f.cancel=="function"?await f.cancel():"destroy"in f&&typeof f.destroy=="function"?f.destroy():await(0,i.stringify)(c.ActorHttp.toNodeReadable(f)))}return d}}e.ActorHttpWayback=t},50433:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(12957),e)},50608:(g,e,s)=>{var{Buffer:c}=s(48287),o={},u=o.LEFT_BRACE=1,i=o.RIGHT_BRACE=2,r=o.LEFT_BRACKET=3,n=o.RIGHT_BRACKET=4,t=o.COLON=5,a=o.COMMA=6,l=o.TRUE=7,d=o.FALSE=8,p=o.NULL=9,f=o.STRING=10,h=o.NUMBER=11,y=o.START=17,m=o.STOP=18,b=o.TRUE1=33,v=o.TRUE2=34,_=o.TRUE3=35,w=o.FALSE1=49,S=o.FALSE2=50,x=o.FALSE3=51,T=o.FALSE4=52,O=o.NULL1=65,E=o.NULL2=66,R=o.NULL3=67,M=o.NUMBER1=81,Q=o.NUMBER3=83,X=o.STRING1=97,V=o.STRING2=98,H=o.STRING3=99,U=o.STRING4=100,k=o.STRING5=101,$=o.STRING6=102,ae=o.VALUE=113,he=o.KEY=114,ye=o.OBJECT=129,I=o.ARRAY=130,j=92,P=47,L=8,G=12,te=10,W=13,ce=9,de=65536;function Se(oe){return c.alloc?c.alloc(oe):new c(oe)}function ie(){this.tState=y,this.value=void 0,this.string=void 0,this.stringBuffer=Se(de),this.stringBufferOffset=0,this.unicode=void 0,this.highSurrogate=void 0,this.key=void 0,this.mode=void 0,this.stack=[],this.state=ae,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:Se(2),3:Se(3),4:Se(4)},this.offset=-1}ie.toknam=function(oe){for(var ve=Object.keys(o),xe=0,q=ve.length;xe<q;xe++){var N=ve[xe];if(o[N]===oe)return N}return oe&&"0x"+oe.toString(16)};var me=ie.prototype;me.onError=function(oe){throw oe},me.charError=function(oe,ve){this.tState=m,this.onError(new Error("Unexpected "+JSON.stringify(String.fromCharCode(oe[ve]))+" at position "+ve+" in state "+ie.toknam(this.tState)))},me.appendStringChar=function(oe){this.stringBufferOffset>=de&&(this.string+=this.stringBuffer.toString("utf8"),this.stringBufferOffset=0),this.stringBuffer[this.stringBufferOffset++]=oe},me.appendStringBuf=function(oe,ve,xe){var q=oe.length;typeof ve=="number"&&(q=typeof xe=="number"?xe<0?oe.length-ve+xe:xe-ve:oe.length-ve),q<0&&(q=0),this.stringBufferOffset+q>de&&(this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0),oe.copy(this.stringBuffer,this.stringBufferOffset,ve,xe),this.stringBufferOffset+=q},me.write=function(oe){var ve;typeof oe=="string"&&(oe=new c(oe));for(var xe=0,q=oe.length;xe<q;xe++)if(this.tState===y){if(ve=oe[xe],this.offset++,ve===123)this.onToken(u,"{");else if(ve===125)this.onToken(i,"}");else if(ve===91)this.onToken(r,"[");else if(ve===93)this.onToken(n,"]");else if(ve===58)this.onToken(t,":");else if(ve===44)this.onToken(a,",");else if(ve===116)this.tState=b;else if(ve===102)this.tState=w;else if(ve===110)this.tState=O;else if(ve===34)this.string="",this.stringBufferOffset=0,this.tState=X;else if(ve===45)this.string="-",this.tState=M;else if(ve>=48&&ve<64)this.string=String.fromCharCode(ve),this.tState=Q;else if(ve!==32&&ve!==9&&ve!==10&&ve!==13)return this.charError(oe,xe)}else if(this.tState===X)if(ve=oe[xe],this.bytes_remaining>0){for(var N=0;N<this.bytes_remaining;N++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+N]=oe[N];this.appendStringBuf(this.temp_buffs[this.bytes_in_sequence]),this.bytes_in_sequence=this.bytes_remaining=0,xe=xe+N-1}else if(this.bytes_remaining===0&&ve>=128){if(ve<=193||ve>244)return this.onError(new Error("Invalid UTF-8 character at position "+xe+" in state "+ie.toknam(this.tState)));if(ve>=194&&ve<=223&&(this.bytes_in_sequence=2),ve>=224&&ve<=239&&(this.bytes_in_sequence=3),ve>=240&&ve<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+xe>oe.length){for(var B=0;B<=oe.length-1-xe;B++)this.temp_buffs[this.bytes_in_sequence][B]=oe[xe+B];this.bytes_remaining=xe+this.bytes_in_sequence-oe.length,xe=oe.length-1}else this.appendStringBuf(oe,xe,xe+this.bytes_in_sequence),xe=xe+this.bytes_in_sequence-1}else if(ve===34)this.tState=y,this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0,this.onToken(f,this.string),this.offset+=c.byteLength(this.string,"utf8")+1,this.string=void 0;else if(ve===92)this.tState=V;else{if(!(ve>=32))return this.charError(oe,xe);this.appendStringChar(ve)}else if(this.tState===V)if((ve=oe[xe])===34)this.appendStringChar(ve),this.tState=X;else if(ve===92)this.appendStringChar(j),this.tState=X;else if(ve===47)this.appendStringChar(P),this.tState=X;else if(ve===98)this.appendStringChar(L),this.tState=X;else if(ve===102)this.appendStringChar(G),this.tState=X;else if(ve===110)this.appendStringChar(te),this.tState=X;else if(ve===114)this.appendStringChar(W),this.tState=X;else if(ve===116)this.appendStringChar(ce),this.tState=X;else{if(ve!==117)return this.charError(oe,xe);this.unicode="",this.tState=H}else if(this.tState===H||this.tState===U||this.tState===k||this.tState===$){if(!((ve=oe[xe])>=48&&ve<64||ve>64&&ve<=70||ve>96&&ve<=102))return this.charError(oe,xe);if(this.unicode+=String.fromCharCode(ve),this.tState++===$){var J=parseInt(this.unicode,16);this.unicode=void 0,this.highSurrogate!==void 0&&J>=56320&&J<57344?(this.appendStringBuf(new c(String.fromCharCode(this.highSurrogate,J))),this.highSurrogate=void 0):this.highSurrogate===void 0&&J>=55296&&J<56320?this.highSurrogate=J:(this.highSurrogate!==void 0&&(this.appendStringBuf(new c(String.fromCharCode(this.highSurrogate))),this.highSurrogate=void 0),this.appendStringBuf(new c(String.fromCharCode(J)))),this.tState=X}}else if(this.tState===M||this.tState===Q)switch(ve=oe[xe]){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 46:case 101:case 69:case 43:case 45:this.string+=String.fromCharCode(ve),this.tState=Q;break;default:this.tState=y;var ne=this.numberReviver(this.string,oe,xe);if(ne)return ne;this.offset+=this.string.length-1,this.string=void 0,xe--}else if(this.tState===b){if(oe[xe]!==114)return this.charError(oe,xe);this.tState=v}else if(this.tState===v){if(oe[xe]!==117)return this.charError(oe,xe);this.tState=_}else if(this.tState===_){if(oe[xe]!==101)return this.charError(oe,xe);this.tState=y,this.onToken(l,!0),this.offset+=3}else if(this.tState===w){if(oe[xe]!==97)return this.charError(oe,xe);this.tState=S}else if(this.tState===S){if(oe[xe]!==108)return this.charError(oe,xe);this.tState=x}else if(this.tState===x){if(oe[xe]!==115)return this.charError(oe,xe);this.tState=T}else if(this.tState===T){if(oe[xe]!==101)return this.charError(oe,xe);this.tState=y,this.onToken(d,!1),this.offset+=4}else if(this.tState===O){if(oe[xe]!==117)return this.charError(oe,xe);this.tState=E}else if(this.tState===E){if(oe[xe]!==108)return this.charError(oe,xe);this.tState=R}else if(this.tState===R){if(oe[xe]!==108)return this.charError(oe,xe);this.tState=y,this.onToken(p,null),this.offset+=3}},me.onToken=function(oe,ve){},me.parseError=function(oe,ve){this.tState=m,this.onError(new Error("Unexpected "+ie.toknam(oe)+(ve?"("+JSON.stringify(ve)+")":"")+" in state "+ie.toknam(this.state)))},me.push=function(){this.stack.push({value:this.value,key:this.key,mode:this.mode})},me.pop=function(){var oe=this.value,ve=this.stack.pop();this.value=ve.value,this.key=ve.key,this.mode=ve.mode,this.emit(oe),this.mode||(this.state=ae)},me.emit=function(oe){this.mode&&(this.state=a),this.onValue(oe)},me.onValue=function(oe){},me.onToken=function(oe,ve){if(this.state===ae)if(oe===f||oe===h||oe===l||oe===d||oe===p)this.value&&(this.value[this.key]=ve),this.emit(ve);else if(oe===u)this.push(),this.value?this.value=this.value[this.key]={}:this.value={},this.key=void 0,this.state=he,this.mode=ye;else if(oe===r)this.push(),this.value?this.value=this.value[this.key]=[]:this.value=[],this.key=0,this.mode=I,this.state=ae;else if(oe===i){if(this.mode!==ye)return this.parseError(oe,ve);this.pop()}else{if(oe!==n)return this.parseError(oe,ve);if(this.mode!==I)return this.parseError(oe,ve);this.pop()}else if(this.state===he)if(oe===f)this.key=ve,this.state=t;else{if(oe!==i)return this.parseError(oe,ve);this.pop()}else if(this.state===t){if(oe!==t)return this.parseError(oe,ve);this.state=ae}else{if(this.state!==a)return this.parseError(oe,ve);if(oe===a)this.mode===I?(this.key++,this.state=ae):this.mode===ye&&(this.state=he);else{if(!(oe===n&&this.mode===I||oe===i&&this.mode===ye))return this.parseError(oe,ve);this.pop()}}},me.numberReviver=function(oe,ve,xe){var q=Number(oe);if(isNaN(q))return this.charError(ve,xe);oe.match(/[0-9]+/)==oe&&q.toString()!=oe?this.onToken(f,oe):this.onToken(h,q)},ie.C=o,g.exports=ie},50620:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermIsNumeric=void 0;const c=s(77617),o=s(77545),u=s(77415);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.SparqlOperator.IS_NUMERIC],termFunction:!0})}async run(n){return new u.TermFunctionIsNumeric}}e.ActorFunctionFactoryTermIsNumeric=i},50632:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(9159),e),o(s(27368),e)},50673:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Literal=void 0;const c=s(58283);class o{constructor(i,r){this.termType="Literal",this.value=i,typeof r=="string"?(this.language=r,this.datatype=o.RDF_LANGUAGE_STRING,this.direction=""):r?"termType"in r?(this.language="",this.datatype=r,this.direction=""):(this.language=r.language,this.datatype=r.direction?o.RDF_DIRECTIONAL_LANGUAGE_STRING:o.RDF_LANGUAGE_STRING,this.direction=r.direction||""):(this.language="",this.datatype=o.XSD_STRING,this.direction="")}equals(i){return!!i&&i.termType==="Literal"&&i.value===this.value&&i.language===this.language&&(i.direction===this.direction||!i.direction&&this.direction==="")&&this.datatype.equals(i.datatype)}}e.Literal=o,o.RDF_LANGUAGE_STRING=new c.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),o.RDF_DIRECTIONAL_LANGUAGE_STRING=new c.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#dirLangString"),o.XSD_STRING=new c.NamedNode("http://www.w3.org/2001/XMLSchema#string")},50776:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorBindingsAggregatorFactoryGroupConcat=void 0;const c=s(86581),o=s(90711),u=s(90412),i=s(52573);class r extends c.ActorBindingsAggregatorFactory{constructor(t){super(t)}async test(t){return t.expr.aggregator!=="group_concat"?(0,u.failTest)("This actor only supports the 'group_concat' aggregator."):(0,u.passTestVoid)()}async run({context:t,expr:a}){return new i.GroupConcatAggregator(await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:a.expression,context:t}),a.distinct,t.getSafe(o.KeysInitQuery.dataFactory),a.separator)}}e.ActorBindingsAggregatorFactoryGroupConcat=r},50789:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfMetadataPrimaryTopic=void 0;const c=s(14752),o=s(90412),u=s(19198);class i extends c.ActorRdfMetadata{constructor(n){super(n)}async test(n){return n.triples?(0,o.failTest)("This actor only supports non-triple quad streams."):(0,o.passTestVoid)()}async run(n){const t=new u.Readable({objectMode:!0}),a=new u.Readable({objectMode:!0}),l=()=>{t._read=a._read=()=>{},n.quads.on("error",h=>{t.emit("error",h),a.emit("error",h)});const d={};let p;const f={};n.quads.on("data",h=>{h.predicate.value==="http://rdfs.org/ns/void#subset"&&h.object.value===n.url?p=h.subject.value:h.predicate.value==="http://xmlns.com/foaf/0.1/primaryTopic"&&(f[h.object.value]=h.subject.value);let y=d[h.graph.value];y||(y=d[h.graph.value]=[]),y.push(h)}),n.quads.on("end",()=>{const h=p?f[p]:void 0;for(const y in d)if(y===h){for(const m of d[y])a.push(m);if(this.metadataToData)for(const m of d[y])t.push(m)}else{for(const m of d[y])t.push(m);if(!h&&this.dataToMetadataOnInvalidMetadataGraph)for(const m of d[y])a.push(m)}t.push(null),a.push(null)})};return t._read=a._read=()=>{l()},{data:t,metadata:a}}}e.ActorRdfMetadataPrimaryTopic=i},50952:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.readableFromWeb=e.ReadableFromWeb=void 0;const c=s(19198);class o extends c.Readable{constructor(i,r){super(r),this.reader=i.getReader(),this.readerClosed=!1,this.reader.closed.then(()=>{this.readerClosed=!0}).catch(n=>{this.readerClosed=!0,this.destroy(n)})}_read(){this.reader.read().then(i=>this.push(i.done?null:i.value)).catch(i=>this.destroy(i))}destroy(i){return this.readerClosed||this.reader.cancel(i).then().catch(()=>{}),super.destroy(i)}}e.ReadableFromWeb=o,e.readableFromWeb=function(u,i){return new o(u,i)}},51009:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(3170),e),o(s(68686),e),o(s(47194),e),o(s(36458),e),o(s(8770),e),o(s(43392),e),o(s(48073),e),o(s(75636),e),o(s(86126),e),o(s(73153),e)},51038:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.termToString=e.stringToTerm=e.stringQuadToQuad=e.quadToStringQuad=e.getLiteralValue=e.getLiteralType=e.getLiteralLanguage=void 0;const c=s(3038);Object.defineProperty(e,"getLiteralLanguage",{enumerable:!0,get:function(){return c.getLiteralLanguage}}),Object.defineProperty(e,"getLiteralType",{enumerable:!0,get:function(){return c.getLiteralType}}),Object.defineProperty(e,"getLiteralValue",{enumerable:!0,get:function(){return c.getLiteralValue}}),Object.defineProperty(e,"quadToStringQuad",{enumerable:!0,get:function(){return c.quadToStringQuad}}),Object.defineProperty(e,"stringQuadToQuad",{enumerable:!0,get:function(){return c.stringQuadToQuad}}),Object.defineProperty(e,"stringToTerm",{enumerable:!0,get:function(){return c.stringToTerm}}),Object.defineProperty(e,"termToString",{enumerable:!0,get:function(){return c.termToString}})},51060:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(46293),e)},51167:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{constructor(s){this.indents=0,this.write=s.write,this.end=s.end}indent(){return this.indents+=1,this}deindent(){if(this.indents<1)throw new Error(`Trying to deindent when indent is only ${this.indents}`);return this.indents-=1,this}add(s,c=!1){return this.write(c?`
${"	".repeat(this.indents)}${s}`:s,"utf-8"),this}newLine(s=2){return this.write(`
`.repeat(s)+"	".repeat(this.indents),"utf-8"),this}}},51192:function(g,e,s){var c=this&&this.__awaiter||function(u,i,r,n){return new(r||(r=Promise))(function(t,a){function l(f){try{p(n.next(f))}catch(h){a(h)}}function d(f){try{p(n.throw(f))}catch(h){a(h)}}function p(f){var h;f.done?t(f.value):(h=f.value,h instanceof r?h:new r(function(y){y(h)})).then(l,d)}p((n=n.apply(u,i||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.lookupUri=void 0;const o=s(37338);e.lookupUri=function(u,i){return c(this,void 0,void 0,function*(){const r=(yield(0,o.fetchContext)(`https://prefix.cc/${u}.file.jsonld`,i))[u];if(typeof r!="string")throw new Error(`Expected uri to be a string, received: ${r} of type ${typeof r}`);return r})}},51237:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(58959),e),o(s(7394),e)},51296:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(4450),e),o(s(11752),e)},51352:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.syntaxError=function(o,u,i){return new c.GraphQLError("Syntax Error: ".concat(i),void 0,o,[u])};var c=s(61702)},51690:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},51905:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.termToString=e.stringToTerm=e.stringQuadToQuad=e.quadToStringQuad=e.getLiteralValue=e.getLiteralType=e.getLiteralLanguage=void 0;const c=s(49251);Object.defineProperty(e,"getLiteralLanguage",{enumerable:!0,get:function(){return c.getLiteralLanguage}}),Object.defineProperty(e,"getLiteralType",{enumerable:!0,get:function(){return c.getLiteralType}}),Object.defineProperty(e,"getLiteralValue",{enumerable:!0,get:function(){return c.getLiteralValue}}),Object.defineProperty(e,"quadToStringQuad",{enumerable:!0,get:function(){return c.quadToStringQuad}}),Object.defineProperty(e,"stringQuadToQuad",{enumerable:!0,get:function(){return c.stringQuadToQuad}}),Object.defineProperty(e,"stringToTerm",{enumerable:!0,get:function(){return c.stringToTerm}}),Object.defineProperty(e,"termToString",{enumerable:!0,get:function(){return c.termToString}})},51941:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermNot=void 0;const c=s(77617),o=s(77545),u=s(97274);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.SparqlOperator.NOT],termFunction:!0})}async run(n){return new u.TermFunctionNot}}e.ActorFunctionFactoryTermNot=i},52161:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermUcase=void 0;const c=s(77617),o=s(77545),u=s(19722);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.SparqlOperator.UCASE],termFunction:!0})}async run(n){return new u.TermFunctionUcase}}e.ActorFunctionFactoryTermUcase=i},52195:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(12314),e),o(s(23633),e)},52277:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.JsonLdParser=void 0;const c=s(50608),o=s(42395),u=s(19198),i=s(39693),r=s(64860),n=s(22386),t=s(76970),a=s(23809),l=s(55998),d=s(15517),p=s(70736),f=s(24910),h=s(62036),y=s(86454),m=s(33283),b=s(93099),v=s(10888),_=s(2384),w=s(86105);class S extends u.Transform{constructor(T){super({readableObjectMode:!0}),T=T||{},this.options=T,this.parsingContext=new b.ParsingContext(Object.assign({parser:this},T)),this.util=new v.Util({dataFactory:T.dataFactory,parsingContext:this.parsingContext}),this.jsonParser=new c,this.contextJobs=[],this.typeJobs=[],this.contextAwaitingJobs=[],this.lastDepth=0,this.lastKeys=[],this.lastOnValueJob=Promise.resolve(),this.attachJsonParserListeners(),this.on("end",()=>{this.jsonParser.mode!==void 0&&this.emit("error",new Error("Unclosed document"))})}static fromHttpResponse(T,O,E,R){let M,Q,X=["application/activity+json"];if(R&&R.wellKnownMediaTypes&&(X=R.wellKnownMediaTypes),O!=="application/ld+json"&&!X.includes(O)){if(O!=="application/json"&&!O.endsWith("+json"))throw new o.ErrorCoded(`Unsupported JSON-LD media type ${O}`,o.ERROR_CODES.LOADING_DOCUMENT_FAILED);if(E&&E.has("Link")&&E.forEach((V,H)=>{if(H==="link"){const U=(0,_.parse)(V);for(const k of U.get("rel","http://www.w3.org/ns/json-ld#context")){if(M)throw new o.ErrorCoded("Multiple JSON-LD context link headers were found on "+T,o.ERROR_CODES.MULTIPLE_CONTEXT_LINK_HEADERS);M=k.uri}}}),!M&&!R?.ignoreMissingContextLinkHeader)throw new o.ErrorCoded(`Missing context link header for media type ${O} on ${T}`,o.ERROR_CODES.LOADING_DOCUMENT_FAILED)}if(E&&E.has("Content-Type")){const V=E.get("Content-Type"),H=/; *profile=([^"]*)/.exec(V);H&&H[1]==="http://www.w3.org/ns/json-ld#streaming"&&(Q=!0)}return new S(Object.assign({baseIRI:T,context:M,streamingProfile:Q},R||{}))}import(T){if("pipe"in T){T.on("error",E=>O.emit("error",E));const O=T.pipe(new S(this.options));return O}{const O=new u.PassThrough({readableObjectMode:!0});T.on("error",R=>E.emit("error",R)),T.on("data",R=>O.push(R)),T.on("end",()=>O.push(null));const E=O.pipe(new S(this.options));return E}}_transform(T,O,E){this.jsonParser.write(T),this.lastOnValueJob.then(()=>E(),R=>E(R))}async newOnValueJob(T,O,E,R){let M=!0;if(R&&E<this.lastDepth){const U=this.parsingContext.listPointerStack[this.lastDepth];U&&(U.value&&this.push(this.util.dataFactory.quad(U.value,this.util.rdfRest,this.util.rdfNil,this.util.getDefaultGraph())),U.listId.listHead=!0,this.parsingContext.idStack[U.listRootDepth+1]=[U.listId],this.parsingContext.listPointerStack.splice(this.lastDepth,1)),await r.EntryHandlerContainer.isBufferableContainerHandler(this.parsingContext,this.lastKeys,this.lastDepth)?(this.parsingContext.pendingContainerFlushBuffers.push({depth:this.lastDepth,keys:this.lastKeys.slice(0,this.lastKeys.length)}),M=!1):await this.flushBuffer(this.lastDepth,this.lastKeys)}const Q=await this.util.unaliasKeyword(T[E],T,E),X=await this.util.unaliasKeywordParent(T,E);this.parsingContext.emittedStack[E]=!0;let V=!0;o.Util.isValidKeyword(Q)&&X==="@reverse"&&Q!=="@context"&&this.emit("error",new o.ErrorCoded(`Found the @id '${O}' inside an @reverse property`,o.ERROR_CODES.INVALID_REVERSE_PROPERTY_MAP));let H=!1;this.parsingContext.validationStack.length>1&&(H=this.parsingContext.validationStack[this.parsingContext.validationStack.length-1].property);for(let U=Math.max(1,this.parsingContext.validationStack.length-1);U<T.length-1;U++){const k=this.parsingContext.validationStack[U]||(this.parsingContext.validationStack[U]=await this.validateKey(T.slice(0,U+1),U,H));if(!k.valid){this.parsingContext.emittedStack[E]=!1,V=!1;break}!H&&k.property&&(H=!0)}if(await this.util.isLiteral(T,E)&&(V=!1),V)for(const U of S.ENTRY_HANDLERS){const k=await U.test(this.parsingContext,this.util,Q,T,E);if(k){await U.handle(this.parsingContext,this.util,Q,T,O,E,k),U.isStackProcessor()&&(this.parsingContext.processingStack[E]=!0);break}}E===0&&Array.isArray(O)&&await this.util.validateValueIndexes(O),M&&E<this.lastDepth&&this.flushStacks(this.lastDepth),this.lastDepth=E,this.lastKeys=T,this.parsingContext.unaliasedKeywordCacheStack.splice(E-1)}flushStacks(T){this.parsingContext.processingStack.splice(T,1),this.parsingContext.processingType.splice(T,1),this.parsingContext.emittedStack.splice(T,1),this.parsingContext.idStack.splice(T,1),this.parsingContext.graphStack.splice(T+1,1),this.parsingContext.graphContainerTermStack.splice(T,1),this.parsingContext.jsonLiteralStack.splice(T,1),this.parsingContext.validationStack.splice(T-1,2),this.parsingContext.literalStack.splice(T,this.parsingContext.literalStack.length-T),this.parsingContext.annotationsBuffer.splice(T,1)}async flushBuffer(T,O){let E=this.parsingContext.idStack[T];E||(E=this.parsingContext.idStack[T]=[this.util.dataFactory.blankNode()]);const R=this.parsingContext.unidentifiedValuesBuffer[T];if(R){for(const X of E){const V=await this.util.getDepthOffsetGraph(T,O),H=this.parsingContext.graphStack[T]||V>=0?this.parsingContext.idStack[T-V-1]:[await this.util.getGraphContainerValue(O,T)];if(H)for(const U of H){this.parsingContext.emittedStack[T]=!0;for(const k of R)this.util.emitQuadChecked(T,X,k.predicate,k.object,U,k.reverse,k.isEmbedded)}else{const U=this.parsingContext.getUnidentifiedGraphBufferSafe(T-await this.util.getDepthOffsetGraph(T,O)-1);for(const k of R)k.reverse?U.push({object:X,predicate:k.predicate,subject:k.object,isEmbedded:k.isEmbedded}):U.push({object:k.object,predicate:k.predicate,subject:X,isEmbedded:k.isEmbedded})}}this.parsingContext.unidentifiedValuesBuffer.splice(T,1),this.parsingContext.literalStack.splice(T,1),this.parsingContext.jsonLiteralStack.splice(T,1)}const M=this.parsingContext.unidentifiedGraphsBuffer[T];if(M){for(const X of E){const V=T!==1||X.termType!=="BlankNode"||this.parsingContext.topLevelProperties?X:this.util.getDefaultGraph();this.parsingContext.emittedStack[T]=!0;for(const H of M)this.parsingContext.emitQuad(T,this.util.dataFactory.quad(H.subject,H.predicate,H.object,V))}this.parsingContext.unidentifiedGraphsBuffer.splice(T,1)}const Q=this.parsingContext.annotationsBuffer[T];if(Q){Q.length>0&&T===1&&this.parsingContext.emitError(new o.ErrorCoded("Annotations can not be made on top-level nodes",o.ERROR_CODES.INVALID_ANNOTATION));const X=this.parsingContext.getAnnotationsBufferSafe(T-1);for(const V of Q)X.push(V);delete this.parsingContext.annotationsBuffer[T]}}async validateKey(T,O,E){for(const R of S.ENTRY_HANDLERS)if(await R.validate(this.parsingContext,this.util,T,O,E))return{valid:!0,property:E||R.isPropertyHandler()};return{valid:!1,property:!1}}attachJsonParserListeners(){this.jsonParser.onValue=T=>{const O=this.jsonParser.stack.length,E=new Array(O+1).fill(0).map((R,M)=>M===O?this.jsonParser.key:this.jsonParser.stack[M].key);if(!this.isParsingContextInner(O)){const R=()=>this.newOnValueJob(E,T,O,!0);if(this.parsingContext.streamingProfile||this.parsingContext.contextTree.getContext(E.slice(0,-1)))this.lastOnValueJob=this.lastOnValueJob.then(R);else if(E[O]==="@context"){let M=this.contextJobs[O];M||(M=this.contextJobs[O]=[]),M.push(R)}else this.contextAwaitingJobs.push({job:R,keys:E,depth:O});this.parsingContext.streamingProfile||O!==0||(this.lastOnValueJob=this.lastOnValueJob.then(()=>this.executeBufferedJobs()))}},this.jsonParser.onError=T=>{this.emit("error",T)}}isParsingContextInner(T){for(let O=T;O>0;O--)if(this.jsonParser.stack[O-1].key==="@context")return!0;return!1}async executeBufferedJobs(){for(const O of this.contextJobs)if(O)for(const E of O)await E();this.parsingContext.unaliasedKeywordCacheStack.splice(0);const T=[];for(const O of this.contextAwaitingJobs)await this.util.unaliasKeyword(O.keys[O.depth],O.keys,O.depth,!0)==="@type"||typeof O.keys[O.depth]=="number"&&await this.util.unaliasKeyword(O.keys[O.depth-1],O.keys,O.depth-1,!0)==="@type"?this.typeJobs.push({job:O.job,keys:O.keys.slice(0,O.keys.length-1)}):T.push(O);for(const O of T){if(this.typeJobs.length>0){const E=[],R=[];for(let X=0;X<this.typeJobs.length;X++){const V=this.typeJobs[X];v.Util.isPrefixArray(V.keys,O.keys)&&(E.push(V),R.push(X))}const M=E.sort((X,V)=>X.keys.length-V.keys.length);for(const X of M)await X.job();const Q=R.sort().reverse();for(const X of Q)this.typeJobs.splice(X,1)}await O.job()}}}S.DEFAULT_PROCESSING_MODE="1.1",S.ENTRY_HANDLERS=[new i.EntryHandlerArrayValue,new a.EntryHandlerKeywordContext,new d.EntryHandlerKeywordId,new p.EntryHandlerKeywordIncluded,new l.EntryHandlerKeywordGraph,new f.EntryHandlerKeywordNest,new h.EntryHandlerKeywordType,new m.EntryHandlerKeywordValue,new w.EntryHandlerKeywordAnnotation,new r.EntryHandlerContainer,new y.EntryHandlerKeywordUnknownFallback,new t.EntryHandlerPredicate,new n.EntryHandlerInvalidFallback],e.JsonLdParser=S},52291:(g,e)=>{let s;Object.defineProperty(e,"__esModule",{value:!0});const c=new Uint8Array(16);e.default=function(){if(!s){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");s=crypto.getRandomValues.bind(crypto)}return s(c)}},52452:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(98349),e)},52505:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(51941),e)},52573:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GroupConcatAggregator=void 0;const c=s(86581),o=s(77545);class u extends c.AggregateEvaluator{constructor(r,n,t,a,l){super(r,n,l),this.dataFactory=t,this.state=void 0,this.lastLanguageValid=!0,this.lastLanguage=void 0,this.separator=a??" "}emptyValueTerm(){return o.typedLiteral("",o.TypeURL.XSD_STRING)}putTerm(r){this.state===void 0?(this.state=r.value,r.termType==="Literal"&&(this.lastLanguage=r.language)):(this.state+=this.separator+r.value,this.lastLanguageValid&&r.termType==="Literal"&&this.lastLanguage!==r.language&&(this.lastLanguageValid=!1,this.lastLanguage=void 0))}termResult(){return this.state===void 0?this.emptyValue():this.lastLanguageValid&&this.lastLanguage?o.langString(this.state,this.lastLanguage).toRDF(this.dataFactory):o.typedLiteral(this.state,o.TypeURL.XSD_STRING)}}e.GroupConcatAggregator=u},52598:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(69909),e)},52604:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getContextDestinationUrl=e.getContextDestination=e.getDataDestinationContext=e.getDataDestinationValue=e.getDataDestinationType=e.isDataDestinationRawType=void 0;const c=s(90711);function o(i){return typeof i=="string"||"remove"in i}function u(i){return o(i)?i:i.value}e.isDataDestinationRawType=o,e.getDataDestinationType=function(i){return typeof i=="string"?"":"remove"in i?"rdfjsStore":i.type},e.getDataDestinationValue=u,e.getDataDestinationContext=function(i,r){return typeof i=="string"||"remove"in i||!i.context?r:r.merge(i.context)},e.getContextDestination=function(i){return i.get(c.KeysRdfUpdateQuads.destination)},e.getContextDestinationUrl=function(i){if(i){let r=u(i);if(typeof r=="string"){const n=r.indexOf("#");return n>=0&&(r=r.slice(0,n)),r}}}},52728:function(g,e,s){var c=this&&this.__awaiter||function(u,i,r,n){return new(r||(r=Promise))(function(t,a){function l(f){try{p(n.next(f))}catch(h){a(h)}}function d(f){try{p(n.throw(f))}catch(h){a(h)}}function p(f){var h;f.done?t(f.value):(h=f.value,h instanceof r?h:new r(function(y){y(h)})).then(l,d)}p((n=n.apply(u,i||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.stringify=function(u){return c(this,void 0,void 0,function*(){let i="";return u.on("data",r=>{i+=r}),yield(0,o.promisifyEventEmitter)(u),i})};const o=s(66486)},52729:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfJoinNone=void 0;const c=s(95445),o=s(90711),u=s(90412),i=s(81926),r=s(99214),n=s(75627);class t extends c.ActorRdfJoin{constructor(l){super(l,{logicalType:"inner",physicalName:"none",limitEntries:0})}async test(l){return l.entries.length>0?(0,u.failTest)(`Actor ${this.name} can only join zero entries`):await this.getJoinCoefficients(l,void 0)}async getOutput(l){const d=l.context.getSafe(o.KeysInitQuery.dataFactory),p=await i.BindingsFactory.create(this.mediatorMergeBindingsContext,l.context,d);return{result:{bindingsStream:new n.ArrayIterator([p.bindings()],{autoStart:!1}),metadata:()=>Promise.resolve({state:new r.MetadataValidationState,cardinality:{type:"exact",value:1},variables:[]}),type:"bindings"}}}async getJoinCoefficients(l,d){return(0,u.passTestWithSideData)({iterations:0,persistedItems:0,blockingItems:0,requestTime:0},d)}}e.ActorRdfJoinNone=t},52875:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Converter=void 0;const c=s(99349),o=s(916);class u{constructor(r){(r=r||{delimiter:"_"}).prefixVariableQuestionMark=!1,this.delimiter=r.delimiter||"_",this.parser=new o.SparqlJsonParser(r),this.materializeRdfJsTerms=r.materializeRdfJsTerms}static addValueToTree(r,n,t,a,l,d){const p=n[0],f=a?a+d+p:p,h=l.singularizeVariables[f];if(n.length===1)h?r[p]||(r[p]=t):(r[p]||(r[p]=[]),r[p].push(t));else{let y;h?(r[p]||(r[p]={}),y=r[p]):(r[p]||(r[p]=[{}]),y=r[p][0]),u.addValueToTree(y,n.slice(1),t,f,l,d)}}static mergeTrees(r,n){if(typeof r!=typeof n)throw new Error(`Two incompatible tree nodes were found: ${typeof r} and ${typeof n}`);if(Array.isArray(r)!==Array.isArray(n))throw new Error(`Two incompatible tree nodes were found: Array?${Array.isArray(r)} and Array?${Array.isArray(n)}`);if(typeof r=="object"&&typeof n=="object"){if(r.termType&&n.termType)return r.equals(n)?{valid:!0,result:r}:{valid:!1,result:r};if(Array.isArray(r)&&Array.isArray(n)){if(r.length>0){const t=[];let a=!1;for(const l of r){const d=u.mergeTrees(l,n[0]);d.valid?(a=!0,t.push(d.result)):t.push(l)}if(a)return{valid:!0,result:t}}return{valid:!0,result:r.concat(n)}}{const t={};for(const a in n)t[a]=n[a];for(const a in r)if(t[a]){const l=u.mergeTrees(r[a],t[a]);if(!l.valid)return{valid:!1,result:r};t[a]=l.result}else t[a]=r[a];return{valid:!0,result:t}}}throw new Error(`Unmergable tree types: ${typeof r} and ${typeof n}`)}static materializeTree(r){if(r.termType)return(0,c.getTermRaw)(r);if(Array.isArray(r))return r.map(u.materializeTree);{const n={};for(const t in r)n[t]=u.materializeTree(r[t]);return n}}sparqlJsonResultsToTree(r,n){return this.bindingsToTree(this.parser.parseJsonResults(r),n||{singularizeVariables:{}})}bindingsToTree(r,n){const t=n&&n.singularizeVariables[""];let a=t?{}:[];for(const l of r){const d=t?{}:[{}];for(const p in l){const f=p.split(this.delimiter),h=l[p];u.addValueToTree(t?d:d[0],f,h,"",n,this.delimiter)}a=u.mergeTrees(a,d).result}return this.materializeRdfJsTerms&&(a=u.materializeTree(a)),a}}e.Converter=u},53119:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermTransformer=void 0;const c=s(73143),o=s(96331),u=s(54833),i=s(64900),r=s(98575),n=s(98575),t=s(29658),a=s(29658),l=s(86273);e.TermTransformer=class{constructor(d){this.superTypeProvider=d}transformRDFTermUnsafe(d){return this.transformTerm({term:d,type:o.Algebra.types.EXPRESSION,expressionType:o.Algebra.expressionTypes.TERM})}transformTerm(d){if(!d.term)throw new r.InvalidExpression(d);switch(d.term.termType){case"Variable":return new u.Variable(c.termToString(d.term));case"Literal":return this.transformLiteral(d.term);case"NamedNode":return new u.NamedNode(d.term.value);case"BlankNode":return new u.BlankNode(d.term.value);case"Quad":return new u.Quad(this.transformRDFTermUnsafe(d.term.subject),this.transformRDFTermUnsafe(d.term.predicate),this.transformRDFTermUnsafe(d.term.object),this.transformRDFTermUnsafe(d.term.graph));case"DefaultGraph":return new u.DefaultGraph}}transformLiteral(d){if(!d.datatype||[null,void 0,""].includes(d.datatype.value))return d.language?new u.LangStringLiteral(d.value,d.language):new u.StringLiteral(d.value);const p=d.datatype.value,f=(0,l.getSuperTypeDict)(p,this.superTypeProvider);try{if(i.TypeURL.XSD_STRING in f)return new u.StringLiteral(d.value,p);if(i.TypeURL.RDF_LANG_STRING in f)return new u.LangStringLiteral(d.value,d.language);if(i.TypeURL.XSD_YEAR_MONTH_DURATION in f)return new u.YearMonthDurationLiteral((0,t.parseYearMonthDuration)(d.value),d.value,p);if(i.TypeURL.XSD_DAY_TIME_DURATION in f)return new u.DayTimeDurationLiteral((0,t.parseDayTimeDuration)(d.value),d.value,p);if(i.TypeURL.XSD_DURATION in f)return new u.DurationLiteral((0,t.parseDuration)(d.value),d.value,p);if(i.TypeURL.XSD_DATE_TIME in f){const m=new Date(d.value);return Number.isNaN(m.getTime())?new u.NonLexicalLiteral(void 0,p,this.superTypeProvider,d.value):new u.DateTimeLiteral((0,t.parseDateTime)(d.value),d.value,p)}if(i.TypeURL.XSD_DATE in f)return new u.DateLiteral((0,t.parseDate)(d.value),d.value,p);if(i.TypeURL.XSD_TIME in f)return new u.TimeLiteral((0,t.parseTime)(d.value),d.value,p);if(i.TypeURL.XSD_BOOLEAN in f)return d.value!=="true"&&d.value!=="false"&&d.value!=="1"&&d.value!=="0"?new u.NonLexicalLiteral(void 0,p,this.superTypeProvider,d.value):new u.BooleanLiteral(d.value==="true"||d.value==="1",d.value);if(i.TypeURL.XSD_DECIMAL in f){const m=a.parseXSDDecimal(d.value);return m===void 0?new u.NonLexicalLiteral(void 0,p,this.superTypeProvider,d.value):i.TypeURL.XSD_INTEGER in f?new u.IntegerLiteral(m,p,d.value):new u.DecimalLiteral(m,p,d.value)}const h=i.TypeURL.XSD_FLOAT in f,y=i.TypeURL.XSD_DOUBLE in f;if(h||y){const m=a.parseXSDFloat(d.value);return m===void 0?new u.NonLexicalLiteral(void 0,p,this.superTypeProvider,d.value):h?new u.FloatLiteral(m,p,d.value):new u.DoubleLiteral(m,p,d.value)}return new u.Literal(d.value,p,d.value)}catch(h){if((0,n.isExpressionError)(h))return new u.NonLexicalLiteral(void 0,p,this.superTypeProvider,d.value);throw h}}}},53261:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.RdfStoreIndexNestedMapRecursive=void 0;const c=s(95439);e.RdfStoreIndexNestedMapRecursive=class{constructor(o){this.features={quotedTripleFiltering:!1},this.dictionary=o.dictionary,this.nestedMap=new Map}set(o,u){let i=this.nestedMap,r=!1;for(const[n,t]of o.entries()){const a=i;let l=a.get(t);l?n===o.length-1&&(r=!0):(l=n===o.length-1?u:new Map,a.set(t,l)),i=l}return!r}remove(o){const u=this.nestedMap,i=u.get(o[0]);if(!i)return!1;const r=i.get(o[1]);if(!r)return!1;const n=r.get(o[2]);if(!n)return!1;const t=n.delete(o[3]);return t&&n.size===0&&(r.delete(o[2]),r.size===0&&(i.delete(o[1]),i.size===0&&u.delete(o[0]))),t}get(o){const u=(0,c.encodeOptionalTerms)(o,this.dictionary);if(u&&!u.includes(void 0))return this.getEncoded(u)}getEncoded(o){const u=this.nestedMap.get(o[0]);if(!u)return;const i=u.get(o[1]);if(!i)return;const r=i.get(o[2]);return r?r.get(o[3]):void 0}*find(o){const u=(0,c.encodeOptionalTerms)(o,this.dictionary);if(u)for(const i of this.findEncoded(u,o))yield[u[0]!==void 0?o[0]:this.dictionary.decode(i[0]),u[1]!==void 0?o[1]:this.dictionary.decode(i[1]),u[2]!==void 0?o[2]:this.dictionary.decode(i[2]),u[3]!==void 0?o[3]:this.dictionary.decode(i[3])]}*findEncoded(o,u){return yield*this.findEncodedInner(0,o,u,this.nestedMap,[])}*findEncodedInner(o,u,i,r,n){if(o===u.length)yield[...n];else{const t=u[o];if(i[o]){const a=t;if(a!==void 0){const l=r.get(a);l&&(n[o]=t,yield*this.findEncodedInner(o+1,u,i,l,n))}}else for(const[a,l]of r.entries())n[o]=a,yield*this.findEncodedInner(o+1,u,i,l,n)}}count(o){return this.countInner(0,o,this.nestedMap)}countInner(o,u,i){const r=u[o];let n=0;if(r){const t=this.dictionary.encodeOptional(r);if(t!==void 0){if(o===u.length-1)return i.has(t)?1:0;const a=i.get(t);a&&(n+=this.countInner(o+1,u,a))}}else{if(o===u.length-1)return i.size;for(const t of i.values())n+=this.countInner(o+1,u,t)}return n}}},53284:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeHandlerSelectionAdapter=void 0;const c=s(17394),o=s(65183),u=s(75566);class i extends u.NodeHandlerAdapter{constructor(n,t,a){super(n,t,a)}getNodeQuadContextFieldNode(n,t,a){return this.getNodeQuadContextSelectionSet(n.selectionSet,t,Object.assign(Object.assign({},a),{path:this.util.appendFieldToPath(a.path,t)}))}fieldToOperation(n,t,a,l){const d=a;let p,f=0;if((t.name.value==="id"||t.name.value==="graph")&&(a=!1,t.arguments))for(const T of t.arguments)T.name.value==="_"&&this.util.handleNodeValue(T.value,t.name.value,n);const h=this.util.getFieldLabel(t);if(n.singularizeState===o.SingularizeState.SINGLE&&(n.singularizeVariables[this.util.nameToVariable(h,n).value]=!0),a){const T=this.handleMetaField(n,h,l);if(T)return T}const y=l?[this.util.operationFactory.createBgp(l)]:[],m=this.getNodeQuadContextFieldNode(t,h,n);let b=m.subject||this.util.nameToVariable(h,n),v=m.graph||n.graph;m.auxiliaryPatterns&&y.push(this.util.operationFactory.createBgp(m.auxiliaryPatterns));let _=!0,w=null;if(a&&t.arguments&&t.arguments.length)for(const T of t.arguments){if(T.name.value==="_"){const O=this.util.handleNodeValue(T.value,t.name.value,n);w=O.terms,y.push(this.util.operationFactory.createBgp(O.terms.map(E=>this.util.createQuadPattern(n.subject,t.name,E,n.graph,n.context)))),O.auxiliaryPatterns&&y.push(this.util.operationFactory.createBgp(O.auxiliaryPatterns)),a=!1;break}if(T.name.value==="graph"){const O=this.util.handleNodeValue(T.value,t.name.value,n);if(O.terms.length!==1)throw new Error(`Only single values can be set as graph, but got ${O.terms.length} at ${t.name.value}`);v=O.terms[0],n=Object.assign(Object.assign({},n),{graph:v}),O.auxiliaryPatterns&&y.push(this.util.operationFactory.createBgp(O.auxiliaryPatterns));break}if(T.name.value==="alt"){let O=T.value;O.kind!=="ListValue"&&(O={kind:"ListValue",values:[O]}),y.push(this.util.createQuadPath(n.subject,t.name,O,b,n.graph,n.context)),_=!1;break}}if(a&&_&&y.push(this.util.operationFactory.createBgp([this.util.createQuadPattern(n.subject,t.name,b,n.graph,n.context)])),t.arguments&&t.arguments.length){for(const T of t.arguments)if(!(T.name.value==="_"||T.name.value==="graph"||T.name.value==="alt"))if(T.name.value==="first"){if(T.value.kind!=="IntValue")throw new Error("Invalid value type for 'first' argument: "+T.value.kind);p=parseInt(T.value.value,10)}else if(T.name.value==="offset"){if(T.value.kind!=="IntValue")throw new Error("Invalid value type for 'offset' argument: "+T.value.kind);f=parseInt(T.value.value,10)}else{const O=this.util.handleNodeValue(T.value,T.name.value,n);y.push(this.util.operationFactory.createBgp(O.terms.map(E=>this.util.createQuadPattern(b,T.name,E,n.graph,n.context)))),O.auxiliaryPatterns&&y.push(this.util.operationFactory.createBgp(O.auxiliaryPatterns))}}const S=this.getDirectiveOutputs(t.directives,h,n);if(!S)return this.util.operationFactory.createBgp([]);let x=this.util.joinOperations(y);if(t.selectionSet&&t.selectionSet.selections.length){if(w){if(w.length!==1)throw new Error(`Only single values can be set as id, but got ${w.length} at ${t.name.value}`);b=w[0]}const T=Object.assign(Object.assign(Object.assign({},n),d?{path:this.util.appendFieldToPath(n.path,h)}:{}),{graph:v,subject:d?b:n.subject});let O=!1;const E=t.selectionSet.selections.filter(M=>M.kind!=="Field"||M.name.value!=="totalCount"||(O=!0,!1));let R=this.util.joinOperations(y.concat(E.map(M=>this.util.handleNode(M,T))));if(O){const M=this.util.dataFactory.variable("var"+this.settings.expressionVariableCounter++),Q=this.util.dataFactory.variable(b.value+this.settings.variableDelimiter+"totalCount"),X=this.util.operationFactory.createBoundAggregate(M,"count",this.util.operationFactory.createTermExpression(b),!1),V=this.util.operationFactory.createProject(this.util.operationFactory.createExtend(this.util.operationFactory.createGroup(x,[],[X]),Q,this.util.operationFactory.createTermExpression(M)),[Q]);n.terminalVariables.push(Q),R=E.length?this.util.operationFactory.createJoin([this.util.operationFactory.createProject(R,[]),V]):V}x=R}else a&&b.termType==="Variable"&&n.terminalVariables.push(b);return(f||p)&&(x=this.util.operationFactory.createSlice(this.util.operationFactory.createProject(x,c.Util.inScopeVariables(x)),f,p)),this.handleDirectiveOutputs(S,x)}handleMetaField(n,t,a){if(t==="__typename"){const l=this.util.nameToVariable(t,n);return n.terminalVariables.push(l),this.util.operationFactory.createBgp([this.util.operationFactory.createPattern(n.subject,this.util.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),this.util.nameToVariable(t,n),n.graph)].concat(a||[]))}}}e.NodeHandlerSelectionAdapter=i},53417:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(60808),e)},53496:function(g,e,s){var c=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(e,"__esModule",{value:!0});const o=s(8498),u=c(s(35344)),i=s(3285);class r{static flatten(t){return Array.prototype.concat(...t).filter(a=>a)}static objectify(t){if(t.termType){if(t.termType==="Quad")return{type:"pattern",termType:"Quad",subject:r.objectify(t.subject),predicate:r.objectify(t.predicate),object:r.objectify(t.object),graph:r.objectify(t.graph)};{let a={termType:t.termType,value:t.value};return t.language&&(a.language=t.language),t.datatype&&(a.datatype=r.objectify(t.datatype)),a}}if(Array.isArray(t))return t.map(a=>r.objectify(a));if(t===Object(t)){let a={};for(let l of Object.keys(t))a[l]=r.objectify(t[l]);return a}return t}static inScopeVariables(t){const a=[];function l(p){a.find(f=>p.value===f.value)||a.push(p)}function d(p){p.subject.termType==="Variable"&&l(p.subject),p.predicate.termType==="Variable"&&l(p.predicate),p.object.termType==="Variable"&&l(p.object),p.graph.termType==="Variable"&&l(p.graph),p.subject.termType==="Quad"&&d(p.subject),p.predicate.termType==="Quad"&&d(p.predicate),p.object.termType==="Quad"&&d(p.object),p.graph.termType==="Quad"&&d(p.graph)}return r.recurseOperation(t,{[o.types.EXPRESSION]:p=>(p.expressionType===o.expressionTypes.AGGREGATE&&p.variable&&l(p.variable),!0),[o.types.EXTEND]:p=>(l(p.variable),!0),[o.types.GRAPH]:p=>(p.name.termType==="Variable"&&l(p.name),!0),[o.types.GROUP]:p=>(p.variables.forEach(l),!0),[o.types.PATH]:p=>(p.subject.termType==="Variable"&&l(p.subject),p.object.termType==="Variable"&&l(p.object),p.graph.termType==="Variable"&&l(p.graph),p.subject.termType==="Quad"&&d(p.subject),p.object.termType==="Quad"&&d(p.object),p.graph.termType==="Quad"&&d(p.graph),!0),[o.types.PATTERN]:p=>(d(p),!0),[o.types.PROJECT]:p=>(p.variables.forEach(l),!1),[o.types.SERVICE]:p=>(p.name.termType==="Variable"&&l(p.name),!0),[o.types.VALUES]:p=>(p.variables.forEach(l),!0)}),a}static recurseOperation(t,a){let l=t,d=!0;const p=a[t.type];if(p&&(d=p(t)),!d)return;let f=h=>r.recurseOperation(h,a);switch(l.type){case o.types.ALT:l.input.map(f);break;case o.types.ASK:f(l.input);break;case o.types.BGP:l.patterns.forEach(f);break;case o.types.CONSTRUCT:f(l.input),l.template.map(f);break;case o.types.DESCRIBE:case o.types.DISTINCT:f(l.input);break;case o.types.EXPRESSION:l.expressionType===o.expressionTypes.EXISTENCE&&f(l.input);break;case o.types.EXTEND:case o.types.FILTER:f(l.input),f(l.expression);break;case o.types.FROM:case o.types.GRAPH:f(l.input);break;case o.types.GROUP:f(l.input),l.aggregates.forEach(f);break;case o.types.INV:f(l.path);break;case o.types.JOIN:l.input.map(f);break;case o.types.LEFT_JOIN:l.input.map(f),l.expression&&f(l.expression);break;case o.types.LINK:break;case o.types.MINUS:l.input.map(f);break;case o.types.NOP:case o.types.NPS:break;case o.types.ONE_OR_MORE_PATH:f(l.path);break;case o.types.ORDER_BY:f(l.input),l.expressions.forEach(f);break;case o.types.PATH:f(l.predicate);break;case o.types.PATTERN:break;case o.types.PROJECT:case o.types.REDUCED:f(l.input);break;case o.types.SEQ:l.input.map(f);break;case o.types.SERVICE:case o.types.SLICE:f(l.input);break;case o.types.UNION:l.input.map(f);break;case o.types.VALUES:break;case o.types.ZERO_OR_MORE_PATH:case o.types.ZERO_OR_ONE_PATH:f(l.path);break;case o.types.COMPOSITE_UPDATE:l.updates.forEach(h=>f(h));break;case o.types.DELETE_INSERT:l.delete&&l.delete.forEach(h=>f(h)),l.insert&&l.insert.forEach(h=>f(h)),l.where&&f(l.where);break;case o.types.LOAD:case o.types.CLEAR:case o.types.CREATE:case o.types.DROP:case o.types.ADD:case o.types.MOVE:case o.types.COPY:break;default:throw new Error(`Unknown Operation type ${l.type}`)}}static mapOperation(t,a,l){let d=t,p=!0,f=!0;l=l||new u.default;const h=a[t.type];if(h){const b=h(t,l);d=b.result,p=b.recurse,f=b.copyMetadata!==!1}let y;if(f&&(d.metadata||t.metadata)&&(y={...d.metadata,...t.metadata}),!p)return y&&(d.metadata=y),d;let m=b=>r.mapOperation(b,a,l);switch(d.type){case o.types.ALT:d=l.createAlt(d.input.map(m));break;case o.types.ASK:d=l.createAsk(m(d.input));break;case o.types.BGP:d=l.createBgp(d.patterns.map(m));break;case o.types.CONSTRUCT:d=l.createConstruct(m(d.input),d.template.map(m));break;case o.types.DESCRIBE:d=l.createDescribe(m(d.input),d.terms);break;case o.types.DISTINCT:d=l.createDistinct(m(d.input));break;case o.types.EXPRESSION:d=r.mapExpression(d,a,l);break;case o.types.EXTEND:d=l.createExtend(m(d.input),d.variable,m(d.expression));break;case o.types.FILTER:d=l.createFilter(m(d.input),m(d.expression));break;case o.types.FROM:d=l.createFrom(m(d.input),[...d.default],[...d.named]);break;case o.types.GRAPH:d=l.createGraph(m(d.input),d.name);break;case o.types.GROUP:d=l.createGroup(m(d.input),[].concat(d.variables),d.aggregates.map(m));break;case o.types.INV:d=l.createInv(m(d.path));break;case o.types.JOIN:d=l.createJoin(d.input.map(m));break;case o.types.LEFT_JOIN:d=l.createLeftJoin(m(d.input[0]),m(d.input[1]),d.expression?m(d.expression):void 0);break;case o.types.LINK:d=l.createLink(d.iri);break;case o.types.MINUS:d=l.createMinus(m(d.input[0]),m(d.input[1]));break;case o.types.NOP:d=l.createNop();break;case o.types.NPS:d=l.createNps([].concat(d.iris));break;case o.types.ONE_OR_MORE_PATH:d=l.createOneOrMorePath(m(d.path));break;case o.types.ORDER_BY:d=l.createOrderBy(m(d.input),d.expressions.map(m));break;case o.types.PATH:d=l.createPath(d.subject,m(d.predicate),d.object,d.graph);break;case o.types.PATTERN:d=l.createPattern(d.subject,d.predicate,d.object,d.graph);break;case o.types.PROJECT:d=l.createProject(m(d.input),[...d.variables]);break;case o.types.REDUCED:d=l.createReduced(m(d.input));break;case o.types.SEQ:d=l.createSeq(d.input.map(m));break;case o.types.SERVICE:d=l.createService(m(d.input),d.name,d.silent);break;case o.types.SLICE:d=l.createSlice(m(d.input),d.start,d.length);break;case o.types.UNION:d=l.createUnion(d.input.map(m));break;case o.types.VALUES:d=l.createValues([].concat(d.variables),d.bindings.map(b=>Object.assign({},b)));break;case o.types.ZERO_OR_MORE_PATH:d=l.createZeroOrMorePath(m(d.path));break;case o.types.ZERO_OR_ONE_PATH:d=l.createZeroOrOnePath(m(d.path));break;case o.types.COMPOSITE_UPDATE:d=l.createCompositeUpdate(d.updates.map(m));break;case o.types.DELETE_INSERT:d=l.createDeleteInsert(d.delete?d.delete.map(m):void 0,d.insert?d.insert.map(m):void 0,d.where?m(d.where):void 0);break;case o.types.LOAD:d=l.createLoad(d.source,d.destination,d.silent);break;case o.types.CLEAR:d=l.createClear(d.source,d.silent);break;case o.types.CREATE:d=l.createCreate(d.source,d.silent);break;case o.types.DROP:d=l.createDrop(d.source,d.silent);break;case o.types.ADD:d=l.createAdd(d.source,d.destination);break;case o.types.MOVE:d=l.createMove(d.source,d.destination);break;case o.types.COPY:d=l.createCopy(d.source,d.destination);break;default:throw new Error(`Unknown Operation type ${d.type}`)}return y&&(d.metadata=y),d}static mapExpression(t,a,l){let d=t,p=!0;l=l||new u.default;const f=a[t.expressionType];if(f&&({result:d,recurse:p}=f(t,l)),!p)return d;let h=y=>r.mapOperation(y,a,l);switch(t.expressionType){case o.expressionTypes.AGGREGATE:return t.variable?l.createBoundAggregate(t.variable,t.aggregator,h(t.expression),t.distinct,t.separator):l.createAggregateExpression(t.aggregator,h(t.expression),t.distinct,t.separator);case o.expressionTypes.EXISTENCE:return l.createExistenceExpression(t.not,h(t.input));case o.expressionTypes.NAMED:return l.createNamedExpression(t.name,t.args.map(h));case o.expressionTypes.OPERATOR:return l.createOperatorExpression(t.operator,t.args.map(h));case o.expressionTypes.TERM:return l.createTermExpression(t.term);case o.expressionTypes.WILDCARD:return l.createWildcardExpression();default:throw new Error(`Unknown Expression type ${t.expressionType}`)}}static cloneOperation(t){return r.mapOperation(t,{})}static cloneExpression(t){return r.mapExpression(t,{})}static createUniqueVariable(t,a,l){let d=0,p=t;for(;a[p];)p=`${t}${d++}`;return l.variable(p)}static isSimpleTerm(t){return t.termType!==void 0&&t.termType!=="Quad"&&t.termType!=="Wildcard"}static isQuad(t){return t.termType==="Quad"}static hasQuadVariables(t){return(0,i.someTermsNested)(t,a=>a.termType==="Variable")}static isWildcard(t){return t.termType==="Wildcard"}}e.default=r},53550:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(69160),e)},53638:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorInitQueryBase=void 0;const c=s(6180),o=s(90412);class u extends c.ActorInit{async test(r){return(0,o.passTestVoid)()}async run(r){throw new Error("ActorInitSparql#run is not supported in the browser.")}}e.ActorInitQueryBase=u},53801:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfParseHtml=void 0;const c=s(90412);class o extends c.Actor{constructor(i){super(i)}}e.ActorRdfParseHtml=o},53806:function(g,e,s){var c=this&&this.__assign||function(){return c=Object.assign||function(m){for(var b,v=1,_=arguments.length;v<_;v++)for(var w in b=arguments[v])Object.prototype.hasOwnProperty.call(b,w)&&(m[w]=b[w]);return m},c.apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(m,b,v,_){_===void 0&&(_=v);var w=Object.getOwnPropertyDescriptor(b,v);w&&!("get"in w?!b.__esModule:w.writable||w.configurable)||(w={enumerable:!0,get:function(){return b[v]}}),Object.defineProperty(m,_,w)}:function(m,b,v,_){_===void 0&&(_=v),m[_]=b[v]}),u=this&&this.__setModuleDefault||(Object.create?function(m,b){Object.defineProperty(m,"default",{enumerable:!0,value:b})}:function(m,b){m.default=b}),i=this&&this.__importStar||function(m){if(m&&m.__esModule)return m;var b={};if(m!=null)for(var v in m)v!=="default"&&Object.prototype.hasOwnProperty.call(m,v)&&o(b,m,v);return u(b,m),b};Object.defineProperty(e,"__esModule",{value:!0}),e.render=void 0;var r=i(s(45413)),n=s(72730),t=s(94460),a=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function l(m){return m.replace(/"/g,"&quot;")}var d=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function p(m,b){b===void 0&&(b={});for(var v=("length"in m)?m:[m],_="",w=0;w<v.length;w++)_+=f(v[w],b);return _}function f(m,b){switch(m.type){case r.Root:return p(m.children,b);case r.Doctype:case r.Directive:return"<".concat(m.data,">");case r.Comment:return"<!--".concat(m.data,"-->");case r.CDATA:return(function(v){return"<![CDATA[".concat(v.children[0].data,"]]>")})(m);case r.Script:case r.Style:case r.Tag:return(function(v,_){var w;_.xmlMode==="foreign"&&(v.name=(w=t.elementNames.get(v.name))!==null&&w!==void 0?w:v.name,v.parent&&h.has(v.parent.name)&&(_=c(c({},_),{xmlMode:!1}))),!_.xmlMode&&y.has(v.name)&&(_=c(c({},_),{xmlMode:"foreign"}));var S="<".concat(v.name),x=(function(T,O){var E;if(T){var R=((E=O.encodeEntities)!==null&&E!==void 0?E:O.decodeEntities)===!1?l:O.xmlMode||O.encodeEntities!=="utf8"?n.encodeXML:n.escapeAttribute;return Object.keys(T).map(function(M){var Q,X,V=(Q=T[M])!==null&&Q!==void 0?Q:"";return O.xmlMode==="foreign"&&(M=(X=t.attributeNames.get(M))!==null&&X!==void 0?X:M),O.emptyAttrs||O.xmlMode||V!==""?"".concat(M,'="').concat(R(V),'"'):M}).join(" ")}})(v.attribs,_);return x&&(S+=" ".concat(x)),v.children.length===0&&(_.xmlMode?_.selfClosingTags!==!1:_.selfClosingTags&&d.has(v.name))?(_.xmlMode||(S+=" "),S+="/>"):(S+=">",v.children.length>0&&(S+=p(v.children,_)),!_.xmlMode&&d.has(v.name)||(S+="</".concat(v.name,">"))),S})(m,b);case r.Text:return(function(v,_){var w,S=v.data||"";return((w=_.encodeEntities)!==null&&w!==void 0?w:_.decodeEntities)===!1||!_.xmlMode&&v.parent&&a.has(v.parent.name)||(S=_.xmlMode||_.encodeEntities!=="utf8"?(0,n.encodeXML)(S):(0,n.escapeText)(S)),S})(m,b)}}e.render=p,e.default=p;var h=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),y=new Set(["svg","math"])},53819:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryProcessExplainLogical=void 0;const c=s(59478),o=s(90711),u=s(90412);class i extends c.ActorQueryProcess{constructor(n){super(n)}async test(n){return(n.context.get(o.KeysInitQuery.explain)??n.context.get(new u.ActionContextKey("explain")))!=="logical"?(0,u.failTest)(`${this.name} can only explain in 'logical' mode.`):(0,u.passTestVoid)()}async run(n){let{operation:t,context:a}=await this.queryProcessor.parse(n.query,n.context);return{operation:t,context:a}=await this.queryProcessor.optimize(t,a),{result:{explain:!0,type:"logical",data:t}}}}e.ActorQueryProcessExplainLogical=i},53846:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},53930:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CountAggregator=void 0;const c=s(86581),o=s(77545);class u extends c.AggregateEvaluator{constructor(r,n,t){super(r,n,t),this.state=void 0}emptyValueTerm(){return(0,o.typedLiteral)("0",o.TypeURL.XSD_INTEGER)}putTerm(r){this.state===void 0&&(this.state=0),this.state++}termResult(){return this.state===void 0?this.emptyValue():(0,o.typedLiteral)(String(this.state),o.TypeURL.XSD_INTEGER)}}e.CountAggregator=u},53992:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DirectiveNodeHandlerOptional=void 0;const c=s(67797);class o extends c.DirectiveNodeHandlerAdapter{constructor(i,r){super("optional",i,r)}handle(i,r){return{operationOverrider:n=>this.util.operationFactory.createLeftJoin(this.util.operationFactory.createBgp([]),n)}}}e.DirectiveNodeHandlerOptional=o},54064:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryOperationOrderBy=void 0;const c=s(66490),o=s(90412),u=s(77545),i=s(67021),r=s(96331),n=s(14639);class t extends c.ActorQueryOperationTypedMediated{constructor(l){super(l,"orderby"),this.window=l.window??Number.POSITIVE_INFINITY,this.mediatorExpressionEvaluatorFactory=l.mediatorExpressionEvaluatorFactory,this.mediatorTermComparatorFactory=l.mediatorTermComparatorFactory}async testOperation(){return(0,o.passTestVoid)()}async runOperation(l,d){const p=await this.mediatorQueryOperation.mediate({operation:l.input,context:d}),f=(0,i.getSafeBindings)(p),h={window:this.window};let{bindingsStream:y}=f;const m=await this.mediatorTermComparatorFactory.mediate({context:d});for(let b=l.expressions.length-1;b>=0;b--){let v=l.expressions[b];const _=this.isAscending(v);v=this.extractSortExpression(v);const w=await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:v,context:d}),S=async(O,E,R)=>{try{R({bindings:O,result:await w.evaluate(O)})}catch(M){(0,u.isExpressionError)(M)||y.emit("error",M),R({bindings:O,result:void 0})}E()},x=y.transform({transform:S});y=new n.SortIterator(x,(O,E)=>{let R=m.orderTypes(O.result,E.result);return _||(R*=-1),R},h).map(({bindings:O})=>O)}return{type:"bindings",bindingsStream:y,metadata:f.metadata}}extractSortExpression(l){const{expressionType:d,operator:p}=l;return d!==r.Algebra.expressionTypes.OPERATOR?l:p==="desc"?l.args[0]:l}isAscending(l){const{expressionType:d,operator:p}=l;return d!==r.Algebra.expressionTypes.OPERATOR||p!=="desc"}}e.ActorQueryOperationOrderBy=t},54068:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfMetadataExtractPutAccepted=void 0;const c=s(18412),o=s(90412);class u extends c.ActorRdfMetadataExtract{constructor(r){super(r)}async test(r){return(0,o.passTestVoid)()}async run(r){const n={},t=r.headers?.get("accept-put");return t&&(n.putAccepted=t.split(/, */u)),{metadata:n}}}e.ActorRdfMetadataExtractPutAccepted=u},54236:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ClosableTransformIterator=void 0;const c=s(75627);class o extends c.TransformIterator{constructor(i,r){super(i,r),this.onClose=r.onClose}_end(i){this.onClose(),super._end(i)}}e.ClosableTransformIterator=o},54309:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(59383),e)},54337:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SparqlXmlParser=void 0;const c=s(32320),o=s(55201),u=s(19198);class i{constructor(n){n=n||{},this.dataFactory=n.dataFactory||new c.DataFactory,this.prefixVariableQuestionMark=!!n.prefixVariableQuestionMark,this.parseUnsupportedVersions=!!n.parseUnsupportedVersions}isValidVersion(n){return this.parseUnsupportedVersions||i.SUPPORTED_VERSIONS.includes(n)}parseXmlResultsStream(n,t){const a=x=>S.emit("error",x);n.on("error",a);const l=new o.SaxesParser,d=[];let p=!1,f=!1;const h=[];let y,m={},b="",v="",_="",w=[];l.on("error",a),l.on("opentag",x=>{x.name==="variable"&&this.stackEquals(d,["sparql","head"])?h.push(this.dataFactory.variable(x.attributes.name)):x.name==="results"&&this.stackEquals(d,["sparql"])?f=!0:x.name==="result"&&this.stackEquals(d,["sparql","results"])?m={}:x.name==="binding"&&this.stackEquals(d,["sparql","results","result"])?(b=x.attributes.name||"",v="",y=void 0,_="",w=[]):x.name==="triple"&&this.stackBeginsWith(d,["sparql","results","result"])?w.push({components:{}}):d[d.length-1]==="triple"&&this.stackBeginsWith(d,["sparql","results","result","binding"])?(v="",y=void 0,_="",["subject","predicate","object"].includes(x.name)?w[w.length-1].currentComponent=x.name:a(new Error(`Illegal quoted triple component '${x.name}' found on line ${l.line+1}`))):this.stackBeginsWith(d,["sparql","results","result","binding"])?(v=x.name,y="xml:lang"in x.attributes?{language:x.attributes["xml:lang"],direction:x.attributes["its:dir"]}:"datatype"in x.attributes?this.dataFactory.namedNode(x.attributes.datatype):void 0):x.name==="sparql"&&x.attributes.version&&(this.isValidVersion(x.attributes.version)||S.emit("error",new Error(`Detected unsupported version: ${x.attributes.version}`)),S.emit("version",x.attributes.version)),d.push(x.name)}),l.on("closetag",x=>{if(this.stackEquals(d,["sparql","head"])&&(S.emit("variables",h),p=!0),this.stackEquals(d,["sparql","results","result"])&&S.push(m),this.stackBeginsWith(d,["sparql","results","result","binding"])){let T;if(!b&&v)a(new Error(`Terms should have a name on line ${l.line+1}`));else if(v==="uri")T=this.dataFactory.namedNode(_);else if(v==="bnode")T=this.dataFactory.blankNode(_);else if(v==="literal")T=this.dataFactory.literal(_,y);else if(d[d.length-1]==="triple"){const O=w.pop();O&&O.components.subject&&O.components.predicate&&O.components.object?T=this.dataFactory.quad(O.components.subject,O.components.predicate,O.components.object):a(new Error(`Incomplete quoted triple on line ${l.line+1}`))}else v&&a(new Error(`Invalid term type '${v}' on line ${l.line+1}`));if(T)if(w.length>0){const O=w[w.length-1];O.components[O.currentComponent]&&a(new Error(`The ${O.currentComponent} in a quoted triple on line ${l.line+1} was already defined before`)),O.components[O.currentComponent]=T}else{const O=this.prefixVariableQuestionMark?"?"+b:b;m[O]=T}v=void 0}d.pop()}),l.on("text",x=>{this.stackBeginsWith(d,["sparql","results","result","binding"])&&d[d.length-1]===v&&(_=x)});const S=n.on("end",x=>{f?p||S.emit("variables",[]):S.emit("error",new Error("No valid SPARQL query results were found."))}).pipe(new u.Transform({objectMode:!0,transform(x,T,O){l.write(x),O()}}));return t&&!this.isValidVersion(t)&&S.destroy(new Error(`Detected unsupported version as media type parameter: ${t}`)),S}parseXmlBooleanStream(n,t){return t&&!this.isValidVersion(t)?Promise.reject(new Error(`Detected unsupported version as media type parameter: ${t}`)):new Promise((a,l)=>{const d=new o.SaxesParser,p=[];d.on("error",l),d.on("opentag",f=>{p.push(f.name)}),d.on("closetag",f=>{p.pop()}),d.on("text",f=>{this.stackEquals(p,["sparql","boolean"])&&a(f==="true")}),n.on("error",l).on("data",f=>d.write(f)).on("end",()=>l(new Error("No valid ASK response was found.")))})}stackEquals(n,t){return n.length===t.length&&n.every((a,l)=>t[l]===a)}stackBeginsWith(n,t){return n.length>=t.length&&t.every((a,l)=>n[l]===a)}}e.SparqlXmlParser=i,i.SUPPORTED_VERSIONS=["1.2","1.2-basic","1.1"]},54392:function(g,e,s){var c,o=this&&this.__createBinding||(Object.create?function(b,v,_,w){w===void 0&&(w=_);var S=Object.getOwnPropertyDescriptor(v,_);S&&!("get"in S?!v.__esModule:S.writable||S.configurable)||(S={enumerable:!0,get:function(){return v[_]}}),Object.defineProperty(b,w,S)}:function(b,v,_,w){w===void 0&&(w=_),b[w]=v[_]}),u=this&&this.__setModuleDefault||(Object.create?function(b,v){Object.defineProperty(b,"default",{enumerable:!0,value:v})}:function(b,v){b.default=v}),i=this&&this.__importStar||(c=function(b){return c=Object.getOwnPropertyNames||function(v){var _=[];for(var w in v)Object.prototype.hasOwnProperty.call(v,w)&&(_[_.length]=w);return _},c(b)},function(b){if(b&&b.__esModule)return b;var v={};if(b!=null)for(var _=c(b),w=0;w<_.length;w++)_[w]!=="default"&&o(v,b,_[w]);return u(v,b),v}),r=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(e,"__esModule",{value:!0}),e.DomUtils=e.getFeed=e.ElementType=e.QuoteType=e.Tokenizer=e.DefaultHandler=e.DomHandler=e.Parser=void 0,e.parseDocument=d,e.parseDOM=p,e.createDocumentStream=function(b,v,_){const w=new a.DomHandler(S=>b(S,w.root),v,_);return new n.Parser(w,v)},e.createDomStream=function(b,v,_){const w=new a.DomHandler(b,v,_);return new n.Parser(w,v)},e.parseFeed=function(b,v=m){return(0,h.getFeed)(p(b,v))};const n=s(72157);var t=s(72157);Object.defineProperty(e,"Parser",{enumerable:!0,get:function(){return t.Parser}});const a=s(41141);var l=s(41141);function d(b,v){const _=new a.DomHandler(void 0,v);return new n.Parser(_,v).end(b),_.root}function p(b,v){return d(b,v).children}Object.defineProperty(e,"DomHandler",{enumerable:!0,get:function(){return l.DomHandler}}),Object.defineProperty(e,"DefaultHandler",{enumerable:!0,get:function(){return l.DomHandler}});var f=s(14709);Object.defineProperty(e,"Tokenizer",{enumerable:!0,get:function(){return r(f).default}}),Object.defineProperty(e,"QuoteType",{enumerable:!0,get:function(){return f.QuoteType}}),e.ElementType=i(s(45413));const h=s(98888);var y=s(98888);Object.defineProperty(e,"getFeed",{enumerable:!0,get:function(){return y.getFeed}});const m={xmlMode:!0};e.DomUtils=i(s(98888))},54437:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getFeed=function(d){var p=n(l,d);return p?p.name==="feed"?(function(f){var h,y=f.children,m={type:"atom",items:(0,o.getElementsByTagName)("entry",y).map(function(_){var w,S=_.children,x={media:r(S)};a(x,"id","id",S),a(x,"title","title",S);var T=(w=n("link",S))===null||w===void 0?void 0:w.attribs.href;T&&(x.link=T);var O=t("summary",S)||t("content",S);O&&(x.description=O);var E=t("updated",S);return E&&(x.pubDate=new Date(E)),x})};a(m,"id","id",y),a(m,"title","title",y);var b=(h=n("link",y))===null||h===void 0?void 0:h.attribs.href;b&&(m.link=b),a(m,"description","subtitle",y);var v=t("updated",y);return v&&(m.updated=new Date(v)),a(m,"author","email",y,!0),m})(p):(function(f){var h,y,m=(y=(h=n("channel",f.children))===null||h===void 0?void 0:h.children)!==null&&y!==void 0?y:[],b={type:f.name.substr(0,3),id:"",items:(0,o.getElementsByTagName)("item",f.children).map(function(_){var w=_.children,S={media:r(w)};a(S,"id","guid",w),a(S,"title","title",w),a(S,"link","link",w),a(S,"description","description",w);var x=t("pubDate",w)||t("dc:date",w);return x&&(S.pubDate=new Date(x)),S})};a(b,"title","title",m),a(b,"link","link",m),a(b,"description","description",m);var v=t("lastBuildDate",m);return v&&(b.updated=new Date(v)),a(b,"author","managingEditor",m,!0),b})(p):null};var c=s(76037),o=s(43209),u=["url","type","lang"],i=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function r(d){return(0,o.getElementsByTagName)("media:content",d).map(function(p){for(var f=p.attribs,h={medium:f.medium,isDefault:!!f.isDefault},y=0,m=u;y<m.length;y++)f[_=m[y]]&&(h[_]=f[_]);for(var b=0,v=i;b<v.length;b++){var _;f[_=v[b]]&&(h[_]=parseInt(f[_],10))}return f.expression&&(h.expression=f.expression),h})}function n(d,p){return(0,o.getElementsByTagName)(d,p,!0,1)[0]}function t(d,p,f){return f===void 0&&(f=!1),(0,c.textContent)((0,o.getElementsByTagName)(d,p,f,1)).trim()}function a(d,p,f,h,y){y===void 0&&(y=!1);var m=t(f,h,y);m&&(d[p]=m)}function l(d){return d==="rss"||d==="feed"||d==="rdf:RDF"}},54502:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionAbs=void 0;const c=s(77617),o=s(77545);class u extends c.TermFunctionBase{constructor(){super({arity:1,operator:o.SparqlOperator.ABS,overloads:(0,o.declare)(o.SparqlOperator.ABS).numericConverter(()=>r=>Math.abs(r)).collect()})}}e.TermFunctionAbs=u},54531:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(60385),e)},54560:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(1667),e)},54645:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(57489),e),o(s(43750),e)},54672:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(33688),e)},54833:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(79434),e),o(s(33369),e),o(s(81791),e),o(s(54853),e),o(s(80722),e),o(s(61013),e)},54853:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Operator=void 0;const c=s(42996);e.Operator=class{constructor(o,u,i){this.name=o,this.args=u,this.apply=i,this.expressionType=c.ExpressionType.Operator}}},55009:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeValueHandlerAdapter=void 0,e.NodeValueHandlerAdapter=class{constructor(s,c,o){this.targetKind=s,this.util=c,this.settings=o}}},55010:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(37185),e)},55096:(g,e)=>{var s;Object.defineProperty(e,"__esModule",{value:!0}),e.replaceCodePoint=e.fromCodePoint=void 0;var c=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function o(u){var i;return u>=55296&&u<=57343||u>1114111?65533:(i=c.get(u))!==null&&i!==void 0?i:u}e.fromCodePoint=(s=String.fromCodePoint)!==null&&s!==void 0?s:function(u){var i="";return u>65535&&(u-=65536,i+=String.fromCharCode(u>>>10&1023|55296),u=56320|1023&u),i+String.fromCharCode(u)},e.replaceCodePoint=o,e.default=function(u){return(0,e.fromCodePoint)(o(u))}},55180:g=>{g.exports=JSON.parse('{"@context":{"alternate":"http://www.w3.org/1999/xhtml/vocab#alternate","appendix":"http://www.w3.org/1999/xhtml/vocab#appendix","cite":"http://www.w3.org/1999/xhtml/vocab#cite","bookmark":"http://www.w3.org/1999/xhtml/vocab#bookmark","contents":"http://www.w3.org/1999/xhtml/vocab#contents","chapter":"http://www.w3.org/1999/xhtml/vocab#chapter","copyright":"http://www.w3.org/1999/xhtml/vocab#copyright","first":"http://www.w3.org/1999/xhtml/vocab#first","glossary":"http://www.w3.org/1999/xhtml/vocab#glossary","help":"http://www.w3.org/1999/xhtml/vocab#help","icon":"http://www.w3.org/1999/xhtml/vocab#icon","index":"http://www.w3.org/1999/xhtml/vocab#index","last":"http://www.w3.org/1999/xhtml/vocab#last","license":"http://www.w3.org/1999/xhtml/vocab#license","meta":"http://www.w3.org/1999/xhtml/vocab#meta","next":"http://www.w3.org/1999/xhtml/vocab#next","prev":"http://www.w3.org/1999/xhtml/vocab#prev","previous":"http://www.w3.org/1999/xhtml/vocab#previous","section":"http://www.w3.org/1999/xhtml/vocab#section","start":"http://www.w3.org/1999/xhtml/vocab#start","stylesheet":"http://www.w3.org/1999/xhtml/vocab#stylesheet","subsection":"http://www.w3.org/1999/xhtml/vocab#subsection","top":"http://www.w3.org/1999/xhtml/vocab#top","up":"http://www.w3.org/1999/xhtml/vocab#up","p3pv1":"http://www.w3.org/1999/xhtml/vocab#p3pv1"}}')},55201:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SaxesParser=e.EVENTS=void 0;const c=s(31487),o=s(84797),u=s(60446);var i=c.isS,r=c.isChar,n=c.isNameStartChar,t=c.isNameChar,a=c.S_LIST,l=c.NAME_RE,d=o.isChar,p=u.isNCNameStartChar,f=u.isNCNameChar,h=u.NC_NAME_RE;const y="http://www.w3.org/XML/1998/namespace",m="http://www.w3.org/2000/xmlns/",b={__proto__:null,xml:y,xmlns:m},v={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},_=-1,w=-2,S=13,x=33,T=10,O=60,E=61,R=62,M=63,Q=93,X=j=>j===34||j===39,V=[34,39],H=[...V,91,R],U=[...V,O,Q],k=[E,M,...a],$=[...a,R,38,O];function ae(j,P,L){switch(P){case"xml":L!==y&&j.fail(`xml prefix must be bound to ${y}.`);break;case"xmlns":L!==m&&j.fail(`xmlns prefix must be bound to ${m}.`)}switch(L){case m:j.fail(P===""?`the default namespace may not be set to ${L}.`:`may not assign a prefix (even "xmlns") to the URI ${m}.`);break;case y:switch(P){case"xml":break;case"":j.fail(`the default namespace may not be set to ${L}.`);break;default:j.fail("may not assign the xml namespace to another prefix.")}}}const he=j=>h.test(j),ye=j=>l.test(j);e.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const I={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};e.SaxesParser=class{get closed(){return this._closed}constructor(j){this.opt=j??{},this.fragmentOpt=!!this.opt.fragment;const P=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,P){this.nameStartCheck=p,this.nameCheck=f,this.isName=he,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},b);const L=this.opt.additionalNamespaces;L!=null&&((function(G,te){for(const W of Object.keys(te))ae(G,W,te[W])})(this,L),Object.assign(this.ns,L))}else this.nameStartCheck=n,this.nameCheck=t,this.isName=ye,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}_init(){var j;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];const{fragmentOpt:P}=this;this.state=P?S:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=P,this.xmlDeclPossible=!P,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:L}=this.opt;if(L===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");L="1.0"}this.setXMLVersion(L),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(v),(j=this.readyHandler)===null||j===void 0||j.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(j,P){this[I[j]]=P}off(j){this[I[j]]=void 0}makeError(j){var P;let L=(P=this.fileName)!==null&&P!==void 0?P:"";return this.trackPosition&&(L.length>0&&(L+=":"),L+=`${this.line}:${this.column}`),L.length>0&&(L+=": "),new Error(L+j)}fail(j){const P=this.makeError(j),L=this.errorHandler;if(L===void 0)throw P;return L(P),this}write(j){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let P=!1;j===null?(P=!0,j=""):typeof j=="object"&&(j=j.toString()),this.carriedFromPrevious!==void 0&&(j=`${this.carriedFromPrevious}${j}`,this.carriedFromPrevious=void 0);let L=j.length;const G=j.charCodeAt(L-1);!P&&(G===13||G>=55296&&G<=56319)&&(this.carriedFromPrevious=j[L-1],L--,j=j.slice(0,L));const{stateTable:te}=this;for(this.chunk=j,this.i=0;this.i<L;)te[this.state].call(this);return this.chunkPosition+=L,P?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:j,i:P}=this;if(this.prevI=P,this.i=P+1,P>=j.length)return _;const L=j.charCodeAt(P);if(this.column++,L<55296){if(L>=32||L===9)return L;switch(L){case T:return this.line++,this.column=0,this.positionAtNewLine=this.position,T;case 13:return j.charCodeAt(P+1)===T&&(this.i=P+2),this.line++,this.column=0,this.positionAtNewLine=this.position,w;default:return this.fail("disallowed character."),L}}if(L>56319)return L>=57344&&L<=65533||this.fail("disallowed character."),L;const G=65536+1024*(L-55296)+(j.charCodeAt(P+1)-56320);return this.i=P+2,G>1114111&&this.fail("disallowed character."),G}getCode11(){const{chunk:j,i:P}=this;if(this.prevI=P,this.i=P+1,P>=j.length)return _;const L=j.charCodeAt(P);if(this.column++,L<55296){if(L>31&&L<127||L>159&&L!==8232||L===9)return L;switch(L){case T:return this.line++,this.column=0,this.positionAtNewLine=this.position,T;case 13:{const te=j.charCodeAt(P+1);te!==T&&te!==133||(this.i=P+2)}case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,w;default:return this.fail("disallowed character."),L}}if(L>56319)return L>=57344&&L<=65533||this.fail("disallowed character."),L;const G=65536+1024*(L-55296)+(j.charCodeAt(P+1)-56320);return this.i=P+2,G>1114111&&this.fail("disallowed character."),G}getCodeNorm(){const j=this.getCode();return j===w?T:j}unget(){this.i=this.prevI,this.column--}captureTo(j){let{i:P}=this;const{chunk:L}=this;for(;;){const G=this.getCode(),te=G===w,W=te?T:G;if(W===_||j.includes(W))return this.text+=L.slice(P,this.prevI),W;te&&(this.text+=`${L.slice(P,this.prevI)}
`,P=this.i)}}captureToChar(j){let{i:P}=this;const{chunk:L}=this;for(;;){let G=this.getCode();switch(G){case w:this.text+=`${L.slice(P,this.prevI)}
`,P=this.i,G=T;break;case _:return this.text+=L.slice(P),!1}if(G===j)return this.text+=L.slice(P,this.prevI),!0}}captureNameChars(){const{chunk:j,i:P}=this;for(;;){const L=this.getCode();if(L===_)return this.name+=j.slice(P),_;if(!t(L))return this.name+=j.slice(P,this.prevI),L===w?T:L}}skipSpaces(){for(;;){const j=this.getCodeNorm();if(j===_||!i(j))return j}}setXMLVersion(j){this.currentXMLVersion=j,j==="1.0"?(this.isChar=r,this.getCode=this.getCode10):(this.isChar=d,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=1}sBeginWhitespace(){const j=this.i,P=this.skipSpaces();switch(this.prevI!==j&&(this.xmlDeclPossible=!1),P){case O:if(this.state=15,this.text.length!==0)throw new Error("no-empty text at start");break;case _:break;default:this.unget(),this.state=S,this.xmlDeclPossible=!1}}sDoctype(){var j;const P=this.captureTo(H);switch(P){case R:(j=this.doctypeHandler)===null||j===void 0||j.call(this,this.text),this.text="",this.state=S,this.doctype=!0;break;case _:break;default:this.text+=String.fromCodePoint(P),P===91?this.state=4:X(P)&&(this.state=3,this.q=P)}}sDoctypeQuote(){const j=this.q;this.captureToChar(j)&&(this.text+=String.fromCodePoint(j),this.q=null,this.state=2)}sDTD(){const j=this.captureTo(U);j!==_&&(this.text+=String.fromCodePoint(j),j===Q?this.state=2:j===O?this.state=6:X(j)&&(this.state=5,this.q=j))}sDTDQuoted(){const j=this.q;this.captureToChar(j)&&(this.text+=String.fromCodePoint(j),this.state=4,this.q=null)}sDTDOpenWaka(){const j=this.getCodeNorm();switch(this.text+=String.fromCodePoint(j),j){case 33:this.state=7,this.openWakaBang="";break;case M:this.state=11;break;default:this.state=4}}sDTDOpenWakaBang(){const j=String.fromCodePoint(this.getCodeNorm()),P=this.openWakaBang+=j;this.text+=j,P!=="-"&&(this.state=P==="--"?8:4,this.openWakaBang="")}sDTDComment(){this.captureToChar(45)&&(this.text+="-",this.state=9)}sDTDCommentEnding(){const j=this.getCodeNorm();this.text+=String.fromCodePoint(j),this.state=j===45?10:8}sDTDCommentEnded(){const j=this.getCodeNorm();this.text+=String.fromCodePoint(j),j===R?this.state=4:(this.fail("malformed comment."),this.state=8)}sDTDPI(){this.captureToChar(M)&&(this.text+="?",this.state=12)}sDTDPIEnding(){const j=this.getCodeNorm();this.text+=String.fromCodePoint(j),j===R&&(this.state=4)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:j}=this;const{chunk:P}=this;e:for(;;)switch(this.getCode()){case w:this.entity+=`${P.slice(j,this.prevI)}
`,j=this.i;break;case 59:{const{entityReturnState:L}=this,G=this.entity+P.slice(j,this.prevI);let te;this.state=L,G===""?(this.fail("empty entity name."),te="&;"):(te=this.parseEntity(G),this.entity=""),L===S&&this.textHandler===void 0||(this.text+=te);break e}case _:this.entity+=P.slice(j);break e}}sOpenWaka(){const j=this.getCode();if(n(j))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(j){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case M:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=S,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(45)&&(this.state=18)}sCommentEnding(){var j;const P=this.getCodeNorm();P===45?(this.state=19,(j=this.commentHandler)===null||j===void 0||j.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(P)}`,this.state=17)}sCommentEnded(){const j=this.getCodeNorm();j!==R?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(j)}`,this.state=17):this.state=S}sCData(){this.captureToChar(Q)&&(this.state=21)}sCDataEnding(){const j=this.getCodeNorm();j===Q?this.state=22:(this.text+=`]${String.fromCodePoint(j)}`,this.state=20)}sCDataEnding2(){var j;const P=this.getCodeNorm();switch(P){case R:(j=this.cdataHandler)===null||j===void 0||j.call(this,this.text),this.text="",this.state=S;break;case Q:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(P)}`,this.state=20}}sPIFirstChar(){const j=this.getCodeNorm();this.nameStartCheck(j)?(this.piTarget+=String.fromCodePoint(j),this.state=24):j===M||i(j)?(this.fail("processing instruction without a target."),this.state=j===M?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(j),this.state=24)}sPIRest(){const{chunk:j,i:P}=this;for(;;){const L=this.getCodeNorm();if(L===_)return void(this.piTarget+=j.slice(P));if(!this.nameCheck(L)){this.piTarget+=j.slice(P,this.prevI);const G=L===M;G||i(L)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=G?x:27):this.state=G?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(L));break}}}sPIBody(){if(this.text.length===0){const j=this.getCodeNorm();j===M?this.state=26:i(j)||(this.text=String.fromCodePoint(j))}else this.captureToChar(M)&&(this.state=26)}sPIEnding(){var j;const P=this.getCodeNorm();if(P===R){const{piTarget:L}=this;L.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(j=this.piHandler)===null||j===void 0||j.call(this,{target:L,body:this.text}),this.piTarget=this.text="",this.state=S}else P===M?this.text+="?":(this.text+=`?${String.fromCodePoint(P)}`,this.state=25);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const j=this.skipSpaces();j!==M?j!==_&&(this.state=28,this.name=String.fromCodePoint(j)):this.state=x}sXMLDeclName(){const j=this.captureTo(k);if(j===M)return this.state=x,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(i(j)||j===E){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=j===E?30:29}}sXMLDeclEq(){const j=this.getCodeNorm();if(j===M)return this.state=x,void this.fail("XML declaration is incomplete.");i(j)||(j!==E&&this.fail("value required."),this.state=30)}sXMLDeclValueStart(){const j=this.getCodeNorm();if(j===M)return this.state=x,void this.fail("XML declaration is incomplete.");i(j)||(X(j)?this.q=j:(this.fail("value must be quoted."),this.q=32),this.state=31)}sXMLDeclValue(){const j=this.captureTo([this.q,M]);if(j===M)return this.state=x,this.text="",void this.fail("XML declaration is incomplete.");if(j===_)return;const P=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const L=P;this.xmlDecl.version=L,/^1\.[0-9]+$/.test(L)?this.opt.forceXMLVersion||this.setXMLVersion(L):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(P)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=P;break;case"standalone":P!=="yes"&&P!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=P}this.name="",this.state=32}sXMLDeclSeparator(){const j=this.getCodeNorm();j!==M?(i(j)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=x}sXMLDeclEnding(){var j;this.getCodeNorm()===R?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(j=this.xmldeclHandler)===null||j===void 0||j.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=S):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var j;const P=this.captureNameChars();if(P===_)return;const L=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=L.ns=Object.create(null)),(j=this.openTagStartHandler)===null||j===void 0||j.call(this,L),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),P){case R:this.openTag();break;case 47:this.state=35;break;default:i(P)||this.fail("disallowed character in tag name."),this.state=36}}sOpenTagSlash(){this.getCode()===R?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}sAttrib(){const j=this.skipSpaces();j!==_&&(n(j)?(this.unget(),this.state=37):j===R?this.openTag():j===47?this.state=35:this.fail("disallowed character in attribute name."))}sAttribName(){const j=this.captureNameChars();j===E?this.state=39:i(j)?this.state=38:j===R?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):j!==_&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const j=this.skipSpaces();switch(j){case _:return;case E:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",j===R?this.openTag():n(j)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}sAttribValue(){const j=this.getCodeNorm();X(j)?(this.q=j,this.state=40):i(j)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}sAttribValueQuoted(){const{q:j,chunk:P}=this;let{i:L}=this;for(;;)switch(this.getCode()){case j:return this.pushAttrib(this.name,this.text+P.slice(L,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=P.slice(L,this.prevI),this.state=14,void(this.entityReturnState=40);case T:case w:case 9:this.text+=`${P.slice(L,this.prevI)} `,L=this.i;break;case O:return this.text+=P.slice(L,this.prevI),void this.fail("disallowed character.");case _:return void(this.text+=P.slice(L))}}sAttribValueClosed(){const j=this.getCodeNorm();i(j)?this.state=36:j===R?this.openTag():j===47?this.state=35:n(j)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const j=this.captureTo($);switch(j){case 38:this.state=14,this.entityReturnState=42;break;case O:this.fail("disallowed character.");break;case _:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",j===R?this.openTag():this.state=36}}sCloseTag(){const j=this.captureNameChars();j===R?this.closeTag():i(j)?this.state=44:j!==_&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case R:this.closeTag();break;case _:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:j,forbiddenState:P}=this;const{chunk:L,textHandler:G}=this;e:for(;;)switch(this.getCode()){case O:if(this.state=15,G!==void 0){const{text:te}=this,W=L.slice(j,this.prevI);te.length!==0?(G(te+W),this.text=""):W.length!==0&&G(W)}P=0;break e;case 38:this.state=14,this.entityReturnState=S,G!==void 0&&(this.text+=L.slice(j,this.prevI)),P=0;break e;case Q:switch(P){case 0:P=1;break;case 1:P=2;break;case 2:break;default:throw new Error("impossible state")}break;case R:P===2&&this.fail('the string "]]>" is disallowed in char data.'),P=0;break;case w:G!==void 0&&(this.text+=`${L.slice(j,this.prevI)}
`),j=this.i,P=0;break;case _:G!==void 0&&(this.text+=L.slice(j));break e;default:P=0}this.forbiddenState=P}handleTextOutsideRoot(){let{i:j}=this;const{chunk:P,textHandler:L}=this;let G=!1;e:for(;;){const te=this.getCode();switch(te){case O:if(this.state=15,L!==void 0){const{text:W}=this,ce=P.slice(j,this.prevI);W.length!==0?(L(W+ce),this.text=""):ce.length!==0&&L(ce)}break e;case 38:this.state=14,this.entityReturnState=S,L!==void 0&&(this.text+=P.slice(j,this.prevI)),G=!0;break e;case w:L!==void 0&&(this.text+=`${P.slice(j,this.prevI)}
`),j=this.i;break;case _:L!==void 0&&(this.text+=P.slice(j));break e;default:i(te)||(G=!0)}}G&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(j,P){var L;const{prefix:G,local:te}=this.qname(j),W={name:j,prefix:G,local:te,value:P};if(this.attribList.push(W),(L=this.attributeHandler)===null||L===void 0||L.call(this,W),G==="xmlns"){const ce=P.trim();this.currentXMLVersion==="1.0"&&ce===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[te]=ce,ae(this,te,ce)}else if(j==="xmlns"){const ce=P.trim();this.topNS[""]=ce,ae(this,"",ce)}}pushAttribPlain(j,P){var L;const G={name:j,value:P};this.attribList.push(G),(L=this.attributeHandler)===null||L===void 0||L.call(this,G)}end(){var j,P;this.sawRoot||this.fail("document must contain a root element.");const{tags:L}=this;for(;L.length>0;){const te=L.pop();this.fail(`unclosed tag: ${te.name}`)}this.state!==0&&this.state!==S&&this.fail("unexpected end.");const{text:G}=this;return G.length!==0&&((j=this.textHandler)===null||j===void 0||j.call(this,G),this.text=""),this._closed=!0,(P=this.endHandler)===null||P===void 0||P.call(this),this._init(),this}resolve(j){var P,L;let G=this.topNS[j];if(G!==void 0)return G;const{tags:te}=this;for(let W=te.length-1;W>=0;W--)if(G=te[W].ns[j],G!==void 0)return G;return G=this.ns[j],G!==void 0?G:(L=(P=this.opt).resolvePrefix)===null||L===void 0?void 0:L.call(P,j)}qname(j){const P=j.indexOf(":");if(P===-1)return{prefix:"",local:j};const L=j.slice(P+1),G=j.slice(0,P);return(G===""||L===""||L.includes(":"))&&this.fail(`malformed name: ${j}.`),{prefix:G,local:L}}processAttribsNS(){var j;const{attribList:P}=this,L=this.tag;{const{prefix:W,local:ce}=this.qname(L.name);L.prefix=W,L.local=ce;const de=L.uri=(j=this.resolve(W))!==null&&j!==void 0?j:"";W!==""&&(W==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),de===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(W)}.`),L.uri=W))}if(P.length===0)return;const{attributes:G}=L,te=new Set;for(const W of P){const{name:ce,prefix:de,local:Se}=W;let ie,me;de===""?(ie=ce==="xmlns"?m:"",me=ce):(ie=this.resolve(de),ie===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(de)}.`),ie=de),me=`{${ie}}${Se}`),te.has(me)&&this.fail(`duplicate attribute: ${me}.`),te.add(me),W.uri=ie,G[ce]=W}this.attribList=[]}processAttribsPlain(){const{attribList:j}=this,P=this.tag.attributes;for(const{name:L,value:G}of j)P[L]!==void 0&&this.fail(`duplicate attribute: ${L}.`),P[L]=G;this.attribList=[]}openTag(){var j;this.processAttribs();const{tags:P}=this,L=this.tag;L.isSelfClosing=!1,(j=this.openTagHandler)===null||j===void 0||j.call(this,L),P.push(L),this.state=S,this.name=""}openSelfClosingTag(){var j,P,L;this.processAttribs();const{tags:G}=this,te=this.tag;te.isSelfClosing=!0,(j=this.openTagHandler)===null||j===void 0||j.call(this,te),(P=this.closeTagHandler)===null||P===void 0||P.call(this,te),(this.tag=(L=G[G.length-1])!==null&&L!==void 0?L:null)===null&&(this.closedRoot=!0),this.state=S,this.name=""}closeTag(){const{tags:j,name:P}=this;if(this.state=S,this.name="",P==="")return this.fail("weird empty close tag."),void(this.text+="</>");const L=this.closeTagHandler;let G=j.length;for(;G-- >0;){const te=this.tag=j.pop();if(this.topNS=te.ns,L?.(te),te.name===P)break;this.fail("unexpected close tag.")}G===0?this.closedRoot=!0:G<0&&(this.fail(`unmatched closing tag: ${P}.`),this.text+=`</${P}>`)}parseEntity(j){if(j[0]!=="#"){const L=this.ENTITIES[j];return L!==void 0?L:(this.fail(this.isName(j)?"undefined entity.":"disallowed character in entity name."),`&${j};`)}let P=NaN;return j[1]==="x"&&/^#x[0-9a-f]+$/i.test(j)?P=parseInt(j.slice(2),16):/^#[0-9]+$/.test(j)&&(P=parseInt(j.slice(1),10)),this.isChar(P)?String.fromCodePoint(P):(this.fail("malformed character entity."),`&${j};`)}}},55282:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionRound=void 0;const c=s(77617),o=s(77545);class u extends c.TermFunctionBase{constructor(){super({arity:1,operator:o.SparqlOperator.ROUND,overloads:(0,o.declare)(o.SparqlOperator.ROUND).numericConverter(()=>r=>Math.round(r)).collect()})}}e.TermFunctionRound=u},55312:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfParseJsonLd=void 0;const c=s(95124),o=s(90711),u=s(90412),i=s(38690),r=s(84333);class n extends c.ActorRdfParseFixedMediaTypes{constructor(a){super(a)}async testHandle(a,l,d){return d.has(o.KeysRdfParseHtmlScript.processingHtmlScript)&&l!=="application/ld+json"?(0,u.failTest)("JSON-LD in script tags can only have media type 'application/ld+json'"):l&&(l in this.mediaTypePriorities||l.endsWith("+json"))?await this.testHandleChecked(a):(0,u.failTest)(`Unrecognized media type: ${l}`)}async runHandle(a,l,d){const p=a.context.getSafe(o.KeysInitQuery.dataFactory);return{data:i.JsonLdParser.fromHttpResponse(a.metadata?.baseIRI??"",l,a.headers,{dataFactory:p,documentLoader:d.get(o.KeysRdfParseJsonLd.documentLoader)??new r.DocumentLoaderMediated(this.mediatorHttp,d),strictValues:d.get(o.KeysRdfParseJsonLd.strictValues),...d.get(o.KeysRdfParseJsonLd.parserOptions)}).import(a.data)}}}e.ActorRdfParseJsonLd=n},55461:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Quad=void 0,e.Quad=class{constructor(s,c,o,u){this.termType="Quad",this.value="",this.subject=s,this.predicate=c,this.object=o,this.graph=u}equals(s){return!!s&&(s.termType==="Quad"||!s.termType)&&this.subject.equals(s.subject)&&this.predicate.equals(s.predicate)&&this.object.equals(s.object)&&this.graph.equals(s.graph)}}},55569:(g,e)=>{function s(c){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},s(c)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(c){return s(c)=="object"&&c!==null}},55711:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(52161),e)},55940:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionAddition=void 0;const c=s(77617),o=s(77545),u=s(61594);class i extends c.TermFunctionBase{constructor(){super({arity:2,operator:o.SparqlOperator.ADDITION,overloads:(0,o.declare)(o.SparqlOperator.ADDITION).arithmetic(()=>(n,t)=>new u.BigNumber(n).plus(t).toNumber()).set([o.TypeURL.XSD_DATE_TIME,o.TypeURL.XSD_DAY_TIME_DURATION],()=>([n,t])=>new o.DateTimeLiteral((0,o.addDurationToDateTime)(n.typedValue,(0,o.defaultedDurationRepresentation)(t.typedValue)))).copy({from:[o.TypeURL.XSD_DATE_TIME,o.TypeURL.XSD_DAY_TIME_DURATION],to:[o.TypeURL.XSD_DATE_TIME,o.TypeURL.XSD_YEAR_MONTH_DURATION]}).set([o.TypeURL.XSD_DATE,o.TypeURL.XSD_DAY_TIME_DURATION],()=>([n,t])=>new o.DateLiteral((0,o.addDurationToDateTime)((0,o.defaultedDateTimeRepresentation)(n.typedValue),(0,o.defaultedDurationRepresentation)(t.typedValue)))).copy({from:[o.TypeURL.XSD_DATE,o.TypeURL.XSD_DAY_TIME_DURATION],to:[o.TypeURL.XSD_DATE,o.TypeURL.XSD_YEAR_MONTH_DURATION]}).set([o.TypeURL.XSD_TIME,o.TypeURL.XSD_DAY_TIME_DURATION],()=>([n,t])=>new o.TimeLiteral((0,o.addDurationToDateTime)((0,o.defaultedDateTimeRepresentation)(n.typedValue),(0,o.defaultedDurationRepresentation)(t.typedValue)))).copy({from:[o.TypeURL.XSD_TIME,o.TypeURL.XSD_DAY_TIME_DURATION],to:[o.TypeURL.XSD_TIME,o.TypeURL.XSD_YEAR_MONTH_DURATION]}).collect()})}}e.TermFunctionAddition=i},55977:function(g,e,s){var c=this&&this.__awaiter||function(h,y,m,b){return new(m||(m=Promise))(function(v,_){function w(T){try{x(b.next(T))}catch(O){_(O)}}function S(T){try{x(b.throw(T))}catch(O){_(O)}}function x(T){var O;T.done?v(T.value):(O=T.value,O instanceof m?O:new m(function(E){E(O)})).then(w,S)}x((b=b.apply(h,y||[])).next())})},o=this&&this.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(e,"__esModule",{value:!0});const u=s(25828),i=s(35030),r=s(46898),n=s(73423),t=o(s(11501)),a=o(s(28630)),l=o(s(76588));function d(h){var y;return(y=/^[^]*[#/]/.exec(h))===null||y===void 0?void 0:y[0]}const p={"http://www.w3.org/1999/02/22-rdf-syntax-ns#":"rdf","http://www.w3.org/2000/01/rdf-schema#":"rdfs","http://www.w3.org/ns/shacl#":"sh","http://www.w3.org/2001/XMLSchema#":"xsd"},f={rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",sh:"http://www.w3.org/ns/shacl#",xsd:"http://www.w3.org/2001/XMLSchema#"};e.default=class{constructor(h,y,m={},b=void 0,v=!0,_=!1,w,S=!1,x=!0){this.store=h,this.base=b,this.errorOnExtraQuads=v,this.mintUnspecifiedPrefixes=_,this.fetch=w,this.extendedSyntax=S,this.requireBase=x,this.prefixes={},this.prefixRev={};for(const T of Object.keys(m)){const O=m[T],E=typeof O=="string"?O:O.value;E in p||T in f||(this.prefixRev[E]=T,this.prefixes[T]=E)}this.writer=y,this.requireBase=x}write(){return c(this,void 0,void 0,function*(){const h=this.store.getQuads(null,"http://www.w3.org/1999/02/22-rdf-syntax-ns#type","http://www.w3.org/2002/07/owl#Ontology",null);if(h.length===1&&h[0].subject.termType==="NamedNode"){const m=h[0].subject;this.store.removeQuads(h),m.equals(new u.NamedNode("urn:x-base:default"))||this.writer.add(`BASE ${(0,r.termToString)(m)}`),yield this.writeImports(m)}else if(this.requireBase)throw new Error("Base expected");if(this.mintUnspecifiedPrefixes){const m=new Set;for(const v of[...this.store.getSubjects(null,null,null),...this.store.getPredicates(null,null,null),...this.store.getObjects(null,null,null)])if(v.termType==="NamedNode"){const _=d(v.value);!_||_ in this.prefixRev||_ in p||m.add(_)}const b=Object.assign(Object.assign({},this.prefixes),f);yield Promise.all([...m].map(v=>(0,i.uriToPrefix)(v,{fetch:this.fetch,mintOnUnknown:!0,existingPrefixes:b}).then(_=>{this.prefixes[_]=v,b[_]=v,this.prefixRev[v]=_})))}const y=new Set([...this.store.getSubjects(null,null,null),...this.store.getPredicates(null,null,null),...this.store.getObjects(null,null,null)].filter(m=>m.termType==="NamedNode").map(m=>d(m.value)).filter(m=>typeof m=="string"));for(const m in this.prefixRev)y.has(m)||(delete this.prefixes[this.prefixRev[m]],delete this.prefixRev[m]);if(yield this.writePrefixes(),this.prefixes=Object.assign(Object.assign({},this.prefixes),f),this.prefixRev=Object.assign(Object.assign({},this.prefixRev),p),this.writer.newLine(),yield this.writeShapes(),this.extendedSyntax){const m=this.store.getSubjects(null,null,null);m.length>0&&this.writer.newLine(1);for(const b of m)this.writer.add(yield this.termToString(b,!0,!0)),this.writer.add(" "),this.writer.indent(),yield this.writeTurtlePredicates(b),this.writer.deindent();m.length>0&&(this.writer.add(" ."),this.writer.newLine())}if(this.errorOnExtraQuads&&this.store.size>0)throw new Error(`Dataset contains quads that cannot be written in SHACLC [
${new u.Writer({prefixes:this.prefixes}).quadsToString(this.store.getQuads(null,null,null,null))}]`);this.writer.end()})}writeImports(h){return c(this,void 0,void 0,function*(){const y=this.store.getObjectsOnce(h,new u.NamedNode("http://www.w3.org/2002/07/owl#imports"),null);if(y.length>0)for(const m of y)this.writer.add(`IMPORTS <${m.value}>`,!0)})}writePrefixes(){return c(this,void 0,void 0,function*(){const h=Object.keys(this.prefixes).filter(y=>!(y in a.default)).sort();if(h.length>0)for(const y of h)this.writer.add(`PREFIX ${y}: <${this.prefixes[y]}>`,!0)})}termToString(h,y=!1,m=!1){return c(this,void 0,void 0,function*(){try{if(y)throw new Error("Shacl name disabled");return(0,n.getShaclName)(h)}catch{}if(h.termType==="NamedNode"){const b=d(h.value);return b&&b in this.prefixRev&&b in this.prefixRev?`${this.prefixRev[b]}:${h.value.slice(b.length)}`:(0,r.termToString)(h)}if(h.termType==="Literal")return h.datatypeString==="http://www.w3.org/2001/XMLSchema#integer"||h.datatypeString==="http://www.w3.org/2001/XMLSchema#boolean"?h.value:(0,r.termToString)(h);throw h.termType==="BlankNode"&&m&&(0,r.termToString)(h),new Error(`Invalid term type for extra statement ${h.value} (${h.termType})`)})}writeShapes(){return c(this,void 0,void 0,function*(){for(const h of this.store.getSubjectsOnce(new u.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),new u.NamedNode("http://www.w3.org/ns/shacl#NodeShape"),null)){this.store.getQuadsOnce(h,new u.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),new u.NamedNode("http://www.w3.org/2000/01/rdf-schema#Class"),null).length>0?this.writer.add("shapeClass "):this.writer.add("shape "),this.writer.add(yield this.termToString(h)),this.writer.add(" ");const y=this.store.getObjectsOnce(h,new u.NamedNode("http://www.w3.org/ns/shacl#targetClass"),null);if(y.length>0){this.writer.add("-> ");for(const b of y)b.termType==="NamedNode"?this.writer.add(yield this.termToString(b)):(this.writer.add("!"),this.writer.add(yield this.termToString(this.singleObject(b,new u.NamedNode("http://www.w3.org/ns/shacl#not"),!0)))),this.writer.add(" ")}const m=this.store.getPredicates(h,null,null).filter(b=>[new u.NamedNode("http://www.w3.org/ns/shacl#targetClass"),new u.NamedNode("http://www.w3.org/ns/shacl#property"),new u.NamedNode("http://www.w3.org/ns/shacl#or"),...Object.keys(l.default).map(v=>new u.NamedNode("http://www.w3.org/ns/shacl#"+v))].every(v=>!b.equals(v)));m.length>0&&(this.writer.add(";"),this.writer.indent(),this.writer.newLine(1)),this.extendedSyntax&&(yield this.writeGivenTurtlePredicates(h,m)),m.length>0&&(this.writer.add(" "),this.writer.deindent()),yield this.writeShapeBody(h,!1)}})}getSingleProperty(h,y){let m=[h];try{let b=(0,n.getShaclName)(h.predicate),v="pred";if(b==="not"){const _=this.store.getQuadsOnce(h.object,null,null,null);if(m=m.concat(_),_.length!==1)throw new Error("Can only handle having one predicate of 'not'");[h]=_,b=(0,n.getShaclName)(h.predicate),v="not"}if(!(b in y))throw new Error(`${b} is not allowed`);return{name:b,type:v,object:h.object}}catch{this.store.addQuads(m)}}singleLayerPropertiesList(h,y){const m=[];for(const b of this.store.getQuadsOnce(h,null,null,null)){const v=this.getSingleProperty(b,y);v&&m.push(v)}return m}expectOneProperty(h,y){const m=this.store.getQuadsOnce(h,null,null,null);if(m.length===1){const b=this.getSingleProperty(m[0],y);if(b)return b}this.store.addQuads(m)}orProperties(h,y){const m=[];for(const b of this.store.getQuadsOnce(h,new u.NamedNode("http://www.w3.org/ns/shacl#or"),null,null)){const v=[];for(const _ of this.getList(b.object)){const w=this.expectOneProperty(_,y);if(!w)throw this.store.addQuad(b),new Error("Each entry of the 'or' statement must declare exactly one property");v.push(w)}m.push(v)}return m}getList(h){let y=h;const m=[];for(;!y.equals(new u.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"));)m.push(this.singleObject(y,new u.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#first"),!0)),y=this.singleObject(y,new u.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"),!0);return m}writeIriLiteralOrArray(h){return c(this,void 0,void 0,function*(){if(h.termType==="BlankNode"){this.writer.add("[");let y=!0;for(const m of this.getList(h))y?y=!1:this.writer.add(" "),this.writer.add(yield this.termToString(m));this.writer.add("]")}else this.writer.add(yield this.termToString(h))})}singleObject(h,y,m){var b;return(b=this.singleQuad(h,y,m))===null||b===void 0?void 0:b.object}singleQuad(h,y,m=!1){const b=this.store.getQuadsOnce(h,y,null,null);if(m&&b.length!==1)throw this.store.addQuads(b),new Error(`The subject and predicate ${h?.value} ${y?.value} must have exactly one object. Instead has ${b.length}`);if(b.length>1)throw this.store.addQuads(b),new Error(`The subject and predicate ${h?.value} ${y?.value} can have at most one object. Instead has ${b.length}`);return b.length===1?b[0]:void 0}writeAssigment({name:h,type:y,object:m}){return c(this,void 0,void 0,function*(){y==="not"&&this.writer.add("!"),this.writer.add(h),this.writer.add("="),yield this.writeIriLiteralOrArray(m)})}writeAtom({name:h,type:y,object:m}){return c(this,void 0,void 0,function*(){switch(y==="not"&&this.writer.add("!"),h){case"node":if(m.termType==="NamedNode")this.writer.add(`@${yield this.termToString(m)}`);else{if(m.termType!=="BlankNode")throw new Error("Invalid nested shape, must be blank node or IRI");yield this.writeShapeBody(m)}return;case"nodeKind":return void this.writer.add((0,n.getShaclName)(m));case"class":case"datatype":return void this.writer.add(yield this.termToString(m));default:this.writer.add(h),this.writer.add("="),yield this.writeIriLiteralOrArray(m)}})}writeAssigments(h,y=" ",m=!0,b){return c(this,void 0,void 0,function*(){for(const v of h)m?m=!1:this.writer.add(y),b?yield this.writeAtom(v):yield this.writeAssigment(v)})}writeParams(h,y=!0,m,b=!1,v=!1){return c(this,void 0,void 0,function*(){const _=this.orProperties(h,m),w=this.singleLayerPropertiesList(h,m);v&&(_.length>0||w.length>0)&&this.writer.newLine(1);for(const S of _)y?y=!1:this.writer.add(" "),yield this.writeAssigments(S,"|",!0,b);yield this.writeAssigments(w," ",y,b),v&&(_.length>0||w.length>0)&&this.writer.add(" .")})}writeShapeBody(h,y=!0){return c(this,void 0,void 0,function*(){this.writer.add("{").indent();const m=this.store.getObjectsOnce(h,new u.NamedNode("http://www.w3.org/ns/shacl#property"),null);yield this.writeParams(h,!0,l.default,!1,!0);for(const b of m)this.writer.newLine(1),yield this.writeProperty(b);this.writer.deindent().newLine(1),y?this.writer.add("} ."):this.writer.add("}").newLine(1)})}writeProperty(h){return c(this,void 0,void 0,function*(){yield this.writePath(this.singleObject(h,new u.NamedNode("http://www.w3.org/ns/shacl#path"),!0));const y=this.singleObject(h,new u.NamedNode("http://www.w3.org/ns/shacl#minCount")),m=this.singleObject(h,new u.NamedNode("http://www.w3.org/ns/shacl#maxCount")),b=this.singleObject(h,new u.NamedNode("http://www.w3.org/ns/shacl#nodeKind")),v=this.singleObject(h,new u.NamedNode("http://www.w3.org/ns/shacl#class")),_=this.singleObject(h,new u.NamedNode("http://www.w3.org/ns/shacl#datatype")),w=this.store.getObjectsOnce(h,new u.NamedNode("http://www.w3.org/ns/shacl#node"),null);if(b&&(this.writer.add(" "),this.writer.add((0,n.getShaclName)(b))),v&&(this.writer.add(" "),this.writer.add(yield this.termToString(v))),_&&(this.writer.add(" "),this.writer.add(yield this.termToString(_))),y!==void 0||m!==void 0){if(this.writer.add(" ["),y){if(y.termType!=="Literal"||y.datatypeString!=="http://www.w3.org/2001/XMLSchema#integer")throw new Error("Invalid min value, must me an integer literal");this.writer.add(y.value)}else this.writer.add("0");if(this.writer.add(".."),m){if(m.termType!=="Literal"||m.datatypeString!=="http://www.w3.org/2001/XMLSchema#integer")throw new Error("Invalid max value, must me an integer literal");this.store.removeMatches(h,new u.NamedNode("http://www.w3.org/ns/shacl#maxCount"),void 0,void 0),this.writer.add(m.value)}else this.writer.add("*");this.writer.add("]")}yield this.writeParams(h,!1,t.default,!0);const S=[];for(const x of w)if(x.termType==="NamedNode")this.writer.add(" "),this.writer.add(`@${yield this.termToString(x)}`);else{if(x.termType!=="BlankNode")throw new Error("Invalid nested shape, must be blank node or IRI");S.push(x)}for(const x of S)this.writer.add(" "),yield this.writeShapeBody(x);this.extendedSyntax&&this.store.getQuads(h,null,null,null).length>0&&(this.writer.add(" %"),this.writer.indent(),this.writer.newLine(1),yield this.writeTurtlePredicates(h),this.writer.deindent(),this.writer.newLine(1),this.writer.add("%")),S.length===0&&this.writer.add(" .")})}writeTurtlePredicates(h){return c(this,void 0,void 0,function*(){return this.writeGivenTurtlePredicates(h,this.store.getPredicates(h,null,null))})}writeGivenTurtlePredicates(h,y){return c(this,void 0,void 0,function*(){let m=!1;if(y.some(b=>b.equals(u.DataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type")))){const b=this.store.getObjectsOnce(h,u.DataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),null);b.length>0&&(m=!0,this.writer.add("a "),yield this.writeTurtleObjects(b))}for(const b of y)b.equals(u.DataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"))||(m?(this.writer.add(" ;"),this.writer.newLine(1)):m=!0,this.writer.add(yield this.termToString(b,!0)),this.writer.add(" "),yield this.writeTurtleObjects(this.store.getObjectsOnce(h,b,null)))})}writeTurtleObjects(h){return c(this,void 0,void 0,function*(){const y=[],m=[];for(const v of h)v.termType==="BlankNode"&&[...this.store.match(null,null,v),...this.store.match(null,v,null)].length===0?y.push(v):m.push(v);this.writer.add((yield Promise.all(m.map(v=>this.termToString(v,!0,!0)))).join(", "));let b=m.length>0;if(y.length>0)for(const v of y)b?this.writer.add(", "):b=!0,(yield this.writeList(v))||(this.writer.add("["),this.writer.indent(),this.writer.newLine(1),yield this.writeTurtlePredicates(v),this.writer.deindent(),this.writer.newLine(1),this.writer.add("]"))})}writeList(h){return c(this,void 0,void 0,function*(){let y=h;const m=[],b=[];for(;!y.equals(u.DataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"));){const _=this.store.getQuadsOnce(y,u.DataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#first"),null,null),w=this.store.getQuadsOnce(y,u.DataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"),null,null);if(b.push(..._,...w),_.length!==1||w.length!==1||this.store.getQuads(y,null,null,null).length!==0)return this.store.addQuads(b),!1;m.push(_[0].object),y=w[0].object}let v=!1;this.writer.add("(");for(const _ of m)v?this.writer.add(" "):v=!0,yield this.writeTurtleObjects([_]);return this.writer.add(")"),!0})}writePath(h,y=!1){return c(this,void 0,void 0,function*(){if(h.termType==="NamedNode")this.writer.add(yield this.termToString(h));else{if(h.termType!=="BlankNode")throw new Error("Path should be named node or blank node");{const m=this.store.getQuadsOnce(h,null,null,null);if(m.length===1){const{predicate:b,object:v}=m[0];switch(b.value){case"http://www.w3.org/ns/shacl#inversePath":return this.writer.add("^"),void(yield this.writePath(v,!0));case"http://www.w3.org/ns/shacl#alternativePath":{const _=this.getList(v);if(_.length===0)throw new Error("Invalid Alternative Path - no options");if(_.length===1)yield this.writePath(_[0]);else{y&&this.writer.add("(");let w=!0;for(const S of _)w?w=!1:this.writer.add("|"),yield this.writePath(S,!0);y&&this.writer.add(")")}return}case"http://www.w3.org/ns/shacl#zeroOrMorePath":return yield this.writePath(v,!0),void this.writer.add("*");case"http://www.w3.org/ns/shacl#oneOrMorePath":return yield this.writePath(v,!0),void this.writer.add("+");case"http://www.w3.org/ns/shacl#zeroOrOnePath":return yield this.writePath(v,!0),void this.writer.add("?");default:throw new Error(`Invalid path type ${h.value}`)}}else{this.store.addQuads(m);const b=this.getList(h);if(b.length===0)throw new Error("Invalid Path");{y&&this.writer.add("(");let v=!0;for(const _ of b)v?v=!1:this.writer.add("/"),yield this.writePath(_,!0);y&&this.writer.add(")")}}}}})}}},55998:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerKeywordGraph=void 0;const c=s(1548);class o extends c.EntryHandlerKeyword{constructor(){super("@graph")}async handle(i,r,n,t,a,l){i.graphStack[l+1]=!0}}e.EntryHandlerKeywordGraph=o},56361:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(10448),e)},56662:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NamedNode=void 0,e.NamedNode=class{constructor(s){this.termType="NamedNode",this.value=s}equals(s){return!!s&&s.termType==="NamedNode"&&s.value===this.value}}},56697:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i},56698:g=>{typeof Object.create=="function"?g.exports=function(e,s){s&&(e.super_=s,e.prototype=Object.create(s.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:g.exports=function(e,s){if(s){e.super_=s;var c=function(){};c.prototype=s.prototype,e.prototype=new c,e.prototype.constructor=e}}},56718:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(3129),e)},57006:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FetchInitPreprocessor=void 0,e.FetchInitPreprocessor=class{async handle(s){if(s.body&&typeof s.body!="string"&&"getReader"in s.body){const c=s.body.getReader(),o=[];for(;;){const{done:u,value:i}=await c.read();if(u)break;o.push(i)}s.body=o.join("")}return{...s,keepalive:!s.body}}}},57042:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfJoin=void 0;const c=s(90711),o=s(90412),u=s(4809),i=s(99214);class r extends o.Actor{constructor(t,a){super(t),this.includeInLogs=!0,this.logicalType=a.logicalType,this.physicalName=a.physicalName,this.limitEntries=a.limitEntries??Number.POSITIVE_INFINITY,this.limitEntriesMin=a.limitEntriesMin??!1,this.canHandleUndefs=a.canHandleUndefs??!1,this.isLeaf=a.isLeaf??!0,this.requiresVariableOverlap=a.requiresVariableOverlap??!1,this.canHandleOperationRequired=a.canHandleOperationRequired??!1}static overlappingVariables(t){const a={};for(const l of t)for(const d of l.variables){a[d.variable.value]||(a[d.variable.value]={variable:d.variable,canBeUndef:d.canBeUndef,occurrences:0});const p=a[d.variable.value];p.canBeUndef=p.canBeUndef||d.canBeUndef,p.occurrences++}return Object.values(a).filter(l=>l.occurrences===t.length).map(l=>({variable:l.variable,canBeUndef:l.canBeUndef}))}static joinVariables(t,a,l=!1){const d={};let p=!0;for(const f of a){for(const h of f.variables)d[h.variable.value]=d[h.variable.value]||h.canBeUndef||!p&&l&&!(h.variable.value in d);p=!1}return Object.entries(d).map(([f,h])=>({variable:t.variable(f),canBeUndef:h}))}static joinBindings(...t){if(t.length===0)return null;if(t.length===1)return t[0];let a=t[0];for(const l of t.slice(1)){const d=a.merge(l);if(!d)return null;a=d}return a}static getCardinality(t){return t.cardinality}static async getMetadatas(t){return await Promise.all(t.map(a=>a.output.metadata()))}static async getEntriesWithMetadatas(t){const a=await r.getMetadatas(t);return t.map((l,d)=>({...l,metadata:a[d]}))}static getRequestInitialTimes(t){return t.map(a=>a.pageSize?0:a.requestTime??0)}static getRequestItemTimes(t){return t.map(a=>a.pageSize?(a.requestTime??0)/a.pageSize:0)}constructState(t){const a=new i.MetadataValidationState,l=()=>a.invalidate();for(const d of t)d.state.addInvalidateListener(l);return a}async constructResultMetadata(t,a,l,d={},p=!1){let f;if(d.cardinality)f=d.cardinality;else{let h=!1;f=a.reduce((y,m)=>{const b=r.getCardinality(m);return b.value===0&&(h=!0),{type:b.type==="estimate"?"estimate":y.type,value:y.value*(p?Math.max(1,b.value):b.value)}},{type:"exact",value:1}),h&&!p||(f.value*=(await this.mediatorJoinSelectivity.mediate({entries:t,context:l})).selectivity,f.value===0&&(f.value=Number.MIN_VALUE))}return{state:this.constructState(a),...d,cardinality:{type:f.type,value:f.value},variables:r.joinVariables(l.getSafe(c.KeysInitQuery.dataFactory),a,p)}}static async sortJoinEntries(t,a,l){if(a.some(f=>f.metadata.variables.some(h=>h.canBeUndef)))return(0,o.passTest)(a);const d={};for(const f of a)for(const h of f.metadata.variables){let y=d[h.variable.value];y||(y=0),d[h.variable.value]=++y}const p=[];for(const[f,h]of Object.entries(d))h>=2&&p.push(f);return p.length===0?(0,o.failTest)("Bind join can only join entries with at least one common variable"):(0,o.passTest)((await t.mediate({entries:a,context:l})).entries)}async test(t){if(t.type!==this.logicalType)return(0,o.failTest)(`${this.name} can only handle logical joins of type '${this.logicalType}', while '${t.type}' was given.`);if(t.entries.length<=1)return(0,o.failTest)(`${this.name} requires at least two join entries.`);const a=t.entries.some(p=>p.operationRequired);if(!this.canHandleOperationRequired&&a)return(0,o.failTest)(`${this.name} does not work with operationRequired.`);if(this.limitEntriesMin?t.entries.length<this.limitEntries:t.entries.length>this.limitEntries)return(0,o.failTest)(`${this.name} requires ${this.limitEntries} join entries at ${this.limitEntriesMin?"least":"most"}. The input contained ${t.entries.length}.`);for(const p of t.entries)if(p.output.type!=="bindings")return(0,o.failTest)(`Invalid type of a join entry: Expected 'bindings' but got '${p.output.type}'`);const l=await r.getMetadatas(t.entries);let d;return!this.canHandleUndefs&&(d=r.overlappingVariables(l),d.some(p=>p.canBeUndef))?(0,o.failTest)(`Actor ${this.name} can not join streams containing undefs`):this.requiresVariableOverlap&&(d??r.overlappingVariables(l)).length===0&&!a?(0,o.failTest)(`Actor ${this.name} can only join entries with at least one common variable`):await this.getJoinCoefficients(t,{metadatas:l})}async run(t,a){let l;t.context.has(c.KeysInitQuery.physicalQueryPlanLogger)&&(l=t.context.get(c.KeysInitQuery.physicalQueryPlanNode),t.context=t.context.set(c.KeysInitQuery.physicalQueryPlanNode,t));const d=t.context.get(c.KeysInitQuery.physicalQueryPlanLogger);let p;this.includeInLogs&&d&&(p={},d.stashChildren(l,y=>y.logicalOperator.startsWith("join")),d.logOperation(`join-${this.logicalType}`,this.physicalName,t,l,this.name,p));const{result:f,physicalPlanMetadata:h}=await this.getOutput(t,a);if(p){(0,u.instrumentIterator)(f.bindingsStream).then(m=>{d.appendMetadata(t,{cardinalityReal:m.count,timeSelf:m.timeSelf,timeLife:m.timeLife})}),Object.assign(p,h);const y=a.metadatas.map(r.getCardinality);if(p.cardinalities=y,p.joinCoefficients=(await this.getJoinCoefficients(t,a)).getOrThrow(),this.isLeaf)for(let m=0;m<t.entries.length;m++){const b=t.entries[m];d.unstashChild(b.operation,t),d.appendMetadata(b.operation,{cardinality:y[m]})}}return f.metadata=(0,i.cachifyMetadata)(f.metadata),f}}e.ActorRdfJoin=r},57044:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeValueHandlerList=void 0;const c=s(55009);class o extends c.NodeValueHandlerAdapter{constructor(i,r){super("ListValue",i,r),this.nodeFirst=this.util.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#first"),this.nodeRest=this.util.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"),this.nodeNil=this.util.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#nil")}handle(i,r,n){const t=[];let a=[];for(const l of i.values){const d=this.util.handleNodeValue(l,r,n);for(const p of d.terms)t.push(p);d.auxiliaryPatterns&&(a=a.concat(d.auxiliaryPatterns))}if(this.settings.arraysToRdfLists){const l=this.util.dataFactory.blankNode();let d=l,p=t.length;for(const f of t){a.push(this.util.operationFactory.createPattern(d,this.nodeFirst,f,n.graph));const h=--p===0?this.nodeNil:this.util.dataFactory.blankNode();a.push(this.util.operationFactory.createPattern(d,this.nodeRest,h,n.graph)),d=h}return{terms:[l],auxiliaryPatterns:a}}return{terms:t,auxiliaryPatterns:a}}}e.NodeValueHandlerList=o},57489:(g,e,s)=>{function c(_){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},c(_)}function o(){var _,w,S=typeof Symbol=="function"?Symbol:{},x=S.iterator||"@@iterator",T=S.toStringTag||"@@toStringTag";function O(U,k,$,ae){var he=k&&k.prototype instanceof R?k:R,ye=Object.create(he.prototype);return u(ye,"_invoke",(function(I,j,P){var L,G,te,W=0,ce=P||[],de=!1,Se={p:0,n:0,v:_,a:ie,f:ie.bind(_,4),d:function(me,oe){return L=me,G=0,te=_,Se.n=oe,E}};function ie(me,oe){for(G=me,te=oe,w=0;!de&&W&&!ve&&w<ce.length;w++){var ve,xe=ce[w],q=Se.p,N=xe[2];me>3?(ve=N===oe)&&(te=xe[(G=xe[4])?5:(G=3,3)],xe[4]=xe[5]=_):xe[0]<=q&&((ve=me<2&&q<xe[1])?(G=0,Se.v=oe,Se.n=xe[1]):q<N&&(ve=me<3||xe[0]>oe||oe>N)&&(xe[4]=me,xe[5]=oe,Se.n=N,G=0))}if(ve||me>1)return E;throw de=!0,oe}return function(me,oe,ve){if(W>1)throw TypeError("Generator is already running");for(de&&oe===1&&ie(oe,ve),G=oe,te=ve;(w=G<2?_:te)||!de;){L||(G?G<3?(G>1&&(Se.n=-1),ie(G,te)):Se.n=te:Se.v=te);try{if(W=2,L){if(G||(me="next"),w=L[me]){if(!(w=w.call(L,te)))throw TypeError("iterator result is not an object");if(!w.done)return w;te=w.value,G<2&&(G=0)}else G===1&&(w=L.return)&&w.call(L),G<2&&(te=TypeError("The iterator does not provide a '"+me+"' method"),G=1);L=_}else if((w=(de=Se.n<0)?te:I.call(j,Se))!==E)break}catch(xe){L=_,G=1,te=xe}finally{W=1}}return{value:w,done:de}}})(U,$,ae),!0),ye}var E={};function R(){}function M(){}function Q(){}w=Object.getPrototypeOf;var X=[][x]?w(w([][x]())):(u(w={},x,function(){return this}),w),V=Q.prototype=R.prototype=Object.create(X);function H(U){return Object.setPrototypeOf?Object.setPrototypeOf(U,Q):(U.__proto__=Q,u(U,T,"GeneratorFunction")),U.prototype=Object.create(V),U}return M.prototype=Q,u(V,"constructor",Q),u(Q,"constructor",M),M.displayName="GeneratorFunction",u(Q,T,"GeneratorFunction"),u(V),u(V,T,"Generator"),u(V,x,function(){return this}),u(V,"toString",function(){return"[object Generator]"}),(o=function(){return{w:O,m:H}})()}function u(_,w,S,x){var T=Object.defineProperty;try{T({},"",{})}catch{T=0}u=function(O,E,R,M){function Q(X,V){u(O,X,function(H){return this._invoke(X,V,H)})}E?T?T(O,E,{value:R,enumerable:!M,configurable:!M,writable:!M}):O[E]=R:(Q("next",0),Q("throw",1),Q("return",2))},u(_,w,S,x)}function i(_,w,S,x,T,O,E){try{var R=_[O](E),M=R.value}catch(Q){return void S(Q)}R.done?w(M):Promise.resolve(M).then(x,T)}function r(_){return function(){var w=this,S=arguments;return new Promise(function(x,T){var O=_.apply(w,S);function E(M){i(O,x,T,E,R,"next",M)}function R(M){i(O,x,T,E,R,"throw",M)}E(void 0)})}}function n(_,w){for(var S=0;S<w.length;S++){var x=w[S];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(_,t(x.key),x)}}function t(_){var w=(function(S){if(c(S)!="object"||!S)return S;var x=S[Symbol.toPrimitive];if(x!==void 0){var T=x.call(S,"string");if(c(T)!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(S)})(_);return c(w)=="symbol"?w:w+""}function a(){try{var _=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a=function(){return!!_})()}function l(_){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(w){return w.__proto__||Object.getPrototypeOf(w)},l(_)}function d(_,w){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(S,x){return S.__proto__=x,S},d(_,w)}Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQuerySourceIdentifyHypermediaPassage=void 0;var p=s(81926),f=s(62100),h=s(43750),y=s(90412),m=s(96331),b=s(90711),v=(function(_){function w(E){return(function(R,M){if(!(R instanceof M))throw new TypeError("Cannot call a class as a function")})(this,w),(function(R,M,Q){return M=l(M),(function(X,V){if(V&&(c(V)=="object"||typeof V=="function"))return V;if(V!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(H){if(H===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return H})(X)})(R,a()?Reflect.construct(M,Q||[],l(R).constructor):M.apply(R,Q))})(this,w,[E,"passage"])}return(function(E,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(R&&R.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),Object.defineProperty(E,"prototype",{writable:!1}),R&&d(E,R)})(w,_),S=w,x=[{key:"testMetadata",value:(O=r(o().m(function E(R){return o().w(function(M){for(;;)switch(M.n){case 0:if(R.forceSourceType||R.metadata.sparqlService||this.checkUrlSuffix&&R.url.endsWith("/passage")){M.n=1;break}return M.a(2,(0,y.failTest)("Actor ".concat(this.name," could not detect a passage service description or URL ending on /passage.")));case 1:return M.a(2,(0,y.passTest)({filterFactor:1}))}},E,this)})),function(E){return O.apply(this,arguments)})},{key:"run",value:(T=r(o().m(function E(R){var M,Q,X,V,H,U,k,$,ae,he,ye,I,j,P,L;return o().w(function(G){for(;;)switch(G.n){case 0:return this.logInfo(R.context,"Identified ".concat(R.url," as passage source with service URL: ").concat(R.metadata.sparqlService||R.url)),M=R.context.getSafe(b.KeysInitQuery.dataFactory),Q=new m.Factory(M),V=h.QuerySourcePassage,H=R.forceSourceType?R.url:R.metadata.sparqlService||R.url,U=R.context,k=this.mediatorHttp,$=this.bindMethod,ae=M,he=Q,G.n=1,p.BindingsFactory.create(this.mediatorMergeBindingsContext,R.context,M);case 1:return ye=G.v,I=this.forceHttpGet,j=this.cacheSize,P=this.countTimeout,L=this.mediatorQueryProcess,X=new V(H,U,k,$,ae,he,ye,I,j,P,L),G.a(2,{source:X})}},E,this)})),function(E){return T.apply(this,arguments)})}],x&&n(S.prototype,x),Object.defineProperty(S,"prototype",{writable:!1}),S;var S,x,T,O})(f.ActorQuerySourceIdentifyHypermedia);e.ActorQuerySourceIdentifyHypermediaPassage=v},57576:(g,e,s)=>{const c=s(65606),{ArrayPrototypeIndexOf:o,NumberIsInteger:u,NumberIsNaN:i,NumberParseInt:r,ObjectDefineProperties:n,ObjectKeys:t,ObjectSetPrototypeOf:a,Promise:l,SafeSet:d,SymbolAsyncDispose:p,SymbolAsyncIterator:f,Symbol:h}=s(24134);g.exports=de,de.ReadableState=ce;const{EventEmitter:y}=s(37007),{Stream:m,prependListener:b}=s(94259),{Buffer:v}=s(48287),{addAbortSignal:_}=s(4147),w=s(86238);let S=s(57760).debuglog("stream",ue=>{S=ue});const x=s(80345),T=s(75896),{getHighWaterMark:O,getDefaultHighWaterMark:E}=s(65291),{aggregateTwoErrors:R,codes:{ERR_INVALID_ARG_TYPE:M,ERR_METHOD_NOT_IMPLEMENTED:Q,ERR_OUT_OF_RANGE:X,ERR_STREAM_PUSH_AFTER_EOF:V,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:H},AbortError:U}=s(76371),{validateObject:k}=s(277),$=h("kPaused"),{StringDecoder:ae}=s(83141),he=s(96532);a(de.prototype,m.prototype),a(de,m);const ye=()=>{},{errorOrDestroy:I}=T,j=1,P=16,L=32,G=2048,te=4096;function W(ue){return{enumerable:!1,get(){return(this.state&ue)!==0},set(ge){ge?this.state|=ue:this.state&=~ue}}}function ce(ue,ge,Me){typeof Me!="boolean"&&(Me=ge instanceof s(93370)),this.state=G|te|P|L,ue&&ue.objectMode&&(this.state|=j),Me&&ue&&ue.readableObjectMode&&(this.state|=j),this.highWaterMark=ue?O(this,ue,"readableHighWaterMark",Me):E(!1),this.buffer=new x,this.length=0,this.pipes=[],this.flowing=null,this[$]=null,ue&&ue.emitClose===!1&&(this.state&=~G),ue&&ue.autoDestroy===!1&&(this.state&=~te),this.errored=null,this.defaultEncoding=ue&&ue.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,ue&&ue.encoding&&(this.decoder=new ae(ue.encoding),this.encoding=ue.encoding)}function de(ue){if(!(this instanceof de))return new de(ue);const ge=this instanceof s(93370);this._readableState=new ce(ue,this,ge),ue&&(typeof ue.read=="function"&&(this._read=ue.read),typeof ue.destroy=="function"&&(this._destroy=ue.destroy),typeof ue.construct=="function"&&(this._construct=ue.construct),ue.signal&&!ge&&_(ue.signal,this)),m.call(this,ue),T.construct(this,()=>{this._readableState.needReadable&&xe(this,this._readableState)})}function Se(ue,ge,Me,qe){S("readableAddChunk",ge);const Be=ue._readableState;let He;if((Be.state&j)===0&&(typeof ge=="string"?(Me=Me||Be.defaultEncoding,Be.encoding!==Me&&(qe&&Be.encoding?ge=v.from(ge,Me).toString(Be.encoding):(ge=v.from(ge,Me),Me=""))):ge instanceof v?Me="":m._isUint8Array(ge)?(ge=m._uint8ArrayToBuffer(ge),Me=""):ge!=null&&(He=new M("chunk",["string","Buffer","Uint8Array"],ge))),He)I(ue,He);else if(ge===null)Be.state&=-9,(function(Ae,Te){if(S("onEofChunk"),!Te.ended){if(Te.decoder){const Ke=Te.decoder.end();Ke&&Ke.length&&(Te.buffer.push(Ke),Te.length+=Te.objectMode?1:Ke.length)}Te.ended=!0,Te.sync?oe(Ae):(Te.needReadable=!1,Te.emittedReadable=!0,ve(Ae))}})(ue,Be);else if((Be.state&j)!==0||ge&&ge.length>0)if(qe)if(4&Be.state)I(ue,new H);else{if(Be.destroyed||Be.errored)return!1;ie(ue,Be,ge,!0)}else if(Be.ended)I(ue,new V);else{if(Be.destroyed||Be.errored)return!1;Be.state&=-9,Be.decoder&&!Me?(ge=Be.decoder.write(ge),Be.objectMode||ge.length!==0?ie(ue,Be,ge,!1):xe(ue,Be)):ie(ue,Be,ge,!1)}else qe||(Be.state&=-9,xe(ue,Be));return!Be.ended&&(Be.length<Be.highWaterMark||Be.length===0)}function ie(ue,ge,Me,qe){ge.flowing&&ge.length===0&&!ge.sync&&ue.listenerCount("data")>0?(65536&ge.state?ge.awaitDrainWriters.clear():ge.awaitDrainWriters=null,ge.dataEmitted=!0,ue.emit("data",Me)):(ge.length+=ge.objectMode?1:Me.length,qe?ge.buffer.unshift(Me):ge.buffer.push(Me),64&ge.state&&oe(ue)),xe(ue,ge)}function me(ue,ge){return ue<=0||ge.length===0&&ge.ended?0:(ge.state&j)!==0?1:i(ue)?ge.flowing&&ge.length?ge.buffer.first().length:ge.length:ue<=ge.length?ue:ge.ended?ge.length:0}function oe(ue){const ge=ue._readableState;S("emitReadable",ge.needReadable,ge.emittedReadable),ge.needReadable=!1,ge.emittedReadable||(S("emitReadable",ge.flowing),ge.emittedReadable=!0,c.nextTick(ve,ue))}function ve(ue){const ge=ue._readableState;S("emitReadable_",ge.destroyed,ge.length,ge.ended),ge.destroyed||ge.errored||!ge.length&&!ge.ended||(ue.emit("readable"),ge.emittedReadable=!1),ge.needReadable=!ge.flowing&&!ge.ended&&ge.length<=ge.highWaterMark,ne(ue)}function xe(ue,ge){!ge.readingMore&&ge.constructed&&(ge.readingMore=!0,c.nextTick(q,ue,ge))}function q(ue,ge){for(;!ge.reading&&!ge.ended&&(ge.length<ge.highWaterMark||ge.flowing&&ge.length===0);){const Me=ge.length;if(S("maybeReadMore read 0"),ue.read(0),Me===ge.length)break}ge.readingMore=!1}function N(ue){const ge=ue._readableState;ge.readableListening=ue.listenerCount("readable")>0,ge.resumeScheduled&&ge[$]===!1?ge.flowing=!0:ue.listenerCount("data")>0?ue.resume():ge.readableListening||(ge.flowing=null)}function B(ue){S("readable nexttick read 0"),ue.read(0)}function J(ue,ge){S("resume",ge.reading),ge.reading||ue.read(0),ge.resumeScheduled=!1,ue.emit("resume"),ne(ue),ge.flowing&&!ge.reading&&ue.read(0)}function ne(ue){const ge=ue._readableState;for(S("flow",ge.flowing);ge.flowing&&ue.read()!==null;);}function re(ue,ge){typeof ue.read!="function"&&(ue=de.wrap(ue,{objectMode:!0}));const Me=(async function*(qe,Be){let He,Ae=ye;function Te(it){this===qe?(Ae(),Ae=ye):Ae=it}qe.on("readable",Te);const Ke=w(qe,{writable:!1},it=>{He=it?R(He,it):null,Ae(),Ae=ye});try{for(;;){const it=qe.destroyed?null:qe.read();if(it!==null)yield it;else{if(He)throw He;if(He===null)return;await new l(Te)}}}catch(it){throw He=R(He,it),He}finally{!He&&Be?.destroyOnReturn===!1||He!==void 0&&!qe._readableState.autoDestroy?(qe.off("readable",Te),Ke()):T.destroyer(qe,null)}})(ue,ge);return Me.stream=ue,Me}function fe(ue,ge){if(ge.length===0)return null;let Me;return ge.objectMode?Me=ge.buffer.shift():!ue||ue>=ge.length?(Me=ge.decoder?ge.buffer.join(""):ge.buffer.length===1?ge.buffer.first():ge.buffer.concat(ge.length),ge.buffer.clear()):Me=ge.buffer.consume(ue,ge.decoder),Me}function _e(ue){const ge=ue._readableState;S("endReadable",ge.endEmitted),ge.endEmitted||(ge.ended=!0,c.nextTick(we,ge,ue))}function we(ue,ge){if(S("endReadableNT",ue.endEmitted,ue.length),!ue.errored&&!ue.closeEmitted&&!ue.endEmitted&&ue.length===0){if(ue.endEmitted=!0,ge.emit("end"),ge.writable&&ge.allowHalfOpen===!1)c.nextTick(Pe,ge);else if(ue.autoDestroy){const Me=ge._writableState;(!Me||Me.autoDestroy&&(Me.finished||Me.writable===!1))&&ge.destroy()}}}function Pe(ue){ue.writable&&!ue.writableEnded&&!ue.destroyed&&ue.end()}let je;function Ie(){return je===void 0&&(je={}),je}n(ce.prototype,{objectMode:W(j),ended:W(2),endEmitted:W(4),reading:W(8),constructed:W(P),sync:W(L),needReadable:W(64),emittedReadable:W(128),readableListening:W(256),resumeScheduled:W(512),errorEmitted:W(1024),emitClose:W(G),autoDestroy:W(te),destroyed:W(8192),closed:W(16384),closeEmitted:W(32768),multiAwaitDrain:W(65536),readingMore:W(1<<17),dataEmitted:W(1<<18)}),de.prototype.destroy=T.destroy,de.prototype._undestroy=T.undestroy,de.prototype._destroy=function(ue,ge){ge(ue)},de.prototype[y.captureRejectionSymbol]=function(ue){this.destroy(ue)},de.prototype[p]=function(){let ue;return this.destroyed||(ue=this.readableEnded?null:new U,this.destroy(ue)),new l((ge,Me)=>w(this,qe=>qe&&qe!==ue?Me(qe):ge(null)))},de.prototype.push=function(ue,ge){return Se(this,ue,ge,!1)},de.prototype.unshift=function(ue,ge){return Se(this,ue,ge,!0)},de.prototype.isPaused=function(){const ue=this._readableState;return ue[$]===!0||ue.flowing===!1},de.prototype.setEncoding=function(ue){const ge=new ae(ue);this._readableState.decoder=ge,this._readableState.encoding=this._readableState.decoder.encoding;const Me=this._readableState.buffer;let qe="";for(const Be of Me)qe+=ge.write(Be);return Me.clear(),qe!==""&&Me.push(qe),this._readableState.length=qe.length,this},de.prototype.read=function(ue){S("read",ue),ue===void 0?ue=NaN:u(ue)||(ue=r(ue,10));const ge=this._readableState,Me=ue;if(ue>ge.highWaterMark&&(ge.highWaterMark=(function(He){if(He>1073741824)throw new X("size","<= 1GiB",He);return He--,He|=He>>>1,He|=He>>>2,He|=He>>>4,He|=He>>>8,He|=He>>>16,++He})(ue)),ue!==0&&(ge.state&=-129),ue===0&&ge.needReadable&&((ge.highWaterMark!==0?ge.length>=ge.highWaterMark:ge.length>0)||ge.ended))return S("read: emitReadable",ge.length,ge.ended),ge.length===0&&ge.ended?_e(this):oe(this),null;if((ue=me(ue,ge))===0&&ge.ended)return ge.length===0&&_e(this),null;let qe,Be=!!(64&ge.state);if(S("need readable",Be),(ge.length===0||ge.length-ue<ge.highWaterMark)&&(Be=!0,S("length less than watermark",Be)),ge.ended||ge.reading||ge.destroyed||ge.errored||!ge.constructed)Be=!1,S("reading, ended or constructing",Be);else if(Be){S("do read"),ge.state|=8|L,ge.length===0&&(ge.state|=64);try{this._read(ge.highWaterMark)}catch(He){I(this,He)}ge.state&=~L,ge.reading||(ue=me(Me,ge))}return qe=ue>0?fe(ue,ge):null,qe===null?(ge.needReadable=ge.length<=ge.highWaterMark,ue=0):(ge.length-=ue,ge.multiAwaitDrain?ge.awaitDrainWriters.clear():ge.awaitDrainWriters=null),ge.length===0&&(ge.ended||(ge.needReadable=!0),Me!==ue&&ge.ended&&_e(this)),qe===null||ge.errorEmitted||ge.closeEmitted||(ge.dataEmitted=!0,this.emit("data",qe)),qe},de.prototype._read=function(ue){throw new Q("_read()")},de.prototype.pipe=function(ue,ge){const Me=this,qe=this._readableState;qe.pipes.length===1&&(qe.multiAwaitDrain||(qe.multiAwaitDrain=!0,qe.awaitDrainWriters=new d(qe.awaitDrainWriters?[qe.awaitDrainWriters]:[]))),qe.pipes.push(ue),S("pipe count=%d opts=%j",qe.pipes.length,ge);const Be=ge&&ge.end===!1||ue===c.stdout||ue===c.stderr?mt:He;function He(){S("onend"),ue.end()}let Ae;qe.endEmitted?c.nextTick(Be):Me.once("end",Be),ue.on("unpipe",function at(Ne,F){S("onunpipe"),Ne===Me&&F&&F.hasUnpiped===!1&&(F.hasUnpiped=!0,S("cleanup"),ue.removeListener("close",rt),ue.removeListener("finish",pt),Ae&&ue.removeListener("drain",Ae),ue.removeListener("error",st),ue.removeListener("unpipe",at),Me.removeListener("end",He),Me.removeListener("end",mt),Me.removeListener("data",it),Te=!0,Ae&&qe.awaitDrainWriters&&(!ue._writableState||ue._writableState.needDrain)&&Ae())});let Te=!1;function Ke(){Te||(qe.pipes.length===1&&qe.pipes[0]===ue?(S("false write response, pause",0),qe.awaitDrainWriters=ue,qe.multiAwaitDrain=!1):qe.pipes.length>1&&qe.pipes.includes(ue)&&(S("false write response, pause",qe.awaitDrainWriters.size),qe.awaitDrainWriters.add(ue)),Me.pause()),Ae||(Ae=(function(at,Ne){return function(){const F=at._readableState;F.awaitDrainWriters===Ne?(S("pipeOnDrain",1),F.awaitDrainWriters=null):F.multiAwaitDrain&&(S("pipeOnDrain",F.awaitDrainWriters.size),F.awaitDrainWriters.delete(Ne)),F.awaitDrainWriters&&F.awaitDrainWriters.size!==0||!at.listenerCount("data")||at.resume()}})(Me,ue),ue.on("drain",Ae))}function it(at){S("ondata");const Ne=ue.write(at);S("dest.write",Ne),Ne===!1&&Ke()}function st(at){if(S("onerror",at),mt(),ue.removeListener("error",st),ue.listenerCount("error")===0){const Ne=ue._writableState||ue._readableState;Ne&&!Ne.errorEmitted?I(ue,at):ue.emit("error",at)}}function rt(){ue.removeListener("finish",pt),mt()}function pt(){S("onfinish"),ue.removeListener("close",rt),mt()}function mt(){S("unpipe"),Me.unpipe(ue)}return Me.on("data",it),b(ue,"error",st),ue.once("close",rt),ue.once("finish",pt),ue.emit("pipe",Me),ue.writableNeedDrain===!0?Ke():qe.flowing||(S("pipe resume"),Me.resume()),ue},de.prototype.unpipe=function(ue){const ge=this._readableState;if(ge.pipes.length===0)return this;if(!ue){const qe=ge.pipes;ge.pipes=[],this.pause();for(let Be=0;Be<qe.length;Be++)qe[Be].emit("unpipe",this,{hasUnpiped:!1});return this}const Me=o(ge.pipes,ue);return Me===-1||(ge.pipes.splice(Me,1),ge.pipes.length===0&&this.pause(),ue.emit("unpipe",this,{hasUnpiped:!1})),this},de.prototype.on=function(ue,ge){const Me=m.prototype.on.call(this,ue,ge),qe=this._readableState;return ue==="data"?(qe.readableListening=this.listenerCount("readable")>0,qe.flowing!==!1&&this.resume()):ue==="readable"&&(qe.endEmitted||qe.readableListening||(qe.readableListening=qe.needReadable=!0,qe.flowing=!1,qe.emittedReadable=!1,S("on readable",qe.length,qe.reading),qe.length?oe(this):qe.reading||c.nextTick(B,this))),Me},de.prototype.addListener=de.prototype.on,de.prototype.removeListener=function(ue,ge){const Me=m.prototype.removeListener.call(this,ue,ge);return ue==="readable"&&c.nextTick(N,this),Me},de.prototype.off=de.prototype.removeListener,de.prototype.removeAllListeners=function(ue){const ge=m.prototype.removeAllListeners.apply(this,arguments);return ue!=="readable"&&ue!==void 0||c.nextTick(N,this),ge},de.prototype.resume=function(){const ue=this._readableState;return ue.flowing||(S("resume"),ue.flowing=!ue.readableListening,(function(ge,Me){Me.resumeScheduled||(Me.resumeScheduled=!0,c.nextTick(J,ge,Me))})(this,ue)),ue[$]=!1,this},de.prototype.pause=function(){return S("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(S("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[$]=!0,this},de.prototype.wrap=function(ue){let ge=!1;ue.on("data",qe=>{!this.push(qe)&&ue.pause&&(ge=!0,ue.pause())}),ue.on("end",()=>{this.push(null)}),ue.on("error",qe=>{I(this,qe)}),ue.on("close",()=>{this.destroy()}),ue.on("destroy",()=>{this.destroy()}),this._read=()=>{ge&&ue.resume&&(ge=!1,ue.resume())};const Me=t(ue);for(let qe=1;qe<Me.length;qe++){const Be=Me[qe];this[Be]===void 0&&typeof ue[Be]=="function"&&(this[Be]=ue[Be].bind(ue))}return this},de.prototype[f]=function(){return re(this)},de.prototype.iterator=function(ue){return ue!==void 0&&k(ue,"options"),re(this,ue)},n(de.prototype,{readable:{__proto__:null,get(){const ue=this._readableState;return!(!ue||ue.readable===!1||ue.destroyed||ue.errorEmitted||ue.endEmitted)},set(ue){this._readableState&&(this._readableState.readable=!!ue)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(this._readableState.readable===!1||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(ue){this._readableState&&(this._readableState.flowing=ue)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(ue){this._readableState&&(this._readableState.destroyed=ue)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),n(ce.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[$]!==!1},set(ue){this[$]=!!ue}}}),de._fromList=fe,de.from=function(ue,ge){return he(de,ue,ge)},de.fromWeb=function(ue,ge){return Ie().newStreamReadableFromReadableStream(ue,ge)},de.toWeb=function(ue,ge){return Ie().newReadableStreamFromStreamReadable(ue,ge)},de.wrap=function(ue,ge){var Me,qe;return new de({objectMode:(Me=(qe=ue.readableObjectMode)!==null&&qe!==void 0?qe:ue.objectMode)===null||Me===void 0||Me,...ge,destroy(Be,He){T.destroyer(ue,Be),He(Be)}}).wrap(ue)}},57755:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},57758:(g,e,s)=>{const c=s(65606),{ArrayIsArray:o,Promise:u,SymbolAsyncIterator:i,SymbolDispose:r}=s(24134),n=s(86238),{once:t}=s(57760),a=s(75896),l=s(93370),{aggregateTwoErrors:d,codes:{ERR_INVALID_ARG_TYPE:p,ERR_INVALID_RETURN_VALUE:f,ERR_MISSING_ARGS:h,ERR_STREAM_DESTROYED:y,ERR_STREAM_PREMATURE_CLOSE:m},AbortError:b}=s(76371),{validateFunction:v,validateAbortSignal:_}=s(277),{isIterable:w,isReadable:S,isReadableNodeStream:x,isNodeStream:T,isTransformStream:O,isWebStream:E,isReadableStream:R,isReadableFinished:M}=s(16115),Q=globalThis.AbortController||s(25568).AbortController;let X,V,H;function U(I,j,P){let L=!1;return I.on("close",()=>{L=!0}),{destroy:G=>{L||(L=!0,a.destroyer(I,G||new y("pipe")))},cleanup:n(I,{readable:j,writable:P},G=>{L=!G})}}function k(I){if(w(I))return I;if(x(I))return(async function*(j){V||(V=s(57576)),yield*V.prototype[i].call(j)})(I);throw new p("val",["Readable","Iterable","AsyncIterable"],I)}async function $(I,j,P,{end:L}){let G,te=null;const W=Se=>{if(Se&&(G=Se),te){const ie=te;te=null,ie()}},ce=()=>new u((Se,ie)=>{G?ie(G):te=()=>{G?ie(G):Se()}});j.on("drain",W);const de=n(j,{readable:!1},W);try{j.writableNeedDrain&&await ce();for await(const Se of I)j.write(Se)||await ce();L&&(j.end(),await ce()),P()}catch(Se){P(G!==Se?d(G,Se):Se)}finally{de(),j.off("drain",W)}}async function ae(I,j,P,{end:L}){O(j)&&(j=j.writable);const G=j.getWriter();try{for await(const te of I)await G.ready,G.write(te).catch(()=>{});await G.ready,L&&await G.close(),P()}catch(te){try{await G.abort(te),P(te)}catch(W){P(W)}}}function he(I,j,P){if(I.length===1&&o(I[0])&&(I=I[0]),I.length<2)throw new h("streams");const L=new Q,G=L.signal,te=P?.signal,W=[];function ce(){q(new b)}let de,Se,ie;_(te,"options.signal"),H=H||s(57760).addAbortListener,te&&(de=H(te,ce));const me=[];let oe,ve=0;function xe(J){q(J,--ve===0)}function q(J,ne){var re;if(!J||Se&&Se.code!=="ERR_STREAM_PREMATURE_CLOSE"||(Se=J),Se||ne){for(;me.length;)me.shift()(Se);(re=de)===null||re===void 0||re[r](),L.abort(),ne&&(Se||W.forEach(fe=>fe()),c.nextTick(j,Se,ie))}}for(let J=0;J<I.length;J++){const ne=I[J],re=J<I.length-1,fe=J>0,_e=re||P?.end!==!1,we=J===I.length-1;if(T(ne)){let Pe=function(je){je&&je.name!=="AbortError"&&je.code!=="ERR_STREAM_PREMATURE_CLOSE"&&xe(je)};if(_e){const{destroy:je,cleanup:Ie}=U(ne,re,fe);me.push(je),S(ne)&&we&&W.push(Ie)}ne.on("error",Pe),S(ne)&&we&&W.push(()=>{ne.removeListener("error",Pe)})}if(J===0)if(typeof ne=="function"){if(oe=ne({signal:G}),!w(oe))throw new f("Iterable, AsyncIterable or Stream","source",oe)}else oe=w(ne)||x(ne)||O(ne)?ne:l.from(ne);else if(typeof ne=="function"){var N;if(oe=O(oe)?k((N=oe)===null||N===void 0?void 0:N.readable):k(oe),oe=ne(oe,{signal:G}),re){if(!w(oe,!0))throw new f("AsyncIterable",`transform[${J-1}]`,oe)}else{var B;X||(X=s(86524));const Pe=new X({objectMode:!0}),je=(B=oe)===null||B===void 0?void 0:B.then;if(typeof je=="function")ve++,je.call(oe,ge=>{ie=ge,ge!=null&&Pe.write(ge),_e&&Pe.end(),c.nextTick(xe)},ge=>{Pe.destroy(ge),c.nextTick(xe,ge)});else if(w(oe,!0))ve++,$(oe,Pe,xe,{end:_e});else{if(!R(oe)&&!O(oe))throw new f("AsyncIterable or Promise","destination",oe);{const ge=oe.readable||oe;ve++,$(ge,Pe,xe,{end:_e})}}oe=Pe;const{destroy:Ie,cleanup:ue}=U(oe,!1,!0);me.push(Ie),we&&W.push(ue)}}else if(T(ne)){if(x(oe)){ve+=2;const Pe=ye(oe,ne,xe,{end:_e});S(ne)&&we&&W.push(Pe)}else if(O(oe)||R(oe)){const Pe=oe.readable||oe;ve++,$(Pe,ne,xe,{end:_e})}else{if(!w(oe))throw new p("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],oe);ve++,$(oe,ne,xe,{end:_e})}oe=ne}else if(E(ne)){if(x(oe))ve++,ae(k(oe),ne,xe,{end:_e});else if(R(oe)||w(oe))ve++,ae(oe,ne,xe,{end:_e});else{if(!O(oe))throw new p("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],oe);ve++,ae(oe.readable,ne,xe,{end:_e})}oe=ne}else oe=l.from(ne)}return(G!=null&&G.aborted||te!=null&&te.aborted)&&c.nextTick(ce),oe}function ye(I,j,P,{end:L}){let G=!1;if(j.on("close",()=>{G||P(new m)}),I.pipe(j,{end:!1}),L){let te=function(){G=!0,j.end()};M(I)?c.nextTick(te):I.once("end",te)}else P();return n(I,{readable:!0,writable:!1},te=>{const W=I._readableState;te&&te.code==="ERR_STREAM_PREMATURE_CLOSE"&&W&&W.ended&&!W.errored&&!W.errorEmitted?I.once("end",P).once("error",P):P(te)}),n(j,{readable:!1,writable:!0},P)}g.exports={pipelineImpl:he,pipeline:function(...I){return he(I,t((function(j){return v(j[j.length-1],"streams[stream.length - 1]"),j.pop()})(I)))}}},57760:(g,e,s)=>{const c=s(48287),{format:o,inspect:u}=s(79231),{codes:{ERR_INVALID_ARG_TYPE:i}}=s(76371),{kResistStopPropagation:r,AggregateError:n,SymbolDispose:t}=s(24134),a=globalThis.AbortSignal||s(25568).AbortSignal,l=globalThis.AbortController||s(25568).AbortController,d=Object.getPrototypeOf(async function(){}).constructor,p=globalThis.Blob||c.Blob,f=p!==void 0?function(y){return y instanceof p}:function(y){return!1},h=(y,m)=>{if(y!==void 0&&(y===null||typeof y!="object"||!("aborted"in y)))throw new i(m,"AbortSignal",y)};g.exports={AggregateError:n,kEmptyObject:Object.freeze({}),once(y){let m=!1;return function(...b){m||(m=!0,y.apply(this,b))}},createDeferredPromise:function(){let y,m;return{promise:new Promise((b,v)=>{y=b,m=v}),resolve:y,reject:m}},promisify:y=>new Promise((m,b)=>{y((v,..._)=>v?b(v):m(..._))}),debuglog:()=>function(){},format:o,inspect:u,types:{isAsyncFunction:y=>y instanceof d,isArrayBufferView:y=>ArrayBuffer.isView(y)},isBlob:f,deprecate:(y,m)=>y,addAbortListener:s(37007).addAbortListener||function(y,m){if(y===void 0)throw new i("signal","AbortSignal",y);let b;return h(y,"signal"),(v=>{if(typeof v!="function")throw new i("listener","Function",v)})(m),y.aborted?queueMicrotask(()=>m()):(y.addEventListener("abort",m,{__proto__:null,once:!0,[r]:!0}),b=()=>{y.removeEventListener("abort",m)}),{__proto__:null,[t](){var v;(v=b)===null||v===void 0||v()}}},AbortSignalAny:a.any||function(y){if(y.length===1)return y[0];const m=new l,b=()=>m.abort();return y.forEach(v=>{h(v,"signals"),v.addEventListener("abort",b,{once:!0})}),m.signal.addEventListener("abort",()=>{y.forEach(v=>v.removeEventListener("abort",b))},{once:!0}),m.signal}},g.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},57766:(g,e,s)=>{var c=s(67426),o=s(66166),u=s(43349),i=c.rotr64_hi,r=c.rotr64_lo,n=c.shr64_hi,t=c.shr64_lo,a=c.sum64,l=c.sum64_hi,d=c.sum64_lo,p=c.sum64_4_hi,f=c.sum64_4_lo,h=c.sum64_5_hi,y=c.sum64_5_lo,m=o.BlockHash,b=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function v(){if(!(this instanceof v))return new v;m.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=b,this.W=new Array(160)}function _(H,U,k,$,ae){var he=H&k^~H&ae;return he<0&&(he+=4294967296),he}function w(H,U,k,$,ae,he){var ye=U&$^~U&he;return ye<0&&(ye+=4294967296),ye}function S(H,U,k,$,ae){var he=H&k^H&ae^k&ae;return he<0&&(he+=4294967296),he}function x(H,U,k,$,ae,he){var ye=U&$^U&he^$&he;return ye<0&&(ye+=4294967296),ye}function T(H,U){var k=i(H,U,28)^i(U,H,2)^i(U,H,7);return k<0&&(k+=4294967296),k}function O(H,U){var k=r(H,U,28)^r(U,H,2)^r(U,H,7);return k<0&&(k+=4294967296),k}function E(H,U){var k=i(H,U,14)^i(H,U,18)^i(U,H,9);return k<0&&(k+=4294967296),k}function R(H,U){var k=r(H,U,14)^r(H,U,18)^r(U,H,9);return k<0&&(k+=4294967296),k}function M(H,U){var k=i(H,U,1)^i(H,U,8)^n(H,U,7);return k<0&&(k+=4294967296),k}function Q(H,U){var k=r(H,U,1)^r(H,U,8)^t(H,U,7);return k<0&&(k+=4294967296),k}function X(H,U){var k=i(H,U,19)^i(U,H,29)^n(H,U,6);return k<0&&(k+=4294967296),k}function V(H,U){var k=r(H,U,19)^r(U,H,29)^t(H,U,6);return k<0&&(k+=4294967296),k}c.inherits(v,m),g.exports=v,v.blockSize=1024,v.outSize=512,v.hmacStrength=192,v.padLength=128,v.prototype._prepareBlock=function(H,U){for(var k=this.W,$=0;$<32;$++)k[$]=H[U+$];for(;$<k.length;$+=2){var ae=X(k[$-4],k[$-3]),he=V(k[$-4],k[$-3]),ye=k[$-14],I=k[$-13],j=M(k[$-30],k[$-29]),P=Q(k[$-30],k[$-29]),L=k[$-32],G=k[$-31];k[$]=p(ae,he,ye,I,j,P,L,G),k[$+1]=f(ae,he,ye,I,j,P,L,G)}},v.prototype._update=function(H,U){this._prepareBlock(H,U);var k=this.W,$=this.h[0],ae=this.h[1],he=this.h[2],ye=this.h[3],I=this.h[4],j=this.h[5],P=this.h[6],L=this.h[7],G=this.h[8],te=this.h[9],W=this.h[10],ce=this.h[11],de=this.h[12],Se=this.h[13],ie=this.h[14],me=this.h[15];u(this.k.length===k.length);for(var oe=0;oe<k.length;oe+=2){var ve=ie,xe=me,q=E(G,te),N=R(G,te),B=_(G,0,W,0,de),J=w(0,te,0,ce,0,Se),ne=this.k[oe],re=this.k[oe+1],fe=k[oe],_e=k[oe+1],we=h(ve,xe,q,N,B,J,ne,re,fe,_e),Pe=y(ve,xe,q,N,B,J,ne,re,fe,_e);ve=T($,ae),xe=O($,ae),q=S($,0,he,0,I),N=x(0,ae,0,ye,0,j);var je=l(ve,xe,q,N),Ie=d(ve,xe,q,N);ie=de,me=Se,de=W,Se=ce,W=G,ce=te,G=l(P,L,we,Pe),te=d(L,L,we,Pe),P=I,L=j,I=he,j=ye,he=$,ye=ae,$=l(we,Pe,je,Ie),ae=d(we,Pe,je,Ie)}a(this.h,0,$,ae),a(this.h,2,he,ye),a(this.h,4,I,j),a(this.h,6,P,L),a(this.h,8,G,te),a(this.h,10,W,ce),a(this.h,12,de,Se),a(this.h,14,ie,me)},v.prototype._digest=function(H){return H==="hex"?c.toHex32(this.h,"big"):c.split32(this.h,"big")}},57805:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermXsdToTime=void 0;const c=s(77617),o=s(77545),u=s(29754);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.TypeURL.XSD_TIME],termFunction:!0})}async run(n){return new u.TermFunctionXsdToTime}}e.ActorFunctionFactoryTermXsdToTime=i},57834:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionFloor=void 0;const c=s(77617),o=s(77545);class u extends c.TermFunctionBase{constructor(){super({arity:1,operator:o.SparqlOperator.FLOOR,overloads:(0,o.declare)(o.SparqlOperator.FLOOR).numericConverter(()=>r=>Math.floor(r)).collect()})}}e.TermFunctionFloor=u},57918:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.QuoteType=void 0;var c,o,u,i=s(79878);function r(d){return d===c.Space||d===c.NewLine||d===c.Tab||d===c.FormFeed||d===c.CarriageReturn}function n(d){return d===c.Slash||d===c.Gt||r(d)}function t(d){return d>=c.Zero&&d<=c.Nine}(function(d){d[d.Tab=9]="Tab",d[d.NewLine=10]="NewLine",d[d.FormFeed=12]="FormFeed",d[d.CarriageReturn=13]="CarriageReturn",d[d.Space=32]="Space",d[d.ExclamationMark=33]="ExclamationMark",d[d.Number=35]="Number",d[d.Amp=38]="Amp",d[d.SingleQuote=39]="SingleQuote",d[d.DoubleQuote=34]="DoubleQuote",d[d.Dash=45]="Dash",d[d.Slash=47]="Slash",d[d.Zero=48]="Zero",d[d.Nine=57]="Nine",d[d.Semi=59]="Semi",d[d.Lt=60]="Lt",d[d.Eq=61]="Eq",d[d.Gt=62]="Gt",d[d.Questionmark=63]="Questionmark",d[d.UpperA=65]="UpperA",d[d.LowerA=97]="LowerA",d[d.UpperF=70]="UpperF",d[d.LowerF=102]="LowerF",d[d.UpperZ=90]="UpperZ",d[d.LowerZ=122]="LowerZ",d[d.LowerX=120]="LowerX",d[d.OpeningSquareBracket=91]="OpeningSquareBracket"})(c||(c={})),(function(d){d[d.Text=1]="Text",d[d.BeforeTagName=2]="BeforeTagName",d[d.InTagName=3]="InTagName",d[d.InSelfClosingTag=4]="InSelfClosingTag",d[d.BeforeClosingTagName=5]="BeforeClosingTagName",d[d.InClosingTagName=6]="InClosingTagName",d[d.AfterClosingTagName=7]="AfterClosingTagName",d[d.BeforeAttributeName=8]="BeforeAttributeName",d[d.InAttributeName=9]="InAttributeName",d[d.AfterAttributeName=10]="AfterAttributeName",d[d.BeforeAttributeValue=11]="BeforeAttributeValue",d[d.InAttributeValueDq=12]="InAttributeValueDq",d[d.InAttributeValueSq=13]="InAttributeValueSq",d[d.InAttributeValueNq=14]="InAttributeValueNq",d[d.BeforeDeclaration=15]="BeforeDeclaration",d[d.InDeclaration=16]="InDeclaration",d[d.InProcessingInstruction=17]="InProcessingInstruction",d[d.BeforeComment=18]="BeforeComment",d[d.CDATASequence=19]="CDATASequence",d[d.InSpecialComment=20]="InSpecialComment",d[d.InCommentLike=21]="InCommentLike",d[d.BeforeSpecialS=22]="BeforeSpecialS",d[d.SpecialStartSequence=23]="SpecialStartSequence",d[d.InSpecialTag=24]="InSpecialTag",d[d.BeforeEntity=25]="BeforeEntity",d[d.BeforeNumericEntity=26]="BeforeNumericEntity",d[d.InNamedEntity=27]="InNamedEntity",d[d.InNumericEntity=28]="InNumericEntity",d[d.InHexEntity=29]="InHexEntity"})(o||(o={})),(function(d){d[d.NoValue=0]="NoValue",d[d.Unquoted=1]="Unquoted",d[d.Single=2]="Single",d[d.Double=3]="Double"})(u=e.QuoteType||(e.QuoteType={}));var a={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101])},l=(function(){function d(p,f){var h=p.xmlMode,y=h!==void 0&&h,m=p.decodeEntities,b=m===void 0||m;this.cbs=f,this.state=o.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=o.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.trieIndex=0,this.trieCurrent=0,this.entityResult=0,this.entityExcess=0,this.xmlMode=y,this.decodeEntities=b,this.entityTrie=y?i.xmlDecodeTree:i.htmlDecodeTree}return d.prototype.reset=function(){this.state=o.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=o.Text,this.currentSequence=void 0,this.running=!0,this.offset=0},d.prototype.write=function(p){this.offset+=this.buffer.length,this.buffer=p,this.parse()},d.prototype.end=function(){this.running&&this.finish()},d.prototype.pause=function(){this.running=!1},d.prototype.resume=function(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()},d.prototype.getIndex=function(){return this.index},d.prototype.getSectionStart=function(){return this.sectionStart},d.prototype.stateText=function(p){p===c.Lt||!this.decodeEntities&&this.fastForwardTo(c.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=o.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&p===c.Amp&&(this.state=o.BeforeEntity)},d.prototype.stateSpecialStartSequence=function(p){var f=this.sequenceIndex===this.currentSequence.length;if(f?n(p):(32|p)===this.currentSequence[this.sequenceIndex]){if(!f)return void this.sequenceIndex++}else this.isSpecial=!1;this.sequenceIndex=0,this.state=o.InTagName,this.stateInTagName(p)},d.prototype.stateInSpecialTag=function(p){if(this.sequenceIndex===this.currentSequence.length){if(p===c.Gt||r(p)){var f=this.index-this.currentSequence.length;if(this.sectionStart<f){var h=this.index;this.index=f,this.cbs.ontext(this.sectionStart,f),this.index=h}return this.isSpecial=!1,this.sectionStart=f+2,void this.stateInClosingTagName(p)}this.sequenceIndex=0}(32|p)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===a.TitleEnd?this.decodeEntities&&p===c.Amp&&(this.state=o.BeforeEntity):this.fastForwardTo(c.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(p===c.Lt)},d.prototype.stateCDATASequence=function(p){p===a.Cdata[this.sequenceIndex]?++this.sequenceIndex===a.Cdata.length&&(this.state=o.InCommentLike,this.currentSequence=a.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=o.InDeclaration,this.stateInDeclaration(p))},d.prototype.fastForwardTo=function(p){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===p)return!0;return this.index=this.buffer.length+this.offset-1,!1},d.prototype.stateInCommentLike=function(p){p===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===a.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=o.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):p!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)},d.prototype.isTagStartChar=function(p){return this.xmlMode?!n(p):(function(f){return f>=c.LowerA&&f<=c.LowerZ||f>=c.UpperA&&f<=c.UpperZ})(p)},d.prototype.startSpecial=function(p,f){this.isSpecial=!0,this.currentSequence=p,this.sequenceIndex=f,this.state=o.SpecialStartSequence},d.prototype.stateBeforeTagName=function(p){if(p===c.ExclamationMark)this.state=o.BeforeDeclaration,this.sectionStart=this.index+1;else if(p===c.Questionmark)this.state=o.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(p)){var f=32|p;this.sectionStart=this.index,this.xmlMode||f!==a.TitleEnd[2]?this.state=this.xmlMode||f!==a.ScriptEnd[2]?o.InTagName:o.BeforeSpecialS:this.startSpecial(a.TitleEnd,3)}else p===c.Slash?this.state=o.BeforeClosingTagName:(this.state=o.Text,this.stateText(p))},d.prototype.stateInTagName=function(p){n(p)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=o.BeforeAttributeName,this.stateBeforeAttributeName(p))},d.prototype.stateBeforeClosingTagName=function(p){r(p)||(p===c.Gt?this.state=o.Text:(this.state=this.isTagStartChar(p)?o.InClosingTagName:o.InSpecialComment,this.sectionStart=this.index))},d.prototype.stateInClosingTagName=function(p){(p===c.Gt||r(p))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=o.AfterClosingTagName,this.stateAfterClosingTagName(p))},d.prototype.stateAfterClosingTagName=function(p){(p===c.Gt||this.fastForwardTo(c.Gt))&&(this.state=o.Text,this.baseState=o.Text,this.sectionStart=this.index+1)},d.prototype.stateBeforeAttributeName=function(p){p===c.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=o.InSpecialTag,this.sequenceIndex=0):this.state=o.Text,this.baseState=this.state,this.sectionStart=this.index+1):p===c.Slash?this.state=o.InSelfClosingTag:r(p)||(this.state=o.InAttributeName,this.sectionStart=this.index)},d.prototype.stateInSelfClosingTag=function(p){p===c.Gt?(this.cbs.onselfclosingtag(this.index),this.state=o.Text,this.baseState=o.Text,this.sectionStart=this.index+1,this.isSpecial=!1):r(p)||(this.state=o.BeforeAttributeName,this.stateBeforeAttributeName(p))},d.prototype.stateInAttributeName=function(p){(p===c.Eq||n(p))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=-1,this.state=o.AfterAttributeName,this.stateAfterAttributeName(p))},d.prototype.stateAfterAttributeName=function(p){p===c.Eq?this.state=o.BeforeAttributeValue:p===c.Slash||p===c.Gt?(this.cbs.onattribend(u.NoValue,this.index),this.state=o.BeforeAttributeName,this.stateBeforeAttributeName(p)):r(p)||(this.cbs.onattribend(u.NoValue,this.index),this.state=o.InAttributeName,this.sectionStart=this.index)},d.prototype.stateBeforeAttributeValue=function(p){p===c.DoubleQuote?(this.state=o.InAttributeValueDq,this.sectionStart=this.index+1):p===c.SingleQuote?(this.state=o.InAttributeValueSq,this.sectionStart=this.index+1):r(p)||(this.sectionStart=this.index,this.state=o.InAttributeValueNq,this.stateInAttributeValueNoQuotes(p))},d.prototype.handleInAttributeValue=function(p,f){p===f||!this.decodeEntities&&this.fastForwardTo(f)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(f===c.DoubleQuote?u.Double:u.Single,this.index),this.state=o.BeforeAttributeName):this.decodeEntities&&p===c.Amp&&(this.baseState=this.state,this.state=o.BeforeEntity)},d.prototype.stateInAttributeValueDoubleQuotes=function(p){this.handleInAttributeValue(p,c.DoubleQuote)},d.prototype.stateInAttributeValueSingleQuotes=function(p){this.handleInAttributeValue(p,c.SingleQuote)},d.prototype.stateInAttributeValueNoQuotes=function(p){r(p)||p===c.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(u.Unquoted,this.index),this.state=o.BeforeAttributeName,this.stateBeforeAttributeName(p)):this.decodeEntities&&p===c.Amp&&(this.baseState=this.state,this.state=o.BeforeEntity)},d.prototype.stateBeforeDeclaration=function(p){p===c.OpeningSquareBracket?(this.state=o.CDATASequence,this.sequenceIndex=0):this.state=p===c.Dash?o.BeforeComment:o.InDeclaration},d.prototype.stateInDeclaration=function(p){(p===c.Gt||this.fastForwardTo(c.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=o.Text,this.sectionStart=this.index+1)},d.prototype.stateInProcessingInstruction=function(p){(p===c.Gt||this.fastForwardTo(c.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=o.Text,this.sectionStart=this.index+1)},d.prototype.stateBeforeComment=function(p){p===c.Dash?(this.state=o.InCommentLike,this.currentSequence=a.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=o.InDeclaration},d.prototype.stateInSpecialComment=function(p){(p===c.Gt||this.fastForwardTo(c.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=o.Text,this.sectionStart=this.index+1)},d.prototype.stateBeforeSpecialS=function(p){var f=32|p;f===a.ScriptEnd[3]?this.startSpecial(a.ScriptEnd,4):f===a.StyleEnd[3]?this.startSpecial(a.StyleEnd,4):(this.state=o.InTagName,this.stateInTagName(p))},d.prototype.stateBeforeEntity=function(p){this.entityExcess=1,this.entityResult=0,p===c.Number?this.state=o.BeforeNumericEntity:p===c.Amp||(this.trieIndex=0,this.trieCurrent=this.entityTrie[0],this.state=o.InNamedEntity,this.stateInNamedEntity(p))},d.prototype.stateInNamedEntity=function(p){if(this.entityExcess+=1,this.trieIndex=(0,i.determineBranch)(this.entityTrie,this.trieCurrent,this.trieIndex+1,p),this.trieIndex<0)return this.emitNamedEntity(),void this.index--;this.trieCurrent=this.entityTrie[this.trieIndex];var f=this.trieCurrent&i.BinTrieFlags.VALUE_LENGTH;if(f){var h=(f>>14)-1;if(this.allowLegacyEntity()||p===c.Semi){var y=this.index-this.entityExcess+1;y>this.sectionStart&&this.emitPartial(this.sectionStart,y),this.entityResult=this.trieIndex,this.trieIndex+=h,this.entityExcess=0,this.sectionStart=this.index+1,h===0&&this.emitNamedEntity()}else this.trieIndex+=h}},d.prototype.emitNamedEntity=function(){if(this.state=this.baseState,this.entityResult!==0)switch((this.entityTrie[this.entityResult]&i.BinTrieFlags.VALUE_LENGTH)>>14){case 1:this.emitCodePoint(this.entityTrie[this.entityResult]&~i.BinTrieFlags.VALUE_LENGTH);break;case 2:this.emitCodePoint(this.entityTrie[this.entityResult+1]);break;case 3:this.emitCodePoint(this.entityTrie[this.entityResult+1]),this.emitCodePoint(this.entityTrie[this.entityResult+2])}},d.prototype.stateBeforeNumericEntity=function(p){(32|p)===c.LowerX?(this.entityExcess++,this.state=o.InHexEntity):(this.state=o.InNumericEntity,this.stateInNumericEntity(p))},d.prototype.emitNumericEntity=function(p){var f=this.index-this.entityExcess-1;f+2+ +(this.state===o.InHexEntity)!==this.index&&(f>this.sectionStart&&this.emitPartial(this.sectionStart,f),this.sectionStart=this.index+Number(p),this.emitCodePoint((0,i.replaceCodePoint)(this.entityResult))),this.state=this.baseState},d.prototype.stateInNumericEntity=function(p){p===c.Semi?this.emitNumericEntity(!0):t(p)?(this.entityResult=10*this.entityResult+(p-c.Zero),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},d.prototype.stateInHexEntity=function(p){p===c.Semi?this.emitNumericEntity(!0):t(p)?(this.entityResult=16*this.entityResult+(p-c.Zero),this.entityExcess++):(function(f){return f>=c.UpperA&&f<=c.UpperF||f>=c.LowerA&&f<=c.LowerF})(p)?(this.entityResult=16*this.entityResult+((32|p)-c.LowerA+10),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},d.prototype.allowLegacyEntity=function(){return!this.xmlMode&&(this.baseState===o.Text||this.baseState===o.InSpecialTag)},d.prototype.cleanup=function(){this.running&&this.sectionStart!==this.index&&(this.state===o.Text||this.state===o.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):this.state!==o.InAttributeValueDq&&this.state!==o.InAttributeValueSq&&this.state!==o.InAttributeValueNq||(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))},d.prototype.shouldContinue=function(){return this.index<this.buffer.length+this.offset&&this.running},d.prototype.parse=function(){for(;this.shouldContinue();){var p=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case o.Text:this.stateText(p);break;case o.SpecialStartSequence:this.stateSpecialStartSequence(p);break;case o.InSpecialTag:this.stateInSpecialTag(p);break;case o.CDATASequence:this.stateCDATASequence(p);break;case o.InAttributeValueDq:this.stateInAttributeValueDoubleQuotes(p);break;case o.InAttributeName:this.stateInAttributeName(p);break;case o.InCommentLike:this.stateInCommentLike(p);break;case o.InSpecialComment:this.stateInSpecialComment(p);break;case o.BeforeAttributeName:this.stateBeforeAttributeName(p);break;case o.InTagName:this.stateInTagName(p);break;case o.InClosingTagName:this.stateInClosingTagName(p);break;case o.BeforeTagName:this.stateBeforeTagName(p);break;case o.AfterAttributeName:this.stateAfterAttributeName(p);break;case o.InAttributeValueSq:this.stateInAttributeValueSingleQuotes(p);break;case o.BeforeAttributeValue:this.stateBeforeAttributeValue(p);break;case o.BeforeClosingTagName:this.stateBeforeClosingTagName(p);break;case o.AfterClosingTagName:this.stateAfterClosingTagName(p);break;case o.BeforeSpecialS:this.stateBeforeSpecialS(p);break;case o.InAttributeValueNq:this.stateInAttributeValueNoQuotes(p);break;case o.InSelfClosingTag:this.stateInSelfClosingTag(p);break;case o.InDeclaration:this.stateInDeclaration(p);break;case o.BeforeDeclaration:this.stateBeforeDeclaration(p);break;case o.BeforeComment:this.stateBeforeComment(p);break;case o.InProcessingInstruction:this.stateInProcessingInstruction(p);break;case o.InNamedEntity:this.stateInNamedEntity(p);break;case o.BeforeEntity:this.stateBeforeEntity(p);break;case o.InHexEntity:this.stateInHexEntity(p);break;case o.InNumericEntity:this.stateInNumericEntity(p);break;default:this.stateBeforeNumericEntity(p)}this.index++}this.cleanup()},d.prototype.finish=function(){this.state===o.InNamedEntity&&this.emitNamedEntity(),this.sectionStart<this.index&&this.handleTrailingData(),this.cbs.onend()},d.prototype.handleTrailingData=function(){var p=this.buffer.length+this.offset;this.state===o.InCommentLike?this.currentSequence===a.CdataEnd?this.cbs.oncdata(this.sectionStart,p,0):this.cbs.oncomment(this.sectionStart,p,0):this.state===o.InNumericEntity&&this.allowLegacyEntity()||this.state===o.InHexEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===o.InTagName||this.state===o.BeforeAttributeName||this.state===o.BeforeAttributeValue||this.state===o.AfterAttributeName||this.state===o.InAttributeName||this.state===o.InAttributeValueSq||this.state===o.InAttributeValueDq||this.state===o.InAttributeValueNq||this.state===o.InClosingTagName||this.cbs.ontext(this.sectionStart,p)},d.prototype.emitPartial=function(p,f){this.baseState!==o.Text&&this.baseState!==o.InSpecialTag?this.cbs.onattribdata(p,f):this.cbs.ontext(p,f)},d.prototype.emitCodePoint=function(p){this.baseState!==o.Text&&this.baseState!==o.InSpecialTag?this.cbs.onattribentity(p):this.cbs.ontextentity(p)},d})();e.default=l},58006:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionIri=void 0;const c=s(77617),o=s(90711),u=s(77545),i=s(70742);class r extends c.TermFunctionBase{constructor(){super({arity:1,operator:u.SparqlOperator.IRI,overloads:(0,u.declare)(u.SparqlOperator.IRI).set(["namedNode"],t=>a=>{const l=a[0],d=(0,i.resolve)(l.str(),t.context.get(o.KeysInitQuery.baseIRI)??"");return new u.NamedNode(d)}).onString1(t=>a=>{const l=(0,i.resolve)(a.str(),t.context.get(o.KeysInitQuery.baseIRI)??"");return new u.NamedNode(l)}).collect()})}}e.TermFunctionIri=r},58283:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NamedNode=void 0,e.NamedNode=class{constructor(s){this.termType="NamedNode",this.value=s}equals(s){return!!s&&s.termType==="NamedNode"&&s.value===this.value}}},58481:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryProcessExplainParsed=void 0;const c=s(59478),o=s(90711),u=s(90412);class i extends c.ActorQueryProcess{constructor(n){super(n)}async test(n){return(n.context.get(o.KeysInitQuery.explain)??n.context.get(new u.ActionContextKey("explain")))!=="parsed"?(0,u.failTest)(`${this.name} can only explain in 'parsed' mode.`):(0,u.passTestVoid)()}async run(n){const{operation:t}=await this.queryProcessor.parse(n.query,n.context);return{result:{explain:!0,type:"parsed",data:t}}}}e.ActorQueryProcessExplainParsed=i},58593:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NamedNode=void 0,e.NamedNode=class{constructor(s){this.termType="NamedNode",this.value=s}equals(s){return!!s&&s.termType==="NamedNode"&&s.value===this.value}}},58871:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(74871),e),o(s(33152),e)},58959:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorBindingsAggregatorFactoryMax=void 0;const c=s(86581),o=s(90412),u=s(7394);class i extends c.ActorBindingsAggregatorFactory{constructor(n){super(n),this.mediatorTermComparatorFactory=n.mediatorTermComparatorFactory}async test(n){return n.expr.aggregator!=="max"?(0,o.failTest)("This actor only supports the 'max' aggregator."):(0,o.passTestVoid)()}async run({expr:n,context:t}){return new u.MaxAggregator(await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:n.expression,context:t}),n.distinct,await this.mediatorTermComparatorFactory.mediate({context:t}))}}e.ActorBindingsAggregatorFactoryMax=i},59075:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(16851),e)},59200:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.termToString=e.stringToTerm=e.stringQuadToQuad=e.quadToStringQuad=e.getLiteralValue=e.getLiteralType=e.getLiteralLanguage=void 0;const c=s(6068);Object.defineProperty(e,"getLiteralLanguage",{enumerable:!0,get:function(){return c.getLiteralLanguage}}),Object.defineProperty(e,"getLiteralType",{enumerable:!0,get:function(){return c.getLiteralType}}),Object.defineProperty(e,"getLiteralValue",{enumerable:!0,get:function(){return c.getLiteralValue}}),Object.defineProperty(e,"quadToStringQuad",{enumerable:!0,get:function(){return c.quadToStringQuad}}),Object.defineProperty(e,"stringQuadToQuad",{enumerable:!0,get:function(){return c.stringQuadToQuad}}),Object.defineProperty(e,"stringToTerm",{enumerable:!0,get:function(){return c.stringToTerm}}),Object.defineProperty(e,"termToString",{enumerable:!0,get:function(){return c.termToString}})},59257:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NamedNode=void 0,e.NamedNode=class{constructor(s){this.termType="NamedNode",this.value=s}equals(s){return!!s&&s.termType==="NamedNode"&&s.value===this.value}}},59311:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.HtmlScriptListener=void 0;const c=s(90711),o=s(19198),u=s(70742);class i{constructor(n,t,a,l,d,p,f,h){this.textChunksJsonLd=[],this.endBarrier=1,this.passedScripts=0,this.isFinalJsonLdProcessing=!1,this.mediatorRdfParseHandle=n,this.cbQuad=t,this.cbError=a,this.cbEnd=l,this.supportedTypes=d,this.context=p.set(c.KeysRdfParseHtmlScript.processingHtmlScript,!0),this.baseIRI=f,this.headers=h,this.onlyFirstScript=p.get(c.KeysRdfParseHtmlScript.extractAllScripts)===!1;const y=this.baseIRI.indexOf("#");this.targetScriptId=y>0?this.baseIRI.slice(y+1,this.baseIRI.length):null}static newErrorCoded(n,t){const a=new Error(n);return a.code=t,a}onEnd(){--this.endBarrier===0&&(this.textChunksJsonLd.length>0?(this.handleMediaType="application/ld+json",this.textChunks=this.textChunksJsonLd,this.textChunks.push("]"),this.textChunksJsonLd=[],this.isFinalJsonLdProcessing=!0,this.endBarrier++,this.onTagClose()):(this.passedScripts===0&&this.targetScriptId&&this.cbError(i.newErrorCoded(`Failed to find targeted script id "${this.targetScriptId}"`,"loading document failed")),this.cbEnd()),this.isFinalJsonLdProcessing=!1)}onTagClose(){if(this.handleMediaType)if(this.requiresCustomJsonLdHandling(this.handleMediaType)&&!this.isFinalJsonLdProcessing)this.handleMediaType=void 0,this.textChunks=void 0,this.onEnd();else{const n=new o.Readable({objectMode:!0});n._read=()=>{};const t=this.textChunks,a={context:this.context,handle:{metadata:{baseIRI:this.baseIRI},data:n,headers:this.headers,context:this.context},handleMediaType:this.handleMediaType};this.mediatorRdfParseHandle.mediate(a).then(({handle:l})=>{l.data.on("error",d=>this.cbError(i.newErrorCoded(d.message,"invalid script element"))).on("data",this.cbQuad).on("end",()=>this.onEnd());for(const d of t)n.push(d);n.push(null)}).catch(l=>{this.targetScriptId?this.cbError(i.newErrorCoded(l.message,"loading document failed")):this.onEnd()}),this.handleMediaType=void 0,this.textChunks=void 0}}onTagOpen(n,t){n==="base"&&t.href&&(this.baseIRI=(0,u.resolve)(t.href,this.baseIRI)),n!=="script"||this.targetScriptId&&t.id!==this.targetScriptId?this.handleMediaType=void 0:this.supportedTypes[t.type]?this.onlyFirstScript&&this.passedScripts>0?this.handleMediaType=void 0:(this.passedScripts++,this.handleMediaType=t.type,this.endBarrier++,this.requiresCustomJsonLdHandling(this.handleMediaType)?(this.textChunks=this.textChunksJsonLd,this.textChunks.push(this.textChunks.length===0?"[":",")):this.textChunks=[]):this.targetScriptId&&this.cbError(i.newErrorCoded(`Targeted script "${this.targetScriptId}" does not have a supported type`,"loading document failed"))}onText(n){this.handleMediaType&&this.textChunks.push(n)}requiresCustomJsonLdHandling(n){return!this.onlyFirstScript&&!this.targetScriptId&&n==="application/ld+json"}}e.HtmlScriptListener=i},59340:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(50789),e)},59383:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryOperationPathNps=void 0;const c=s(97091),o=s(90711),u=s(67021),i=s(96331);class r extends c.ActorAbstractPath{constructor(t){super(t,i.Algebra.types.NPS)}async runOperation(t,a){const l=a.getSafe(o.KeysInitQuery.dataFactory),d=new i.Factory(l),p=t.predicate,f=this.generateVariable(l,t),h=Object.assign(d.createPattern(t.subject,f,t.object,t.graph),{metadata:p.metadata}),y=(0,u.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:h,context:a}));return{type:"bindings",bindingsStream:y.bindingsStream.map(m=>p.iris.some(b=>b.equals(m.get(f)))?null:m.delete(f)),metadata:y.metadata}}}e.ActorQueryOperationPathNps=r},59453:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(33657),e)},59478:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(60622),e)},59636:function(g,e,s){var c=this&&this.__awaiter||function(d,p,f,h){return new(f||(f=Promise))(function(y,m){function b(w){try{_(h.next(w))}catch(S){m(S)}}function v(w){try{_(h.throw(w))}catch(S){m(S)}}function _(w){var S;w.done?y(w.value):(S=w.value,S instanceof f?S:new f(function(x){x(S)})).then(b,v)}_((h=h.apply(d,p||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.SparqlEndpointFetcher=void 0;const o=s(31232),u=s(25828),i=s(65806),r=s(98082),n=s(916),t=s(75295),a=s(43789);class l{constructor(p){var f,h,y;this.method=(f=p?.method)!==null&&f!==void 0?f:"POST",this.timeout=p?.timeout,this.additionalUrlParams=(h=p?.additionalUrlParams)!==null&&h!==void 0?h:new URLSearchParams,this.defaultHeaders=(y=p?.defaultHeaders)!==null&&y!==void 0?y:new Headers,this.fetchCb=p?.fetch,this.sparqlJsonParser=new n.SparqlJsonParser(p),this.sparqlXmlParser=new t.SparqlXmlParser(p),this.sparqlParsers={[l.CONTENTTYPE_SPARQL_JSON]:{parseBooleanStream:m=>this.sparqlJsonParser.parseJsonBooleanStream(m),parseResultsStream:m=>this.sparqlJsonParser.parseJsonResultsStream(m)},[l.CONTENTTYPE_SPARQL_XML]:{parseBooleanStream:m=>this.sparqlXmlParser.parseXmlBooleanStream(m),parseResultsStream:m=>this.sparqlXmlParser.parseXmlResultsStream(m)}}}getQueryType(p){const f=new r.Parser({sparqlStar:!0}).parse(p);return f.type==="query"?f.queryType==="DESCRIBE"?"CONSTRUCT":f.queryType:"UNKNOWN"}getUpdateTypes(p){const f=new r.Parser({sparqlStar:!0}).parse(p);if(f.type==="update"){const h={};for(const y of f.updates)"type"in y?h[y.type]=!0:h[y.updateType]=!0;return h}return"UNKNOWN"}fetchBindings(p,f){return c(this,void 0,void 0,function*(){const[h,y]=yield this.fetchRawStream(p,f,l.CONTENTTYPE_SPARQL),m=this.sparqlParsers[h];if(!m)throw new Error(`Unknown SPARQL results content type: ${h}`);return m.parseResultsStream(y)})}fetchAsk(p,f){return c(this,void 0,void 0,function*(){const[h,y]=yield this.fetchRawStream(p,f,l.CONTENTTYPE_SPARQL),m=this.sparqlParsers[h];if(!m)throw new Error(`Unknown SPARQL results content type: ${h}`);return m.parseBooleanStream(y)})}fetchTriples(p,f){return c(this,void 0,void 0,function*(){const[h,y]=yield this.fetchRawStream(p,f,l.CONTENTTYPE_TURTLE);return y.pipe(new u.StreamParser({format:h}))})}fetchUpdate(p,f){return c(this,void 0,void 0,function*(){const h=new AbortController,y={};this.defaultHeaders.forEach((b,v)=>{y[v]=b});const m={method:"POST",headers:Object.assign(Object.assign({},y),{"content-type":"application/sparql-update"}),body:f,signal:h.signal};yield this.handleFetchCall(p,m,{ignoreBody:!0}),h.abort()})}fetchRawStream(p,f,h){return c(this,void 0,void 0,function*(){let y,m=this.method==="POST"?p:`${p}?query=${encodeURIComponent(f)}`;const b=new Headers(this.defaultHeaders);if(b.append("Accept",h),this.method==="POST"){b.append("Content-Type","application/x-www-form-urlencoded"),y=new URLSearchParams,y.set("query",f);for(const[v,_]of this.additionalUrlParams.entries())y.set(v,_);b.append("Content-Length",y.toString().length.toString())}else this.additionalUrlParams.toString().length>0&&(m+=`&${this.additionalUrlParams.toString()}`);return this.handleFetchCall(m,{headers:b,method:this.method,body:y})})}handleFetchCall(p,f,h){return c(this,void 0,void 0,function*(){var y,m,b;let v,_;if(this.timeout){const S=new AbortController;f.signal=S.signal,v=setTimeout(()=>S.abort(),this.timeout)}const w=yield((y=this.fetchCb)!==null&&y!==void 0?y:fetch)(p,f);if(clearTimeout(v),!h?.ignoreBody&&w.body&&(_=o(w.body)?w.body:(0,i.readableFromWeb)(w.body)),!w.ok||!_&&!h?.ignoreBody){const S=p.split("?").at(0),x=_?yield a(_):"empty response";throw new Error(`Invalid SPARQL endpoint response from ${S} (HTTP status ${w.status}):
${x}`)}return[(b=(m=w.headers.get("Content-Type"))===null||m===void 0?void 0:m.split(";").at(0))!==null&&b!==void 0?b:"",_]})}}e.SparqlEndpointFetcher=l,l.CONTENTTYPE_SPARQL_JSON="application/sparql-results+json",l.CONTENTTYPE_SPARQL_XML="application/sparql-results+xml",l.CONTENTTYPE_TURTLE="text/turtle",l.CONTENTTYPE_SPARQL=`${l.CONTENTTYPE_SPARQL_JSON};q=1.0,${l.CONTENTTYPE_SPARQL_XML};q=0.7`},59746:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0});const c=s(56697);e.default=function(o){return typeof o=="string"&&c.default.test(o)}},59812:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(46645),e)},60004:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MediatorAll=void 0;const c=s(90412);class o extends c.Mediator{constructor(i){super(i)}async mediate(i){const r=[];let n;try{n=this.publish(i)}catch{n=[]}for(const t of n){const a=await t.reply;a.isPassed()&&r.push({actor:t.actor,sideData:a.getSideData()})}return(await Promise.all(r.map(t=>t.actor.runObservable(i,t.sideData))))[0]}async mediateWith(){throw new Error("Unsupported operation: MediatorAll#mediateWith")}}e.MediatorAll=o},60146:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(71923),e)},60192:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(68219),e)},60268:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0});const c=s(31797),o=s(76011);e.default=function(u){const i=(r=typeof u=="string"?(0,c.default)(u):u,Uint8Array.of((15&r[3])<<4|r[4]>>4&15,(15&r[4])<<4|(240&r[5])>>4,(15&r[5])<<4|15&r[6],r[7],(15&r[1])<<4|(240&r[2])>>4,(15&r[2])<<4|(240&r[3])>>4,16|(240&r[0])>>4,(15&r[0])<<4|(240&r[1])>>4,r[8],r[9],r[10],r[11],r[12],r[13],r[14],r[15]));var r;return typeof u=="string"?(0,o.unsafeStringify)(i):i}},60385:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermHours=void 0;const c=s(77617),o=s(77545),u=s(74230);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.SparqlOperator.HOURS],termFunction:!0})}async run(n){return new u.TermFunctionHours}}e.ActorFunctionFactoryTermHours=i},60446:(g,e)=>{function s(c){return c>=65&&c<=90||c===95||c>=97&&c<=122||c>=192&&c<=214||c>=216&&c<=246||c>=248&&c<=767||c>=880&&c<=893||c>=895&&c<=8191||c>=8204&&c<=8205||c>=8304&&c<=8591||c>=11264&&c<=12271||c>=12289&&c<=55295||c>=63744&&c<=64975||c>=65008&&c<=65533||c>=65536&&c<=983039}Object.defineProperty(e,"__esModule",{value:!0}),e.NC_NAME_START_CHAR="A-Z_a-z------------",e.NC_NAME_CHAR="-"+e.NC_NAME_START_CHAR+".0-9--",e.NC_NAME_START_CHAR_RE=new RegExp("^["+e.NC_NAME_START_CHAR+"]$","u"),e.NC_NAME_CHAR_RE=new RegExp("^["+e.NC_NAME_CHAR+"]$","u"),e.NC_NAME_RE=new RegExp("^["+e.NC_NAME_START_CHAR+"]["+e.NC_NAME_CHAR+"]*$","u"),e.isNCNameStartChar=s,e.isNCNameChar=function(c){return s(c)||c===45||c===46||c>=48&&c<=57||c===183||c>=768&&c<=879||c>=8255&&c<=8256}},60504:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(60004),e)},60585:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FetchDocumentLoader=void 0;const c=s(75094),o=s(2384),u=s(70742);e.FetchDocumentLoader=class{constructor(i){this.fetcher=i}async load(i){const r=await(this.fetcher||fetch)(i,{headers:new Headers({accept:"application/ld+json"})});if(r.ok&&r.headers){let n=r.headers.get("Content-Type");if(n){const t=n.indexOf(";");t>0&&(n=n.substr(0,t))}if(n==="application/ld+json")return await r.json();if(r.headers.has("Link")){let t;if(r.headers.forEach((a,l)=>{if(l==="link"){const d=(0,o.parse)(a);for(const p of d.get("type","application/ld+json"))if(p.rel==="alternate"){if(t)throw new Error("Multiple JSON-LD alternate links were found on "+i);t=(0,u.resolve)(p.uri,i)}}}),t)return this.load(t)}throw new c.ErrorCoded(`Unsupported JSON-LD media type ${n}`,c.ERROR_CODES.LOADING_DOCUMENT_FAILED)}throw new Error(r.statusText||`Status code: ${r.status}`)}}},60622:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryProcess=void 0;const c=s(90412);class o extends c.Actor{constructor(i){super(i)}}e.ActorQueryProcess=o},60649:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(49176),e)},60677:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ExpressionFunctionLogicalAnd=void 0;const c=s(77617),o=s(77545);class u extends c.ExpressionFunctionBase{constructor(){super({arity:2,operator:o.SparqlOperator.LOGICAL_AND,apply:async({args:r,mapping:n,exprEval:t})=>{const[a,l]=r;try{if(!(await t.evaluatorExpressionEvaluation(a,n)).coerceEBV())return(0,o.bool)(!1);const d=(await t.evaluatorExpressionEvaluation(l,n)).coerceEBV();return(0,o.bool)(d)}catch(d){if((await t.evaluatorExpressionEvaluation(l,n)).coerceEBV())throw d;return(0,o.bool)(!1)}}})}}e.ExpressionFunctionLogicalAnd=u},60770:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionLcase=void 0;const c=s(77617),o=s(77545);class u extends c.TermFunctionBase{constructor(){super({arity:1,operator:o.SparqlOperator.LCASE,overloads:(0,o.declare)(o.SparqlOperator.LCASE).onString1Typed(()=>r=>(0,o.string)(r.toLowerCase())).onLangString1(()=>r=>(0,o.langString)(r.typedValue.toLowerCase(),r.language)).collect()})}}e.TermFunctionLcase=u},60801:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.WildcardCountAggregator=void 0;const c=s(86581),o=s(77545),u=s(30199);class i extends c.AggregateEvaluator{constructor(n,t,a){super(n,t,a),this.bindingValues=new Map,this.state=void 0}putTerm(n){}async putBindings(n){this.handleDistinct(n)||(this.state===void 0&&(this.state=0),this.state+=1)}emptyValueTerm(){return(0,o.typedLiteral)("0",o.TypeURL.XSD_INTEGER)}termResult(){return this.state===void 0?this.emptyValue():(0,o.typedLiteral)(String(this.state),o.TypeURL.XSD_INTEGER)}handleDistinct(n){if(this.distinct){const t=[...n];t.sort((f,h)=>f[0].value.localeCompare(h[0].value));const a=t.map(([f])=>f.value).join(","),l=t.map(([,f])=>u.termToString(f)).join(","),d=this.bindingValues.get(a),p=d!==void 0&&d.has(l);return d||this.bindingValues.set(a,new Set),this.bindingValues.get(a).add(l),p}return!1}}e.WildcardCountAggregator=i},60808:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermStrUuid=void 0;const c=s(77617),o=s(77545),u=s(12147);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.SparqlOperator.STRUUID],termFunction:!0})}async run(n){return new u.TermFunctionStrUuid}}e.ActorFunctionFactoryTermStrUuid=i},60823:(g,e,s)=>{const c=globalThis.AbortController||s(25568).AbortController,{codes:{ERR_INVALID_ARG_VALUE:o,ERR_INVALID_ARG_TYPE:u,ERR_MISSING_ARGS:i,ERR_OUT_OF_RANGE:r},AbortError:n}=s(76371),{validateAbortSignal:t,validateInteger:a,validateObject:l}=s(277),d=s(24134).Symbol("kWeak"),p=s(24134).Symbol("kResistStopPropagation"),{finished:f}=s(86238),h=s(47830),{addAbortSignalNoValidate:y}=s(4147),{isWritable:m,isNodeStream:b}=s(16115),{deprecate:v}=s(57760),{ArrayPrototypePush:_,Boolean:w,MathFloor:S,Number:x,NumberIsNaN:T,Promise:O,PromiseReject:E,PromiseResolve:R,PromisePrototypeThen:M,Symbol:Q}=s(24134),X=Q("kEmpty"),V=Q("kEof");function H(he,ye){if(typeof he!="function")throw new u("fn",["Function","AsyncFunction"],he);ye!=null&&l(ye,"options"),ye?.signal!=null&&t(ye.signal,"options.signal");let I=1;ye?.concurrency!=null&&(I=S(ye.concurrency));let j=I-1;return ye?.highWaterMark!=null&&(j=S(ye.highWaterMark)),a(I,"options.concurrency",1),a(j,"options.highWaterMark",0),j+=I,(async function*(){const P=s(57760).AbortSignalAny([ye?.signal].filter(w)),L=this,G=[],te={signal:P};let W,ce,de=!1,Se=0;function ie(){de=!0,me()}function me(){Se-=1,oe()}function oe(){ce&&!de&&Se<I&&G.length<j&&(ce(),ce=null)}(async function(){try{for await(let ve of L){if(de)return;if(P.aborted)throw new n;try{if(ve=he(ve,te),ve===X)continue;ve=R(ve)}catch(xe){ve=E(xe)}Se+=1,M(ve,me,ie),G.push(ve),W&&(W(),W=null),!de&&(G.length>=j||Se>=I)&&await new O(xe=>{ce=xe})}G.push(V)}catch(ve){const xe=E(ve);M(xe,me,ie),G.push(xe)}finally{de=!0,W&&(W(),W=null)}})();try{for(;;){for(;G.length>0;){const ve=await G[0];if(ve===V)return;if(P.aborted)throw new n;ve!==X&&(yield ve),G.shift(),oe()}await new O(ve=>{W=ve})}}finally{de=!0,ce&&(ce(),ce=null)}}).call(this)}async function U(he,ye=void 0){for await(const I of k.call(this,he,ye))return!0;return!1}function k(he,ye){if(typeof he!="function")throw new u("fn",["Function","AsyncFunction"],he);return H.call(this,async function(I,j){return await he(I,j)?I:X},ye)}class $ extends i{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}function ae(he){if(he=x(he),T(he))return 0;if(he<0)throw new r("number",">= 0",he);return he}g.exports.streamReturningOperators={asIndexedPairs:v(function(he=void 0){return he!=null&&l(he,"options"),he?.signal!=null&&t(he.signal,"options.signal"),(async function*(){let ye=0;for await(const j of this){var I;if(he!=null&&(I=he.signal)!==null&&I!==void 0&&I.aborted)throw new n({cause:he.signal.reason});yield[ye++,j]}}).call(this)},"readable.asIndexedPairs will be removed in a future version."),drop:function(he,ye=void 0){return ye!=null&&l(ye,"options"),ye?.signal!=null&&t(ye.signal,"options.signal"),he=ae(he),(async function*(){var I;if(ye!=null&&(I=ye.signal)!==null&&I!==void 0&&I.aborted)throw new n;for await(const P of this){var j;if(ye!=null&&(j=ye.signal)!==null&&j!==void 0&&j.aborted)throw new n;he--<=0&&(yield P)}}).call(this)},filter:k,flatMap:function(he,ye){const I=H.call(this,he,ye);return(async function*(){for await(const j of I)yield*j}).call(this)},map:H,take:function(he,ye=void 0){return ye!=null&&l(ye,"options"),ye?.signal!=null&&t(ye.signal,"options.signal"),he=ae(he),(async function*(){var I;if(ye!=null&&(I=ye.signal)!==null&&I!==void 0&&I.aborted)throw new n;for await(const P of this){var j;if(ye!=null&&(j=ye.signal)!==null&&j!==void 0&&j.aborted)throw new n;if(he-- >0&&(yield P),he<=0)return}}).call(this)},compose:function(he,ye){if(ye!=null&&l(ye,"options"),ye?.signal!=null&&t(ye.signal,"options.signal"),b(he)&&!m(he))throw new o("stream",he,"must be writable");const I=h(this,he);return ye!=null&&ye.signal&&y(ye.signal,I),I}},g.exports.promiseReturningOperators={every:async function(he,ye=void 0){if(typeof he!="function")throw new u("fn",["Function","AsyncFunction"],he);return!await U.call(this,async(...I)=>!await he(...I),ye)},forEach:async function(he,ye){if(typeof he!="function")throw new u("fn",["Function","AsyncFunction"],he);for await(const I of H.call(this,async function(j,P){return await he(j,P),X},ye));},reduce:async function(he,ye,I){var j;if(typeof he!="function")throw new u("reducer",["Function","AsyncFunction"],he);I!=null&&l(I,"options"),I?.signal!=null&&t(I.signal,"options.signal");let P=arguments.length>1;if(I!=null&&(j=I.signal)!==null&&j!==void 0&&j.aborted){const ce=new n(void 0,{cause:I.signal.reason});throw this.once("error",()=>{}),await f(this.destroy(ce)),ce}const L=new c,G=L.signal;if(I!=null&&I.signal){const ce={once:!0,[d]:this,[p]:!0};I.signal.addEventListener("abort",()=>L.abort(),ce)}let te=!1;try{for await(const ce of this){var W;if(te=!0,I!=null&&(W=I.signal)!==null&&W!==void 0&&W.aborted)throw new n;P?ye=await he(ye,ce,{signal:G}):(ye=ce,P=!0)}if(!te&&!P)throw new $}finally{L.abort()}return ye},toArray:async function(he){he!=null&&l(he,"options"),he?.signal!=null&&t(he.signal,"options.signal");const ye=[];for await(const j of this){var I;if(he!=null&&(I=he.signal)!==null&&I!==void 0&&I.aborted)throw new n(void 0,{cause:he.signal.reason});_(ye,j)}return ye},some:U,find:async function(he,ye){for await(const I of k.call(this,he,ye))return I}}},60856:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionEquality=void 0;const c=s(77617),o=s(90711),u=s(77545);class i extends c.TermFunctionBase{constructor(){super({arity:2,operator:u.SparqlOperator.EQUAL,overloads:(0,u.declare)(u.SparqlOperator.EQUAL).numberTest(()=>(n,t)=>n===t).stringTest(()=>(n,t)=>n.localeCompare(t)===0).set([u.TypeURL.RDF_LANG_STRING,u.TypeURL.RDF_LANG_STRING],()=>([n,t])=>(0,u.bool)(n.str()===t.str()&&n.language===t.language)).set([u.TypeAlias.SPARQL_STRINGLY,u.TypeAlias.SPARQL_STRINGLY],()=>()=>(0,u.bool)(!1)).booleanTest(()=>(n,t)=>n===t).dateTimeTest(n=>(t,a)=>(0,u.toUTCDate)(t,n.context.getSafe(o.KeysExpressionEvaluator.defaultTimeZone)).getTime()===(0,u.toUTCDate)(a,n.context.getSafe(o.KeysExpressionEvaluator.defaultTimeZone)).getTime()).copy({from:[u.TypeURL.XSD_DATE_TIME,u.TypeURL.XSD_DATE_TIME],to:[u.TypeURL.XSD_DATE,u.TypeURL.XSD_DATE]}).set(["quad","quad"],n=>([t,a])=>(0,u.bool)(this.applyOnTerms([t.subject,a.subject],n).coerceEBV()&&this.applyOnTerms([t.predicate,a.predicate],n).coerceEBV()&&this.applyOnTerms([t.object,a.object],n).coerceEBV()&&this.applyOnTerms([t.graph,a.graph],n).coerceEBV()),!1).set(["term","term"],n=>([t,a])=>{const l=t.toRDF(n.context.getSafe(o.KeysInitQuery.dataFactory)),d=a.toRDF(n.context.getSafe(o.KeysInitQuery.dataFactory)),p=l.equals(d);if(!p&&l.termType==="Literal"&&d.termType==="Literal")throw new u.RDFEqualTypeError([t,a]);return(0,u.bool)(p)},!1).set([u.TypeURL.XSD_DURATION,u.TypeURL.XSD_DURATION],()=>([n,t])=>(0,u.bool)((0,u.yearMonthDurationsToMonths)((0,u.defaultedYearMonthDurationRepresentation)(n.typedValue))===(0,u.yearMonthDurationsToMonths)((0,u.defaultedYearMonthDurationRepresentation)(t.typedValue))&&(0,u.dayTimeDurationsToSeconds)((0,u.defaultedDayTimeDurationRepresentation)(n.typedValue))===(0,u.dayTimeDurationsToSeconds)((0,u.defaultedDayTimeDurationRepresentation)(t.typedValue)))).set([u.TypeURL.XSD_TIME,u.TypeURL.XSD_TIME],n=>([t,a])=>(0,u.bool)((0,u.toUTCDate)((0,u.defaultedDateTimeRepresentation)(t.typedValue),n.context.getSafe(o.KeysExpressionEvaluator.defaultTimeZone)).getTime()===(0,u.toUTCDate)((0,u.defaultedDateTimeRepresentation)(a.typedValue),n.context.getSafe(o.KeysExpressionEvaluator.defaultTimeZone)).getTime())).collect()})}}e.TermFunctionEquality=i},60871:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Quad=void 0,e.Quad=class{constructor(s,c,o,u){this.termType="Quad",this.value="",this.subject=s,this.predicate=c,this.object=o,this.graph=u}equals(s){return!!s&&(s.termType==="Quad"||!s.termType)&&this.subject.equals(s.subject)&&this.predicate.equals(s.predicate)&&this.object.equals(s.object)&&this.graph.equals(s.graph)}}},60882:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionXsdToYearMonthDuration=void 0;const c=s(77617),o=s(77545);class u extends c.TermFunctionBase{constructor(){super({arity:1,operator:o.TypeURL.XSD_YEAR_MONTH_DURATION,overloads:(0,o.declare)(o.TypeURL.XSD_YEAR_MONTH_DURATION).onUnary(o.TypeURL.XSD_DURATION,()=>r=>new o.YearMonthDurationLiteral((0,o.trimToYearMonthDuration)(r.typedValue))).onStringly1(()=>r=>new o.YearMonthDurationLiteral((0,o.parseYearMonthDuration)(r.str()))).collect()})}}e.TermFunctionXsdToYearMonthDuration=u},61013:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Existence=void 0;const c=s(42996);e.Existence=class{constructor(o){this.expression=o,this.expressionType=c.ExpressionType.Existence}}},61103:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(11867),e)},61151:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(11304),e)},61186:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfSerializeShaclc=void 0;const c=s(81261),o=s(87435),u=s(19198),i=s(94174);class r extends c.ActorRdfSerializeFixedMediaTypes{constructor(t){super(t)}async runHandle(t,a){const l=new u.Readable;l._read=()=>{};try{const d={};t.quadStream.on("prefix",(f,h)=>{d[f]=h});const{text:p}=await(0,i.write)(await(0,o.default)(t.quadStream),{errorOnUnused:!0,extendedSyntax:a==="text/shaclc-ext",prefixes:d});l.push(p),l.push(null)}catch(d){l._read=()=>{l.emit("error",d)}}return{data:l,triples:!0}}}e.ActorRdfSerializeShaclc=r},61205:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfMetadataExtractAllowHttpMethods=void 0;const c=s(18412),o=s(90412);class u extends c.ActorRdfMetadataExtract{constructor(r){super(r)}async test(r){return(0,o.passTestVoid)()}async run(r){const n={};return r.headers?.get("allow")&&(n.allowHttpMethods=r.headers.get("allow")?.split(/, */u)),{metadata:n}}}e.ActorRdfMetadataExtractAllowHttpMethods=u},61321:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(s,c){if(!s)throw new Error(c??"Unexpected invariant triggered.")}},61428:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(23261),e),o(s(90636),e),o(s(34262),e),o(s(77087),e),o(s(37747),e),o(s(22895),e),o(s(68337),e),o(s(99616),e),o(s(21451),e),o(s(445),e),o(s(42449),e),o(s(75237),e),o(s(53261),e),o(s(80745),e),o(s(80766),e),o(s(67538),e),o(s(598),e),o(s(95439),e),o(s(75592),e),o(s(447),e)},61515:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(77934),e)},61549:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ExpressionEvaluator=void 0;const c=s(90711),o=s(74448);e.ExpressionEvaluator=class{constructor(u,i,r,n,t){this.context=u,this.expr=i,this.mediatorFunctionFactory=r,this.mediatorQueryOperation=n,this.bindingsFactory=t,this.internalEvaluator=new o.InternalEvaluator(u,r,n,t)}async evaluate(u){return(await this.internalEvaluator.evaluatorExpressionEvaluation(this.expr,u)).toRDF(this.context.getSafe(c.KeysInitQuery.dataFactory))}async evaluateAsEBV(u){return(await this.internalEvaluator.evaluatorExpressionEvaluation(this.expr,u)).coerceEBV()}evaluateAsEvaluatorExpression(u){return this.evaluatorExpressionEvaluation(this.expr,u)}evaluatorExpressionEvaluation(u,i){return this.internalEvaluator.evaluatorExpressionEvaluation(u,i)}}},61594:function(g,e,s){var c;(function(){var o,u=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,i=Math.ceil,r=Math.floor,n="[BigNumber Error] ",t=n+"Number primitive has more than 15 significant digits: ",a=1e14,l=14,d=9007199254740991,p=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],f=1e7,h=1e9;function y(x){var T=0|x;return x>0||x===T?T:T-1}function m(x){for(var T,O,E=1,R=x.length,M=x[0]+"";E<R;){for(T=x[E++]+"",O=l-T.length;O--;T="0"+T);M+=T}for(R=M.length;M.charCodeAt(--R)===48;);return M.slice(0,R+1||1)}function b(x,T){var O,E,R=x.c,M=T.c,Q=x.s,X=T.s,V=x.e,H=T.e;if(!Q||!X)return null;if(O=R&&!R[0],E=M&&!M[0],O||E)return O?E?0:-X:Q;if(Q!=X)return Q;if(O=Q<0,E=V==H,!R||!M)return E?0:!R^O?1:-1;if(!E)return V>H^O?1:-1;for(X=(V=R.length)<(H=M.length)?V:H,Q=0;Q<X;Q++)if(R[Q]!=M[Q])return R[Q]>M[Q]^O?1:-1;return V==H?0:V>H^O?1:-1}function v(x,T,O,E){if(x<T||x>O||x!==r(x))throw Error(n+(E||"Argument")+(typeof x=="number"?x<T||x>O?" out of range: ":" not an integer: ":" not a primitive number: ")+String(x))}function _(x){var T=x.c.length-1;return y(x.e/l)==T&&x.c[T]%2!=0}function w(x,T){return(x.length>1?x.charAt(0)+"."+x.slice(1):x)+(T<0?"e":"e+")+T}function S(x,T,O){var E,R;if(T<0){for(R=O+".";++T;R+=O);x=R+x}else if(++T>(E=x.length)){for(R=O,T-=E;--T;R+=O);x+=R}else T<E&&(x=x.slice(0,T)+"."+x.slice(T));return x}o=(function x(T){var O,E,R,M,Q,X,V,H,U,k,$=ie.prototype={constructor:ie,toString:null,valueOf:null},ae=new ie(1),he=20,ye=4,I=-7,j=21,P=-1e7,L=1e7,G=!1,te=1,W=0,ce={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},de="0123456789abcdefghijklmnopqrstuvwxyz",Se=!0;function ie(N,B){var J,ne,re,fe,_e,we,Pe,je,Ie=this;if(!(Ie instanceof ie))return new ie(N,B);if(B==null){if(N&&N._isBigNumber===!0)return Ie.s=N.s,void(!N.c||N.e>L?Ie.c=Ie.e=null:N.e<P?Ie.c=[Ie.e=0]:(Ie.e=N.e,Ie.c=N.c.slice()));if((we=typeof N=="number")&&0*N==0){if(Ie.s=1/N<0?(N=-N,-1):1,N===~~N){for(fe=0,_e=N;_e>=10;_e/=10,fe++);return void(fe>L?Ie.c=Ie.e=null:(Ie.e=fe,Ie.c=[N]))}je=String(N)}else{if(!u.test(je=String(N)))return R(Ie,je,we);Ie.s=je.charCodeAt(0)==45?(je=je.slice(1),-1):1}(fe=je.indexOf("."))>-1&&(je=je.replace(".","")),(_e=je.search(/e/i))>0?(fe<0&&(fe=_e),fe+=+je.slice(_e+1),je=je.substring(0,_e)):fe<0&&(fe=je.length)}else{if(v(B,2,de.length,"Base"),B==10&&Se)return xe(Ie=new ie(N),he+Ie.e+1,ye);if(je=String(N),we=typeof N=="number"){if(0*N!=0)return R(Ie,je,we,B);if(Ie.s=1/N<0?(je=je.slice(1),-1):1,ie.DEBUG&&je.replace(/^0\.0*|\./,"").length>15)throw Error(t+N)}else Ie.s=je.charCodeAt(0)===45?(je=je.slice(1),-1):1;for(J=de.slice(0,B),fe=_e=0,Pe=je.length;_e<Pe;_e++)if(J.indexOf(ne=je.charAt(_e))<0){if(ne=="."){if(_e>fe){fe=Pe;continue}}else if(!re&&(je==je.toUpperCase()&&(je=je.toLowerCase())||je==je.toLowerCase()&&(je=je.toUpperCase()))){re=!0,_e=-1,fe=0;continue}return R(Ie,String(N),we,B)}we=!1,(fe=(je=E(je,B,10,Ie.s)).indexOf("."))>-1?je=je.replace(".",""):fe=je.length}for(_e=0;je.charCodeAt(_e)===48;_e++);for(Pe=je.length;je.charCodeAt(--Pe)===48;);if(je=je.slice(_e,++Pe)){if(Pe-=_e,we&&ie.DEBUG&&Pe>15&&(N>d||N!==r(N)))throw Error(t+Ie.s*N);if((fe=fe-_e-1)>L)Ie.c=Ie.e=null;else if(fe<P)Ie.c=[Ie.e=0];else{if(Ie.e=fe,Ie.c=[],_e=(fe+1)%l,fe<0&&(_e+=l),_e<Pe){for(_e&&Ie.c.push(+je.slice(0,_e)),Pe-=l;_e<Pe;)Ie.c.push(+je.slice(_e,_e+=l));_e=l-(je=je.slice(_e)).length}else _e-=Pe;for(;_e--;je+="0");Ie.c.push(+je)}}else Ie.c=[Ie.e=0]}function me(N,B,J,ne){var re,fe,_e,we,Pe;if(J==null?J=ye:v(J,0,8),!N.c)return N.toString();if(re=N.c[0],_e=N.e,B==null)Pe=m(N.c),Pe=ne==1||ne==2&&(_e<=I||_e>=j)?w(Pe,_e):S(Pe,_e,"0");else if(fe=(N=xe(new ie(N),B,J)).e,we=(Pe=m(N.c)).length,ne==1||ne==2&&(B<=fe||fe<=I)){for(;we<B;Pe+="0",we++);Pe=w(Pe,fe)}else if(B-=_e+(ne===2&&fe>_e),Pe=S(Pe,fe,"0"),fe+1>we){if(--B>0)for(Pe+=".";B--;Pe+="0");}else if((B+=fe-we)>0)for(fe+1==we&&(Pe+=".");B--;Pe+="0");return N.s<0&&re?"-"+Pe:Pe}function oe(N,B){for(var J,ne,re=1,fe=new ie(N[0]);re<N.length;re++)(!(ne=new ie(N[re])).s||(J=b(fe,ne))===B||J===0&&fe.s===B)&&(fe=ne);return fe}function ve(N,B,J){for(var ne=1,re=B.length;!B[--re];B.pop());for(re=B[0];re>=10;re/=10,ne++);return(J=ne+J*l-1)>L?N.c=N.e=null:J<P?N.c=[N.e=0]:(N.e=J,N.c=B),N}function xe(N,B,J,ne){var re,fe,_e,we,Pe,je,Ie,ue=N.c,ge=p;if(ue){e:{for(re=1,we=ue[0];we>=10;we/=10,re++);if((fe=B-re)<0)fe+=l,_e=B,Pe=ue[je=0],Ie=r(Pe/ge[re-_e-1]%10);else if((je=i((fe+1)/l))>=ue.length){if(!ne)break e;for(;ue.length<=je;ue.push(0));Pe=Ie=0,re=1,_e=(fe%=l)-l+1}else{for(Pe=we=ue[je],re=1;we>=10;we/=10,re++);Ie=(_e=(fe%=l)-l+re)<0?0:r(Pe/ge[re-_e-1]%10)}if(ne=ne||B<0||ue[je+1]!=null||(_e<0?Pe:Pe%ge[re-_e-1]),ne=J<4?(Ie||ne)&&(J==0||J==(N.s<0?3:2)):Ie>5||Ie==5&&(J==4||ne||J==6&&(fe>0?_e>0?Pe/ge[re-_e]:0:ue[je-1])%10&1||J==(N.s<0?8:7)),B<1||!ue[0])return ue.length=0,ne?(B-=N.e+1,ue[0]=ge[(l-B%l)%l],N.e=-B||0):ue[0]=N.e=0,N;if(fe==0?(ue.length=je,we=1,je--):(ue.length=je+1,we=ge[l-fe],ue[je]=_e>0?r(Pe/ge[re-_e]%ge[_e])*we:0),ne)for(;;){if(je==0){for(fe=1,_e=ue[0];_e>=10;_e/=10,fe++);for(_e=ue[0]+=we,we=1;_e>=10;_e/=10,we++);fe!=we&&(N.e++,ue[0]==a&&(ue[0]=1));break}if(ue[je]+=we,ue[je]!=a)break;ue[je--]=0,we=1}for(fe=ue.length;ue[--fe]===0;ue.pop());}N.e>L?N.c=N.e=null:N.e<P&&(N.c=[N.e=0])}return N}function q(N){var B,J=N.e;return J===null?N.toString():(B=m(N.c),B=J<=I||J>=j?w(B,J):S(B,J,"0"),N.s<0?"-"+B:B)}return ie.clone=x,ie.ROUND_UP=0,ie.ROUND_DOWN=1,ie.ROUND_CEIL=2,ie.ROUND_FLOOR=3,ie.ROUND_HALF_UP=4,ie.ROUND_HALF_DOWN=5,ie.ROUND_HALF_EVEN=6,ie.ROUND_HALF_CEIL=7,ie.ROUND_HALF_FLOOR=8,ie.EUCLID=9,ie.config=ie.set=function(N){var B,J;if(N!=null){if(typeof N!="object")throw Error(n+"Object expected: "+N);if(N.hasOwnProperty(B="DECIMAL_PLACES")&&(v(J=N[B],0,h,B),he=J),N.hasOwnProperty(B="ROUNDING_MODE")&&(v(J=N[B],0,8,B),ye=J),N.hasOwnProperty(B="EXPONENTIAL_AT")&&((J=N[B])&&J.pop?(v(J[0],-h,0,B),v(J[1],0,h,B),I=J[0],j=J[1]):(v(J,-h,h,B),I=-(j=J<0?-J:J))),N.hasOwnProperty(B="RANGE"))if((J=N[B])&&J.pop)v(J[0],-h,-1,B),v(J[1],1,h,B),P=J[0],L=J[1];else{if(v(J,-h,h,B),!J)throw Error(n+B+" cannot be zero: "+J);P=-(L=J<0?-J:J)}if(N.hasOwnProperty(B="CRYPTO")){if((J=N[B])!==!!J)throw Error(n+B+" not true or false: "+J);if(J){if(typeof crypto>"u"||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw G=!J,Error(n+"crypto unavailable");G=J}else G=J}if(N.hasOwnProperty(B="MODULO_MODE")&&(v(J=N[B],0,9,B),te=J),N.hasOwnProperty(B="POW_PRECISION")&&(v(J=N[B],0,h,B),W=J),N.hasOwnProperty(B="FORMAT")){if(typeof(J=N[B])!="object")throw Error(n+B+" not an object: "+J);ce=J}if(N.hasOwnProperty(B="ALPHABET")){if(typeof(J=N[B])!="string"||/^.?$|[+\-.\s]|(.).*\1/.test(J))throw Error(n+B+" invalid: "+J);Se=J.slice(0,10)=="0123456789",de=J}}return{DECIMAL_PLACES:he,ROUNDING_MODE:ye,EXPONENTIAL_AT:[I,j],RANGE:[P,L],CRYPTO:G,MODULO_MODE:te,POW_PRECISION:W,FORMAT:ce,ALPHABET:de}},ie.isBigNumber=function(N){if(!N||N._isBigNumber!==!0)return!1;if(!ie.DEBUG)return!0;var B,J,ne=N.c,re=N.e,fe=N.s;e:if({}.toString.call(ne)=="[object Array]"){if((fe===1||fe===-1)&&re>=-h&&re<=h&&re===r(re)){if(ne[0]===0){if(re===0&&ne.length===1)return!0;break e}if((B=(re+1)%l)<1&&(B+=l),String(ne[0]).length==B){for(B=0;B<ne.length;B++)if((J=ne[B])<0||J>=a||J!==r(J))break e;if(J!==0)return!0}}}else if(ne===null&&re===null&&(fe===null||fe===1||fe===-1))return!0;throw Error(n+"Invalid BigNumber: "+N)},ie.maximum=ie.max=function(){return oe(arguments,-1)},ie.minimum=ie.min=function(){return oe(arguments,1)},ie.random=(M=9007199254740992,Q=Math.random()*M&2097151?function(){return r(Math.random()*M)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(N){var B,J,ne,re,fe,_e=0,we=[],Pe=new ie(ae);if(N==null?N=he:v(N,0,h),re=i(N/l),G)if(crypto.getRandomValues){for(B=crypto.getRandomValues(new Uint32Array(re*=2));_e<re;)(fe=131072*B[_e]+(B[_e+1]>>>11))>=9e15?(J=crypto.getRandomValues(new Uint32Array(2)),B[_e]=J[0],B[_e+1]=J[1]):(we.push(fe%1e14),_e+=2);_e=re/2}else{if(!crypto.randomBytes)throw G=!1,Error(n+"crypto unavailable");for(B=crypto.randomBytes(re*=7);_e<re;)(fe=281474976710656*(31&B[_e])+1099511627776*B[_e+1]+4294967296*B[_e+2]+16777216*B[_e+3]+(B[_e+4]<<16)+(B[_e+5]<<8)+B[_e+6])>=9e15?crypto.randomBytes(7).copy(B,_e):(we.push(fe%1e14),_e+=7);_e=re/7}if(!G)for(;_e<re;)(fe=Q())<9e15&&(we[_e++]=fe%1e14);for(re=we[--_e],N%=l,re&&N&&(fe=p[l-N],we[_e]=r(re/fe)*fe);we[_e]===0;we.pop(),_e--);if(_e<0)we=[ne=0];else{for(ne=-1;we[0]===0;we.splice(0,1),ne-=l);for(_e=1,fe=we[0];fe>=10;fe/=10,_e++);_e<l&&(ne-=l-_e)}return Pe.e=ne,Pe.c=we,Pe}),ie.sum=function(){for(var N=1,B=arguments,J=new ie(B[0]);N<B.length;)J=J.plus(B[N++]);return J},E=(function(){var N="0123456789";function B(J,ne,re,fe){for(var _e,we,Pe=[0],je=0,Ie=J.length;je<Ie;){for(we=Pe.length;we--;Pe[we]*=ne);for(Pe[0]+=fe.indexOf(J.charAt(je++)),_e=0;_e<Pe.length;_e++)Pe[_e]>re-1&&(Pe[_e+1]==null&&(Pe[_e+1]=0),Pe[_e+1]+=Pe[_e]/re|0,Pe[_e]%=re)}return Pe.reverse()}return function(J,ne,re,fe,_e){var we,Pe,je,Ie,ue,ge,Me,qe,Be=J.indexOf("."),He=he,Ae=ye;for(Be>=0&&(Ie=W,W=0,J=J.replace(".",""),ge=(qe=new ie(ne)).pow(J.length-Be),W=Ie,qe.c=B(S(m(ge.c),ge.e,"0"),10,re,N),qe.e=qe.c.length),je=Ie=(Me=B(J,ne,re,_e?(we=de,N):(we=N,de))).length;Me[--Ie]==0;Me.pop());if(!Me[0])return we.charAt(0);if(Be<0?--je:(ge.c=Me,ge.e=je,ge.s=fe,Me=(ge=O(ge,qe,He,Ae,re)).c,ue=ge.r,je=ge.e),Be=Me[Pe=je+He+1],Ie=re/2,ue=ue||Pe<0||Me[Pe+1]!=null,ue=Ae<4?(Be!=null||ue)&&(Ae==0||Ae==(ge.s<0?3:2)):Be>Ie||Be==Ie&&(Ae==4||ue||Ae==6&&1&Me[Pe-1]||Ae==(ge.s<0?8:7)),Pe<1||!Me[0])J=ue?S(we.charAt(1),-He,we.charAt(0)):we.charAt(0);else{if(Me.length=Pe,ue)for(--re;++Me[--Pe]>re;)Me[Pe]=0,Pe||(++je,Me=[1].concat(Me));for(Ie=Me.length;!Me[--Ie];);for(Be=0,J="";Be<=Ie;J+=we.charAt(Me[Be++]));J=S(J,je,we.charAt(0))}return J}})(),O=(function(){function N(ne,re,fe){var _e,we,Pe,je,Ie=0,ue=ne.length,ge=re%f,Me=re/f|0;for(ne=ne.slice();ue--;)Ie=((we=ge*(Pe=ne[ue]%f)+(_e=Me*Pe+(je=ne[ue]/f|0)*ge)%f*f+Ie)/fe|0)+(_e/f|0)+Me*je,ne[ue]=we%fe;return Ie&&(ne=[Ie].concat(ne)),ne}function B(ne,re,fe,_e){var we,Pe;if(fe!=_e)Pe=fe>_e?1:-1;else for(we=Pe=0;we<fe;we++)if(ne[we]!=re[we]){Pe=ne[we]>re[we]?1:-1;break}return Pe}function J(ne,re,fe,_e){for(var we=0;fe--;)ne[fe]-=we,we=ne[fe]<re[fe]?1:0,ne[fe]=we*_e+ne[fe]-re[fe];for(;!ne[0]&&ne.length>1;ne.splice(0,1));}return function(ne,re,fe,_e,we){var Pe,je,Ie,ue,ge,Me,qe,Be,He,Ae,Te,Ke,it,st,rt,pt,mt,at=ne.s==re.s?1:-1,Ne=ne.c,F=re.c;if(!(Ne&&Ne[0]&&F&&F[0]))return new ie(ne.s&&re.s&&(Ne?!F||Ne[0]!=F[0]:F)?Ne&&Ne[0]==0||!F?0*at:at/0:NaN);for(He=(Be=new ie(at)).c=[],at=fe+(je=ne.e-re.e)+1,we||(we=a,je=y(ne.e/l)-y(re.e/l),at=at/l|0),Ie=0;F[Ie]==(Ne[Ie]||0);Ie++);if(F[Ie]>(Ne[Ie]||0)&&je--,at<0)He.push(1),ue=!0;else{for(st=Ne.length,pt=F.length,Ie=0,at+=2,(ge=r(we/(F[0]+1)))>1&&(F=N(F,ge,we),Ne=N(Ne,ge,we),pt=F.length,st=Ne.length),it=pt,Te=(Ae=Ne.slice(0,pt)).length;Te<pt;Ae[Te++]=0);mt=F.slice(),mt=[0].concat(mt),rt=F[0],F[1]>=we/2&&rt++;do{if(ge=0,(Pe=B(F,Ae,pt,Te))<0){if(Ke=Ae[0],pt!=Te&&(Ke=Ke*we+(Ae[1]||0)),(ge=r(Ke/rt))>1)for(ge>=we&&(ge=we-1),qe=(Me=N(F,ge,we)).length,Te=Ae.length;B(Me,Ae,qe,Te)==1;)ge--,J(Me,pt<qe?mt:F,qe,we),qe=Me.length,Pe=1;else ge==0&&(Pe=ge=1),qe=(Me=F.slice()).length;if(qe<Te&&(Me=[0].concat(Me)),J(Ae,Me,Te,we),Te=Ae.length,Pe==-1)for(;B(F,Ae,pt,Te)<1;)ge++,J(Ae,pt<Te?mt:F,Te,we),Te=Ae.length}else Pe===0&&(ge++,Ae=[0]);He[Ie++]=ge,Ae[0]?Ae[Te++]=Ne[it]||0:(Ae=[Ne[it]],Te=1)}while((it++<st||Ae[0]!=null)&&at--);ue=Ae[0]!=null,He[0]||He.splice(0,1)}if(we==a){for(Ie=1,at=He[0];at>=10;at/=10,Ie++);xe(Be,fe+(Be.e=Ie+je*l-1)+1,_e,ue)}else Be.e=je,Be.r=+ue;return Be}})(),X=/^(-?)0([xbo])(?=\w[\w.]*$)/i,V=/^([^.]+)\.$/,H=/^\.([^.]+)$/,U=/^-?(Infinity|NaN)$/,k=/^\s*\+(?=[\w.])|^\s+|\s+$/g,R=function(N,B,J,ne){var re,fe=J?B:B.replace(k,"");if(U.test(fe))N.s=isNaN(fe)?null:fe<0?-1:1;else{if(!J&&(fe=fe.replace(X,function(_e,we,Pe){return re=(Pe=Pe.toLowerCase())=="x"?16:Pe=="b"?2:8,ne&&ne!=re?_e:we}),ne&&(re=ne,fe=fe.replace(V,"$1").replace(H,"0.$1")),B!=fe))return new ie(fe,re);if(ie.DEBUG)throw Error(n+"Not a"+(ne?" base "+ne:"")+" number: "+B);N.s=null}N.c=N.e=null},$.absoluteValue=$.abs=function(){var N=new ie(this);return N.s<0&&(N.s=1),N},$.comparedTo=function(N,B){return b(this,new ie(N,B))},$.decimalPlaces=$.dp=function(N,B){var J,ne,re,fe=this;if(N!=null)return v(N,0,h),B==null?B=ye:v(B,0,8),xe(new ie(fe),N+fe.e+1,B);if(!(J=fe.c))return null;if(ne=((re=J.length-1)-y(this.e/l))*l,re=J[re])for(;re%10==0;re/=10,ne--);return ne<0&&(ne=0),ne},$.dividedBy=$.div=function(N,B){return O(this,new ie(N,B),he,ye)},$.dividedToIntegerBy=$.idiv=function(N,B){return O(this,new ie(N,B),0,1)},$.exponentiatedBy=$.pow=function(N,B){var J,ne,re,fe,_e,we,Pe,je,Ie=this;if((N=new ie(N)).c&&!N.isInteger())throw Error(n+"Exponent not an integer: "+q(N));if(B!=null&&(B=new ie(B)),_e=N.e>14,!Ie.c||!Ie.c[0]||Ie.c[0]==1&&!Ie.e&&Ie.c.length==1||!N.c||!N.c[0])return je=new ie(Math.pow(+q(Ie),_e?N.s*(2-_(N)):+q(N))),B?je.mod(B):je;if(we=N.s<0,B){if(B.c?!B.c[0]:!B.s)return new ie(NaN);(ne=!we&&Ie.isInteger()&&B.isInteger())&&(Ie=Ie.mod(B))}else{if(N.e>9&&(Ie.e>0||Ie.e<-1||(Ie.e==0?Ie.c[0]>1||_e&&Ie.c[1]>=24e7:Ie.c[0]<8e13||_e&&Ie.c[0]<=9999975e7)))return fe=Ie.s<0&&_(N)?-0:0,Ie.e>-1&&(fe=1/fe),new ie(we?1/fe:fe);W&&(fe=i(W/l+2))}for(_e?(J=new ie(.5),we&&(N.s=1),Pe=_(N)):Pe=(re=Math.abs(+q(N)))%2,je=new ie(ae);;){if(Pe){if(!(je=je.times(Ie)).c)break;fe?je.c.length>fe&&(je.c.length=fe):ne&&(je=je.mod(B))}if(re){if((re=r(re/2))===0)break;Pe=re%2}else if(xe(N=N.times(J),N.e+1,1),N.e>14)Pe=_(N);else{if((re=+q(N))==0)break;Pe=re%2}Ie=Ie.times(Ie),fe?Ie.c&&Ie.c.length>fe&&(Ie.c.length=fe):ne&&(Ie=Ie.mod(B))}return ne?je:(we&&(je=ae.div(je)),B?je.mod(B):fe?xe(je,W,ye,void 0):je)},$.integerValue=function(N){var B=new ie(this);return N==null?N=ye:v(N,0,8),xe(B,B.e+1,N)},$.isEqualTo=$.eq=function(N,B){return b(this,new ie(N,B))===0},$.isFinite=function(){return!!this.c},$.isGreaterThan=$.gt=function(N,B){return b(this,new ie(N,B))>0},$.isGreaterThanOrEqualTo=$.gte=function(N,B){return(B=b(this,new ie(N,B)))===1||B===0},$.isInteger=function(){return!!this.c&&y(this.e/l)>this.c.length-2},$.isLessThan=$.lt=function(N,B){return b(this,new ie(N,B))<0},$.isLessThanOrEqualTo=$.lte=function(N,B){return(B=b(this,new ie(N,B)))===-1||B===0},$.isNaN=function(){return!this.s},$.isNegative=function(){return this.s<0},$.isPositive=function(){return this.s>0},$.isZero=function(){return!!this.c&&this.c[0]==0},$.minus=function(N,B){var J,ne,re,fe,_e=this,we=_e.s;if(B=(N=new ie(N,B)).s,!we||!B)return new ie(NaN);if(we!=B)return N.s=-B,_e.plus(N);var Pe=_e.e/l,je=N.e/l,Ie=_e.c,ue=N.c;if(!Pe||!je){if(!Ie||!ue)return Ie?(N.s=-B,N):new ie(ue?_e:NaN);if(!Ie[0]||!ue[0])return ue[0]?(N.s=-B,N):new ie(Ie[0]?_e:ye==3?-0:0)}if(Pe=y(Pe),je=y(je),Ie=Ie.slice(),we=Pe-je){for((fe=we<0)?(we=-we,re=Ie):(je=Pe,re=ue),re.reverse(),B=we;B--;re.push(0));re.reverse()}else for(ne=(fe=(we=Ie.length)<(B=ue.length))?we:B,we=B=0;B<ne;B++)if(Ie[B]!=ue[B]){fe=Ie[B]<ue[B];break}if(fe&&(re=Ie,Ie=ue,ue=re,N.s=-N.s),(B=(ne=ue.length)-(J=Ie.length))>0)for(;B--;Ie[J++]=0);for(B=a-1;ne>we;){if(Ie[--ne]<ue[ne]){for(J=ne;J&&!Ie[--J];Ie[J]=B);--Ie[J],Ie[ne]+=a}Ie[ne]-=ue[ne]}for(;Ie[0]==0;Ie.splice(0,1),--je);return Ie[0]?ve(N,Ie,je):(N.s=ye==3?-1:1,N.c=[N.e=0],N)},$.modulo=$.mod=function(N,B){var J,ne,re=this;return N=new ie(N,B),!re.c||!N.s||N.c&&!N.c[0]?new ie(NaN):!N.c||re.c&&!re.c[0]?new ie(re):(te==9?(ne=N.s,N.s=1,J=O(re,N,0,3),N.s=ne,J.s*=ne):J=O(re,N,0,te),(N=re.minus(J.times(N))).c[0]||te!=1||(N.s=re.s),N)},$.multipliedBy=$.times=function(N,B){var J,ne,re,fe,_e,we,Pe,je,Ie,ue,ge,Me,qe,Be,He,Ae=this,Te=Ae.c,Ke=(N=new ie(N,B)).c;if(!(Te&&Ke&&Te[0]&&Ke[0]))return!Ae.s||!N.s||Te&&!Te[0]&&!Ke||Ke&&!Ke[0]&&!Te?N.c=N.e=N.s=null:(N.s*=Ae.s,Te&&Ke?(N.c=[0],N.e=0):N.c=N.e=null),N;for(ne=y(Ae.e/l)+y(N.e/l),N.s*=Ae.s,(Pe=Te.length)<(ue=Ke.length)&&(qe=Te,Te=Ke,Ke=qe,re=Pe,Pe=ue,ue=re),re=Pe+ue,qe=[];re--;qe.push(0));for(Be=a,He=f,re=ue;--re>=0;){for(J=0,ge=Ke[re]%He,Me=Ke[re]/He|0,fe=re+(_e=Pe);fe>re;)J=((je=ge*(je=Te[--_e]%He)+(we=Me*je+(Ie=Te[_e]/He|0)*ge)%He*He+qe[fe]+J)/Be|0)+(we/He|0)+Me*Ie,qe[fe--]=je%Be;qe[fe]=J}return J?++ne:qe.splice(0,1),ve(N,qe,ne)},$.negated=function(){var N=new ie(this);return N.s=-N.s||null,N},$.plus=function(N,B){var J,ne=this,re=ne.s;if(B=(N=new ie(N,B)).s,!re||!B)return new ie(NaN);if(re!=B)return N.s=-B,ne.minus(N);var fe=ne.e/l,_e=N.e/l,we=ne.c,Pe=N.c;if(!fe||!_e){if(!we||!Pe)return new ie(re/0);if(!we[0]||!Pe[0])return Pe[0]?N:new ie(we[0]?ne:0*re)}if(fe=y(fe),_e=y(_e),we=we.slice(),re=fe-_e){for(re>0?(_e=fe,J=Pe):(re=-re,J=we),J.reverse();re--;J.push(0));J.reverse()}for((re=we.length)-(B=Pe.length)<0&&(J=Pe,Pe=we,we=J,B=re),re=0;B;)re=(we[--B]=we[B]+Pe[B]+re)/a|0,we[B]=a===we[B]?0:we[B]%a;return re&&(we=[re].concat(we),++_e),ve(N,we,_e)},$.precision=$.sd=function(N,B){var J,ne,re,fe=this;if(N!=null&&N!==!!N)return v(N,1,h),B==null?B=ye:v(B,0,8),xe(new ie(fe),N,B);if(!(J=fe.c))return null;if(ne=(re=J.length-1)*l+1,re=J[re]){for(;re%10==0;re/=10,ne--);for(re=J[0];re>=10;re/=10,ne++);}return N&&fe.e+1>ne&&(ne=fe.e+1),ne},$.shiftedBy=function(N){return v(N,-9007199254740991,d),this.times("1e"+N)},$.squareRoot=$.sqrt=function(){var N,B,J,ne,re,fe=this,_e=fe.c,we=fe.s,Pe=fe.e,je=he+4,Ie=new ie("0.5");if(we!==1||!_e||!_e[0])return new ie(!we||we<0&&(!_e||_e[0])?NaN:_e?fe:1/0);if((we=Math.sqrt(+q(fe)))==0||we==1/0?(((B=m(_e)).length+Pe)%2==0&&(B+="0"),we=Math.sqrt(+B),Pe=y((Pe+1)/2)-(Pe<0||Pe%2),J=new ie(B=we==1/0?"5e"+Pe:(B=we.toExponential()).slice(0,B.indexOf("e")+1)+Pe)):J=new ie(we+""),J.c[0]){for((we=(Pe=J.e)+je)<3&&(we=0);;)if(re=J,J=Ie.times(re.plus(O(fe,re,je,1))),m(re.c).slice(0,we)===(B=m(J.c)).slice(0,we)){if(J.e<Pe&&--we,(B=B.slice(we-3,we+1))!="9999"&&(ne||B!="4999")){+B&&(+B.slice(1)||B.charAt(0)!="5")||(xe(J,J.e+he+2,1),N=!J.times(J).eq(fe));break}if(!ne&&(xe(re,re.e+he+2,0),re.times(re).eq(fe))){J=re;break}je+=4,we+=4,ne=1}}return xe(J,J.e+he+1,ye,N)},$.toExponential=function(N,B){return N!=null&&(v(N,0,h),N++),me(this,N,B,1)},$.toFixed=function(N,B){return N!=null&&(v(N,0,h),N=N+this.e+1),me(this,N,B)},$.toFormat=function(N,B,J){var ne,re=this;if(J==null)N!=null&&B&&typeof B=="object"?(J=B,B=null):N&&typeof N=="object"?(J=N,N=B=null):J=ce;else if(typeof J!="object")throw Error(n+"Argument not an object: "+J);if(ne=re.toFixed(N,B),re.c){var fe,_e=ne.split("."),we=+J.groupSize,Pe=+J.secondaryGroupSize,je=J.groupSeparator||"",Ie=_e[0],ue=_e[1],ge=re.s<0,Me=ge?Ie.slice(1):Ie,qe=Me.length;if(Pe&&(fe=we,we=Pe,Pe=fe,qe-=fe),we>0&&qe>0){for(fe=qe%we||we,Ie=Me.substr(0,fe);fe<qe;fe+=we)Ie+=je+Me.substr(fe,we);Pe>0&&(Ie+=je+Me.slice(fe)),ge&&(Ie="-"+Ie)}ne=ue?Ie+(J.decimalSeparator||"")+((Pe=+J.fractionGroupSize)?ue.replace(new RegExp("\\d{"+Pe+"}\\B","g"),"$&"+(J.fractionGroupSeparator||"")):ue):Ie}return(J.prefix||"")+ne+(J.suffix||"")},$.toFraction=function(N){var B,J,ne,re,fe,_e,we,Pe,je,Ie,ue,ge,Me=this,qe=Me.c;if(N!=null&&(!(we=new ie(N)).isInteger()&&(we.c||we.s!==1)||we.lt(ae)))throw Error(n+"Argument "+(we.isInteger()?"out of range: ":"not an integer: ")+q(we));if(!qe)return new ie(Me);for(B=new ie(ae),je=J=new ie(ae),ne=Pe=new ie(ae),ge=m(qe),fe=B.e=ge.length-Me.e-1,B.c[0]=p[(_e=fe%l)<0?l+_e:_e],N=!N||we.comparedTo(B)>0?fe>0?B:je:we,_e=L,L=1/0,we=new ie(ge),Pe.c[0]=0;Ie=O(we,B,0,1),(re=J.plus(Ie.times(ne))).comparedTo(N)!=1;)J=ne,ne=re,je=Pe.plus(Ie.times(re=je)),Pe=re,B=we.minus(Ie.times(re=B)),we=re;return re=O(N.minus(J),ne,0,1),Pe=Pe.plus(re.times(je)),J=J.plus(re.times(ne)),Pe.s=je.s=Me.s,ue=O(je,ne,fe*=2,ye).minus(Me).abs().comparedTo(O(Pe,J,fe,ye).minus(Me).abs())<1?[je,ne]:[Pe,J],L=_e,ue},$.toNumber=function(){return+q(this)},$.toPrecision=function(N,B){return N!=null&&v(N,1,h),me(this,N,B,2)},$.toString=function(N){var B,J=this,ne=J.s,re=J.e;return re===null?ne?(B="Infinity",ne<0&&(B="-"+B)):B="NaN":(N==null?B=re<=I||re>=j?w(m(J.c),re):S(m(J.c),re,"0"):N===10&&Se?B=S(m((J=xe(new ie(J),he+re+1,ye)).c),J.e,"0"):(v(N,2,de.length,"Base"),B=E(S(m(J.c),re,"0"),10,N,ne,!0)),ne<0&&J.c[0]&&(B="-"+B)),B},$.valueOf=$.toJSON=function(){return q(this)},$._isBigNumber=!0,T!=null&&ie.set(T),ie})(),o.default=o.BigNumber=o,(c=(function(){return o}).call(e,s,e,g))===void 0||(g.exports=c)})()},61688:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(23129),e)},61702:(g,e,s)=>{function c(T){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},c(T)}Object.defineProperty(e,"__esModule",{value:!0}),e.printError=S,e.formatError=x,e.GraphQLError=void 0;var o=t(s(93028)),u=t(s(55569)),i=s(25888),r=s(99530),n=s(40825);function t(T){return T&&T.__esModule?T:{default:T}}function a(T,O){var E=Object.keys(T);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(T);O&&(R=R.filter(function(M){return Object.getOwnPropertyDescriptor(T,M).enumerable})),E.push.apply(E,R)}return E}function l(T,O,E){return O in T?Object.defineProperty(T,O,{value:E,enumerable:!0,configurable:!0,writable:!0}):T[O]=E,T}function d(T,O){for(var E=0;E<O.length;E++){var R=O[E];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(T,R.key,R)}}function p(T,O){return!O||c(O)!=="object"&&typeof O!="function"?f(T):O}function f(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}function h(T){var O=typeof Map=="function"?new Map:void 0;return h=function(E){if(E===null||(R=E,Function.toString.call(R).indexOf("[native code]")===-1))return E;var R;if(typeof E!="function")throw new TypeError("Super expression must either be null or a function");if(O!==void 0){if(O.has(E))return O.get(E);O.set(E,M)}function M(){return y(E,arguments,v(this).constructor)}return M.prototype=Object.create(E.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),b(M,E)},h(T)}function y(T,O,E){return y=m()?Reflect.construct:function(R,M,Q){var X=[null];X.push.apply(X,M);var V=new(Function.bind.apply(R,X));return Q&&b(V,Q.prototype),V},y.apply(null,arguments)}function m(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function b(T,O){return b=Object.setPrototypeOf||function(E,R){return E.__proto__=R,E},b(T,O)}function v(T){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(O){return O.__proto__||Object.getPrototypeOf(O)},v(T)}var _=(function(T){(function(V,H){if(typeof H!="function"&&H!==null)throw new TypeError("Super expression must either be null or a function");V.prototype=Object.create(H&&H.prototype,{constructor:{value:V,writable:!0,configurable:!0}}),H&&b(V,H)})(X,T);var O,E,R,M,Q=(O=X,E=m(),function(){var V,H=v(O);if(E){var U=v(this).constructor;V=Reflect.construct(H,arguments,U)}else V=H.apply(this,arguments);return p(this,V)});function X(V,H,U,k,$,ae,he){var ye,I,j,P;(function(Se,ie){if(!(Se instanceof ie))throw new TypeError("Cannot call a class as a function")})(this,X),(P=Q.call(this,V)).name="GraphQLError",P.originalError=ae??void 0,P.nodes=w(Array.isArray(H)?H:H?[H]:void 0);for(var L=[],G=0,te=(W=P.nodes)!==null&&W!==void 0?W:[];G<te.length;G++){var W,ce=te[G].loc;ce!=null&&L.push(ce)}L=w(L),P.source=U??((ye=L)===null||ye===void 0?void 0:ye[0].source),P.positions=k??((I=L)===null||I===void 0?void 0:I.map(function(Se){return Se.start})),P.locations=k&&U?k.map(function(Se){return(0,r.getLocation)(U,Se)}):(j=L)===null||j===void 0?void 0:j.map(function(Se){return(0,r.getLocation)(Se.source,Se.start)}),P.path=$??void 0;var de=ae?.extensions;return he==null&&(0,u.default)(de)?P.extensions=(function(Se){for(var ie=1;ie<arguments.length;ie++){var me=arguments[ie]!=null?arguments[ie]:{};ie%2?a(Object(me),!0).forEach(function(oe){l(Se,oe,me[oe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Se,Object.getOwnPropertyDescriptors(me)):a(Object(me)).forEach(function(oe){Object.defineProperty(Se,oe,Object.getOwnPropertyDescriptor(me,oe))})}return Se})({},de):P.extensions=he??{},Object.defineProperties(f(P),{message:{enumerable:!0},locations:{enumerable:P.locations!=null},path:{enumerable:P.path!=null},extensions:{enumerable:P.extensions!=null&&Object.keys(P.extensions).length>0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),ae!=null&&ae.stack?(Object.defineProperty(f(P),"stack",{value:ae.stack,writable:!0,configurable:!0}),p(P)):(Error.captureStackTrace?Error.captureStackTrace(f(P),X):Object.defineProperty(f(P),"stack",{value:Error().stack,writable:!0,configurable:!0}),P)}return R=X,(M=[{key:"toString",value:function(){return S(this)}},{key:"toJSON",value:function(){return x(this)}},{key:i.SYMBOL_TO_STRING_TAG,get:function(){return"Object"}}])&&d(R.prototype,M),X})(h(Error));function w(T){return T===void 0||T.length===0?void 0:T}function S(T){var O=T.message;if(T.nodes)for(var E=0,R=T.nodes;E<R.length;E++){var M=R[E];M.loc&&(O+=`

`+(0,n.printLocation)(M.loc))}else if(T.source&&T.locations)for(var Q=0,X=T.locations;Q<X.length;Q++){var V=X[Q];O+=`

`+(0,n.printSourceLocation)(T.source,V)}return O}function x(T){var O;T||(0,o.default)(0,"Received null or undefined error.");var E=(O=T.message)!==null&&O!==void 0?O:"An unknown error occurred.",R=T.locations,M=T.path,Q=T.extensions;return Q&&Object.keys(Q).length>0?{message:E,locations:R,path:M,extensions:Q}:{message:E,locations:R,path:M}}e.GraphQLError=_},61758:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(14589),e),o(s(48062),e)},61782:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActionObserver=void 0,e.ActionObserver=class{constructor(s){Object.assign(this,s)}}},61892:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.htmlDecodeTree=void 0,e.htmlDecodeTree=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(s=>s.charCodeAt(0)))},62001:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(33704),e)},62036:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerKeywordType=void 0;const c=s(42395),o=s(10888),u=s(76970),i=s(1548);class r extends i.EntryHandlerKeyword{constructor(){super("@type")}isStackProcessor(){return!1}async handle(t,a,l,d,p,f){const h=d[f],y=await t.getContext(d),m=a.rdfType,b=await a.unaliasKeywordParent(d,f),v=o.Util.isPropertyReverse(y,h,b),_=o.Util.isPropertyInEmbeddedNode(b);a.validateReverseInEmbeddedNode(l,v,_);const w=o.Util.isPropertyInAnnotationObject(b),S=Array.isArray(p)?p:[p];for(const O of S){typeof O!="string"&&t.emitError(new c.ErrorCoded(`Found illegal @type '${O}'`,c.ERROR_CODES.INVALID_TYPE_VALUE));const E=a.createVocabOrBaseTerm(y,O);E&&await u.EntryHandlerPredicate.handlePredicateObject(t,a,d,f,m,E,v,_,w)}let x=Promise.resolve(y),T=!1;for(const O of S.sort()){const E=o.Util.getContextValue(y,"@context",O,null);E&&(T=!0,x=x.then(R=>t.parseContext(E,R.getContextRaw())))}!t.streamingProfile||!T&&t.streamingProfileAllowOutOfOrderPlainType||!t.processingStack[f]&&!t.idStack[f]||t.emitError(new c.ErrorCoded("Found an out-of-order type-scoped context, while streaming is enabled.(disable `streamingProfile`)",c.ERROR_CODES.INVALID_STREAMING_KEY_ORDER)),T&&(x=x.then(O=>O.getContextRaw()["@propagate"]!==!0?new c.JsonLdContextNormalized(Object.assign(Object.assign({},O.getContextRaw()),{"@propagate":!1,"@__propagateFallback":y.getContextRaw()})):O),t.contextTree.setContext(d.slice(0,d.length-1),x)),t.processingType[f]=!0}}e.EntryHandlerKeywordType=r},62082:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionXsdToString=void 0;const c=s(77617),o=s(77545);class u extends c.TermFunctionBase{constructor(){super({arity:1,operator:o.TypeURL.XSD_STRING,overloads:(0,o.declare)(o.TypeURL.XSD_STRING).onNumeric1(()=>r=>(0,o.string)((0,o.float)(r.typedValue).str())).onBoolean1Typed(()=>r=>(0,o.string)((0,o.bool)(r).str())).onTerm1(()=>r=>(0,o.string)(r.str())).collect()})}}e.TermFunctionXsdToString=u},62100:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(23038),e)},62196:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default="ffffffff-ffff-ffff-ffff-ffffffffffff"},62426:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Literal=void 0;const c=s(43988);class o{constructor(i,r){this.termType="Literal",this.value=i,typeof r=="string"?(this.language=r,this.datatype=o.RDF_LANGUAGE_STRING):r?(this.language="",this.datatype=r):(this.language="",this.datatype=o.XSD_STRING)}equals(i){return!!i&&i.termType==="Literal"&&i.value===this.value&&i.language===this.language&&this.datatype.equals(i.datatype)}}e.Literal=o,o.RDF_LANGUAGE_STRING=new c.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),o.XSD_STRING=new c.NamedNode("http://www.w3.org/2001/XMLSchema#string")},62489:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermMonth=void 0;const c=s(77617),o=s(77545),u=s(78490);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.SparqlOperator.MONTH],termFunction:!0})}async run(n){return new u.TermFunctionMonth}}e.ActorFunctionFactoryTermMonth=i},62620:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.fragment=void 0,e.fragment=function(s){let c=(function(o){let u=o;(u.endsWith("/")||u.endsWith("#"))&&(u=u.slice(0,u.length-1));const i=[];u.lastIndexOf("/")>0&&i.push(u.lastIndexOf("/")),u.lastIndexOf("#")>0&&i.push(u.lastIndexOf("#"));const r=Math.max(...i);return u.slice(r+1)})(s);return c=c?(function(o){var u;const i=(u=o.split(/[^a-z0-9]+/gi).filter(r=>r!=="").map(r=>r[0].toUpperCase()+r.slice(1)).join("").match(/[a-z][a-z0-9]+/gi))===null||u===void 0?void 0:u[0];return i===void 0?void 0:i[0].toLowerCase()+i.slice(1)})(c):void 0,c||"v"}},62649:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(40366),e)},62699:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(35694),e)},62784:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeValueHandlerVariable=void 0;const c=s(55009);class o extends c.NodeValueHandlerAdapter{constructor(i,r){super("Variable",i,r)}handle(i,r,n){const t=i.name.value,a=n.variablesDict[t],l=n.variablesMetaDict[t];if(!a){if(n.ignoreUnknownVariables||l&&!l.mandatory){const d=this.util.dataFactory.variable(t);return n.terminalVariables.map(p=>p.value).indexOf(t)<0&&n.terminalVariables.push(d),{terms:[d]}}throw new Error(`Undefined variable: ${t}`)}if(a.kind==="Variable")throw new Error(`Variable refers to another variable: ${t}`);if(l)if(l.list){if(a.kind!=="ListValue")throw new Error(`Expected a list, but got ${a.kind} for ${t}`);if(l.type){const d=a;for(const p of d.values)if(p.kind!==l.type)throw new Error(`Expected ${l.type}, but got ${p.kind} for ${t}`)}}else l.type;return this.util.handleNodeValue(a,r,n)}}e.NodeValueHandlerVariable=o},62944:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionDatatype=void 0;const c=s(77617),o=s(77545);class u extends c.TermFunctionBase{constructor(){super({arity:1,operator:o.SparqlOperator.DATATYPE,overloads:(0,o.declare)(o.SparqlOperator.DATATYPE).onLiteral1(()=>r=>new o.NamedNode(r.dataType)).collect()})}}e.TermFunctionDatatype=u},63002:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(14801),e)},63055:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorBindingsAggregatorFactoryCount=void 0;const c=s(86581),o=s(90412),u=s(96331),i=s(53930);class r extends c.ActorBindingsAggregatorFactory{constructor(t){super(t)}async test(t){return t.expr.aggregator!=="count"||t.expr.expression.expressionType===u.Algebra.expressionTypes.WILDCARD?(0,o.failTest)("This actor only supports the 'count' aggregator without wildcard."):(0,o.passTestVoid)()}async run({context:t,expr:a}){return new i.CountAggregator(await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:a.expression,context:t}),a.distinct)}}e.ActorBindingsAggregatorFactoryCount=r},63067:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(29832),e)},63082:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionXsdToDatetime=void 0;const c=s(77617),o=s(77545);class u extends c.TermFunctionBase{constructor(){super({arity:1,operator:o.TypeURL.XSD_DATE_TIME,overloads:(0,o.declare)(o.TypeURL.XSD_DATE_TIME).onUnary(o.TypeURL.XSD_DATE_TIME,()=>r=>r).onUnary(o.TypeURL.XSD_STRING,()=>r=>(0,o.dateTime)((0,o.parseDateTime)(r.str()),r.str()),!1).onUnary(o.TypeURL.XSD_DATE,()=>r=>new o.DateTimeLiteral({...r.typedValue,hours:0,minutes:0,seconds:0})).collect()})}}e.TermFunctionXsdToDatetime=u},63125:(g,e,s)=>{const{Buffer:c}=s(48287),{ObjectDefineProperty:o,ObjectKeys:u,ReflectApply:i}=s(24134),{promisify:{custom:r}}=s(57760),{streamReturningOperators:n,promiseReturningOperators:t}=s(60823),{codes:{ERR_ILLEGAL_CONSTRUCTOR:a}}=s(76371),l=s(47830),{setDefaultHighWaterMark:d,getDefaultHighWaterMark:p}=s(65291),{pipeline:f}=s(57758),{destroyer:h}=s(75896),y=s(86238),m=s(43095),b=s(16115),v=g.exports=s(94259).Stream;v.isDestroyed=b.isDestroyed,v.isDisturbed=b.isDisturbed,v.isErrored=b.isErrored,v.isReadable=b.isReadable,v.isWritable=b.isWritable,v.Readable=s(57576);for(const w of u(n)){let S=function(...T){if(new.target)throw a();return v.Readable.from(i(x,this,T))};const x=n[w];o(S,"name",{__proto__:null,value:x.name}),o(S,"length",{__proto__:null,value:x.length}),o(v.Readable.prototype,w,{__proto__:null,value:S,enumerable:!1,configurable:!0,writable:!0})}for(const w of u(t)){let S=function(...T){if(new.target)throw a();return i(x,this,T)};const x=t[w];o(S,"name",{__proto__:null,value:x.name}),o(S,"length",{__proto__:null,value:x.length}),o(v.Readable.prototype,w,{__proto__:null,value:S,enumerable:!1,configurable:!0,writable:!0})}v.Writable=s(78584),v.Duplex=s(93370),v.Transform=s(17382),v.PassThrough=s(86524),v.pipeline=f;const{addAbortSignal:_}=s(4147);v.addAbortSignal=_,v.finished=y,v.destroy=h,v.compose=l,v.setDefaultHighWaterMark=d,v.getDefaultHighWaterMark=p,o(v,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>m}),o(f,r,{__proto__:null,enumerable:!0,get:()=>m.pipeline}),o(y,r,{__proto__:null,enumerable:!0,get:()=>m.finished}),v.Stream=v,v._isUint8Array=function(w){return w instanceof Uint8Array},v._uint8ArrayToBuffer=function(w){return c.from(w.buffer,w.byteOffset,w.byteLength)}},63369:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionSubStr=void 0;const c=s(77617),o=s(77545);class u extends c.TermFunctionBase{constructor(){super({arity:[2,3],operator:o.SparqlOperator.SUBSTR,overloads:(0,o.declare)(o.SparqlOperator.SUBSTR).onBinaryTyped([o.TypeURL.XSD_STRING,o.TypeURL.XSD_INTEGER],()=>(r,n)=>(0,o.string)([...r].slice(n-1).join(""))).onBinary([o.TypeURL.RDF_LANG_STRING,o.TypeURL.XSD_INTEGER],()=>(r,n)=>{const t=[...r.typedValue].slice(n.typedValue-1).join("");return(0,o.langString)(t,r.language)}).onTernaryTyped([o.TypeURL.XSD_STRING,o.TypeURL.XSD_INTEGER,o.TypeURL.XSD_INTEGER],()=>(r,n,t)=>(0,o.string)([...r].slice(n-1,t+n-1).join(""))).onTernary([o.TypeURL.RDF_LANG_STRING,o.TypeURL.XSD_INTEGER,o.TypeURL.XSD_INTEGER],()=>(r,n,t)=>{const a=[...r.typedValue].slice(n.typedValue-1,t.typedValue+n.typedValue-1).join("");return(0,o.langString)(a,r.language)}).collect()})}}e.TermFunctionSubStr=u},63465:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default="00000000-0000-0000-0000-000000000000"},63580:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(i){var r=i.prototype.toJSON;typeof r=="function"||(0,c.default)(0),i.prototype.inspect=r,o.default&&(i.prototype[o.default]=r)};var c=u(s(61321)),o=u(s(98493));function u(i){return i&&i.__esModule?i:{default:i}}},63599:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},63847:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ContainerHandlerLanguage=void 0;const c=s(42395);e.ContainerHandlerLanguage=class{canCombineWithGraph(){return!1}async handle(o,u,i,r,n,t){const a=await i.getContainerKey(r[t],r,t);if(Array.isArray(n))n=n.map(l=>({"@value":l,"@language":a}));else{if(typeof n!="string")throw new c.ErrorCoded(`Got invalid language map value, got '${JSON.stringify(n)}', but expected string`,c.ERROR_CODES.INVALID_LANGUAGE_MAP_VALUE);n={"@value":n,"@language":a}}await u.newOnValueJob(r.slice(0,r.length-1),n,t-1,!0),u.emittedStack[t]=!1}}},63881:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(75844),e),o(s(20715),e)},64068:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(20057),e)},64212:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermStrEnds=void 0;const c=s(77617),o=s(77545),u=s(24075);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.SparqlOperator.STRENDS],termFunction:!0})}async run(n){return new u.TermFunctionStrEnds}}e.ActorFunctionFactoryTermStrEnds=i},64232:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.matchPatternMappings=e.matchPatternComplete=e.matchPattern=e.matchTerm=e.getValueNestedPath=e.someTermsNested=e.someTerms=e.everyTermsNested=e.everyTerms=e.reduceTermsNested=e.reduceTerms=e.mapTermsNested=e.mapTerms=e.filterQuadTermNamesNested=e.filterQuadTermNames=e.filterTermsNested=e.filterTerms=e.forEachTermsNested=e.forEachTerms=e.collectNamedTerms=e.getNamedTerms=e.getTermsNested=e.getTerms=e.TRIPLE_TERM_NAMES=e.QUAD_TERM_NAMES=void 0;const c=new(s(47793)).DataFactory;function o(t,a){return a&&t.graph.termType==="DefaultGraph"?[t.subject,t.predicate,t.object]:[t.subject,t.predicate,t.object,t.graph]}function u(t,a){return a(t.subject,"subject")&&a(t.predicate,"predicate")&&a(t.object,"object")&&a(t.graph,"graph")}function i(t,a){return!a||a.termType==="Variable"||a.termType==="Quad"&&t.termType==="Quad"&&n(t,a)||a.equals(t)}function r(t,a,l,d,p){return i(t.subject,a)&&i(t.predicate,l)&&i(t.object,d)&&i(t.graph,p)}function n(t,a){return r(t,a.subject,a.predicate,a.object,a.graph)}e.QUAD_TERM_NAMES=["subject","predicate","object","graph"],e.TRIPLE_TERM_NAMES=["subject","predicate","object"],e.getTerms=o,e.getTermsNested=function t(a,l){const d=[];for(const p of o(a,l))p.termType==="Quad"?t(p,l).forEach(f=>d.push(f)):d.push(p);return d},e.getNamedTerms=function(t){return[{key:"subject",value:t.subject},{key:"predicate",value:t.predicate},{key:"object",value:t.object},{key:"graph",value:t.graph}]},e.collectNamedTerms=function(t,a,l){const d={};return t.forEach(p=>d[p.key]=p.value),a&&(d.subject=d.subject||a("subject"),d.predicate=d.predicate||a("predicate"),d.object=d.object||a("object"),d.graph=d.graph||a("graph")),(l||c).quad(d.subject,d.predicate,d.object,d.graph)},e.forEachTerms=function(t,a){a(t.subject,"subject"),a(t.predicate,"predicate"),a(t.object,"object"),a(t.graph,"graph")},e.forEachTermsNested=function t(a,l,d=[]){a.subject.termType==="Quad"?t(a.subject,l,[...d,"subject"]):l(a.subject,[...d,"subject"]),a.predicate.termType==="Quad"?t(a.predicate,l,[...d,"predicate"]):l(a.predicate,[...d,"predicate"]),a.object.termType==="Quad"?t(a.object,l,[...d,"object"]):l(a.object,[...d,"object"]),a.graph.termType==="Quad"?t(a.graph,l,[...d,"graph"]):l(a.graph,[...d,"graph"])},e.filterTerms=function(t,a){const l=[];return a(t.subject,"subject")&&l.push(t.subject),a(t.predicate,"predicate")&&l.push(t.predicate),a(t.object,"object")&&l.push(t.object),a(t.graph,"graph")&&l.push(t.graph),l},e.filterTermsNested=function t(a,l,d=[]){let p=[];return a.subject.termType==="Quad"?p=[...p,...t(a.subject,l,[...d,"subject"])]:l(a.subject,[...d,"subject"])&&p.push(a.subject),a.predicate.termType==="Quad"?p=[...p,...t(a.predicate,l,[...d,"predicate"])]:l(a.predicate,[...d,"predicate"])&&p.push(a.predicate),a.object.termType==="Quad"?p=[...p,...t(a.object,l,[...d,"object"])]:l(a.object,[...d,"object"])&&p.push(a.object),a.graph.termType==="Quad"?p=[...p,...t(a.graph,l,[...d,"graph"])]:l(a.graph,[...d,"graph"])&&p.push(a.graph),p},e.filterQuadTermNames=function(t,a){const l=[];return a(t.subject,"subject")&&l.push("subject"),a(t.predicate,"predicate")&&l.push("predicate"),a(t.object,"object")&&l.push("object"),a(t.graph,"graph")&&l.push("graph"),l},e.filterQuadTermNamesNested=function t(a,l,d=[]){let p=[];const f=[...d,"subject"];a.subject.termType==="Quad"?p=[...p,...t(a.subject,l,f)]:l(a.subject,f)&&p.push(f);const h=[...d,"predicate"];a.predicate.termType==="Quad"?p=[...p,...t(a.predicate,l,h)]:l(a.predicate,h)&&p.push(h);const y=[...d,"object"];a.object.termType==="Quad"?p=[...p,...t(a.object,l,y)]:l(a.object,y)&&p.push(y);const m=[...d,"graph"];return a.graph.termType==="Quad"?p=[...p,...t(a.graph,l,m)]:l(a.graph,m)&&p.push(m),p},e.mapTerms=function(t,a,l){return(l||c).quad(a(t.subject,"subject"),a(t.predicate,"predicate"),a(t.object,"object"),a(t.graph,"graph"))},e.mapTermsNested=function t(a,l,d,p=[]){return(d||c).quad(a.subject.termType==="Quad"?t(a.subject,l,d,[...p,"subject"]):l(a.subject,[...p,"subject"]),a.predicate.termType==="Quad"?t(a.predicate,l,d,[...p,"predicate"]):l(a.predicate,[...p,"predicate"]),a.object.termType==="Quad"?t(a.object,l,d,[...p,"object"]):l(a.object,[...p,"object"]),a.graph.termType==="Quad"?t(a.graph,l,d,[...p,"graph"]):l(a.graph,[...p,"graph"]))},e.reduceTerms=function(t,a,l){let d=l;return d=a(d,t.subject,"subject"),d=a(d,t.predicate,"predicate"),d=a(d,t.object,"object"),a(d,t.graph,"graph")},e.reduceTermsNested=function t(a,l,d,p=[]){let f=d;return f=a.subject.termType==="Quad"?t(a.subject,l,f,[...p,"subject"]):l(f,a.subject,[...p,"subject"]),f=a.predicate.termType==="Quad"?t(a.predicate,l,f,[...p,"predicate"]):l(f,a.predicate,[...p,"predicate"]),f=a.object.termType==="Quad"?t(a.object,l,f,[...p,"object"]):l(f,a.object,[...p,"object"]),f=a.graph.termType==="Quad"?t(a.graph,l,f,[...p,"graph"]):l(f,a.graph,[...p,"graph"]),f},e.everyTerms=u,e.everyTermsNested=function t(a,l,d=[]){return(a.subject.termType==="Quad"?t(a.subject,l,[...d,"subject"]):l(a.subject,[...d,"subject"]))&&(a.predicate.termType==="Quad"?t(a.predicate,l,[...d,"predicate"]):l(a.predicate,[...d,"predicate"]))&&(a.object.termType==="Quad"?t(a.object,l,[...d,"object"]):l(a.object,[...d,"object"]))&&(a.graph.termType==="Quad"?t(a.graph,l,[...d,"graph"]):l(a.graph,[...d,"graph"]))},e.someTerms=function(t,a){return a(t.subject,"subject")||a(t.predicate,"predicate")||a(t.object,"object")||a(t.graph,"graph")},e.someTermsNested=function t(a,l,d=[]){return(a.subject.termType==="Quad"?t(a.subject,l,[...d,"subject"]):l(a.subject,[...d,"subject"]))||(a.predicate.termType==="Quad"?t(a.predicate,l,[...d,"predicate"]):l(a.predicate,[...d,"predicate"]))||(a.object.termType==="Quad"?t(a.object,l,[...d,"object"]):l(a.object,[...d,"object"]))||(a.graph.termType==="Quad"?t(a.graph,l,[...d,"graph"]):l(a.graph,[...d,"graph"]))},e.getValueNestedPath=function t(a,l){if(l.length===0)return a;if(a.termType==="Quad")return t(a[l[0]],l.slice(1));throw new Error(`Tried to get ${l[0]} from term of type ${a.termType}`)},e.matchTerm=i,e.matchPattern=r,e.matchPatternComplete=n,e.matchPatternMappings=function(t,a,l={}){const d={};return(function p(f,h){return u(f,(y,m)=>{var b,v;const _=h[m];switch(y.termType){case"Variable":return l.skipVarMapping&&_.termType==="Variable"||((v=(b=d[y.value])===null||b===void 0?void 0:b.equals(_))!==null&&v!==void 0?v:(d[y.value]=_,!0));case"Quad":return _.termType==="Quad"&&p(y,_);default:return y.equals(_)}})})(a,t)&&(!l.returnMappings||d)}},64313:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(19881),e)},64417:(g,e,s)=>{g.exports=function(c){var o=new(s(11832)).LoggerVoid,u=new(s(90412)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-init/^4.0.0/components/ActorInit.jsonld#ActorInit_default_bus"}),i=new(s(90412)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-context-preprocess/^4.0.0/components/ActorContextPreprocess.jsonld#ActorContextPreprocess_default_bus"}),r=new(s(90412)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-hash-bindings/^4.0.0/components/ActorHashBindings.jsonld#ActorHashBindings_default_bus"}),n=new(s(90412)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-hash-quads/^4.0.0/components/ActorHashQuads.jsonld#ActorHashQuads_default_bus"}),t=new(s(90412)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-optimize-query-operation/^4.0.0/components/ActorOptimizeQueryOperation.jsonld#ActorOptimizeQueryOperation_default_bus"}),a=new(s(90412)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-parse/^4.0.0/components/ActorQueryParse.jsonld#ActorQueryParse_default_bus"}),l=new(s(90412)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-result-serialize/^4.0.0/components/ActorQueryResultSerialize.jsonld#ActorQueryResultSerialize_default_bus"}),d=new(s(90412)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-source-identify-hypermedia/^4.0.0/components/ActorQuerySourceIdentifyHypermedia.jsonld#ActorQuerySourceIdentifyHypermedia_default_bus"}),p=new(s(90412)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-dereference/^4.0.0/components/ActorDereference.jsonld#ActorDereference_default_bus"}),f=new(s(90412)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-dereference-rdf/^4.0.0/components/ActorDereferenceRdf.jsonld#ActorDereferenceRdf_default_bus"}),h=new(s(90412)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-join-entries-sort/^4.0.0/components/ActorRdfJoinEntriesSort.jsonld#ActorRdfJoinEntriesSort_default_bus"}),y=new(s(90412)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-join-selectivity/^4.0.0/components/ActorRdfJoinSelectivity.jsonld#ActorRdfJoinSelectivity_default_bus"}),m=new(s(90412)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-metadata/^4.0.0/components/ActorRdfMetadata.jsonld#ActorRdfMetadata_default_bus"}),b=new(s(90412)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-metadata-accumulate/^4.0.0/components/ActorRdfMetadataAccumulate.jsonld#ActorRdfMetadataAccumulate_default_bus"}),v=new(s(90412)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-metadata-extract/^4.0.0/components/ActorRdfMetadataExtract.jsonld#ActorRdfMetadataExtract_default_bus"}),_=new(s(90412)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-parse/^4.0.0/components/ActorRdfParse.jsonld#ActorRdfParse_default_bus"}),w=new(s(90412)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-parse-html/^4.0.0/components/ActorRdfParseHtml.jsonld#ActorRdfParseHtml_default_bus"}),S=new(s(90412)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-resolve-hypermedia-links/^4.0.0/components/ActorRdfResolveHypermediaLinks.jsonld#ActorRdfResolveHypermediaLinks_default_bus"}),x=new(s(90412)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-resolve-hypermedia-links-queue/^4.0.0/components/ActorRdfResolveHypermediaLinksQueue.jsonld#ActorRdfResolveHypermediaLinksQueue_default_bus"}),T=new(s(90412)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-serialize/^4.0.0/components/ActorRdfSerialize.jsonld#ActorRdfSerialize_default_bus"}),O=new(s(90412)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-update-hypermedia/^4.0.0/components/ActorRdfUpdateHypermedia.jsonld#ActorRdfUpdateHypermedia_default_bus"}),E=new(s(90412)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-update-quads/^4.0.0/components/ActorRdfUpdateQuads.jsonld#ActorRdfUpdateQuads_default_bus"}),R=new(s(90412)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-bindings-aggregator-factory/^4.0.0/components/ActorBindingsAggregatorFactory.jsonld#ActorBindingsAggregatorFactory_default_bus"}),M=new(s(90412)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-expression-evaluator-factory/^4.0.0/components/ActorExpressionEvaluatorFactory.jsonld#ActorExpressionEvaluatorFactory_default_bus"}),Q=new(s(77617)).BusFunctionFactory({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-function-factory/^4.0.0/components/ActorFunctionFactory.jsonld#ActorFunctionFactory_default_bus"}),X=new(s(90412)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-http/^4.0.0/components/ActorHttp.jsonld#ActorHttp_default_bus"}),V=new(s(90412)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-http/^4.0.0/components/ActorHttp.jsonld#ActorHttp_fallback_bus"}),H=new(s(66490)).BusQueryOperation({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-operation/^4.0.0/components/ActorQueryOperation.jsonld#ActorQueryOperation_default_bus"}),U=new(s(90412)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-process/^4.0.0/components/ActorQueryProcess.jsonld#ActorQueryProcess_default_bus"}),k=new(s(90412)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-source-identify/^4.0.0/components/ActorQuerySourceIdentify.jsonld#ActorQuerySourceIdentify_default_bus"}),$=new(s(90412)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-join/^4.0.0/components/ActorRdfJoin.jsonld#ActorRdfJoin_default_bus"}),ae=new(s(90412)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-term-comparator-factory/^4.0.0/components/ActorTermComparatorFactory.jsonld#ActorTermComparatorFactory_default_bus"}),he=new(s(90412)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-http-invalidate/^4.0.0/components/ActorHttpInvalidate.jsonld#ActorHttpInvalidate_default_bus"}),ye=new(s(90412)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-merge-bindings-context/^4.0.0/components/ActorMergeBindingsContext.jsonld#ActorMergeBindingsContext_default_bus"}),I=(new(s(71871)).ActorContextPreprocessConvertShortcuts({contextKeyShortcuts:{baseIRI:"@comunica/actor-init-query:baseIRI",dataFactory:"@comunica/actor-init-query:dataFactory",datetime:"@comunica/actor-http-memento:datetime",destination:"@comunica/bus-rdf-update-quads:destination",distinctConstruct:"@comunica/actor-init-query:distinctConstruct",explain:"@comunica/actor-init-query:explain",extensionFunctionCreator:"@comunica/actor-init-query:extensionFunctionCreator",extensionFunctions:"@comunica/actor-init-query:extensionFunctions",extensionFunctionsAlwaysPushdown:"@comunica/actor-init-query:extensionFunctionsAlwaysPushdown",fetch:"@comunica/bus-http:fetch",fileBaseIRI:"@comunica/actor-init-query:fileBaseIRI",functionArgumentsCache:"@comunica/actor-init-query:functionArgumentsCache",httpAuth:"@comunica/bus-http:auth",httpBodyTimeout:"@comunica/bus-http:http-body-timeout",httpIncludeCredentials:"@comunica/bus-http:include-credentials",httpProxyHandler:"@comunica/actor-http-proxy:httpProxyHandler",httpRetryCount:"@comunica/bus-http:http-retry-count",httpRetryDelayFallback:"@comunica/bus-http:http-retry-delay-fallback",httpRetryDelayLimit:"@comunica/bus-http:http-retry-delay-limit",httpTimeout:"@comunica/bus-http:http-timeout",initialBindings:"@comunica/actor-init-query:initialBindings",invalidateCache:"@comunica/actor-init-query:invalidateCache",lenient:"@comunica/actor-init-query:lenient",log:"@comunica/core:log",queryFormat:"@comunica/actor-init-query:queryFormat",queryTimestamp:"@comunica/actor-init-query:queryTimestamp",queryTimestampHighResolution:"@comunica/actor-init-query:queryTimestampHighResolution",readOnly:"@comunica/bus-query-operation:readOnly",recoverBrokenLinks:"@comunica/bus-http-wayback:recover-broken-links",sources:"@comunica/actor-init-query:querySourcesUnidentified",traverse:"@comunica/bus-query-source-identify:traverse",unionDefaultGraph:"@comunica/bus-query-operation:unionDefaultGraph"},name:"urn:comunica:default:context-preprocess/actors#convert-shortcuts",bus:i,busFailMessage:"Context preprocessing failed"}),new(s(10607)).ActorContextPreprocessSetDefaults({logger:o,name:"urn:comunica:default:context-preprocess/actors#set-defaults",bus:i,busFailMessage:"Context preprocessing failed"}),new(s(94410)).ActorContextPreprocessSourceToDestination({name:"urn:comunica:default:context-preprocess/actors#source-to-destination",bus:i,busFailMessage:"Context preprocessing failed"}),new(s(21806)).ActorContextPreprocessQuerySourceSkolemize({name:"urn:comunica:default:context-preprocess/actors#query-source-skolemize",bus:i,busFailMessage:"Context preprocessing failed"})),j=new(s(83223)).MediatorCombinePipeline({name:"urn:comunica:default:context-preprocess/mediators#main",bus:i}),P=(new(s(47111)).ActorHashBindingsMurmur({name:"urn:comunica:default:hash-bindings/actors#murmur",bus:r,busFailMessage:"Failed to obtaining hash functions for bindings"}),new(s(12740)).MediatorRace({name:"urn:comunica:default:hash-bindings/mediators#main",bus:r})),L=(new(s(33401)).ActorHashQuadsMurmur({name:"urn:comunica:default:hash-quads/actors#murmur",bus:n,busFailMessage:"Failed to obtaining hash functions for quads"}),new(s(12740)).MediatorRace({name:"urn:comunica:default:hash-quads/mediators#main",bus:n})),G=(new(s(20578)).ActorOptimizeQueryOperationRewriteCopy({name:"urn:comunica:default:optimize-query-operation/actors#rewrite-copy",bus:t,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize"}),new(s(12538)).ActorOptimizeQueryOperationRewriteMove({name:"urn:comunica:default:optimize-query-operation/actors#rewrite-move",bus:t,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize"}),new(s(34406)).ActorOptimizeQueryOperationRewriteAdd({name:"urn:comunica:default:optimize-query-operation/actors#rewrite-add",bus:t,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize"}),new(s(92012)).ActorOptimizeQueryOperationGroupSources({name:"urn:comunica:default:optimize-query-operation/actors#group-sources",bus:t,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize"})),te=(new(s(98832)).ActorOptimizeQueryOperationConstructDistinct({name:"urn:comunica:default:optimize-query-operation/actors#construct-distinct",bus:t,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize"}),new(s(83223)).MediatorCombinePipeline({filterFailures:!0,name:"urn:comunica:default:optimize-query-operation/mediators#main",bus:t})),W=(new(s(8323)).ActorQueryParseSparql({prefixes:{dbpedia:"http://dbpedia.org/resource/","dbpedia-owl":"http://dbpedia.org/ontology/",dbpprop:"http://dbpedia.org/property/",dc:"http://purl.org/dc/terms/",dc11:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",foaf:"http://xmlns.com/foaf/0.1/",geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",owl:"http://www.w3.org/2002/07/owl#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",schema:"http://schema.org/",skos:"http://www.w3.org/2008/05/skos#",xsd:"http://www.w3.org/2001/XMLSchema#"},name:"urn:comunica:default:query-parse/actors#sparql",bus:a,busFailMessage:'Query parsing failed: none of the configured parsers were able to the query "${action.query}"'}),new(s(4047)).ActorQueryParseGraphql({name:"urn:comunica:default:query-parse/actors#graphql",bus:a,busFailMessage:'Query parsing failed: none of the configured parsers were able to the query "${action.query}"'}),new(s(12740)).MediatorRace({name:"urn:comunica:default:query-parse/mediators#main",bus:a})),ce=(new(s(1359)).ActorQueryResultSerializeJson({mediaTypePriorities:{"application/json":1},mediaTypeFormats:{"application/json":"https://comunica.linkeddatafragments.org/#results_JSON"},name:"urn:comunica:default:query-result-serialize/actors#json",bus:l,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"}),new(s(1595)).ActorQueryResultSerializeSimple({mediaTypePriorities:{simple:.9},mediaTypeFormats:{simple:"https://comunica.linkeddatafragments.org/#results_simple"},name:"urn:comunica:default:query-result-serialize/actors#simple",bus:l,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"}),new(s(83657)).ActorQueryResultSerializeSparqlCsv({mediaTypePriorities:{"text/csv":.75},mediaTypeFormats:{"text/csv":"http://www.w3.org/ns/formats/SPARQL_Results_CSV"},name:"urn:comunica:default:query-result-serialize/actors#csv",bus:l,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"}),new(s(92796)).ActorQueryResultSerializeSparqlTsv({mediaTypePriorities:{"text/tab-separated-values":.75},mediaTypeFormats:{"text/tab-separated-values":"http://www.w3.org/ns/formats/SPARQL_Results_TSV"},name:"urn:comunica:default:query-result-serialize/actors#sparql-tsv",bus:l,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"}),new(s(23200)).ActorQueryResultSerializeSparqlXml({mediaTypePriorities:{"application/sparql-results+xml":.8},mediaTypeFormats:{"application/sparql-results+xml":"http://www.w3.org/ns/formats/SPARQL_Results_XML"},name:"urn:comunica:default:query-result-serialize/actors#sparql-xml",bus:l,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"}),new(s(17731)).ActorQueryResultSerializeTable({columnWidth:50,mediaTypePriorities:{table:.6},mediaTypeFormats:{table:"https://comunica.linkeddatafragments.org/#results_table"},name:"urn:comunica:default:query-result-serialize/actors#table",bus:l,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"}),new(s(78149)).ActorQueryResultSerializeTree({mediaTypePriorities:{tree:.5},mediaTypeFormats:{tree:"https://comunica.linkeddatafragments.org/#results_tree"},name:"urn:comunica:default:query-result-serialize/actors#tree",bus:l,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"}),new(s(12740)).MediatorRace({name:"urn:comunica:default:query-result-serialize/mediators#serialize",bus:l})),de=new(s(54560)).MediatorCombineUnion({field:"mediaTypes",name:"urn:comunica:default:query-result-serialize/mediators#mediaType",bus:l}),Se=new(s(54560)).MediatorCombineUnion({field:"mediaTypeFormats",name:"urn:comunica:default:query-result-serialize/mediators#mediaTypeFormat",bus:l}),ie=new(s(31588)).MediatorNumber({field:"filterFactor",type:"max",ignoreFailures:!0,name:"urn:comunica:default:query-source-identify-hypermedia/mediators#main",bus:d}),me=new(s(67498)).ActorDereferenceFallback({name:"urn:comunica:default:dereference/actors#fallback",bus:p,busFailMessage:"Dereferencing failed: none of the configured actors were able to handle ${action.url}"}),oe=new(s(12740)).MediatorRace({name:"urn:comunica:default:dereference/mediators#main",bus:p}),ve=new(s(12740)).MediatorRace({name:"urn:comunica:default:dereference-rdf/mediators#main",bus:f}),xe=(new(s(4669)).ActorRdfJoinEntriesSortCardinality({name:"urn:comunica:default:rdf-join-entries-sort/actors#cardinality",bus:h,busFailMessage:"Sorting join entries failed: none of the configured actors were able to sort"}),new(s(31588)).MediatorNumber({field:"accuracy",type:"max",ignoreFailures:!0,name:"urn:comunica:default:rdf-join-entries-sort/mediators#main",bus:h})),q=(new(s(3595)).ActorRdfJoinSelectivityVariableCounting({name:"urn:comunica:default:rdf-join-selectivity/actors#variable-counting",bus:y,busFailMessage:"Determining join selectivity failed: none of the configured actors were able to calculate selectivities"}),new(s(31588)).MediatorNumber({field:"accuracy",type:"max",ignoreFailures:!0,name:"urn:comunica:default:rdf-join-selectivity/mediators#main",bus:y})),N=(new(s(59340)).ActorRdfMetadataPrimaryTopic({metadataToData:!1,dataToMetadataOnInvalidMetadataGraph:!0,name:"urn:comunica:default:rdf-metadata/actors#primary-topic",bus:m,busFailMessage:"Metadata splicing failed: none of the configured actors were able to splice metadata from ${action.url}"}),new(s(67831)).ActorRdfMetadataAll({name:"urn:comunica:default:rdf-metadata/actors#all",bus:m,busFailMessage:"Metadata splicing failed: none of the configured actors were able to splice metadata from ${action.url}"}),new(s(12740)).MediatorRace({name:"urn:comunica:default:rdf-metadata/mediators#main",bus:m})),B=(new(s(37143)).ActorRdfMetadataAccumulateCardinality({name:"urn:comunica:default:rdf-metadata-accumulate/actors#cardinality",bus:b,busFailMessage:"Metadata accumulation failed: none of the configured actors were able to accumulate metadata in mode ${action.mode}"}),new(s(17215)).ActorRdfMetadataAccumulatePageSize({name:"urn:comunica:default:rdf-metadata-accumulate/actors#pagesize",bus:b,busFailMessage:"Metadata accumulation failed: none of the configured actors were able to accumulate metadata in mode ${action.mode}"}),new(s(59075)).ActorRdfMetadataAccumulateRequestTime({name:"urn:comunica:default:rdf-metadata-accumulate/actors#requesttime",bus:b,busFailMessage:"Metadata accumulation failed: none of the configured actors were able to accumulate metadata in mode ${action.mode}"}),new(s(54560)).MediatorCombineUnion({field:"metadata",name:"urn:comunica:default:rdf-metadata-accumulate/mediators#main",bus:b})),J=(new(s(62649)).ActorRdfMetadataExtractHydraControls({name:"urn:comunica:default:rdf-metadata-extract/actors#hydra-controls",bus:v,busFailMessage:"Metadata extraction failed: none of the configured actors were able to extract metadata from ${action.url}"}),new(s(12814)).ActorRdfMetadataExtractHydraCount({predicates:["http://www.w3.org/ns/hydra/core#totalItems","http://rdfs.org/ns/void#triples"],name:"urn:comunica:default:rdf-metadata-extract/actors#hydra-count",bus:v,busFailMessage:"Metadata extraction failed: none of the configured actors were able to extract metadata from ${action.url}"}),new(s(14405)).ActorRdfMetadataExtractHydraPagesize({predicates:["http://www.w3.org/ns/hydra/core#itemsPerPage"],name:"urn:comunica:default:rdf-metadata-extract/actors#hydra-pagesize",bus:v,busFailMessage:"Metadata extraction failed: none of the configured actors were able to extract metadata from ${action.url}"}),new(s(121)).ActorRdfMetadataExtractRequestTime({name:"urn:comunica:default:rdf-metadata-extract/actors#request-time",bus:v,busFailMessage:"Metadata extraction failed: none of the configured actors were able to extract metadata from ${action.url}"}),new(s(19531)).ActorRdfMetadataExtractAllowHttpMethods({name:"urn:comunica:default:rdf-metadata-extract/actors#allow-http-methods",bus:v,busFailMessage:"Metadata extraction failed: none of the configured actors were able to extract metadata from ${action.url}"}),new(s(13121)).ActorRdfMetadataExtractPutAccepted({name:"urn:comunica:default:rdf-metadata-extract/actors#put-accepted",bus:v,busFailMessage:"Metadata extraction failed: none of the configured actors were able to extract metadata from ${action.url}"}),new(s(93742)).ActorRdfMetadataExtractPatchSparqlUpdate({name:"urn:comunica:default:rdf-metadata-extract/actors#patch-sparql-update",bus:v,busFailMessage:"Metadata extraction failed: none of the configured actors were able to extract metadata from ${action.url}"}),new(s(19727)).ActorRdfMetadataExtractSparqlService({inferHttpsEndpoint:!0,name:"urn:comunica:default:rdf-metadata-extract/actors#sparql-service",bus:v,busFailMessage:"Metadata extraction failed: none of the configured actors were able to extract metadata from ${action.url}"}),new(s(54560)).MediatorCombineUnion({filterFailures:!0,field:"metadata",name:"urn:comunica:default:rdf-metadata-extract/mediators#main",bus:v})),ne=(new(s(56361)).ActorRdfParseN3({mediaTypePriorities:{"application/n-quads":1,"application/n-triples":.8,"application/trig":.95,"text/n3":.35,"text/turtle":.6},mediaTypeFormats:{"application/n-quads":"http://www.w3.org/ns/formats/N-Quads","application/n-triples":"http://www.w3.org/ns/formats/N-Triples","application/trig":"http://www.w3.org/ns/formats/TriG","text/n3":"http://www.w3.org/ns/formats/N3","text/turtle":"http://www.w3.org/ns/formats/Turtle"},priorityScale:1,name:"urn:comunica:default:rdf-parse/actors#n3",bus:_,busFailMessage:"RDF parsing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),new(s(19227)).ActorRdfParseRdfXml({mediaTypePriorities:{"application/rdf+xml":1},mediaTypeFormats:{"application/rdf+xml":"http://www.w3.org/ns/formats/RDF_XML"},priorityScale:.5,name:"urn:comunica:default:rdf-parse/actors#rdfxml",bus:_,busFailMessage:"RDF parsing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),new(s(2669)).ActorRdfParseXmlRdfa({mediaTypePriorities:{"application/xml":1,"image/svg+xml":1,"text/xml":1},mediaTypeFormats:{"application/xml":"http://www.w3.org/ns/formats/RDFa","image/svg+xml":"http://www.w3.org/ns/formats/RDFa","text/xml":"http://www.w3.org/ns/formats/RDFa"},priorityScale:.3,name:"urn:comunica:default:rdf-parse/actors#xmlrdfa",bus:_,busFailMessage:"RDF parsing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),new(s(71356)).ActorRdfParseShaclc({mediaTypePriorities:{"text/shaclc":1,"text/shaclc-ext":.5},mediaTypeFormats:{"text/shaclc":"http://www.w3.org/ns/formats/Shaclc","text/shaclc-ext":"http://www.w3.org/ns/formats/ShaclcExtended"},priorityScale:.1,name:"urn:comunica:default:rdf-parse/actors#shaclc",bus:_,busFailMessage:"RDF parsing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),new(s(12740)).MediatorRace({name:"urn:comunica:default:rdf-parse/mediators#parse",bus:_})),re=new(s(54560)).MediatorCombineUnion({field:"mediaTypes",name:"urn:comunica:default:rdf-parse/mediators#mediaType",bus:_}),fe=(new(s(97103)).ActorRdfParseHtml({busRdfParseHtml:w,mediaTypePriorities:{"application/xhtml+xml":.9,"text/html":1},mediaTypeFormats:{"application/xhtml+xml":"http://www.w3.org/ns/formats/HTML","text/html":"http://www.w3.org/ns/formats/HTML"},priorityScale:.2,name:"urn:comunica:default:rdf-parse/actors#html",bus:_,busFailMessage:"RDF parsing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),new(s(37630)).ActorRdfParseHtmlMicrodata({name:"urn:comunica:default:rdf-parse-html/actors#microdata",bus:w,busFailMessage:"RDF HTML parsing failed: none of the configured parsers were able to parse RDF in HTML"}),new(s(59453)).ActorRdfParseHtmlRdfa({name:"urn:comunica:default:rdf-parse-html/actors#rdfa",bus:w,busFailMessage:"RDF HTML parsing failed: none of the configured parsers were able to parse RDF in HTML"}),new(s(34121)).ActorRdfResolveHypermediaLinksNext({name:"urn:comunica:default:rdf-resolve-hypermedia-links/actors#next",bus:S,busFailMessage:"Hypermedia link resolution failed: none of the configured actors were able to resolve links from metadata"}),new(s(12740)).MediatorRace({name:"urn:comunica:default:rdf-resolve-hypermedia-links/mediators#main",bus:S})),_e=(new(s(85916)).ActorRdfResolveHypermediaLinksQueueFifo({name:"urn:comunica:default:rdf-resolve-hypermedia-links-queue/actors#fifo",bus:x,busFailMessage:"Link queue creation failed: none of the configured actors were able to create a link queue starting from ${action.firstUrl}"}),new(s(12740)).MediatorRace({name:"urn:comunica:default:rdf-resolve-hypermedia-links-queue/mediators#main",bus:x})),we=(new(s(42274)).ActorRdfSerializeN3({mediaTypePriorities:{"application/n-quads":1,"application/n-triples":.8,"application/trig":.95,"text/n3":.35,"text/turtle":.6},mediaTypeFormats:{"application/n-quads":"http://www.w3.org/ns/formats/N-Quads","application/n-triples":"http://www.w3.org/ns/formats/N-Triples","application/trig":"http://www.w3.org/ns/formats/TriG","text/n3":"http://www.w3.org/ns/formats/N3","text/turtle":"http://www.w3.org/ns/formats/Turtle"},name:"urn:comunica:default:rdf-serialize/actors#n3",bus:T,busFailMessage:"RDF serialization failed: none of the configured serializers were able to handle media type ${action.handleMediaType}"}),new(s(61515)).ActorRdfSerializeJsonLd({jsonStringifyIndentSpaces:2,mediaTypePriorities:{"application/ld+json":1},mediaTypeFormats:{"application/ld+json":"http://www.w3.org/ns/formats/JSON-LD"},priorityScale:.9,name:"urn:comunica:default:rdf-serialize/actors#jsonld",bus:T,busFailMessage:"RDF serialization failed: none of the configured serializers were able to handle media type ${action.handleMediaType}"}),new(s(98371)).ActorRdfSerializeShaclc({mediaTypePriorities:{"text/shaclc":1,"text/shaclc-ext":.5},mediaTypeFormats:{"text/shaclc":"http://www.w3.org/ns/formats/Shaclc","text/shaclc-ext":"http://www.w3.org/ns/formats/ShaclcExtended"},priorityScale:.1,name:"urn:comunica:default:rdf-serialize/actors#shaclc",bus:T,busFailMessage:"RDF serialization failed: none of the configured serializers were able to handle media type ${action.handleMediaType}"}),new(s(12740)).MediatorRace({name:"urn:comunica:default:rdf-serialize/mediators#serialize",bus:T})),Pe=new(s(54560)).MediatorCombineUnion({field:"mediaTypes",name:"urn:comunica:default:rdf-serialize/mediators#mediaType",bus:T}),je=new(s(54560)).MediatorCombineUnion({field:"mediaTypeFormats",name:"urn:comunica:default:rdf-serialize/mediators#mediaTypeFormat",bus:T}),Ie=new(s(12740)).MediatorRace({name:"urn:comunica:default:rdf-update-hypermedia/mediators#main",bus:O}),ue=(new(s(53550)).ActorRdfUpdateQuadsRdfJsStore({name:"urn:comunica:default:rdf-update-quads/actors#rdfjs-store",bus:E,busFailMessage:"RDF updating failed: none of the configured actors were able to handle an update"}),new(s(12740)).MediatorRace({name:"urn:comunica:default:rdf-update-quads/mediators#main",bus:E})),ge=new(s(12740)).MediatorRace({name:"urn:comunica:default:bindings-aggregator-factory/mediators#main",bus:R}),Me=new(s(12740)).MediatorRace({name:"urn:comunica:default:expression-evaluator-factory/mediators#main",bus:M}),qe=(new(s(52598)).ActorFunctionFactoryExpressionBnode({name:"urn:comunica:default:function-factory/actors#expression-function-bnode",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(19856)).ActorFunctionFactoryExpressionBound({name:"urn:comunica:default:function-factory/actors#expression-function-bound",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(4475)).ActorFunctionFactoryExpressionCoalesce({name:"urn:comunica:default:function-factory/actors#expression-function-coalesce",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(85312)).ActorFunctionFactoryExpressionConcat({name:"urn:comunica:default:function-factory/actors#expression-function-concat",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(66478)).ActorFunctionFactoryExpressionExtensions({name:"urn:comunica:default:function-factory/actors#expression-function-extensions",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(40767)).ActorFunctionFactoryExpressionIf({name:"urn:comunica:default:function-factory/actors#expression-function-if",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(12067)).ActorFunctionFactoryExpressionLogicalAnd({name:"urn:comunica:default:function-factory/actors#expression-function-logical-and",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(1223)).ActorFunctionFactoryExpressionLogicalOr({name:"urn:comunica:default:function-factory/actors#expression-function-logical-or",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(14579)).ActorFunctionFactoryExpressionSameTerm({name:"urn:comunica:default:function-factory/actors#expression-function-same-term",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(59812)).ActorFunctionFactoryTermAbs({name:"urn:comunica:default:function-factory/actors#term-function-abs",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(91172)).ActorFunctionFactoryTermAddition({name:"urn:comunica:default:function-factory/actors#term-function-addition",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(30953)).ActorFunctionFactoryTermCeil({name:"urn:comunica:default:function-factory/actors#term-function-ceil",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(72945)).ActorFunctionFactoryTermContains({name:"urn:comunica:default:function-factory/actors#term-function-contains",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(24700)).ActorFunctionFactoryTermDatatype({name:"urn:comunica:default:function-factory/actors#term-function-datatype",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(99778)).ActorFunctionFactoryTermDay({name:"urn:comunica:default:function-factory/actors#term-function-day",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(61103)).ActorFunctionFactoryTermDivision({name:"urn:comunica:default:function-factory/actors#term-function-division",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(30971)).ActorFunctionFactoryTermEncodeForUri({name:"urn:comunica:default:function-factory/actors#term-function-encode-for-uri",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(61688)).ActorFunctionFactoryTermEquality({name:"urn:comunica:default:function-factory/actors#term-function-equality",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(56718)).ActorFunctionFactoryTermFloor({name:"urn:comunica:default:function-factory/actors#term-function-floor",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(54531)).ActorFunctionFactoryTermHours({name:"urn:comunica:default:function-factory/actors#term-function-hours",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(16686)).ActorFunctionFactoryTermIri({name:"urn:comunica:default:function-factory/actors#term-function-iri",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(92959)).ActorFunctionFactoryTermIsBlank({name:"urn:comunica:default:function-factory/actors#term-function-is-blank",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(11767)).ActorFunctionFactoryTermIsIri({name:"urn:comunica:default:function-factory/actors#term-function-is-iri",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(30254)).ActorFunctionFactoryTermIsLiteral({name:"urn:comunica:default:function-factory/actors#term-function-is-literal",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(6082)).ActorFunctionFactoryTermIsNumeric({name:"urn:comunica:default:function-factory/actors#term-function-is-numeric",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(61151)).ActorFunctionFactoryTermIsTriple({name:"urn:comunica:default:function-factory/actors#term-function-is-triple",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(33032)).ActorFunctionFactoryTermLang({name:"urn:comunica:default:function-factory/actors#term-function-lang",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(15769)).ActorFunctionFactoryTermLangmatches({name:"urn:comunica:default:function-factory/actors#term-function-langmatches",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(22460)).ActorFunctionFactoryTermLcase({name:"urn:comunica:default:function-factory/actors#term-function-lcase",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(12744)).ActorFunctionFactoryTermMd5({name:"urn:comunica:default:function-factory/actors#term-function-md5",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(24713)).ActorFunctionFactoryTermMinutes({name:"urn:comunica:default:function-factory/actors#term-function-minutes",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(32310)).ActorFunctionFactoryTermMonth({name:"urn:comunica:default:function-factory/actors#term-function-month",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(23610)).ActorFunctionFactoryTermMultiplication({name:"urn:comunica:default:function-factory/actors#term-function-multiplication",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(52505)).ActorFunctionFactoryTermNot({name:"urn:comunica:default:function-factory/actors#term-function-not",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(20379)).ActorFunctionFactoryTermObject({name:"urn:comunica:default:function-factory/actors#term-function-object",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(69636)).ActorFunctionFactoryTermNow({name:"urn:comunica:default:function-factory/actors#term-function-now",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(68545)).ActorFunctionFactoryTermPredicate({name:"urn:comunica:default:function-factory/actors#term-function-predicate",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(86155)).ActorFunctionFactoryTermRand({name:"urn:comunica:default:function-factory/actors#term-function-rand",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(52452)).ActorFunctionFactoryTermReplace({name:"urn:comunica:default:function-factory/actors#term-function-replace",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(98811)).ActorFunctionFactoryTermRegex({name:"urn:comunica:default:function-factory/actors#term-function-regex",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(80748)).ActorFunctionFactoryTermRound({name:"urn:comunica:default:function-factory/actors#term-function-round",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(9941)).ActorFunctionFactoryTermSeconds({name:"urn:comunica:default:function-factory/actors#term-function-seconds",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(45845)).ActorFunctionFactoryTermSha1({name:"urn:comunica:default:function-factory/actors#term-function-sha1",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(77267)).ActorFunctionFactoryTermSha256({name:"urn:comunica:default:function-factory/actors#term-function-sha256",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(96447)).ActorFunctionFactoryTermSha384({name:"urn:comunica:default:function-factory/actors#term-function-sha384",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(24742)).ActorFunctionFactoryTermSha512({name:"urn:comunica:default:function-factory/actors#term-function-sha512",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(30912)).ActorFunctionFactoryTermStrAfter({name:"urn:comunica:default:function-factory/actors#term-function-str-after",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(60649)).ActorFunctionFactoryTermStrBefore({name:"urn:comunica:default:function-factory/actors#term-function-str-before",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(93734)).ActorFunctionFactoryTermStrDt({name:"urn:comunica:default:function-factory/actors#term-function-str-dt",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(49060)).ActorFunctionFactoryTermStrEnds({name:"urn:comunica:default:function-factory/actors#term-function-str-ends",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(20554)).ActorFunctionFactoryTermStrLang({name:"urn:comunica:default:function-factory/actors#term-function-str-lang",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(27869)).ActorFunctionFactoryTermStrLen({name:"urn:comunica:default:function-factory/actors#term-function-str-len",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(94379)).ActorFunctionFactoryTermStrStarts({name:"urn:comunica:default:function-factory/actors#term-function-str-starts",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(53417)).ActorFunctionFactoryTermStrUuid({name:"urn:comunica:default:function-factory/actors#term-function-str-uuid",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(28699)).ActorFunctionFactoryTermStr({name:"urn:comunica:default:function-factory/actors#term-function-str",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(96404)).ActorFunctionFactoryTermSubStr({name:"urn:comunica:default:function-factory/actors#term-function-sub-str",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(51060)).ActorFunctionFactoryTermSubject({name:"urn:comunica:default:function-factory/actors#term-function-subject",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(55010)).ActorFunctionFactoryTermSubtraction({name:"urn:comunica:default:function-factory/actors#term-function-subtraction",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(4535)).ActorFunctionFactoryTermTimezone({name:"urn:comunica:default:function-factory/actors#term-function-timezone",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(31348)).ActorFunctionFactoryTermTriple({name:"urn:comunica:default:function-factory/actors#term-function-triple",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(4898)).ActorFunctionFactoryTermTz({name:"urn:comunica:default:function-factory/actors#term-function-tz",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(55711)).ActorFunctionFactoryTermUcase({name:"urn:comunica:default:function-factory/actors#term-function-ucase",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(67186)).ActorFunctionFactoryTermUnaryMinus({name:"urn:comunica:default:function-factory/actors#term-function-unary-minus",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(2479)).ActorFunctionFactoryTermUuid({name:"urn:comunica:default:function-factory/actors#term-function-uuid",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(2810)).ActorFunctionFactoryTermUnaryPlus({name:"urn:comunica:default:function-factory/actors#term-function-unary-plus",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(11554)).ActorFunctionFactoryTermXsdToBoolean({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-boolean",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(43406)).ActorFunctionFactoryTermXsdToDate({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-date",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(4523)).ActorFunctionFactoryTermXsdToDatetime({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-datetime",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(69721)).ActorFunctionFactoryTermXsdToDayTimeDuration({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-day-time-duration",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(25033)).ActorFunctionFactoryTermXsdToDecimal({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-decimal",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(99507)).ActorFunctionFactoryTermXsdToDouble({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-double",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(48758)).ActorFunctionFactoryTermXsdToDuration({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-duration",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(64068)).ActorFunctionFactoryTermXsdToFloat({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-float",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(8096)).ActorFunctionFactoryTermXsdToInteger({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-integer",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(91799)).ActorFunctionFactoryTermXsdToString({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-string",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(18895)).ActorFunctionFactoryTermXsdToTime({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-time",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(26143)).ActorFunctionFactoryTermXsdToYearMonthDuration({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-year-month-duration",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(22361)).ActorFunctionFactoryTermYear({name:"urn:comunica:default:function-factory/actors#term-function-year",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(12740)).MediatorRace({name:"urn:comunica:default:function-factory/mediators#main",bus:Q})),Be=new(s(90178)).ActorHttpFetch({agentOptions:{keepAlive:!0,maxSockets:5},name:"urn:comunica:default:http/actors#fetch",bus:X,busFailMessage:"HTTP request failed: none of the configured actors were able to handle ${action.input}"}),He=new(s(31588)).MediatorNumber({field:"time",type:"min",ignoreFailures:!0,name:"urn:comunica:default:http/mediators#no-fallback",bus:X}),Ae=new(s(31588)).MediatorNumber({field:"time",type:"min",ignoreFailures:!0,name:"urn:comunica:default:http/mediators#main",bus:V}),Te=(new(s(48169)).ActorQueryOperationSource({name:"urn:comunica:default:query-operation/actors#source",bus:H,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(s(31588)).MediatorNumber({field:"httpRequests",type:"min",ignoreFailures:!0,name:"urn:comunica:default:query-operation/mediators#main",bus:H})),Ke=new(s(12740)).MediatorRace({name:"urn:comunica:default:query-process/mediators#main",bus:U}),it=new(s(12740)).MediatorRace({name:"urn:comunica:default:query-source-identify/mediators#main",bus:k}),st=new(s(47633)).MediatorJoinCoefficientsFixed({cpuWeight:10,memoryWeight:1,timeWeight:2,ioWeight:10,name:"urn:comunica:default:rdf-join/mediators#main",bus:$}),rt=new(s(12740)).MediatorRace({name:"urn:comunica:default:term-comparator-factory/mediators#main",bus:ae}),pt=new(s(40332)).ActorHttpInvalidateListenable({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-context-preprocess-query-source-identify/^4.0.0/components/ActorContextPreprocessQuerySourceIdentify.jsonld#IActorContextPreprocessQuerySourceIdentifyArgs_default_invalidator",bus:he,busFailMessage:"HTTP invalidation failed: none of the configured actors were able to invalidate ${action.url}"}),mt=new(s(60504)).MediatorAll({name:"urn:comunica:default:http-invalidate/mediators#main",bus:he}),at=new(s(40332)).ActorHttpInvalidateListenable({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-rdf-update-quads-hypermedia/^4.0.0/components/ActorRdfUpdateQuadsHypermedia.jsonld#IActorRdfUpdateQuadsHypermediaArgs_default_invalidator",bus:he,busFailMessage:"HTTP invalidation failed: none of the configured actors were able to invalidate ${action.url}"}),Ne=new(s(40332)).ActorHttpInvalidateListenable({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-http-retry/^4.0.0/components/ActorHttpRetry.jsonld#IActorHttpQueueArgs_default_invalidator",bus:he,busFailMessage:"HTTP invalidation failed: none of the configured actors were able to invalidate ${action.url}"}),F=new(s(40332)).ActorHttpInvalidateListenable({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-query-operation-service/^4.0.0/components/ActorQueryOperationService.jsonld#IActorQueryOperationServiceArgs_default_invalidator",bus:he,busFailMessage:"HTTP invalidation failed: none of the configured actors were able to invalidate ${action.url}"}),Y=new(s(40332)).ActorHttpInvalidateListenable({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-query-result-serialize-sparql-json/^4.0.0/components/ActionObserverHttp.jsonld#IActionObserverHttpArgs_default_invalidator",bus:he,busFailMessage:"HTTP invalidation failed: none of the configured actors were able to invalidate ${action.url}"}),ee=new(s(40332)).ActorHttpInvalidateListenable({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-query-result-serialize-stats/^4.0.0/components/ActionObserverHttp.jsonld#IActionObserverHttpArgs_default_invalidator",bus:he,busFailMessage:"HTTP invalidation failed: none of the configured actors were able to invalidate ${action.url}"}),pe=new(s(54560)).MediatorCombineUnion({field:"mergeHandlers",name:"urn:comunica:default:merge-bindings-context/mediators#main",bus:ye}),Re=(new(s(71924)).ActorRdfJoinSingle({mediatorJoinSelectivity:q,name:"urn:comunica:default:rdf-join/actors#inner-single",bus:$,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(s(25445)).ActorRdfJoinMultiEmpty({mediatorJoinSelectivity:q,name:"urn:comunica:default:rdf-join/actors#inner-multi-empty",bus:$,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(s(96848)).ActorRdfJoinHash({mediatorHashBindings:P,canHandleUndefs:!1,mediatorJoinSelectivity:q,name:"urn:comunica:default:rdf-join/actors#inner-hash-def",bus:$,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"})),Fe=new(s(96848)).ActorRdfJoinHash({mediatorHashBindings:P,canHandleUndefs:!0,mediatorJoinSelectivity:q,name:"urn:comunica:default:rdf-join/actors#inner-hash-undef",bus:$,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),Ee=new(s(96835)).ActorRdfJoinSymmetricHash({mediatorHashBindings:P,mediatorJoinSelectivity:q,name:"urn:comunica:default:rdf-join/actors#inner-symmetric-hash",bus:$,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),De=new(s(36229)).ActorRdfJoinNestedLoop({mediatorJoinSelectivity:q,name:"urn:comunica:default:rdf-join/actors#inner-nested-loop",bus:$,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),Ue=(new(s(42004)).ActorRdfJoinMinusHash({canHandleUndefs:!1,mediatorJoinSelectivity:q,name:"urn:comunica:default:rdf-join/actors#minus-hash-def",bus:$,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(s(42004)).ActorRdfJoinMinusHash({canHandleUndefs:!0,mediatorJoinSelectivity:q,name:"urn:comunica:default:rdf-join/actors#minus-hash-undef",bus:$,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(s(60146)).ActorRdfJoinOptionalHash({canHandleUndefs:!1,blocking:!1,mediatorJoinSelectivity:q,name:"urn:comunica:default:rdf-join/actors#optional-hash-def-nonblocking",bus:$,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(s(60146)).ActorRdfJoinOptionalHash({canHandleUndefs:!1,blocking:!0,mediatorJoinSelectivity:q,name:"urn:comunica:default:rdf-join/actors#optional-hash-def-blocking",bus:$,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(s(60146)).ActorRdfJoinOptionalHash({canHandleUndefs:!0,blocking:!1,mediatorJoinSelectivity:q,name:"urn:comunica:default:rdf-join/actors#optional-hash-undef-nonblocking",bus:$,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(s(60146)).ActorRdfJoinOptionalHash({canHandleUndefs:!0,blocking:!0,mediatorJoinSelectivity:q,name:"urn:comunica:default:rdf-join/actors#optional-hash-undef-blocking",bus:$,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(s(65267)).ActorRdfJoinOptionalNestedLoop({mediatorJoinSelectivity:q,name:"urn:comunica:default:rdf-join/actors#optional-nested-loop",bus:$,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(s(11558)).ActorDereferenceRdfParse({mediatorDereference:oe,mediatorParse:ne,mediatorParseMediatypes:re,mediaMappings:{htm:"text/html",html:"text/html",json:"application/json",jsonld:"application/ld+json",n3:"text/n3",nq:"application/n-quads",nquads:"application/n-quads",nt:"application/n-triples",ntriples:"application/n-triples",owl:"application/rdf+xml",rdf:"application/rdf+xml",rdfxml:"application/rdf+xml",shaclc:"text/shaclc",shaclce:"text/shaclc-ext",shc:"text/shaclc",shce:"text/shaclc-ext",svg:"image/svg+xml",svgz:"image/svg+xml",trig:"application/trig",ttl:"text/turtle",turtle:"text/turtle",xht:"application/xhtml+xml",xhtml:"application/xhtml+xml",xml:"application/xml"},name:"urn:comunica:default:dereference-rdf/actors#parse",bus:f,busFailMessage:"RDF dereferencing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),new(s(38505)).ActorRdfParseHtmlScript({mediatorRdfParseMediatypes:re,mediatorRdfParseHandle:ne,name:"urn:comunica:default:rdf-parse-html/actors#script",bus:w,busFailMessage:"RDF HTML parsing failed: none of the configured parsers were able to parse RDF in HTML"}),new(s(33275)).ActorQueryResultSerializeRdf({mediatorRdfSerialize:we,mediatorMediaTypeCombiner:Pe,mediatorMediaTypeFormatCombiner:je,name:"urn:comunica:default:query-result-serialize/actors#rdf",bus:l,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"}),new(s(2236)).ActorBindingsAggregatorFactoryCount({mediatorExpressionEvaluatorFactory:Me,name:"urn:comunica:default:bindings-aggregator-factory/actors#count",bus:R,busFailMessage:"Creation of Aggregator failed: none of the configured actors were able to handle ${action.expr.aggregator}"}),new(s(37779)).ActorBindingsAggregatorFactoryGroupConcat({mediatorExpressionEvaluatorFactory:Me,name:"urn:comunica:default:bindings-aggregator-factory/actors#group-concat",bus:R,busFailMessage:"Creation of Aggregator failed: none of the configured actors were able to handle ${action.expr.aggregator}"}),new(s(71271)).ActorBindingsAggregatorFactorySample({mediatorExpressionEvaluatorFactory:Me,name:"urn:comunica:default:bindings-aggregator-factory/actors#sample",bus:R,busFailMessage:"Creation of Aggregator failed: none of the configured actors were able to handle ${action.expr.aggregator}"}),new(s(20489)).ActorBindingsAggregatorFactoryWildcardCount({mediatorExpressionEvaluatorFactory:Me,name:"urn:comunica:default:bindings-aggregator-factory/actors#wildcard-count",bus:R,busFailMessage:"Creation of Aggregator failed: none of the configured actors were able to handle ${action.expr.aggregator}"}),new(s(17352)).ActorBindingsAggregatorFactoryAverage({mediatorFunctionFactory:qe,mediatorExpressionEvaluatorFactory:Me,name:"urn:comunica:default:bindings-aggregator-factory/actors#average",bus:R,busFailMessage:"Creation of Aggregator failed: none of the configured actors were able to handle ${action.expr.aggregator}"}),new(s(26568)).ActorBindingsAggregatorFactorySum({mediatorFunctionFactory:qe,mediatorExpressionEvaluatorFactory:Me,name:"urn:comunica:default:bindings-aggregator-factory/actors#sum",bus:R,busFailMessage:"Creation of Aggregator failed: none of the configured actors were able to handle ${action.expr.aggregator}"}),new(s(94311)).ActorFunctionFactoryExpressionIn({mediatorFunctionFactory:qe,name:"urn:comunica:default:function-factory/actors#expression-function-in",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(63067)).ActorFunctionFactoryExpressionNotIn({mediatorFunctionFactory:qe,name:"urn:comunica:default:function-factory/actors#expression-function-not-in",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(8711)).ActorFunctionFactoryTermGreaterThanEqual({mediatorFunctionFactory:qe,name:"urn:comunica:default:function-factory/actors#term-function-greater-than-equal",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(31038)).ActorFunctionFactoryTermGreaterThan({mediatorFunctionFactory:qe,name:"urn:comunica:default:function-factory/actors#term-function-greater-than",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(76695)).ActorFunctionFactoryTermInequality({mediatorFunctionFactory:qe,name:"urn:comunica:default:function-factory/actors#term-function-inequality",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(38507)).ActorFunctionFactoryTermLesserThanEqual({mediatorFunctionFactory:qe,name:"urn:comunica:default:function-factory/actors#term-function-lesser-than-equal",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(95426)).ActorFunctionFactoryTermLesserThan({mediatorFunctionFactory:qe,name:"urn:comunica:default:function-factory/actors#term-function-lesser-than",bus:Q,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(23794)).ActorHttpWayback({mediatorHttp:He,name:"urn:comunica:default:http/actors#wayback",bus:V,busFailMessage:"HTTP request failed: none of the configured actors were able to handle ${action.input}"}),new(s(81108)).ActorRdfParseJsonLd({mediatorHttp:Ae,mediaTypePriorities:{"application/json":.15,"application/ld+json":1},mediaTypeFormats:{"application/json":"http://www.w3.org/ns/formats/JSON-LD","application/ld+json":"http://www.w3.org/ns/formats/JSON-LD"},priorityScale:.9,name:"urn:comunica:default:rdf-parse/actors#jsonld",bus:_,busFailMessage:"RDF parsing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),new(s(45109)).ActorRdfUpdateHypermediaPatchSparqlUpdate({mediatorHttp:Ae,name:"urn:comunica:default:rdf-update-hypermedia/actors#patch-sparql-update",bus:O,busFailMessage:"RDF hypermedia updating failed: none of the configured actors were able to handle an update for ${action.url}"}),new(s(41363)).ActorRdfUpdateHypermediaPutLdp({mediatorHttp:Ae,mediatorRdfSerializeMediatypes:Pe,mediatorRdfSerialize:we,name:"urn:comunica:default:rdf-update-hypermedia/actors#put-ldp",bus:O,busFailMessage:"RDF hypermedia updating failed: none of the configured actors were able to handle an update for ${action.url}"}),new(s(50632)).ActorRdfUpdateHypermediaSparql({mediatorHttp:Ae,checkUrlSuffixSparql:!0,checkUrlSuffixUpdate:!0,name:"urn:comunica:default:rdf-update-hypermedia/actors#sparql",bus:O,busFailMessage:"RDF hypermedia updating failed: none of the configured actors were able to handle an update for ${action.url}"}),new(s(16682)).ActorQueryOperationAsk({mediatorQueryOperation:Te,name:"urn:comunica:default:query-operation/actors#ask",bus:H,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(s(38820)).ActorQueryOperationBgpJoin({mediatorQueryOperation:Te,name:"urn:comunica:default:query-operation/actors#bgp",bus:H,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(s(34585)).ActorQueryOperationConstruct({mediatorQueryOperation:Te,name:"urn:comunica:default:query-operation/actors#construct",bus:H,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(s(24615)).ActorQueryOperationDistinctHash({mediatorHashBindings:P,mediatorHashQuads:L,mediatorQueryOperation:Te,name:"urn:comunica:default:query-operation/actors#distinct",bus:H,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(s(12304)).ActorQueryOperationExtend({mediatorExpressionEvaluatorFactory:Me,mediatorQueryOperation:Te,name:"urn:comunica:default:query-operation/actors#extend",bus:H,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(s(68350)).ActorQueryOperationFilter({mediatorExpressionEvaluatorFactory:Me,mediatorQueryOperation:Te,name:"urn:comunica:default:query-operation/actors#filter",bus:H,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(s(22744)).ActorQueryOperationFromQuad({mediatorQueryOperation:Te,name:"urn:comunica:default:query-operation/actors#from",bus:H,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(s(99817)).ActorQueryOperationProject({mediatorQueryOperation:Te,name:"urn:comunica:default:query-operation/actors#project",bus:H,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(s(66713)).ActorQueryOperationReducedHash({mediatorHashBindings:P,cacheSize:100,mediatorQueryOperation:Te,name:"urn:comunica:default:query-operation/actors#reduced",bus:H,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(s(24718)).ActorQueryOperationSlice({mediatorQueryOperation:Te,name:"urn:comunica:default:query-operation/actors#slice",bus:H,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(s(43415)).ActorQueryOperationUnion({mediatorRdfMetadataAccumulate:B,mediatorQueryOperation:Te,name:"urn:comunica:default:query-operation/actors#union",bus:H,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(s(35529)).ActorQueryOperationPathAlt({mediatorRdfMetadataAccumulate:B,mediatorQueryOperation:Te,name:"urn:comunica:default:query-operation/actors#path-alt",bus:H,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(s(6809)).ActorQueryOperationPathInv({mediatorQueryOperation:Te,name:"urn:comunica:default:query-operation/actors#path-inv",bus:H,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(s(66218)).ActorQueryOperationPathLink({mediatorQueryOperation:Te,name:"urn:comunica:default:query-operation/actors#path-link",bus:H,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(s(54309)).ActorQueryOperationPathNps({mediatorQueryOperation:Te,name:"urn:comunica:default:query-operation/actors#path-nps",bus:H,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(s(84629)).ActorQueryOperationClear({mediatorUpdateQuads:ue,mediatorQueryOperation:Te,name:"urn:comunica:default:query-operation/actors#update-clear",bus:H,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(s(330)).ActorQueryOperationUpdateCompositeUpdate({mediatorQueryOperation:Te,name:"urn:comunica:default:query-operation/actors#update-composite",bus:H,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(s(54672)).ActorQueryOperationCreate({mediatorUpdateQuads:ue,mediatorQueryOperation:Te,name:"urn:comunica:default:query-operation/actors#update-create",bus:H,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(s(33181)).ActorQueryOperationDrop({mediatorUpdateQuads:ue,mediatorQueryOperation:Te,name:"urn:comunica:default:query-operation/actors#update-drop",bus:H,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(s(38392)).ActorQueryOperationLoad({mediatorUpdateQuads:ue,mediatorQuerySourceIdentify:it,mediatorQueryOperation:Te,name:"urn:comunica:default:query-operation/actors#update-load",bus:H,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(s(20240)).ActorQueryOperationJoin({mediatorJoin:st,mediatorQueryOperation:Te,name:"urn:comunica:default:query-operation/actors#join",bus:H,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(s(75113)).ActorQueryOperationLeftJoin({mediatorJoin:st,mediatorQueryOperation:Te,name:"urn:comunica:default:query-operation/actors#leftjoin",bus:H,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(s(48952)).ActorQueryOperationMinus({mediatorJoin:st,mediatorQueryOperation:Te,name:"urn:comunica:default:query-operation/actors#minus",bus:H,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(s(75049)).ActorQueryOperationPathSeq({mediatorJoin:st,mediatorQueryOperation:Te,name:"urn:comunica:default:query-operation/actors#path-seq",bus:H,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(s(25925)).ActorRdfJoinMultiSmallest({mediatorJoinEntriesSort:xe,mediatorJoin:st,mediatorJoinSelectivity:q,name:"urn:comunica:default:rdf-join/actors#inner-multi-smallest",bus:$,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"})),Ve=(new(s(51237)).ActorBindingsAggregatorFactoryMax({mediatorTermComparatorFactory:rt,mediatorExpressionEvaluatorFactory:Me,name:"urn:comunica:default:bindings-aggregator-factory/actors#max",bus:R,busFailMessage:"Creation of Aggregator failed: none of the configured actors were able to handle ${action.expr.aggregator}"}),new(s(13847)).ActorBindingsAggregatorFactoryMin({mediatorTermComparatorFactory:rt,mediatorExpressionEvaluatorFactory:Me,name:"urn:comunica:default:bindings-aggregator-factory/actors#min",bus:R,busFailMessage:"Creation of Aggregator failed: none of the configured actors were able to handle ${action.expr.aggregator}"}),new(s(73945)).ActorQueryOperationOrderBy({mediatorExpressionEvaluatorFactory:Me,mediatorTermComparatorFactory:rt,mediatorQueryOperation:Te,name:"urn:comunica:default:query-operation/actors#orderby",bus:H,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(s(62001)).ActorOptimizeQueryOperationFilterPushdown({aggressivePushdown:!1,maxIterations:10,splitConjunctive:!0,mergeConjunctive:!0,pushIntoLeftJoins:!0,pushEqualityIntoPatterns:!0,name:"urn:comunica:default:optimize-query-operation/actors#filter-pushdown",bus:t,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize",beforeActors:[G]})),Ge=(new(s(78e3)).ActorDereferenceHttp({mediatorHttp:Ae,maxAcceptHeaderLength:1024,maxAcceptHeaderLengthBrowser:128,name:"urn:comunica:default:dereference/actors#http",bus:p,busFailMessage:"Dereferencing failed: none of the configured actors were able to handle ${action.url}",beforeActors:[me]}),new(s(75050)).ActorHttpProxy({mediatorHttp:Ae,name:"urn:comunica:default:http/actors#proxy",bus:X,busFailMessage:"HTTP request failed: none of the configured actors were able to handle ${action.input}",beforeActors:[Be]})),Ze=(new(s(38235)).ActorContextPreprocessQuerySourceIdentify({cacheSize:100,httpInvalidator:pt,mediatorQuerySourceIdentify:it,mediatorContextPreprocess:j,name:"urn:comunica:default:context-preprocess/actors#query-source-identify",bus:i,busFailMessage:"Context preprocessing failed",beforeActors:[I]}),new(s(12301)).ActorInitQuery({mediatorQueryProcess:Ke,mediatorQueryResultSerialize:ce,mediatorQueryResultSerializeMediaTypeCombiner:de,mediatorQueryResultSerializeMediaTypeFormatCombiner:Se,mediatorHttpInvalidate:mt,defaultQueryInputFormat:"sparql",allowNoSources:!1,name:"urn:comunica:default:init/actors#query",bus:u,busFailMessage:"Initialization failed: none of the configured actors were to initialize"})),$e=(new(s(12845)).ActorRdfUpdateQuadsHypermedia({cacheSize:100,httpInvalidator:at,mediatorDereferenceRdf:ve,mediatorMetadata:N,mediatorMetadataExtract:J,mediatorRdfUpdateHypermedia:Ie,name:"urn:comunica:default:rdf-update-quads/actors#hypermedia",bus:E,busFailMessage:"RDF updating failed: none of the configured actors were able to handle an update"}),new(s(13125)).ActionObserverHttp({httpInvalidator:Y,observedActors:["urn:comunica:default:http/actors#fetch"],name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-query-result-serialize-sparql-json/^4.0.0/components/ActorQueryResultSerializeSparqlJson.jsonld#ActorQueryResultSerializeSparqlJson_default_observer",bus:X})),ze=new(s(93408)).ActionObserverHttp({httpInvalidator:ee,observedActors:["urn:comunica:default:http/actors#fetch"],name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-query-result-serialize-stats/^4.0.0/components/ActorQueryResultSerializeStats.jsonld#ActorQueryResultSerializeStats_default_observer",bus:X}),ot=(new(s(63881)).ActorQuerySourceIdentifyHypermediaQpf({mediatorMetadata:N,mediatorMetadataExtract:J,mediatorDereferenceRdf:ve,mediatorMergeBindingsContext:pe,subjectUri:"http://www.w3.org/1999/02/22-rdf-syntax-ns#subject",predicateUri:"http://www.w3.org/1999/02/22-rdf-syntax-ns#predicate",objectUri:"http://www.w3.org/1999/02/22-rdf-syntax-ns#object",graphUri:"http://www.w3.org/ns/sparql-service-description#graph",name:"urn:comunica:default:query-source-identify-hypermedia/actors#qpf",bus:d,busFailMessage:"Query source hypermedia identification failed: none of the configured actors were able to identify ${action.url}"}),new(s(83101)).ActorQuerySourceIdentifyHypermediaSparql({mediatorHttp:Ae,mediatorMergeBindingsContext:pe,checkUrlSuffix:!0,forceHttpGet:!1,cacheSize:1024,forceSourceType:!1,bindMethod:"values",countTimeout:3e3,cardinalityCountQueries:!0,cardinalityEstimateConstruction:!1,forceGetIfUrlLengthBelow:600,name:"urn:comunica:default:rdf-resolve-quad-pattern/actors#sparql",bus:d,busFailMessage:"Query source hypermedia identification failed: none of the configured actors were able to identify ${action.url}"}),new(s(74838)).ActorQuerySourceIdentifyHypermediaNone({mediatorMergeBindingsContext:pe,name:"urn:comunica:default:query-source-identify-hypermedia/actors#none",bus:d,busFailMessage:"Query source hypermedia identification failed: none of the configured actors were able to identify ${action.url}"}),new(s(54645)).ActorQuerySourceIdentifyHypermediaPassage({mediatorQueryProcess:Ke,mediatorHttp:Ae,mediatorMergeBindingsContext:pe,checkUrlSuffix:!0,forceHttpGet:!1,cacheSize:1024,bindMethod:"values",countTimeout:3e3,name:"urn:passage:default:query-source-identify-hypermedia/actors#passage",bus:d,busFailMessage:"Query source hypermedia identification failed: none of the configured actors were able to identify ${action.url}"}),new(s(36235)).ActorQuerySourceIdentifyHypermediaRaw({mediatorHttp:Ae,mediatorMergeBindingsContext:pe,checkUrlSuffix:!0,forceHttpGet:!1,cacheSize:1024,bindMethod:"values",countTimeout:3e3,name:"urn:passage:default:query-source-identify-hypermedia/actors#raw",bus:d,busFailMessage:"Query source hypermedia identification failed: none of the configured actors were able to identify ${action.url}"}),new(s(76810)).ActorExpressionEvaluatorFactoryDefault({mediatorQueryOperation:Te,mediatorFunctionFactory:qe,mediatorMergeBindingsContext:pe,name:"urn:comunica:default:expression-evaluator-factory/actors#default",bus:M,busFailMessage:"Creation of Expression Evaluator failed"}),new(s(37515)).ActorQueryOperationGroup({mediatorMergeBindingsContext:pe,mediatorBindingsAggregatorFactory:ge,mediatorQueryOperation:Te,name:"urn:comunica:default:query-operation/actors#group",bus:H,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(s(79153)).ActorQueryOperationNop({mediatorMergeBindingsContext:pe,mediatorQueryOperation:Te,name:"urn:comunica:default:query-operation/actors#nop",bus:H,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(s(89115)).ActorQueryOperationService({forceSparqlEndpoint:!1,mediatorMergeBindingsContext:pe,mediatorQuerySourceIdentify:it,httpInvalidator:F,cacheSize:32,mediatorQueryOperation:Te,name:"urn:comunica:default:query-operation/actors#service",bus:H,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(s(65178)).ActorQueryOperationValues({mediatorMergeBindingsContext:pe,name:"urn:comunica:default:query-operation/actors#values",bus:H,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(s(23654)).ActorQueryOperationPathOneOrMore({mediatorMergeBindingsContext:pe,mediatorQueryOperation:Te,name:"urn:comunica:default:query-operation/actors#path-one-or-more",bus:H,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(s(85928)).ActorQueryOperationPathZeroOrMore({mediatorMergeBindingsContext:pe,mediatorQueryOperation:Te,name:"urn:comunica:default:query-operation/actors#path-zero-or-more",bus:H,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(s(8327)).ActorQueryOperationPathZeroOrOne({mediatorMergeBindingsContext:pe,mediatorQueryOperation:Te,name:"urn:comunica:default:query-operation/actors#path-zero-or-one",bus:H,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(s(63002)).ActorQueryOperationUpdateDeleteInsert({mediatorUpdateQuads:ue,mediatorMergeBindingsContext:pe,mediatorQueryOperation:Te,name:"urn:comunica:default:query-operation/actors#update-delete-insert",bus:H,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(s(33163)).ActorQueryProcessSequentialRecursive({mediatorContextPreprocess:j,mediatorQueryParse:W,mediatorOptimizeQueryOperation:te,mediatorQueryOperation:Te,mediatorMergeBindingsContext:pe,name:"urn:comunica:default:query-process/actors#sequential",bus:U,busFailMessage:'Query processing failed: none of the configured actor were process to the query "${action.query}"'})),ht=new(s(79881)).ActorQuerySourceIdentifyHypermedia({cacheSize:100,maxIterators:64,aggregateTraversalStore:!0,emitPartialCardinalities:!1,mediatorDereferenceRdf:ve,mediatorMetadata:N,mediatorMetadataExtract:J,mediatorMetadataAccumulate:B,mediatorQuerySourceIdentifyHypermedia:ie,mediatorRdfResolveHypermediaLinks:fe,mediatorRdfResolveHypermediaLinksQueue:_e,mediatorMergeBindingsContext:pe,name:"urn:comunica:default:query-source-identify/actors#hypermedia",bus:k,busFailMessage:"Query source identification failed: none of the configured actors were able to identify ${action.querySourceUnidentified.value}"}),Ye=(new(s(88766)).ActorRdfJoinNone({mediatorMergeBindingsContext:pe,mediatorJoinSelectivity:q,name:"urn:comunica:default:rdf-join/actors#inner-none",bus:$,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(s(97237)).ActorRdfJoinOptionalBind({bindOrder:"depth-first",selectivityModifier:1e-6,mediatorQueryOperation:Te,mediatorMergeBindingsContext:pe,mediatorJoinSelectivity:q,name:"urn:comunica:default:rdf-join/actors#optional-bind",bus:$,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(s(64468)).ActorTermComparatorFactoryExpressionEvaluator({mediatorQueryOperation:Te,mediatorFunctionFactory:qe,mediatorMergeBindingsContext:pe,name:"urn:comunica:default:term-comparator-factory/actors#expression-evaluator",bus:ae,busFailMessage:"Creation of term comparator failed"}),new(s(42815)).ActorRdfJoinMultiBind({bindOrder:"depth-first",selectivityModifier:1e-4,minMaxCardinalityRatio:60,mediatorJoinEntriesSort:xe,mediatorQueryOperation:Te,mediatorMergeBindingsContext:pe,mediatorJoinSelectivity:q,name:"urn:comunica:default:rdf-join/actors#inner-multi-bind",bus:$,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}",beforeActors:[Ue,Re,Fe,Ee,De]})),Dt=(new(s(30615)).ActorRdfJoinMultiSmallestFilterBindings({selectivityModifier:1e-4,blockSize:64,mediatorJoinEntriesSort:xe,mediatorJoin:st,mediatorJoinSelectivity:q,name:"urn:comunica:default:rdf-join/actors#inner-multi-smallest-filter-bindings",bus:$,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}",beforeActors:[Ue,Re,Fe,Ee,De]}),new(s(13125)).ActorQueryResultSerializeSparqlJson({emitMetadata:!0,httpObserver:$e,mediaTypePriorities:{"application/sparql-results+json":.8},mediaTypeFormats:{"application/sparql-results+json":"http://www.w3.org/ns/formats/SPARQL_Results_JSON"},name:"urn:comunica:default:query-result-serialize/actors#sparql-json",bus:l,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"}),new(s(93408)).ActorQueryResultSerializeStats({httpObserver:ze,mediaTypePriorities:{stats:.5},mediaTypeFormats:{stats:"https://comunica.linkeddatafragments.org/#results_stats"},name:"urn:comunica:default:query-result-serialize/actors#stats",bus:l,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"}),new(s(7779)).ActorQueryProcessExplainParsed({queryProcessor:ot,name:"urn:comunica:default:query-process/actors#explain-parsed",bus:U,busFailMessage:'Query processing failed: none of the configured actor were process to the query "${action.query}"'}),new(s(42281)).ActorQueryProcessExplainLogical({queryProcessor:ot,name:"urn:comunica:default:query-process/actors#explain-logical",bus:U,busFailMessage:'Query processing failed: none of the configured actor were process to the query "${action.query}"'}),new(s(35191)).ActorQueryProcessExplainPhysical({queryProcessor:ot,name:"urn:comunica:default:query-process/actors#explain-physical",bus:U,busFailMessage:'Query processing failed: none of the configured actor were process to the query "${action.query}"'}),new(s(94731)).ActorOptimizeQueryOperationPruneEmptySourceOperations({useAskIfSupported:!1,name:"urn:comunica:default:optimize-query-operation/actors#prune-empty-source-operations",bus:t,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize",beforeActors:[Ve]})),yt=(new(s(84600)).ActorHttpRetry({mediatorHttp:Ae,httpInvalidator:Ne,name:"urn:comunica:default:http/actors#retry",bus:X,busFailMessage:"HTTP request failed: none of the configured actors were able to handle ${action.input}",beforeActors:[Ge]}),new(s(20998)).ActorQuerySourceIdentifyRdfJs({mediatorMergeBindingsContext:pe,name:"urn:comunica:default:query-source-identify/actors#rdfjs",bus:k,busFailMessage:"Query source identification failed: none of the configured actors were able to identify ${action.querySourceUnidentified.value}",beforeActors:[ht]}),new(s(34905)).ActorQuerySourceIdentifySerialized({mediatorRdfParse:ne,mediatorQuerySourceIdentify:it,name:"urn:comunica:default:query-source-identify/actors#serialized",bus:k,busFailMessage:"Query source identification failed: none of the configured actors were able to identify ${action.querySourceUnidentified.value}",beforeActors:[ht]}),new(s(79731)).ActorRdfJoinMultiBindSource({selectivityModifier:1e-4,blockSize:16,mediatorJoinEntriesSort:xe,mediatorJoinSelectivity:q,name:"urn:comunica:default:rdf-join/actors#inner-multi-bind-source",bus:$,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}",beforeActors:[Ue,Ye,Re,Fe,Ee,De]}),new(s(5118)).ActorOptimizeQueryOperationJoinConnected({name:"urn:comunica:default:optimize-query-operation/actors#join-connected",bus:t,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize",beforeActors:[Dt]})),lt=new(s(60192)).ActorOptimizeQueryOperationBgpToJoin({name:"urn:comunica:default:optimize-query-operation/actors#bgp-to-join",bus:t,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize",beforeActors:[yt]}),dt=new(s(34304)).ActorOptimizeQueryOperationJoinBgp({name:"urn:comunica:default:optimize-query-operation/actors#join-bgp",bus:t,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize",beforeActors:[lt]}),wt=new(s(2425)).ActorOptimizeQueryOperationAssignSourcesExhaustive({name:"urn:comunica:default:optimize-query-operation/actors#assign-sources-exhaustive",bus:t,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize",beforeActors:[dt]});return new(s(31399)).ActorOptimizeQueryOperationDescribeToConstructsSubject({name:"urn:comunica:default:optimize-query-operation/actors#describe-to-constructs-subject",bus:t,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize",beforeActors:[wt]}),Ze}},64468:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(16166),e)},64826:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionMd5=void 0;const c=s(77617),o=s(77545),u=s(75735);class i extends c.TermFunctionBase{constructor(){super({arity:1,operator:o.SparqlOperator.MD5,overloads:(0,o.declare)(o.SparqlOperator.MD5).onString1Typed(()=>n=>(0,o.string)((0,u.hash)(n))).collect()})}}e.TermFunctionMd5=i},64860:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerContainer=void 0;const c=s(7986),o=s(71977),u=s(63847),i=s(47229),r=s(10888);class n{static isSimpleGraphContainer(a){return"@graph"in a&&("@set"in a&&Object.keys(a).length===2||Object.keys(a).length===1)}static isComplexGraphContainer(a){return"@graph"in a&&("@set"in a&&Object.keys(a).length>2||!("@set"in a)&&Object.keys(a).length>1)}static getContainerGraphIndex(a,l,d){let p=n.isSimpleGraphContainer(a),f="";for(let h=l;h<d.length;h++)p&&typeof d[h]!="number"||(f+=":"+d[h]),p||typeof d[h]=="number"||(p=!0);return f}static async getContainerHandler(a,l,d){const p={containers:{"@set":!0},depth:d,fallback:!0};let f=!1;const h=await a.getContext(l,2);for(let y=d-1;y>=0;y--)if(typeof l[y]!="number"){const m=r.Util.getContextValue(h,"@container",l[y],!1);if(m&&n.isSimpleGraphContainer(m))return{containers:m,depth:y+1,fallback:!1};const b=r.Util.getContextValue(h,"@container",l[y-1],!1);if(b){const v="@graph"in b;for(const _ in n.CONTAINER_HANDLERS)if(b[_])return v?n.CONTAINER_HANDLERS[_].canCombineWithGraph()?{containers:b,depth:y,fallback:!1}:p:f?p:{containers:b,depth:y,fallback:!1};return p}if(f)return p;f=!0}return p}static async isBufferableContainerHandler(a,l,d){const p=await n.getContainerHandler(a,l,d);return!p.fallback&&!("@graph"in p.containers)}isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(a,l,d,p,f){return!!await this.test(a,l,null,d,p)}async test(a,l,d,p,f){const h=r.Util.getContextValueContainer(await a.getContext(p,2),p[f-1]);for(const y in n.CONTAINER_HANDLERS)if(h[y])return{containers:h,handler:n.CONTAINER_HANDLERS[y]};return null}async handle(a,l,d,p,f,h,y){return y.handler.handle(y.containers,a,l,p,f,h)}}n.CONTAINER_HANDLERS={"@id":new c.ContainerHandlerIdentifier,"@index":new o.ContainerHandlerIndex,"@language":new u.ContainerHandlerLanguage,"@type":new i.ContainerHandlerType},e.EntryHandlerContainer=n},64900:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SparqlOperator=e.TypeURL=e.typedLiteral=e.TypeAlias=void 0;const c=s(47793);var o;(function(n){n.SPARQL_NUMERIC="SPARQL_NUMERIC",n.SPARQL_STRINGLY="SPARQL_STRINGLY"})(o||(e.TypeAlias=o={}));const u=new c.DataFactory;var i,r;e.typedLiteral=function(n,t){return u.literal(n,u.namedNode(t))},(function(n){n.XSD_ANY_URI="http://www.w3.org/2001/XMLSchema#anyURI",n.XSD_STRING="http://www.w3.org/2001/XMLSchema#string",n.RDF_LANG_STRING="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",n.XSD_BOOLEAN="http://www.w3.org/2001/XMLSchema#boolean",n.XSD_DATE_TIME="http://www.w3.org/2001/XMLSchema#dateTime",n.XSD_DATE_TIME_STAMP="http://www.w3.org/2001/XMLSchema#dateTimeStamp",n.XSD_DATE="http://www.w3.org/2001/XMLSchema#date",n.XSD_G_MONTH="http://www.w3.org/2001/XMLSchema#gMonth",n.XSD_G_MONTHDAY="http://www.w3.org/2001/XMLSchema#gMonthDay",n.XSD_G_YEAR="http://www.w3.org/2001/XMLSchema#gYear",n.XSD_G_YEAR_MONTH="http://www.w3.org/2001/XMLSchema#gYearMonth",n.XSD_TIME="http://www.w3.org/2001/XMLSchema#time",n.XSD_G_DAY="http://www.w3.org/2001/XMLSchema#gDay",n.XSD_DECIMAL="http://www.w3.org/2001/XMLSchema#decimal",n.XSD_FLOAT="http://www.w3.org/2001/XMLSchema#float",n.XSD_DOUBLE="http://www.w3.org/2001/XMLSchema#double",n.XSD_INTEGER="http://www.w3.org/2001/XMLSchema#integer",n.XSD_NON_POSITIVE_INTEGER="http://www.w3.org/2001/XMLSchema#nonPositiveInteger",n.XSD_NEGATIVE_INTEGER="http://www.w3.org/2001/XMLSchema#negativeInteger",n.XSD_LONG="http://www.w3.org/2001/XMLSchema#long",n.XSD_INT="http://www.w3.org/2001/XMLSchema#int",n.XSD_SHORT="http://www.w3.org/2001/XMLSchema#short",n.XSD_BYTE="http://www.w3.org/2001/XMLSchema#byte",n.XSD_NON_NEGATIVE_INTEGER="http://www.w3.org/2001/XMLSchema#nonNegativeInteger",n.XSD_POSITIVE_INTEGER="http://www.w3.org/2001/XMLSchema#positiveInteger",n.XSD_UNSIGNED_LONG="http://www.w3.org/2001/XMLSchema#unsignedLong",n.XSD_UNSIGNED_INT="http://www.w3.org/2001/XMLSchema#unsignedInt",n.XSD_UNSIGNED_SHORT="http://www.w3.org/2001/XMLSchema#unsignedShort",n.XSD_UNSIGNED_BYTE="http://www.w3.org/2001/XMLSchema#unsignedByte",n.XSD_NORMALIZED_STRING="http://www.w3.org/2001/XMLSchema#normalizedString",n.XSD_TOKEN="http://www.w3.org/2001/XMLSchema#token",n.XSD_LANGUAGE="http://www.w3.org/2001/XMLSchema#language",n.XSD_NM_TOKEN="http://www.w3.org/2001/XMLSchema#NMTOKEN",n.XSD_NAME="http://www.w3.org/2001/XMLSchema#name",n.XSD_NC_NAME="http://www.w3.org/2001/XMLSchema#NCName",n.XSD_ENTITY="http://www.w3.org/2001/XMLSchema#ENTITY",n.XSD_ID="http://www.w3.org/2001/XMLSchema#ID",n.XSD_ID_REF="http://www.w3.org/2001/XMLSchema#IDREF",n.XSD_DURATION="http://www.w3.org/2001/XMLSchema#duration",n.XSD_YEAR_MONTH_DURATION="http://www.w3.org/2001/XMLSchema#yearMonthDuration",n.XSD_DAY_TIME_DURATION="http://www.w3.org/2001/XMLSchema#dayTimeDuration",n.XSD_UNTYPED_ATOMIC="http://www.w3.org/2001/XMLSchema#untypedAtomic"})(i||(e.TypeURL=i={})),(function(n){n.NOT="!",n.UMINUS="uminus",n.UPLUS="uplus",n.LOGICAL_OR="||",n.LOGICAL_AND="&&",n.EQUAL="=",n.NOT_EQUAL="!=",n.LT="<",n.GT=">",n.LTE="<=",n.GTE=">=",n.SAME_TERM="sameterm",n.IN="in",n.NOT_IN="notin",n.MULTIPLICATION="*",n.DIVISION="/",n.ADDITION="+",n.SUBTRACTION="-",n.IS_IRI="isiri",n.IS_URI="isuri",n.IS_BLANK="isblank",n.IS_LITERAL="isliteral",n.IS_NUMERIC="isnumeric",n.STR="str",n.LANG="lang",n.DATATYPE="datatype",n.IRI="iri",n.URI="uri",n.BNODE="bnode",n.STRDT="strdt",n.STRLANG="strlang",n.UUID="uuid",n.STRUUID="struuid",n.STRLEN="strlen",n.SUBSTR="substr",n.UCASE="ucase",n.LCASE="lcase",n.STRSTARTS="strstarts",n.STRENDS="strends",n.CONTAINS="contains",n.STRBEFORE="strbefore",n.STRAFTER="strafter",n.ENCODE_FOR_URI="encode_for_uri",n.CONCAT="concat",n.LANG_MATCHES="langmatches",n.REGEX="regex",n.REPLACE="replace",n.ABS="abs",n.ROUND="round",n.CEIL="ceil",n.FLOOR="floor",n.RAND="rand",n.NOW="now",n.YEAR="year",n.MONTH="month",n.DAY="day",n.HOURS="hours",n.MINUTES="minutes",n.SECONDS="seconds",n.TIMEZONE="timezone",n.TZ="tz",n.MD5="md5",n.SHA1="sha1",n.SHA256="sha256",n.SHA384="sha384",n.SHA512="sha512",n.TRIPLE="triple",n.SUBJECT="subject",n.PREDICATE="predicate",n.OBJECT="object",n.IS_TRIPLE="istriple",n.BOUND="bound",n.IF="if",n.COALESCE="coalesce"})(r||(e.SparqlOperator=r={}))},64995:function(g,e,s){var c=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(e,"__esModule",{value:!0});const o=s(13079),u=c(s(91409)),i=s(69667);class r{static flatten(t){return Array.prototype.concat(...t).filter(a=>a)}static objectify(t){if(t.termType){if(t.termType==="Quad")return{type:"pattern",termType:"Quad",subject:r.objectify(t.subject),predicate:r.objectify(t.predicate),object:r.objectify(t.object),graph:r.objectify(t.graph)};{let a={termType:t.termType,value:t.value};return t.language&&(a.language=t.language),t.datatype&&(a.datatype=r.objectify(t.datatype)),a}}if(Array.isArray(t))return t.map(a=>r.objectify(a));if(t===Object(t)){let a={};for(let l of Object.keys(t))a[l]=r.objectify(t[l]);return a}return t}static inScopeVariables(t){const a=[];function l(p){a.find(f=>p.value===f.value)||a.push(p)}function d(p){p.subject.termType==="Variable"&&l(p.subject),p.predicate.termType==="Variable"&&l(p.predicate),p.object.termType==="Variable"&&l(p.object),p.graph.termType==="Variable"&&l(p.graph),p.subject.termType==="Quad"&&d(p.subject),p.predicate.termType==="Quad"&&d(p.predicate),p.object.termType==="Quad"&&d(p.object),p.graph.termType==="Quad"&&d(p.graph)}return r.recurseOperation(t,{[o.types.EXPRESSION]:p=>(p.expressionType===o.expressionTypes.AGGREGATE&&p.variable&&l(p.variable),!0),[o.types.EXTEND]:p=>(l(p.variable),!0),[o.types.GRAPH]:p=>(p.name.termType==="Variable"&&l(p.name),!0),[o.types.GROUP]:p=>(p.variables.forEach(l),!0),[o.types.PATH]:p=>(p.subject.termType==="Variable"&&l(p.subject),p.object.termType==="Variable"&&l(p.object),p.graph.termType==="Variable"&&l(p.graph),p.subject.termType==="Quad"&&d(p.subject),p.object.termType==="Quad"&&d(p.object),p.graph.termType==="Quad"&&d(p.graph),!0),[o.types.PATTERN]:p=>(d(p),!0),[o.types.PROJECT]:p=>(p.variables.forEach(l),!1),[o.types.SERVICE]:p=>(p.name.termType==="Variable"&&l(p.name),!0),[o.types.VALUES]:p=>(p.variables.forEach(l),!0)}),a}static recurseOperation(t,a){let l=t,d=!0;const p=a[t.type];if(p&&(d=p(t)),!d)return;let f=h=>r.recurseOperation(h,a);switch(l.type){case o.types.ALT:l.input.map(f);break;case o.types.ASK:f(l.input);break;case o.types.BGP:l.patterns.forEach(f);break;case o.types.CONSTRUCT:f(l.input),l.template.map(f);break;case o.types.DESCRIBE:case o.types.DISTINCT:f(l.input);break;case o.types.EXPRESSION:l.expressionType===o.expressionTypes.EXISTENCE&&f(l.input);break;case o.types.EXTEND:case o.types.FILTER:f(l.input),f(l.expression);break;case o.types.FROM:case o.types.GRAPH:f(l.input);break;case o.types.GROUP:f(l.input),l.aggregates.forEach(f);break;case o.types.INV:f(l.path);break;case o.types.JOIN:l.input.map(f);break;case o.types.LEFT_JOIN:l.input.map(f),l.expression&&f(l.expression);break;case o.types.LINK:break;case o.types.MINUS:l.input.map(f);break;case o.types.NOP:case o.types.NPS:break;case o.types.ONE_OR_MORE_PATH:f(l.path);break;case o.types.ORDER_BY:f(l.input),l.expressions.forEach(f);break;case o.types.PATH:f(l.predicate);break;case o.types.PATTERN:break;case o.types.PROJECT:case o.types.REDUCED:f(l.input);break;case o.types.SEQ:l.input.map(f);break;case o.types.SERVICE:case o.types.SLICE:f(l.input);break;case o.types.UNION:l.input.map(f);break;case o.types.VALUES:break;case o.types.ZERO_OR_MORE_PATH:case o.types.ZERO_OR_ONE_PATH:f(l.path);break;case o.types.COMPOSITE_UPDATE:l.updates.forEach(h=>f(h));break;case o.types.DELETE_INSERT:l.delete&&l.delete.forEach(h=>f(h)),l.insert&&l.insert.forEach(h=>f(h)),l.where&&f(l.where);break;case o.types.LOAD:case o.types.CLEAR:case o.types.CREATE:case o.types.DROP:case o.types.ADD:case o.types.MOVE:case o.types.COPY:break;default:throw new Error(`Unknown Operation type ${l.type}`)}}static mapOperation(t,a,l){let d=t,p=!0,f=!0;l=l||new u.default;const h=a[t.type];if(h){const b=h(t,l);d=b.result,p=b.recurse,f=b.copyMetadata!==!1}let y;if(f&&(d.metadata||t.metadata)&&(y={...d.metadata,...t.metadata}),!p)return y&&(d.metadata=y),d;let m=b=>r.mapOperation(b,a,l);switch(d.type){case o.types.ALT:d=l.createAlt(d.input.map(m));break;case o.types.ASK:d=l.createAsk(m(d.input));break;case o.types.BGP:d=l.createBgp(d.patterns.map(m));break;case o.types.CONSTRUCT:d=l.createConstruct(m(d.input),d.template.map(m));break;case o.types.DESCRIBE:d=l.createDescribe(m(d.input),d.terms);break;case o.types.DISTINCT:d=l.createDistinct(m(d.input));break;case o.types.EXPRESSION:d=r.mapExpression(d,a,l);break;case o.types.EXTEND:d=l.createExtend(m(d.input),d.variable,m(d.expression));break;case o.types.FILTER:d=l.createFilter(m(d.input),m(d.expression));break;case o.types.FROM:d=l.createFrom(m(d.input),[...d.default],[...d.named]);break;case o.types.GRAPH:d=l.createGraph(m(d.input),d.name);break;case o.types.GROUP:d=l.createGroup(m(d.input),[].concat(d.variables),d.aggregates.map(m));break;case o.types.INV:d=l.createInv(m(d.path));break;case o.types.JOIN:d=l.createJoin(d.input.map(m));break;case o.types.LEFT_JOIN:d=l.createLeftJoin(m(d.input[0]),m(d.input[1]),d.expression?m(d.expression):void 0);break;case o.types.LINK:d=l.createLink(d.iri);break;case o.types.MINUS:d=l.createMinus(m(d.input[0]),m(d.input[1]));break;case o.types.NOP:d=l.createNop();break;case o.types.NPS:d=l.createNps([].concat(d.iris));break;case o.types.ONE_OR_MORE_PATH:d=l.createOneOrMorePath(m(d.path));break;case o.types.ORDER_BY:d=l.createOrderBy(m(d.input),d.expressions.map(m));break;case o.types.PATH:d=l.createPath(d.subject,m(d.predicate),d.object,d.graph);break;case o.types.PATTERN:d=l.createPattern(d.subject,d.predicate,d.object,d.graph);break;case o.types.PROJECT:d=l.createProject(m(d.input),[...d.variables]);break;case o.types.REDUCED:d=l.createReduced(m(d.input));break;case o.types.SEQ:d=l.createSeq(d.input.map(m));break;case o.types.SERVICE:d=l.createService(m(d.input),d.name,d.silent);break;case o.types.SLICE:d=l.createSlice(m(d.input),d.start,d.length);break;case o.types.UNION:d=l.createUnion(d.input.map(m));break;case o.types.VALUES:d=l.createValues([].concat(d.variables),d.bindings.map(b=>Object.assign({},b)));break;case o.types.ZERO_OR_MORE_PATH:d=l.createZeroOrMorePath(m(d.path));break;case o.types.ZERO_OR_ONE_PATH:d=l.createZeroOrOnePath(m(d.path));break;case o.types.COMPOSITE_UPDATE:d=l.createCompositeUpdate(d.updates.map(m));break;case o.types.DELETE_INSERT:d=l.createDeleteInsert(d.delete?d.delete.map(m):void 0,d.insert?d.insert.map(m):void 0,d.where?m(d.where):void 0);break;case o.types.LOAD:d=l.createLoad(d.source,d.destination,d.silent);break;case o.types.CLEAR:d=l.createClear(d.source,d.silent);break;case o.types.CREATE:d=l.createCreate(d.source,d.silent);break;case o.types.DROP:d=l.createDrop(d.source,d.silent);break;case o.types.ADD:d=l.createAdd(d.source,d.destination);break;case o.types.MOVE:d=l.createMove(d.source,d.destination);break;case o.types.COPY:d=l.createCopy(d.source,d.destination);break;default:throw new Error(`Unknown Operation type ${d.type}`)}return y&&(d.metadata=y),d}static mapExpression(t,a,l){let d=t,p=!0;l=l||new u.default;const f=a[t.expressionType];if(f&&({result:d,recurse:p}=f(t,l)),!p)return d;let h=y=>r.mapOperation(y,a,l);switch(t.expressionType){case o.expressionTypes.AGGREGATE:return t.variable?l.createBoundAggregate(t.variable,t.aggregator,h(t.expression),t.distinct,t.separator):l.createAggregateExpression(t.aggregator,h(t.expression),t.distinct,t.separator);case o.expressionTypes.EXISTENCE:return l.createExistenceExpression(t.not,h(t.input));case o.expressionTypes.NAMED:return l.createNamedExpression(t.name,t.args.map(h));case o.expressionTypes.OPERATOR:return l.createOperatorExpression(t.operator,t.args.map(h));case o.expressionTypes.TERM:return l.createTermExpression(t.term);case o.expressionTypes.WILDCARD:return l.createWildcardExpression();default:throw new Error(`Unknown Expression type ${t.expressionType}`)}}static cloneOperation(t){return r.mapOperation(t,{})}static cloneExpression(t){return r.mapExpression(t,{})}static createUniqueVariable(t,a,l){let d=0,p=t;for(;a[p];)p=`${t}${d++}`;return l.variable(p)}static isSimpleTerm(t){return t.termType!==void 0&&t.termType!=="Quad"&&t.termType!=="Wildcard"}static isQuad(t){return t.termType==="Quad"}static hasQuadVariables(t){return(0,i.someTermsNested)(t,a=>a.termType==="Variable")}static isWildcard(t){return t.termType==="Wildcard"}}e.default=r},65178:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(20712),e)},65183:(g,e)=>{var s;Object.defineProperty(e,"__esModule",{value:!0}),e.SingularizeState=void 0,(s=e.SingularizeState||(e.SingularizeState={}))[s.SINGLE=0]="SINGLE",s[s.PLURAL=1]="PLURAL"},65239:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(17136),e)},65267:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(66905),e)},65291:(g,e,s)=>{const{MathFloor:c,NumberIsInteger:o}=s(24134),{validateInteger:u}=s(277),{ERR_INVALID_ARG_VALUE:i}=s(76371).codes;let r=16384,n=16;function t(a){return a?n:r}g.exports={getHighWaterMark:function(a,l,d,p){const f=(function(h,y,m){return h.highWaterMark!=null?h.highWaterMark:y?h[m]:null})(l,p,d);if(f!=null){if(!o(f)||f<0)throw new i(p?`options.${d}`:"options.highWaterMark",f);return c(f)}return t(a.objectMode)},getDefaultHighWaterMark:t,setDefaultHighWaterMark:function(a,l){u(l,"value",0),a?n=l:r=l}}},65358:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},65569:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermAddition=void 0;const c=s(77617),o=s(77545),u=s(55940);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.SparqlOperator.ADDITION],termFunction:!0})}async run(n){return new u.TermFunctionAddition}}e.ActorFunctionFactoryTermAddition=i},65606:g=>{var e,s,c=g.exports={};function o(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function i(h){if(e===setTimeout)return setTimeout(h,0);if((e===o||!e)&&setTimeout)return e=setTimeout,setTimeout(h,0);try{return e(h,0)}catch{try{return e.call(null,h,0)}catch{return e.call(this,h,0)}}}(function(){try{e=typeof setTimeout=="function"?setTimeout:o}catch{e=o}try{s=typeof clearTimeout=="function"?clearTimeout:u}catch{s=u}})();var r,n=[],t=!1,a=-1;function l(){t&&r&&(t=!1,r.length?n=r.concat(n):a=-1,n.length&&d())}function d(){if(!t){var h=i(l);t=!0;for(var y=n.length;y;){for(r=n,n=[];++a<y;)r&&r[a].run();a=-1,y=n.length}r=null,t=!1,(function(m){if(s===clearTimeout)return clearTimeout(m);if((s===u||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(m);try{return s(m)}catch{try{return s.call(null,m)}catch{return s.call(this,m)}}})(h)}}function p(h,y){this.fun=h,this.array=y}function f(){}c.nextTick=function(h){var y=new Array(arguments.length-1);if(arguments.length>1)for(var m=1;m<arguments.length;m++)y[m-1]=arguments[m];n.push(new p(h,y)),n.length!==1||t||i(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=f,c.addListener=f,c.once=f,c.off=f,c.removeListener=f,c.removeAllListeners=f,c.emit=f,c.prependListener=f,c.prependOnceListener=f,c.listeners=function(h){return[]},c.binding=function(h){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(h){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},65621:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.fromCodePoint=e.replaceCodePoint=e.decodeCodePoint=e.xmlDecodeTree=e.htmlDecodeTree=e.EntityDecoder=e.DecodingMode=e.BinTrieFlags=void 0,e.determineBranch=h,e.decodeHTML=function(w,S=t.Legacy){return y(w,S)},e.decodeHTMLAttribute=function(w){return y(w,t.Attribute)},e.decodeHTMLStrict=function(w){return y(w,t.Strict)},e.decodeXML=function(w){return m(w,t.Strict)};const c=s(61892),o=s(69844),u=s(73645);var i,r,n,t;function a(w){return w>=i.ZERO&&w<=i.NINE}function l(w){return w>=i.UPPER_A&&w<=i.UPPER_F||w>=i.LOWER_A&&w<=i.LOWER_F}function d(w){return w===i.EQUALS||(function(S){return S>=i.UPPER_A&&S<=i.UPPER_Z||S>=i.LOWER_A&&S<=i.LOWER_Z||a(S)})(w)}(function(w){w[w.NUM=35]="NUM",w[w.SEMI=59]="SEMI",w[w.EQUALS=61]="EQUALS",w[w.ZERO=48]="ZERO",w[w.NINE=57]="NINE",w[w.LOWER_A=97]="LOWER_A",w[w.LOWER_F=102]="LOWER_F",w[w.LOWER_X=120]="LOWER_X",w[w.LOWER_Z=122]="LOWER_Z",w[w.UPPER_A=65]="UPPER_A",w[w.UPPER_F=70]="UPPER_F",w[w.UPPER_Z=90]="UPPER_Z"})(i||(i={})),(function(w){w[w.VALUE_LENGTH=49152]="VALUE_LENGTH",w[w.BRANCH_LENGTH=16256]="BRANCH_LENGTH",w[w.JUMP_TABLE=127]="JUMP_TABLE"})(r||(e.BinTrieFlags=r={})),(function(w){w[w.EntityStart=0]="EntityStart",w[w.NumericStart=1]="NumericStart",w[w.NumericDecimal=2]="NumericDecimal",w[w.NumericHex=3]="NumericHex",w[w.NamedEntity=4]="NamedEntity"})(n||(n={})),(function(w){w[w.Legacy=0]="Legacy",w[w.Strict=1]="Strict",w[w.Attribute=2]="Attribute"})(t||(e.DecodingMode=t={}));class p{constructor(S,x,T){this.decodeTree=S,this.emitCodePoint=x,this.errors=T,this.state=n.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=t.Strict}startEntity(S){this.decodeMode=S,this.state=n.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(S,x){switch(this.state){case n.EntityStart:return S.charCodeAt(x)===i.NUM?(this.state=n.NumericStart,this.consumed+=1,this.stateNumericStart(S,x+1)):(this.state=n.NamedEntity,this.stateNamedEntity(S,x));case n.NumericStart:return this.stateNumericStart(S,x);case n.NumericDecimal:return this.stateNumericDecimal(S,x);case n.NumericHex:return this.stateNumericHex(S,x);case n.NamedEntity:return this.stateNamedEntity(S,x)}}stateNumericStart(S,x){return x>=S.length?-1:(32|S.charCodeAt(x))===i.LOWER_X?(this.state=n.NumericHex,this.consumed+=1,this.stateNumericHex(S,x+1)):(this.state=n.NumericDecimal,this.stateNumericDecimal(S,x))}addToNumericResult(S,x,T,O){if(x!==T){const E=T-x;this.result=this.result*Math.pow(O,E)+Number.parseInt(S.substr(x,E),O),this.consumed+=E}}stateNumericHex(S,x){const T=x;for(;x<S.length;){const O=S.charCodeAt(x);if(!a(O)&&!l(O))return this.addToNumericResult(S,T,x,16),this.emitNumericEntity(O,3);x+=1}return this.addToNumericResult(S,T,x,16),-1}stateNumericDecimal(S,x){const T=x;for(;x<S.length;){const O=S.charCodeAt(x);if(!a(O))return this.addToNumericResult(S,T,x,10),this.emitNumericEntity(O,2);x+=1}return this.addToNumericResult(S,T,x,10),-1}emitNumericEntity(S,x){var T;if(this.consumed<=x)return(T=this.errors)===null||T===void 0||T.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(S===i.SEMI)this.consumed+=1;else if(this.decodeMode===t.Strict)return 0;return this.emitCodePoint((0,u.replaceCodePoint)(this.result),this.consumed),this.errors&&(S!==i.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(S,x){const{decodeTree:T}=this;let O=T[this.treeIndex],E=(O&r.VALUE_LENGTH)>>14;for(;x<S.length;x++,this.excess++){const R=S.charCodeAt(x);if(this.treeIndex=h(T,O,this.treeIndex+Math.max(1,E),R),this.treeIndex<0)return this.result===0||this.decodeMode===t.Attribute&&(E===0||d(R))?0:this.emitNotTerminatedNamedEntity();if(O=T[this.treeIndex],E=(O&r.VALUE_LENGTH)>>14,E!==0){if(R===i.SEMI)return this.emitNamedEntityData(this.treeIndex,E,this.consumed+this.excess);this.decodeMode!==t.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var S;const{result:x,decodeTree:T}=this,O=(T[x]&r.VALUE_LENGTH)>>14;return this.emitNamedEntityData(x,O,this.consumed),(S=this.errors)===null||S===void 0||S.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(S,x,T){const{decodeTree:O}=this;return this.emitCodePoint(x===1?O[S]&~r.VALUE_LENGTH:O[S+1],T),x===3&&this.emitCodePoint(O[S+2],T),T}end(){var S;switch(this.state){case n.NamedEntity:return this.result===0||this.decodeMode===t.Attribute&&this.result!==this.treeIndex?0:this.emitNotTerminatedNamedEntity();case n.NumericDecimal:return this.emitNumericEntity(0,2);case n.NumericHex:return this.emitNumericEntity(0,3);case n.NumericStart:return(S=this.errors)===null||S===void 0||S.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case n.EntityStart:return 0}}}function f(w){let S="";const x=new p(w,T=>S+=(0,u.fromCodePoint)(T));return function(T,O){let E=0,R=0;for(;(R=T.indexOf("&",R))>=0;){S+=T.slice(E,R),x.startEntity(O);const Q=x.write(T,R+1);if(Q<0){E=R+x.end();break}E=R+Q,R=Q===0?E+1:E}const M=S+T.slice(E);return S="",M}}function h(w,S,x,T){const O=(S&r.BRANCH_LENGTH)>>7,E=S&r.JUMP_TABLE;if(O===0)return E!==0&&T===E?x:-1;if(E){const Q=T-E;return Q<0||Q>=O?-1:w[x+Q]-1}let R=x,M=R+O-1;for(;R<=M;){const Q=R+M>>>1,X=w[Q];if(X<T)R=Q+1;else{if(!(X>T))return w[Q+O];M=Q-1}}return-1}e.EntityDecoder=p;const y=f(c.htmlDecodeTree),m=f(o.xmlDecodeTree);var b=s(61892);Object.defineProperty(e,"htmlDecodeTree",{enumerable:!0,get:function(){return b.htmlDecodeTree}});var v=s(69844);Object.defineProperty(e,"xmlDecodeTree",{enumerable:!0,get:function(){return v.xmlDecodeTree}});var _=s(73645);Object.defineProperty(e,"decodeCodePoint",{enumerable:!0,get:function(){return _.decodeCodePoint}}),Object.defineProperty(e,"replaceCodePoint",{enumerable:!0,get:function(){return _.replaceCodePoint}}),Object.defineProperty(e,"fromCodePoint",{enumerable:!0,get:function(){return _.fromCodePoint}})},65632:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r),Object.defineProperty(u,n,{enumerable:!0,get:function(){return i[r]}})}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(4397),e)},65675:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BlankNode=void 0,e.BlankNode=class{constructor(s){this.termType="BlankNode",this.value=s}equals(s){return!!s&&s.termType==="BlankNode"&&s.value===this.value}}},65806:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.readableFromWeb=void 0;var c=s(50952);Object.defineProperty(e,"readableFromWeb",{enumerable:!0,get:function(){return c.readableFromWeb}})},65991:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Mediator=void 0;class s{constructor(o){Object.assign(this,o)}publish(o){const u=this.bus.publish(o);if(u.length===0)throw new Error(`No actors are able to reply to a message in the bus ${this.bus.name}`);return u}async mediateActor(o){return await this.mediateWith(o,this.publish(o))}async mediateTestable(o){return(await this.mediateActor(o)).mapAsync((u,i)=>u.runObservable(o,i))}async mediate(o){return(await this.mediateTestable(o)).getOrThrow()}constructFailureMessage(o,u){const i=`
        `;return`${this.bus.failMessage.replaceAll(/\$\{(.*?)\}/gu,(r,n)=>s.getObjectValue({action:o},n.split("."))||r)}
    Error messages of failing actors:${i}${u.join(i)}`}static getObjectValue(o,u){return u.length===0?o:o?s.getObjectValue(o[u[0]],u.slice(1)):void 0}}e.Mediator=s},66166:(g,e,s)=>{var c=s(67426),o=s(43349);function u(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}e.BlockHash=u,u.prototype.update=function(i,r){if(i=c.toArray(i,r),this.pending?this.pending=this.pending.concat(i):this.pending=i,this.pendingTotal+=i.length,this.pending.length>=this._delta8){var n=(i=this.pending).length%this._delta8;this.pending=i.slice(i.length-n,i.length),this.pending.length===0&&(this.pending=null),i=c.join32(i,0,i.length-n,this.endian);for(var t=0;t<i.length;t+=this._delta32)this._update(i,t,t+this._delta32)}return this},u.prototype.digest=function(i){return this.update(this._pad()),o(this.pending===null),this._digest(i)},u.prototype._pad=function(){var i=this.pendingTotal,r=this._delta8,n=r-(i+this.padLength)%r,t=new Array(n+this.padLength);t[0]=128;for(var a=1;a<n;a++)t[a]=0;if(i<<=3,this.endian==="big"){for(var l=8;l<this.padLength;l++)t[a++]=0;t[a++]=0,t[a++]=0,t[a++]=0,t[a++]=0,t[a++]=i>>>24&255,t[a++]=i>>>16&255,t[a++]=i>>>8&255,t[a++]=255&i}else for(t[a++]=255&i,t[a++]=i>>>8&255,t[a++]=i>>>16&255,t[a++]=i>>>24&255,t[a++]=0,t[a++]=0,t[a++]=0,t[a++]=0,l=8;l<this.padLength;l++)t[a++]=0;return t}},66218:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(45513),e)},66225:(g,e,s)=>{var c=s(67426).rotr32;function o(r,n,t){return r&n^~r&t}function u(r,n,t){return r&n^r&t^n&t}function i(r,n,t){return r^n^t}e.ft_1=function(r,n,t,a){return r===0?o(n,t,a):r===1||r===3?i(n,t,a):r===2?u(n,t,a):void 0},e.ch32=o,e.maj32=u,e.p32=i,e.s0_256=function(r){return c(r,2)^c(r,13)^c(r,22)},e.s1_256=function(r){return c(r,6)^c(r,11)^c(r,25)},e.g0_256=function(r){return c(r,7)^c(r,18)^r>>>3},e.g1_256=function(r){return c(r,17)^c(r,19)^r>>>10}},66284:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorOptimizeQueryOperationGroupSources=void 0;const c=s(38912),o=s(90711),u=s(90412),i=s(67021),r=s(96331);class n extends c.ActorOptimizeQueryOperation{constructor(a){super(a)}async test(a){return(0,i.getOperationSource)(a.operation)?(0,u.failTest)(`Actor ${this.name} does not work with top-level operation sources.`):(0,u.passTestVoid)()}async run(a){return{operation:await this.groupOperation(a.operation,a.context),context:a.context}}async groupOperation(a,l){const d=l.getSafe(o.KeysInitQuery.dataFactory),p=new r.Factory(d);if((0,i.getOperationSource)(a)??!("input"in a))return a;if(!Array.isArray(a.input)){const m=await this.groupOperation(a.input,l);if(m.metadata?.scopedSource){const b=(0,i.getOperationSource)(m);a=await this.moveSourceAnnotationUpwardsIfPossible(a,[m],b,l)}return{...a,input:m}}const f=await Promise.all(a.input.map(m=>this.groupOperation(m,l))),h=this.clusterOperationsWithEqualSources(f);if(h.length===1){const m=h[0],b=(0,i.getOperationSource)(h[0][0]);return{...await this.moveSourceAnnotationUpwardsIfPossible(a,m,b,l),input:m}}if(h.length===f.length)return{...a,input:f};let y;switch(a.type){case r.Algebra.types.JOIN:y=p.createJoin.bind(p);break;case r.Algebra.types.UNION:y=p.createUnion.bind(p);break;case r.Algebra.types.ALT:y=p.createAlt.bind(p);break;case r.Algebra.types.SEQ:y=p.createSeq.bind(p);break;default:throw new Error(`Unsupported operation '${a.type}' detected while grouping sources`)}return await this.groupOperationMulti(h,y,l)}async groupOperationMulti(a,l,d){let p=!0;const f=await Promise.all(a.map(async h=>{const y=(0,i.getOperationSource)(h[0]),m=await this.moveSourceAnnotationUpwardsIfPossible(l(h,!0),h,y,d);return(0,i.getOperationSource)(m)&&(p=!1),m}));return l(f,p)}clusterOperationsWithEqualSources(a){const l=new Map,d=[];for(const f of a){const h=(0,i.getOperationSource)(f);h?(l.has(h)||l.set(h,[]),l.get(h).push(f)):d.push(f)}const p=[];d.length>0&&p.push(d);for(const[f,h]of l.entries())p.push(h.map(y=>(0,i.assignOperationSource)(y,f)));return p}async moveSourceAnnotationUpwardsIfPossible(a,l,d,p){if(d&&this.isPossibleToMoveSourceAnnotationUpwards(a,await d.source.getSelectorShape(p),p)){this.logDebug(p,`Hoist ${l.length} source-specific operations into a single ${a.type} operation for ${d.source.toString()}`),a=(0,i.assignOperationSource)(a,d);for(const f of l)(0,i.removeOperationSource)(f)}return a}isPossibleToMoveSourceAnnotationUpwards(a,l,d){const p=d.get(o.KeysInitQuery.extensionFunctionsAlwaysPushdown);if((0,i.doesShapeAcceptOperation)(l,a,{wildcardAcceptAllExtensionFunctions:p})){const f=d.get(o.KeysInitQuery.extensionFunctions),h=a.expression;return!f||h?.expressionType!==r.Algebra.expressionTypes.NAMED||!(h?.name.value in f)||(0,i.doesShapeAcceptOperation)(l,h,{wildcardAcceptAllExtensionFunctions:p})}return!1}}e.ActorOptimizeQueryOperationGroupSources=n},66337:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeHandlerDefinitionAdapter=void 0;const c=s(75566);class o extends c.NodeHandlerAdapter{constructor(i,r,n){super(i,r,n)}}e.NodeHandlerDefinitionAdapter=o},66338:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryResultSerializeSparqlCsv=void 0;const c=s(58871),o=s(90412),u=s(19198);class i extends c.ActorQueryResultSerializeFixedMediaTypes{constructor(n){super(n)}static bindingToCsvBindings(n){if(!n)return"";let t=n.value;if(n.termType==="Literal")t=`${t}`;else if(n.termType==="BlankNode")t=`_:${t}`;else if(n.termType==="Quad"){let a=i.bindingToCsvBindings(n.object);n.object.termType==="Literal"&&(a=`"${a.replaceAll('"','""')}"`),t=`<< ${i.bindingToCsvBindings(n.subject)} ${i.bindingToCsvBindings(n.predicate)} ${a} >>`}else t=`<${t}>`;return/[",\n\r]/u.test(t)&&(t=`"${t.replaceAll('"','""')}"`),t}async testHandleChecked(n,t){return n.type!=="bindings"?(0,o.failTest)("This actor can only handle bindings streams."):(0,o.passTestVoid)()}async runHandle(n,t,a){const l=n,d=new u.Readable,p=await l.metadata();return d.push(`${p.variables.map(f=>f.variable.value).join(",")}\r
`),d.wrap(l.bindingsStream.map(f=>`${p.variables.map(h=>i.bindingToCsvBindings(f.get(h.variable))).join(",")}\r
`)),{data:d}}}e.ActorQueryResultSerializeSparqlCsv=i},66478:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(40589),e)},66486:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.promisifyEventEmitter=void 0,e.promisifyEventEmitter=function(s,c){return new Promise((o,u)=>{s.on("end",()=>o(c)),s.on("error",u)})}},66490:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(31278),e),o(s(95816),e),o(s(33381),e),o(s(74501),e)},66713:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(77955),e)},66882:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(28869),e)},66905:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfJoinOptionalNestedLoop=void 0;const c=s(95445),o=s(90412),u=s(25579);class i extends c.ActorRdfJoin{constructor(n){super(n,{logicalType:"optional",physicalName:"nested-loop",limitEntries:2,canHandleUndefs:!0})}async getOutput(n){return{result:{type:"bindings",bindingsStream:new u.NestedLoopJoin(n.entries[0].output.bindingsStream,n.entries[1].output.bindingsStream,c.ActorRdfJoin.joinBindings,{optional:!0,autoStart:!1}),metadata:async()=>await this.constructResultMetadata(n.entries,await c.ActorRdfJoin.getMetadatas(n.entries),n.context,{},!0)}}}async getJoinCoefficients(n,t){const{metadatas:a}=t,l=c.ActorRdfJoin.getRequestInitialTimes(a),d=c.ActorRdfJoin.getRequestItemTimes(a);return(0,o.passTestWithSideData)({iterations:a[0].cardinality.value*a[1].cardinality.value,persistedItems:0,blockingItems:0,requestTime:l[0]+a[0].cardinality.value*d[0]+l[1]+a[1].cardinality.value*d[1]},t)}}e.ActorRdfJoinOptionalNestedLoop=i},67021:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(37822),e),o(s(48958),e),o(s(11582),e),o(s(6072),e),o(s(45534),e)},67024:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermStrLen=void 0;const c=s(77617),o=s(77545),u=s(76869);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.SparqlOperator.STRLEN],termFunction:!0})}async run(n){return new u.TermFunctionStrLen}}e.ActorFunctionFactoryTermStrLen=i},67057:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeValueHandlerEnum=void 0;const c=s(55009);class o extends c.NodeValueHandlerAdapter{constructor(i,r){super("EnumValue",i,r)}handle(i,r,n){return{terms:[this.util.valueToNamedNode(i.value,n.context)]}}}e.NodeValueHandlerEnum=o},67120:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorHashBindings=void 0;const c=s(90412);class o extends c.Actor{constructor(i){super(i)}}e.ActorHashBindings=o},67186:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(36666),e)},67304:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(96430),e)},67313:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermPredicate=void 0;const c=s(77617),o=s(77545),u=s(14330);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.SparqlOperator.PREDICATE],termFunction:!0})}async run(n){return new u.TermFunctionPredicate}}e.ActorFunctionFactoryTermPredicate=i},67426:(g,e,s)=>{var c=s(43349),o=s(56698);function u(t,a){return(64512&t.charCodeAt(a))==55296&&!(a<0||a+1>=t.length)&&(64512&t.charCodeAt(a+1))==56320}function i(t){return(t>>>24|t>>>8&65280|t<<8&16711680|(255&t)<<24)>>>0}function r(t){return t.length===1?"0"+t:t}function n(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}e.inherits=o,e.toArray=function(t,a){if(Array.isArray(t))return t.slice();if(!t)return[];var l=[];if(typeof t=="string")if(a){if(a==="hex")for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),p=0;p<t.length;p+=2)l.push(parseInt(t[p]+t[p+1],16))}else for(var d=0,p=0;p<t.length;p++){var f=t.charCodeAt(p);f<128?l[d++]=f:f<2048?(l[d++]=f>>6|192,l[d++]=63&f|128):u(t,p)?(f=65536+((1023&f)<<10)+(1023&t.charCodeAt(++p)),l[d++]=f>>18|240,l[d++]=f>>12&63|128,l[d++]=f>>6&63|128,l[d++]=63&f|128):(l[d++]=f>>12|224,l[d++]=f>>6&63|128,l[d++]=63&f|128)}else for(p=0;p<t.length;p++)l[p]=0|t[p];return l},e.toHex=function(t){for(var a="",l=0;l<t.length;l++)a+=r(t[l].toString(16));return a},e.htonl=i,e.toHex32=function(t,a){for(var l="",d=0;d<t.length;d++){var p=t[d];a==="little"&&(p=i(p)),l+=n(p.toString(16))}return l},e.zero2=r,e.zero8=n,e.join32=function(t,a,l,d){var p=l-a;c(p%4==0);for(var f=new Array(p/4),h=0,y=a;h<f.length;h++,y+=4){var m;m=d==="big"?t[y]<<24|t[y+1]<<16|t[y+2]<<8|t[y+3]:t[y+3]<<24|t[y+2]<<16|t[y+1]<<8|t[y],f[h]=m>>>0}return f},e.split32=function(t,a){for(var l=new Array(4*t.length),d=0,p=0;d<t.length;d++,p+=4){var f=t[d];a==="big"?(l[p]=f>>>24,l[p+1]=f>>>16&255,l[p+2]=f>>>8&255,l[p+3]=255&f):(l[p+3]=f>>>24,l[p+2]=f>>>16&255,l[p+1]=f>>>8&255,l[p]=255&f)}return l},e.rotr32=function(t,a){return t>>>a|t<<32-a},e.rotl32=function(t,a){return t<<a|t>>>32-a},e.sum32=function(t,a){return t+a>>>0},e.sum32_3=function(t,a,l){return t+a+l>>>0},e.sum32_4=function(t,a,l,d){return t+a+l+d>>>0},e.sum32_5=function(t,a,l,d,p){return t+a+l+d+p>>>0},e.sum64=function(t,a,l,d){var p=t[a],f=d+t[a+1]>>>0,h=(f<d?1:0)+l+p;t[a]=h>>>0,t[a+1]=f},e.sum64_hi=function(t,a,l,d){return(a+d>>>0<a?1:0)+t+l>>>0},e.sum64_lo=function(t,a,l,d){return a+d>>>0},e.sum64_4_hi=function(t,a,l,d,p,f,h,y){var m=0,b=a;return m+=(b=b+d>>>0)<a?1:0,m+=(b=b+f>>>0)<f?1:0,t+l+p+h+(m+=(b=b+y>>>0)<y?1:0)>>>0},e.sum64_4_lo=function(t,a,l,d,p,f,h,y){return a+d+f+y>>>0},e.sum64_5_hi=function(t,a,l,d,p,f,h,y,m,b){var v=0,_=a;return v+=(_=_+d>>>0)<a?1:0,v+=(_=_+f>>>0)<f?1:0,v+=(_=_+y>>>0)<y?1:0,t+l+p+h+m+(v+=(_=_+b>>>0)<b?1:0)>>>0},e.sum64_5_lo=function(t,a,l,d,p,f,h,y,m,b){return a+d+f+y+b>>>0},e.rotr64_hi=function(t,a,l){return(a<<32-l|t>>>l)>>>0},e.rotr64_lo=function(t,a,l){return(t<<32-l|a>>>l)>>>0},e.shr64_hi=function(t,a,l){return t>>>l},e.shr64_lo=function(t,a,l){return(t<<32-l|a>>>l)>>>0}},67444:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermUnaryPlus=void 0;const c=s(77617),o=s(77545),u=s(14695);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.SparqlOperator.UPLUS],termFunction:!0})}async run(n){return new u.TermFunctionUnaryPlus}}e.ActorFunctionFactoryTermUnaryPlus=i},67498:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(10601),e)},67526:(g,e)=>{e.byteLength=function(a){var l=r(a),d=l[0],p=l[1];return 3*(d+p)/4-p},e.toByteArray=function(a){var l,d,p=r(a),f=p[0],h=p[1],y=new o((function(v,_,w){return 3*(_+w)/4-w})(0,f,h)),m=0,b=h>0?f-4:f;for(d=0;d<b;d+=4)l=c[a.charCodeAt(d)]<<18|c[a.charCodeAt(d+1)]<<12|c[a.charCodeAt(d+2)]<<6|c[a.charCodeAt(d+3)],y[m++]=l>>16&255,y[m++]=l>>8&255,y[m++]=255&l;return h===2&&(l=c[a.charCodeAt(d)]<<2|c[a.charCodeAt(d+1)]>>4,y[m++]=255&l),h===1&&(l=c[a.charCodeAt(d)]<<10|c[a.charCodeAt(d+1)]<<4|c[a.charCodeAt(d+2)]>>2,y[m++]=l>>8&255,y[m++]=255&l),y},e.fromByteArray=function(a){for(var l,d=a.length,p=d%3,f=[],h=16383,y=0,m=d-p;y<m;y+=h)f.push(t(a,y,y+h>m?m:y+h));return p===1?(l=a[d-1],f.push(s[l>>2]+s[l<<4&63]+"==")):p===2&&(l=(a[d-2]<<8)+a[d-1],f.push(s[l>>10]+s[l>>4&63]+s[l<<2&63]+"=")),f.join("")};for(var s=[],c=[],o=typeof Uint8Array<"u"?Uint8Array:Array,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0;i<64;++i)s[i]=u[i],c[u.charCodeAt(i)]=i;function r(a){var l=a.length;if(l%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var d=a.indexOf("=");return d===-1&&(d=l),[d,d===l?0:4-d%4]}function n(a){return s[a>>18&63]+s[a>>12&63]+s[a>>6&63]+s[63&a]}function t(a,l,d){for(var p,f=[],h=l;h<d;h+=3)p=(a[h]<<16&16711680)+(a[h+1]<<8&65280)+(255&a[h+2]),f.push(n(p));return f.join("")}c[45]=62,c[95]=63},67528:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermIsBlank=void 0;const c=s(77617),o=s(77545),u=s(89195);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.SparqlOperator.IS_BLANK],termFunction:!0})}async run(n){return new u.TermFunctionIsBlank}}e.ActorFunctionFactoryTermIsBlank=i},67538:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.RdfStoreIndexNestedRecordQuoted=void 0;const c=s(95439),o=s(80766);class u extends o.RdfStoreIndexNestedRecord{constructor(r){super(r),this.features={quotedTripleFiltering:!0}}*getQuotedPatternKeys(r,n){for(const t of this.dictionary.findQuotedTriplesEncoded(n))t in r&&(yield t)}*find(r){const n=(0,c.encodeOptionalTerms)(r,this.dictionary);if(!n)return;const[t,a,l,d]=n,[p,f,h,y]=r,[m,b,v,_]=(0,c.arePatternsQuoted)(r);let w,S,x,T,O,E,R;const M=this.nestedRecords,Q=p!==void 0?m?this.getQuotedPatternKeys(M,p):t in M?[t]:[]:Object.keys(M);for(const X of Q){O=M[X],w=!m&&p?p:this.dictionary.decode(Number.parseInt(X,10));const V=f!==void 0?b?this.getQuotedPatternKeys(O,f):a in O?[a]:[]:Object.keys(O);for(const H of V){E=O[H],S=!b&&f?f:this.dictionary.decode(Number.parseInt(H,10));const U=h!==void 0?v?this.getQuotedPatternKeys(E,h):l in E?[l]:[]:Object.keys(E);for(const k of U){R=E[k],x=!v&&h?h:this.dictionary.decode(Number.parseInt(k,10));const $=y!==void 0?_?this.getQuotedPatternKeys(R,y):d in R?[d]:[]:Object.keys(R);for(const ae of $)T=!_&&y?y:this.dictionary.decode(Number.parseInt(ae,10)),yield[w,S,x,T]}}}}*findEncoded(r,n){const[t,a,l,d]=r,[p,f,h,y]=n,[m,b,v,_]=(0,c.arePatternsQuoted)(n);let w,S,x;const T=this.nestedRecords,O=p!==void 0?m?this.getQuotedPatternKeys(T,p):t in T?[t]:[]:Object.keys(T);for(const E of O){w=T[E];const R=f!==void 0?b?this.getQuotedPatternKeys(w,f):a in w?[a]:[]:Object.keys(w);for(const M of R){S=w[M];const Q=h!==void 0?v?this.getQuotedPatternKeys(S,h):l in S?[l]:[]:Object.keys(S);for(const X of Q){x=S[X];const V=y!==void 0?_?this.getQuotedPatternKeys(x,y):d in x?[d]:[]:Object.keys(x);for(const H of V)yield[Number.parseInt(E,10),Number.parseInt(M,10),Number.parseInt(X,10),Number.parseInt(H,10)]}}}}count(r){let n=0;const t=(0,c.encodeOptionalTerms)(r,this.dictionary);if(!t)return 0;const[a,l,d,p]=t,[f,h,y,m]=r,[b,v,_,w]=(0,c.arePatternsQuoted)(r);let S,x,T;const O=this.nestedRecords,E=f!==void 0?b?this.getQuotedPatternKeys(O,f):a in O?[a]:[]:Object.keys(O);for(const R of E){S=O[R];const M=h!==void 0?v?this.getQuotedPatternKeys(S,h):l in S?[l]:[]:Object.keys(S);for(const Q of M){x=S[Q];const X=y!==void 0?_?this.getQuotedPatternKeys(x,y):d in x?[d]:[]:Object.keys(x);for(const V of X)T=x[V],m!==void 0?w?n+=[...this.getQuotedPatternKeys(T,m)].length:p in T&&n++:n+=Object.keys(T).length}}return n}}e.RdfStoreIndexNestedRecordQuoted=u},67626:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ExpressionFunctionCoalesce=void 0;const c=s(77617),o=s(77545);class u extends c.ExpressionFunctionBase{constructor(){super({arity:Number.POSITIVE_INFINITY,operator:o.SparqlOperator.COALESCE,apply:async({args:r,mapping:n,exprEval:t})=>{const a=[];for(const l of r)try{return await t.evaluatorExpressionEvaluation(l,n)}catch(d){a.push(d)}throw new o.CoalesceError(a)}})}}e.ExpressionFunctionCoalesce=u},67726:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FetchDocumentLoader=void 0,s(86547);const c=s(44063),o=s(2384),u=s(70742);e.FetchDocumentLoader=class{constructor(i){this.fetcher=i}async load(i){const r=await(this.fetcher||fetch)(i,{headers:new Headers({accept:"application/ld+json"})});if(r.ok&&r.headers){let n=r.headers.get("Content-Type");if(n){const t=n.indexOf(";");t>0&&(n=n.substr(0,t))}if(n==="application/ld+json")return await r.json();if(r.headers.has("Link")){let t;if(r.headers.forEach((a,l)=>{if(l==="link"){const d=(0,o.parse)(a);for(const p of d.get("type","application/ld+json"))if(p.rel==="alternate"){if(t)throw new Error("Multiple JSON-LD alternate links were found on "+i);t=(0,u.resolve)(p.uri,i)}}}),t)return this.load(t)}throw new c.ErrorCoded(`Unsupported JSON-LD media type ${n}`,c.ERROR_CODES.LOADING_DOCUMENT_FAILED)}throw new Error(r.statusText||`Status code: ${r.status}`)}}},67797:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DirectiveNodeHandlerAdapter=void 0,e.DirectiveNodeHandlerAdapter=class{constructor(s,c,o){this.targetKind=s,this.util=c,this.settings=o}getDirectiveConditionalValue(s,c){const o=this.util.getArgument(s.arguments,"if");if(!o)throw new Error(`The directive ${s.name.value} is missing an if-argument.`);const u=this.util.handleNodeValue(o.value,o.name.value,c);if(u.terms.length!==1)throw new Error(`Can not apply the directive ${s.name.value} with a list.`);return u.terms[0]}isDirectiveScopeAll(s){const c=this.util.getArgument(s.arguments,"scope");return c&&c.value.kind==="EnumValue"&&c.value.value==="all"}}},67828:function(g,e,s){var c=this&&this.__awaiter||function(d,p,f,h){return new(f||(f=Promise))(function(y,m){function b(w){try{_(h.next(w))}catch(S){m(S)}}function v(w){try{_(h.throw(w))}catch(S){m(S)}}function _(w){var S;w.done?y(w.value):(S=w.value,S instanceof f?S:new f(function(x){x(S)})).then(b,v)}_((h=h.apply(d,p||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.SparqlEndpointFetcher=void 0;const o=s(31232),u=s(25828),i=s(65806),r=s(98082),n=s(36884),t=s(34751),a=s(43789);class l{constructor(p){var f,h,y,m,b;this.method=(f=p?.method)!==null&&f!==void 0?f:"POST",this.timeout=p?.timeout,this.forceGetIfUrlLengthBelow=(h=p?.forceGetIfUrlLengthBelow)!==null&&h!==void 0?h:0,this.directPost=(y=p?.directPost)!==null&&y!==void 0&&y,this.additionalUrlParams=(m=p?.additionalUrlParams)!==null&&m!==void 0?m:new URLSearchParams,this.defaultHeaders=(b=p?.defaultHeaders)!==null&&b!==void 0?b:new Headers,this.fetchCb=p?.fetch,this.sparqlJsonParser=new n.SparqlJsonParser(p),this.sparqlXmlParser=new t.SparqlXmlParser(p),this.sparqlParsers={[l.CONTENTTYPE_SPARQL_JSON]:{parseBooleanStream:v=>this.sparqlJsonParser.parseJsonBooleanStream(v),parseResultsStream:v=>this.sparqlJsonParser.parseJsonResultsStream(v)},[l.CONTENTTYPE_SPARQL_XML]:{parseBooleanStream:v=>this.sparqlXmlParser.parseXmlBooleanStream(v),parseResultsStream:v=>this.sparqlXmlParser.parseXmlResultsStream(v)}}}getQueryType(p){const f=new r.Parser({sparqlStar:!0}).parse(p);return f.type==="query"?f.queryType==="DESCRIBE"?"CONSTRUCT":f.queryType:"UNKNOWN"}getUpdateTypes(p){const f=new r.Parser({sparqlStar:!0}).parse(p);if(f.type==="update"){const h={};for(const y of f.updates)"type"in y?h[y.type]=!0:h[y.updateType]=!0;return h}return"UNKNOWN"}fetchBindings(p,f){return c(this,void 0,void 0,function*(){const[h,y]=yield this.fetchRawStream(p,f,l.CONTENTTYPE_SPARQL),m=this.sparqlParsers[h];if(!m)throw new Error(`Unknown SPARQL results content type: ${h}`);return m.parseResultsStream(y)})}fetchAsk(p,f){return c(this,void 0,void 0,function*(){const[h,y]=yield this.fetchRawStream(p,f,l.CONTENTTYPE_SPARQL),m=this.sparqlParsers[h];if(!m)throw new Error(`Unknown SPARQL results content type: ${h}`);return m.parseBooleanStream(y)})}fetchTriples(p,f){return c(this,void 0,void 0,function*(){const[h,y]=yield this.fetchRawStream(p,f,l.CONTENTTYPE_TURTLE);return y.pipe(new u.StreamParser({format:h}))})}fetchUpdate(p,f){return c(this,void 0,void 0,function*(){const h=new AbortController,y={};this.defaultHeaders.forEach((b,v)=>{y[v]=b});const m={method:"POST",headers:Object.assign(Object.assign({},y),{"content-type":"application/sparql-update"}),body:f,signal:h.signal};yield this.handleFetchCall(p,m,{ignoreBody:!0}),h.abort()})}fetchRawStream(p,f,h){return c(this,void 0,void 0,function*(){let y,m,b;if(this.method==="POST"&&this.forceGetIfUrlLengthBelow<=p.length)y=this.method,m=p;else{const _=`${p}?query=${encodeURIComponent(f)}`;y=this.method==="GET"||_.length<this.forceGetIfUrlLengthBelow?"GET":"POST",m=y==="POST"?p:_}const v=new Headers(this.defaultHeaders);if(v.append("Accept",h),y==="POST"){if(this.directPost)v.append("Content-Type","application/sparql-query"),b=f,this.additionalUrlParams.toString().length>0&&(m+=`?${this.additionalUrlParams.toString()}`);else{v.append("Content-Type","application/x-www-form-urlencoded"),b=new URLSearchParams,b.set("query",f);for(const[_,w]of this.additionalUrlParams.entries())b.set(_,w)}v.append("Content-Length",b.toString().length.toString())}else this.additionalUrlParams.toString().length>0&&(m+=`&${this.additionalUrlParams.toString()}`);return this.handleFetchCall(m,{headers:v,method:y,body:b})})}handleFetchCall(p,f,h){return c(this,void 0,void 0,function*(){var y,m,b;let v,_;if(this.timeout){const S=new AbortController;f.signal=S.signal,v=setTimeout(()=>S.abort(),this.timeout)}const w=yield((y=this.fetchCb)!==null&&y!==void 0?y:fetch)(p,f);if(clearTimeout(v),!h?.ignoreBody&&w.body&&(_=o(w.body)?w.body:(0,i.readableFromWeb)(w.body)),!w.ok||!_&&!h?.ignoreBody){const S=p.split("?").at(0),x=_?yield a(_):"empty response";throw new Error(`Invalid SPARQL endpoint response from ${S} (HTTP status ${w.status}):
${x}`)}return[(b=(m=w.headers.get("Content-Type"))===null||m===void 0?void 0:m.split(";").at(0))!==null&&b!==void 0?b:"",_]})}}e.SparqlEndpointFetcher=l,l.CONTENTTYPE_SPARQL_JSON="application/sparql-results+json",l.CONTENTTYPE_SPARQL_XML="application/sparql-results+xml",l.CONTENTTYPE_TURTLE="text/turtle",l.CONTENTTYPE_SPARQL=`${l.CONTENTTYPE_SPARQL_JSON};q=1.0,${l.CONTENTTYPE_SPARQL_XML};q=0.7`},67831:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(45762),e)},67986:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DataFactory=void 0;const c=s(1078),o=s(18021),u=s(68159),i=s(59257),r=s(98701),n=s(74010);let t=0;e.DataFactory=class{constructor(a){this.blankNodeCounter=0,a=a||{},this.blankNodePrefix=a.blankNodePrefix||`df_${t++}_`}namedNode(a){return new i.NamedNode(a)}blankNode(a){return new c.BlankNode(a||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(a,l){return new u.Literal(a,l)}variable(a){return new n.Variable(a)}defaultGraph(){return o.DefaultGraph.INSTANCE}quad(a,l,d,p){return new r.Quad(a,l,d,p||this.defaultGraph())}fromTerm(a){switch(a.termType){case"NamedNode":return this.namedNode(a.value);case"BlankNode":return this.blankNode(a.value);case"Literal":return a.language?this.literal(a.value,a.language):a.datatype.equals(u.Literal.XSD_STRING)?this.literal(a.value):this.literal(a.value,this.fromTerm(a.datatype));case"Variable":return this.variable(a.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(a.subject),this.fromTerm(a.predicate),this.fromTerm(a.object),this.fromTerm(a.graph))}}fromQuad(a){return this.fromTerm(a)}resetBlankNodeCounter(){this.blankNodeCounter=0}}},68159:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Literal=void 0;const c=s(59257);class o{constructor(i,r){this.termType="Literal",this.value=i,typeof r=="string"?(this.language=r,this.datatype=o.RDF_LANGUAGE_STRING,this.direction=""):r?"termType"in r?(this.language="",this.datatype=r,this.direction=""):(this.language=r.language,this.datatype=r.direction?o.RDF_DIRECTIONAL_LANGUAGE_STRING:o.RDF_LANGUAGE_STRING,this.direction=r.direction||""):(this.language="",this.datatype=o.XSD_STRING,this.direction="")}equals(i){return!!i&&i.termType==="Literal"&&i.value===this.value&&i.language===this.language&&(i.direction===this.direction||!i.direction&&this.direction==="")&&this.datatype.equals(i.datatype)}}e.Literal=o,o.RDF_LANGUAGE_STRING=new c.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),o.RDF_DIRECTIONAL_LANGUAGE_STRING=new c.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#dirLangString"),o.XSD_STRING=new c.NamedNode("http://www.w3.org/2001/XMLSchema#string")},68219:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorOptimizeQueryOperationBgpToJoin=void 0;const c=s(38912),o=s(90711),u=s(90412),i=s(96331);class r extends c.ActorOptimizeQueryOperation{async test(t){return(0,u.passTestVoid)()}async run(t){const a=t.context.getSafe(o.KeysInitQuery.dataFactory),l=new i.Factory(a);return{operation:i.Util.mapOperation(t.operation,{bgp:(d,p)=>({recurse:!1,result:p.createJoin(d.patterns)})},l),context:t.context}}}e.ActorOptimizeQueryOperationBgpToJoin=r},68225:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ParseType=e.RdfXmlParser=void 0;const c=s(70742),o=s(55201),u=s(19198),i=s(5916),r=s(47793),n=s(17024);class t extends u.Transform{constructor(d){super({readableObjectMode:!0}),this.activeTagStack=[],this.nodeIds={},d&&(Object.assign(this,d),this.options=d),this.dataFactory||(this.dataFactory=new r.DataFactory),this.baseIRI||(this.baseIRI=""),this.defaultGraph||(this.defaultGraph=this.dataFactory.defaultGraph()),this.validateUri!==!1&&(this.validateUri=!0),this.iriValidationStrategy||(this.iriValidationStrategy=this.validateUri?n.IriValidationStrategy.Pragmatic:n.IriValidationStrategy.None),this.saxParser=new o.SaxesParser({xmlns:!0,position:this.trackPosition}),this.attachSaxListeners()}import(d){const p=new u.PassThrough({readableObjectMode:!0});d.on("error",h=>f.emit("error",h)),d.on("data",h=>p.push(h)),d.on("end",()=>p.push(null));const f=p.pipe(new t(this.options));return f}_transform(d,p,f){try{this.saxParser.write(d)}catch(h){return f(h)}f()}newParseError(d){return new i.ParseError(this,d)}valueToUri(d,p){return this.uriToNamedNode((0,c.resolve)(d,p.baseIRI))}uriToNamedNode(d){const p=(0,n.validateIri)(d,this.iriValidationStrategy);if(p instanceof Error)throw this.newParseError(p.message);return this.dataFactory.namedNode(d)}validateNcname(d){if(!t.NCNAME_MATCHER.test(d))throw this.newParseError(`Not a valid NCName: ${d}`)}attachSaxListeners(){this.saxParser.on("error",d=>this.emit("error",d)),this.saxParser.on("opentag",this.onTag.bind(this)),this.saxParser.on("text",this.onText.bind(this)),this.saxParser.on("cdata",this.onText.bind(this)),this.saxParser.on("closetag",this.onCloseTag.bind(this)),this.saxParser.on("doctype",this.onDoctype.bind(this))}onTag(d){const p=this.activeTagStack.length?this.activeTagStack[this.activeTagStack.length-1]:null;let f=a.RESOURCE;if(p&&(p.hadChildren=!0,f=p.childrenParseType),p&&p.childrenStringTags){const y=d.name;let m="";for(const _ in d.attributes)m+=` ${_}="${d.attributes[_].value}"`;const b=`<${y}${m}>`;p.childrenStringTags.push(b);const v={childrenStringTags:p.childrenStringTags};return v.childrenStringEmitClosingTag=`</${y}>`,void this.activeTagStack.push(v)}const h={};p?(h.language=p.language,h.baseIRI=p.baseIRI):h.baseIRI=this.baseIRI,this.activeTagStack.push(h),f===a.RESOURCE?this.onTagResource(d,h,p,!p):this.onTagProperty(d,h,p)}onTagResource(d,p,f,h){p.childrenParseType=a.PROPERTY;let y=!0;if(d.uri===t.RDF){if(!h&&t.FORBIDDEN_NODE_ELEMENTS.indexOf(d.local)>=0)throw this.newParseError(`Illegal node element name: ${d.local}`);switch(d.local){case"RDF":p.childrenParseType=a.RESOURCE;case"Description":y=!1}}const m=[],b=[];let v=null,_=!1,w=!1,S=null;for(const x in d.attributes){const T=d.attributes[x];if(f&&T.uri===t.RDF)switch(T.local){case"about":if(v)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${T.value} and ${v} where found.`);v=T.value;continue;case"ID":if(v)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${T.value} and ${v} where found.`);this.validateNcname(T.value),v="#"+T.value,_=!0;continue;case"nodeID":if(v)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${T.value} and ${v} where found.`);this.validateNcname(T.value),v=T.value,w=!0;continue;case"bagID":throw this.newParseError("rdf:bagID is not supported.");case"type":S=T.value;continue;case"aboutEach":throw this.newParseError("rdf:aboutEach is not supported.");case"aboutEachPrefix":throw this.newParseError("rdf:aboutEachPrefix is not supported.");case"li":throw this.newParseError("rdf:li on node elements are not supported.")}else if(T.uri===t.XML){if(T.local==="lang"){p.language=T.value===""?null:T.value.toLowerCase();continue}if(T.local==="base"){p.baseIRI=(0,c.resolve)(T.value,p.baseIRI);continue}}T.prefix==="xml"||T.prefix==="xmlns"||T.prefix===""&&T.local==="xmlns"||!T.uri||(m.push(this.uriToNamedNode(T.uri+T.local)),b.push(T.value))}if(v!==null&&(p.subject=w?this.dataFactory.blankNode(v):this.valueToUri(v,p),_&&this.claimNodeId(p.subject)),p.subject||(p.subject=this.dataFactory.blankNode()),y){const x=this.uriToNamedNode(d.uri+d.local);this.emitTriple(p.subject,this.dataFactory.namedNode(t.RDF+"type"),x,f?f.reifiedStatementId:null)}if(f){if(f.predicate)if(f.childrenCollectionSubject){const x=this.dataFactory.blankNode();this.emitTriple(f.childrenCollectionSubject,f.childrenCollectionPredicate,x,f.reifiedStatementId),this.emitTriple(x,this.dataFactory.namedNode(t.RDF+"first"),p.subject,p.reifiedStatementId),f.childrenCollectionSubject=x,f.childrenCollectionPredicate=this.dataFactory.namedNode(t.RDF+"rest")}else{this.emitTriple(f.subject,f.predicate,p.subject,f.reifiedStatementId);for(let x=0;x<f.predicateSubPredicates.length;x++)this.emitTriple(p.subject,f.predicateSubPredicates[x],f.predicateSubObjects[x],null);f.predicateSubPredicates=[],f.predicateSubObjects=[],f.predicateEmitted=!0}for(let x=0;x<m.length;x++){const T=this.dataFactory.literal(b[x],p.datatype||p.language);this.emitTriple(p.subject,m[x],T,f.reifiedStatementId)}S&&this.emitTriple(p.subject,this.dataFactory.namedNode(t.RDF+"type"),this.uriToNamedNode(S),null)}}onTagProperty(d,p,f){if(p.childrenParseType=a.RESOURCE,p.subject=f.subject,d.uri===t.RDF&&d.local==="li"?(f.listItemCounter||(f.listItemCounter=1),p.predicate=this.uriToNamedNode(d.uri+"_"+f.listItemCounter++)):p.predicate=this.uriToNamedNode(d.uri+d.local),d.uri===t.RDF&&t.FORBIDDEN_PROPERTY_ELEMENTS.indexOf(d.local)>=0)throw this.newParseError(`Illegal property element name: ${d.local}`);p.predicateSubPredicates=[],p.predicateSubObjects=[];let h=!1,y=!1,m=null,b=!0;const v=[],_=[];for(const w in d.attributes){const S=d.attributes[w];if(S.uri===t.RDF)switch(S.local){case"resource":if(m)throw this.newParseError(`Found both rdf:resource (${S.value}) and rdf:nodeID (${m}).`);if(h)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:resource (${S.value})`);p.hadChildren=!0,m=S.value,b=!1;continue;case"datatype":if(y)throw this.newParseError(`Found both non-rdf:* property attributes and rdf:datatype (${S.value}).`);if(h)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:datatype (${S.value})`);p.datatype=this.valueToUri(S.value,p);continue;case"nodeID":if(y)throw this.newParseError(`Found both non-rdf:* property attributes and rdf:nodeID (${S.value}).`);if(p.hadChildren)throw this.newParseError(`Found both rdf:resource and rdf:nodeID (${S.value}).`);if(h)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:nodeID (${S.value})`);this.validateNcname(S.value),p.hadChildren=!0,m=S.value,b=!0;continue;case"bagID":throw this.newParseError("rdf:bagID is not supported.");case"parseType":if(y)throw this.newParseError("rdf:parseType is not allowed when non-rdf:* property attributes are present");if(p.datatype)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:datatype (${p.datatype.value})`);if(m)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:nodeID or rdf:resource (${m})`);if(S.value==="Resource"){h=!0,p.childrenParseType=a.PROPERTY;const x=this.dataFactory.blankNode();this.emitTriple(p.subject,p.predicate,x,p.reifiedStatementId),p.subject=x,p.predicate=null}else S.value==="Collection"?(h=!0,p.hadChildren=!0,p.childrenCollectionSubject=p.subject,p.childrenCollectionPredicate=p.predicate,b=!1):S.value==="Literal"&&(h=!0,p.childrenTagsToString=!0,p.childrenStringTags=[]);continue;case"ID":this.validateNcname(S.value),p.reifiedStatementId=this.valueToUri("#"+S.value,p),this.claimNodeId(p.reifiedStatementId);continue}else if(S.uri===t.XML&&S.local==="lang"){p.language=S.value===""?null:S.value.toLowerCase();continue}if(S.prefix!=="xml"&&S.prefix!=="xmlns"&&(S.prefix!==""||S.local!=="xmlns")&&S.uri){if(h||p.datatype)throw this.newParseError(`Found illegal rdf:* properties on property element with attribute: ${S.value}`);p.hadChildren=!0,y=!0,v.push(this.uriToNamedNode(S.uri+S.local)),_.push(this.dataFactory.literal(S.value,p.datatype||p.language))}}if(m!==null){const w=p.subject;p.subject=b?this.dataFactory.blankNode(m):this.valueToUri(m,p),this.emitTriple(w,p.predicate,p.subject,p.reifiedStatementId);for(let S=0;S<v.length;S++)this.emitTriple(p.subject,v[S],_[S],null);p.predicateEmitted=!0}else b&&(p.predicateSubPredicates=v,p.predicateSubObjects=_,p.predicateEmitted=!1)}emitTriple(d,p,f,h){this.push(this.dataFactory.quad(d,p,f,this.defaultGraph)),h&&(this.push(this.dataFactory.quad(h,this.dataFactory.namedNode(t.RDF+"type"),this.dataFactory.namedNode(t.RDF+"Statement"),this.defaultGraph)),this.push(this.dataFactory.quad(h,this.dataFactory.namedNode(t.RDF+"subject"),d,this.defaultGraph)),this.push(this.dataFactory.quad(h,this.dataFactory.namedNode(t.RDF+"predicate"),p,this.defaultGraph)),this.push(this.dataFactory.quad(h,this.dataFactory.namedNode(t.RDF+"object"),f,this.defaultGraph)))}claimNodeId(d){if(!this.allowDuplicateRdfIds){if(this.nodeIds[d.value])throw this.newParseError(`Found multiple occurrences of rdf:ID='${d.value}'.`);this.nodeIds[d.value]=!0}}onText(d){const p=this.activeTagStack.length?this.activeTagStack[this.activeTagStack.length-1]:null;p&&(p.childrenStringTags?p.childrenStringTags.push(d):p.predicate&&(p.text=d))}onCloseTag(){const d=this.activeTagStack.pop();if(d.childrenStringEmitClosingTag&&d.childrenStringTags.push(d.childrenStringEmitClosingTag),d.childrenTagsToString&&(d.datatype=this.dataFactory.namedNode(t.RDF+"XMLLiteral"),d.text=d.childrenStringTags.join(""),d.hadChildren=!1),d.childrenCollectionSubject)this.emitTriple(d.childrenCollectionSubject,d.childrenCollectionPredicate,this.dataFactory.namedNode(t.RDF+"nil"),d.reifiedStatementId);else if(d.predicate)if(d.hadChildren||d.childrenParseType===a.PROPERTY){if(!d.predicateEmitted){const p=this.dataFactory.blankNode();this.emitTriple(d.subject,d.predicate,p,d.reifiedStatementId);for(let f=0;f<d.predicateSubPredicates.length;f++)this.emitTriple(p,d.predicateSubPredicates[f],d.predicateSubObjects[f],null)}}else this.emitTriple(d.subject,d.predicate,this.dataFactory.literal(d.text||"",d.datatype||d.language),d.reifiedStatementId)}onDoctype(d){d.replace(/<!ENTITY\s+([^\s]+)\s+["']([^"']+)["']\s*>/g,(p,f,h)=>(this.saxParser.ENTITIES[f]=h,""))}}var a;e.RdfXmlParser=t,t.MIME_TYPE="application/rdf+xml",t.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",t.XML="http://www.w3.org/XML/1998/namespace",t.FORBIDDEN_NODE_ELEMENTS=["RDF","ID","about","bagID","parseType","resource","nodeID","li","aboutEach","aboutEachPrefix"],t.FORBIDDEN_PROPERTY_ELEMENTS=["Description","RDF","ID","about","bagID","parseType","resource","nodeID","aboutEach","aboutEachPrefix"],t.NCNAME_MATCHER=/^([A-Za-z\xC0-\xD6\xD8-\xF6\u{F8}-\u{2FF}\u{370}-\u{37D}\u{37F}-\u{1FFF}\u{200C}-\u{200D}\u{2070}-\u{218F}\u{2C00}-\u{2FEF}\u{3001}-\u{D7FF}\u{F900}-\u{FDCF}\u{FDF0}-\u{FFFD}\u{10000}-\u{EFFFF}_])([A-Za-z\xC0-\xD6\xD8-\xF6\u{F8}-\u{2FF}\u{370}-\u{37D}\u{37F}-\u{1FFF}\u{200C}-\u{200D}\u{2070}-\u{218F}\u{2C00}-\u{2FEF}\u{3001}-\u{D7FF}\u{F900}-\u{FDCF}\u{FDF0}-\u{FFFD}\u{10000}-\u{EFFFF}_\-.0-9#xB7\u{0300}-\u{036F}\u{203F}-\u{2040}])*$/u,(function(l){l[l.RESOURCE=0]="RESOURCE",l[l.PROPERTY=1]="PROPERTY"})(a||(e.ParseType=a={}))},68307:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryDedicated=void 0;const c=s(90412),o=s(1028);class u extends o.ActorFunctionFactory{constructor(r){super(r)}async test(r){return!this.functionNames.includes(r.functionName)||!this.termFunction&&r.requireTermExpression?(0,c.failTest)(`Actor ${this.name} can not provide implementation for "${r.functionName}", only for ${this.termFunction?"":"non-termExpression "}${this.functionNames.join(" and ")}.`):(0,c.passTestVoid)()}}e.ActorFunctionFactoryDedicated=u},68337:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermDictionaryQuotedIndexed=void 0;const c=s(28664),o=s(42449),u=s(95439);class i{constructor(n,t=new c.DataFactory){this.quotedTriplesDictionary=[],this.features={quotedTriples:!0},this.plainTermDictionary=n;const a={indexCombinations:[],indexConstructor:void 0,dictionary:this,dataFactory:t};this.quotedTriplesReverseDictionaries=[new o.RdfStoreIndexNestedMap(a),new o.RdfStoreIndexNestedMap(a),new o.RdfStoreIndexNestedMap(a)],this.dataFactory=t}encode(n){return n.termType==="Quad"?this.encodeQuotedTriple(n,!1):this.plainTermDictionary.encode(n)}encodeQuotedTriple(n,t){if(n.graph.termType!=="DefaultGraph")throw new Error("Encoding of quoted quads outside of the default graph is not allowed");const a=(0,u.encodeOptionalTerms)([n.subject,n.predicate,n.object,n.graph],this),l=a&&a.every(h=>h!==void 0)?this.quotedTriplesReverseDictionaries[0].getEncoded(a):void 0;if(l!==void 0||t)return l===void 0?void 0:i.BITMASK|l;const d=[this.encode(n.subject),this.encode(n.predicate),this.encode(n.object)],p=this.quotedTriplesDictionary.length+1;this.quotedTriplesDictionary.push(d);const f=this.encode(this.dataFactory.defaultGraph());return this.quotedTriplesReverseDictionaries[0].set([d[0],d[1],d[2],f],p),this.quotedTriplesReverseDictionaries[1].set([d[1],d[2],d[0],f],p),this.quotedTriplesReverseDictionaries[2].set([d[2],d[0],d[1],f],p),i.BITMASK|p}encodeOptional(n){return n.termType==="Quad"?this.encodeQuotedTriple(n,!0):this.plainTermDictionary.encodeOptional(n)}decode(n){if(i.BITMASK&n){const t=(~i.BITMASK&n)-1;if(t>=this.quotedTriplesDictionary.length)throw new Error(`The value ${n} is not present in the quoted triples range of the dictionary`);const a=this.quotedTriplesDictionary[t];return this.dataFactory.quad(this.decode(a[0]),this.decode(a[1]),this.decode(a[2]))}return this.plainTermDictionary.decode(n)}*encodings(){for(const n of this.plainTermDictionary.encodings())yield n;for(const n of this.quotedTriplesDictionary.keys())yield i.BITMASK|1+n}*findQuotedTriples(n){for(const t of this.findQuotedTriplesEncoded(n))yield this.decode(t)}*findQuotedTriplesEncoded(n){const[t,a]=(0,u.quadToPattern)(n.subject,n.predicate,n.object,n.graph,!0);for(const l of this.patternToIterable(t[0]))for(const d of this.patternToIterable(t[1]))for(const p of this.patternToIterable(t[2]))for(const f of this.patternToIterable(t[3]))if(l&&d||!d&&!p){const h=[l,d,p,f];for(const y of this.quotedTriplesReverseDictionaries[0].findEncoded(h,t))yield i.BITMASK|this.quotedTriplesReverseDictionaries[0].getEncoded(y)}else if(!l&&d){const h=[d,p,l,f];for(const y of this.quotedTriplesReverseDictionaries[1].findEncoded(h,t))yield i.BITMASK|this.quotedTriplesReverseDictionaries[1].getEncoded(y)}else{const h=[p,l,d,f];for(const y of this.quotedTriplesReverseDictionaries[2].findEncoded(h,t))yield i.BITMASK|this.quotedTriplesReverseDictionaries[2].getEncoded(y)}}*patternToIterable(n){if(n?.termType==="Quad")return void(yield*this.findQuotedTriplesEncoded(n));if(n===void 0)return void(yield);const t=this.encodeOptional(n);t!==void 0&&(yield t)}}e.TermDictionaryQuotedIndexed=i,i.BITMASK=1<<31},68350:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(13824),e)},68395:g=>{g.exports=JSON.parse('{"http://schema.org/":{"properties":{"additionalType":{"subPropertyOf":"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"}}},"http://microformats.org/profile/hcard":{}}')},68435:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryExpressionIf=void 0;const c=s(77617),o=s(77545),u=s(20550);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.SparqlOperator.IF],termFunction:!1})}async run(n){return new u.ExpressionFunctionIf}}e.ActorFunctionFactoryExpressionIf=i},68545:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(67313),e)},68686:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ItemPropertyHandlerContent=void 0,e.ItemPropertyHandlerContent=class{canHandle(s,c){return"content"in c}getObject(s,c,o){return c.createLiteral(s.content,o)}}},68812:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Literal=void 0;const c=s(98958);class o{constructor(i,r){this.termType="Literal",this.value=i,typeof r=="string"?(this.language=r,this.datatype=o.RDF_LANGUAGE_STRING,this.direction=""):r?"termType"in r?(this.language="",this.datatype=r,this.direction=""):(this.language=r.language,this.datatype=r.direction?o.RDF_DIRECTIONAL_LANGUAGE_STRING:o.RDF_LANGUAGE_STRING,this.direction=r.direction||""):(this.language="",this.datatype=o.XSD_STRING,this.direction="")}equals(i){return!!i&&i.termType==="Literal"&&i.value===this.value&&i.language===this.language&&(i.direction===this.direction||!i.direction&&this.direction==="")&&this.datatype.equals(i.datatype)}}e.Literal=o,o.RDF_LANGUAGE_STRING=new c.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),o.RDF_DIRECTIONAL_LANGUAGE_STRING=new c.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#dirLangString"),o.XSD_STRING=new c.NamedNode("http://www.w3.org/2001/XMLSchema#string")},69e3:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfParseShaclc=void 0;const c=s(95124),o=s(52728),u=s(19198),i=s(37141),r=s(44680);class n extends c.ActorRdfParseFixedMediaTypes{constructor(a){super(a)}async runHandle(a,l,d){const p=new r.PrefixWrappingIterator((0,o.stringify)(a.data).then(h=>(0,i.parse)(h,{extendedSyntax:l==="text/shaclc-ext",baseIRI:a.metadata?.baseIRI}))),f=new u.Readable({objectMode:!0});return p.on("prefix",(...h)=>f.emit("prefix",...h)),{data:f.wrap(p),metadata:{triples:!0}}}}e.ActorRdfParseShaclc=n},69160:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfUpdateQuadsRdfJsStore=void 0;const c=s(16657),o=s(90711),u=s(90412),i=s(29200);class r extends c.ActorRdfUpdateQuadsDestination{constructor(t){super(t)}async test(t){const a=(0,c.getContextDestination)(t.context);return!a||typeof a=="string"||!("remove"in a)&&"value"in a&&!a.value?.remove?(0,u.failTest)(`${this.name} received an invalid rdfjsStore.`):(0,u.passTestVoid)()}async getDestination(t){const a=(0,c.getContextDestination)(t);return new i.RdfJsQuadDestination(t.getSafe(o.KeysInitQuery.dataFactory),"remove"in a?a:a.value)}}e.ActorRdfUpdateQuadsRdfJsStore=r},69165:(g,e)=>{function s(o){for(var u=0;u<o.length;++u)if(o[u]!==" "&&o[u]!=="	")return!1;return!0}function c(o){for(var u,i=!0,r=!0,n=0,t=null,a=0;a<o.length;++a)switch(o.charCodeAt(a)){case 13:o.charCodeAt(a+1)===10&&++a;case 10:i=!1,r=!0,n=0;break;case 9:case 32:++n;break;default:r&&!i&&(t===null||n<t)&&(t=n),r=!1}return(u=t)!==null&&u!==void 0?u:0}Object.defineProperty(e,"__esModule",{value:!0}),e.dedentBlockStringValue=function(o){var u=o.split(/\r\n|[\n\r]/g),i=c(o);if(i!==0)for(var r=1;r<u.length;r++)u[r]=u[r].slice(i);for(var n=0;n<u.length&&s(u[n]);)++n;for(var t=u.length;t>n&&s(u[t-1]);)--t;return u.slice(n,t).join(`
`)},e.getBlockStringIndentation=c,e.printBlockString=function(o){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2&&arguments[2]!==void 0&&arguments[2],r=o.indexOf(`
`)===-1,n=o[0]===" "||o[0]==="	",t=o[o.length-1]==='"',a=o[o.length-1]==="\\",l=!r||t||a||i,d="";return!l||r&&n||(d+=`
`+u),d+=u?o.replace(/\n/g,`
`+u):o,l&&(d+=`
`),'"""'+d.replace(/"""/g,'\\"""')+'"""'}},69636:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(15721),e)},69667:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(45978),e),o(s(41073),e)},69721:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(77447),e)},69749:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(92710),e),o(s(40972),e),o(s(39479),e),o(s(14465),e),o(s(5213),e),o(s(6429),e)},69844:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.xmlDecodeTree=void 0,e.xmlDecodeTree=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(s=>s.charCodeAt(0)))},69909:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryExpressionBnode=void 0;const c=s(77617),o=s(77545),u=s(5526);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.SparqlOperator.BNODE],termFunction:!1})}async run(n){return new u.ExpressionFunctionBnode}}e.ActorFunctionFactoryExpressionBnode=i},70020:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.QuerySourceRdfJs=void 0;const c=s(559),o=s(90711),u=s(99214),i=s(75627),r=s(3285),n=s(96331);class t{constructor(l,d,p){this.source=l,this.referenceValue=l,this.dataFactory=d,this.bindingsFactory=p;const f=new n.Factory(this.dataFactory);this.selectorShape={type:"operation",operation:{operationType:"pattern",pattern:f.createPattern(this.dataFactory.variable("s"),this.dataFactory.variable("p"),this.dataFactory.variable("o"))},variablesOptional:[this.dataFactory.variable("s"),this.dataFactory.variable("p"),this.dataFactory.variable("o")]},this.dummyDefaultGraph=this.dataFactory.variable("__comunica:defaultGraph")}static nullifyVariables(l,d){return!l||l.termType==="Variable"||!d&&l.termType==="Quad"&&(0,r.someTermsNested)(l,p=>p.termType==="Variable")?void 0:l}static hasDuplicateVariables(l){const d=(0,r.filterTermsNested)(l,p=>p.termType==="Variable");return d.length>1&&(0,r.uniqTerms)(d).length<d.length}async getSelectorShape(){return this.selectorShape}queryBindings(l,d){if(l.type!=="pattern")throw new Error(`Attempted to pass non-pattern operation '${l.type}' to QuerySourceRdfJs`);const p=!!d.get(o.KeysQueryOperation.unionDefaultGraph);if(l.graph.termType==="DefaultGraph"&&p&&(l.graph=this.dummyDefaultGraph),"matchBindings"in this.source&&this.source.matchBindings){const m=this.source.matchBindings(this.bindingsFactory,l.subject,l.predicate,l.object,l.graph);let b=m instanceof i.AsyncIterator?m:(0,i.wrap)(m,{autoStart:!1}),v=!1;if(l.graph.termType==="Variable"&&!p){v=!0;const w=l.graph;b=b.filter(S=>S.get(w).termType!=="DefaultGraph")}l.graph.equals(this.dummyDefaultGraph)&&(b=b.map(w=>w.delete(this.dummyDefaultGraph)),l.graph=this.dataFactory.defaultGraph());const _=(0,c.getVariables)(l).map(w=>({variable:w,canBeUndef:!1}));return this.setMetadata(b,l,d,v,{variables:_}).catch(w=>b.destroy(w)),b}const f=!!("features"in this.source&&this.source.features?.quotedTripleFiltering),h=this.source.match(t.nullifyVariables(l.subject,f),t.nullifyVariables(l.predicate,f),t.nullifyVariables(l.object,f),t.nullifyVariables(l.graph,f));let y=h instanceof i.AsyncIterator?h:(0,i.wrap)(h,{autoStart:!1});return f||(y=(0,c.filterMatchingQuotedQuads)(l,y)),y.getProperty("metadata")||this.setMetadata(y,l,d).catch(m=>y.destroy(m)),l.graph.equals(this.dummyDefaultGraph)&&(l.graph=this.dataFactory.defaultGraph()),(0,c.quadsToBindings)(y,l,this.dataFactory,this.bindingsFactory,!!d.get(o.KeysQueryOperation.unionDefaultGraph))}async setMetadata(l,d,p,f=!1,h={}){const y=!!("features"in this.source&&this.source.features?.quotedTripleFiltering),m=!!p.get(o.KeysQueryOperation.unionDefaultGraph);let b;if(d.graph.termType==="DefaultGraph"&&m&&(d.graph=this.dummyDefaultGraph),"countQuads"in this.source&&this.source.countQuads)b=await this.source.countQuads(t.nullifyVariables(d.subject,y),t.nullifyVariables(d.predicate,y),t.nullifyVariables(d.object,y),t.nullifyVariables(d.graph,y));else{let _=0;b=await new Promise((w,S)=>{let x=this.source.match(t.nullifyVariables(d.subject,y),t.nullifyVariables(d.predicate,y),t.nullifyVariables(d.object,y),t.nullifyVariables(d.graph,y));typeof x.on!="function"&&(x=new i.ArrayIterator(x)),x.on("error",S),x.on("end",()=>w(_)),x.on("data",()=>_++)})}const v=!y&&(0,r.someTerms)(d,_=>_.termType==="Quad")||t.hasDuplicateVariables(d);l.setProperty("metadata",{state:new u.MetadataValidationState,cardinality:{type:v||f?"estimate":"exact",value:b},requestTime:0,...h})}queryQuads(l,d){throw new Error("queryQuads is not implemented in QuerySourceRdfJs")}queryBoolean(l,d){throw new Error("queryBoolean is not implemented in QuerySourceRdfJs")}queryVoid(l,d){throw new Error("queryVoid is not implemented in QuerySourceRdfJs")}toString(){return`QuerySourceRdfJs(${this.source.constructor.name})`}}e.QuerySourceRdfJs=t},70047:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.stringQuadToQuad=e.quadToStringQuad=e.stringToTerm=e.getLiteralLanguage=e.getLiteralType=e.getLiteralValue=e.termToString=void 0;const c=new(s(47793)).DataFactory;function o(t){if(t)switch(t.termType){case"NamedNode":case"DefaultGraph":return t.value;case"BlankNode":return"_:"+t.value;case"Literal":const a=t;return'"'+a.value+'"'+(a.datatype&&a.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&a.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?"^^"+a.datatype.value:"")+(a.language?"@"+a.language:"");case"Quad":return`<<${o(t.subject)} ${o(t.predicate)} ${o(t.object)}${t.graph.termType==="DefaultGraph"?"":" "+o(t.graph)}>>`;case"Variable":return"?"+t.value}}function u(t){const a=/^"([^]*)"/.exec(t);if(!a)throw new Error(t+" is not a literal");return a[1]}function i(t){const a=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(t);if(!a)throw new Error(t+" is not a literal");return a[1]||(a[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}function r(t){const a=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(t);if(!a)throw new Error(t+" is not a literal");return a[1]?a[1].toLowerCase():""}function n(t,a){if(a=a||c,!t||!t.length)return a.defaultGraph();switch(t[0]){case"_":return a.blankNode(t.substr(2));case"?":if(!a.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return a.variable(t.substr(1));case'"':const l=r(t),d=a.namedNode(i(t));return a.literal(u(t),l||d);default:if(t[0]==="<"&&t.length>4&&t[1]==="<"&&t[t.length-1]===">"&&t[t.length-2]===">"){const p=t.slice(2,-2).trim();let f=[],h=0,y=0,m=!1;for(let b=0;b<p.length;b++){const v=p[b];if(v==="<"&&h++,v===">"){if(h===0)throw new Error("Found closing tag without opening tag in "+t);h--}if(v==='"'){let _=!1,w=b;for(;w-- >0&&p[w]==="\\";)_=!_;_||(m=!m)}if(v===" "&&!m&&h===0){for(f.push(p.slice(y,b));p[b+1]===" ";)b+=1;y=b+1}}if(h!==0)throw new Error("Found opening tag without closing tag in "+t);if(f.push(p.slice(y,p.length)),f.length!==3&&f.length!==4)throw new Error("Nested quad syntax error "+t);return f=f.map(b=>b.startsWith("<")&&!b.includes(" ")?b.slice(1,-1):b),a.quad(n(f[0]),n(f[1]),n(f[2]),f[3]?n(f[3]):void 0)}return a.namedNode(t)}}e.termToString=o,e.getLiteralValue=u,e.getLiteralType=i,e.getLiteralLanguage=r,e.stringToTerm=n,e.quadToStringQuad=function(t){return{subject:o(t.subject),predicate:o(t.predicate),object:o(t.object),graph:o(t.graph)}},e.stringQuadToQuad=function(t,a){return(a=a||c).quad(n(t.subject,a),n(t.predicate,a),n(t.object,a),n(t.graph,a))}},70071:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getQuads=e.getDefaultGraphs=e.getVariables=e.getLiterals=e.getBlankNodes=e.getNamedNodes=e.getTermsOfType=e.uniqTerms=e.TERM_TYPES=void 0;const c=s(5603);function o(u,i){return u.filter(r=>r.termType===i)}e.TERM_TYPES=["NamedNode","BlankNode","Literal","Variable","DefaultGraph","Quad"],e.uniqTerms=function(u){const i={};return u.filter(r=>{const n=(0,c.termToString)(r);return!(n in i)&&(i[n]=!0)})},e.getTermsOfType=o,e.getNamedNodes=function(u){return o(u,"NamedNode")},e.getBlankNodes=function(u){return o(u,"BlankNode")},e.getLiterals=function(u){return o(u,"Literal")},e.getVariables=function(u){return o(u,"Variable")},e.getDefaultGraphs=function(u){return o(u,"DefaultGraph")},e.getQuads=function(u){return o(u,"Quad")}},70177:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermDay=void 0;const c=s(77617),o=s(77545),u=s(9430);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.SparqlOperator.DAY],termFunction:!0})}async run(n){return new u.TermFunctionDay}}e.ActorFunctionFactoryTermDay=i},70189:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(I,j,P,L){L===void 0&&(L=P);var G=Object.getOwnPropertyDescriptor(j,P);G&&!("get"in G?!j.__esModule:G.writable||G.configurable)||(G={enumerable:!0,get:function(){return j[P]}}),Object.defineProperty(I,L,G)}:function(I,j,P,L){L===void 0&&(L=P),I[L]=j[P]}),o=this&&this.__setModuleDefault||(Object.create?function(I,j){Object.defineProperty(I,"default",{enumerable:!0,value:j})}:function(I,j){I.default=j}),u=this&&this.__importStar||function(I){if(I&&I.__esModule)return I;var j={};if(I!=null)for(var P in I)P!=="default"&&Object.prototype.hasOwnProperty.call(I,P)&&c(j,I,P);return o(j,I),j},i=this&&this.__importDefault||function(I){return I&&I.__esModule?I:{default:I}};Object.defineProperty(e,"__esModule",{value:!0});const r=s(29252),n=s(32072),t=u(s(8498)),a=i(s(35344)),l=i(s(53496)),d=s(98082).Parser,p=t.types;let f,h=new Set,y=0,m=!1;function b(I,j,P){if(h=new Set,y=0,m=!!j,!I.type)return f.createNop();if(I.type!=="query"&&I.type!=="update")throw new Error("Translate only works on complete query or update objects.");let L;var G;return w(I),I.type==="query"?(L=x({type:"group",patterns:I.where||[]}),L=(function(te,W){const ce=te,de=[],Se={};if(ce.variables=ce.variables&&ce.variables.map(me=>$(me,Se)),ce.having=ce.having&&ce.having.map(me=>$(me,Se)),ce.order=ce.order&&ce.order.map(me=>$(me,Se)),ce.group||Object.keys(Se).length>0){const me=Object.keys(Se).map(ve=>(function(xe,q){if(xe.type!=="aggregate"||!xe.aggregation)throw new Error(`Unexpected input: ${JSON.stringify(xe)}`);const N=T(xe);return N.variable=q,N})(Se[ve],f.createTerm(ve))),oe=[];if(ce.group)for(const ve of ce.group)if(l.default.isSimpleTerm(ve.expression))oe.push(ve.expression);else{const xe="variable"in ve?ve.variable:M();W=f.createExtend(W,xe,T(ve.expression)),oe.push(xe)}W=f.createGroup(W,oe,me)}if(ce.having)for(let me of ce.having)W=f.createFilter(W,T(me));te.values&&(W=f.createJoin([W,k(te)]));let ie=[];if(te.queryType==="SELECT"||te.queryType==="DESCRIBE")if(te.variables.some(me=>me&&l.default.isWildcard(me)))ie=Object.values(S(te)).sort((me,oe)=>me.value.localeCompare(oe.value));else for(let me of te.variables)_(me)||!("variable"in me)?ie.push(me):me.variable&&(ie.push(me.variable),de.push(me));for(let me of de)W=f.createExtend(W,me.variable,T(me.expression));return ce.order&&(W=f.createOrderBy(W,ce.order.map(me=>{let oe=T(me.expression);return me.descending&&(oe=f.createOperatorExpression("desc",[oe])),oe}))),te.queryType==="SELECT"&&(W=f.createProject(W,ie)),ce.distinct&&(W=f.createDistinct(W)),ce.reduced&&(W=f.createReduced(W)),te.queryType==="CONSTRUCT"?W=f.createConstruct(W,(te.template||[]).map(Q)):te.queryType==="ASK"?W=f.createAsk(W):te.queryType==="DESCRIBE"&&(W=f.createDescribe(W,ie)),(ce.offset||ce.limit)&&(W=f.createSlice(W,ce.offset||0,ce.limit)),ce.from&&(W=f.createFrom(W,ce.from.default,ce.from.named)),W})(I,L)):I.type==="update"&&(L=(G=I).updates.length===1?ae(G.updates[0]):f.createCompositeUpdate(G.updates.map(ae))),P&&(L=ye(L)),L}function v(I){return!!I?.termType}function _(I){return I?.termType==="Variable"}function w(I){if(v(I))_(I)&&h.add(`?${I.value}`);else if(Array.isArray(I))for(const j of I)w(j);else if(I&&typeof I=="object")for(let j of Object.keys(I))j.startsWith("?")?h.add(j):j.startsWith("$")&&h.add(`?${j.slice(1)}`),w(I[j])}function S(I){let j={};if((P=I).subject&&P.predicate&&P.object){const L=[S(I.subject),S(I.predicate),S(I.object),I.graph?S(I.graph):{}];Object.assign(j,...L)}else if(v(I))_(I)&&(j[I.value]=I);else if(I.type==="bgp"){const L=I.triples;Object.assign(j,...L.map(S))}else if(I.type==="path")Object.assign(j,...I.items.map(S));else if(I.type==="group"||I.type==="union"||I.type==="optional")Object.assign(j,...I.patterns.map(S));else if(I.type==="service"||I.type==="graph")Object.assign(j,S(I.name)),Object.assign(j,...I.patterns.map(S));else if(I.type==="bind")Object.assign(j,S(I.variable));else if(I.type==="values"){if(I.values.length>0){const L=Object.keys(I.values[0]).map(G=>f.createTerm(G));Object.assign(j,...L.map(S))}}else if(I.type==="query"&&(I.queryType==="SELECT"||I.queryType==="DESCRIBE")){I.where&&I.variables.some(l.default.isWildcard)&&Object.assign(j,...I.where.map(S));for(const L of I.variables)_(L)?Object.assign(j,S(L)):L.variable&&Object.assign(j,S(L.variable));if(I.queryType==="SELECT"){if(I.group)for(const L of I.group)L.variable&&Object.assign(j,S(L.variable));if(I.values){const L={type:"values",values:I.values};Object.assign(j,S(L))}}}var P;return j}function x(I){if(I.type==="bgp")return(function(j){let P=[],L=[];for(let G of j.triples)if("pathType"in G.predicate){let te=O(G);for(let W of te)W.type===p.PATH?(P.length>0&&L.push(f.createBgp(P)),P=[],L.push(W)):P.push(W)}else P.push(Q(G));return P.length>0&&L.push(f.createBgp(P)),L.length===1?L[0]:f.createJoin(L)})(I);if(I.type==="union")return f.createUnion(I.patterns.map(j=>(j.type!=="group"&&(j={type:"group",patterns:[j]}),x(j))));if(I.type==="graph"){let j=x({type:"group",patterns:I.patterns});return j=m?V(j,I.name):f.createGraph(j,I.name),j}if(I.type==="values")return k(I);if(I.type==="query")return b(I,m,!1);if(I.type==="group"){let j=[],P=[];for(let te of I.patterns)(te.type==="filter"?j:P).push(te);let L=P.reduce(H,f.createBgp([])),G=j.map(te=>T(te.expression));return G.length>0&&(L=f.createFilter(L,G.reduce((te,W)=>f.createOperatorExpression("&&",[te,W])))),L}throw new Error(`Unexpected type: ${I.type}`)}function T(I){if(l.default.isSimpleTerm(I))return f.createTermExpression(I);if(l.default.isQuad(I))return l.default.hasQuadVariables(I)?f.createOperatorExpression("triple",[T(I.subject),T(I.predicate),T(I.object)]):f.createTermExpression(I);if(l.default.isWildcard(I))return f.createWildcardExpression();if("aggregation"in I)return f.createAggregateExpression(I.aggregation,T(I.expression),!!I.distinct,I.separator);if("function"in I)return f.createNamedExpression(I.function,I.args.map(T));if("operator"in I)return I.operator==="exists"||I.operator==="notexists"?f.createExistenceExpression(I.operator==="notexists",x(I.args[0])):(I.operator!=="in"&&I.operator!=="notin"||(I.args=[I.args[0]].concat(I.args[1])),f.createOperatorExpression(I.operator,I.args.map(T)));throw new Error(`Unknown expression: ${JSON.stringify(I)}`)}function O(I){return R(I.subject,E(I.predicate),I.object)}function E(I){if(l.default.isSimpleTerm(I)){if(I.termType==="NamedNode")return f.createLink(I);throw new Error(`Path predicate should be a NamedNode, got ${JSON.stringify(I)}`)}if(I.pathType==="^")return f.createInv(E(I.items[0]));if(I.pathType==="!"){let j,P=[],L=[];j="pathType"in I.items[0]&&I.items[0].pathType==="|"?I.items[0].items:I.items;for(let W of j)if(l.default.isSimpleTerm(W))P.push(W);else{if(W.pathType!=="^")throw new Error(`Unexpected item: ${JSON.stringify(W)}`);L.push(W.items[0])}let G=f.createNps(P),te=f.createInv(f.createNps(L));return L.length===0?G:P.length===0?te:f.createAlt([G,te])}if(I.pathType==="/")return f.createSeq(I.items.map(E));if(I.pathType==="|")return f.createAlt(I.items.map(E));if(I.pathType==="*")return f.createZeroOrMorePath(E(I.items[0]));if(I.pathType==="+")return f.createOneOrMorePath(E(I.items[0]));if(I.pathType==="?")return f.createZeroOrOnePath(E(I.items[0]));throw new Error(`Unable to translate path expression ${JSON.stringify(I)}`)}function R(I,j,P){if(j.type===p.LINK)return[f.createPattern(I,j.iri,P)];if(j.type===p.INV)return R(P,j.path,I);if(j.type===p.SEQ){let L=I;return l.default.flatten(j.input.map((G,te)=>{const W=te===j.input.length-1?P:M(),ce=R(L,G,W);return W.termType==="Variable"&&(L=W),ce}))}return[f.createPath(I,j,P)]}function M(){let I="?var"+y++;return h.has(I)?M():(h.add(I),f.createTerm(I))}function Q(I){if("pathType"in I.predicate)throw new Error("Trying to translate property path to quad.");return f.createPattern(I.subject,I.predicate,I.object,I.graph)}e.default=function(I,j){let P;if(j=j||{},f=new a.default(j.dataFactory),typeof I=="string"){let L=new d(j);L._resetBlanks(),P=L.parse(I)}else P=I;return b(P,j.quads,j.blankToVariable)};let X=Object.values(p);function V(I,j,P){if(I.type===p.GRAPH){if(P)throw new Error("Recursing through nested GRAPH statements with a replacement is impossible.");I=V(I.input,I.name)}else if(I.type!==p.SERVICE)if(I.type===p.BGP)I.patterns=I.patterns.map(L=>(P&&(L.subject.equals(j)&&(L.subject=P),L.predicate.equals(j)&&(L.predicate=P),L.object.equals(j)&&(L.object=P)),L.graph.termType==="DefaultGraph"&&(L.graph=j),L));else if(I.type===p.PATH)P&&(I.subject.equals(j)&&(I.subject=P),I.object.equals(j)&&(I.object=P)),I.graph.termType==="DefaultGraph"&&(I.graph=j);else if(I.type!==p.PROJECT||P)if(I.type!==p.EXTEND||P)for(let L of Object.keys(I))Array.isArray(I[L])?I[L]=I[L].map(G=>V(G,j,P)):X.indexOf(I[L].type)>=0?I[L]=V(I[L],j,P):P&&_(I[L])&&I[L].equals(j)&&(I[L]=P);else I.variable.equals(j)&&(P=M()),I.input=V(I.input,j,P);else I.variables.some(L=>L.equals(j))||(P=M()),I.input=V(I.input,j,P);return I}function H(I,j){if(j.type==="optional"){const P=x({type:"group",patterns:j.patterns});I=P.type===p.FILTER?f.createLeftJoin(I,P.input,P.expression):f.createLeftJoin(I,P)}else if(j.type==="minus"){const P=x({type:"group",patterns:j.patterns});I=f.createMinus(I,P)}else if(j.type==="bind")I=f.createExtend(I,j.variable,T(j.expression));else if(j.type==="service"){const P={type:"group",patterns:j.patterns};I=U(I,f.createService(x(P),j.name,j.silent))}else I=U(I,x(j));return I}function U(I,j){return I.type===p.BGP&&j.type===p.BGP?I=f.createBgp([...I.patterns,...j.patterns]):I.type===p.BGP&&I.patterns.length===0?I=j:j.type===p.BGP&&j.patterns.length===0||(I=f.createJoin([I,j])),I}function k(I){let j=(I.values.length===0?[]:Object.keys(I.values[0])).map(f.createTerm.bind(f)),P=I.values.map(L=>{let G=Object.keys(L);G=G.filter(W=>L[W]!==void 0);let te={};for(let W of G)te[W]=L[W];return te});return f.createValues(j,P)}function $(I,j){if("type"in I&&I.type==="aggregate"){let P,L=!1;for(let G of Object.keys(j))if(r(j[G],I)){P=f.createTerm(G),L=!0;break}return L||(P=M(),j[(0,n.termToString)(P)]=I),P}return"expression"in I&&I.expression?{...I,expression:$(I.expression,j)}:"args"in I&&I.args?{...I,args:I.args.map(P=>$(P,j))}:I}function ae(I){if("type"in I){if(I.type==="load")return(function(j){return f.createLoad(j.source,j.destination,j.silent)})(I);if(I.type==="clear"||I.type==="create"||I.type==="drop")return(function(j){let P;switch(P=l.default.isSimpleTerm(j.graph)?j.graph:j.graph.all?"ALL":j.graph.default?"DEFAULT":j.graph.named?"NAMED":j.graph.name,j.type){case"clear":return f.createClear(P,j.silent);case"create":return f.createCreate(P,j.silent);case"drop":return f.createDrop(P,j.silent)}})(I);if(I.type==="add"||I.type==="copy"||I.type==="move")return(function(j){const P=j.source.default?"DEFAULT":j.source.name,L=j.destination.default?"DEFAULT":j.destination.name;switch(j.type){case"copy":return f.createCopy(P,L,j.silent);case"move":return f.createMove(P,L,j.silent);case"add":return f.createAdd(P,L,j.silent)}})(I)}else if(I.updateType==="insertdelete"||I.updateType==="deletewhere"||I.updateType==="delete"||I.updateType==="insert")return(function(j){if(!m)throw new Error("INSERT/DELETE operations are only supported with quads option enabled");let P,L=[],G=[];if(j.delete&&(L=l.default.flatten(j.delete.map(te=>he(te,j.graph)))),j.insert&&(G=l.default.flatten(j.insert.map(te=>he(te,j.graph)))),j.where&&j.where.length>0){P=x({type:"group",patterns:j.where});const te=j.using;te?P=f.createFrom(P,te.default,te.named):j.graph&&(P=V(P,j.graph))}else j.updateType==="deletewhere"&&L.length>0&&(P=f.createBgp(L));return f.createDeleteInsert(L.length>0?L:void 0,G.length>0?G:void 0,P)})(I);throw new Error(`Unknown update type ${JSON.stringify(I)}`)}function he(I,j){let P=j;I.type==="graph"&&(P=I.name);let L=I.triples;return P&&(L=L.map(G=>Object.assign(G,{graph:P}))),L.map(Q)}function ye(I){const j={},P=Array.from(h).reduce((G,te)=>(G[te]=!0,G),{});return l.default.mapOperation(I,{[t.types.DELETE_INSERT]:G=>({result:f.createDeleteInsert(G.delete,G.insert,G.where&&ye(G.where)),recurse:!1}),[t.types.PATH]:(G,te)=>({result:te.createPath(L(G.subject),G.predicate,L(G.object),L(G.graph)),recurse:!1}),[t.types.PATTERN]:(G,te)=>({result:te.createPattern(L(G.subject),L(G.predicate),L(G.object),L(G.graph)),recurse:!1}),[t.types.CONSTRUCT]:G=>({result:f.createConstruct(ye(G.input),G.template),recurse:!1})});function L(G){if(G.termType==="BlankNode"){let te=j[G.value];return te||(te=l.default.createUniqueVariable(G.value,P,f.dataFactory),P[te.value]=!0,j[G.value]=te),te}return G}}},70297:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(2307),e),o(s(4391),e),o(s(75566),e),o(s(66337),e),o(s(13260),e),o(s(91891),e),o(s(98960),e),o(s(53284),e),o(s(89275),e),o(s(16332),e),o(s(29638),e)},70322:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(91295),e),o(s(36339),e)},70585:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.print=function(p){return(0,c.visit)(p,{leave:u})};var c=s(9111),o=s(69165),u={Name:function(p){return p.value},Variable:function(p){return"$"+p.name},Document:function(p){return r(p.definitions,`

`)+`
`},OperationDefinition:function(p){var f=p.operation,h=p.name,y=t("(",r(p.variableDefinitions,", "),")"),m=r(p.directives," "),b=p.selectionSet;return h||m||y||f!=="query"?r([f,r([h,y]),m,b]," "):b},VariableDefinition:function(p){var f=p.variable,h=p.type,y=p.defaultValue,m=p.directives;return f+": "+h+t(" = ",y)+t(" ",r(m," "))},SelectionSet:function(p){return n(p.selections)},Field:function(p){var f=p.alias,h=p.name,y=p.arguments,m=p.directives,b=p.selectionSet,v=t("",f,": ")+h,_=v+t("(",r(y,", "),")");return _.length>80&&(_=v+t(`(
`,a(r(y,`
`)),`
)`)),r([_,r(m," "),b]," ")},Argument:function(p){return p.name+": "+p.value},FragmentSpread:function(p){return"..."+p.name+t(" ",r(p.directives," "))},InlineFragment:function(p){var f=p.typeCondition,h=p.directives,y=p.selectionSet;return r(["...",t("on ",f),r(h," "),y]," ")},FragmentDefinition:function(p){var f=p.name,h=p.typeCondition,y=p.variableDefinitions,m=p.directives,b=p.selectionSet;return"fragment ".concat(f).concat(t("(",r(y,", "),")")," ")+"on ".concat(h," ").concat(t("",r(m," ")," "))+b},IntValue:function(p){return p.value},FloatValue:function(p){return p.value},StringValue:function(p,f){var h=p.value;return p.block?(0,o.printBlockString)(h,f==="description"?"":"  "):JSON.stringify(h)},BooleanValue:function(p){return p.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(p){return p.value},ListValue:function(p){return"["+r(p.values,", ")+"]"},ObjectValue:function(p){return"{"+r(p.fields,", ")+"}"},ObjectField:function(p){return p.name+": "+p.value},Directive:function(p){return"@"+p.name+t("(",r(p.arguments,", "),")")},NamedType:function(p){return p.name},ListType:function(p){return"["+p.type+"]"},NonNullType:function(p){return p.type+"!"},SchemaDefinition:i(function(p){var f=p.directives,h=p.operationTypes;return r(["schema",r(f," "),n(h)]," ")}),OperationTypeDefinition:function(p){return p.operation+": "+p.type},ScalarTypeDefinition:i(function(p){return r(["scalar",p.name,r(p.directives," ")]," ")}),ObjectTypeDefinition:i(function(p){var f=p.name,h=p.interfaces,y=p.directives,m=p.fields;return r(["type",f,t("implements ",r(h," & ")),r(y," "),n(m)]," ")}),FieldDefinition:i(function(p){var f=p.name,h=p.arguments,y=p.type,m=p.directives;return f+(d(h)?t(`(
`,a(r(h,`
`)),`
)`):t("(",r(h,", "),")"))+": "+y+t(" ",r(m," "))}),InputValueDefinition:i(function(p){var f=p.name,h=p.type,y=p.defaultValue,m=p.directives;return r([f+": "+h,t("= ",y),r(m," ")]," ")}),InterfaceTypeDefinition:i(function(p){var f=p.name,h=p.interfaces,y=p.directives,m=p.fields;return r(["interface",f,t("implements ",r(h," & ")),r(y," "),n(m)]," ")}),UnionTypeDefinition:i(function(p){var f=p.name,h=p.directives,y=p.types;return r(["union",f,r(h," "),y&&y.length!==0?"= "+r(y," | "):""]," ")}),EnumTypeDefinition:i(function(p){var f=p.name,h=p.directives,y=p.values;return r(["enum",f,r(h," "),n(y)]," ")}),EnumValueDefinition:i(function(p){return r([p.name,r(p.directives," ")]," ")}),InputObjectTypeDefinition:i(function(p){var f=p.name,h=p.directives,y=p.fields;return r(["input",f,r(h," "),n(y)]," ")}),DirectiveDefinition:i(function(p){var f=p.name,h=p.arguments,y=p.repeatable,m=p.locations;return"directive @"+f+(d(h)?t(`(
`,a(r(h,`
`)),`
)`):t("(",r(h,", "),")"))+(y?" repeatable":"")+" on "+r(m," | ")}),SchemaExtension:function(p){var f=p.directives,h=p.operationTypes;return r(["extend schema",r(f," "),n(h)]," ")},ScalarTypeExtension:function(p){return r(["extend scalar",p.name,r(p.directives," ")]," ")},ObjectTypeExtension:function(p){var f=p.name,h=p.interfaces,y=p.directives,m=p.fields;return r(["extend type",f,t("implements ",r(h," & ")),r(y," "),n(m)]," ")},InterfaceTypeExtension:function(p){var f=p.name,h=p.interfaces,y=p.directives,m=p.fields;return r(["extend interface",f,t("implements ",r(h," & ")),r(y," "),n(m)]," ")},UnionTypeExtension:function(p){var f=p.name,h=p.directives,y=p.types;return r(["extend union",f,r(h," "),y&&y.length!==0?"= "+r(y," | "):""]," ")},EnumTypeExtension:function(p){var f=p.name,h=p.directives,y=p.values;return r(["extend enum",f,r(h," "),n(y)]," ")},InputObjectTypeExtension:function(p){var f=p.name,h=p.directives,y=p.fields;return r(["extend input",f,r(h," "),n(y)]," ")}};function i(p){return function(f){return r([f.description,p(f)],`
`)}}function r(p){var f,h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return(f=p?.filter(function(y){return y}).join(h))!==null&&f!==void 0?f:""}function n(p){return t(`{
`,a(r(p,`
`)),`
}`)}function t(p,f){return f!=null&&f!==""?p+f+(arguments.length>2&&arguments[2]!==void 0?arguments[2]:""):""}function a(p){return t("  ",p.replace(/\n/g,`
  `))}function l(p){return p.indexOf(`
`)!==-1}function d(p){return p!=null&&p.some(l)}},70591:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.URL=e.DNS=void 0;const c=s(40338),o=s(32988);var u=s(32988);function i(r,n,t,a){return(0,o.default)(48,c.default,r,n,t,a)}Object.defineProperty(e,"DNS",{enumerable:!0,get:function(){return u.DNS}}),Object.defineProperty(e,"URL",{enumerable:!0,get:function(){return u.URL}}),i.DNS=o.DNS,i.URL=o.URL,e.default=i},70736:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerKeywordIncluded=void 0;const c=s(42395),o=s(1548);class u extends o.EntryHandlerKeyword{constructor(){super("@included")}async handle(r,n,t,a,l,d){typeof l!="object"&&r.emitError(new c.ErrorCoded(`Found illegal @included '${l}'`,c.ERROR_CODES.INVALID_INCLUDED_VALUE));const p=await n.unaliasKeywords(l,a,d,await r.getContext(a));"@value"in p&&r.emitError(new c.ErrorCoded(`Found an illegal @included @value node '${JSON.stringify(l)}'`,c.ERROR_CODES.INVALID_INCLUDED_VALUE)),"@list"in p&&r.emitError(new c.ErrorCoded(`Found an illegal @included @list node '${JSON.stringify(l)}'`,c.ERROR_CODES.INVALID_INCLUDED_VALUE)),r.emittedStack[d]=!1}}e.EntryHandlerKeywordIncluded=u},70742:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r),Object.defineProperty(u,n,{enumerable:!0,get:function(){return i[r]}})}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(24806),e)},70982:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermGreaterThan=void 0;const c=s(77617),o=s(77545),u=s(81253);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.SparqlOperator.GT],termFunction:!0}),this.mediatorFunctionFactory=n.mediatorFunctionFactory}async run(n){const t=await this.mediatorFunctionFactory.mediate({functionName:o.SparqlOperator.LT,requireTermExpression:!0,context:n.context,arguments:n.arguments});return new u.TermFunctionGreaterThan(t)}}e.ActorFunctionFactoryTermGreaterThan=i},71142:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SparqlJsonParser=void 0;const c=s(47793),o=s(19198),u=s(50608);e.SparqlJsonParser=class{constructor(i){var r;i=i||{},this.dataFactory=i.dataFactory||new c.DataFactory,this.prefixVariableQuestionMark=!!i.prefixVariableQuestionMark,this.suppressMissingStreamResultsError=(r=i.suppressMissingStreamResultsError)===null||r===void 0||r}parseJsonResults(i){return i.results.bindings.map(r=>this.parseJsonBindings(r))}parseJsonResultsStream(i){const r=d=>l.emit("error",d);i.on("error",r);const n=new u;n.onError=r;let t=!1,a=!1;n.onValue=d=>{if(n.key==="vars"&&n.stack.length===2&&n.stack[1].key==="head")l.emit("variables",d.map(p=>this.dataFactory.variable(p))),t=!0;else if(n.key==="results"&&n.stack.length===1)a=!0;else if(typeof n.key=="number"&&n.stack.length===3&&n.stack[1].key==="results"&&n.stack[2].key==="bindings")try{l.push(this.parseJsonBindings(d))}catch(p){l.emit("error",p)}else n.key==="metadata"&&n.stack.length===1&&l.emit("metadata",d)};const l=i.on("end",d=>{a||this.suppressMissingStreamResultsError?t||l.emit("variables",[]):l.emit("error",new Error("No valid SPARQL query results were found."))}).pipe(new o.Transform({objectMode:!0,transform(d,p,f){n.write(d),f()}}));return l}parseJsonBindings(i){const r={};for(const n in i){const t=i[n];r[this.prefixVariableQuestionMark?"?"+n:n]=this.parseJsonValue(t)}return r}parseJsonValue(i){let r;switch(i.type){case"bnode":r=this.dataFactory.blankNode(i.value);break;case"literal":r=i["xml:lang"]?this.dataFactory.literal(i.value,i["xml:lang"]):i.datatype?this.dataFactory.literal(i.value,this.dataFactory.namedNode(i.datatype)):this.dataFactory.literal(i.value);break;case"typed-literal":r=this.dataFactory.literal(i.value,this.dataFactory.namedNode(i.datatype));break;case"triple":const n=i.value;if(!(n&&n.subject&&n.predicate&&n.object))throw new Error("Invalid quoted triple: "+JSON.stringify(i));r=this.dataFactory.quad(this.parseJsonValue(n.subject),this.parseJsonValue(n.predicate),this.parseJsonValue(n.object));break;default:r=this.dataFactory.namedNode(i.value)}return r}parseJsonBoolean(i){if("boolean"in i)return i.boolean;throw new Error("No valid ASK response was found.")}parseJsonBooleanStream(i){return new Promise((r,n)=>{const t=new u;t.onError=n,t.onValue=a=>{t.key==="boolean"&&typeof a=="boolean"&&t.stack.length===1&&r(a)},i.on("error",n).on("data",a=>t.write(a)).on("end",()=>n(new Error("No valid ASK response was found.")))})}}},71186:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryResultSerializeSparqlJson=void 0;const c=s(58871),o=s(90412),u=s(75627),i=s(19198);class r extends c.ActorQueryResultSerializeFixedMediaTypes{constructor(t){super(t)}static bindingToJsonBindings(t){if(t.termType==="Literal"){const a=t,l={value:a.value,type:"literal"},{language:d,datatype:p}=a;return d?l["xml:lang"]=d:p&&p.value!=="http://www.w3.org/2001/XMLSchema#string"&&(l.datatype=p.value),l}return t.termType==="BlankNode"?{value:t.value,type:"bnode"}:t.termType==="Quad"?{value:{subject:r.bindingToJsonBindings(t.subject),predicate:r.bindingToJsonBindings(t.predicate),object:r.bindingToJsonBindings(t.object)},type:"triple"}:{value:t.value,type:"uri"}}async testHandleChecked(t,a){return["bindings","boolean"].includes(t.type)?(0,o.passTestVoid)():(0,o.failTest)("This actor can only handle bindings streams or booleans.")}async runHandle(t,a,l){const d=new i.Readable,p={};if(t.type==="bindings"){const f=await t.metadata();f.variables.length>0&&(p.vars=f.variables.map(h=>h.variable.value))}if(d.push(`{"head": ${JSON.stringify(p)},
`),t.type==="bindings"){const f=t.bindingsStream;d.push(`"results": { "bindings": [
`);let h=!0;function*y(m){yield m()}d.wrap((0,u.wrap)(f).map(m=>{const b=`${h?"":`,
`}${JSON.stringify(Object.fromEntries([...m].map(([v,_])=>[v.value,r.bindingToJsonBindings(_)])))}`;return h=!1,b}).append((0,u.wrap)(y(()=>`
]}${this.emitMetadata?`,
"metadata": { "httpRequests": ${this.httpObserver.requests} }`:""}}
`))))}else d.wrap((0,u.wrap)(t.execute().then(f=>[`"boolean":${f}
}
`])));return{data:d}}}e.ActorQueryResultSerializeSparqlJson=r},71271:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(30785),e),o(s(71932),e)},71356:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(69e3),e)},71493:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PathVariableObjectIterator=void 0;const c=s(67021),o=s(75627),u=s(1725);class i extends o.BufferedIterator{constructor(n,t,a,l,d,p,f,h=16){super({autoStart:!1}),this.algebraFactory=n,this.subject=t,this.predicate=a,this.graph=l,this.context=d,this.mediatorQueryOperation=p,this.maxRunningOperations=h,this.termHashes=new Map,this.runningOperations=[],this.pendingOperations=[],this.started=!1,this._push(this.subject,f)}getProperty(n,t){return this.started||n!=="metadata"||this.startNextOperation(!1).catch(a=>this.emit("error",a)),super.getProperty(n,t)}_end(n){for(const t of this.runningOperations)t.destroy();super._end(n)}_push(n,t=!0){let a;if(t&&(a=(0,u.termToString)(n),this.termHashes.has(a)))return!1;const l=this.algebraFactory.dataFactory.variable("b");return this.pendingOperations.push({variable:l,operation:this.algebraFactory.createPath(n,this.predicate,l,this.graph)}),a&&(this.termHashes.set(a,n),super._push(n)),!0}async startNextOperation(n){this.started=!0;const t=this.pendingOperations.pop(),a=(0,c.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:t.operation,context:this.context})),l=a.bindingsStream.map(d=>d.get(t.variable));this.runningOperations.push(l),l.on("error",d=>this.destroy(d)),l.on("readable",()=>{n&&this._fillBufferAsync(),this.readable=!0}),l.on("end",()=>{this.runningOperations.splice(this.runningOperations.indexOf(l),1),n&&this._fillBufferAsync(),this.readable=!0}),this.getProperty("metadata")||this.setProperty("metadata",a.metadata)}_read(n,t){const a=this;(async function(){for(;a.runningOperations.length<a.maxRunningOperations&&a.pendingOperations.length!==0;)await a.startNextOperation(!0);let l,d=0,p=!0;for(;!p||d!==(d=n);){p=!0;for(let f=0;f<a.runningOperations.length&&n>0;f++)(l=a.runningOperations[f].read())!==null&&(a._push(l)?n--:p=!1)}a.closeIfNeeded()})().then(()=>{t()},l=>this.destroy(l))}closeIfNeeded(){this.runningOperations.length===0&&this.pendingOperations.length===0&&this.close()}}e.PathVariableObjectIterator=i},71644:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQuerySourceIdentifyHypermediaSparql=void 0;const c=s(62100),o=s(90711),u=s(90412),i=s(81926),r=s(96331),n=s(40229);class t extends c.ActorQuerySourceIdentifyHypermedia{constructor(l){super(l,"sparql")}async testMetadata(l){return l.forceSourceType||this.forceSourceType||l.metadata.sparqlService||this.checkUrlSuffix&&(l.url.endsWith("/sparql")||l.url.endsWith("/sparql/"))?(0,u.passTest)({filterFactor:1}):(0,u.failTest)(`Actor ${this.name} could not detect a SPARQL service description or URL ending on /sparql.`)}async run(l){this.logInfo(l.context,`Identified ${l.url} as sparql source with service URL: ${l.metadata.sparqlService||l.url}`);const d=l.context.getSafe(o.KeysInitQuery.dataFactory),p=new r.Factory(d),f=l.context.get(o.KeysQueryOperation.querySources)?.length===1;return{source:new n.QuerySourceSparql(l.forceSourceType??this.forceSourceType?l.url:l.metadata.sparqlService||l.url,l.context,this.mediatorHttp,this.bindMethod,d,p,await i.BindingsFactory.create(this.mediatorMergeBindingsContext,l.context,d),this.forceHttpGet,this.cacheSize,this.countTimeout,this.cardinalityCountQueries&&!f,this.cardinalityEstimateConstruction,this.forceGetIfUrlLengthBelow,l.metadata)}}}e.ActorQuerySourceIdentifyHypermediaSparql=t},71742:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NamedExtension=void 0;const c=s(5673),o=s(90711),u=s(77545);class i extends c.ExpressionFunctionBase{constructor({operator:n,functionDefinition:t}){super({arity:Number.POSITIVE_INFINITY,operator:n,apply:async({args:a,exprEval:l,mapping:d})=>{const p=await Promise.all(a.map(f=>l.evaluatorExpressionEvaluation(f,d)));try{return new u.TermTransformer(l.context.getSafe(o.KeysExpressionEvaluator.superTypeProvider)).transformRDFTermUnsafe(await t(p.map(f=>f.toRDF(l.context.getSafe(o.KeysInitQuery.dataFactory)))))}catch(f){throw new u.ExtensionFunctionError(this.operator,f)}}})}}e.NamedExtension=i},71818:function(g,e,s){var c=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(e,"__esModule",{value:!0}),e.encodeNonAsciiHTML=e.encodeHTML=void 0;var o=c(s(35504)),u=s(5987),i=/[\t\n!-,./:-@[-`\f{-}$\x80-\uFFFF]/g;function r(n,t){for(var a,l="",d=0;(a=n.exec(t))!==null;){var p=a.index;l+=t.substring(d,p);var f=t.charCodeAt(p),h=o.default.get(f);if(typeof h=="object"){if(p+1<t.length){var y=t.charCodeAt(p+1),m=typeof h.n=="number"?h.n===y?h.o:void 0:h.n.get(y);if(m!==void 0){l+=m,d=n.lastIndex+=1;continue}}h=h.v}if(h!==void 0)l+=h,d=p+1;else{var b=(0,u.getCodePoint)(t,p);l+="&#x".concat(b.toString(16),";"),d=n.lastIndex+=+(b!==f)}}return l+t.substr(d)}e.encodeHTML=function(n){return r(i,n)},e.encodeNonAsciiHTML=function(n){return r(u.xmlReplacer,n)}},71871:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(72243),e)},71923:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfJoinOptionalHash=void 0;const c=s(95445),o=s(90412),u=s(81926),i=s(18888),r=s(4809),n=s(75627),t=s(6380);class a extends c.ActorRdfJoin{constructor(d){super(d,{logicalType:"optional",physicalName:`hash-${d.canHandleUndefs?"undef":"def"}-${d.blocking?"blocking":"nonblocking"}`,limitEntries:2,canHandleUndefs:d.canHandleUndefs,requiresVariableOverlap:!0})}static constructIndex(d,p){return d?new i.BindingsIndexUndef(p,f=>f&&f.termType!=="Variable"?(0,t.termToString)(f):"",!0):new i.BindingsIndexDef(p,u.bindingsToCompactString)}async getOutput(d){const p=d.entries[1].output,f=d.entries[0].output,h=await c.ActorRdfJoin.getMetadatas(d.entries),y=c.ActorRdfJoin.overlappingVariables(h);let m;return m=this.blocking?new r.ClosableTransformIterator(async()=>{const b=a.constructIndex(this.canHandleUndefs,y);return await new Promise(v=>{p.bindingsStream.on("data",_=>{(b.getFirst(_,!0)??b.put(_,[])).push(_)}),p.bindingsStream.on("end",v),p.bindingsStream.on("error",_=>{m.emit("error",_)})}),new n.MultiTransformIterator(f.bindingsStream,{multiTransform:v=>new n.ArrayIterator(b.get(v).flat().map(_=>c.ActorRdfJoin.joinBindings(v,_)).filter(_=>_!==null),{autoStart:!1}),optional:!0,autoStart:!1})},{autoStart:!1,onClose(){p.bindingsStream.destroy(),f.bindingsStream.destroy()}}):new r.ClosableTransformIterator(async()=>{const b=a.constructIndex(this.canHandleUndefs,y);let v=!0;return p.bindingsStream.on("data",_=>{(b.getFirst(_,!0)??b.put(_,new n.BufferedIterator({autoStart:!1})))._push(_)}),p.bindingsStream.on("end",()=>{for(const _ of b.values())_.close();v=!1}),p.bindingsStream.on("error",_=>{m.emit("error",_)}),new n.MultiTransformIterator(f.bindingsStream,{multiTransform:_=>{let w=b.get(_);return w.length===0&&(w=v?[b.put(_,new n.BufferedIterator({autoStart:!1}))]:[]),new n.UnionIterator(w.map(S=>S.clone()),{autoStart:!1}).map(S=>c.ActorRdfJoin.joinBindings(_,S))},optional:!0,autoStart:!1})},{autoStart:!1,onClose(){p.bindingsStream.destroy(),f.bindingsStream.destroy()}}),{result:{type:"bindings",bindingsStream:m,metadata:async()=>await this.constructResultMetadata(d.entries,h,d.context,{},!0)}}}async getJoinCoefficients(d,p){const{metadatas:f}=p,h=c.ActorRdfJoin.getRequestInitialTimes(f),y=c.ActorRdfJoin.getRequestItemTimes(f);let m=f[0].cardinality.value+f[1].cardinality.value;return this.canHandleUndefs||(m*=.8),this.blocking&&(m*=.9),(0,o.passTestWithSideData)({iterations:m,persistedItems:f[0].cardinality.value,blockingItems:this.blocking?f[0].cardinality.value:0,requestTime:h[0]+f[0].cardinality.value*y[0]+h[1]+f[1].cardinality.value*y[1]},p)}}e.ActorRdfJoinOptionalHash=a},71924:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(40721),e)},71932:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SampleAggregator=void 0;const c=s(86581);class o extends c.AggregateEvaluator{constructor(i,r,n){super(i,r,n),this.state=void 0}putTerm(i){this.state===void 0&&(this.state=i)}termResult(){return this.state===void 0?this.emptyValue():this.state}}e.SampleAggregator=o},71977:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ContainerHandlerIndex=void 0;const c=s(42395),o=s(76970),u=s(10888);e.ContainerHandlerIndex=class{canCombineWithGraph(){return!0}async handle(i,r,n,t,a,l){if(!Array.isArray(a)){const d="@graph"in i,p=await r.getContext(t),f=t[l-1],h=u.Util.getContextValueIndex(p,f);if(h){if(c.Util.isPotentialKeyword(h))throw new c.ErrorCoded(`Keywords can not be used as @index value, got: ${h}`,c.ERROR_CODES.INVALID_TERM_DEFINITION);if(typeof h!="string")throw new c.ErrorCoded(`@index values must be strings, got: ${h}`,c.ERROR_CODES.INVALID_TERM_DEFINITION);if(typeof a!="object"){if(u.Util.getContextValueType(p,f)!=="@id")throw new c.ErrorCoded(`Property-based index containers require nodes as values or strings with @type: @id, but got: ${a}`,c.ERROR_CODES.INVALID_VALUE_OBJECT);const b=n.resourceToTerm(p,a);b&&(r.idStack[l+1]=[b])}const m=n.createVocabOrBaseTerm(p,h);if(m){const b=await n.valueToTerm(p,h,await n.getContainerKey(t[l],t,l),l,t);if(d){const v=await n.getGraphContainerValue(t,l+1);for(const _ of b)r.emitQuad(l,n.dataFactory.quad(v,m,_,n.getDefaultGraph()))}else for(const v of b)await o.EntryHandlerPredicate.handlePredicateObject(r,n,t,l+1,m,v,!1,!1,!1)}}const y=d?2:1;await r.newOnValueJob(t.slice(0,t.length-y),a,l-y,!0),await r.handlePendingContainerFlushBuffers()}r.emittedStack[l]=!1}}},72157:function(g,e,s){var c,o=this&&this.__createBinding||(Object.create?function(v,_,w,S){S===void 0&&(S=w);var x=Object.getOwnPropertyDescriptor(_,w);x&&!("get"in x?!_.__esModule:x.writable||x.configurable)||(x={enumerable:!0,get:function(){return _[w]}}),Object.defineProperty(v,S,x)}:function(v,_,w,S){S===void 0&&(S=w),v[S]=_[w]}),u=this&&this.__setModuleDefault||(Object.create?function(v,_){Object.defineProperty(v,"default",{enumerable:!0,value:_})}:function(v,_){v.default=_}),i=this&&this.__importStar||(c=function(v){return c=Object.getOwnPropertyNames||function(_){var w=[];for(var S in _)Object.prototype.hasOwnProperty.call(_,S)&&(w[w.length]=S);return w},c(v)},function(v){if(v&&v.__esModule)return v;var _={};if(v!=null)for(var w=c(v),S=0;S<w.length;S++)w[S]!=="default"&&o(_,v,w[S]);return u(_,v),_});Object.defineProperty(e,"__esModule",{value:!0}),e.Parser=void 0;const r=i(s(14709)),n=s(65621),t=new Set(["input","option","optgroup","select","button","datalist","textarea"]),a=new Set(["p"]),l=new Set(["thead","tbody"]),d=new Set(["dd","dt"]),p=new Set(["rt","rp"]),f=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",a],["h1",a],["h2",a],["h3",a],["h4",a],["h5",a],["h6",a],["select",t],["input",t],["output",t],["button",t],["datalist",t],["textarea",t],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",d],["dt",d],["address",a],["article",a],["aside",a],["blockquote",a],["details",a],["div",a],["dl",a],["fieldset",a],["figcaption",a],["figure",a],["footer",a],["form",a],["header",a],["hr",a],["main",a],["nav",a],["ol",a],["pre",a],["section",a],["table",a],["ul",a],["rt",p],["rp",p],["tbody",l],["tfoot",l]]),h=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),y=new Set(["math","svg"]),m=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),b=/\s|\//;e.Parser=class{constructor(v,_={}){var w,S,x,T,O,E;this.options=_,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=v??{},this.htmlMode=!this.options.xmlMode,this.lowerCaseTagNames=(w=_.lowerCaseTags)!==null&&w!==void 0?w:this.htmlMode,this.lowerCaseAttributeNames=(S=_.lowerCaseAttributeNames)!==null&&S!==void 0?S:this.htmlMode,this.recognizeSelfClosing=(x=_.recognizeSelfClosing)!==null&&x!==void 0?x:!this.htmlMode,this.tokenizer=new((T=_.Tokenizer)!==null&&T!==void 0?T:r.default)(this.options,this),this.foreignContext=[!this.htmlMode],(E=(O=this.cbs).onparserinit)===null||E===void 0||E.call(O,this)}ontext(v,_){var w,S;const x=this.getSlice(v,_);this.endIndex=_-1,(S=(w=this.cbs).ontext)===null||S===void 0||S.call(w,x),this.startIndex=_}ontextentity(v,_){var w,S;this.endIndex=_-1,(S=(w=this.cbs).ontext)===null||S===void 0||S.call(w,(0,n.fromCodePoint)(v)),this.startIndex=_}isVoidElement(v){return this.htmlMode&&h.has(v)}onopentagname(v,_){this.endIndex=_;let w=this.getSlice(v,_);this.lowerCaseTagNames&&(w=w.toLowerCase()),this.emitOpenTag(w)}emitOpenTag(v){var _,w,S,x;this.openTagStart=this.startIndex,this.tagname=v;const T=this.htmlMode&&f.get(v);if(T)for(;this.stack.length>0&&T.has(this.stack[0]);){const O=this.stack.shift();(w=(_=this.cbs).onclosetag)===null||w===void 0||w.call(_,O,!0)}this.isVoidElement(v)||(this.stack.unshift(v),this.htmlMode&&(y.has(v)?this.foreignContext.unshift(!0):m.has(v)&&this.foreignContext.unshift(!1))),(x=(S=this.cbs).onopentagname)===null||x===void 0||x.call(S,v),this.cbs.onopentag&&(this.attribs={})}endOpenTag(v){var _,w;this.startIndex=this.openTagStart,this.attribs&&((w=(_=this.cbs).onopentag)===null||w===void 0||w.call(_,this.tagname,this.attribs,v),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""}onopentagend(v){this.endIndex=v,this.endOpenTag(!1),this.startIndex=v+1}onclosetag(v,_){var w,S,x,T,O,E,R,M;this.endIndex=_;let Q=this.getSlice(v,_);if(this.lowerCaseTagNames&&(Q=Q.toLowerCase()),this.htmlMode&&(y.has(Q)||m.has(Q))&&this.foreignContext.shift(),this.isVoidElement(Q))this.htmlMode&&Q==="br"&&((T=(x=this.cbs).onopentagname)===null||T===void 0||T.call(x,"br"),(E=(O=this.cbs).onopentag)===null||E===void 0||E.call(O,"br",{},!0),(M=(R=this.cbs).onclosetag)===null||M===void 0||M.call(R,"br",!1));else{const X=this.stack.indexOf(Q);if(X!==-1)for(let V=0;V<=X;V++){const H=this.stack.shift();(S=(w=this.cbs).onclosetag)===null||S===void 0||S.call(w,H,V!==X)}else this.htmlMode&&Q==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=_+1}onselfclosingtag(v){this.endIndex=v,this.recognizeSelfClosing||this.foreignContext[0]?(this.closeCurrentTag(!1),this.startIndex=v+1):this.onopentagend(v)}closeCurrentTag(v){var _,w;const S=this.tagname;this.endOpenTag(v),this.stack[0]===S&&((w=(_=this.cbs).onclosetag)===null||w===void 0||w.call(_,S,!v),this.stack.shift())}onattribname(v,_){this.startIndex=v;const w=this.getSlice(v,_);this.attribname=this.lowerCaseAttributeNames?w.toLowerCase():w}onattribdata(v,_){this.attribvalue+=this.getSlice(v,_)}onattribentity(v){this.attribvalue+=(0,n.fromCodePoint)(v)}onattribend(v,_){var w,S;this.endIndex=_,(S=(w=this.cbs).onattribute)===null||S===void 0||S.call(w,this.attribname,this.attribvalue,v===r.QuoteType.Double?'"':v===r.QuoteType.Single?"'":v===r.QuoteType.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""}getInstructionName(v){const _=v.search(b);let w=_<0?v:v.substr(0,_);return this.lowerCaseTagNames&&(w=w.toLowerCase()),w}ondeclaration(v,_){this.endIndex=_;const w=this.getSlice(v,_);if(this.cbs.onprocessinginstruction){const S=this.getInstructionName(w);this.cbs.onprocessinginstruction(`!${S}`,`!${w}`)}this.startIndex=_+1}onprocessinginstruction(v,_){this.endIndex=_;const w=this.getSlice(v,_);if(this.cbs.onprocessinginstruction){const S=this.getInstructionName(w);this.cbs.onprocessinginstruction(`?${S}`,`?${w}`)}this.startIndex=_+1}oncomment(v,_,w){var S,x,T,O;this.endIndex=_,(x=(S=this.cbs).oncomment)===null||x===void 0||x.call(S,this.getSlice(v,_-w)),(O=(T=this.cbs).oncommentend)===null||O===void 0||O.call(T),this.startIndex=_+1}oncdata(v,_,w){var S,x,T,O,E,R,M,Q,X,V;this.endIndex=_;const H=this.getSlice(v,_-w);!this.htmlMode||this.options.recognizeCDATA?((x=(S=this.cbs).oncdatastart)===null||x===void 0||x.call(S),(O=(T=this.cbs).ontext)===null||O===void 0||O.call(T,H),(R=(E=this.cbs).oncdataend)===null||R===void 0||R.call(E)):((Q=(M=this.cbs).oncomment)===null||Q===void 0||Q.call(M,`[CDATA[${H}]]`),(V=(X=this.cbs).oncommentend)===null||V===void 0||V.call(X)),this.startIndex=_+1}onend(){var v,_;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(let w=0;w<this.stack.length;w++)this.cbs.onclosetag(this.stack[w],!0)}(_=(v=this.cbs).onend)===null||_===void 0||_.call(v)}reset(){var v,_,w,S;(_=(v=this.cbs).onreset)===null||_===void 0||_.call(v),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(S=(w=this.cbs).onparserinit)===null||S===void 0||S.call(w,this),this.buffers.length=0,this.foreignContext.length=0,this.foreignContext.unshift(!this.htmlMode),this.bufferOffset=0,this.writeIndex=0,this.ended=!1}parseComplete(v){this.reset(),this.end(v)}getSlice(v,_){for(;v-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();let w=this.buffers[0].slice(v-this.bufferOffset,_-this.bufferOffset);for(;_-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),w+=this.buffers[0].slice(0,_-this.bufferOffset);return w}shiftBuffer(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()}write(v){var _,w;this.ended?(w=(_=this.cbs).onerror)===null||w===void 0||w.call(_,new Error(".write() after done!")):(this.buffers.push(v),this.tokenizer.running&&(this.tokenizer.write(v),this.writeIndex++))}end(v){var _,w;this.ended?(w=(_=this.cbs).onerror)===null||w===void 0||w.call(_,new Error(".end() after done!")):(v&&this.write(v),this.ended=!0,this.tokenizer.end())}pause(){this.tokenizer.pause()}resume(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()}parseChunk(v){this.write(v)}done(v){this.end(v)}}},72243:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorContextPreprocessConvertShortcuts=void 0;const c=s(98926),o=s(90412);class u extends c.ActorContextPreprocess{constructor(r){super(r)}async test(r){return(0,o.passTestVoid)()}async run(r){return{context:u.expandShortcuts(r.context,this.contextKeyShortcuts)}}static expandShortcuts(r,n){for(const t of r.keys())n[t.name]&&(r=r.set(new o.ActionContextKey(n[t.name]),r.get(t)).delete(t));return r}}e.ActorContextPreprocessConvertShortcuts=u},72253:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ExpressionFunctionSameTerm=void 0;const c=s(77617),o=s(90711),u=s(77545);class i extends c.ExpressionFunctionBase{constructor(){super({arity:2,operator:u.SparqlOperator.SAME_TERM,apply:async({args:n,mapping:t,exprEval:a})=>{const l=a.context.getSafe(o.KeysInitQuery.dataFactory),[d,p]=n.map(y=>a.evaluatorExpressionEvaluation(y,t)),[f,h]=await Promise.all([d,p]);return(0,u.bool)(f.toRDF(l).equals(h.toRDF(l)))}})}}e.ExpressionFunctionSameTerm=i},72258:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfMetadataExtractSparqlService=void 0;const c=s(18412),o=s(90412),u=s(70742);class i extends c.ActorRdfMetadataExtract{constructor(n){super(n)}async test(n){return(0,o.passTestVoid)()}async run(n){return new Promise((t,a)=>{n.metadata.on("error",a);const l=new Set([n.url]),d={},p=new Set,f=new Set,h=new Set,y=new Set,m=new Set;n.metadata.on("data",b=>{if(b.predicate.value==="http://rdfs.org/ns/void#subset"&&b.object.value===n.url)l.add(b.subject.value);else if(b.subject.value===d.defaultDataset||b.subject.termType==="BlankNode"||l.has(b.subject.value))switch(b.predicate.value){case`${i.SD}endpoint`:d.sparqlService=b.object.termType==="Literal"?(0,u.resolve)(b.object.value,n.url):b.object.value,this.inferHttpsEndpoint&&n.url.startsWith("https")&&!b.object.value.startsWith("https")&&(d.sparqlService=d.sparqlService.replace(/^http:/u,"https:"));break;case`${i.SD}defaultDataset`:d.defaultDataset=b.object.value;break;case`${i.SD}defaultGraph`:d.defaultGraph=b.object.value;break;case`${i.SD}inputFormat`:p.add(b.object.value);break;case`${i.SD}resultFormat`:f.add(b.object.value);break;case`${i.SD}supportedLanguage`:h.add(b.object.value);break;case`${i.SD}propertyFeature`:m.add(b.object.value);break;case`${i.SD}feature`:b.object.value===`${i.SD}UnionDefaultGraph`?d.unionDefaultGraph=!0:b.object.value===`${i.SD}BasicFederatedQuery`&&(d.basicFederatedQuery=!0);break;case`${i.SD}extensionFunction`:y.add(b.object.value)}}),n.metadata.on("end",()=>{t({metadata:{...d,...p.size>0?{inputFormats:[...p.values()]}:{},...f.size>0?{resultFormats:[...f.values()]}:{},...h.size>0?{supportedLanguages:[...h.values()]}:{},...y.size>0?{extensionFunctions:[...y.values()]}:{},...m.size>0?{propertyFeatures:[...m.values()]}:{}}})})})}}e.ActorRdfMetadataExtractSparqlService=i,i.SD="http://www.w3.org/ns/sparql-service-description#"},72374:(g,e)=>{function s(i,r=2){return i.toLocaleString(void 0,{minimumIntegerDigits:r,useGrouping:!1})}function c(i){return i.zoneHours===void 0||i.zoneMinutes===void 0?"":i.zoneHours===0&&i.zoneMinutes===0?"Z":`${i.zoneHours>=0?`+${s(i.zoneHours)}`:s(i.zoneHours)}:${s(Math.abs(i.zoneMinutes))}`}function o(i){return`${s(i.year,4)}-${s(i.month)}-${s(i.day)}${c(i)}`}function u(i){return`${s(i.hours)}:${s(i.minutes)}:${s(i.seconds)}${c(i)}`}Object.defineProperty(e,"__esModule",{value:!0}),e.serializeDuration=e.serializeTime=e.serializeDate=e.serializeDateTime=void 0,e.serializeDateTime=function(i){return`${o({year:i.year,month:i.month,day:i.day})}T${u(i)}`},e.serializeDate=o,e.serializeTime=u,e.serializeDuration=function(i,r="PT0S"){if(!Object.values(i).some(t=>(t||0)!==0))return r;const n=`${Object.values(i).some(t=>(t||0)<0)?"-":""}P${i.year?`${Math.abs(i.year)}Y`:""}${i.month?`${Math.abs(i.month)}M`:""}${i.day?`${Math.abs(i.day)}D`:""}`;return i.hours||i.minutes||i.seconds?`${n}T${i.hours?`${Math.abs(i.hours)}H`:""}${i.minutes?`${Math.abs(i.minutes)}M`:""}${i.seconds?`${Math.abs(i.seconds)}S`:""}`:n}},72706:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionSeconds=void 0;const c=s(77617),o=s(77545);class u extends c.TermFunctionBase{constructor(){super({arity:1,operator:o.SparqlOperator.SECONDS,overloads:(0,o.declare)(o.SparqlOperator.SECONDS).onDateTime1(()=>r=>(0,o.decimal)(r.typedValue.seconds)).set([o.TypeURL.XSD_TIME],()=>([r])=>(0,o.integer)(r.typedValue.seconds)).collect()})}}e.TermFunctionSeconds=u},72730:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.decodeXMLStrict=e.decodeHTML5Strict=e.decodeHTML4Strict=e.decodeHTML5=e.decodeHTML4=e.decodeHTMLAttribute=e.decodeHTMLStrict=e.decodeHTML=e.decodeXML=e.DecodingMode=e.EntityDecoder=e.encodeHTML5=e.encodeHTML4=e.encodeNonAsciiHTML=e.encodeHTML=e.escapeText=e.escapeAttribute=e.escapeUTF8=e.escape=e.encodeXML=e.encode=e.decodeStrict=e.decode=e.EncodingMode=e.EntityLevel=void 0;var c,o,u=s(79878),i=s(71818),r=s(5987);function n(d,p){if(p===void 0&&(p=c.XML),(typeof p=="number"?p:p.level)===c.HTML){var f=typeof p=="object"?p.mode:void 0;return(0,u.decodeHTML)(d,f)}return(0,u.decodeXML)(d)}(function(d){d[d.XML=0]="XML",d[d.HTML=1]="HTML"})(c=e.EntityLevel||(e.EntityLevel={})),(function(d){d[d.UTF8=0]="UTF8",d[d.ASCII=1]="ASCII",d[d.Extensive=2]="Extensive",d[d.Attribute=3]="Attribute",d[d.Text=4]="Text"})(o=e.EncodingMode||(e.EncodingMode={})),e.decode=n,e.decodeStrict=function(d,p){var f;p===void 0&&(p=c.XML);var h=typeof p=="number"?{level:p}:p;return(f=h.mode)!==null&&f!==void 0||(h.mode=u.DecodingMode.Strict),n(d,h)},e.encode=function(d,p){p===void 0&&(p=c.XML);var f=typeof p=="number"?{level:p}:p;return f.mode===o.UTF8?(0,r.escapeUTF8)(d):f.mode===o.Attribute?(0,r.escapeAttribute)(d):f.mode===o.Text?(0,r.escapeText)(d):f.level===c.HTML?f.mode===o.ASCII?(0,i.encodeNonAsciiHTML)(d):(0,i.encodeHTML)(d):(0,r.encodeXML)(d)};var t=s(5987);Object.defineProperty(e,"encodeXML",{enumerable:!0,get:function(){return t.encodeXML}}),Object.defineProperty(e,"escape",{enumerable:!0,get:function(){return t.escape}}),Object.defineProperty(e,"escapeUTF8",{enumerable:!0,get:function(){return t.escapeUTF8}}),Object.defineProperty(e,"escapeAttribute",{enumerable:!0,get:function(){return t.escapeAttribute}}),Object.defineProperty(e,"escapeText",{enumerable:!0,get:function(){return t.escapeText}});var a=s(71818);Object.defineProperty(e,"encodeHTML",{enumerable:!0,get:function(){return a.encodeHTML}}),Object.defineProperty(e,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return a.encodeNonAsciiHTML}}),Object.defineProperty(e,"encodeHTML4",{enumerable:!0,get:function(){return a.encodeHTML}}),Object.defineProperty(e,"encodeHTML5",{enumerable:!0,get:function(){return a.encodeHTML}});var l=s(79878);Object.defineProperty(e,"EntityDecoder",{enumerable:!0,get:function(){return l.EntityDecoder}}),Object.defineProperty(e,"DecodingMode",{enumerable:!0,get:function(){return l.DecodingMode}}),Object.defineProperty(e,"decodeXML",{enumerable:!0,get:function(){return l.decodeXML}}),Object.defineProperty(e,"decodeHTML",{enumerable:!0,get:function(){return l.decodeHTML}}),Object.defineProperty(e,"decodeHTMLStrict",{enumerable:!0,get:function(){return l.decodeHTMLStrict}}),Object.defineProperty(e,"decodeHTMLAttribute",{enumerable:!0,get:function(){return l.decodeHTMLAttribute}}),Object.defineProperty(e,"decodeHTML4",{enumerable:!0,get:function(){return l.decodeHTML}}),Object.defineProperty(e,"decodeHTML5",{enumerable:!0,get:function(){return l.decodeHTML}}),Object.defineProperty(e,"decodeHTML4Strict",{enumerable:!0,get:function(){return l.decodeHTMLStrict}}),Object.defineProperty(e,"decodeHTML5Strict",{enumerable:!0,get:function(){return l.decodeHTMLStrict}}),Object.defineProperty(e,"decodeXMLStrict",{enumerable:!0,get:function(){return l.decodeXML}})},72770:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0});const c=s(59746);e.default=function(o){if(!(0,c.default)(o))throw TypeError("Invalid UUID");return parseInt(o.slice(14,15),16)}},72803:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ContextParser=void 0;const c=s(70742),o=s(75094),u=s(60585),i=s(85215),r=s(94931);class n{constructor(a){a=a||{},this.documentLoader=a.documentLoader||new u.FetchDocumentLoader,this.documentCache={},this.validateContext=!a.skipValidation,this.expandContentTypeToBase=!!a.expandContentTypeToBase,this.remoteContextsDepthLimit=a.remoteContextsDepthLimit||32,this.redirectSchemaOrgHttps=!("redirectSchemaOrgHttps"in a)||!!a.redirectSchemaOrgHttps}static validateLanguage(a,l,d){if(typeof a!="string")throw new o.ErrorCoded(`The value of an '@language' must be a string, got '${JSON.stringify(a)}'`,d);if(!r.Util.REGEX_LANGUAGE_TAG.test(a)){if(l)throw new o.ErrorCoded(`The value of an '@language' must be a valid language tag, got '${JSON.stringify(a)}'`,d);return!1}return!0}static validateDirection(a,l){if(typeof a!="string")throw new o.ErrorCoded(`The value of an '@direction' must be a string, got '${JSON.stringify(a)}'`,o.ERROR_CODES.INVALID_BASE_DIRECTION);if(!r.Util.REGEX_DIRECTION_TAG.test(a)){if(l)throw new o.ErrorCoded(`The value of an '@direction' must be 'ltr' or 'rtl', got '${JSON.stringify(a)}'`,o.ERROR_CODES.INVALID_BASE_DIRECTION);return!1}return!0}idifyReverseTerms(a){for(const l of Object.keys(a)){let d=a[l];if(d&&typeof d=="object"&&d["@reverse"]&&!d["@id"]){if(typeof d["@reverse"]!="string"||r.Util.isValidKeyword(d["@reverse"]))throw new o.ErrorCoded(`Invalid @reverse value, must be absolute IRI or blank node: '${d["@reverse"]}'`,o.ERROR_CODES.INVALID_IRI_MAPPING);d=a[l]=Object.assign(Object.assign({},d),{"@id":d["@reverse"]}),d["@id"]=d["@reverse"],r.Util.isPotentialKeyword(d["@reverse"])?delete d["@reverse"]:d["@reverse"]=!0}}return a}expandPrefixedTerms(a,l,d){const p=a.getContextRaw();for(const f of d||Object.keys(p))if(r.Util.EXPAND_KEYS_BLACKLIST.indexOf(f)<0&&!r.Util.isReservedInternalKeyword(f)){const h=p[f];if(r.Util.isPotentialKeyword(f)&&r.Util.ALIAS_DOMAIN_BLACKLIST.indexOf(f)>=0&&(f!=="@type"||typeof p[f]=="object"&&!p[f]["@protected"]&&p[f]["@container"]!=="@set"))throw new o.ErrorCoded(`Keywords can not be aliased to something else.
Tried mapping ${f} to ${JSON.stringify(h)}`,o.ERROR_CODES.KEYWORD_REDEFINITION);if(r.Util.ALIAS_RANGE_BLACKLIST.indexOf(r.Util.getContextValueId(h))>=0)throw new o.ErrorCoded(`Aliasing to certain keywords is not allowed.
Tried mapping ${f} to ${JSON.stringify(h)}`,o.ERROR_CODES.INVALID_KEYWORD_ALIAS);if(h&&r.Util.isPotentialKeyword(r.Util.getContextValueId(h))&&h["@prefix"]===!0)throw new o.ErrorCoded(`Tried to use keyword aliases as prefix: '${f}': '${JSON.stringify(h)}'`,o.ERROR_CODES.INVALID_TERM_DEFINITION);for(;r.Util.isPrefixValue(p[f]);){const y=p[f];let m=!1;if(typeof y=="string")p[f]=a.expandTerm(y,!0),m=m||y!==p[f];else{const b=y["@id"],v=y["@type"],_=!("@prefix"in y)||r.Util.isValidIri(f);if("@id"in y)b!=null&&typeof b=="string"&&(p[f]=Object.assign(Object.assign({},p[f]),{"@id":a.expandTerm(b,!0)}),m=m||b!==p[f]["@id"]);else if(!r.Util.isPotentialKeyword(f)&&_){const w=a.expandTerm(f,!0);w!==f&&(p[f]=Object.assign(Object.assign({},p[f]),{"@id":w}),m=!0)}if(v&&typeof v=="string"&&v!=="@vocab"&&(!y["@container"]||!y["@container"]["@type"])&&_){let w=a.expandTerm(v,!0);l&&v===w&&(w=a.expandTerm(v,!1)),w!==v&&(m=!0,p[f]=Object.assign(Object.assign({},p[f]),{"@type":w}))}}if(!m)break}}}normalize(a,{processingMode:l,normalizeLanguageTags:d}){if(d||l===1)for(const p of Object.keys(a))if(p==="@language"&&typeof a[p]=="string")a[p]=a[p].toLowerCase();else{const f=a[p];if(f&&typeof f=="object"&&typeof f["@language"]=="string"){const h=f["@language"].toLowerCase();h!==f["@language"]&&(a[p]=Object.assign(Object.assign({},f),{"@language":h}))}}}containersToHash(a){for(const l of Object.keys(a)){const d=a[l];if(d&&typeof d=="object"){if(typeof d["@container"]=="string")a[l]=Object.assign(Object.assign({},d),{"@container":{[d["@container"]]:!0}});else if(Array.isArray(d["@container"])){const p={};for(const f of d["@container"])p[f]=!0;a[l]=Object.assign(Object.assign({},d),{"@container":p})}}}}applyScopedProtected(a,{processingMode:l},d){if(l&&l>=1.1&&a["@protected"]){for(const p of Object.keys(a))if(!r.Util.isReservedInternalKeyword(p)&&!r.Util.isPotentialKeyword(p)&&!r.Util.isTermProtected(a,p)){const f=a[p];f&&typeof f=="object"?"@protected"in a[p]||(a[p]=Object.assign(Object.assign({},a[p]),{"@protected":!0})):(a[p]={"@id":f,"@protected":!0},r.Util.isSimpleTermDefinitionPrefix(f,d)&&(a[p]=Object.assign(Object.assign({},a[p]),{"@prefix":!0})))}delete a["@protected"]}}validateKeywordRedefinitions(a,l,d,p){for(const f of p??Object.keys(l))if(r.Util.isTermProtected(a,f)&&(typeof l[f]=="string"?l[f]={"@id":l[f],"@protected":!0}:l[f]=Object.assign(Object.assign({},l[f]),{"@protected":!0}),!r.Util.deepEqual(a[f],l[f])))throw new o.ErrorCoded(`Attempted to override the protected keyword ${f} from ${JSON.stringify(r.Util.getContextValueId(a[f]))} to ${JSON.stringify(r.Util.getContextValueId(l[f]))}`,o.ERROR_CODES.PROTECTED_TERM_REDEFINITION)}validate(a,{processingMode:l}){for(const d of Object.keys(a)){if(r.Util.isReservedInternalKeyword(d))continue;if(d==="")throw new o.ErrorCoded(`The empty term is not allowed, got: '${d}': '${JSON.stringify(a[d])}'`,o.ERROR_CODES.INVALID_TERM_DEFINITION);const p=a[d],f=typeof p;if(r.Util.isPotentialKeyword(d)){switch(d.substr(1)){case"vocab":if(p!==null&&f!=="string")throw new o.ErrorCoded(`Found an invalid @vocab IRI: ${p}`,o.ERROR_CODES.INVALID_VOCAB_MAPPING);break;case"base":if(p!==null&&f!=="string")throw new o.ErrorCoded(`Found an invalid @base IRI: ${a[d]}`,o.ERROR_CODES.INVALID_BASE_IRI);break;case"language":p!==null&&n.validateLanguage(p,!0,o.ERROR_CODES.INVALID_DEFAULT_LANGUAGE);break;case"version":if(p!==null&&f!=="number")throw new o.ErrorCoded(`Found an invalid @version number: ${p}`,o.ERROR_CODES.INVALID_VERSION_VALUE);break;case"direction":p!==null&&n.validateDirection(p,!0);break;case"propagate":if(l===1)throw new o.ErrorCoded(`Found an illegal @propagate keyword: ${p}`,o.ERROR_CODES.INVALID_CONTEXT_ENTRY);if(p!==null&&f!=="boolean")throw new o.ErrorCoded(`Found an invalid @propagate value: ${p}`,o.ERROR_CODES.INVALID_PROPAGATE_VALUE)}if(r.Util.isValidKeyword(d)&&r.Util.isValidKeyword(r.Util.getContextValueId(p)))throw new o.ErrorCoded(`Illegal keyword alias in term value, found: '${d}': '${r.Util.getContextValueId(p)}'`,o.ERROR_CODES.KEYWORD_REDEFINITION)}else if(p!==null)switch(f){case"string":if(r.Util.getPrefix(p,a)===d)throw new o.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${d}': '${JSON.stringify(p)}'`,o.ERROR_CODES.CYCLIC_IRI_MAPPING);if(r.Util.isValidIriWeak(d)){if(p==="@type")throw new o.ErrorCoded(`IRIs can not be mapped to @type, found: '${d}': '${p}'`,o.ERROR_CODES.INVALID_IRI_MAPPING);if(r.Util.isValidIri(p)&&p!==new i.JsonLdContextNormalized(a).expandTerm(d))throw new o.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${d}': '${p}'`,o.ERROR_CODES.INVALID_IRI_MAPPING)}break;case"object":if(!(r.Util.isCompactIri(d)||"@id"in p||(p["@type"]==="@id"?a["@base"]:a["@vocab"])))throw new o.ErrorCoded(`Missing @id in context entry: '${d}': '${JSON.stringify(p)}'`,o.ERROR_CODES.INVALID_IRI_MAPPING);for(const h of Object.keys(p)){const y=p[h];if(y)switch(h){case"@id":if(r.Util.isValidKeyword(y)&&y!=="@type"&&y!=="@id"&&y!=="@graph"&&y!=="@nest")throw new o.ErrorCoded(`Illegal keyword alias in term value, found: '${d}': '${JSON.stringify(p)}'`,o.ERROR_CODES.INVALID_IRI_MAPPING);if(r.Util.isValidIriWeak(d)){if(y==="@type")throw new o.ErrorCoded(`IRIs can not be mapped to @type, found: '${d}': '${JSON.stringify(p)}'`,o.ERROR_CODES.INVALID_IRI_MAPPING);if(r.Util.isValidIri(y)&&y!==new i.JsonLdContextNormalized(a).expandTerm(d))throw new o.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${d}': '${JSON.stringify(p)}'`,o.ERROR_CODES.INVALID_IRI_MAPPING)}if(typeof y!="string")throw new o.ErrorCoded(`Detected non-string @id in context entry: '${d}': '${JSON.stringify(p)}'`,o.ERROR_CODES.INVALID_IRI_MAPPING);if(r.Util.getPrefix(y,a)===d)throw new o.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${d}': '${JSON.stringify(p)}'`,o.ERROR_CODES.CYCLIC_IRI_MAPPING);break;case"@type":if(p["@container"]==="@type"&&y!=="@id"&&y!=="@vocab")throw new o.ErrorCoded(`@container: @type only allows @type: @id or @vocab, but got: '${d}': '${y}'`,o.ERROR_CODES.INVALID_TYPE_MAPPING);if(typeof y!="string")throw new o.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(f)}'`,o.ERROR_CODES.INVALID_TYPE_MAPPING);if(!(y==="@id"||y==="@vocab"||l!==1&&y==="@json"||l!==1&&y==="@none"||y[0]!=="_"&&r.Util.isValidIri(y)))throw new o.ErrorCoded(`A context @type must be an absolute IRI, found: '${d}': '${y}'`,o.ERROR_CODES.INVALID_TYPE_MAPPING);break;case"@reverse":if(typeof y=="string"&&p["@id"]&&p["@id"]!==y)throw new o.ErrorCoded(`Found non-matching @id and @reverse term values in '${d}':'${y}' and '${p["@id"]}'`,o.ERROR_CODES.INVALID_REVERSE_PROPERTY);if("@nest"in p)throw new o.ErrorCoded(`@nest is not allowed in the reverse property '${d}'`,o.ERROR_CODES.INVALID_REVERSE_PROPERTY);break;case"@container":if(l===1&&(Object.keys(y).length>1||r.Util.CONTAINERS_1_0.indexOf(Object.keys(y)[0])<0))throw new o.ErrorCoded(`Invalid term @container for '${d}' ('${Object.keys(y)}') in 1.0, must be only one of ${r.Util.CONTAINERS_1_0.join(", ")}`,o.ERROR_CODES.INVALID_CONTAINER_MAPPING);for(const m of Object.keys(y)){if(m==="@list"&&p["@reverse"])throw new o.ErrorCoded(`Term value can not be @container: @list and @reverse at the same time on '${d}'`,o.ERROR_CODES.INVALID_REVERSE_PROPERTY);if(r.Util.CONTAINERS.indexOf(m)<0)throw new o.ErrorCoded(`Invalid term @container for '${d}' ('${m}'), must be one of ${r.Util.CONTAINERS.join(", ")}`,o.ERROR_CODES.INVALID_CONTAINER_MAPPING)}break;case"@language":n.validateLanguage(y,!0,o.ERROR_CODES.INVALID_LANGUAGE_MAPPING);break;case"@direction":n.validateDirection(y,!0);break;case"@prefix":if(y!==null&&typeof y!="boolean")throw new o.ErrorCoded(`Found an invalid term @prefix boolean in: '${d}': '${JSON.stringify(p)}'`,o.ERROR_CODES.INVALID_PREFIX_VALUE);if(!("@id"in p)&&!r.Util.isValidIri(d))throw new o.ErrorCoded(`Invalid @prefix definition for '${d}' ('${JSON.stringify(p)}'`,o.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@index":if(l===1||!p["@container"]||!p["@container"]["@index"])throw new o.ErrorCoded(`Attempt to add illegal key to value object: '${d}': '${JSON.stringify(p)}'`,o.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@nest":if(r.Util.isPotentialKeyword(y)&&y!=="@nest")throw new o.ErrorCoded(`Found an invalid term @nest value in: '${d}': '${JSON.stringify(p)}'`,o.ERROR_CODES.INVALID_NEST_VALUE)}}break;default:throw new o.ErrorCoded(`Found an invalid term value: '${d}': '${p}'`,o.ERROR_CODES.INVALID_TERM_DEFINITION)}}}applyBaseEntry(a,l,d){return typeof a=="string"||(d&&!("@base"in a)&&l.parentContext&&typeof l.parentContext=="object"&&"@base"in l.parentContext&&(a["@base"]=l.parentContext["@base"],l.parentContext["@__baseDocument"]&&(a["@__baseDocument"]=!0)),l.baseIRI&&!l.external&&("@base"in a?a["@base"]===null||typeof a["@base"]!="string"||r.Util.isValidIri(a["@base"])||(a["@base"]=(0,c.resolve)(a["@base"],l.parentContext&&l.parentContext["@base"]||l.baseIRI)):(a["@base"]=l.baseIRI,a["@__baseDocument"]=!0))),a}normalizeContextIri(a,l){if(!r.Util.isValidIri(a))try{a=(0,c.resolve)(a,l)}catch{throw new Error(`Invalid context IRI: ${a}`)}return this.redirectSchemaOrgHttps&&a.startsWith("http://schema.org")&&(a="https://schema.org/"),a}async parseInnerContexts(a,l,d){for(const p of d??Object.keys(a)){const f=a[p];if(f&&typeof f=="object"&&"@context"in f&&f["@context"]!==null&&!l.ignoreScopedContexts){if(this.validateContext)try{const h=Object.assign(Object.assign({},a),{[p]:Object.assign({},a[p])});delete h[p]["@context"],await this.parse(f["@context"],Object.assign(Object.assign({},l),{external:!1,parentContext:h,ignoreProtection:!0,ignoreRemoteScopedContexts:!0,ignoreScopedContexts:!0}))}catch(h){throw new o.ErrorCoded(h.message,o.ERROR_CODES.INVALID_SCOPED_CONTEXT)}a[p]=Object.assign(Object.assign({},f),{"@context":(await this.parse(f["@context"],Object.assign(Object.assign({},l),{external:!1,minimalProcessing:!0,ignoreRemoteScopedContexts:!0,parentContext:a}))).getContextRaw()})}}return a}async parse(a,l={},d={}){const{baseIRI:p,parentContext:f,external:h,processingMode:y=n.DEFAULT_PROCESSING_MODE,normalizeLanguageTags:m,ignoreProtection:b,minimalProcessing:v}=l,_=l.remoteContexts||{};if(Object.keys(_).length>=this.remoteContextsDepthLimit)throw new o.ErrorCoded("Detected an overflow in remote context inclusions: "+Object.keys(_),o.ERROR_CODES.CONTEXT_OVERFLOW);if(a==null){if(!b&&f&&r.Util.hasProtectedTerms(f))throw new o.ErrorCoded("Illegal context nullification when terms are protected",o.ERROR_CODES.INVALID_CONTEXT_NULLIFICATION);return new i.JsonLdContextNormalized(this.applyBaseEntry({},l,!1))}if(typeof a=="string"){const w=this.normalizeContextIri(a,p),S=this.getOverriddenLoad(w,l);if(S)return new i.JsonLdContextNormalized(S);const x=await this.parse(await this.load(w),Object.assign(Object.assign({},l),{baseIRI:w,external:!0,remoteContexts:Object.assign(Object.assign({},_),{[w]:!0})}));return this.applyBaseEntry(x.getContextRaw(),l,!0),x}if(Array.isArray(a)){const w=[],S=await Promise.all(a.map((T,O)=>{if(typeof T=="string"){const E=this.normalizeContextIri(T,p);return w[O]=E,this.getOverriddenLoad(E,l)||this.load(E)}return T}));if(v)return new i.JsonLdContextNormalized(S);const x=await S.reduce((T,O,E)=>T.then(R=>this.parse(O,Object.assign(Object.assign({},l),{baseIRI:w[E]||l.baseIRI,external:!!w[E]||l.external,parentContext:R.getContextRaw(),remoteContexts:w[E]?Object.assign(Object.assign({},_),{[w[E]]:!0}):_}),{skipValidation:E<S.length-1})),Promise.resolve(new i.JsonLdContextNormalized(f||{})));return this.applyBaseEntry(x.getContextRaw(),l,!0),x}if(typeof a=="object"){if("@context"in a)return await this.parse(a["@context"],l);if(a=Object.assign({},a),h&&delete a["@base"],this.applyBaseEntry(a,l,!0),this.containersToHash(a),v)return new i.JsonLdContextNormalized(a);let w={};if("@import"in a){if(!(y>=1.1))throw new o.ErrorCoded("Context importing is not supported in JSON-LD 1.0",o.ERROR_CODES.INVALID_CONTEXT_ENTRY);if(typeof a["@import"]!="string")throw new o.ErrorCoded("An @import value must be a string, but got "+typeof a["@import"],o.ERROR_CODES.INVALID_IMPORT_VALUE);w=await this.loadImportContext(this.normalizeContextIri(a["@import"],p)),delete a["@import"]}this.applyScopedProtected(w,{processingMode:y},i.defaultExpandOptions);const S=Object.assign(w,a);this.idifyReverseTerms(S),this.normalize(S,{processingMode:y,normalizeLanguageTags:m}),this.applyScopedProtected(S,{processingMode:y},i.defaultExpandOptions);const x=Object.keys(S),T=[];if(typeof f=="object")for(const E in f)E in S?T.push(E):S[E]=f[E];await this.parseInnerContexts(S,l,x);const O=new i.JsonLdContextNormalized(S);return(S&&S["@version"]||n.DEFAULT_PROCESSING_MODE)>=1.1&&(a["@vocab"]&&typeof a["@vocab"]=="string"||a["@vocab"]==="")&&(f&&"@vocab"in f&&a["@vocab"].indexOf(":")<0?S["@vocab"]=f["@vocab"]+a["@vocab"]:(r.Util.isCompactIri(a["@vocab"])||a["@vocab"]in S)&&(S["@vocab"]=O.expandTerm(a["@vocab"],!0))),this.expandPrefixedTerms(O,this.expandContentTypeToBase,x),!b&&f&&y>=1.1&&this.validateKeywordRedefinitions(f,S,i.defaultExpandOptions,T),this.validateContext&&!d.skipValidation&&this.validate(S,{processingMode:y}),O}throw new o.ErrorCoded(`Tried parsing a context that is not a string, array or object, but got ${a}`,o.ERROR_CODES.INVALID_LOCAL_CONTEXT)}async load(a){const l=this.documentCache[a];if(l)return l;let d;try{d=await this.documentLoader.load(a)}catch(p){throw new o.ErrorCoded(`Failed to load remote context ${a}: ${p.message}`,o.ERROR_CODES.LOADING_REMOTE_CONTEXT_FAILED)}if(!("@context"in d))throw new o.ErrorCoded(`Missing @context in remote context at ${a}`,o.ERROR_CODES.INVALID_REMOTE_CONTEXT);return this.documentCache[a]=d["@context"]}getOverriddenLoad(a,l){if(a in(l.remoteContexts||{})){if(l.ignoreRemoteScopedContexts)return a;throw new o.ErrorCoded("Detected a cyclic context inclusion of "+a,o.ERROR_CODES.RECURSIVE_CONTEXT_INCLUSION)}return null}async loadImportContext(a){let l=await this.load(a);if(typeof l!="object"||Array.isArray(l))throw new o.ErrorCoded("An imported context must be a single object: "+a,o.ERROR_CODES.INVALID_REMOTE_CONTEXT);if("@import"in l)throw new o.ErrorCoded("An imported context can not import another context: "+a,o.ERROR_CODES.INVALID_CONTEXT_ENTRY);return l=Object.assign({},l),this.containersToHash(l),l}}n.DEFAULT_PROCESSING_MODE=1.1,e.ContextParser=n},72818:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ExpressionFunctionBound=void 0;const c=s(77617),o=s(90711),u=s(42996),i=s(77545);class r extends c.ExpressionFunctionBase{constructor(){super({arity:1,operator:i.SparqlOperator.BOUND,apply:async({args:t,mapping:a,exprEval:l})=>{const d=t[0];if(d.expressionType!==u.ExpressionType.Variable)throw new i.InvalidArgumentTypes(t,i.SparqlOperator.BOUND);const p=a.has((0,i.expressionToVar)(l.context.getSafe(o.KeysInitQuery.dataFactory),d));return(0,i.bool)(p)}})}}e.ExpressionFunctionBound=r},72945:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(5847),e)},73038:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TokenKind=void 0;var s=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});e.TokenKind=s},73143:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.termToString=e.stringToTerm=e.stringQuadToQuad=e.quadToStringQuad=e.getLiteralValue=e.getLiteralType=e.getLiteralLanguage=void 0;const c=s(41845);Object.defineProperty(e,"getLiteralLanguage",{enumerable:!0,get:function(){return c.getLiteralLanguage}}),Object.defineProperty(e,"getLiteralType",{enumerable:!0,get:function(){return c.getLiteralType}}),Object.defineProperty(e,"getLiteralValue",{enumerable:!0,get:function(){return c.getLiteralValue}}),Object.defineProperty(e,"quadToStringQuad",{enumerable:!0,get:function(){return c.quadToStringQuad}}),Object.defineProperty(e,"stringQuadToQuad",{enumerable:!0,get:function(){return c.stringQuadToQuad}}),Object.defineProperty(e,"stringToTerm",{enumerable:!0,get:function(){return c.stringToTerm}}),Object.defineProperty(e,"termToString",{enumerable:!0,get:function(){return c.termToString}})},73153:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Util=void 0;const c=s(47793),o=s(70742);class u{constructor(r,n){this.dataFactory=r||new c.DataFactory,this.baseIRI=n||""}static isValidIri(r){return u.IRI_REGEX.test(r)}createVocabIris(r,n,t){return r.split(/\s+/u).filter(a=>!!a).map(a=>{if(!u.isValidIri(a)){if(!t)return;a=`${n.vocab||`${this.baseIRI}#`}${a}`}return this.dataFactory.namedNode(a)}).filter(a=>!!a)}getVocabularyExpansionType(r,n,t){const a=r.split(/\s+/u);if(a.includes("subPropertyOf")||a.includes("equivalentProperty"))return[this.dataFactory.namedNode(`${u.RDF}type`)];if(n.vocab&&n.vocab in t&&t[n.vocab].properties){let l=[];for(const[d,p]of Object.entries(t[n.vocab].properties))a.includes(d)&&(l=[...Object.values(p).map(f=>this.dataFactory.namedNode(f))]);return l}return[]}createSubject(r){if(!u.isValidIri(r))try{r=(0,o.resolve)(r,this.baseIRI)}catch{return}return this.dataFactory.namedNode(r)}createLiteral(r,n){return this.dataFactory.literal(r,n.language)}deriveVocab(r,n){let t;for(const a in n)if(r.startsWith(a)){t=a,t.endsWith("/")||(t+="#");break}if(!t){const a=r.indexOf("#");t=a>0?r.slice(0,a+1):(0,o.resolve)(".",r)}return t}}e.Util=u,u.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",u.XSD="http://www.w3.org/2001/XMLSchema#",u.RDFA="http://www.w3.org/ns/rdfa#",u.IRI_REGEX=/^([A-Za-z][\d+-.A-Za-z]*|_):[^ "<>[\\\]`{|}]*$/u},73392:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ExpressionFunctionConcat=void 0;const c=s(77617),o=s(90711),u=s(77545);class i extends c.ExpressionFunctionBase{constructor(){super({arity:Number.POSITIVE_INFINITY,operator:u.SparqlOperator.CONCAT,apply:async n=>{const{args:t,mapping:a,exprEval:l}=n,d=t.map(async y=>l.evaluatorExpressionEvaluation(y,a)).map(async y=>{const m=i.concatTree.search([await y],l.context.getSafe(o.KeysExpressionEvaluator.superTypeProvider),l.context.getSafe(o.KeysInitQuery.functionArgumentsCache));if(!m)throw new u.InvalidArgumentTypes(t,u.SparqlOperator.CONCAT);return m(l)([await y])}),p=await Promise.all(d),f=p.map(y=>y.typedValue).join(""),h=i.langAllEqual(p)?p[0].language:void 0;return h?(0,u.langString)(f,h):(0,u.string)(f)}})}static langAllEqual(n){return n.length>0&&n.every(t=>t.language===n[0].language)}}e.ExpressionFunctionConcat=i,i.concatTree=(0,u.declare)(u.SparqlOperator.CONCAT).onStringly1(()=>r=>r).collect()},73403:(g,e)=>{function s(c){if(c.prev&&(c.prev.next=c.next),c.next&&(c.next.prev=c.prev),c.parent){var o=c.parent.children,u=o.lastIndexOf(c);u>=0&&o.splice(u,1)}c.next=null,c.prev=null,c.parent=null}Object.defineProperty(e,"__esModule",{value:!0}),e.removeElement=s,e.replaceElement=function(c,o){var u=o.prev=c.prev;u&&(u.next=o);var i=o.next=c.next;i&&(i.prev=o);var r=o.parent=c.parent;if(r){var n=r.children;n[n.lastIndexOf(c)]=o,c.parent=null}},e.appendChild=function(c,o){if(s(o),o.next=null,o.parent=c,c.children.push(o)>1){var u=c.children[c.children.length-2];u.next=o,o.prev=u}else o.prev=null},e.append=function(c,o){s(o);var u=c.parent,i=c.next;if(o.next=i,o.prev=c,c.next=o,o.parent=u,i){if(i.prev=o,u){var r=u.children;r.splice(r.lastIndexOf(i),0,o)}}else u&&u.children.push(o)},e.prependChild=function(c,o){if(s(o),o.parent=c,o.prev=null,c.children.unshift(o)!==1){var u=c.children[1];u.prev=o,o.next=u}else o.next=null},e.prepend=function(c,o){s(o);var u=c.parent;if(u){var i=u.children;i.splice(i.indexOf(c),0,o)}c.prev&&(c.prev.next=o),o.parent=u,o.prev=c.prev,o.next=c,c.prev=o}},73410:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionXsdToDecimal=void 0;const c=s(77617),o=s(77545);class u extends c.TermFunctionBase{constructor(){super({arity:1,operator:o.TypeURL.XSD_DECIMAL,overloads:(0,o.declare)(o.TypeURL.XSD_DECIMAL).onNumeric1(()=>r=>{const n=(0,o.parseXSDDecimal)(r.str());if(n===void 0)throw new o.CastError(r,o.TypeURL.XSD_DECIMAL);return(0,o.decimal)(n)}).onString1(()=>r=>{const n=r.str(),t=/^([+-])?(\d+(\.\d+)?)$/u.test(n)?(0,o.parseXSDDecimal)(n):void 0;if(t===void 0)throw new o.CastError(r,o.TypeURL.XSD_DECIMAL);return(0,o.decimal)(t)},!1).onBoolean1Typed(()=>r=>(0,o.decimal)(r?1:0)).collect()})}}e.TermFunctionXsdToDecimal=u},73423:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getShaclName=void 0,e.getShaclName=function(s){if(s.termType!=="NamedNode"||!s.value.startsWith("http://www.w3.org/ns/shacl#"))throw new Error(`Term ${s.value} is not part of the SHACL namespace`);return s.value.slice(27)}},73481:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermIri=void 0;const c=s(77617),o=s(77545),u=s(58006);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.SparqlOperator.IRI,o.SparqlOperator.URI],termFunction:!0})}async run(n){return new u.TermFunctionIri}}e.ActorFunctionFactoryTermIri=i},73505:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryResultSerializeTree=void 0;const c=s(58871),o=s(90711),u=s(90412),i=s(19198),r=s(12763);class n extends c.ActorQueryResultSerializeFixedMediaTypes{constructor(a){super(a)}static async bindingsStreamToGraphQl(a,l,d){const p=u.ActionContext.ensureActionContext(l),f=new r.Converter(d),h={singularizeVariables:p.get(o.KeysInitQuery.graphqlSingularizeVariables)??{}};return f.bindingsToTree(await a.map(y=>Object.fromEntries([...y].map(([m,b])=>[m.value,b]))).toArray(),h)}async testHandleChecked(a){return a.type!=="bindings"?(0,u.failTest)("This actor can only handle bindings streams."):(0,u.passTestVoid)()}async runHandle(a,l){const d=new i.Readable;return d._read=()=>{d._read=()=>{},n.bindingsStreamToGraphQl(a.bindingsStream,a.context,{materializeRdfJsTerms:!0}).then(p=>{d.push(JSON.stringify(p,null,"  ")),d.push(null)}).catch(p=>d.emit("error",p))},{data:d}}}e.ActorQueryResultSerializeTree=n},73645:(g,e)=>{var s;Object.defineProperty(e,"__esModule",{value:!0}),e.fromCodePoint=void 0,e.replaceCodePoint=o,e.decodeCodePoint=function(u){return(0,e.fromCodePoint)(o(u))};const c=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function o(u){var i;return u>=55296&&u<=57343||u>1114111?65533:(i=c.get(u))!==null&&i!==void 0?i:u}e.fromCodePoint=(s=String.fromCodePoint)!==null&&s!==void 0?s:function(u){let i="";return u>65535&&(u-=65536,i+=String.fromCharCode(u>>>10&1023|55296),u=56320|1023&u),i+=String.fromCharCode(u),i}},73719:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.stringQuadToQuad=e.quadToStringQuad=e.stringToTerm=e.getLiteralLanguage=e.getLiteralType=e.getLiteralValue=e.termToString=void 0;const c=new(s(47793)).DataFactory;function o(t){if(t)switch(t.termType){case"NamedNode":case"DefaultGraph":return t.value;case"BlankNode":return"_:"+t.value;case"Literal":const a=t;return'"'+a.value+'"'+(a.datatype&&a.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&a.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?"^^"+a.datatype.value:"")+(a.language?"@"+a.language:"");case"Quad":return`<<${o(t.subject)} ${o(t.predicate)} ${o(t.object)}${t.graph.termType==="DefaultGraph"?"":" "+o(t.graph)}>>`;case"Variable":return"?"+t.value}}function u(t){const a=/^"([^]*)"/.exec(t);if(!a)throw new Error(t+" is not a literal");return a[1]}function i(t){const a=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(t);if(!a)throw new Error(t+" is not a literal");return a[1]||(a[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}function r(t){const a=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(t);if(!a)throw new Error(t+" is not a literal");return a[1]?a[1].toLowerCase():""}function n(t,a){if(a=a||c,!t||!t.length)return a.defaultGraph();switch(t[0]){case"_":return a.blankNode(t.substr(2));case"?":if(!a.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return a.variable(t.substr(1));case'"':const l=r(t),d=a.namedNode(i(t));return a.literal(u(t),l||d);default:if(t[0]==="<"&&t.length>4&&t[1]==="<"&&t[t.length-1]===">"&&t[t.length-2]===">"){const p=t.slice(2,-2).trim();let f=[],h=0,y=0,m=!1;for(let b=0;b<p.length;b++){const v=p[b];if(v==="<"&&h++,v===">"){if(h===0)throw new Error("Found closing tag without opening tag in "+t);h--}if(v==='"'){let _=!1,w=b;for(;w-- >0&&p[w]==="\\";)_=!_;_||(m=!m)}if(v===" "&&!m&&h===0){for(f.push(p.slice(y,b));p[b+1]===" ";)b+=1;y=b+1}}if(h!==0)throw new Error("Found opening tag without closing tag in "+t);if(f.push(p.slice(y,p.length)),f.length!==3&&f.length!==4)throw new Error("Nested quad syntax error "+t);return f=f.map(b=>b.startsWith("<")&&!b.includes(" ")?b.slice(1,-1):b),a.quad(n(f[0]),n(f[1]),n(f[2]),f[3]?n(f[3]):void 0)}return a.namedNode(t)}}e.termToString=o,e.getLiteralValue=u,e.getLiteralType=i,e.getLiteralLanguage=r,e.stringToTerm=n,e.quadToStringQuad=function(t){return{subject:o(t.subject),predicate:o(t.predicate),object:o(t.object),graph:o(t.graph)}},e.stringQuadToQuad=function(t,a){return(a=a||c).quad(n(t.subject,a),n(t.predicate,a),n(t.object,a),n(t.graph,a))}},73776:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(I,j,P,L){L===void 0&&(L=P);var G=Object.getOwnPropertyDescriptor(j,P);G&&!("get"in G?!j.__esModule:G.writable||G.configurable)||(G={enumerable:!0,get:function(){return j[P]}}),Object.defineProperty(I,L,G)}:function(I,j,P,L){L===void 0&&(L=P),I[L]=j[P]}),o=this&&this.__setModuleDefault||(Object.create?function(I,j){Object.defineProperty(I,"default",{enumerable:!0,value:j})}:function(I,j){I.default=j}),u=this&&this.__importStar||function(I){if(I&&I.__esModule)return I;var j={};if(I!=null)for(var P in I)P!=="default"&&Object.prototype.hasOwnProperty.call(I,P)&&c(j,I,P);return o(j,I),j},i=this&&this.__importDefault||function(I){return I&&I.__esModule?I:{default:I}};Object.defineProperty(e,"__esModule",{value:!0});const r=s(29252),n=s(43347),t=u(s(13079)),a=i(s(91409)),l=i(s(64995)),d=s(98082).Parser,p=t.types;let f,h=new Set,y=0,m=!1;function b(I,j,P){if(h=new Set,y=0,m=!!j,!I.type)return f.createNop();if(I.type!=="query"&&I.type!=="update")throw new Error("Translate only works on complete query or update objects.");let L;var G;return w(I),I.type==="query"?(L=x({type:"group",patterns:I.where||[]}),L=(function(te,W){const ce=te,de=[],Se={};if(ce.variables=ce.variables&&ce.variables.map(me=>$(me,Se)),ce.having=ce.having&&ce.having.map(me=>$(me,Se)),ce.order=ce.order&&ce.order.map(me=>$(me,Se)),ce.group||Object.keys(Se).length>0){const me=Object.keys(Se).map(ve=>(function(xe,q){if(xe.type!=="aggregate"||!xe.aggregation)throw new Error(`Unexpected input: ${JSON.stringify(xe)}`);const N=T(xe);return N.variable=q,N})(Se[ve],f.createTerm(ve))),oe=[];if(ce.group)for(const ve of ce.group)if(l.default.isSimpleTerm(ve.expression))oe.push(ve.expression);else{const xe="variable"in ve?ve.variable:M();W=f.createExtend(W,xe,T(ve.expression)),oe.push(xe)}W=f.createGroup(W,oe,me)}if(ce.having)for(let me of ce.having)W=f.createFilter(W,T(me));te.values&&(W=f.createJoin([W,k(te)]));let ie=[];if(te.queryType==="SELECT"||te.queryType==="DESCRIBE")if(te.variables.some(me=>me&&l.default.isWildcard(me)))ie=Object.values(S(te)).sort((me,oe)=>me.value.localeCompare(oe.value));else for(let me of te.variables)_(me)||!("variable"in me)?ie.push(me):me.variable&&(ie.push(me.variable),de.push(me));for(let me of de)W=f.createExtend(W,me.variable,T(me.expression));return ce.order&&(W=f.createOrderBy(W,ce.order.map(me=>{let oe=T(me.expression);return me.descending&&(oe=f.createOperatorExpression("desc",[oe])),oe}))),te.queryType==="SELECT"&&(W=f.createProject(W,ie)),ce.distinct&&(W=f.createDistinct(W)),ce.reduced&&(W=f.createReduced(W)),te.queryType==="CONSTRUCT"?W=f.createConstruct(W,(te.template||[]).map(Q)):te.queryType==="ASK"?W=f.createAsk(W):te.queryType==="DESCRIBE"&&(W=f.createDescribe(W,ie)),(ce.offset||ce.limit)&&(W=f.createSlice(W,ce.offset||0,ce.limit)),ce.from&&(W=f.createFrom(W,ce.from.default,ce.from.named)),W})(I,L)):I.type==="update"&&(L=(G=I).updates.length===1?ae(G.updates[0]):f.createCompositeUpdate(G.updates.map(ae))),P&&(L=ye(L)),L}function v(I){return!!I?.termType}function _(I){return I?.termType==="Variable"}function w(I){if(v(I))_(I)&&h.add(`?${I.value}`);else if(Array.isArray(I))for(const j of I)w(j);else if(I&&typeof I=="object")for(let j of Object.keys(I))j.startsWith("?")?h.add(j):j.startsWith("$")&&h.add(`?${j.slice(1)}`),w(I[j])}function S(I){let j={};if((P=I).subject&&P.predicate&&P.object){const L=[S(I.subject),S(I.predicate),S(I.object),I.graph?S(I.graph):{}];Object.assign(j,...L)}else if(v(I))_(I)&&(j[I.value]=I);else if(I.type==="bgp"){const L=I.triples;Object.assign(j,...L.map(S))}else if(I.type==="path")Object.assign(j,...I.items.map(S));else if(I.type==="group"||I.type==="union"||I.type==="optional")Object.assign(j,...I.patterns.map(S));else if(I.type==="service"||I.type==="graph")Object.assign(j,S(I.name)),Object.assign(j,...I.patterns.map(S));else if(I.type==="bind")Object.assign(j,S(I.variable));else if(I.type==="values"){if(I.values.length>0){const L=Object.keys(I.values[0]).map(G=>f.createTerm(G));Object.assign(j,...L.map(S))}}else if(I.type==="query"&&(I.queryType==="SELECT"||I.queryType==="DESCRIBE")){I.where&&I.variables.some(l.default.isWildcard)&&Object.assign(j,...I.where.map(S));for(const L of I.variables)_(L)?Object.assign(j,S(L)):L.variable&&Object.assign(j,S(L.variable));if(I.queryType==="SELECT"){if(I.group)for(const L of I.group)L.variable&&Object.assign(j,S(L.variable));if(I.values){const L={type:"values",values:I.values};Object.assign(j,S(L))}}}var P;return j}function x(I){if(I.type==="bgp")return(function(j){let P=[],L=[];for(let G of j.triples)if("pathType"in G.predicate){let te=O(G);for(let W of te)W.type===p.PATH?(P.length>0&&L.push(f.createBgp(P)),P=[],L.push(W)):P.push(W)}else P.push(Q(G));return P.length>0&&L.push(f.createBgp(P)),L.length===1?L[0]:f.createJoin(L)})(I);if(I.type==="union")return f.createUnion(I.patterns.map(j=>(j.type!=="group"&&(j={type:"group",patterns:[j]}),x(j))));if(I.type==="graph"){let j=x({type:"group",patterns:I.patterns});return j=m?V(j,I.name):f.createGraph(j,I.name),j}if(I.type==="values")return k(I);if(I.type==="query")return b(I,m,!1);if(I.type==="group"){let j=[],P=[];for(let te of I.patterns)(te.type==="filter"?j:P).push(te);let L=P.reduce(H,f.createBgp([])),G=j.map(te=>T(te.expression));return G.length>0&&(L=f.createFilter(L,G.reduce((te,W)=>f.createOperatorExpression("&&",[te,W])))),L}throw new Error(`Unexpected type: ${I.type}`)}function T(I){if(l.default.isSimpleTerm(I))return f.createTermExpression(I);if(l.default.isQuad(I))return l.default.hasQuadVariables(I)?f.createOperatorExpression("triple",[T(I.subject),T(I.predicate),T(I.object)]):f.createTermExpression(I);if(l.default.isWildcard(I))return f.createWildcardExpression();if("aggregation"in I)return f.createAggregateExpression(I.aggregation,T(I.expression),!!I.distinct,I.separator);if("function"in I)return f.createNamedExpression(I.function,I.args.map(T));if("operator"in I)return I.operator==="exists"||I.operator==="notexists"?f.createExistenceExpression(I.operator==="notexists",x(I.args[0])):(I.operator!=="in"&&I.operator!=="notin"||(I.args=[I.args[0]].concat(I.args[1])),f.createOperatorExpression(I.operator,I.args.map(T)));throw new Error(`Unknown expression: ${JSON.stringify(I)}`)}function O(I){return R(I.subject,E(I.predicate),I.object)}function E(I){if(l.default.isSimpleTerm(I)){if(I.termType==="NamedNode")return f.createLink(I);throw new Error(`Path predicate should be a NamedNode, got ${JSON.stringify(I)}`)}if(I.pathType==="^")return f.createInv(E(I.items[0]));if(I.pathType==="!"){let j,P=[],L=[];j="pathType"in I.items[0]&&I.items[0].pathType==="|"?I.items[0].items:I.items;for(let W of j)if(l.default.isSimpleTerm(W))P.push(W);else{if(W.pathType!=="^")throw new Error(`Unexpected item: ${JSON.stringify(W)}`);L.push(W.items[0])}let G=f.createNps(P),te=f.createInv(f.createNps(L));return L.length===0?G:P.length===0?te:f.createAlt([G,te])}if(I.pathType==="/")return f.createSeq(I.items.map(E));if(I.pathType==="|")return f.createAlt(I.items.map(E));if(I.pathType==="*")return f.createZeroOrMorePath(E(I.items[0]));if(I.pathType==="+")return f.createOneOrMorePath(E(I.items[0]));if(I.pathType==="?")return f.createZeroOrOnePath(E(I.items[0]));throw new Error(`Unable to translate path expression ${JSON.stringify(I)}`)}function R(I,j,P){if(j.type===p.LINK)return[f.createPattern(I,j.iri,P)];if(j.type===p.INV)return R(P,j.path,I);if(j.type===p.SEQ){let L=I;return l.default.flatten(j.input.map((G,te)=>{const W=te===j.input.length-1?P:M(),ce=R(L,G,W);return W.termType==="Variable"&&(L=W),ce}))}return[f.createPath(I,j,P)]}function M(){let I="?var"+y++;return h.has(I)?M():(h.add(I),f.createTerm(I))}function Q(I){if("pathType"in I.predicate)throw new Error("Trying to translate property path to quad.");return f.createPattern(I.subject,I.predicate,I.object,I.graph)}e.default=function(I,j){let P;if(j=j||{},f=new a.default(j.dataFactory),typeof I=="string"){let L=new d(j);L._resetBlanks(),P=L.parse(I)}else P=I;return b(P,j.quads,j.blankToVariable)};let X=Object.values(p);function V(I,j,P){if(I.type===p.GRAPH){if(P)throw new Error("Recursing through nested GRAPH statements with a replacement is impossible.");I=V(I.input,I.name)}else if(I.type!==p.SERVICE)if(I.type===p.BGP)I.patterns=I.patterns.map(L=>(P&&(L.subject.equals(j)&&(L.subject=P),L.predicate.equals(j)&&(L.predicate=P),L.object.equals(j)&&(L.object=P)),L.graph.termType==="DefaultGraph"&&(L.graph=j),L));else if(I.type===p.PATH)P&&(I.subject.equals(j)&&(I.subject=P),I.object.equals(j)&&(I.object=P)),I.graph.termType==="DefaultGraph"&&(I.graph=j);else if(I.type!==p.PROJECT||P)if(I.type!==p.EXTEND||P)if(I.type===p.MINUS&&j.termType==="Variable")I.metadata={graphVariableFromParentScope:j},I.input=[V(I.input[0],j,P),V(I.input[1],j,P)];else for(let L of Object.keys(I))Array.isArray(I[L])?I[L]=I[L].map(G=>V(G,j,P)):X.indexOf(I[L].type)>=0?I[L]=V(I[L],j,P):P&&_(I[L])&&I[L].equals(j)&&(I[L]=P);else I.variable.equals(j)&&(P=M()),I.input=V(I.input,j,P);else I.variables.some(L=>L.equals(j))||(P=M()),I.input=V(I.input,j,P);return I}function H(I,j){if(j.type==="optional"){const P=x({type:"group",patterns:j.patterns});I=P.type===p.FILTER?f.createLeftJoin(I,P.input,P.expression):f.createLeftJoin(I,P)}else if(j.type==="minus"){const P=x({type:"group",patterns:j.patterns});I=f.createMinus(I,P)}else if(j.type==="bind")I=f.createExtend(I,j.variable,T(j.expression));else if(j.type==="service"){const P={type:"group",patterns:j.patterns};I=U(I,f.createService(x(P),j.name,j.silent))}else I=U(I,x(j));return I}function U(I,j){return I.type===p.BGP&&j.type===p.BGP?I=f.createBgp([...I.patterns,...j.patterns]):I.type===p.BGP&&I.patterns.length===0?I=j:j.type===p.BGP&&j.patterns.length===0||(I=f.createJoin([I,j])),I}function k(I){let j=(I.values.length===0?[]:Object.keys(I.values[0])).map(f.createTerm.bind(f)),P=I.values.map(L=>{let G=Object.keys(L);G=G.filter(W=>L[W]!==void 0);let te={};for(let W of G)te[W]=L[W];return te});return f.createValues(j,P)}function $(I,j){if("type"in I&&I.type==="aggregate"){let P,L=!1;for(let G of Object.keys(j))if(r(j[G],I)){P=f.createTerm(G),L=!0;break}return L||(P=M(),j[(0,n.termToString)(P)]=I),P}return"expression"in I&&I.expression?{...I,expression:$(I.expression,j)}:"args"in I&&I.args?{...I,args:I.args.map(P=>$(P,j))}:I}function ae(I){if("type"in I){if(I.type==="load")return(function(j){return f.createLoad(j.source,j.destination,j.silent)})(I);if(I.type==="clear"||I.type==="create"||I.type==="drop")return(function(j){let P;switch(P=l.default.isSimpleTerm(j.graph)?j.graph:j.graph.all?"ALL":j.graph.default?"DEFAULT":j.graph.named?"NAMED":j.graph.name,j.type){case"clear":return f.createClear(P,j.silent);case"create":return f.createCreate(P,j.silent);case"drop":return f.createDrop(P,j.silent)}})(I);if(I.type==="add"||I.type==="copy"||I.type==="move")return(function(j){const P=j.source.default?"DEFAULT":j.source.name,L=j.destination.default?"DEFAULT":j.destination.name;switch(j.type){case"copy":return f.createCopy(P,L,j.silent);case"move":return f.createMove(P,L,j.silent);case"add":return f.createAdd(P,L,j.silent)}})(I)}else if(I.updateType==="insertdelete"||I.updateType==="deletewhere"||I.updateType==="delete"||I.updateType==="insert")return(function(j){if(!m)throw new Error("INSERT/DELETE operations are only supported with quads option enabled");let P,L=[],G=[];if(j.delete&&(L=l.default.flatten(j.delete.map(te=>he(te,j.graph)))),j.insert&&(G=l.default.flatten(j.insert.map(te=>he(te,j.graph)))),j.where&&j.where.length>0){P=x({type:"group",patterns:j.where});const te=j.using;te?P=f.createFrom(P,te.default,te.named):j.graph&&(P=V(P,j.graph))}else j.updateType==="deletewhere"&&L.length>0&&(P=f.createBgp(L));return f.createDeleteInsert(L.length>0?L:void 0,G.length>0?G:void 0,P)})(I);throw new Error(`Unknown update type ${JSON.stringify(I)}`)}function he(I,j){let P=j;I.type==="graph"&&(P=I.name);let L=I.triples;return P&&(L=L.map(G=>Object.assign(G,{graph:P}))),L.map(Q)}function ye(I){const j={},P=Array.from(h).reduce((G,te)=>(G[te]=!0,G),{});return l.default.mapOperation(I,{[t.types.DELETE_INSERT]:G=>({result:f.createDeleteInsert(G.delete,G.insert,G.where&&ye(G.where)),recurse:!1}),[t.types.PATH]:(G,te)=>({result:te.createPath(L(G.subject),G.predicate,L(G.object),L(G.graph)),recurse:!1}),[t.types.PATTERN]:(G,te)=>({result:te.createPattern(L(G.subject),L(G.predicate),L(G.object),L(G.graph)),recurse:!1}),[t.types.CONSTRUCT]:G=>({result:f.createConstruct(ye(G.input),G.template),recurse:!1})});function L(G){if(G.termType==="BlankNode"){let te=j[G.value];return te||(te=l.default.createUniqueVariable(G.value,P,f.dataFactory),P[te.value]=!0,j[G.value]=te),te}return G.termType==="Quad"?f.dataFactory.quad(L(G.subject),L(G.predicate),L(G.object),L(G.graph)):G}}},73779:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0});const s=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);e.default={randomUUID:s}},73833:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},73945:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(54064),e)},74010:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Variable=void 0,e.Variable=class{constructor(s){this.termType="Variable",this.value=s}equals(s){return!!s&&s.termType==="Variable"&&s.value===this.value}}},74093:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(U,k,$,ae){ae===void 0&&(ae=$);var he=Object.getOwnPropertyDescriptor(k,$);he&&!("get"in he?!k.__esModule:he.writable||he.configurable)||(he={enumerable:!0,get:function(){return k[$]}}),Object.defineProperty(U,ae,he)}:function(U,k,$,ae){ae===void 0&&(ae=$),U[ae]=k[$]}),o=this&&this.__setModuleDefault||(Object.create?function(U,k){Object.defineProperty(U,"default",{enumerable:!0,value:k})}:function(U,k){U.default=k}),u=this&&this.__importStar||function(U){if(U&&U.__esModule)return U;var k={};if(U!=null)for(var $ in U)$!=="default"&&Object.prototype.hasOwnProperty.call(U,$)&&c(k,U,$);return o(k,U),k},i=this&&this.__importDefault||function(U){return U&&U.__esModule?U:{default:U}};Object.defineProperty(e,"__esModule",{value:!0}),e.toSparqlJs=e.toSparql=void 0;const r=s(65632),n=s(32072),t=s(98082),a=u(s(8498)),l=i(s(35344)),d=i(s(53496)),p=a.types,f=a.expressionTypes;let h;const y=new l.default;function m(U){b();let k=v(U=(function($){return H($,[])})(U));return k.type==="group"?k.patterns[0]:k}function b(){h={project:!1,extend:[],group:[],aggregates:[],order:[]}}function v(U){switch(U.type!==p.EXTEND&&U.type!==p.ORDER_BY&&U.type!==p.GRAPH&&(h.project=!1),U.type){case p.EXPRESSION:return _(U);case p.ASK:return R(U,p.ASK);case p.BGP:return(function(k){let $=k.patterns.map(O);return $.length===0?null:{type:"bgp",triples:$}})(U);case p.CONSTRUCT:return(function(k){return{type:"query",prefixes:{},queryType:"CONSTRUCT",template:k.template.map(O),where:d.default.flatten([v(k.input)])}})(U);case p.DESCRIBE:return R(U,p.DESCRIBE);case p.DISTINCT:return(function(k){let $=v(k.input);return $.patterns[0].distinct=!0,$})(U);case p.EXTEND:return(function(k){return h.project?(h.extend.push(k),v(k.input)):d.default.flatten([v(k.input),{type:"bind",variable:k.variable,expression:_(k.expression)}])})(U);case p.FROM:return(function(k){const $=v(k.input);let ae=$;return $.type==="group"&&(ae=$.patterns[0]),ae.from={default:k.default,named:k.named},$})(U);case p.FILTER:return(function(k){return{type:"group",patterns:d.default.flatten([v(k.input),{type:"filter",expression:_(k.expression)}])}})(U);case p.GRAPH:return(function(k){return{type:"graph",patterns:d.default.flatten([v(k.input)]),name:k.name}})(U);case p.GROUP:return(function(k){const $=v(k.input),ae=k.aggregates.map(T);return h.aggregates.push(...ae),h.group.push(...k.variables),$})(U);case p.JOIN:return(function(k){return d.default.flatten(k.input.map(v)).reduce(($,ae)=>(ae.type!=="bgp"||$.length==0||$[$.length-1].type!=="bgp"?$.push(ae):$[$.length-1].triples.push(...ae.triples),$),[])})(U);case p.LEFT_JOIN:return(function(k){const $={type:"optional",patterns:[v(k.input[1])]};return k.expression&&$.patterns.push({type:"filter",expression:_(k.expression)}),$.patterns=d.default.flatten($.patterns),d.default.flatten([v(k.input[0]),$])})(U);case p.MINUS:return(function(k){let $=v(k.input[1]);return $.type==="group"&&($=$.patterns),Array.isArray($)||($=[$]),d.default.flatten([v(k.input[0]),{type:"minus",patterns:$}])})(U);case p.NOP:return{};case p.ORDER_BY:return(function(k){return h.order.push(...k.expressions),v(k.input)})(U);case p.PATH:return(function(k){return{type:"bgp",triples:[{subject:k.subject,predicate:w(k.predicate),object:k.object}]}})(U);case p.PATTERN:return O(U);case p.PROJECT:return R(U,p.PROJECT);case p.REDUCED:return(function(k){let $=v(k.input);return $.patterns[0].reduced=!0,$})(U);case p.SERVICE:return(function(k){let $=v(k.input);return $.type==="group"&&($=$.patterns),Array.isArray($)||($=[$]),{type:"service",name:k.name,silent:k.silent,patterns:$}})(U);case p.SLICE:return(function(k){let $=v(k.input),ae=$;return $.type&&$.type==="group"&&(ae=$.patterns[0]),k.start!==0&&(ae.offset=k.start),k.length!==void 0&&(ae.limit=k.length),$})(U);case p.UNION:return(function(k){return{type:"union",patterns:k.input.map(v).map(x)}})(U);case p.VALUES:return(function(k){return{type:"values",values:k.bindings.map($=>{let ae={};for(let he of k.variables){let ye=`?${he.value}`;$[ye]?ae[ye]=$[ye]:ae[ye]=void 0}return ae})}})(U);case p.COMPOSITE_UPDATE:return(function(k){return{prefixes:{},type:"update",updates:k.updates.map($=>v($).updates[0])}})(U);case p.DELETE_INSERT:return(function(k){var $;let ae,he=k.where;if(he&&he.type===p.FROM){let I=he;he=I.input,ae={default:I.default,named:I.named}}const ye=[{updateType:"insertdelete",delete:V(k.delete||[]),insert:V(k.insert||[])}];if(ae&&(ye[0].using=ae),!he||he.type===p.BGP&&he.patterns.length===0)ye[0].where=[];else{const I=[];let j=v(H(he,I));if(j.type==="group"?ye[0].where=j.patterns:ye[0].where=[j],I.length>0){if(I.length!==1)throw new Error("This is unexpected and might indicate an error in graph handling for updates.");(($=I[0])===null||$===void 0?void 0:$.value)!==""&&(ye[0].where=[{type:"graph",patterns:ye[0].where,name:I[0]}])}}return k.delete||k.where?k.insert||k.where?!k.insert&&k.where&&k.where.type==="bgp"&&(0,r.isomorphic)(k.delete,k.where.patterns)&&(delete ye[0].where,ye[0].updateType="deletewhere"):(delete ye[0].insert,delete ye[0].where,k.delete.some(I=>I.subject.termType==="Variable"||I.predicate.termType==="Variable"||I.object.termType==="Variable")?ye[0].updateType="deletewhere":ye[0].updateType="delete"):(ye[0].updateType="insert",delete ye[0].delete,delete ye[0].where),{prefixes:{},type:"update",updates:ye}})(U);case p.LOAD:return(function(k){const $=[{type:"load",silent:!!k.silent,source:k.source}];return k.destination&&($[0].destination=k.destination),{prefixes:{},type:"update",updates:$}})(U);case p.CLEAR:return(function(k){return Q(k,"clear")})(U);case p.CREATE:return(function(k){return Q(k,"create")})(U);case p.DROP:return(function(k){return Q(k,"drop")})(U);case p.ADD:return(function(k){return X(k,"add")})(U);case p.MOVE:return(function(k){return X(k,"move")})(U);case p.COPY:return(function(k){return X(k,"copy")})(U)}throw new Error(`Unknown Operation type ${U.type}`)}function _(U){switch(U.expressionType){case f.AGGREGATE:return(function(k){const $={expression:_(k.expression),type:"aggregate",aggregation:k.aggregator,distinct:k.distinct};return k.separator&&($.separator=k.separator),$})(U);case f.EXISTENCE:return(function(k){return{type:"operation",operator:k.not?"notexists":"exists",args:[{type:"group",patterns:d.default.flatten([v(k.input)])}]}})(U);case f.NAMED:return(function(k){return{type:"functionCall",function:k.name,args:k.args.map(_)}})(U);case f.OPERATOR:return(function(k){if(k.operator==="desc")return{expression:_(k.args[0]),descending:!0};const $={type:"operation",operator:k.operator,args:k.args.map(_)};return $.operator!=="in"&&$.operator!=="notin"||($.args=[$.args[0]].concat([$.args.slice(1)])),$})(U);case f.TERM:return(function(k){return k.term})(U);case f.WILDCARD:return(function(k){return k.wildcard})(U)}throw new Error(`Unknown Expression Operation type ${U.expressionType}`)}function w(U){switch(U.type){case p.ALT:return(function(k){const $=k.input.map(w);return $.every(ae=>"pathType"in ae&&ae.pathType==="!")?{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:d.default.flatten($.map(ae=>ae.items))}]}:{type:"path",pathType:"|",items:$}})(U);case p.INV:return(function(k){if(k.path.type===p.NPS){const $=k.path.iris.map(ae=>({type:"path",pathType:"^",items:[ae]}));return $.length<=1?{type:"path",pathType:"!",items:$}:{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:$}]}}return{type:"path",pathType:"^",items:[w(k.path)]}})(U);case p.LINK:return(function(k){return k.iri})(U);case p.NPS:return(function(k){return k.iris.length<=1?{type:"path",pathType:"!",items:k.iris}:{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:k.iris}]}})(U);case p.ONE_OR_MORE_PATH:return(function(k){return{type:"path",pathType:"+",items:[w(k.path)]}})(U);case p.SEQ:return(function(k){return{type:"path",pathType:"/",items:k.input.map(w)}})(U);case p.ZERO_OR_MORE_PATH:return(function(k){return{type:"path",pathType:"*",items:[w(k.path)]}})(U);case p.ZERO_OR_ONE_PATH:return(function(k){return{type:"path",pathType:"?",items:[w(k.path)]}})(U)}throw new Error(`Unknown Path type ${U.type}`)}function S(U){return(0,n.termToString)(U)}function x(U){return Array.isArray(U)?U.length===1?U[0]:{type:"group",patterns:U}:U}function T(U){return U}function O(U){return{subject:U.subject,predicate:U.predicate,object:U.object}}function E(U,k){let $=d.default.isSimpleTerm(U)?S(U):U;if(typeof $=="string"){if(k[$])return k[$]}else if(Array.isArray(U))U=U.map(ae=>E(ae,k));else for(let ae of Object.keys(U))U[ae]=E(U[ae],k);return U}function R(U,k){const $={type:"query",prefixes:{}},ae=$;let he;k===p.PROJECT?($.queryType="SELECT",he=U.variables):k===p.ASK?$.queryType="ASK":k===p.DESCRIBE&&($.queryType="DESCRIBE",he=U.terms);const ye=h.extend,I=h.group,j=h.aggregates,P=h.order;b(),h.project=!0;let L=d.default.flatten([v(U.input)]);L.length===1&&L[0].type==="group"&&(L=L[0].patterns),$.where=L;let G={};for(let ce of h.aggregates)G[S(ce.variable)]=_(ce);let te={};for(let ce=h.extend.length-1;ce>=0;--ce){let de=h.extend[ce];te[S(de.variable)]=E(_(de.expression),G)}h.group.length>0&&(ae.group=h.group.map(ce=>{let de=S(ce);if(te[de]){let Se=te[de];return delete te[de],{variable:ce,expression:Se}}return{expression:ce}})),h.order.length>0&&(ae.order=h.order.map(v).map(ce=>ce.descending?ce:{expression:ce})),he&&(ae.variables=he.map(ce=>{let de=S(ce);if(te[de]){let Se=te[de];return delete te[de],{variable:ce,expression:Se}}return ce}),ae.variables.length===0&&(ae.variables=[new t.Wildcard]));const W=Object.entries(te);if(W.length>0){ae.where=ae.where||[];for(const[ce,de]of W)ae.where.push({type:"bind",variable:(0,n.stringToTerm)(ce),expression:de})}if($.where.length>0&&$.where[$.where.length-1].type==="filter"){const ce=$.where[$.where.length-1];M(ce,Object.keys(G))&&(ae.having=d.default.flatten([E(ce.expression,G)]),$.where.splice(-1))}return h.extend=ye,h.group=I,h.aggregates=j,h.order=P,{type:"group",patterns:[ae]}}function M(U,k){return d.default.isSimpleTerm(U)?k.indexOf(S(U))>=0:Array.isArray(U)?U.some($=>M($,k)):U===Object(U)?Object.keys(U).some($=>M(U[$],k)):k.indexOf(U)>=0}function Q(U,k){const $=[{type:k,silent:!!U.silent}];return U.source==="DEFAULT"?$[0].graph={default:!0}:U.source==="NAMED"?$[0].graph={named:!0}:U.source==="ALL"?$[0].graph={all:!0}:$[0].graph={type:"graph",name:U.source},{prefixes:{},type:"update",updates:$}}function X(U,k){const $=[{type:k,silent:!!U.silent}];return $[0].source=U.source==="DEFAULT"?{type:"graph",default:!0}:{type:"graph",name:U.source},$[0].destination=U.destination==="DEFAULT"?{type:"graph",default:!0}:{type:"graph",name:U.destination},{prefixes:{},type:"update",updates:$}}function V(U){if(!U)return[];const k={};return U.forEach($=>{const ae=$.graph.value;k[ae]||(k[ae]=[]),k[ae].push($)}),Object.keys(k).map($=>$===""?{type:"bgp",triples:k[$].map(O)}:{type:"graph",triples:k[$].map(O),name:k[$][0].graph})}function H(U,k){if(Array.isArray(U))return U.map(I=>H(I,k));if(!U.type||U.type===p.DELETE_INSERT)return U;if((U.type===p.PATTERN||U.type===p.PATH)&&U.graph)return k.push(U.graph),U.graph.name!==""?U.type===p.PATTERN?y.createPattern(U.subject,U.predicate,U.object):y.createPath(U.subject,U.predicate,U.object):U;const $={},ae={},he={};for(let I of Object.keys(U)){const j=[];if($[I]=H(U[I],j),j.length>0){ae[I]=j;for(const P of j)he[P.value]=P}}const ye=Object.keys(he);if(ye.length>0)if(ye.length!==1||[p.PROJECT,p.SERVICE].includes(U.type)){if(U.type===p.BGP)return(function(I,j){var P;const L={};for(let W=0;W<I.patterns.length;++W){const ce=I.patterns[W],de=j[W].value;L[de]=(P=L[de])!==null&&P!==void 0?P:{patterns:[],graph:j[W]},L[de].patterns.push(ce)}let G=[];for(const[W,{patterns:ce,graph:de}]of Object.entries(L)){const Se=y.createBgp(ce);G.push(W===""?Se:y.createGraph(Se,de))}let te=G[0];for(let W=1;W<G.length;++W)te=y.createJoin([te,G[W]]);return te})(U,ae.patterns);for(let I of Object.keys(ae)){const j=$[I];Array.isArray(j)?$[I]=j.map((P,L)=>ae[I][0].value===""?P:y.createGraph(P,ae[I][L])):ae[I][0].value!==""&&($[I]=y.createGraph(j,ae[I][0]))}}else k.push(he[ye[0]]);return $}e.toSparql=function(U,k={}){return new t.Generator(k).stringify(m(U))},e.toSparqlJs=m},74230:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionHours=void 0;const c=s(77617),o=s(77545);class u extends c.TermFunctionBase{constructor(){super({arity:1,operator:o.SparqlOperator.HOURS,overloads:(0,o.declare)(o.SparqlOperator.HOURS).onDateTime1(()=>r=>(0,o.integer)(r.typedValue.hours)).set([o.TypeURL.XSD_TIME],()=>([r])=>(0,o.integer)(r.typedValue.hours)).collect()})}}e.TermFunctionHours=u},74448:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.InternalEvaluator=void 0;const c=s(90711),o=s(42996),u=s(77545),i=s(67021),r=s(96331),n=s(96607);e.InternalEvaluator=class{constructor(t,a,l,d){this.context=t,this.mediatorQueryOperation=l,this.bindingsFactory=d,this.subEvaluators={[o.ExpressionType.Term]:(p,f)=>this.term(p),[o.ExpressionType.Variable]:(p,f)=>this.variable(p,f),[o.ExpressionType.Operator]:(p,f)=>this.evalFunction(p,f),[o.ExpressionType.Existence]:(p,f)=>this.evalExistence(p,f),[o.ExpressionType.Aggregate]:(p,f)=>this.evalAggregate()},this.transformer=new n.AlgebraTransformer(t,a)}async evaluatorExpressionEvaluation(t,a){return this.subEvaluators[t.expressionType].bind(this)(t,a)}term(t){return t}variable(t,a){const l=a.get(u.expressionToVar(this.context.getSafe(c.KeysInitQuery.dataFactory),t));if(!l)throw new u.UnboundVariableError(t.name,a);return this.transformer.transformRDFTermUnsafe(l)}async evalFunction(t,a){return t.apply({args:t.args,mapping:a,exprEval:this})}async evalExistence(t,a){const l=this.context.getSafe(c.KeysInitQuery.dataFactory),d=new r.Factory(l),p=(0,i.materializeOperation)(t.expression.input,a,d,this.bindingsFactory),f=await this.mediatorQueryOperation.mediate({operation:p,context:this.context}),h=(0,i.getSafeBindings)(f);return await new Promise((y,m)=>{h.bindingsStream.on("end",()=>{y(!1)}),h.bindingsStream.on("error",m),h.bindingsStream.on("data",()=>{h.bindingsStream.close(),y(!0)})}).then(y=>t.expression.not?!y:y).then(y=>new u.BooleanLiteral(y))}evalAggregate(){throw new u.NoAggregator}}},74501:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BusQueryOperation=void 0;const c=s(90412);class o extends c.BusIndexed{constructor(i){super({...i,actorIdentifierFields:["operationName"],actionIdentifierFields:["operation","type"]})}}e.BusQueryOperation=o},74557:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.URL=e.DNS=void 0;const c=s(22829),o=s(32988);var u=s(32988);function i(r,n,t,a){return(0,o.default)(80,c.default,r,n,t,a)}Object.defineProperty(e,"DNS",{enumerable:!0,get:function(){return u.DNS}}),Object.defineProperty(e,"URL",{enumerable:!0,get:function(){return u.URL}}),i.DNS=o.DNS,i.URL=o.URL,e.default=i},74577:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermMinutes=void 0;const c=s(77617),o=s(77545),u=s(84906);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.SparqlOperator.MINUTES],termFunction:!0})}async run(n){return new u.TermFunctionMinutes}}e.ActorFunctionFactoryTermMinutes=i},74838:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(16850),e)},74871:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryResultSerialize=void 0;const c=s(48092);class o extends c.ActorAbstractMediaTyped{constructor(i){super(i)}}e.ActorQueryResultSerialize=o},74945:(g,e,s)=>{var c=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||s.g!==void 0&&s.g,o=(function(){function i(){this.fetch=!1,this.DOMException=c.DOMException}return i.prototype=c,new i})();(function(i){(function(r){var n=i!==void 0&&i||typeof self<"u"&&self||s.g!==void 0&&s.g||{},t="URLSearchParams"in n,a="Symbol"in n&&"iterator"in Symbol,l="FileReader"in n&&"Blob"in n&&(function(){try{return new Blob,!0}catch{return!1}})(),d="FormData"in n,p="ArrayBuffer"in n;if(p)var f=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],h=ArrayBuffer.isView||function(V){return V&&f.indexOf(Object.prototype.toString.call(V))>-1};function y(V){if(typeof V!="string"&&(V=String(V)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(V)||V==="")throw new TypeError('Invalid character in header field name: "'+V+'"');return V.toLowerCase()}function m(V){return typeof V!="string"&&(V=String(V)),V}function b(V){var H={next:function(){var U=V.shift();return{done:U===void 0,value:U}}};return a&&(H[Symbol.iterator]=function(){return H}),H}function v(V){this.map={},V instanceof v?V.forEach(function(H,U){this.append(U,H)},this):Array.isArray(V)?V.forEach(function(H){if(H.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+H.length);this.append(H[0],H[1])},this):V&&Object.getOwnPropertyNames(V).forEach(function(H){this.append(H,V[H])},this)}function _(V){if(!V._noBody)return V.bodyUsed?Promise.reject(new TypeError("Already read")):void(V.bodyUsed=!0)}function w(V){return new Promise(function(H,U){V.onload=function(){H(V.result)},V.onerror=function(){U(V.error)}})}function S(V){var H=new FileReader,U=w(H);return H.readAsArrayBuffer(V),U}function x(V){if(V.slice)return V.slice(0);var H=new Uint8Array(V.byteLength);return H.set(new Uint8Array(V)),H.buffer}function T(){return this.bodyUsed=!1,this._initBody=function(V){var H;this.bodyUsed=this.bodyUsed,this._bodyInit=V,V?typeof V=="string"?this._bodyText=V:l&&Blob.prototype.isPrototypeOf(V)?this._bodyBlob=V:d&&FormData.prototype.isPrototypeOf(V)?this._bodyFormData=V:t&&URLSearchParams.prototype.isPrototypeOf(V)?this._bodyText=V.toString():p&&l&&(H=V)&&DataView.prototype.isPrototypeOf(H)?(this._bodyArrayBuffer=x(V.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):p&&(ArrayBuffer.prototype.isPrototypeOf(V)||h(V))?this._bodyArrayBuffer=x(V):this._bodyText=V=Object.prototype.toString.call(V):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof V=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t&&URLSearchParams.prototype.isPrototypeOf(V)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l&&(this.blob=function(){var V=_(this);if(V)return V;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer)return _(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer));if(l)return this.blob().then(S);throw new Error("could not read as ArrayBuffer")},this.text=function(){var V,H,U,k,$,ae=_(this);if(ae)return ae;if(this._bodyBlob)return V=this._bodyBlob,U=w(H=new FileReader),$=(k=/charset=([A-Za-z0-9_-]+)/.exec(V.type))?k[1]:"utf-8",H.readAsText(V,$),U;if(this._bodyArrayBuffer)return Promise.resolve((function(he){for(var ye=new Uint8Array(he),I=new Array(ye.length),j=0;j<ye.length;j++)I[j]=String.fromCharCode(ye[j]);return I.join("")})(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},d&&(this.formData=function(){return this.text().then(R)}),this.json=function(){return this.text().then(JSON.parse)},this}v.prototype.append=function(V,H){V=y(V),H=m(H);var U=this.map[V];this.map[V]=U?U+", "+H:H},v.prototype.delete=function(V){delete this.map[y(V)]},v.prototype.get=function(V){return V=y(V),this.has(V)?this.map[V]:null},v.prototype.has=function(V){return this.map.hasOwnProperty(y(V))},v.prototype.set=function(V,H){this.map[y(V)]=m(H)},v.prototype.forEach=function(V,H){for(var U in this.map)this.map.hasOwnProperty(U)&&V.call(H,this.map[U],U,this)},v.prototype.keys=function(){var V=[];return this.forEach(function(H,U){V.push(U)}),b(V)},v.prototype.values=function(){var V=[];return this.forEach(function(H){V.push(H)}),b(V)},v.prototype.entries=function(){var V=[];return this.forEach(function(H,U){V.push([U,H])}),b(V)},a&&(v.prototype[Symbol.iterator]=v.prototype.entries);var O=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function E(V,H){if(!(this instanceof E))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var U,k,$=(H=H||{}).body;if(V instanceof E){if(V.bodyUsed)throw new TypeError("Already read");this.url=V.url,this.credentials=V.credentials,H.headers||(this.headers=new v(V.headers)),this.method=V.method,this.mode=V.mode,this.signal=V.signal,$||V._bodyInit==null||($=V._bodyInit,V.bodyUsed=!0)}else this.url=String(V);if(this.credentials=H.credentials||this.credentials||"same-origin",!H.headers&&this.headers||(this.headers=new v(H.headers)),this.method=(k=(U=H.method||this.method||"GET").toUpperCase(),O.indexOf(k)>-1?k:U),this.mode=H.mode||this.mode||null,this.signal=H.signal||this.signal||(function(){if("AbortController"in n)return new AbortController().signal})(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&$)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody($),!(this.method!=="GET"&&this.method!=="HEAD"||H.cache!=="no-store"&&H.cache!=="no-cache")){var ae=/([?&])_=[^&]*/;ae.test(this.url)?this.url=this.url.replace(ae,"$1_="+new Date().getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+new Date().getTime()}}function R(V){var H=new FormData;return V.trim().split("&").forEach(function(U){if(U){var k=U.split("="),$=k.shift().replace(/\+/g," "),ae=k.join("=").replace(/\+/g," ");H.append(decodeURIComponent($),decodeURIComponent(ae))}}),H}function M(V,H){if(!(this instanceof M))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(H||(H={}),this.type="default",this.status=H.status===void 0?200:H.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=H.statusText===void 0?"":""+H.statusText,this.headers=new v(H.headers),this.url=H.url||"",this._initBody(V)}E.prototype.clone=function(){return new E(this,{body:this._bodyInit})},T.call(E.prototype),T.call(M.prototype),M.prototype.clone=function(){return new M(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new v(this.headers),url:this.url})},M.error=function(){var V=new M(null,{status:200,statusText:""});return V.ok=!1,V.status=0,V.type="error",V};var Q=[301,302,303,307,308];M.redirect=function(V,H){if(Q.indexOf(H)===-1)throw new RangeError("Invalid status code");return new M(null,{status:H,headers:{location:V}})},r.DOMException=n.DOMException;try{new r.DOMException}catch{r.DOMException=function(H,U){this.message=H,this.name=U;var k=Error(H);this.stack=k.stack},r.DOMException.prototype=Object.create(Error.prototype),r.DOMException.prototype.constructor=r.DOMException}function X(V,H){return new Promise(function(U,k){var $=new E(V,H);if($.signal&&$.signal.aborted)return k(new r.DOMException("Aborted","AbortError"));var ae=new XMLHttpRequest;function he(){ae.abort()}if(ae.onload=function(){var I,j,P={statusText:ae.statusText,headers:(I=ae.getAllResponseHeaders()||"",j=new v,I.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(G){return G.indexOf(`
`)===0?G.substr(1,G.length):G}).forEach(function(G){var te=G.split(":"),W=te.shift().trim();if(W){var ce=te.join(":").trim();try{j.append(W,ce)}catch(de){console.warn("Response "+de.message)}}}),j)};$.url.indexOf("file://")===0&&(ae.status<200||ae.status>599)?P.status=200:P.status=ae.status,P.url="responseURL"in ae?ae.responseURL:P.headers.get("X-Request-URL");var L="response"in ae?ae.response:ae.responseText;setTimeout(function(){U(new M(L,P))},0)},ae.onerror=function(){setTimeout(function(){k(new TypeError("Network request failed"))},0)},ae.ontimeout=function(){setTimeout(function(){k(new TypeError("Network request timed out"))},0)},ae.onabort=function(){setTimeout(function(){k(new r.DOMException("Aborted","AbortError"))},0)},ae.open($.method,(function(I){try{return I===""&&n.location.href?n.location.href:I}catch{return I}})($.url),!0),$.credentials==="include"?ae.withCredentials=!0:$.credentials==="omit"&&(ae.withCredentials=!1),"responseType"in ae&&(l?ae.responseType="blob":p&&(ae.responseType="arraybuffer")),H&&typeof H.headers=="object"&&!(H.headers instanceof v||n.Headers&&H.headers instanceof n.Headers)){var ye=[];Object.getOwnPropertyNames(H.headers).forEach(function(I){ye.push(y(I)),ae.setRequestHeader(I,m(H.headers[I]))}),$.headers.forEach(function(I,j){ye.indexOf(j)===-1&&ae.setRequestHeader(j,I)})}else $.headers.forEach(function(I,j){ae.setRequestHeader(j,I)});$.signal&&($.signal.addEventListener("abort",he),ae.onreadystatechange=function(){ae.readyState===4&&$.signal.removeEventListener("abort",he)}),ae.send($._bodyInit===void 0?null:$._bodyInit)})}X.polyfill=!0,n.fetch||(n.fetch=X,n.Headers=v,n.Request=E,n.Response=M),r.Headers=v,r.Request=E,r.Response=M,r.fetch=X,Object.defineProperty(r,"__esModule",{value:!0})})({})})(o),o.fetch.ponyfill=!0,delete o.fetch.polyfill;var u=c.fetch?c:o;(e=u.fetch).default=u.fetch,e.fetch=u.fetch,e.Headers=u.Headers,e.Request=u.Request,e.Response=u.Response,g.exports=e},75049:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(92231),e)},75050:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(44407),e),o(s(80570),e)},75094:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ERROR_CODES=e.ErrorCoded=void 0;class s extends Error{constructor(u,i){super(u),this.code=i}}var c;e.ErrorCoded=s,(c=e.ERROR_CODES||(e.ERROR_CODES={})).COLLIDING_KEYWORDS="colliding keywords",c.CONFLICTING_INDEXES="conflicting indexes",c.CYCLIC_IRI_MAPPING="cyclic IRI mapping",c.INVALID_ID_VALUE="invalid @id value",c.INVALID_INDEX_VALUE="invalid @index value",c.INVALID_NEST_VALUE="invalid @nest value",c.INVALID_PREFIX_VALUE="invalid @prefix value",c.INVALID_PROPAGATE_VALUE="invalid @propagate value",c.INVALID_REVERSE_VALUE="invalid @reverse value",c.INVALID_IMPORT_VALUE="invalid @import value",c.INVALID_VERSION_VALUE="invalid @version value",c.INVALID_BASE_IRI="invalid base IRI",c.INVALID_CONTAINER_MAPPING="invalid container mapping",c.INVALID_CONTEXT_ENTRY="invalid context entry",c.INVALID_CONTEXT_NULLIFICATION="invalid context nullification",c.INVALID_DEFAULT_LANGUAGE="invalid default language",c.INVALID_INCLUDED_VALUE="invalid @included value",c.INVALID_IRI_MAPPING="invalid IRI mapping",c.INVALID_JSON_LITERAL="invalid JSON literal",c.INVALID_KEYWORD_ALIAS="invalid keyword alias",c.INVALID_LANGUAGE_MAP_VALUE="invalid language map value",c.INVALID_LANGUAGE_MAPPING="invalid language mapping",c.INVALID_LANGUAGE_TAGGED_STRING="invalid language-tagged string",c.INVALID_LANGUAGE_TAGGED_VALUE="invalid language-tagged value",c.INVALID_LOCAL_CONTEXT="invalid local context",c.INVALID_REMOTE_CONTEXT="invalid remote context",c.INVALID_REVERSE_PROPERTY="invalid reverse property",c.INVALID_REVERSE_PROPERTY_MAP="invalid reverse property map",c.INVALID_REVERSE_PROPERTY_VALUE="invalid reverse property value",c.INVALID_SCOPED_CONTEXT="invalid scoped context",c.INVALID_SCRIPT_ELEMENT="invalid script element",c.INVALID_SET_OR_LIST_OBJECT="invalid set or list object",c.INVALID_TERM_DEFINITION="invalid term definition",c.INVALID_TYPE_MAPPING="invalid type mapping",c.INVALID_TYPE_VALUE="invalid type value",c.INVALID_TYPED_VALUE="invalid typed value",c.INVALID_VALUE_OBJECT="invalid value object",c.INVALID_VALUE_OBJECT_VALUE="invalid value object value",c.INVALID_VOCAB_MAPPING="invalid vocab mapping",c.IRI_CONFUSED_WITH_PREFIX="IRI confused with prefix",c.KEYWORD_REDEFINITION="keyword redefinition",c.LOADING_DOCUMENT_FAILED="loading document failed",c.LOADING_REMOTE_CONTEXT_FAILED="loading remote context failed",c.MULTIPLE_CONTEXT_LINK_HEADERS="multiple context link headers",c.PROCESSING_MODE_CONFLICT="processing mode conflict",c.PROTECTED_TERM_REDEFINITION="protected term redefinition",c.CONTEXT_OVERFLOW="context overflow",c.INVALID_BASE_DIRECTION="invalid base direction",c.RECURSIVE_CONTEXT_INCLUSION="recursive context inclusion",c.INVALID_STREAMING_KEY_ORDER="invalid streaming key order",c.INVALID_EMBEDDED_NODE="invalid embedded node",c.INVALID_ANNOTATION="invalid annotation"},75113:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(35716),e)},75237:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.RdfStoreIndexNestedMapQuoted=void 0;const c=s(95439),o=s(42449);class u extends o.RdfStoreIndexNestedMap{constructor(r){super(r),this.features={quotedTripleFiltering:!0}}*getQuotedPatternKeys(r,n){for(const t of this.dictionary.findQuotedTriplesEncoded(n))r.has(t)&&(yield t)}*find(r){const n=(0,c.encodeOptionalTerms)(r,this.dictionary);if(!n)return;const[t,a,l,d]=n,[p,f,h,y]=r,[m,b,v,_]=(0,c.arePatternsQuoted)(r);let w,S,x,T,O,E,R;const M=this.nestedMap,Q=p!==void 0?m?this.getQuotedPatternKeys(M,p):M.has(t)?[t]:[]:M.keys();for(const X of Q){O=M.get(X),w=!m&&p?p:this.dictionary.decode(X);const V=f!==void 0?b?this.getQuotedPatternKeys(O,f):O.has(a)?[a]:[]:O.keys();for(const H of V){E=O.get(H),S=!b&&f?f:this.dictionary.decode(H);const U=h!==void 0?v?this.getQuotedPatternKeys(E,h):E.has(l)?[l]:[]:E.keys();for(const k of U){R=E.get(k),x=!v&&h?h:this.dictionary.decode(k);const $=y!==void 0?_?this.getQuotedPatternKeys(R,y):R.has(d)?[d]:[]:R.keys();for(const ae of $)T=!_&&y?y:this.dictionary.decode(ae),yield[w,S,x,T]}}}}*findEncoded(r,n){const[t,a,l,d]=r,[p,f,h,y]=n,[m,b,v,_]=(0,c.arePatternsQuoted)(n);let w,S,x;const T=this.nestedMap,O=p!==void 0?m?this.getQuotedPatternKeys(T,p):T.has(t)?[t]:[]:T.keys();for(const E of O){w=T.get(E);const R=f!==void 0?b?this.getQuotedPatternKeys(w,f):w.has(a)?[a]:[]:w.keys();for(const M of R){S=w.get(M);const Q=h!==void 0?v?this.getQuotedPatternKeys(S,h):S.has(l)?[l]:[]:S.keys();for(const X of Q){x=S.get(X);const V=y!==void 0?_?this.getQuotedPatternKeys(x,y):x.has(d)?[d]:[]:x.keys();for(const H of V)yield[Number.parseInt(E,10),Number.parseInt(M,10),Number.parseInt(X,10),Number.parseInt(H,10)]}}}}count(r){let n=0;const t=(0,c.encodeOptionalTerms)(r,this.dictionary);if(!t)return 0;const[a,l,d,p]=t,[f,h,y,m]=r,[b,v,_,w]=(0,c.arePatternsQuoted)(r);let S,x,T;const O=this.nestedMap,E=f!==void 0?b?this.getQuotedPatternKeys(O,f):O.has(a)?[a]:[]:O.keys();for(const R of E){S=O.get(R);const M=h!==void 0?v?this.getQuotedPatternKeys(S,h):S.has(l)?[l]:[]:S.keys();for(const Q of M){x=S.get(Q);const X=y!==void 0?_?this.getQuotedPatternKeys(x,y):x.has(d)?[d]:[]:x.keys();for(const V of X)T=x.get(V),m!==void 0?w?n+=[...this.getQuotedPatternKeys(T,m)].length:T.has(p)&&n++:n+=T.size}}return n}}e.RdfStoreIndexNestedMapQuoted=u},75295:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(48642),e)},75425:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfJoinOptionalBind=void 0;const c=s(42815),o=s(95445),u=s(90711),i=s(90412),r=s(81926),n=s(67021),t=s(96331);class a extends o.ActorRdfJoin{constructor(d){super(d,{logicalType:"optional",physicalName:"bind",limitEntries:2,canHandleUndefs:!0,isLeaf:!1,requiresVariableOverlap:!0,canHandleOperationRequired:!0})}async getOutput(d){const p=d.context.getSafe(u.KeysInitQuery.dataFactory),f=new t.Factory(p),h=await r.BindingsFactory.create(this.mediatorMergeBindingsContext,d.context,p);d.entries[1].output.bindingsStream.close();const y=d.context.set(u.KeysQueryOperation.joinLeftMetadata,await d.entries[0].output.metadata()).set(u.KeysQueryOperation.joinRightMetadatas,[await d.entries[1].output.metadata()]);return{result:{type:"bindings",bindingsStream:c.ActorRdfJoinMultiBind.createBindStream(this.bindOrder,d.entries[0].output.bindingsStream,[d.entries[1].operation],async(m,b)=>{const v=m[0];return(0,n.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:v,context:y?.set(u.KeysQueryOperation.joinBindings,b)})).bindingsStream},!0,f,h),metadata:async()=>await this.constructResultMetadata(d.entries,await o.ActorRdfJoin.getMetadatas(d.entries),d.context,{},!0)}}}async getJoinCoefficients(d,p){const{metadatas:f}=p,h=o.ActorRdfJoin.getRequestInitialTimes(f),y=o.ActorRdfJoin.getRequestItemTimes(f);if(d.entries[1].operation.type===t.Algebra.types.EXTEND||d.entries[1].operation.type===t.Algebra.types.GROUP)return(0,i.failTest)(`Actor ${this.name} can not bind on Extend and Group operations`);const m=(await this.mediatorJoinSelectivity.mediate({entries:d.entries,context:d.context})).selectivity*this.selectivityModifier;return(0,i.passTestWithSideData)({iterations:f[0].cardinality.value*f[1].cardinality.value*m,persistedItems:0,blockingItems:0,requestTime:h[0]+f[0].cardinality.value*(y[0]+h[1]+m*f[1].cardinality.value*y[1])},p)}}e.ActorRdfJoinOptionalBind=a},75566:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeHandlerAdapter=void 0,e.NodeHandlerAdapter=class{constructor(s,c,o){this.targetKind=s,this.util=c,this.settings=o}getNodeQuadContextSelectionSet(s,c,o){const u={};if(s){for(const i of s.selections)if(i.kind==="Field"){const r=i;this.handleNodeQuadContextField(r,o,u,"id","subject"),this.handleNodeQuadContextField(r,o,u,"graph","graph")}}return u}handleNodeQuadContextField(s,c,o,u,i){if(!o[i]&&s.name.value===u){if(!o[i]){const r=this.util.getArgument(s.arguments,"_");if(r){const n=this.util.handleNodeValue(r.value,s.name.value,c);if(n.terms.length!==1)throw new Error(`Only single values can be set as ${u}, but got ${n.terms.length} at ${s.name.value}`);o[i]=n.terms[0],n.auxiliaryPatterns&&(o.auxiliaryPatterns||(o.auxiliaryPatterns=[]),o.auxiliaryPatterns.concat(n.auxiliaryPatterns))}}if(!o[i]){const r=this.util.nameToVariable(this.util.getFieldLabel(s),c);c.terminalVariables.push(r),o[i]=r}}}getDirectiveOutputs(s,c,o){const u=[];if(s)for(const i of s){const r=this.util.handleDirectiveNode({directive:i,fieldLabel:c},o);if(r){if(r.ignore)return null;u.push(r)}}return u}handleDirectiveOutputs(s,c){for(const o of s){if(o.ignore)return this.util.operationFactory.createBgp([]);o.operationOverrider&&(c=o.operationOverrider(c))}return c}}},75592:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},75611:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(68225),e)},75627:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isIterator=e.isIterable=e.isSourceExpression=e.isPromise=e.isEventEmitter=e.isFunction=e.range=e.union=e.fromIterable=e.fromIterator=e.fromArray=e.single=e.empty=e.wrap=e.WrappingIterator=e.ClonedIterator=e.UnionIterator=e.MultiTransformIterator=e.SimpleTransformIterator=e.TransformIterator=e.BufferedIterator=e.MappingIterator=e.DESTINATION=e.identity=e.IntegerIterator=e.ArrayIterator=e.SingletonIterator=e.EmptyIterator=e.AsyncIterator=e.DESTROYED=e.ENDED=e.CLOSED=e.CLOSING=e.OPEN=e.INIT=e.setTaskScheduler=e.getTaskScheduler=e.scheduleTask=e.LinkedList=void 0;const c=s(37007),o=s(40288);Object.defineProperty(e,"LinkedList",{enumerable:!0,get:function(){return o.LinkedList}});let u=s(34683).createTaskScheduler();e.scheduleTask=function(j){u(j)},e.getTaskScheduler=function(){return u},e.setTaskScheduler=function(j){u=j},e.INIT=1,e.OPEN=2,e.CLOSING=4,e.CLOSED=8,e.ENDED=16,e.DESTROYED=32;class i extends c.EventEmitter{constructor(P=e.OPEN){super(),this._readable=!1,this._state=P,this.on("newListener",r)}_changeState(P,L=!1){const G=P>this._state&&this._state<e.ENDED;return G&&(this._state=P,P===e.ENDED&&(L?u(()=>this.emit("end")):this.emit("end"))),G}read(){return null}forEach(P,L){this.on("data",U(P,L))}close(){this._changeState(e.CLOSED)&&this._endAsync()}destroy(P){this.done||this._destroy(P,L=>{(P=P||L)&&this.emit("error",P),this._end(!0)})}_destroy(P,L){L()}_end(P=!1){this._changeState(P?e.DESTROYED:e.ENDED)&&(this._readable=!1,this.removeAllListeners("readable"),this.removeAllListeners("data"),this.removeAllListeners("end"))}_endAsync(){u(()=>this._end())}get readable(){return this._readable}set readable(P){P=!!P&&!this.done,this._readable!==P&&(this._readable=P,P&&u(()=>this.emit("readable")))}get closed(){return this._state>=e.CLOSING}get ended(){return this._state===e.ENDED}get destroyed(){return this._state===e.DESTROYED}get done(){return this._state>=e.ENDED}toString(){const P=this._toStringDetails();return`[${this.constructor.name}${P?` ${P}`:""}]`}_toStringDetails(){return""}toArray(P){const L=[],G=typeof P?.limit=="number"?P.limit:1/0;return this.ended||G<=0?Promise.resolve(L):new Promise((te,W)=>{const ce=()=>te(L),de=Se=>{L.push(Se),L.length>=G&&(this.removeListener("error",W),this.removeListener("data",de),this.removeListener("end",ce),te(L))};this.on("error",W),this.on("data",de),this.on("end",ce)})}getProperty(P,L){const G=this._properties;if(!L)return G&&G[P];if(G&&P in G)u(()=>L(G[P]));else{let te;(te=this._propertyCallbacks)||(this._propertyCallbacks=te=Object.create(null)),P in te?te[P].push(L):te[P]=[L]}}setProperty(P,L){(this._properties||(this._properties=Object.create(null)))[P]=L;const G=this._propertyCallbacks||{},te=G[P];if(te){for(P in delete G[P],u(()=>{for(const W of te)W(L)}),G)return;delete this._propertyCallbacks}}getProperties(){const P=this._properties,L={};for(const G in P)L[G]=P[G];return L}setProperties(P){for(const L in P)this.setProperty(L,P[L])}copyProperties(P,L){for(const G of L)P.getProperty(G,te=>this.setProperty(G,te))}transform(P){return new T(this,P)}map(P,L){return new h(this,U(P,L))}filter(P,L){return this.map(function(G){return P.call(L||this,G)?G:null})}uniq(P=f){const L=new Set;return this.filter(function(G){const te=P.call(this,G);return!L.has(te)&&(L.add(te),!0)})}prepend(P){return this.transform({prepend:P})}append(P){return this.transform({append:P})}surround(P,L){return this.transform({prepend:P,append:L})}skip(P){return this.map(L=>P-- >0?null:L)}take(P){return this.transform({limit:P})}range(P,L){return this.transform({offset:P,limit:Math.max(L-P+1,0)})}clone(){return new R(this)}[Symbol.asyncIterator](){const P=this;let L=null,G=null,te=null;function W(){if(L!==null)if(te!==null)ce(te);else if(P.done)L({done:!0,value:void 0}),L=G=null,de();else{const Se=P.read();Se!==null&&(L({done:!1,value:Se}),L=G=null)}}function ce(Se){G!==null?(G(Se),L=G=te=null,de()):te===null&&(te=Se)}function de(){P.removeListener("readable",W),P.removeListener("end",W),P.removeListener("error",ce)}return P.addListener("readable",W),P.addListener("end",W),P.addListener("error",ce),{next:()=>new Promise((Se,ie)=>{L=Se,G=ie,W()})}}}function r(j){j==="data"&&(this.removeListener("newListener",r),t(this,"readable",n),this.readable&&u(()=>n.call(this)))}function n(){let j;for(;this.listenerCount("data")!==0&&(j=this.read())!==null;)this.emit("data",j);this.listenerCount("data")!==0||this.done||(this.removeListener("readable",n),t(this,"newListener",r))}function t(j,P,L){j.listeners(P).includes(L)||j.on(P,L)}e.AsyncIterator=i;class a extends i{constructor(){super(),this._changeState(e.ENDED,!0)}}e.EmptyIterator=a;class l extends i{constructor(P){super(),this._item=P,P===null?this.close():this.readable=!0}read(){const P=this._item;return this._item=null,this.close(),P}_toStringDetails(){return this._item===null?"":`(${this._item})`}}e.SingletonIterator=l;class d extends i{constructor(P=[],{autoStart:L=!0,preserve:G=!0}={}){super();const te=G||!Array.isArray(P)?[...P]:P;this._index=0,this._sourceStarted=L!==!1,this._truncateThreshold=G?-1:64,this._sourceStarted&&te.length===0?this.close():this._buffer=te,this.readable=!0}read(){this._sourceStarted||(this._sourceStarted=!0);let P=null;return this._buffer&&(this._index<this._buffer.length&&(P=this._buffer[this._index++]),this._index===this._buffer.length?(delete this._buffer,this.close()):this._index===this._truncateThreshold&&(this._buffer.splice(0,this._truncateThreshold),this._index=0)),P}_toStringDetails(){return`(${this._buffer?this._buffer.length-this._index:0})`}_destroy(P,L){delete this._buffer,L()}toArray(P={}){if(!this._buffer)return Promise.resolve([]);const{length:L}=this._buffer,G=this._index,te=typeof P.limit!="number"?L:G+P.limit,W=this._buffer.slice(G,te);return this._index=te,te>=L&&this.close(),Promise.resolve(W)}}e.ArrayIterator=d;class p extends i{constructor({start:P=0,step:L=1,end:G}={}){super(),Number.isFinite(P)&&(P=Math.trunc(P)),this._next=P,Number.isFinite(L)&&(L=Math.trunc(L)),this._step=L;const te=L>=0,W=te?1/0:-1/0;Number.isFinite(G)?G=Math.trunc(G):G!==-W&&(G=W),this._last=G,!Number.isFinite(P)||(te?P>G:P<G)?this.close():this.readable=!0}read(){if(this.closed)return null;const P=this._next,L=this._step,G=this._last,te=this._next+=L;return(L>=0?te>G:te<G)&&this.close(),P}_toStringDetails(){return`(${this._next}...${this._last})`}}function f(j){return j}e.IntegerIterator=p,e.identity=f,e.DESTINATION=Symbol("destination");class h extends i{constructor(P,L=f,G={}){super(),this._map=L,this._source=y(P),this._destroySource=G.destroySource!==!1,P.done?this.close():(this._source[e.DESTINATION]=this,this._source.on("end",w),this._source.on("error",_),this._source.on("readable",v),this.readable=this._source.readable)}read(){if(!this.done){if(this._source.readable){let P,L;for(;(P=this._source.read())!==null;)if((L=this._map(P))!==null)return L}this.readable=!1,this._source.done&&this.close()}return null}_end(P){this._source.removeListener("end",w),this._source.removeListener("error",_),this._source.removeListener("readable",v),delete this._source[e.DESTINATION],this._destroySource&&this._source.destroy(),super._end(P)}}function y(j,P=!1){if(!j||!k(j.read)||!k(j.on))throw new TypeError(`Invalid source: ${j}`);if(!P&&j[e.DESTINATION])throw new Error("The source already has a destination");return j}e.MappingIterator=h;class m extends i{constructor({maxBufferSize:P=4,autoStart:L=!0}={}){super(e.INIT),this._buffer=new o.LinkedList,this._maxBufferSize=4,this._reading=!0,this._pushedCount=0,this.maxBufferSize=P,u(()=>this._init(L)),this._sourceStarted=L!==!1}get maxBufferSize(){return this._maxBufferSize}set maxBufferSize(P){P!==1/0&&(P=Number.isFinite(P)?Math.max(Math.trunc(P),1):4),this._maxBufferSize!==P&&(this._maxBufferSize=P,this._state===e.OPEN&&this._fillBuffer())}_init(P){let L=!1;this._reading=!0,this._begin(()=>{if(L)throw new Error("done callback called multiple times");L=!0,this._reading=!1,this._changeState(e.OPEN),P?this._fillBufferAsync():this.readable=!0})}_begin(P){P()}read(){if(this.done)return null;this._sourceStarted||(this._sourceStarted=!0);const P=this._buffer;let L;return P.empty?(L=null,this.readable=!1):L=P.shift(),!this._reading&&P.length<this._maxBufferSize&&(this.closed?P.empty&&this._endAsync():this._fillBufferAsync()),L}_read(P,L){L()}_push(P){this.done||(this._pushedCount++,this._buffer.push(P),this.readable=!0)}_fillBuffer(){let P;this._reading||(this.closed?this._completeClose():(P=Math.min(this._maxBufferSize-this._buffer.length,128))>0&&(this._pushedCount=0,this._reading=!0,this._read(P,()=>{if(!P)throw new Error("done callback called multiple times");P=0,this._reading=!1,this.closed?this._completeClose():this._pushedCount&&(this.readable=!0,this._buffer.length<this._maxBufferSize/2&&this._fillBufferAsync())})))}_fillBufferAsync(){this._reading||(this._reading=!0,u(()=>{this._reading=!1,this._fillBuffer()}))}close(){this._reading?this._changeState(e.CLOSING):this._completeClose()}_completeClose(){this._changeState(e.CLOSED)&&(this._reading=!0,this._flush(()=>{if(!this._reading)throw new Error("done callback called multiple times");this._reading=!1,this._buffer.empty&&this._endAsync()}))}_destroy(P,L){this._buffer.clear(),L()}_flush(P){P()}_toStringDetails(){const P=this._buffer;return`{${P.empty?"":`next: ${P.first}, `}buffer: ${P.length}}`}}e.BufferedIterator=m;class b extends m{constructor(P,L=P||{}){super(L),this._boundPush=G=>this._push(G),he(P)||(P=L.source),$(P)?this.source=P:P&&(this._createSource=ae(P)?()=>P:P,this._sourceStarted&&this._loadSourceAsync()),this._optional=!!L.optional,this._destroySource=L.destroySource!==!1}get source(){return k(this._createSource)&&this._loadSourceAsync(),this._source}set source(P){const L=this._source=this._validateSource(P);L[e.DESTINATION]=this,this.done?this._destroySource&&L.destroy():L.done?this.close():(L.on("end",S),L.on("readable",x),L.on("error",_))}_loadSourceAsync(){k(this._createSource)&&(Promise.resolve(this._createSource()).then(P=>{delete this._createSource,this.source=P,this._fillBuffer()},P=>this.emit("error",P)),this._createSource=null)}_validateSource(P,L=!1){if(this._source||this._createSource!==void 0)throw new Error("The source cannot be changed after it has been set");return y(P,L)}_read(P,L){const G=()=>{this._pushedCount<P&&!this.closed?u(()=>this._readAndTransform(G,L)):L()};this._readAndTransform(G,L)}_readAndTransform(P,L){let G;const te=this.source;!te||te.done||(G=te.read())===null?L():this._optional?this._optionalTransform(G,P):this._transform(G,P,this._boundPush)}_optionalTransform(P,L){const G=this._pushedCount;this._transform(P,()=>{G===this._pushedCount&&this._push(P),L()},this._boundPush)}_transform(P,L,G){G(P),L()}_closeWhenDone(){this.close()}_end(P){const L=this._source;L&&(L.removeListener("end",S),L.removeListener("error",_),L.removeListener("readable",x),delete L[e.DESTINATION],this._destroySource&&L.destroy()),super._end(P)}}function v(){this[e.DESTINATION].readable=!0}function _(j){this[e.DESTINATION].emit("error",j)}function w(){this[e.DESTINATION].close()}function S(){this[e.DESTINATION]._closeWhenDone()}function x(){this[e.DESTINATION]._sourceStarted!==!1&&this[e.DESTINATION]._fillBuffer()}e.TransformIterator=b;class T extends b{constructor(P,L){if(super(P,L),this._offset=0,this._limit=1/0,this._filter=G=>!0,L=L||(he(P)?null:P)){const G=k(L)?L:L.transform,{limit:te,offset:W,filter:ce,map:de,prepend:Se,append:ie}=L;W===1/0||te===-1/0?this._limit=0:(Number.isFinite(W)&&(this._offset=Math.max(Math.trunc(W),0)),Number.isFinite(te)&&(this._limit=Math.max(Math.trunc(te),0)),k(ce)&&(this._filter=ce),k(de)&&(this._map=de),this._transform=k(G)?G:null),Se&&(this._prepender=$(Se)?Se:H(Se)),ie&&(this._appender=$(ie)?ie:H(ie))}}_read(P,L){const G=()=>this._readAndTransformSimple(P,te,L);function te(){u(G)}this._readAndTransformSimple(P,te,L)}_readAndTransformSimple(P,L,G){let te;const{source:W}=this;if(W&&!W.done){for(this._limit===0&&this.close();!this.closed&&this._pushedCount<P&&(te=W.read())!==null;){if(!this._filter(te)||this._offset!==0&&this._offset--)continue;const ce=this._map===void 0?te:this._map(te);if(ce===null)this._optional&&this._push(te);else{if(k(this._transform))return void(this._optional?this._optionalTransform(ce,L):this._transform(ce,L,this._boundPush));this._push(ce)}--this._limit===0&&this.close()}G()}else G()}_begin(P){this._insert(this._prepender,P),delete this._prepender}_flush(P){this._insert(this._appender,P),delete this._appender}_insert(P,L){const G=te=>this._push(te);!P||P.done?L():(P.on("data",G),P.on("end",function te(){P.removeListener("data",G),P.removeListener("end",te),L()}))}}e.SimpleTransformIterator=T,e.MultiTransformIterator=class extends b{constructor(j,P){if(super(j,P),this._transformerQueue=[],P){const L=k(P)?P:P.multiTransform;L&&(this._createTransformer=L)}}_read(j,P){const L=this._transformerQueue,G=this._optional;let te,W;for(;(te=L[0])&&te.transformer.done;){G&&te.item!==null&&(j--,this._push(te.item)),L.shift();const{transformer:de}=te;de.removeListener("end",x),de.removeListener("readable",x),de.removeListener("error",_)}const{source:ce}=this;for(;ce&&!ce.done&&L.length<this.maxBufferSize&&(W=ce.read(),W!==null);){const de=this._createTransformer(W)||new a;de[e.DESTINATION]=this,de.on("end",x),de.on("readable",x),de.on("error",_),L.push({transformer:de,item:W})}if(te=L[0],te){const{transformer:de}=te;for(;j-- >0&&(W=de.read())!==null;)this._push(W),G&&(te.item=null)}else ce&&ce.done&&this.close();P()}_createTransformer(j){return new l(j)}_closeWhenDone(){this._transformerQueue.length||this.close()}_end(j){if(super._end(j),this._destroySource)for(const P of this._transformerQueue)P.transformer.destroy()}};class O extends m{constructor(P,L={}){super(L),this._sources=[],this._currentSource=-1;const G=L.autoStart!==!1;if($(P))P.on("error",te=>this.emit("error",te)),this._pending={loading:!1,sources:P},G&&this._loadSources();else if(Array.isArray(P)&&P.length>0)for(const te of P)this._addSource(te);else G&&this.close();this._destroySources=L.destroySources!==!1}_loadSources(){const P=this._pending.sources;this._pending.loading=!0,P.done?(delete this._pending,this.close()):(P.on("data",L=>{this._addSource(L),this._fillBufferAsync()}),P.on("end",()=>{delete this._pending,this._fillBuffer()}))}_addSource(P){ae(P)&&(P=X(P)),P.done||(this._sources.push(P),P[e.DESTINATION]=this,P.on("error",_),P.on("readable",x),P.on("end",E))}_removeEmptySources(){this._sources=this._sources.filter((P,L)=>(P.done&&L<=this._currentSource&&this._currentSource--,!P.done)),this._fillBuffer()}_read(P,L){var G;((G=this._pending)===null||G===void 0?void 0:G.loading)===!1&&this._loadSources();let te,W=0;for(;W!==(W=P);)for(let ce=0;ce<this._sources.length&&P>0;ce++)this._currentSource=(this._currentSource+1)%this._sources.length,(te=this._sources[this._currentSource].read())!==null&&(P--,this._push(te));this._pending||this._sources.length!==0||this.close(),L()}_end(P=!1){if(super._end(P),this._destroySources){for(const L of this._sources)L.destroy();this._pending&&(this._pending.sources.destroy(),delete this._pending)}}}function E(){this[e.DESTINATION]._removeEmptySources()}e.UnionIterator=O;class R extends b{constructor(P){super(P,{autoStart:!1}),this._readPosition=0,this._reading=!1,P&&(this.readable=!0)}_init(){}close(){i.prototype.close.call(this)}get source(){return super.source}set source(P){const L=this._source=this._validateSource(P),G=L&&L[e.DESTINATION]||(L[e.DESTINATION]=new M(L));this.done?this._destroySource&&L.destroy():G.endsAt(0)?this.close():(G.register(this),L._sourceStarted!==!1&&G.readAt(0)===null||(this.readable=!0));const te=this._propertyCallbacks;for(const W in te){const ce=te[W];for(const de of ce)this._getSourceProperty(W,de)}}_validateSource(P,L=!1){const G=P&&P[e.DESTINATION];return super._validateSource(P,!G||G instanceof M)}getProperty(P,L){const{source:G}=this,te=this._properties,W=te&&P in te;if(!L)return W?te&&te[P]:G&&G.getProperty(P);super.getProperty(P,L),G&&!W&&this._getSourceProperty(P,L)}_getSourceProperty(P,L){this.source.getProperty(P,G=>{this._properties&&P in this._properties||L(G)})}getProperties(){const P=this.source?this.source.getProperties():{},L=this._properties;for(const G in L)P[G]=L[G];return P}_toStringDetails(){return`{source: ${this.source?this.source.toString():"none"}}`}read(){this._sourceStarted||(this._sourceStarted=!0);const P=this.source;let L=null;if(!this.done&&P){const G=P[e.DESTINATION];(L=G.readAt(this._readPosition))!==null?this._readPosition++:this.readable=!1,G.endsAt(this._readPosition)&&this.close()}return L}_end(P){const L=this.source,G=L?.[e.DESTINATION];G&&G.unregister(this),m.prototype._end.call(this,P)}}e.ClonedIterator=R;class M{constructor(P){if(this._history=[],this._trackers=new Set,this._source=P,!P.done){const L=()=>{for(const W of this._trackers)W.readable=!0},G=W=>{for(const ce of this._trackers)ce.emit("error",W)},te=()=>{for(const W of this._trackers)W._sourceStarted!==!1&&W._readPosition===this._history.length&&W.close();this._trackers.clear(),P.removeListener("end",te),P.removeListener("error",G),P.removeListener("readable",L)};P.on("end",te),P.on("error",G),P.on("readable",L)}}register(P){this._source.done||this._trackers.add(P)}unregister(P){this._trackers.delete(P)}readAt(P){let L=null;return P<this._history.length?L=this._history[P]:this._source.done||(L=this._source.read())===null||(this._history[P]=L),L}endsAt(P){return this._source.done&&this._history.length===P}}class Q extends i{constructor(P,L){super(),this._source=null,this._destroySource=L?.destroySource!==!1,ae(P)?(this._source=new i,P.then(G=>{this._source=null,this.source=G}).catch(G=>this.emit("error",G))):P&&(this.source=P)}set source(P){let L=P;if(this._source!==null)throw new Error("The source cannot be changed after it has been set");if(ye(L)&&(L=L[Symbol.iterator]()),I(L)){let G=L;L=new c.EventEmitter,L.read=()=>{if(G!==null){let te;for(;!(te=G.next()).done;)if(te.value!==null)return te.value;G=null,this.close()}return null}}else L=y(L);this.done?this._destroySource&&k(L.destroy)&&L.destroy():(L[e.DESTINATION]=this,L.on("end",w),L.on("error",_),L.on("readable",v),this._source=L,this.readable=L.readable!==!1)}read(){if(this._source!==null&&this._source.readable!==!1){const P=this._source.read();if(P!==null)return P;this.readable=!1}return null}_end(P=!1){this._source!==null&&(this._source.removeListener("end",w),this._source.removeListener("error",_),this._source.removeListener("readable",v),delete this._source[e.DESTINATION],this._destroySource&&k(this._source.destroy)&&this._source.destroy(),this._source=null),super._end(P)}}function X(j,P){if(P&&("autoStart"in P||"optional"in P||"source"in P||"maxBufferSize"in P))return j&&!$(j)&&(j=new Q(j)),new b(j,P);if(!j)return V();if(ae(j))return new Q(j,P);if(j instanceof i)return j;if(Array.isArray(j))return H(j);if(ye(j)||I(j)||$(j))return new Q(j,P);throw new TypeError(`Invalid source: ${j}`)}function V(){return new a}function H(j){return new d(j)}function U(j,P){return P?j.bind(P):j}function k(j){return typeof j=="function"}function $(j){return k(j?.on)}function ae(j){return k(j?.then)}function he(j){return j&&($(j)||ae(j)||k(j))}function ye(j){return j&&Symbol.iterator in j}function I(j){return k(j?.next)}e.WrappingIterator=Q,e.wrap=X,e.empty=V,e.single=function(j){return new l(j)},e.fromArray=H,e.fromIterator=function(j){return new Q(j)},e.fromIterable=function(j){return new Q(j)},e.union=function(j){return new O(j)},e.range=function(j,P,L){return new p({start:j,end:P,step:L})},e.isFunction=k,e.isEventEmitter=$,e.isPromise=ae,e.isSourceExpression=he,e.isIterable=ye,e.isIterator=I},75636:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},75735:g=>{g.exports=(function(){var e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function s(l,d){var p=l[0],f=l[1],h=l[2],y=l[3];f=((f+=((h=((h+=((y=((y+=((p=((p+=(f&h|~f&y)+d[0]-680876936|0)<<7|p>>>25)+f|0)&f|~p&h)+d[1]-389564586|0)<<12|y>>>20)+p|0)&p|~y&f)+d[2]+606105819|0)<<17|h>>>15)+y|0)&y|~h&p)+d[3]-1044525330|0)<<22|f>>>10)+h|0,f=((f+=((h=((h+=((y=((y+=((p=((p+=(f&h|~f&y)+d[4]-176418897|0)<<7|p>>>25)+f|0)&f|~p&h)+d[5]+1200080426|0)<<12|y>>>20)+p|0)&p|~y&f)+d[6]-1473231341|0)<<17|h>>>15)+y|0)&y|~h&p)+d[7]-45705983|0)<<22|f>>>10)+h|0,f=((f+=((h=((h+=((y=((y+=((p=((p+=(f&h|~f&y)+d[8]+1770035416|0)<<7|p>>>25)+f|0)&f|~p&h)+d[9]-1958414417|0)<<12|y>>>20)+p|0)&p|~y&f)+d[10]-42063|0)<<17|h>>>15)+y|0)&y|~h&p)+d[11]-1990404162|0)<<22|f>>>10)+h|0,f=((f+=((h=((h+=((y=((y+=((p=((p+=(f&h|~f&y)+d[12]+1804603682|0)<<7|p>>>25)+f|0)&f|~p&h)+d[13]-40341101|0)<<12|y>>>20)+p|0)&p|~y&f)+d[14]-1502002290|0)<<17|h>>>15)+y|0)&y|~h&p)+d[15]+1236535329|0)<<22|f>>>10)+h|0,f=((f+=((h=((h+=((y=((y+=((p=((p+=(f&y|h&~y)+d[1]-165796510|0)<<5|p>>>27)+f|0)&h|f&~h)+d[6]-1069501632|0)<<9|y>>>23)+p|0)&f|p&~f)+d[11]+643717713|0)<<14|h>>>18)+y|0)&p|y&~p)+d[0]-373897302|0)<<20|f>>>12)+h|0,f=((f+=((h=((h+=((y=((y+=((p=((p+=(f&y|h&~y)+d[5]-701558691|0)<<5|p>>>27)+f|0)&h|f&~h)+d[10]+38016083|0)<<9|y>>>23)+p|0)&f|p&~f)+d[15]-660478335|0)<<14|h>>>18)+y|0)&p|y&~p)+d[4]-405537848|0)<<20|f>>>12)+h|0,f=((f+=((h=((h+=((y=((y+=((p=((p+=(f&y|h&~y)+d[9]+568446438|0)<<5|p>>>27)+f|0)&h|f&~h)+d[14]-1019803690|0)<<9|y>>>23)+p|0)&f|p&~f)+d[3]-187363961|0)<<14|h>>>18)+y|0)&p|y&~p)+d[8]+1163531501|0)<<20|f>>>12)+h|0,f=((f+=((h=((h+=((y=((y+=((p=((p+=(f&y|h&~y)+d[13]-1444681467|0)<<5|p>>>27)+f|0)&h|f&~h)+d[2]-51403784|0)<<9|y>>>23)+p|0)&f|p&~f)+d[7]+1735328473|0)<<14|h>>>18)+y|0)&p|y&~p)+d[12]-1926607734|0)<<20|f>>>12)+h|0,f=((f+=((h=((h+=((y=((y+=((p=((p+=(f^h^y)+d[5]-378558|0)<<4|p>>>28)+f|0)^f^h)+d[8]-2022574463|0)<<11|y>>>21)+p|0)^p^f)+d[11]+1839030562|0)<<16|h>>>16)+y|0)^y^p)+d[14]-35309556|0)<<23|f>>>9)+h|0,f=((f+=((h=((h+=((y=((y+=((p=((p+=(f^h^y)+d[1]-1530992060|0)<<4|p>>>28)+f|0)^f^h)+d[4]+1272893353|0)<<11|y>>>21)+p|0)^p^f)+d[7]-155497632|0)<<16|h>>>16)+y|0)^y^p)+d[10]-1094730640|0)<<23|f>>>9)+h|0,f=((f+=((h=((h+=((y=((y+=((p=((p+=(f^h^y)+d[13]+681279174|0)<<4|p>>>28)+f|0)^f^h)+d[0]-358537222|0)<<11|y>>>21)+p|0)^p^f)+d[3]-722521979|0)<<16|h>>>16)+y|0)^y^p)+d[6]+76029189|0)<<23|f>>>9)+h|0,f=((f+=((h=((h+=((y=((y+=((p=((p+=(f^h^y)+d[9]-640364487|0)<<4|p>>>28)+f|0)^f^h)+d[12]-421815835|0)<<11|y>>>21)+p|0)^p^f)+d[15]+530742520|0)<<16|h>>>16)+y|0)^y^p)+d[2]-995338651|0)<<23|f>>>9)+h|0,f=((f+=((y=((y+=(f^((p=((p+=(h^(f|~y))+d[0]-198630844|0)<<6|p>>>26)+f|0)|~h))+d[7]+1126891415|0)<<10|y>>>22)+p|0)^((h=((h+=(p^(y|~f))+d[14]-1416354905|0)<<15|h>>>17)+y|0)|~p))+d[5]-57434055|0)<<21|f>>>11)+h|0,f=((f+=((y=((y+=(f^((p=((p+=(h^(f|~y))+d[12]+1700485571|0)<<6|p>>>26)+f|0)|~h))+d[3]-1894986606|0)<<10|y>>>22)+p|0)^((h=((h+=(p^(y|~f))+d[10]-1051523|0)<<15|h>>>17)+y|0)|~p))+d[1]-2054922799|0)<<21|f>>>11)+h|0,f=((f+=((y=((y+=(f^((p=((p+=(h^(f|~y))+d[8]+1873313359|0)<<6|p>>>26)+f|0)|~h))+d[15]-30611744|0)<<10|y>>>22)+p|0)^((h=((h+=(p^(y|~f))+d[6]-1560198380|0)<<15|h>>>17)+y|0)|~p))+d[13]+1309151649|0)<<21|f>>>11)+h|0,f=((f+=((y=((y+=(f^((p=((p+=(h^(f|~y))+d[4]-145523070|0)<<6|p>>>26)+f|0)|~h))+d[11]-1120210379|0)<<10|y>>>22)+p|0)^((h=((h+=(p^(y|~f))+d[2]+718787259|0)<<15|h>>>17)+y|0)|~p))+d[9]-343485551|0)<<21|f>>>11)+h|0,l[0]=p+l[0]|0,l[1]=f+l[1]|0,l[2]=h+l[2]|0,l[3]=y+l[3]|0}function c(l){var d,p=[];for(d=0;d<64;d+=4)p[d>>2]=l.charCodeAt(d)+(l.charCodeAt(d+1)<<8)+(l.charCodeAt(d+2)<<16)+(l.charCodeAt(d+3)<<24);return p}function o(l){var d,p=[];for(d=0;d<64;d+=4)p[d>>2]=l[d]+(l[d+1]<<8)+(l[d+2]<<16)+(l[d+3]<<24);return p}function u(l){var d,p,f,h,y,m,b=l.length,v=[1732584193,-271733879,-1732584194,271733878];for(d=64;d<=b;d+=64)s(v,c(l.substring(d-64,d)));for(p=(l=l.substring(d-64)).length,f=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],d=0;d<p;d+=1)f[d>>2]|=l.charCodeAt(d)<<(d%4<<3);if(f[d>>2]|=128<<(d%4<<3),d>55)for(s(v,f),d=0;d<16;d+=1)f[d]=0;return h=(h=8*b).toString(16).match(/(.*?)(.{0,8})$/),y=parseInt(h[2],16),m=parseInt(h[1],16)||0,f[14]=y,f[15]=m,s(v,f),v}function i(l){var d,p="";for(d=0;d<4;d+=1)p+=e[l>>8*d+4&15]+e[l>>8*d&15];return p}function r(l){var d;for(d=0;d<l.length;d+=1)l[d]=i(l[d]);return l.join("")}function n(l){return/[\u0080-\uFFFF]/.test(l)&&(l=unescape(encodeURIComponent(l))),l}function t(l){var d,p=[],f=l.length;for(d=0;d<f-1;d+=2)p.push(parseInt(l.substr(d,2),16));return String.fromCharCode.apply(String,p)}function a(){this.reset()}return r(u("hello")),typeof ArrayBuffer>"u"||ArrayBuffer.prototype.slice||(function(){function l(d,p){return(d=0|d||0)<0?Math.max(d+p,0):Math.min(d,p)}ArrayBuffer.prototype.slice=function(d,p){var f,h,y,m,b=this.byteLength,v=l(d,b),_=b;return p!==void 0&&(_=l(p,b)),v>_?new ArrayBuffer(0):(f=_-v,h=new ArrayBuffer(f),y=new Uint8Array(h),m=new Uint8Array(this,v,f),y.set(m),h)}})(),a.prototype.append=function(l){return this.appendBinary(n(l)),this},a.prototype.appendBinary=function(l){this._buff+=l,this._length+=l.length;var d,p=this._buff.length;for(d=64;d<=p;d+=64)s(this._hash,c(this._buff.substring(d-64,d)));return this._buff=this._buff.substring(d-64),this},a.prototype.end=function(l){var d,p,f=this._buff,h=f.length,y=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(d=0;d<h;d+=1)y[d>>2]|=f.charCodeAt(d)<<(d%4<<3);return this._finish(y,h),p=r(this._hash),l&&(p=t(p)),this.reset(),p},a.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},a.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},a.prototype.setState=function(l){return this._buff=l.buff,this._length=l.length,this._hash=l.hash,this},a.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},a.prototype._finish=function(l,d){var p,f,h,y=d;if(l[y>>2]|=128<<(y%4<<3),y>55)for(s(this._hash,l),y=0;y<16;y+=1)l[y]=0;p=(p=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),f=parseInt(p[2],16),h=parseInt(p[1],16)||0,l[14]=f,l[15]=h,s(this._hash,l)},a.hash=function(l,d){return a.hashBinary(n(l),d)},a.hashBinary=function(l,d){var p=r(u(l));return d?t(p):p},a.ArrayBuffer=function(){this.reset()},a.ArrayBuffer.prototype.append=function(l){var d,p,f,h,y,m=(p=this._buff.buffer,f=l,h=!0,(y=new Uint8Array(p.byteLength+f.byteLength)).set(new Uint8Array(p)),y.set(new Uint8Array(f),p.byteLength),h?y:y.buffer),b=m.length;for(this._length+=l.byteLength,d=64;d<=b;d+=64)s(this._hash,o(m.subarray(d-64,d)));return this._buff=d-64<b?new Uint8Array(m.buffer.slice(d-64)):new Uint8Array(0),this},a.ArrayBuffer.prototype.end=function(l){var d,p,f=this._buff,h=f.length,y=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(d=0;d<h;d+=1)y[d>>2]|=f[d]<<(d%4<<3);return this._finish(y,h),p=r(this._hash),l&&(p=t(p)),this.reset(),p},a.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},a.ArrayBuffer.prototype.getState=function(){var l,d=a.prototype.getState.call(this);return d.buff=(l=d.buff,String.fromCharCode.apply(null,new Uint8Array(l))),d},a.ArrayBuffer.prototype.setState=function(l){return l.buff=(function(d,p){var f,h=d.length,y=new ArrayBuffer(h),m=new Uint8Array(y);for(f=0;f<h;f+=1)m[f]=d.charCodeAt(f);return p?m:y})(l.buff,!0),a.prototype.setState.call(this,l)},a.ArrayBuffer.prototype.destroy=a.prototype.destroy,a.ArrayBuffer.prototype._finish=a.prototype._finish,a.ArrayBuffer.hash=function(l,d){var p=r((function(f){var h,y,m,b,v,_,w=f.length,S=[1732584193,-271733879,-1732584194,271733878];for(h=64;h<=w;h+=64)s(S,o(f.subarray(h-64,h)));for(y=(f=h-64<w?f.subarray(h-64):new Uint8Array(0)).length,m=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],h=0;h<y;h+=1)m[h>>2]|=f[h]<<(h%4<<3);if(m[h>>2]|=128<<(h%4<<3),h>55)for(s(S,m),h=0;h<16;h+=1)m[h]=0;return b=(b=8*w).toString(16).match(/(.*?)(.{0,8})$/),v=parseInt(b[2],16),_=parseInt(b[1],16)||0,m[14]=v,m[15]=_,s(S,m),S})(new Uint8Array(l)));return d?t(p):p},a})()},75844:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQuerySourceIdentifyHypermediaQpf=void 0;const c=s(62100),o=s(90711),u=s(90412),i=s(81926),r=s(96331),n=s(20715);class t extends c.ActorQuerySourceIdentifyHypermedia{constructor(l){super(l,"qpf")}async test(l){return l.forceSourceType&&l.forceSourceType!=="qpf"&&l.forceSourceType!=="brtpf"?(0,u.failTest)(`Actor ${this.name} is not able to handle source type ${l.forceSourceType}.`):this.testMetadata(l)}async testMetadata(l){const{searchForm:d}=await this.createSource(l.url,l.metadata,l.context,l.forceSourceType==="brtpf");return d?l.handledDatasets&&l.handledDatasets[d.dataset]?(0,u.failTest)(`Actor ${this.name} can only be applied for the first page of a QPF dataset.`):(0,u.passTest)({filterFactor:1}):(0,u.failTest)("Illegal state: found no TPF/QPF search form anymore in metadata.")}async run(l){this.logInfo(l.context,`Identified as qpf source: ${l.url}`);const d=await this.createSource(l.url,l.metadata,l.context,l.forceSourceType==="brtpf",l.quads);return{source:d,dataset:d.searchForm.dataset}}async createSource(l,d,p,f,h){const y=p.getSafe(o.KeysInitQuery.dataFactory),m=new r.Factory(y);return new n.QuerySourceQpf(this.mediatorMetadata,this.mediatorMetadataExtract,this.mediatorDereferenceRdf,y,m,await i.BindingsFactory.create(this.mediatorMergeBindingsContext,p,y),this.subjectUri,this.predicateUri,this.objectUri,this.graphUri,l,d,f,h)}}e.ActorQuerySourceIdentifyHypermediaQpf=t},75896:(g,e,s)=>{const c=s(65606),{aggregateTwoErrors:o,codes:{ERR_MULTIPLE_CALLBACK:u},AbortError:i}=s(76371),{Symbol:r}=s(24134),{kIsDestroyed:n,isDestroyed:t,isFinished:a,isServerRequest:l}=s(16115),d=r("kDestroy"),p=r("kConstruct");function f(O,E,R){O&&(O.stack,E&&!E.errored&&(E.errored=O),R&&!R.errored&&(R.errored=O))}function h(O,E,R){let M=!1;function Q(X){if(M)return;M=!0;const V=O._readableState,H=O._writableState;f(X,H,V),H&&(H.closed=!0),V&&(V.closed=!0),typeof R=="function"&&R(X),X?c.nextTick(y,O,X):c.nextTick(m,O)}try{O._destroy(E||null,Q)}catch(X){Q(X)}}function y(O,E){b(O,E),m(O)}function m(O){const E=O._readableState,R=O._writableState;R&&(R.closeEmitted=!0),E&&(E.closeEmitted=!0),(R!=null&&R.emitClose||E!=null&&E.emitClose)&&O.emit("close")}function b(O,E){const R=O._readableState,M=O._writableState;M!=null&&M.errorEmitted||R!=null&&R.errorEmitted||(M&&(M.errorEmitted=!0),R&&(R.errorEmitted=!0),O.emit("error",E))}function v(O,E,R){const M=O._readableState,Q=O._writableState;if(Q!=null&&Q.destroyed||M!=null&&M.destroyed)return this;M!=null&&M.autoDestroy||Q!=null&&Q.autoDestroy?O.destroy(E):E&&(E.stack,Q&&!Q.errored&&(Q.errored=E),M&&!M.errored&&(M.errored=E),R?c.nextTick(b,O,E):b(O,E))}function _(O){let E=!1;function R(M){if(E)return void v(O,M??new u);E=!0;const Q=O._readableState,X=O._writableState,V=X||Q;Q&&(Q.constructed=!0),X&&(X.constructed=!0),V.destroyed?O.emit(d,M):M?v(O,M,!0):c.nextTick(w,O)}try{O._construct(M=>{c.nextTick(R,M)})}catch(M){c.nextTick(R,M)}}function w(O){O.emit(p)}function S(O){return O?.setHeader&&typeof O.abort=="function"}function x(O){O.emit("close")}function T(O,E){O.emit("error",E),c.nextTick(x,O)}g.exports={construct:function(O,E){if(typeof O._construct!="function")return;const R=O._readableState,M=O._writableState;R&&(R.constructed=!1),M&&(M.constructed=!1),O.once(p,E),O.listenerCount(p)>1||c.nextTick(_,O)},destroyer:function(O,E){O&&!t(O)&&(E||a(O)||(E=new i),l(O)?(O.socket=null,O.destroy(E)):S(O)?O.abort():S(O.req)?O.req.abort():typeof O.destroy=="function"?O.destroy(E):typeof O.close=="function"?O.close():E?c.nextTick(T,O,E):c.nextTick(x,O),O.destroyed||(O[n]=!0))},destroy:function(O,E){const R=this._readableState,M=this._writableState,Q=M||R;return M!=null&&M.destroyed||R!=null&&R.destroyed?(typeof E=="function"&&E(),this):(f(O,M,R),M&&(M.destroyed=!0),R&&(R.destroyed=!0),Q.constructed?h(this,O,E):this.once(d,function(X){h(this,o(X,O),E)}),this)},undestroy:function(){const O=this._readableState,E=this._writableState;O&&(O.constructed=!0,O.closed=!1,O.closeEmitted=!1,O.destroyed=!1,O.errored=null,O.errorEmitted=!1,O.reading=!1,O.ended=O.readable===!1,O.endEmitted=O.readable===!1),E&&(E.constructed=!0,E.destroyed=!1,E.closed=!1,E.closeEmitted=!1,E.errored=null,E.errorEmitted=!1,E.finalCalled=!1,E.prefinished=!1,E.ended=E.writable===!1,E.ending=E.writable===!1,E.finished=E.writable===!1)},errorOrDestroy:v}},76011:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.unsafeStringify=void 0;const c=s(59746),o=[];for(let i=0;i<256;++i)o.push((i+256).toString(16).slice(1));function u(i,r=0){return(o[i[r+0]]+o[i[r+1]]+o[i[r+2]]+o[i[r+3]]+"-"+o[i[r+4]]+o[i[r+5]]+"-"+o[i[r+6]]+o[i[r+7]]+"-"+o[i[r+8]]+o[i[r+9]]+"-"+o[i[r+10]]+o[i[r+11]]+o[i[r+12]]+o[i[r+13]]+o[i[r+14]]+o[i[r+15]]).toLowerCase()}e.unsafeStringify=u,e.default=function(i,r=0){const n=u(i,r);if(!(0,c.default)(n))throw TypeError("Stringified UUID is invalid");return n}},76037:function(g,e,s){var c=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(e,"__esModule",{value:!0}),e.getOuterHTML=r,e.getInnerHTML=function(n,t){return(0,o.hasChildren)(n)?n.children.map(function(a){return r(a,t)}).join(""):""},e.getText=function n(t){return Array.isArray(t)?t.map(n).join(""):(0,o.isTag)(t)?t.name==="br"?`
`:n(t.children):(0,o.isCDATA)(t)?n(t.children):(0,o.isText)(t)?t.data:""},e.textContent=function n(t){return Array.isArray(t)?t.map(n).join(""):(0,o.hasChildren)(t)&&!(0,o.isComment)(t)?n(t.children):(0,o.isText)(t)?t.data:""},e.innerText=function n(t){return Array.isArray(t)?t.map(n).join(""):(0,o.hasChildren)(t)&&(t.type===i.ElementType.Tag||(0,o.isCDATA)(t))?n(t.children):(0,o.isText)(t)?t.data:""};var o=s(41141),u=c(s(53806)),i=s(45413);function r(n,t){return(0,u.default)(n,t)}},76063:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfMetadataAccumulateCardinality=void 0;const c=s(50433),o=s(90412);class u extends c.ActorRdfMetadataAccumulate{constructor(r){super(r)}async test(r){return(0,o.passTestVoid)()}async run(r){if(r.mode==="initialize")return{metadata:{cardinality:{type:"exact",value:0}}};const n={...r.accumulatedMetadata.cardinality};if(n.dataset){if(r.accumulatedMetadata.defaultGraph===n.dataset&&n.dataset!==r.appendingMetadata.cardinality.dataset)return{metadata:{cardinality:r.appendingMetadata.cardinality}};if(!r.appendingMetadata.cardinality.dataset)return{metadata:{cardinality:n}};if(n.dataset!==r.appendingMetadata.cardinality.dataset&&r.appendingMetadata.subsetOf===n.dataset)return{metadata:{cardinality:r.appendingMetadata.cardinality}};if(n.dataset===r.appendingMetadata.cardinality.dataset)return{metadata:{cardinality:n}};delete n.dataset}return r.appendingMetadata.cardinality&&Number.isFinite(r.appendingMetadata.cardinality.value)?(r.appendingMetadata.cardinality.type==="estimate"&&(n.type="estimate"),n.value+=r.appendingMetadata.cardinality.value):(n.type="estimate",n.value=Number.POSITIVE_INFINITY),{metadata:{cardinality:n}}}}e.ActorRdfMetadataAccumulateCardinality=u},76235:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.QueryEngineBase=void 0;const c=s(90711),o=s(90412);class u{constructor(r){this.actorInitQuery=r}async queryBindings(r,n){return this.queryOfType(r,n,"bindings")}async queryQuads(r,n){return this.queryOfType(r,n,"quads")}async queryBoolean(r,n){return this.queryOfType(r,n,"boolean")}async queryVoid(r,n){return this.queryOfType(r,n,"void")}async queryOfType(r,n,t){const a=await this.query(r,n);if(a.resultType===t)return await a.execute();throw new Error(`Query result type '${t}' was expected, while '${a.resultType}' was found.`)}async query(r,n){const t=await this.queryOrExplain(r,n);if("explain"in t)throw new Error("Tried to explain a query when in query-only mode");return t}async explain(r,n,t){return n.explain=t,await this.queryOrExplain(r,n)}async queryOrExplain(r,n){const t=o.ActionContext.ensureActionContext(n);t.get(c.KeysInitQuery.invalidateCache)&&await this.invalidateHttpCache();const{result:a}=await this.actorInitQuery.mediatorQueryProcess.mediate({query:r,context:t});return"explain"in a?a:u.internalToFinalResult(a)}async getResultMediaTypes(r){return r=o.ActionContext.ensureActionContext(r),(await this.actorInitQuery.mediatorQueryResultSerializeMediaTypeCombiner.mediate({context:r,mediaTypes:!0})).mediaTypes}async getResultMediaTypeFormats(r){return r=o.ActionContext.ensureActionContext(r),(await this.actorInitQuery.mediatorQueryResultSerializeMediaTypeFormatCombiner.mediate({context:r,mediaTypeFormats:!0})).mediaTypeFormats}async resultToString(r,n,t){if(t=o.ActionContext.ensureActionContext(t),!n)switch(r.resultType){case"bindings":n="application/json";break;case"quads":n="application/trig";break;default:n="simple"}const a={...await u.finalToInternalResult(r),context:t};return(await this.actorInitQuery.mediatorQueryResultSerialize.mediate({context:t,handle:a,handleMediaType:n})).handle}invalidateHttpCache(r,n){return n=o.ActionContext.ensureActionContext(n),this.actorInitQuery.mediatorHttpInvalidate.mediate({url:r,context:n})}static internalToFinalResult(r){switch(r.type){case"bindings":return{resultType:"bindings",execute:async()=>r.bindingsStream,metadata:async()=>{const n=await r.metadata();return n.variables=n.variables.map(t=>t.variable),n},context:r.context};case"quads":return{resultType:"quads",execute:async()=>r.quadStream,metadata:async()=>await r.metadata(),context:r.context};case"boolean":return{resultType:"boolean",execute:async()=>r.execute(),context:r.context};case"void":return{resultType:"void",execute:async()=>r.execute(),context:r.context}}}static async finalToInternalResult(r){switch(r.resultType){case"bindings":return{type:"bindings",bindingsStream:await r.execute(),metadata:async()=>{const n=await r.metadata();return n.variables=n.variables.map(t=>({variable:t,canBeUndef:!1})),n}};case"quads":return{type:"quads",quadStream:await r.execute(),metadata:async()=>await r.metadata()};case"boolean":return{type:"boolean",execute:()=>r.execute()};case"void":return{type:"void",execute:()=>r.execute()}}}}e.QueryEngineBase=u},76257:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isNode=function(r){return r!=null&&typeof r.kind=="string"},e.Token=e.Location=void 0;var c,o=(c=s(63580))&&c.__esModule?c:{default:c},u=(function(){function r(n,t,a){this.start=n.start,this.end=t.end,this.startToken=n,this.endToken=t,this.source=a}return r.prototype.toJSON=function(){return{start:this.start,end:this.end}},r})();e.Location=u,(0,o.default)(u);var i=(function(){function r(n,t,a,l,d,p,f){this.kind=n,this.start=t,this.end=a,this.line=l,this.column=d,this.value=f,this.prev=p,this.next=null}return r.prototype.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},r})();e.Token=i,(0,o.default)(i)},76326:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SparqlJsonParser=void 0;const c=s(27473),o=s(19198),u=s(50608);class i{constructor(n){var t;n=n||{},this.dataFactory=n.dataFactory||new c.DataFactory,this.prefixVariableQuestionMark=!!n.prefixVariableQuestionMark,this.suppressMissingStreamResultsError=(t=n.suppressMissingStreamResultsError)===null||t===void 0||t,this.parseUnsupportedVersions=!!n.parseUnsupportedVersions}isValidVersion(n){return this.parseUnsupportedVersions||i.SUPPORTED_VERSIONS.includes(n)}parseJsonResults(n,t){if(t&&!this.isValidVersion(t))throw new Error(`Detected unsupported version as media type parameter: ${t}`);return n.results.bindings.map(a=>this.parseJsonBindings(a))}parseJsonResultsStream(n,t){const a=h=>f.emit("error",h);n.on("error",a);const l=new u;l.onError=a;let d=!1,p=!1;l.onValue=h=>{if(l.key==="vars"&&l.stack.length===2&&l.stack[1].key==="head")f.emit("variables",h.map(y=>this.dataFactory.variable(y))),d=!0;else if(l.key==="link"&&l.stack.length===2&&l.stack[1].key==="head")f.emit("link",h);else if(l.key==="version"&&l.stack.length===2&&l.stack[1].key==="head")this.isValidVersion(h)||f.emit("error",new Error(`Detected unsupported version: ${h}`)),f.emit("version",h);else if(l.key==="results"&&l.stack.length===1)p=!0;else if(typeof l.key=="number"&&l.stack.length===3&&l.stack[1].key==="results"&&l.stack[2].key==="bindings")try{f.push(this.parseJsonBindings(h))}catch(y){f.emit("error",y)}else l.key==="metadata"&&l.stack.length===1&&f.emit("metadata",h)};const f=n.on("end",h=>{p||this.suppressMissingStreamResultsError?d||f.emit("variables",[]):f.emit("error",new Error("No valid SPARQL query results were found."))}).pipe(new o.Transform({objectMode:!0,transform(h,y,m){l.write(h),m()}}));return t&&!this.isValidVersion(t)&&f.destroy(new Error(`Detected unsupported version as media type parameter: ${t}`)),f}parseJsonBindings(n){const t={};for(const a in n){const l=n[a];t[this.prefixVariableQuestionMark?"?"+a:a]=this.parseJsonValue(l)}return t}parseJsonValue(n){let t;switch(n.type){case"bnode":t=this.dataFactory.blankNode(n.value);break;case"literal":if(n["xml:lang"]){const l=n["xml:lang"],d=n["its:dir"];t=this.dataFactory.literal(n.value,{language:l,direction:d})}else t=n.datatype?this.dataFactory.literal(n.value,this.dataFactory.namedNode(n.datatype)):this.dataFactory.literal(n.value);break;case"typed-literal":t=this.dataFactory.literal(n.value,this.dataFactory.namedNode(n.datatype));break;case"triple":const a=n.value;if(!(a&&a.subject&&a.predicate&&a.object))throw new Error("Invalid quoted triple: "+JSON.stringify(n));t=this.dataFactory.quad(this.parseJsonValue(a.subject),this.parseJsonValue(a.predicate),this.parseJsonValue(a.object));break;default:t=this.dataFactory.namedNode(n.value)}return t}parseJsonBoolean(n,t){if(t&&!this.isValidVersion(t))throw new Error(`Detected unsupported version as media type parameter: ${t}`);if("boolean"in n)return n.boolean;throw new Error("No valid ASK response was found.")}parseJsonBooleanStream(n,t){return t&&!this.isValidVersion(t)?Promise.reject(new Error(`Detected unsupported version as media type parameter: ${t}`)):new Promise((a,l)=>{const d=new u;d.onError=l,d.onValue=p=>{d.key==="boolean"&&typeof p=="boolean"&&d.stack.length===1&&a(p)},n.on("error",l).on("data",p=>d.write(p)).on("end",()=>l(new Error("No valid ASK response was found.")))})}}e.SparqlJsonParser=i,i.SUPPORTED_VERSIONS=["1.2","1.2-basic","1.1"]},76371:(g,e,s)=>{const{format:c,inspect:o}=s(79231),{AggregateError:u}=s(24134),i=globalThis.AggregateError||u,r=Symbol("kIsNodeError"),n=["string","function","number","object","Function","Object","boolean","bigint","symbol"],t=/^([A-Z][a-z0-9]*)+$/,a={};function l(y,m){if(!y)throw new a.ERR_INTERNAL_ASSERTION(m)}function d(y){let m="",b=y.length;const v=y[0]==="-"?1:0;for(;b>=v+4;b-=3)m=`_${y.slice(b-3,b)}${m}`;return`${y.slice(0,b)}${m}`}function p(y,m,b){b||(b=Error);class v extends b{constructor(...w){super((function(S,x,T){if(typeof x=="function")return l(x.length<=T.length,`Code: ${S}; The provided arguments length (${T.length}) does not match the required ones (${x.length}).`),x(...T);const O=(x.match(/%[dfijoOs]/g)||[]).length;return l(O===T.length,`Code: ${S}; The provided arguments length (${T.length}) does not match the required ones (${O}).`),T.length===0?x:c(x,...T)})(y,m,w))}toString(){return`${this.name} [${y}]: ${this.message}`}}Object.defineProperties(v.prototype,{name:{value:b.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${y}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),v.prototype.code=y,v.prototype[r]=!0,a[y]=v}function f(y){const m="__node_internal_"+y.name;return Object.defineProperty(y,"name",{value:m}),y}class h extends Error{constructor(m="The operation was aborted",b=void 0){if(b!==void 0&&typeof b!="object")throw new a.ERR_INVALID_ARG_TYPE("options","Object",b);super(m,b),this.code="ABORT_ERR",this.name="AbortError"}}p("ERR_ASSERTION","%s",Error),p("ERR_INVALID_ARG_TYPE",(y,m,b)=>{l(typeof y=="string","'name' must be a string"),Array.isArray(m)||(m=[m]);let v="The ";y.endsWith(" argument")?v+=`${y} `:v+=`"${y}" ${y.includes(".")?"property":"argument"} `,v+="must be ";const _=[],w=[],S=[];for(const T of m)l(typeof T=="string","All expected entries have to be of type string"),n.includes(T)?_.push(T.toLowerCase()):t.test(T)?w.push(T):(l(T!=="object",'The value "object" should be written as "Object"'),S.push(T));if(w.length>0){const T=_.indexOf("object");T!==-1&&(_.splice(_,T,1),w.push("Object"))}if(_.length>0){switch(_.length){case 1:v+=`of type ${_[0]}`;break;case 2:v+=`one of type ${_[0]} or ${_[1]}`;break;default:{const T=_.pop();v+=`one of type ${_.join(", ")}, or ${T}`}}(w.length>0||S.length>0)&&(v+=" or ")}if(w.length>0){switch(w.length){case 1:v+=`an instance of ${w[0]}`;break;case 2:v+=`an instance of ${w[0]} or ${w[1]}`;break;default:{const T=w.pop();v+=`an instance of ${w.join(", ")}, or ${T}`}}S.length>0&&(v+=" or ")}switch(S.length){case 0:break;case 1:S[0].toLowerCase()!==S[0]&&(v+="an "),v+=`${S[0]}`;break;case 2:v+=`one of ${S[0]} or ${S[1]}`;break;default:{const T=S.pop();v+=`one of ${S.join(", ")}, or ${T}`}}if(b==null)v+=`. Received ${b}`;else if(typeof b=="function"&&b.name)v+=`. Received function ${b.name}`;else if(typeof b=="object"){var x;(x=b.constructor)!==null&&x!==void 0&&x.name?v+=`. Received an instance of ${b.constructor.name}`:v+=`. Received ${o(b,{depth:-1})}`}else{let T=o(b,{colors:!1});T.length>25&&(T=`${T.slice(0,25)}...`),v+=`. Received type ${typeof b} (${T})`}return v},TypeError),p("ERR_INVALID_ARG_VALUE",(y,m,b="is invalid")=>{let v=o(m);return v.length>128&&(v=v.slice(0,128)+"..."),`The ${y.includes(".")?"property":"argument"} '${y}' ${b}. Received ${v}`},TypeError),p("ERR_INVALID_RETURN_VALUE",(y,m,b)=>{var v;return`Expected ${y} to be returned from the "${m}" function but got ${b!=null&&(v=b.constructor)!==null&&v!==void 0&&v.name?`instance of ${b.constructor.name}`:"type "+typeof b}.`},TypeError),p("ERR_MISSING_ARGS",(...y)=>{let m;l(y.length>0,"At least one arg needs to be specified");const b=y.length;switch(y=(Array.isArray(y)?y:[y]).map(v=>`"${v}"`).join(" or "),b){case 1:m+=`The ${y[0]} argument`;break;case 2:m+=`The ${y[0]} and ${y[1]} arguments`;break;default:{const v=y.pop();m+=`The ${y.join(", ")}, and ${v} arguments`}}return`${m} must be specified`},TypeError),p("ERR_OUT_OF_RANGE",(y,m,b)=>{let v;if(l(m,'Missing "range" argument'),Number.isInteger(b)&&Math.abs(b)>2**32)v=d(String(b));else if(typeof b=="bigint"){v=String(b);const _=BigInt(2)**BigInt(32);(b>_||b<-_)&&(v=d(v)),v+="n"}else v=o(b);return`The value of "${y}" is out of range. It must be ${m}. Received ${v}`},RangeError),p("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),p("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),p("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),p("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),p("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),p("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),p("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),p("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),p("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),p("ERR_STREAM_WRITE_AFTER_END","write after end",Error),p("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),g.exports={AbortError:h,aggregateTwoErrors:f(function(y,m){if(y&&m&&y!==m){if(Array.isArray(m.errors))return m.errors.push(y),m;const b=new i([m,y],m.message);return b.code=m.code,b}return y||m}),hideStackFrames:f,codes:a}},76588:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default={targetNode:!0,targetObjectsOf:!0,targetSubjectsOf:!0,deactivated:!0,severity:!0,message:!0,class:!0,datatype:!0,nodeKind:!0,minExclusive:!0,minInclusive:!0,maxExclusive:!0,maxInclusive:!0,minLength:!0,maxLength:!0,pattern:!0,flags:!0,languageIn:!0,equals:!0,disjoint:!0,closed:!0,ignoredProperties:!0,hasValue:!0,in:!0}},76593:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermRound=void 0;const c=s(77617),o=s(77545),u=s(55282);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.SparqlOperator.ROUND],termFunction:!0})}async run(n){return new u.TermFunctionRound}}e.ActorFunctionFactoryTermRound=i},76654:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(53801),e)},76695:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(15195),e)},76810:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(47),e)},76869:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionStrLen=void 0;const c=s(77617),o=s(77545);class u extends c.TermFunctionBase{constructor(){super({arity:1,operator:o.SparqlOperator.STRLEN,overloads:(0,o.declare)(o.SparqlOperator.STRLEN).onStringly1(()=>r=>(0,o.integer)([...r.typedValue].length)).collect()})}}e.TermFunctionStrLen=u},76875:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(85653),e),o(s(29097),e),o(s(43196),e),o(s(68812),e),o(s(98958),e),o(s(87516),e),o(s(6095),e)},76952:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.termToString=e.stringToTerm=e.stringQuadToQuad=e.quadToStringQuad=e.getLiteralValue=e.getLiteralType=e.getLiteralLanguage=void 0;const c=s(45548);Object.defineProperty(e,"getLiteralLanguage",{enumerable:!0,get:function(){return c.getLiteralLanguage}}),Object.defineProperty(e,"getLiteralType",{enumerable:!0,get:function(){return c.getLiteralType}}),Object.defineProperty(e,"getLiteralValue",{enumerable:!0,get:function(){return c.getLiteralValue}}),Object.defineProperty(e,"quadToStringQuad",{enumerable:!0,get:function(){return c.quadToStringQuad}}),Object.defineProperty(e,"stringQuadToQuad",{enumerable:!0,get:function(){return c.stringQuadToQuad}}),Object.defineProperty(e,"stringToTerm",{enumerable:!0,get:function(){return c.stringToTerm}}),Object.defineProperty(e,"termToString",{enumerable:!0,get:function(){return c.termToString}})},76970:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerPredicate=void 0;const c=s(42395),o=s(10888);class u{static async handlePredicateObject(r,n,t,a,l,d,p,f,h){const y=await n.getPropertiesDepth(t,a),m=await n.getDepthOffsetGraph(a,t),b=a-m,v=r.idStack[y];if(v&&!h)for(const _ of v)if(m>=0){const w=r.idStack[b-1];if(w)for(const S of w)n.emitQuadChecked(a,_,l,d,S,p,f);else p?(n.validateReverseSubject(d),r.getUnidentifiedGraphBufferSafe(b-1).push({subject:d,predicate:l,object:_,isEmbedded:f})):r.getUnidentifiedGraphBufferSafe(b-1).push({subject:_,predicate:l,object:d,isEmbedded:f})}else{const w=await n.getGraphContainerValue(t,y);n.emitQuadChecked(a,_,l,d,w,p,f)}else if(p&&n.validateReverseSubject(d),h){if(r.rdfstar){r.idStack[a]&&r.emitError(new c.ErrorCoded(`Found an illegal @id inside an annotation: ${r.idStack[a][0].value}`,c.ERROR_CODES.INVALID_ANNOTATION));for(let S=0;S<a;S++)await n.unaliasKeyword(t[S],t,S)==="@id"&&r.emitError(new c.ErrorCoded("Found an illegal annotation inside an embedded node",c.ERROR_CODES.INVALID_ANNOTATION));const _=r.getAnnotationsBufferSafe(y),w={predicate:l,object:d,reverse:p,nestedAnnotations:[],depth:y};_.push(w);for(let S=_.length-2;S>=0;S--){const x=_[S];x.depth>y&&(w.nestedAnnotations.push(x),_.splice(S,1))}}}else r.getUnidentifiedValueBufferSafe(y).push({predicate:l,object:d,reverse:p,isEmbedded:f})}isPropertyHandler(){return!0}isStackProcessor(){return!0}async validate(r,n,t,a,l){const d=t[a];if(d){const p=await r.getContext(t);if(!r.jsonLiteralStack[a]&&await n.predicateToTerm(p,t[a]))return o.Util.getContextValueType(p,d)==="@json"&&(r.jsonLiteralStack[a+1]=!0),!0}return!1}async test(r,n,t,a,l){return a[l]}async handle(r,n,t,a,l,d,p){const f=a[d],h=await r.getContext(a),y=await n.predicateToTerm(h,t);if(y){const m=await n.valueToTerm(h,t,l,d,a);if(m.length)for(let b of m){let v=await n.unaliasKeywordParent(a,d);const _=o.Util.isPropertyReverse(h,f,v);let w=0;for(;v==="@reverse"||typeof v=="number";)typeof v=="number"?w++:d--,v=await n.unaliasKeywordParent(a,d-w);const S=o.Util.isPropertyInEmbeddedNode(v);n.validateReverseInEmbeddedNode(t,_,S);const x=o.Util.isPropertyInAnnotationObject(v);if(l){const T="@list"in o.Util.getContextValueContainer(h,t);if(T||l["@list"]){if((T&&!Array.isArray(l)&&!l["@list"]||l["@list"]&&!Array.isArray(l["@list"]))&&b!==n.rdfNil){const O=n.dataFactory.blankNode();r.emitQuad(d,n.dataFactory.quad(O,n.rdfRest,n.rdfNil,n.getDefaultGraph())),r.emitQuad(d,n.dataFactory.quad(O,n.rdfFirst,b,n.getDefaultGraph())),b=O}if(_&&!r.allowSubjectList)throw new c.ErrorCoded(`Found illegal list value in subject position at ${t}`,c.ERROR_CODES.INVALID_REVERSE_PROPERTY_VALUE)}}await u.handlePredicateObject(r,n,a,d,y,b,_,S,x)}}}}e.EntryHandlerPredicate=u},77054:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionReplace=void 0;const c=s(98811),o=s(77617),u=s(77545);class i extends o.TermFunctionBase{constructor(){super({arity:[3,4],operator:u.SparqlOperator.REPLACE,overloads:(0,u.declare)(u.SparqlOperator.REPLACE).onTernaryTyped([u.TypeURL.XSD_STRING,u.TypeURL.XSD_STRING,u.TypeURL.XSD_STRING],()=>(n,t,a)=>(0,u.string)(i.replace(n,t,a))).set([u.TypeURL.RDF_LANG_STRING,u.TypeURL.XSD_STRING,u.TypeURL.XSD_STRING],()=>([n,t,a])=>{const l=i.replace(n.typedValue,t.typedValue,a.typedValue);return(0,u.langString)(l,n.language)}).onQuaternaryTyped([u.TypeURL.XSD_STRING,u.TypeURL.XSD_STRING,u.TypeURL.XSD_STRING,u.TypeURL.XSD_STRING],()=>(n,t,a,l)=>(0,u.string)(i.replace(n,t,a,l))).set([u.TypeURL.RDF_LANG_STRING,u.TypeURL.XSD_STRING,u.TypeURL.XSD_STRING,u.TypeURL.XSD_STRING],()=>([n,t,a,l])=>{const d=i.replace(n.typedValue,t.typedValue,a.typedValue,l.typedValue);return(0,u.langString)(d,n.language)}).collect()})}static replace(n,t,a,l=""){return(l=c.TermFunctionRegex.cleanFlags(l)).includes("x")&&(t=c.TermFunctionRegex.flagX(t)),l.includes("q")?t=c.TermFunctionRegex.flagQ(t):a=a.replaceAll("$0",()=>"$&"),l=`${l.replaceAll(/[qx]/gu,"")}g`,n.replaceAll(new RegExp(t,l),a)}}e.TermFunctionReplace=i},77087:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermDictionaryNumberRecord=void 0;const c=s(28664),o=s(43347);e.TermDictionaryNumberRecord=class{constructor(u=new c.DataFactory){this.lastId=0,this.dictionary={},this.reverseDictionary={},this.features={quotedTriples:!1},this.dataFactory=u}encode(u){const i=(0,o.termToString)(u);let r=this.dictionary[i];return r===void 0&&(r=this.lastId++,this.dictionary[i]=r,this.reverseDictionary[r]=i),r}encodeOptional(u){const i=(0,o.termToString)(u);return this.dictionary[i]}decode(u){const i=this.reverseDictionary[u];if(i===void 0)throw new Error(`The value ${u} is not present in this dictionary`);return(0,o.stringToTerm)(i,this.dataFactory)}*encodings(){for(const u of Object.keys(this.reverseDictionary))yield Number.parseInt(u,10)}findQuotedTriples(u){throw new Error("findQuotedTriples is not supported")}findQuotedTriplesEncoded(u){throw new Error("findQuotedTriplesEncoded is not supported")}}},77267:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(48767),e)},77401:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorTermComparatorFactory=void 0;const c=s(90412);class o extends c.Actor{constructor(i){super(i),this.mediatorQueryOperation=i.mediatorQueryOperation,this.mediatorFunctionFactory=i.mediatorFunctionFactory,this.mediatorMergeBindingsContext=i.mediatorMergeBindingsContext}}e.ActorTermComparatorFactory=o},77415:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionIsNumeric=void 0;const c=s(77617),o=s(77545);class u extends c.TermFunctionBase{constructor(){super({arity:1,operator:o.SparqlOperator.IS_NUMERIC,overloads:(0,o.declare)(o.SparqlOperator.IS_NUMERIC).onNumeric1(()=>()=>(0,o.bool)(!0)).onTerm1(()=>()=>(0,o.bool)(!1)).collect()})}}e.TermFunctionIsNumeric=u},77447:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermXsdToDayTimeDuration=void 0;const c=s(77617),o=s(77545),u=s(9402);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.TypeURL.XSD_DAY_TIME_DURATION],termFunction:!0})}async run(n){return new u.TermFunctionXsdToDayTimeDuration}}e.ActorFunctionFactoryTermXsdToDayTimeDuration=i},77545:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.LangStringLiteral=e.TimeLiteral=e.DurationLiteral=e.DateLiteral=e.DayTimeDurationLiteral=e.DateTimeLiteral=e.yearMonthDurationsToMonths=e.toUTCDate=e.toDateTimeRepresentation=e.negateDuration=e.extractRawTimeZone=e.defaultedYearMonthDurationRepresentation=e.defaultedDurationRepresentation=e.defaultedDayTimeDurationRepresentation=e.defaultedDateTimeRepresentation=e.dayTimeDurationsToSeconds=e.isSubTypeOf=e.SparqlOperator=e.TypeAlias=e.TypeURL=e.typedLiteral=e.InvalidArity=e.InvalidLexicalForm=e.ExtensionFunctionError=e.CastError=e.UnboundVariableError=e.NoAggregator=e.InError=e.CoalesceError=e.InvalidArgumentTypes=e.InvalidTimezoneCall=e.IncompatibleLanguageOperation=e.RDFEqualTypeError=e.EmptyAggregateError=e.isExpressionError=e.ExpressionError=e.Builder=e.expressionToVar=e.float=e.decimal=e.langString=e.dateTime=e.integer=e.double=e.string=e.bool=e.declare=e.prepareEvaluatorActionContext=e.OverloadTree=e.TermTransformer=void 0,e.trimToDayTimeDuration=e.trimToYearMonthDuration=e.parseDate=e.parseXSDFloat=e.parseXSDDecimal=e.parseYearMonthDuration=e.parseTime=e.parseDuration=e.parseDayTimeDuration=e.parseDateTime=e.elapsedDuration=e.addDurationToDateTime=e.isNonLexicalLiteral=e.StringLiteral=e.NonLexicalLiteral=e.FloatLiteral=e.IntegerLiteral=e.Literal=e.Existence=e.Aggregate=e.DoubleLiteral=e.DefaultGraph=e.DecimalLiteral=e.BlankNode=e.BooleanLiteral=e.NumericLiteral=e.Variable=e.NamedNode=e.Operator=e.Quad=e.YearMonthDurationLiteral=e.Term=void 0;var c=s(53119);Object.defineProperty(e,"TermTransformer",{enumerable:!0,get:function(){return c.TermTransformer}});var o=s(34641);Object.defineProperty(e,"OverloadTree",{enumerable:!0,get:function(){return o.OverloadTree}});var u=s(17845);Object.defineProperty(e,"prepareEvaluatorActionContext",{enumerable:!0,get:function(){return u.prepareEvaluatorActionContext}});var i=s(97618);Object.defineProperty(e,"declare",{enumerable:!0,get:function(){return i.declare}}),Object.defineProperty(e,"bool",{enumerable:!0,get:function(){return i.bool}}),Object.defineProperty(e,"string",{enumerable:!0,get:function(){return i.string}}),Object.defineProperty(e,"double",{enumerable:!0,get:function(){return i.double}}),Object.defineProperty(e,"integer",{enumerable:!0,get:function(){return i.integer}}),Object.defineProperty(e,"dateTime",{enumerable:!0,get:function(){return i.dateTime}}),Object.defineProperty(e,"langString",{enumerable:!0,get:function(){return i.langString}}),Object.defineProperty(e,"decimal",{enumerable:!0,get:function(){return i.decimal}}),Object.defineProperty(e,"float",{enumerable:!0,get:function(){return i.float}}),Object.defineProperty(e,"expressionToVar",{enumerable:!0,get:function(){return i.expressionToVar}}),Object.defineProperty(e,"Builder",{enumerable:!0,get:function(){return i.Builder}});var r=s(98575);Object.defineProperty(e,"ExpressionError",{enumerable:!0,get:function(){return r.ExpressionError}}),Object.defineProperty(e,"isExpressionError",{enumerable:!0,get:function(){return r.isExpressionError}}),Object.defineProperty(e,"EmptyAggregateError",{enumerable:!0,get:function(){return r.EmptyAggregateError}}),Object.defineProperty(e,"RDFEqualTypeError",{enumerable:!0,get:function(){return r.RDFEqualTypeError}}),Object.defineProperty(e,"IncompatibleLanguageOperation",{enumerable:!0,get:function(){return r.IncompatibleLanguageOperation}}),Object.defineProperty(e,"InvalidTimezoneCall",{enumerable:!0,get:function(){return r.InvalidTimezoneCall}}),Object.defineProperty(e,"InvalidArgumentTypes",{enumerable:!0,get:function(){return r.InvalidArgumentTypes}}),Object.defineProperty(e,"CoalesceError",{enumerable:!0,get:function(){return r.CoalesceError}}),Object.defineProperty(e,"InError",{enumerable:!0,get:function(){return r.InError}}),Object.defineProperty(e,"NoAggregator",{enumerable:!0,get:function(){return r.NoAggregator}}),Object.defineProperty(e,"UnboundVariableError",{enumerable:!0,get:function(){return r.UnboundVariableError}}),Object.defineProperty(e,"CastError",{enumerable:!0,get:function(){return r.CastError}}),Object.defineProperty(e,"ExtensionFunctionError",{enumerable:!0,get:function(){return r.ExtensionFunctionError}}),Object.defineProperty(e,"InvalidLexicalForm",{enumerable:!0,get:function(){return r.InvalidLexicalForm}}),Object.defineProperty(e,"InvalidArity",{enumerable:!0,get:function(){return r.InvalidArity}});var n=s(64900);Object.defineProperty(e,"typedLiteral",{enumerable:!0,get:function(){return n.typedLiteral}}),Object.defineProperty(e,"TypeURL",{enumerable:!0,get:function(){return n.TypeURL}}),Object.defineProperty(e,"TypeAlias",{enumerable:!0,get:function(){return n.TypeAlias}}),Object.defineProperty(e,"SparqlOperator",{enumerable:!0,get:function(){return n.SparqlOperator}});var t=s(86273);Object.defineProperty(e,"isSubTypeOf",{enumerable:!0,get:function(){return t.isSubTypeOf}});var a=s(31296);Object.defineProperty(e,"dayTimeDurationsToSeconds",{enumerable:!0,get:function(){return a.dayTimeDurationsToSeconds}}),Object.defineProperty(e,"defaultedDateTimeRepresentation",{enumerable:!0,get:function(){return a.defaultedDateTimeRepresentation}}),Object.defineProperty(e,"defaultedDayTimeDurationRepresentation",{enumerable:!0,get:function(){return a.defaultedDayTimeDurationRepresentation}}),Object.defineProperty(e,"defaultedDurationRepresentation",{enumerable:!0,get:function(){return a.defaultedDurationRepresentation}}),Object.defineProperty(e,"defaultedYearMonthDurationRepresentation",{enumerable:!0,get:function(){return a.defaultedYearMonthDurationRepresentation}}),Object.defineProperty(e,"extractRawTimeZone",{enumerable:!0,get:function(){return a.extractRawTimeZone}}),Object.defineProperty(e,"negateDuration",{enumerable:!0,get:function(){return a.negateDuration}}),Object.defineProperty(e,"toDateTimeRepresentation",{enumerable:!0,get:function(){return a.toDateTimeRepresentation}}),Object.defineProperty(e,"toUTCDate",{enumerable:!0,get:function(){return a.toUTCDate}}),Object.defineProperty(e,"yearMonthDurationsToMonths",{enumerable:!0,get:function(){return a.yearMonthDurationsToMonths}});var l=s(54833);Object.defineProperty(e,"DateTimeLiteral",{enumerable:!0,get:function(){return l.DateTimeLiteral}}),Object.defineProperty(e,"DayTimeDurationLiteral",{enumerable:!0,get:function(){return l.DayTimeDurationLiteral}}),Object.defineProperty(e,"DateLiteral",{enumerable:!0,get:function(){return l.DateLiteral}}),Object.defineProperty(e,"DurationLiteral",{enumerable:!0,get:function(){return l.DurationLiteral}}),Object.defineProperty(e,"TimeLiteral",{enumerable:!0,get:function(){return l.TimeLiteral}}),Object.defineProperty(e,"LangStringLiteral",{enumerable:!0,get:function(){return l.LangStringLiteral}}),Object.defineProperty(e,"Term",{enumerable:!0,get:function(){return l.Term}}),Object.defineProperty(e,"YearMonthDurationLiteral",{enumerable:!0,get:function(){return l.YearMonthDurationLiteral}}),Object.defineProperty(e,"Quad",{enumerable:!0,get:function(){return l.Quad}}),Object.defineProperty(e,"Operator",{enumerable:!0,get:function(){return l.Operator}}),Object.defineProperty(e,"NamedNode",{enumerable:!0,get:function(){return l.NamedNode}}),Object.defineProperty(e,"Variable",{enumerable:!0,get:function(){return l.Variable}}),Object.defineProperty(e,"NumericLiteral",{enumerable:!0,get:function(){return l.NumericLiteral}}),Object.defineProperty(e,"BooleanLiteral",{enumerable:!0,get:function(){return l.BooleanLiteral}}),Object.defineProperty(e,"BlankNode",{enumerable:!0,get:function(){return l.BlankNode}}),Object.defineProperty(e,"DecimalLiteral",{enumerable:!0,get:function(){return l.DecimalLiteral}}),Object.defineProperty(e,"DefaultGraph",{enumerable:!0,get:function(){return l.DefaultGraph}}),Object.defineProperty(e,"DoubleLiteral",{enumerable:!0,get:function(){return l.DoubleLiteral}}),Object.defineProperty(e,"Aggregate",{enumerable:!0,get:function(){return l.Aggregate}}),Object.defineProperty(e,"Existence",{enumerable:!0,get:function(){return l.Existence}}),Object.defineProperty(e,"Literal",{enumerable:!0,get:function(){return l.Literal}}),Object.defineProperty(e,"IntegerLiteral",{enumerable:!0,get:function(){return l.IntegerLiteral}}),Object.defineProperty(e,"FloatLiteral",{enumerable:!0,get:function(){return l.FloatLiteral}}),Object.defineProperty(e,"NonLexicalLiteral",{enumerable:!0,get:function(){return l.NonLexicalLiteral}}),Object.defineProperty(e,"StringLiteral",{enumerable:!0,get:function(){return l.StringLiteral}}),Object.defineProperty(e,"isNonLexicalLiteral",{enumerable:!0,get:function(){return l.isNonLexicalLiteral}});var d=s(84427);Object.defineProperty(e,"addDurationToDateTime",{enumerable:!0,get:function(){return d.addDurationToDateTime}}),Object.defineProperty(e,"elapsedDuration",{enumerable:!0,get:function(){return d.elapsedDuration}});var p=s(29658);Object.defineProperty(e,"parseDateTime",{enumerable:!0,get:function(){return p.parseDateTime}}),Object.defineProperty(e,"parseDayTimeDuration",{enumerable:!0,get:function(){return p.parseDayTimeDuration}}),Object.defineProperty(e,"parseDuration",{enumerable:!0,get:function(){return p.parseDuration}}),Object.defineProperty(e,"parseTime",{enumerable:!0,get:function(){return p.parseTime}}),Object.defineProperty(e,"parseYearMonthDuration",{enumerable:!0,get:function(){return p.parseYearMonthDuration}}),Object.defineProperty(e,"parseXSDDecimal",{enumerable:!0,get:function(){return p.parseXSDDecimal}}),Object.defineProperty(e,"parseXSDFloat",{enumerable:!0,get:function(){return p.parseXSDFloat}}),Object.defineProperty(e,"parseDate",{enumerable:!0,get:function(){return p.parseDate}});var f=s(31296);Object.defineProperty(e,"trimToYearMonthDuration",{enumerable:!0,get:function(){return f.trimToYearMonthDuration}}),Object.defineProperty(e,"trimToDayTimeDuration",{enumerable:!0,get:function(){return f.trimToDayTimeDuration}})},77571:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ChunkedIterator=void 0;const c=s(75627);class o extends c.TransformIterator{constructor(i,r,n){super(i,n),this.chunk=[],this.blockSize=r}consumeChunkAsIterator(){const i=new c.ArrayIterator(this.chunk,{autoStart:!1});return this.chunk=[],i}_transform(i,r,n){this.chunk.push(i),this.chunk.length>=this.blockSize&&n(this.consumeChunkAsIterator()),r()}_flush(i){this.chunk.length>0&&this._push(this.consumeChunkAsIterator()),super._flush(i)}}e.ChunkedIterator=o},77617:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(1028),e),o(s(68307),e),o(s(48061),e),o(s(5673),e)},77654:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BindingsToQuadsIterator=void 0;const c=s(75627),o=s(3285);class u extends c.MultiTransformIterator{constructor(r,n,t){super(t,{autoStart:!1}),this.dataFactory=r,this.template=n,this.blankNodeCounter=0}static bindTerm(r,n){return n.termType==="Variable"?r.get(n):n}static bindQuad(r,n){try{return(0,o.mapTermsNested)(n,t=>{const a=u.bindTerm(r,t);if(!a)throw new Error("Unbound term");return a})}catch{}}static localizeBlankNode(r,n,t){return t.termType==="BlankNode"?r.blankNode(`${t.value}${n}`):t}static localizeQuad(r,n,t){return(0,o.mapTermsNested)(t,a=>u.localizeBlankNode(r,n,a))}bindTemplate(r,n,t){return n.map(u.localizeQuad.bind(null,this.dataFactory,t)).map(a=>u.bindQuad.bind(null,r)(a)).filter(Boolean)}_createTransformer(r){return new c.ArrayIterator(this.bindTemplate(r,this.template,this.blankNodeCounter++),{autoStart:!1})}}e.BindingsToQuadsIterator=u},77772:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorDereferenceHttp=void 0;const c=s(16524);class o extends c.ActorDereferenceHttpBase{getMaxAcceptHeaderLength(){return this.maxAcceptHeaderLengthBrowser}}e.ActorDereferenceHttp=o},77843:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.JsonLdSerializer=void 0;const c=s(42395),o=s(89250),u=s(23317),i=s(19198);class r extends i.Transform{constructor(t={}){super({objectMode:!0}),this.indentation=0,this.options=t,this.options.baseIRI&&!this.options.context&&(this.options.context={"@base":this.options.baseIRI}),this.options.context?(this.originalContext=this.options.context,this.context=new c.ContextParser().parse(this.options.context,{baseIRI:this.options.baseIRI})):this.context=Promise.resolve(new c.JsonLdContextNormalized({}))}import(t){const a=new i.PassThrough({objectMode:!0});t.on("error",d=>l.emit("error",d)),t.on("data",d=>a.push(d)),t.on("end",()=>a.push(null));const l=a.pipe(new r(this.options));return l}_transform(t,a,l){this.context.then(d=>{this.transformQuad(t,d),l()}).catch(l)}async list(t){const a=await this.context;return{"@list":t.map(l=>u.Util.termToValue(l,a,this.options))}}_flush(t){return this.opened||this.pushDocumentStart(),this.lastPredicate&&this.endPredicate(),this.lastSubject&&this.endSubject(),this.lastGraph&&this.lastGraph.termType!=="DefaultGraph"&&this.endGraph(),this.endDocument(),t(null,null)}transformQuad(t,a){this.opened||this.pushDocumentStart();const l=this.lastGraph&&this.lastGraph.termType!=="DefaultGraph"&&this.lastGraph.equals(t.subject);if(!(l||this.lastGraph&&t.graph.equals(this.lastGraph))){let d=t.graph.termType!=="DefaultGraph"&&this.lastSubject&&this.lastSubject.equals(t.graph);this.lastGraph&&(this.lastGraph.termType!=="DefaultGraph"?(this.endPredicate(),this.endSubject(),this.endGraph(!0),d=!1):d?(this.endPredicate(!0),this.lastSubject=null):(this.endPredicate(),this.endSubject(!0))),t.graph.termType!=="DefaultGraph"&&(d||this.pushId(t.graph,!0,a),this.pushSeparator(this.options.space?o.SeparatorType.GRAPH_FIELD_NONCOMPACT:o.SeparatorType.GRAPH_FIELD_COMPACT),this.indentation++),this.lastGraph=t.graph}this.lastSubject&&t.subject.equals(this.lastSubject)||(l?(this.endPredicate(),this.endSubject(),this.indentation--,this.pushSeparator(o.SeparatorType.ARRAY_END_COMMA),this.lastGraph=t.graph):(this.lastSubject&&(this.endPredicate(),this.endSubject(!0)),this.pushId(t.subject,!0,a)),this.lastSubject=t.subject),this.lastPredicate&&t.predicate.equals(this.lastPredicate)||(this.lastPredicate&&this.endPredicate(!0),this.pushPredicate(t.predicate,a)),this.pushObject(t.object,a)}pushDocumentStart(){this.opened=!0,this.originalContext&&!this.options.excludeContext?(this.pushSeparator(o.SeparatorType.OBJECT_START),this.indentation++,this.pushSeparator(o.SeparatorType.CONTEXT_FIELD),this.pushIndented(JSON.stringify(this.originalContext,null,this.options.space)+","),this.pushSeparator(this.options.space?o.SeparatorType.GRAPH_FIELD_NONCOMPACT:o.SeparatorType.GRAPH_FIELD_COMPACT),this.indentation++):(this.pushSeparator(o.SeparatorType.ARRAY_START),this.indentation++)}pushId(t,a,l){if(t.termType==="Quad")this.pushNestedQuad(t,!0,l);else{const d=t.termType==="BlankNode"?"_:"+t.value:l.compactIri(t.value,!1);a?this.pushSeparator(o.SeparatorType.OBJECT_START):(this.push(o.SeparatorType.OBJECT_START.label),this.options.space&&this.push(`
`)),this.indentation++,this.pushIndented(this.options.space?`"@id": "${d}",`:`"@id":"${d}",`)}}pushPredicate(t,a){let l=t.value;this.options.useRdfType||l!==u.Util.RDF_TYPE||(l="@type",this.objectOptions=Object.assign(Object.assign({},this.options),{compactIds:!0,vocab:!0}));const d=a.compactIri(l,!0);this.pushIndented(this.options.space?`"${d}": [`:`"${d}":[`),this.indentation++,this.lastPredicate=t}pushObject(t,a){if(this.hadObjectForPredicate?this.pushSeparator(o.SeparatorType.COMMA):this.hadObjectForPredicate=!0,t.termType==="Quad"){const d=this.lastSubject,p=this.lastPredicate;return this.hadObjectForPredicate=!1,this.pushNestedQuad(t,!1,a),this.endSubject(!1),this.hadObjectForPredicate=!0,this.lastPredicate=p,void(this.lastSubject=d)}let l;try{l=t["@list"]?t:u.Util.termToValue(t,a,this.objectOptions||this.options)}catch(d){return this.emit("error",d)}this.pushIndented(JSON.stringify(l,null,this.options.space))}pushNestedQuad(t,a,l){this.pushSeparator(o.SeparatorType.OBJECT_START),this.indentation++,this.pushIndented(this.options.space?'"@id": ':'"@id":',!1),t.graph.termType!=="DefaultGraph"&&this.emit("error",new Error(`Found a nested quad with the non-default graph: ${t.graph.value}`)),this.pushId(t.subject,!1,l),this.pushPredicate(t.predicate,l),this.pushObject(t.object,l),this.endPredicate(!1),this.endSubject(a)}endDocument(){this.opened=!1,this.originalContext&&!this.options.excludeContext?(this.indentation--,this.pushSeparator(o.SeparatorType.ARRAY_END),this.indentation--,this.pushSeparator(o.SeparatorType.OBJECT_END)):(this.indentation--,this.pushSeparator(o.SeparatorType.ARRAY_END))}endPredicate(t){this.indentation--,this.pushSeparator(t?o.SeparatorType.ARRAY_END_COMMA:o.SeparatorType.ARRAY_END),this.hadObjectForPredicate=!1,this.objectOptions=null,this.lastPredicate=null}endSubject(t){this.indentation--,this.pushSeparator(t?o.SeparatorType.OBJECT_END_COMMA:o.SeparatorType.OBJECT_END),this.lastSubject=null}endGraph(t){this.indentation--,this.pushSeparator(o.SeparatorType.ARRAY_END),this.indentation--,this.pushSeparator(t?o.SeparatorType.OBJECT_END_COMMA:o.SeparatorType.OBJECT_END),this.lastGraph=null}pushSeparator(t){this.pushIndented(t.label)}pushIndented(t,a=!0){const l=this.getIndentPrefix(),d=t.split(`
`).map(p=>l+p).join(`
`);this.push(d),this.options.space&&a&&this.push(`
`)}getIndentPrefix(){return this.options.space?this.options.space.repeat(this.indentation):""}}e.JsonLdSerializer=r},77866:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SumAggregator=void 0;const c=s(86581),o=s(77545);class u extends c.AggregateEvaluator{constructor(r,n,t,a,l){super(r,n,l),this.dataFactory=t,this.additionFunction=a,this.state=void 0}emptyValueTerm(){return(0,o.typedLiteral)("0",o.TypeURL.XSD_INTEGER)}putTerm(r){if(this.state===void 0)this.state=this.termToNumericOrError(r);else{const n=this.termToNumericOrError(r);this.state=this.additionFunction.applyOnTerms([this.state,n],this.evaluator)}}termResult(){return this.state===void 0?this.emptyValue():this.state.toRDF(this.dataFactory)}}e.SumAggregator=u},77934:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfSerializeJsonLd=void 0;const c=s(81261),o=s(43549);class u extends c.ActorRdfSerializeFixedMediaTypes{constructor(r){super(r)}async runHandle(r,n,t){const a=new o.JsonLdSerializer({space:" ".repeat(this.jsonStringifyIndentSpaces)});let l;return"pipe"in r.quadStream?(r.quadStream.on("error",d=>a.emit("error",d)),l=r.quadStream.pipe(a)):l=a.import(r.quadStream),{data:l}}}e.ActorRdfSerializeJsonLd=u},77952:(g,e,s)=>{var c=e;c.utils=s(67426),c.common=s(66166),c.sha=s(46229),c.ripemd=s(46784),c.hmac=s(28948),c.sha1=c.sha.sha1,c.sha256=c.sha.sha256,c.sha224=c.sha.sha224,c.sha384=c.sha.sha384,c.sha512=c.sha.sha512,c.ripemd160=c.ripemd.ripemd160},77955:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryOperationReducedHash=void 0;const c=s(66490),o=s(90412),u=s(67021),i=s(89096);class r extends c.ActorQueryOperationTypedMediated{constructor(t){super(t,"reduced")}async testOperation(t,a){return(0,o.passTestVoid)()}async runOperation(t,a){const l=(0,u.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:t.input,context:a})),d=(await l.metadata()).variables.map(p=>p.variable);return{type:"bindings",bindingsStream:l.bindingsStream.filter(await this.newHashFilter(a,d)),metadata:l.metadata}}async newHashFilter(t,a){const{hashFunction:l}=await this.mediatorHashBindings.mediate({context:t}),d=new i.LRUCache({max:this.cacheSize});return p=>{const f=l(p,a);return!d.has(f)&&(d.set(f,!0),!0)}}}e.ActorQueryOperationReducedHash=r},78e3:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(77772),e),o(s(16524),e)},78149:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(r,n,t,a){a===void 0&&(a=t);var l=Object.getOwnPropertyDescriptor(n,t);l&&!("get"in l?!n.__esModule:l.writable||l.configurable)||(l={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(r,a,l)}:function(r,n,t,a){a===void 0&&(a=t),r[a]=n[t]}),o=this&&this.__exportStar||function(r,n){for(var t in r)t==="default"||Object.prototype.hasOwnProperty.call(n,t)||c(n,r,t)};Object.defineProperty(e,"__esModule",{value:!0}),e.bindingsStreamToGraphQl=void 0;const u=s(73505),{bindingsStreamToGraphQl:i}=u.ActorQueryResultSerializeTree;e.bindingsStreamToGraphQl=i,o(s(73505),e)},78478:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionNow=void 0;const c=s(77617),o=s(90711),u=s(77545);class i extends c.TermFunctionBase{constructor(){super({arity:0,operator:u.SparqlOperator.NOW,overloads:(0,u.declare)(u.SparqlOperator.NOW).set([],n=>()=>new u.DateTimeLiteral((0,u.toDateTimeRepresentation)({date:n.context.getSafe(o.KeysInitQuery.queryTimestamp),timeZone:n.context.getSafe(o.KeysExpressionEvaluator.defaultTimeZone)}))).collect()})}}e.TermFunctionNow=i},78490:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionMonth=void 0;const c=s(77617),o=s(77545);class u extends c.TermFunctionBase{constructor(){super({arity:1,operator:o.SparqlOperator.MONTH,overloads:(0,o.declare)(o.SparqlOperator.MONTH).onDateTime1(()=>r=>(0,o.integer)(r.typedValue.month)).set([o.TypeURL.XSD_DATE],()=>([r])=>(0,o.integer)(r.typedValue.month)).collect()})}}e.TermFunctionMonth=u},78563:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorAbstractMediaTyped=void 0;const c=s(90412);class o extends c.Actor{constructor(i){super(i)}async run(i){if("handle"in i){const r=i;return{handle:await this.runHandle(r.handle,r.handleMediaType,i.context)}}if("mediaTypes"in i)return{mediaTypes:await this.getMediaTypes(i.context)};if("mediaTypeFormats"in i)return{mediaTypeFormats:await this.getMediaTypeFormats(i.context)};throw new Error("Either a handle, mediaTypes or mediaTypeFormats action needs to be provided")}async test(i){if("handle"in i){const r=i;return(await this.testHandle(r.handle,r.handleMediaType,i.context)).map(n=>({handle:n}))}return"mediaTypes"in i?(await this.testMediaType(i.context)).map(r=>({mediaTypes:r})):"mediaTypeFormats"in i?(await this.testMediaTypeFormats(i.context)).map(r=>({mediaTypeFormats:r})):(0,c.failTest)("Either a handle, mediaTypes or mediaTypeFormats action needs to be provided")}}e.ActorAbstractMediaTyped=o},78584:(g,e,s)=>{const c=s(65606),{ArrayPrototypeSlice:o,Error:u,FunctionPrototypeSymbolHasInstance:i,ObjectDefineProperty:r,ObjectDefineProperties:n,ObjectSetPrototypeOf:t,StringPrototypeToLowerCase:a,Symbol:l,SymbolHasInstance:d}=s(24134);g.exports=k,k.WritableState=H;const{EventEmitter:p}=s(37007),f=s(94259).Stream,{Buffer:h}=s(48287),y=s(75896),{addAbortSignal:m}=s(4147),{getHighWaterMark:b,getDefaultHighWaterMark:v}=s(65291),{ERR_INVALID_ARG_TYPE:_,ERR_METHOD_NOT_IMPLEMENTED:w,ERR_MULTIPLE_CALLBACK:S,ERR_STREAM_CANNOT_PIPE:x,ERR_STREAM_DESTROYED:T,ERR_STREAM_ALREADY_FINISHED:O,ERR_STREAM_NULL_VALUES:E,ERR_STREAM_WRITE_AFTER_END:R,ERR_UNKNOWN_ENCODING:M}=s(76371).codes,{errorOrDestroy:Q}=y;function X(){}t(k.prototype,f.prototype),t(k,f);const V=l("kOnFinished");function H(ie,me,oe){typeof oe!="boolean"&&(oe=me instanceof s(93370)),this.objectMode=!(!ie||!ie.objectMode),oe&&(this.objectMode=this.objectMode||!(!ie||!ie.writableObjectMode)),this.highWaterMark=ie?b(this,ie,"writableHighWaterMark",oe):v(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const ve=!(!ie||ie.decodeStrings!==!1);this.decodeStrings=!ve,this.defaultEncoding=ie&&ie.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=ye.bind(void 0,me),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,U(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!ie||ie.emitClose!==!1,this.autoDestroy=!ie||ie.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[V]=[]}function U(ie){ie.buffered=[],ie.bufferedIndex=0,ie.allBuffers=!0,ie.allNoop=!0}function k(ie){const me=this instanceof s(93370);if(!me&&!i(k,this))return new k(ie);this._writableState=new H(ie,this,me),ie&&(typeof ie.write=="function"&&(this._write=ie.write),typeof ie.writev=="function"&&(this._writev=ie.writev),typeof ie.destroy=="function"&&(this._destroy=ie.destroy),typeof ie.final=="function"&&(this._final=ie.final),typeof ie.construct=="function"&&(this._construct=ie.construct),ie.signal&&m(ie.signal,this)),f.call(this,ie),y.construct(this,()=>{const oe=this._writableState;oe.writing||L(this,oe),te(this,oe)})}function $(ie,me,oe,ve){const xe=ie._writableState;if(typeof oe=="function")ve=oe,oe=xe.defaultEncoding;else{if(oe){if(oe!=="buffer"&&!h.isEncoding(oe))throw new M(oe)}else oe=xe.defaultEncoding;typeof ve!="function"&&(ve=X)}if(me===null)throw new E;if(!xe.objectMode)if(typeof me=="string")xe.decodeStrings!==!1&&(me=h.from(me,oe),oe="buffer");else if(me instanceof h)oe="buffer";else{if(!f._isUint8Array(me))throw new _("chunk",["string","Buffer","Uint8Array"],me);me=f._uint8ArrayToBuffer(me),oe="buffer"}let q;return xe.ending?q=new R:xe.destroyed&&(q=new T("write")),q?(c.nextTick(ve,q),Q(ie,q,!0),q):(xe.pendingcb++,(function(N,B,J,ne,re){const fe=B.objectMode?1:J.length;B.length+=fe;const _e=B.length<B.highWaterMark;return _e||(B.needDrain=!0),B.writing||B.corked||B.errored||!B.constructed?(B.buffered.push({chunk:J,encoding:ne,callback:re}),B.allBuffers&&ne!=="buffer"&&(B.allBuffers=!1),B.allNoop&&re!==X&&(B.allNoop=!1)):(B.writelen=fe,B.writecb=re,B.writing=!0,B.sync=!0,N._write(J,ne,B.onwrite),B.sync=!1),_e&&!B.errored&&!B.destroyed})(ie,xe,me,oe,ve))}function ae(ie,me,oe,ve,xe,q,N){me.writelen=ve,me.writecb=N,me.writing=!0,me.sync=!0,me.destroyed?me.onwrite(new T("write")):oe?ie._writev(xe,me.onwrite):ie._write(xe,q,me.onwrite),me.sync=!1}function he(ie,me,oe,ve){--me.pendingcb,ve(oe),P(me),Q(ie,oe)}function ye(ie,me){const oe=ie._writableState,ve=oe.sync,xe=oe.writecb;typeof xe=="function"?(oe.writing=!1,oe.writecb=null,oe.length-=oe.writelen,oe.writelen=0,me?(me.stack,oe.errored||(oe.errored=me),ie._readableState&&!ie._readableState.errored&&(ie._readableState.errored=me),ve?c.nextTick(he,ie,oe,me,xe):he(ie,oe,me,xe)):(oe.buffered.length>oe.bufferedIndex&&L(ie,oe),ve?oe.afterWriteTickInfo!==null&&oe.afterWriteTickInfo.cb===xe?oe.afterWriteTickInfo.count++:(oe.afterWriteTickInfo={count:1,cb:xe,stream:ie,state:oe},c.nextTick(I,oe.afterWriteTickInfo)):j(ie,oe,1,xe))):Q(ie,new S)}function I({stream:ie,state:me,count:oe,cb:ve}){return me.afterWriteTickInfo=null,j(ie,me,oe,ve)}function j(ie,me,oe,ve){for(!me.ending&&!ie.destroyed&&me.length===0&&me.needDrain&&(me.needDrain=!1,ie.emit("drain"));oe-- >0;)me.pendingcb--,ve();me.destroyed&&P(me),te(ie,me)}function P(ie){if(ie.writing)return;for(let xe=ie.bufferedIndex;xe<ie.buffered.length;++xe){var me;const{chunk:q,callback:N}=ie.buffered[xe],B=ie.objectMode?1:q.length;ie.length-=B,N((me=ie.errored)!==null&&me!==void 0?me:new T("write"))}const oe=ie[V].splice(0);for(let xe=0;xe<oe.length;xe++){var ve;oe[xe]((ve=ie.errored)!==null&&ve!==void 0?ve:new T("end"))}U(ie)}function L(ie,me){if(me.corked||me.bufferProcessing||me.destroyed||!me.constructed)return;const{buffered:oe,bufferedIndex:ve,objectMode:xe}=me,q=oe.length-ve;if(!q)return;let N=ve;if(me.bufferProcessing=!0,q>1&&ie._writev){me.pendingcb-=q-1;const B=me.allNoop?X:ne=>{for(let re=N;re<oe.length;++re)oe[re].callback(ne)},J=me.allNoop&&N===0?oe:o(oe,N);J.allBuffers=me.allBuffers,ae(ie,me,!0,me.length,J,"",B),U(me)}else{do{const{chunk:B,encoding:J,callback:ne}=oe[N];oe[N++]=null,ae(ie,me,!1,xe?1:B.length,B,J,ne)}while(N<oe.length&&!me.writing);N===oe.length?U(me):N>256?(oe.splice(0,N),me.bufferedIndex=0):me.bufferedIndex=N}me.bufferProcessing=!1}function G(ie){return ie.ending&&!ie.destroyed&&ie.constructed&&ie.length===0&&!ie.errored&&ie.buffered.length===0&&!ie.finished&&!ie.writing&&!ie.errorEmitted&&!ie.closeEmitted}function te(ie,me,oe){G(me)&&((function(ve,xe){xe.prefinished||xe.finalCalled||(typeof ve._final!="function"||xe.destroyed?(xe.prefinished=!0,ve.emit("prefinish")):(xe.finalCalled=!0,(function(q,N){let B=!1;function J(ne){if(B)Q(q,ne??S());else if(B=!0,N.pendingcb--,ne){const re=N[V].splice(0);for(let fe=0;fe<re.length;fe++)re[fe](ne);Q(q,ne,N.sync)}else G(N)&&(N.prefinished=!0,q.emit("prefinish"),N.pendingcb++,c.nextTick(W,q,N))}N.sync=!0,N.pendingcb++;try{q._final(J)}catch(ne){J(ne)}N.sync=!1})(ve,xe)))})(ie,me),me.pendingcb===0&&(oe?(me.pendingcb++,c.nextTick((ve,xe)=>{G(xe)?W(ve,xe):xe.pendingcb--},ie,me)):G(me)&&(me.pendingcb++,W(ie,me))))}function W(ie,me){me.pendingcb--,me.finished=!0;const oe=me[V].splice(0);for(let ve=0;ve<oe.length;ve++)oe[ve]();if(ie.emit("finish"),me.autoDestroy){const ve=ie._readableState;(!ve||ve.autoDestroy&&(ve.endEmitted||ve.readable===!1))&&ie.destroy()}}H.prototype.getBuffer=function(){return o(this.buffered,this.bufferedIndex)},r(H.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),r(k,d,{__proto__:null,value:function(ie){return!!i(this,ie)||this===k&&ie&&ie._writableState instanceof H}}),k.prototype.pipe=function(){Q(this,new x)},k.prototype.write=function(ie,me,oe){return $(this,ie,me,oe)===!0},k.prototype.cork=function(){this._writableState.corked++},k.prototype.uncork=function(){const ie=this._writableState;ie.corked&&(ie.corked--,ie.writing||L(this,ie))},k.prototype.setDefaultEncoding=function(ie){if(typeof ie=="string"&&(ie=a(ie)),!h.isEncoding(ie))throw new M(ie);return this._writableState.defaultEncoding=ie,this},k.prototype._write=function(ie,me,oe){if(!this._writev)throw new w("_write()");this._writev([{chunk:ie,encoding:me}],oe)},k.prototype._writev=null,k.prototype.end=function(ie,me,oe){const ve=this._writableState;let xe;if(typeof ie=="function"?(oe=ie,ie=null,me=null):typeof me=="function"&&(oe=me,me=null),ie!=null){const q=$(this,ie,me);q instanceof u&&(xe=q)}return ve.corked&&(ve.corked=1,this.uncork()),xe||(ve.errored||ve.ending?ve.finished?xe=new O("end"):ve.destroyed&&(xe=new T("end")):(ve.ending=!0,te(this,ve,!0),ve.ended=!0)),typeof oe=="function"&&(xe||ve.finished?c.nextTick(oe,xe):ve[V].push(oe)),this},n(k.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(ie){this._writableState&&(this._writableState.destroyed=ie)}},writable:{__proto__:null,get(){const ie=this._writableState;return!(!ie||ie.writable===!1||ie.destroyed||ie.errored||ie.ending||ie.ended)},set(ie){this._writableState&&(this._writableState.writable=!!ie)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){const ie=this._writableState;return!!ie&&!ie.destroyed&&!ie.ending&&ie.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(this._writableState.writable===!1||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});const ce=y.destroy;let de;function Se(){return de===void 0&&(de={}),de}k.prototype.destroy=function(ie,me){const oe=this._writableState;return!oe.destroyed&&(oe.bufferedIndex<oe.buffered.length||oe[V].length)&&c.nextTick(P,oe),ce.call(this,ie,me),this},k.prototype._undestroy=y.undestroy,k.prototype._destroy=function(ie,me){me(ie)},k.prototype[p.captureRejectionSymbol]=function(ie){this.destroy(ie)},k.fromWeb=function(ie,me){return Se().newStreamWritableFromWritableStream(ie,me)},k.toWeb=function(ie){return Se().newWritableStreamFromStreamWritable(ie)}},78605:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermComparatorExpressionEvaluator=void 0,e.TermComparatorExpressionEvaluator=class{constructor(s,c,o){this.internalEvaluator=s,this.equalityFunction=c,this.lessThanFunction=o,this._TERM_ORDERING_PRIORITY={Variable:0,BlankNode:1,NamedNode:2,Literal:3,Quad:4,DefaultGraph:5}}orderTypes(s,c){if(s===c)return 0;if(s===void 0)return-1;if(c===void 0)return 1;if(s.termType!==c.termType)return this._TERM_ORDERING_PRIORITY[s.termType]<this._TERM_ORDERING_PRIORITY[c.termType]?-1:1;if(s.equals(c))return 0;if(s.termType==="Quad"&&c.termType==="Quad"){const o=this.orderTypes(s.subject,c.subject);if(o!==0)return o;const u=this.orderTypes(s.predicate,c.predicate);if(u!==0)return u;const i=this.orderTypes(s.object,c.object);return i!==0?i:this.orderTypes(s.graph,c.graph)}return s.termType==="Literal"?this.orderLiteralTypes(s,c):this.comparePrimitives(s.value,c.value)}orderLiteralTypes(s,c){const o=this.internalEvaluator.transformer.transformLiteral(s),u=this.internalEvaluator.transformer.transformLiteral(c);try{return this.equalityFunction.applyOnTerms([o,u],this.internalEvaluator).typedValue?0:this.lessThanFunction.applyOnTerms([o,u],this.internalEvaluator).typedValue?-1:1}catch{const i=this.comparePrimitives(o.dataType,u.dataType);return i!==0?i:this.comparePrimitives(o.str(),u.str())}}comparePrimitives(s,c){return s===c?0:s<c?-1:1}}},78659:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(m,b,v,_){_===void 0&&(_=v);var w=Object.getOwnPropertyDescriptor(b,v);w&&!("get"in w?!b.__esModule:w.writable||w.configurable)||(w={enumerable:!0,get:function(){return b[v]}}),Object.defineProperty(m,_,w)}:function(m,b,v,_){_===void 0&&(_=v),m[_]=b[v]}),o=this&&this.__setModuleDefault||(Object.create?function(m,b){Object.defineProperty(m,"default",{enumerable:!0,value:b})}:function(m,b){m.default=b}),u=this&&this.__importStar||function(m){if(m&&m.__esModule)return m;var b={};if(m!=null)for(var v in m)v!=="default"&&Object.prototype.hasOwnProperty.call(m,v)&&c(b,m,v);return o(b,m),b},i=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(e,"__esModule",{value:!0}),e.DomUtils=e.parseFeed=e.getFeed=e.ElementType=e.Tokenizer=e.createDomStream=e.parseDOM=e.parseDocument=e.DefaultHandler=e.DomHandler=e.Parser=void 0;var r=s(11724),n=s(11724);Object.defineProperty(e,"Parser",{enumerable:!0,get:function(){return n.Parser}});var t=s(41141),a=s(41141);function l(m,b){var v=new t.DomHandler(void 0,b);return new r.Parser(v,b).end(m),v.root}function d(m,b){return l(m,b).children}Object.defineProperty(e,"DomHandler",{enumerable:!0,get:function(){return a.DomHandler}}),Object.defineProperty(e,"DefaultHandler",{enumerable:!0,get:function(){return a.DomHandler}}),e.parseDocument=l,e.parseDOM=d,e.createDomStream=function(m,b,v){var _=new t.DomHandler(m,b,v);return new r.Parser(_,b)};var p=s(57918);Object.defineProperty(e,"Tokenizer",{enumerable:!0,get:function(){return i(p).default}}),e.ElementType=u(s(45413));var f=s(98888),h=s(98888);Object.defineProperty(e,"getFeed",{enumerable:!0,get:function(){return h.getFeed}});var y={xmlMode:!0};e.parseFeed=function(m,b){return b===void 0&&(b=y),(0,f.getFeed)(d(m,b))},e.DomUtils=u(s(98888))},78673:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermSeconds=void 0;const c=s(77617),o=s(77545),u=s(72706);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.SparqlOperator.SECONDS],termFunction:!0})}async run(n){return new u.TermFunctionSeconds}}e.ActorFunctionFactoryTermSeconds=i},78740:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionXsdToInteger=void 0;const c=s(77617),o=s(77545);class u extends c.TermFunctionBase{constructor(){super({arity:1,operator:o.TypeURL.XSD_INTEGER,overloads:(0,o.declare)(o.TypeURL.XSD_INTEGER).onBoolean1Typed(()=>r=>(0,o.integer)(r?1:0)).onNumeric1(()=>r=>{if(!Number.isFinite(r.typedValue))throw new o.CastError(r,o.TypeURL.XSD_INTEGER);return(0,o.integer)(Math.trunc(r.typedValue))}).onString1(()=>r=>{const n=r.str(),t=/^\d+$/u.test(n)?Number.parseInt(n,10):void 0;if(t===void 0)throw new o.CastError(r,o.TypeURL.XSD_INTEGER);return(0,o.integer)(t)}).collect()})}}e.TermFunctionXsdToInteger=u},78867:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorContextPreprocessSetDefaults=void 0;const c=s(98926),o=s(90711),u=s(90412),i=s(47793);class r extends c.ActorContextPreprocess{constructor(t){super(t),this.defaultFunctionArgumentsCache={}}async test(t){return(0,u.passTestVoid)()}async run(t){let a=t.context;if(t.initialize){a=a.setDefault(o.KeysInitQuery.queryTimestamp,new Date).setDefault(o.KeysInitQuery.queryTimestampHighResolution,performance.now()).setDefault(o.KeysQuerySourceIdentify.sourceIds,new Map).setDefault(o.KeysCore.log,this.logger).setDefault(o.KeysInitQuery.functionArgumentsCache,this.defaultFunctionArgumentsCache).setDefault(o.KeysQuerySourceIdentify.hypermediaSourcesAggregatedStores,new Map).setDefault(o.KeysInitQuery.dataFactory,new i.DataFactory);let l={language:"sparql",version:"1.1"};a.has(o.KeysInitQuery.queryFormat)?(l=a.get(o.KeysInitQuery.queryFormat),l.language==="graphql"&&(a=a.setDefault(o.KeysInitQuery.graphqlSingularizeVariables,{}))):a=a.set(o.KeysInitQuery.queryFormat,l),a.has(o.KeysInitQuery.extensionFunctionsAlwaysPushdown)||a.has(o.KeysInitQuery.extensionFunctions)||(a=a.set(o.KeysInitQuery.extensionFunctionsAlwaysPushdown,!0))}return{context:a}}}e.ActorContextPreprocessSetDefaults=r},78877:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.QuadDestinationPutLdp=void 0;const c=s(70322);e.QuadDestinationPutLdp=class{constructor(o,u,i,r,n,t){this.url=o,this.context=u,this.mediaTypes=i,this.mediatorHttp=r,this.mediatorRdfSerializeMediatypes=n,this.mediatorRdfSerialize=t}async update(o){if(o.delete)throw new Error("Put-based LDP destinations don't support deletions");o.insert&&await this.wrapRdfUpdateRequest("INSERT",o.insert)}async wrapRdfUpdateRequest(o,u){const{mediaTypes:i}=await this.mediatorRdfSerializeMediatypes.mediate({context:this.context,mediaTypes:!0}),r=this.mediaTypes.filter(d=>d in i),n=r.length>0?r[0]:Object.keys(i).sort((d,p)=>i[p]-i[d])[0],{handle:{data:t}}=await this.mediatorRdfSerialize.mediate({context:this.context,handle:{quadStream:u,context:this.context},handleMediaType:n}),a=new Headers({"content-type":n}),l=await this.mediatorHttp.mediate({context:this.context,init:{headers:a,method:"PUT",body:c.ActorHttp.toWebReadableStream(t)},input:this.url});await(0,c.validateAndCloseHttpResponse)(this.url,l)}async deleteGraphs(o,u,i){throw new Error("Put-based LDP destinations don't support named graphs")}async createGraphs(o,u){throw new Error("Put-based LDP destinations don't support named graphs")}}},79011:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionStrAfter=void 0;const c=s(77617),o=s(77545);class u extends c.TermFunctionBase{constructor(){super({arity:2,operator:o.SparqlOperator.STRAFTER,overloads:(0,o.declare)(o.SparqlOperator.STRAFTER).onBinaryTyped([o.TypeURL.XSD_STRING,o.TypeURL.XSD_STRING],()=>(r,n)=>(0,o.string)(r.slice(r.indexOf(n)).slice(n.length))).onBinary([o.TypeURL.RDF_LANG_STRING,o.TypeURL.XSD_STRING],()=>(r,n)=>{const[t,a]=[r.typedValue,n.typedValue],l=t.slice(t.indexOf(a)).slice(a.length);return l||!a?(0,o.langString)(l,r.language):(0,o.string)(l)}).onBinary([o.TypeURL.RDF_LANG_STRING,o.TypeURL.RDF_LANG_STRING],()=>(r,n)=>{if(r.language!==n.language)throw new o.IncompatibleLanguageOperation(r,n);const[t,a]=[r.typedValue,n.typedValue],l=t.slice(t.indexOf(a)).slice(a.length);return l||!a?(0,o.langString)(l,r.language):(0,o.string)(l)}).collect()})}}e.TermFunctionStrAfter=u},79081:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.LinkQueueFifo=void 0,e.LinkQueueFifo=class{constructor(){this.links=[]}push(s){return this.links.push(s),!0}getSize(){return this.links.length}isEmpty(){return this.links.length===0}pop(){return this.links.shift()}peek(){return this.links[0]}}},79153:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(98384),e)},79217:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermXsdToDate=void 0;const c=s(77617),o=s(77545),u=s(42);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.TypeURL.XSD_DATE],termFunction:!0})}async run(n){return new u.TermFunctionXsdToDate}}e.ActorFunctionFactoryTermXsdToDate=i},79231:g=>{g.exports={format:(e,...s)=>e.replace(/%([sdifj])/g,function(...[c,o]){const u=s.shift();return o==="f"?u.toFixed(6):o==="j"?JSON.stringify(u):o==="s"&&typeof u=="object"?`${u.constructor!==Object?u.constructor.name:""} {}`.trim():u.toString()}),inspect(e){switch(typeof e){case"string":if(e.includes("'")){if(!e.includes('"'))return`"${e}"`;if(!e.includes("`")&&!e.includes("${"))return`\`${e}\``}return`'${e}'`;case"number":return isNaN(e)?"NaN":Object.is(e,-0)?String(e):e;case"bigint":return`${String(e)}n`;case"boolean":case"undefined":return String(e);case"object":return"{}"}}}},79434:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.asTermType=void 0,e.asTermType=function(s){if(s==="namedNode"||s==="literal"||s==="blankNode"||s==="quad")return s}},79527:(g,e,s)=>{var c;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,(c=s(29657))&&c.__esModule,e.default=function(o,u){return o instanceof u}},79644:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(54337),e)},79646:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorOptimizeQueryOperationJoinConnected=void 0;const c=s(38912),o=s(90711),u=s(90412),i=s(96331);class r extends c.ActorOptimizeQueryOperation{async test(t){return(0,u.passTestVoid)()}async run(t){const a=t.context.getSafe(o.KeysInitQuery.dataFactory),l=new i.Factory(a);return{operation:i.Util.mapOperation(t.operation,{join:(d,p)=>({recurse:!1,result:r.cluster(d,p)})},l),context:t.context}}static cluster(t,a){let l,d=t.input.map(f=>({inScopeVariables:Object.fromEntries(i.Util.inScopeVariables(f).map(h=>[h.value,!0])),entries:[f]}));do l=d,d=r.clusterIteration(l);while(l.length!==d.length);const p=d.map(f=>f.entries.length===1?f.entries[0]:a.createJoin(f.entries));return p.length===1?p[0]:a.createJoin(p,!1)}static clusterIteration(t){const a=[];for(const l of t){let d=!1;for(const p of a)if(r.haveOverlappingVariables(l.inScopeVariables,p.inScopeVariables)){p.entries=[...p.entries,...l.entries],p.inScopeVariables={...p.inScopeVariables,...l.inScopeVariables},d=!0;break}d||a.push({inScopeVariables:l.inScopeVariables,entries:l.entries})}return a}static haveOverlappingVariables(t,a){for(const l of Object.keys(t))if(a[l])return!0;return!1}}e.ActorOptimizeQueryOperationJoinConnected=r},79731:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(18697),e)},79806:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorDereferenceBase=e.isHardError=e.emptyReadable=void 0;const c=s(90711),o=s(90412),u=s(19198);function i(){const t=new u.Readable;return t.push(null),t}function r(t){return!t.get(c.KeysInitQuery.lenient)}e.emptyReadable=i,e.isHardError=r;class n extends o.Actor{constructor(a){super(a)}async dereferenceErrorHandler(a,l,d){if(r(a.context))throw l;return this.logWarn(a.context,l.message,()=>({url:a.url})),{...d,data:i()}}}e.ActorDereferenceBase=n},79813:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfParseHtmlScript=void 0;const c=s(76654),o=s(90412),u=s(59311);class i extends c.ActorRdfParseHtml{constructor(n){super(n)}async test(n){return(0,o.passTestVoid)()}async run(n){const t=(await this.mediatorRdfParseMediatypes.mediate({context:n.context,mediaTypes:!0})).mediaTypes;return{htmlParseListener:new u.HtmlScriptListener(this.mediatorRdfParseHandle,n.emit,n.error,n.end,t,n.context,n.baseIRI,n.headers)}}}e.ActorRdfParseHtmlScript=i},79878:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(x,T,O,E){E===void 0&&(E=O);var R=Object.getOwnPropertyDescriptor(T,O);R&&!("get"in R?!T.__esModule:R.writable||R.configurable)||(R={enumerable:!0,get:function(){return T[O]}}),Object.defineProperty(x,E,R)}:function(x,T,O,E){E===void 0&&(E=O),x[E]=T[O]}),o=this&&this.__setModuleDefault||(Object.create?function(x,T){Object.defineProperty(x,"default",{enumerable:!0,value:T})}:function(x,T){x.default=T}),u=this&&this.__importStar||function(x){if(x&&x.__esModule)return x;var T={};if(x!=null)for(var O in x)O!=="default"&&Object.prototype.hasOwnProperty.call(x,O)&&c(T,x,O);return o(T,x),T},i=this&&this.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(e,"__esModule",{value:!0}),e.decodeXML=e.decodeHTMLStrict=e.decodeHTMLAttribute=e.decodeHTML=e.determineBranch=e.EntityDecoder=e.DecodingMode=e.BinTrieFlags=e.fromCodePoint=e.replaceCodePoint=e.decodeCodePoint=e.xmlDecodeTree=e.htmlDecodeTree=void 0;var r=i(s(13603));e.htmlDecodeTree=r.default;var n=i(s(22517));e.xmlDecodeTree=n.default;var t=u(s(55096));e.decodeCodePoint=t.default;var a,l,d,p,f=s(55096);function h(x){return x>=a.ZERO&&x<=a.NINE}function y(x){return x>=a.UPPER_A&&x<=a.UPPER_F||x>=a.LOWER_A&&x<=a.LOWER_F}function m(x){return x===a.EQUALS||(function(T){return T>=a.UPPER_A&&T<=a.UPPER_Z||T>=a.LOWER_A&&T<=a.LOWER_Z||h(T)})(x)}Object.defineProperty(e,"replaceCodePoint",{enumerable:!0,get:function(){return f.replaceCodePoint}}),Object.defineProperty(e,"fromCodePoint",{enumerable:!0,get:function(){return f.fromCodePoint}}),(function(x){x[x.NUM=35]="NUM",x[x.SEMI=59]="SEMI",x[x.EQUALS=61]="EQUALS",x[x.ZERO=48]="ZERO",x[x.NINE=57]="NINE",x[x.LOWER_A=97]="LOWER_A",x[x.LOWER_F=102]="LOWER_F",x[x.LOWER_X=120]="LOWER_X",x[x.LOWER_Z=122]="LOWER_Z",x[x.UPPER_A=65]="UPPER_A",x[x.UPPER_F=70]="UPPER_F",x[x.UPPER_Z=90]="UPPER_Z"})(a||(a={})),(function(x){x[x.VALUE_LENGTH=49152]="VALUE_LENGTH",x[x.BRANCH_LENGTH=16256]="BRANCH_LENGTH",x[x.JUMP_TABLE=127]="JUMP_TABLE"})(l=e.BinTrieFlags||(e.BinTrieFlags={})),(function(x){x[x.EntityStart=0]="EntityStart",x[x.NumericStart=1]="NumericStart",x[x.NumericDecimal=2]="NumericDecimal",x[x.NumericHex=3]="NumericHex",x[x.NamedEntity=4]="NamedEntity"})(d||(d={})),(function(x){x[x.Legacy=0]="Legacy",x[x.Strict=1]="Strict",x[x.Attribute=2]="Attribute"})(p=e.DecodingMode||(e.DecodingMode={}));var b=(function(){function x(T,O,E){this.decodeTree=T,this.emitCodePoint=O,this.errors=E,this.state=d.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=p.Strict}return x.prototype.startEntity=function(T){this.decodeMode=T,this.state=d.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1},x.prototype.write=function(T,O){switch(this.state){case d.EntityStart:return T.charCodeAt(O)===a.NUM?(this.state=d.NumericStart,this.consumed+=1,this.stateNumericStart(T,O+1)):(this.state=d.NamedEntity,this.stateNamedEntity(T,O));case d.NumericStart:return this.stateNumericStart(T,O);case d.NumericDecimal:return this.stateNumericDecimal(T,O);case d.NumericHex:return this.stateNumericHex(T,O);case d.NamedEntity:return this.stateNamedEntity(T,O)}},x.prototype.stateNumericStart=function(T,O){return O>=T.length?-1:(32|T.charCodeAt(O))===a.LOWER_X?(this.state=d.NumericHex,this.consumed+=1,this.stateNumericHex(T,O+1)):(this.state=d.NumericDecimal,this.stateNumericDecimal(T,O))},x.prototype.addToNumericResult=function(T,O,E,R){if(O!==E){var M=E-O;this.result=this.result*Math.pow(R,M)+parseInt(T.substr(O,M),R),this.consumed+=M}},x.prototype.stateNumericHex=function(T,O){for(var E=O;O<T.length;){var R=T.charCodeAt(O);if(!h(R)&&!y(R))return this.addToNumericResult(T,E,O,16),this.emitNumericEntity(R,3);O+=1}return this.addToNumericResult(T,E,O,16),-1},x.prototype.stateNumericDecimal=function(T,O){for(var E=O;O<T.length;){var R=T.charCodeAt(O);if(!h(R))return this.addToNumericResult(T,E,O,10),this.emitNumericEntity(R,2);O+=1}return this.addToNumericResult(T,E,O,10),-1},x.prototype.emitNumericEntity=function(T,O){var E;if(this.consumed<=O)return(E=this.errors)===null||E===void 0||E.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(T===a.SEMI)this.consumed+=1;else if(this.decodeMode===p.Strict)return 0;return this.emitCodePoint((0,t.replaceCodePoint)(this.result),this.consumed),this.errors&&(T!==a.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed},x.prototype.stateNamedEntity=function(T,O){for(var E=this.decodeTree,R=E[this.treeIndex],M=(R&l.VALUE_LENGTH)>>14;O<T.length;O++,this.excess++){var Q=T.charCodeAt(O);if(this.treeIndex=_(E,R,this.treeIndex+Math.max(1,M),Q),this.treeIndex<0)return this.result===0||this.decodeMode===p.Attribute&&(M===0||m(Q))?0:this.emitNotTerminatedNamedEntity();if((M=((R=E[this.treeIndex])&l.VALUE_LENGTH)>>14)!=0){if(Q===a.SEMI)return this.emitNamedEntityData(this.treeIndex,M,this.consumed+this.excess);this.decodeMode!==p.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1},x.prototype.emitNotTerminatedNamedEntity=function(){var T,O=this.result,E=(this.decodeTree[O]&l.VALUE_LENGTH)>>14;return this.emitNamedEntityData(O,E,this.consumed),(T=this.errors)===null||T===void 0||T.missingSemicolonAfterCharacterReference(),this.consumed},x.prototype.emitNamedEntityData=function(T,O,E){var R=this.decodeTree;return this.emitCodePoint(O===1?R[T]&~l.VALUE_LENGTH:R[T+1],E),O===3&&this.emitCodePoint(R[T+2],E),E},x.prototype.end=function(){var T;switch(this.state){case d.NamedEntity:return this.result===0||this.decodeMode===p.Attribute&&this.result!==this.treeIndex?0:this.emitNotTerminatedNamedEntity();case d.NumericDecimal:return this.emitNumericEntity(0,2);case d.NumericHex:return this.emitNumericEntity(0,3);case d.NumericStart:return(T=this.errors)===null||T===void 0||T.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case d.EntityStart:return 0}},x})();function v(x){var T="",O=new b(x,function(E){return T+=(0,t.fromCodePoint)(E)});return function(E,R){for(var M=0,Q=0;(Q=E.indexOf("&",Q))>=0;){T+=E.slice(M,Q),O.startEntity(R);var X=O.write(E,Q+1);if(X<0){M=Q+O.end();break}M=Q+X,Q=X===0?M+1:M}var V=T+E.slice(M);return T="",V}}function _(x,T,O,E){var R=(T&l.BRANCH_LENGTH)>>7,M=T&l.JUMP_TABLE;if(R===0)return M!==0&&E===M?O:-1;if(M){var Q=E-M;return Q<0||Q>=R?-1:x[O+Q]-1}for(var X=O,V=X+R-1;X<=V;){var H=X+V>>>1,U=x[H];if(U<E)X=H+1;else{if(!(U>E))return x[H+R];V=H-1}}return-1}e.EntityDecoder=b,e.determineBranch=_;var w=v(r.default),S=v(n.default);e.decodeHTML=function(x,T){return T===void 0&&(T=p.Legacy),w(x,T)},e.decodeHTMLAttribute=function(x){return w(x,p.Attribute)},e.decodeHTMLStrict=function(x){return w(x,p.Strict)},e.decodeXML=function(x){return S(x,p.Strict)}},79881:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(17685),e),o(s(20386),e)},79904:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryOperationExtend=void 0;const c=s(66490),o=s(90412),u=s(81926),i=s(77545),r=s(67021);class n extends c.ActorQueryOperationTypedMediated{constructor(a){super(a,"extend"),this.mediatorExpressionEvaluatorFactory=a.mediatorExpressionEvaluatorFactory}async testOperation(){return(0,o.passTestVoid)()}async runOperation(a,l){const{expression:d,input:p,variable:f}=a,h=(0,r.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:p,context:l}));if((await h.metadata()).variables.some(b=>b.variable.equals(f)))throw new Error(`Illegal binding to variable '${f.value}' that has already been bound`);const y=await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:d,context:l}),m=h.bindingsStream.transform({autoStart:!1,transform:async(b,v,_)=>{try{const w=await y.evaluate(b);_(b.set(f,w))}catch(w){(0,i.isExpressionError)(w)?(_(b),this.logWarn(l,`Expression error for extend operation (${w.message})with bindings '${(0,u.bindingsToString)(b)}'`)):m.emit("error",w)}v()}});return{type:"bindings",bindingsStream:m,async metadata(){const b=await h.metadata();return{...b,variables:[...b.variables,{variable:f,canBeUndef:!1}]}}}}}e.ActorQueryOperationExtend=n},80220:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},80345:(g,e,s)=>{const{StringPrototypeSlice:c,SymbolIterator:o,TypedArrayPrototypeSet:u,Uint8Array:i}=s(24134),{Buffer:r}=s(48287),{inspect:n}=s(57760);g.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(t){const a={data:t,next:null};this.length>0?this.tail.next=a:this.head=a,this.tail=a,++this.length}unshift(t){const a={data:t,next:this.head};this.length===0&&(this.tail=a),this.head=a,++this.length}shift(){if(this.length===0)return;const t=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,t}clear(){this.head=this.tail=null,this.length=0}join(t){if(this.length===0)return"";let a=this.head,l=""+a.data;for(;(a=a.next)!==null;)l+=t+a.data;return l}concat(t){if(this.length===0)return r.alloc(0);const a=r.allocUnsafe(t>>>0);let l=this.head,d=0;for(;l;)u(a,l.data,d),d+=l.data.length,l=l.next;return a}consume(t,a){const l=this.head.data;if(t<l.length){const d=l.slice(0,t);return this.head.data=l.slice(t),d}return t===l.length?this.shift():a?this._getString(t):this._getBuffer(t)}first(){return this.head.data}*[o](){for(let t=this.head;t;t=t.next)yield t.data}_getString(t){let a="",l=this.head,d=0;do{const p=l.data;if(!(t>p.length)){t===p.length?(a+=p,++d,l.next?this.head=l.next:this.head=this.tail=null):(a+=c(p,0,t),this.head=l,l.data=c(p,t));break}a+=p,t-=p.length,++d}while((l=l.next)!==null);return this.length-=d,a}_getBuffer(t){const a=r.allocUnsafe(t),l=t;let d=this.head,p=0;do{const f=d.data;if(!(t>f.length)){t===f.length?(u(a,f,l-t),++p,d.next?this.head=d.next:this.head=this.tail=null):(u(a,new i(f.buffer,f.byteOffset,t),l-t),this.head=d,d.data=f.slice(t));break}u(a,f,l-t),t-=f.length,++p}while((d=d.next)!==null);return this.length-=p,a}[Symbol.for("nodejs.util.inspect.custom")](t,a){return n(this,{...a,depth:0,customInspect:!1})}}},80425:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Source",{enumerable:!0,get:function(){return c.Source}}),Object.defineProperty(e,"getLocation",{enumerable:!0,get:function(){return o.getLocation}}),Object.defineProperty(e,"printLocation",{enumerable:!0,get:function(){return u.printLocation}}),Object.defineProperty(e,"printSourceLocation",{enumerable:!0,get:function(){return u.printSourceLocation}}),Object.defineProperty(e,"Kind",{enumerable:!0,get:function(){return i.Kind}}),Object.defineProperty(e,"TokenKind",{enumerable:!0,get:function(){return r.TokenKind}}),Object.defineProperty(e,"Lexer",{enumerable:!0,get:function(){return n.Lexer}}),Object.defineProperty(e,"parse",{enumerable:!0,get:function(){return t.parse}}),Object.defineProperty(e,"parseValue",{enumerable:!0,get:function(){return t.parseValue}}),Object.defineProperty(e,"parseType",{enumerable:!0,get:function(){return t.parseType}}),Object.defineProperty(e,"print",{enumerable:!0,get:function(){return a.print}}),Object.defineProperty(e,"visit",{enumerable:!0,get:function(){return l.visit}}),Object.defineProperty(e,"visitInParallel",{enumerable:!0,get:function(){return l.visitInParallel}}),Object.defineProperty(e,"getVisitFn",{enumerable:!0,get:function(){return l.getVisitFn}}),Object.defineProperty(e,"BREAK",{enumerable:!0,get:function(){return l.BREAK}}),Object.defineProperty(e,"Location",{enumerable:!0,get:function(){return d.Location}}),Object.defineProperty(e,"Token",{enumerable:!0,get:function(){return d.Token}}),Object.defineProperty(e,"isDefinitionNode",{enumerable:!0,get:function(){return p.isDefinitionNode}}),Object.defineProperty(e,"isExecutableDefinitionNode",{enumerable:!0,get:function(){return p.isExecutableDefinitionNode}}),Object.defineProperty(e,"isSelectionNode",{enumerable:!0,get:function(){return p.isSelectionNode}}),Object.defineProperty(e,"isValueNode",{enumerable:!0,get:function(){return p.isValueNode}}),Object.defineProperty(e,"isTypeNode",{enumerable:!0,get:function(){return p.isTypeNode}}),Object.defineProperty(e,"isTypeSystemDefinitionNode",{enumerable:!0,get:function(){return p.isTypeSystemDefinitionNode}}),Object.defineProperty(e,"isTypeDefinitionNode",{enumerable:!0,get:function(){return p.isTypeDefinitionNode}}),Object.defineProperty(e,"isTypeSystemExtensionNode",{enumerable:!0,get:function(){return p.isTypeSystemExtensionNode}}),Object.defineProperty(e,"isTypeExtensionNode",{enumerable:!0,get:function(){return p.isTypeExtensionNode}}),Object.defineProperty(e,"DirectiveLocation",{enumerable:!0,get:function(){return f.DirectiveLocation}});var c=s(46876),o=s(99530),u=s(40825),i=s(7030),r=s(73038),n=s(46083),t=s(50246),a=s(70585),l=s(9111),d=s(76257),p=s(39187),f=s(5919)},80570:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ProxyHandlerStatic=void 0,e.ProxyHandlerStatic=class{constructor(s){this.prefixUrl=s}async getProxy(s){return{init:s.init,input:this.modifyInput(s.input)}}modifyInput(s){return typeof s=="string"?this.prefixUrl+s:new Request(this.prefixUrl+s.url,s)}}},80664:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorOptimizeQueryOperationRewriteMove=void 0;const c=s(38912),o=s(90711),u=s(90412),i=s(96331);class r extends c.ActorOptimizeQueryOperation{constructor(t){super(t)}async test(t){return(0,u.passTestVoid)()}async run(t){const a=t.context.getSafe(o.KeysInitQuery.dataFactory),l=new i.Factory(a);return{operation:i.Util.mapOperation(t.operation,{[i.Algebra.types.MOVE](d,p){let f;if(typeof d.destination=="string"&&typeof d.source=="string"&&d.destination===d.source||typeof d.destination!="string"&&typeof d.source!="string"&&d.destination.equals(d.source))f=p.createCompositeUpdate([]);else{const h=[p.createDrop(d.destination,!0),p.createAdd(d.source,d.destination,d.silent),p.createDrop(d.source)];f=p.createCompositeUpdate(h)}return{result:f,recurse:!1}}},l),context:t.context}}}e.ActorOptimizeQueryOperationRewriteMove=r},80722:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Aggregate=void 0;const c=s(42996);e.Aggregate=class{constructor(o,u){this.name=o,this.expression=u,this.expressionType=c.ExpressionType.Aggregate}}},80745:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.RdfStoreIndexNestedMapRecursiveQuoted=void 0;const c=s(95439),o=s(53261);class u extends o.RdfStoreIndexNestedMapRecursive{constructor(r){super(r),this.features={quotedTripleFiltering:!0}}*findEncoded(r,n){return yield*this.findEncodedInnerQuoted(0,r,n,(0,c.arePatternsQuoted)(n),this.nestedMap,[])}*findEncodedInnerQuoted(r,n,t,a,l,d){if(r===n.length)yield[...d];else{const p=n[r],f=t[r];if(f)if(a[r]){const h=this.dictionary.findQuotedTriplesEncoded(f);for(const y of h){const m=l.get(y);m&&(d[r]=y,yield*this.findEncodedInnerQuoted(r+1,n,t,a,m,d))}}else{const h=p;if(h!==void 0){const y=l.get(h);y&&(d[r]=p,yield*this.findEncodedInnerQuoted(r+1,n,t,a,y,d))}}else for(const[h,y]of l.entries())d[r]=h,yield*this.findEncodedInnerQuoted(r+1,n,t,a,y,d)}}countInner(r,n,t){const a=n[r];let l=0;if(a)if(a.termType==="Quad"&&(0,c.quadHasVariables)(a)){const d=this.dictionary.findQuotedTriplesEncoded(a);for(const p of d)if(r===n.length-1)t.has(p)&&l++;else{const f=t.get(p);f&&(l+=this.countInner(r+1,n,f))}}else{const d=this.dictionary.encodeOptional(a);if(d!==void 0){if(r===n.length-1)return t.has(d)?1:0;const p=t.get(d);p&&(l+=this.countInner(r+1,n,p))}}else{if(r===n.length-1)return t.size;for(const d of t.values())l+=this.countInner(r+1,n,d)}return l}}e.RdfStoreIndexNestedMapRecursiveQuoted=u},80748:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(76593),e)},80766:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.RdfStoreIndexNestedRecord=void 0;const c=s(95439);e.RdfStoreIndexNestedRecord=class{constructor(o){this.features={quotedTripleFiltering:!1},this.dictionary=o.dictionary,this.nestedRecords={}}set(o,u){const i=this.nestedRecords,r=i[o[0]]||(i[o[0]]={}),n=r[o[1]]||(r[o[1]]={}),t=n[o[2]]||(n[o[2]]={});return!t[o[3]]&&(t[o[3]]=u,!0)}remove(o){const u=this.nestedRecords,i=u[o[0]];if(!i)return!1;const r=i[o[1]];if(!r)return!1;const n=r[o[2]];return!!n&&!!n[o[3]]&&(delete n[o[3]],Object.keys(n).length===0&&(delete r[o[2]],Object.keys(r).length===0&&(delete i[o[1]],Object.keys(i).length===0&&delete u[o[0]])),!0)}get(o){const u=(0,c.encodeOptionalTerms)(o,this.dictionary);if(u&&!u.includes(void 0))return this.getEncoded(u)}getEncoded(o){return this.nestedRecords[o[0]]?.[o[1]]?.[o[2]]?.[o[3]]}*find(o){const u=(0,c.encodeOptionalTerms)(o,this.dictionary);if(!u)return;const[i,r,n,t]=u,[a,l,d,p]=o;let f,h,y,m,b,v,_;const w=this.nestedRecords,S=i!==void 0?i in w?[i]:[]:Object.keys(w);for(const x of S){b=w[x],f=a||this.dictionary.decode(Number.parseInt(x,10));const T=r!==void 0?r in b?[r]:[]:Object.keys(b);for(const O of T){v=b[O],h=l||this.dictionary.decode(Number.parseInt(O,10));const E=n!==void 0?n in v?[n]:[]:Object.keys(v);for(const R of E){_=v[R],y=d||this.dictionary.decode(Number.parseInt(R,10));const M=t!==void 0?t in _?[t]:[]:Object.keys(_);for(const Q of M)m=p||this.dictionary.decode(Number.parseInt(Q,10)),yield[f,h,y,m]}}}}*findEncoded(o,u){const[i,r,n,t]=o;let a,l,d;const p=this.nestedRecords,f=i!==void 0?i in p?[i]:[]:Object.keys(p);for(const h of f){a=p[h];const y=r!==void 0?r in a?[r]:[]:Object.keys(a);for(const m of y){l=a[m];const b=n!==void 0?n in l?[n]:[]:Object.keys(l);for(const v of b){d=l[v];const _=t!==void 0?t in d?[t]:[]:Object.keys(d);for(const w of _)yield[Number.parseInt(h,10),Number.parseInt(m,10),Number.parseInt(v,10),Number.parseInt(w,10)]}}}}count(o){let u=0;const i=(0,c.encodeOptionalTerms)(o,this.dictionary);if(!i)return 0;const r=i[0],n=i[1],t=i[2],a=i[3];let l,d,p;const f=this.nestedRecords,h=r!==void 0?r in f?[r]:[]:Object.keys(f);for(const y of h){l=f[y];const m=n!==void 0?n in l?[n]:[]:Object.keys(l);for(const b of m){d=l[b];const v=t!==void 0?t in d?[t]:[]:Object.keys(d);for(const _ of v)p=d[_],a!==void 0?a in p&&u++:u+=Object.keys(p).length}}return u}}},80933:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfMetadataAccumulatePageSize=void 0;const c=s(50433),o=s(90412);class u extends c.ActorRdfMetadataAccumulate{constructor(r){super(r)}async test(r){return(0,o.passTestVoid)()}async run(r){return r.mode==="initialize"?{metadata:{}}:{metadata:{..."pageSize"in r.accumulatedMetadata||"pageSize"in r.appendingMetadata?{pageSize:(r.accumulatedMetadata.pageSize??0)+(r.appendingMetadata.pageSize??0)}:{}}}}}e.ActorRdfMetadataAccumulatePageSize=u},80991:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryResultSerializeTable=void 0;const c=s(58871),o=s(90711),u=s(90412),i=s(36413),r=s(3285),n=s(19198);class t extends c.ActorQueryResultSerializeFixedMediaTypes{constructor(l){super(l),this.padding=t.repeat(" ",this.columnWidth)}static repeat(l,d){return l.repeat(d)}async testHandleChecked(l,d){return["bindings","quads"].includes(l.type)?(0,u.passTestVoid)():(0,u.failTest)("This actor can only handle bindings or quad streams.")}termToString(l){return l.termType==="Quad"?(0,i.termToString)(l):l.value}pad(l){return l.length<=this.columnWidth?l+this.padding.slice(l.length):`${l.slice(0,this.columnWidth-1)}`}pushHeader(l,d){const p=d.map(f=>this.pad(f.value)).join(" ");l.push(`${p}
${t.repeat("-",p.length)}
`)}createRow(l,d){return`${l.map(p=>d.has(p)?this.termToString(d.get(p)):"").map(p=>this.pad(p)).join(" ")}
`}async runHandle(l,d,p){const f=new n.Readable;let h;if(l.type==="bindings"){h=l.bindingsStream.map(m=>this.createRow(y,m));const y=(await l.metadata()).variables.map(m=>m.variable);this.pushHeader(f,y)}else{h=l.quadStream.map(m=>`${(0,r.getTerms)(m).map(b=>this.pad(this.termToString(b))).join(" ")}
`);const y=l.context.getSafe(o.KeysInitQuery.dataFactory);this.pushHeader(f,r.QUAD_TERM_NAMES.map(m=>y.variable(m)))}return f.wrap(h),{data:f}}}e.ActorQueryResultSerializeTable=t},81093:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermXsdToDatetime=void 0;const c=s(77617),o=s(77545),u=s(63082);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.TypeURL.XSD_DATE_TIME],termFunction:!0})}async run(n){return new u.TermFunctionXsdToDatetime}}e.ActorFunctionFactoryTermXsdToDatetime=i},81096:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfUpdateHypermediaPutLdp=void 0;const c=s(14597),o=s(90412),u=s(78877);class i extends c.ActorRdfUpdateHypermedia{constructor(n){super(n,"putLdp")}async testMetadata(n){if(!n.forceDestinationType){if(!n.metadata.allowHttpMethods||!n.metadata.allowHttpMethods.includes("PUT"))return(0,o.failTest)(`Actor ${this.name} could not detect a destination with 'Allow: PUT' header.`);if(n.exists)return(0,o.failTest)(`Actor ${this.name} can only put on a destination that does not already exists.`)}return(0,o.passTestVoid)()}async run(n){return this.logInfo(n.context,`Identified as putLdp destination: ${n.url}`),{destination:new u.QuadDestinationPutLdp(n.url,n.context,n.metadata.putAccepted||[],this.mediatorHttp,this.mediatorRdfSerializeMediatypes,this.mediatorRdfSerialize)}}}e.ActorRdfUpdateHypermediaPutLdp=i},81108:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(55312),e),o(s(84333),e)},81253:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionGreaterThan=void 0;const c=s(77617),o=s(77545);class u extends c.TermFunctionBase{constructor(r){super({arity:2,operator:o.SparqlOperator.GT,overloads:(0,o.declare)(o.SparqlOperator.GT).set(["term","term"],n=>([t,a])=>this.lessThanFunction.applyOnTerms([a,t],n)).collect()}),this.lessThanFunction=r}}e.TermFunctionGreaterThan=u},81261:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(17538),e),o(s(9527),e)},81673:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DataFactory=void 0;const c=s(35733),o=s(45020),u=s(29388),i=s(25614),r=s(82684),n=s(4367);let t=0;e.DataFactory=class{constructor(a){this.blankNodeCounter=0,a=a||{},this.blankNodePrefix=a.blankNodePrefix||`df_${t++}_`}namedNode(a){return new i.NamedNode(a)}blankNode(a){return new c.BlankNode(a||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(a,l){return new u.Literal(a,l)}variable(a){return new n.Variable(a)}defaultGraph(){return o.DefaultGraph.INSTANCE}quad(a,l,d,p){return new r.Quad(a,l,d,p||this.defaultGraph())}fromTerm(a){switch(a.termType){case"NamedNode":return this.namedNode(a.value);case"BlankNode":return this.blankNode(a.value);case"Literal":return a.language?this.literal(a.value,a.language):a.datatype.equals(u.Literal.XSD_STRING)?this.literal(a.value):this.literal(a.value,this.fromTerm(a.datatype));case"Variable":return this.variable(a.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(a.subject),this.fromTerm(a.predicate),this.fromTerm(a.object),this.fromTerm(a.graph))}}fromQuad(a){return this.fromTerm(a)}resetBlankNodeCounter(){this.blankNodeCounter=0}}},81789:(g,e,s)=>{function c(_){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},c(_)}function o(){var _,w,S=typeof Symbol=="function"?Symbol:{},x=S.iterator||"@@iterator",T=S.toStringTag||"@@toStringTag";function O(U,k,$,ae){var he=k&&k.prototype instanceof R?k:R,ye=Object.create(he.prototype);return u(ye,"_invoke",(function(I,j,P){var L,G,te,W=0,ce=P||[],de=!1,Se={p:0,n:0,v:_,a:ie,f:ie.bind(_,4),d:function(me,oe){return L=me,G=0,te=_,Se.n=oe,E}};function ie(me,oe){for(G=me,te=oe,w=0;!de&&W&&!ve&&w<ce.length;w++){var ve,xe=ce[w],q=Se.p,N=xe[2];me>3?(ve=N===oe)&&(te=xe[(G=xe[4])?5:(G=3,3)],xe[4]=xe[5]=_):xe[0]<=q&&((ve=me<2&&q<xe[1])?(G=0,Se.v=oe,Se.n=xe[1]):q<N&&(ve=me<3||xe[0]>oe||oe>N)&&(xe[4]=me,xe[5]=oe,Se.n=N,G=0))}if(ve||me>1)return E;throw de=!0,oe}return function(me,oe,ve){if(W>1)throw TypeError("Generator is already running");for(de&&oe===1&&ie(oe,ve),G=oe,te=ve;(w=G<2?_:te)||!de;){L||(G?G<3?(G>1&&(Se.n=-1),ie(G,te)):Se.n=te:Se.v=te);try{if(W=2,L){if(G||(me="next"),w=L[me]){if(!(w=w.call(L,te)))throw TypeError("iterator result is not an object");if(!w.done)return w;te=w.value,G<2&&(G=0)}else G===1&&(w=L.return)&&w.call(L),G<2&&(te=TypeError("The iterator does not provide a '"+me+"' method"),G=1);L=_}else if((w=(de=Se.n<0)?te:I.call(j,Se))!==E)break}catch(xe){L=_,G=1,te=xe}finally{W=1}}return{value:w,done:de}}})(U,$,ae),!0),ye}var E={};function R(){}function M(){}function Q(){}w=Object.getPrototypeOf;var X=[][x]?w(w([][x]())):(u(w={},x,function(){return this}),w),V=Q.prototype=R.prototype=Object.create(X);function H(U){return Object.setPrototypeOf?Object.setPrototypeOf(U,Q):(U.__proto__=Q,u(U,T,"GeneratorFunction")),U.prototype=Object.create(V),U}return M.prototype=Q,u(V,"constructor",Q),u(Q,"constructor",M),M.displayName="GeneratorFunction",u(Q,T,"GeneratorFunction"),u(V),u(V,T,"Generator"),u(V,x,function(){return this}),u(V,"toString",function(){return"[object Generator]"}),(o=function(){return{w:O,m:H}})()}function u(_,w,S,x){var T=Object.defineProperty;try{T({},"",{})}catch{T=0}u=function(O,E,R,M){function Q(X,V){u(O,X,function(H){return this._invoke(X,V,H)})}E?T?T(O,E,{value:R,enumerable:!M,configurable:!M,writable:!M}):O[E]=R:(Q("next",0),Q("throw",1),Q("return",2))},u(_,w,S,x)}function i(_,w,S,x,T,O,E){try{var R=_[O](E),M=R.value}catch(Q){return void S(Q)}R.done?w(M):Promise.resolve(M).then(x,T)}function r(_){return function(){var w=this,S=arguments;return new Promise(function(x,T){var O=_.apply(w,S);function E(M){i(O,x,T,E,R,"next",M)}function R(M){i(O,x,T,E,R,"throw",M)}E(void 0)})}}function n(_,w){for(var S=0;S<w.length;S++){var x=w[S];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(_,t(x.key),x)}}function t(_){var w=(function(S){if(c(S)!="object"||!S)return S;var x=S[Symbol.toPrimitive];if(x!==void 0){var T=x.call(S,"string");if(c(T)!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(S)})(_);return c(w)=="symbol"?w:w+""}function a(){try{var _=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a=function(){return!!_})()}function l(_){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(w){return w.__proto__||Object.getPrototypeOf(w)},l(_)}function d(_,w){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(S,x){return S.__proto__=x,S},d(_,w)}Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQuerySourceIdentifyHypermediaRaw=void 0;var p=s(81926),f=s(62100),h=s(23686),y=s(90412),m=s(96331),b=s(90711),v=(function(_){function w(E){return(function(R,M){if(!(R instanceof M))throw new TypeError("Cannot call a class as a function")})(this,w),(function(R,M,Q){return M=l(M),(function(X,V){if(V&&(c(V)=="object"||typeof V=="function"))return V;if(V!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(H){if(H===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return H})(X)})(R,a()?Reflect.construct(M,Q||[],l(R).constructor):M.apply(R,Q))})(this,w,[E,"raw"])}return(function(E,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(R&&R.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),Object.defineProperty(E,"prototype",{writable:!1}),R&&d(E,R)})(w,_),S=w,x=[{key:"testMetadata",value:(O=r(o().m(function E(R){return o().w(function(M){for(;;)switch(M.n){case 0:if(R.forceSourceType||R.metadata.sparqlService||this.checkUrlSuffix&&(R.url.endsWith("/raw")||R.url.endsWith("/cost")||R.url.endsWith("/agg"))){M.n=1;break}return M.a(2,(0,y.failTest)("Actor ".concat(this.name," could not detect a RAW service description or URL ending on /raw.")));case 1:return M.a(2,(0,y.passTest)({filterFactor:1}))}},E,this)})),function(E){return O.apply(this,arguments)})},{key:"run",value:(T=r(o().m(function E(R){var M,Q,X,V,H,U,k,$,ae,he,ye,I,j,P;return o().w(function(L){for(;;)switch(L.n){case 0:return this.logInfo(R.context,"Identified ".concat(R.url," as raw source with service URL: ").concat(R.metadata.sparqlService||R.url)),M=R.context.getSafe(b.KeysInitQuery.dataFactory),Q=new m.Factory(M),V=h.QuerySourceRaw,H=R.forceSourceType?R.url:R.metadata.sparqlService||R.url,U=R.context,k=this.mediatorHttp,$=this.bindMethod,ae=M,he=Q,L.n=1,p.BindingsFactory.create(this.mediatorMergeBindingsContext,R.context,M);case 1:return ye=L.v,I=this.forceHttpGet,j=this.cacheSize,P=this.countTimeout,X=new V(H,U,k,$,ae,he,ye,I,j,P),L.a(2,{source:X})}},E,this)})),function(E){return T.apply(this,arguments)})}],x&&n(S.prototype,x),Object.defineProperty(S,"prototype",{writable:!1}),S;var S,x,T,O})(f.ActorQuerySourceIdentifyHypermedia);e.ActorQuerySourceIdentifyHypermediaRaw=v},81791:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isNonLexicalLiteral=e.NonLexicalLiteral=e.YearMonthDurationLiteral=e.DayTimeDurationLiteral=e.DurationLiteral=e.DateLiteral=e.TimeLiteral=e.DateTimeLiteral=e.StringLiteral=e.LangStringLiteral=e.BooleanLiteral=e.DoubleLiteral=e.FloatLiteral=e.DecimalLiteral=e.IntegerLiteral=e.NumericLiteral=e.Literal=e.isLiteralTermExpression=e.DefaultGraph=e.Quad=e.BlankNode=e.NamedNode=e.Term=void 0;const c=s(42996),o=s(64900),u=s(64900),i=s(98575),r=s(72374),n=s(86273);class t{constructor(){this.expressionType=c.ExpressionType.Term}str(){throw new i.InvalidArgumentTypes([this],o.SparqlOperator.STR)}coerceEBV(){throw new i.EBVCoercionError(this)}}e.Term=t,e.NamedNode=class extends t{constructor(f){super(),this.value=f,this.termType="namedNode"}toRDF(f){return f.namedNode(this.value)}str(){return this.value}},e.BlankNode=class extends t{constructor(f){super(),this.termType="blankNode",this.value=f}toRDF(f){return typeof this.value=="string"?f.blankNode(this.value):this.value}},e.Quad=class extends t{constructor(f,h,y,m){super(),this.subject=f,this.predicate=h,this.object=y,this.graph=m,this.termType="quad"}toRDF(f){return f.quad(this.subject.toRDF(f),this.predicate.toRDF(f),this.object.toRDF(f),this.graph.toRDF(f))}str(){return`Quad: [${this.subject.str()}, ${this.predicate.str()}, ${this.object.str()}, ${this.graph.str()}]`}},e.DefaultGraph=class extends t{constructor(){super(),this.termType="defaultGraph"}toRDF(f){return f.defaultGraph()}str(){return"DefaultGraph"}},e.isLiteralTermExpression=function(f){if(f.termType==="literal")return f};class a extends t{constructor(h,y,m,b){super(),this.typedValue=h,this.dataType=y,this.strValue=m,this.language=b,this.termType="literal"}toRDF(h){return h.literal(this.strValue??this.str(),this.language??h.namedNode(this.dataType))}str(){return this.strValue??this.typedValue.toString()}}e.Literal=a;class l extends a{constructor(h,y,m,b){super(h,y,m,b),this.typedValue=h,this.strValue=m,this.language=b}coerceEBV(){return!!this.typedValue}toRDF(h){const y=super.toRDF(h);return Number.isFinite(this.typedValue)||(y.value=y.value.replace("Infinity","INF")),y}str(){return this.strValue??this.specificFormatter(this.typedValue)}}e.NumericLiteral=l,e.IntegerLiteral=class extends l{constructor(f,h,y,m){super(f,h??u.TypeURL.XSD_INTEGER,y,m),this.typedValue=f,this.strValue=y,this.language=m}specificFormatter(f){return f.toFixed(0)}},e.DecimalLiteral=class extends l{constructor(f,h,y,m){super(f,h??u.TypeURL.XSD_DECIMAL,y,m),this.typedValue=f,this.strValue=y,this.language=m}specificFormatter(f){return f.toString()}},e.FloatLiteral=class extends l{constructor(f,h,y,m){super(f,h??u.TypeURL.XSD_FLOAT,y,m),this.typedValue=f,this.strValue=y,this.language=m}specificFormatter(f){return f.toString()}},e.DoubleLiteral=class extends l{constructor(f,h,y,m){super(f,h??u.TypeURL.XSD_DOUBLE,y,m),this.typedValue=f,this.strValue=y,this.language=m}specificFormatter(f){if(!Number.isFinite(f))return f>0?"INF":f<0?"-INF":"NaN";const h=f.toExponential(),[y,m]=h.split("e"),b=m.replace(/\+/u,"");return`${y.includes(".")?y:`${y}.0`}E${b}`}},e.BooleanLiteral=class extends a{constructor(f,h,y){super(f,y??u.TypeURL.XSD_BOOLEAN,h),this.typedValue=f,this.strValue=h}coerceEBV(){return this.typedValue}},e.LangStringLiteral=class extends a{constructor(f,h,y){super(f,y??u.TypeURL.RDF_LANG_STRING,f,h),this.typedValue=f,this.language=h}coerceEBV(){return this.str().length>0}},e.StringLiteral=class extends a{constructor(f,h){super(f,h??u.TypeURL.XSD_STRING,f),this.typedValue=f}coerceEBV(){return this.str().length>0}},e.DateTimeLiteral=class extends a{constructor(f,h,y){super(f,y??u.TypeURL.XSD_DATE_TIME,h),this.typedValue=f,this.strValue=h}str(){return(0,r.serializeDateTime)(this.typedValue)}},e.TimeLiteral=class extends a{constructor(f,h,y){super(f,y??u.TypeURL.XSD_TIME,h),this.typedValue=f,this.strValue=h}str(){return(0,r.serializeTime)(this.typedValue)}},e.DateLiteral=class extends a{constructor(f,h,y){super(f,y??u.TypeURL.XSD_DATE,h),this.typedValue=f,this.strValue=h}str(){return(0,r.serializeDate)(this.typedValue)}};class d extends a{constructor(h,y,m){super(h,m??u.TypeURL.XSD_DURATION,y),this.typedValue=h,this.strValue=y}str(){return(0,r.serializeDuration)(this.typedValue)}}e.DurationLiteral=d,e.DayTimeDurationLiteral=class extends d{constructor(f,h,y){super(f,h,y??u.TypeURL.XSD_DAY_TIME_DURATION),this.typedValue=f,this.strValue=h}},e.YearMonthDurationLiteral=class extends a{constructor(f,h,y){super(f,y??u.TypeURL.XSD_YEAR_MONTH_DURATION,h),this.typedValue=f,this.strValue=h}str(){return(0,r.serializeDuration)(this.typedValue,"P0M")}};class p extends a{constructor(h,y,m,b,v){super({toString:()=>"undefined"},y,b,v),this.openWorldType=m}coerceEBV(){if((0,n.isSubTypeOf)(this.dataType,u.TypeURL.XSD_BOOLEAN,this.openWorldType)||(0,n.isSubTypeOf)(this.dataType,u.TypeAlias.SPARQL_NUMERIC,this.openWorldType))return!1;throw new i.EBVCoercionError(this)}toRDF(h){return h.literal(this.str(),this.language??h.namedNode(this.dataType))}str(){return this.strValue??""}}e.NonLexicalLiteral=p,e.isNonLexicalLiteral=function(f){if(f instanceof p)return f}},81926:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(16994),e),o(s(2922),e),o(s(18594),e)},81928:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BlankNode=void 0,e.BlankNode=class{constructor(s){this.termType="BlankNode",this.value=s}equals(s){return!!s&&s.termType==="BlankNode"&&s.value===this.value}}},82e3:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfJoinMultiEmpty=void 0;const c=s(95445),o=s(90711),u=s(90412),i=s(99214),r=s(75627);class n extends c.ActorRdfJoin{constructor(a){super(a,{logicalType:"inner",physicalName:"multi-empty",canHandleUndefs:!0})}async test(a){return(await c.ActorRdfJoin.getMetadatas(a.entries)).every(l=>c.ActorRdfJoin.getCardinality(l).value>0)?(0,u.failTest)(`Actor ${this.name} can only join entries where at least one is empty`):super.test(a)}async getOutput(a){for(const d of a.entries)d.output.bindingsStream.close();const l=a.context.getSafe(o.KeysInitQuery.dataFactory);return{result:{bindingsStream:new r.ArrayIterator([],{autoStart:!1}),metadata:async()=>({state:new i.MetadataValidationState,cardinality:{type:"exact",value:0},variables:c.ActorRdfJoin.joinVariables(l,await c.ActorRdfJoin.getMetadatas(a.entries))}),type:"bindings"}}}async getJoinCoefficients(a,l){return(0,u.passTestWithSideData)({iterations:0,persistedItems:0,blockingItems:0,requestTime:0},l)}}e.ActorRdfJoinMultiEmpty=n},82341:g=>{g.exports=function e(s){return s===null||typeof s!="object"||s.toJSON!=null?JSON.stringify(s):Array.isArray(s)?"["+s.reduce((c,o,u)=>c+(u===0?"":",")+e(o===void 0||typeof o=="symbol"?null:o),"")+"]":"{"+Object.keys(s).sort().reduce((c,o,u)=>s[o]===void 0||typeof s[o]=="symbol"?c:c+(c.length===0?"":",")+e(o)+":"+e(s[o]),"")+"}"}},82406:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TypeHandlerNumberDouble=void 0;const c=s(30103);class o{fromRdf(i,r){const n=parseFloat(i.value);return r&&isNaN(n)&&c.Translator.incorrectRdfDataType(i),n}toRdf(i,{datatype:r,dataFactory:n}){return r=r||n.namedNode(o.TYPES[0]),isNaN(i)?n.literal("NaN",r):isFinite(i)?i%1==0?null:n.literal(i.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),r):n.literal(i>0?"INF":"-INF",r)}}o.TYPES=["http://www.w3.org/2001/XMLSchema#double","http://www.w3.org/2001/XMLSchema#decimal","http://www.w3.org/2001/XMLSchema#float"],e.TypeHandlerNumberDouble=o},82651:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryOperationPathZeroOrOne=void 0;const c=s(97091),o=s(90711),u=s(81926),i=s(99214),r=s(67021),n=s(75627),t=s(96331);class a extends c.ActorAbstractPath{constructor(d){super(d,t.Algebra.types.ZERO_OR_ONE_PATH)}async runOperation(d,p){const f=p.getSafe(o.KeysInitQuery.dataFactory),h=new t.Factory(f),y=await u.BindingsFactory.create(this.mediatorMergeBindingsContext,p,f),m=d.predicate,b=this.getPathSources(m),v=[];if(d.subject.termType!=="Variable"&&d.object.termType!=="Variable"&&d.subject.equals(d.object))return{type:"bindings",bindingsStream:new n.SingletonIterator(y.bindings()),metadata:()=>Promise.resolve({state:new i.MetadataValidationState,cardinality:{type:"exact",value:1},variables:[]})};const _=await this.isPathArbitraryLengthDistinct(h,p,d);if(_.operation)return _.operation;p=_.context;const w=(0,r.getSafeBindings)(await this.mediatorQueryOperation.mediate({context:p,operation:h.createPath(d.subject,m.path,d.object,d.graph)}));let S;if(d.subject.termType==="Variable"&&d.object.termType==="Variable"){const x=this.generateVariable(f,d),T=(0,r.getSafeBindings)(await this.mediatorQueryOperation.mediate({context:p,operation:h.createFilter(this.assignPatternSources(h,h.createPattern(d.subject,x,d.object,d.graph),b),h.createOperatorExpression("=",[h.createTermExpression(d.subject),h.createTermExpression(d.object)]))})).bindingsStream.map(O=>O.delete(x));S=new n.UnionIterator([T,w.bindingsStream],{autoStart:!1})}else d.subject.termType==="Variable"&&v.push(y.bindings([[d.subject,d.object]])),d.object.termType==="Variable"&&v.push(y.bindings([[d.object,d.subject]])),S=w.bindingsStream.prepend(v);return{type:"bindings",bindingsStream:S,metadata:async()=>{const x=await w.metadata();return{...x,cardinality:{...x.cardinality,value:x.cardinality.value+1}}}}}}e.ActorQueryOperationPathZeroOrOne=a},82684:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Quad=void 0,e.Quad=class{constructor(s,c,o,u){this.termType="Quad",this.value="",this.subject=s,this.predicate=c,this.object=o,this.graph=u}equals(s){return!!s&&(s.termType==="Quad"||!s.termType)&&this.subject.equals(s.subject)&&this.predicate.equals(s.predicate)&&this.object.equals(s.object)&&this.graph.equals(s.graph)}}},83101:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(71644),e),o(s(40229),e)},83141:(g,e,s)=>{var c=s(92861).Buffer,o=c.isEncoding||function(f){switch((f=""+f)&&f.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function u(f){var h;switch(this.encoding=(function(y){var m=(function(b){if(!b)return"utf8";for(var v;;)switch(b){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return b;default:if(v)return;b=(""+b).toLowerCase(),v=!0}})(y);if(typeof m!="string"&&(c.isEncoding===o||!o(y)))throw new Error("Unknown encoding: "+y);return m||y})(f),this.encoding){case"utf16le":this.text=n,this.end=t,h=4;break;case"utf8":this.fillLast=r,h=4;break;case"base64":this.text=a,this.end=l,h=3;break;default:return this.write=d,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=c.allocUnsafe(h)}function i(f){return f<=127?0:f>>5==6?2:f>>4==14?3:f>>3==30?4:f>>6==2?-1:-2}function r(f){var h=this.lastTotal-this.lastNeed,y=(function(m,b){if((192&b[0])!=128)return m.lastNeed=0,"";if(m.lastNeed>1&&b.length>1){if((192&b[1])!=128)return m.lastNeed=1,"";if(m.lastNeed>2&&b.length>2&&(192&b[2])!=128)return m.lastNeed=2,""}})(this,f);return y!==void 0?y:this.lastNeed<=f.length?(f.copy(this.lastChar,h,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(f.copy(this.lastChar,h,0,f.length),void(this.lastNeed-=f.length))}function n(f,h){if((f.length-h)%2==0){var y=f.toString("utf16le",h);if(y){var m=y.charCodeAt(y.length-1);if(m>=55296&&m<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=f[f.length-2],this.lastChar[1]=f[f.length-1],y.slice(0,-1)}return y}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=f[f.length-1],f.toString("utf16le",h,f.length-1)}function t(f){var h=f&&f.length?this.write(f):"";if(this.lastNeed){var y=this.lastTotal-this.lastNeed;return h+this.lastChar.toString("utf16le",0,y)}return h}function a(f,h){var y=(f.length-h)%3;return y===0?f.toString("base64",h):(this.lastNeed=3-y,this.lastTotal=3,y===1?this.lastChar[0]=f[f.length-1]:(this.lastChar[0]=f[f.length-2],this.lastChar[1]=f[f.length-1]),f.toString("base64",h,f.length-y))}function l(f){var h=f&&f.length?this.write(f):"";return this.lastNeed?h+this.lastChar.toString("base64",0,3-this.lastNeed):h}function d(f){return f.toString(this.encoding)}function p(f){return f&&f.length?this.write(f):""}e.StringDecoder=u,u.prototype.write=function(f){if(f.length===0)return"";var h,y;if(this.lastNeed){if((h=this.fillLast(f))===void 0)return"";y=this.lastNeed,this.lastNeed=0}else y=0;return y<f.length?h?h+this.text(f,y):this.text(f,y):h||""},u.prototype.end=function(f){var h=f&&f.length?this.write(f):"";return this.lastNeed?h+"":h},u.prototype.text=function(f,h){var y=(function(b,v,_){var w=v.length-1;if(w<_)return 0;var S=i(v[w]);return S>=0?(S>0&&(b.lastNeed=S-1),S):--w<_||S===-2?0:(S=i(v[w]))>=0?(S>0&&(b.lastNeed=S-2),S):--w<_||S===-2?0:(S=i(v[w]))>=0?(S>0&&(S===2?S=0:b.lastNeed=S-3),S):0})(this,f,h);if(!this.lastNeed)return f.toString("utf8",h);this.lastTotal=y;var m=f.length-(y-this.lastNeed);return f.copy(this.lastChar,0,m),f.toString("utf8",h,m)},u.prototype.fillLast=function(f){if(this.lastNeed<=f.length)return f.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);f.copy(this.lastChar,this.lastTotal-this.lastNeed,0,f.length),this.lastNeed-=f.length}},83161:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermXsdToBoolean=void 0;const c=s(77617),o=s(77545),u=s(36424);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.TypeURL.XSD_BOOLEAN],termFunction:!0})}async run(n){return new u.TermFunctionXsdToBoolean}}e.ActorFunctionFactoryTermXsdToBoolean=i},83223:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(6535),e)},83657:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(66338),e)},83658:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorOptimizeQueryOperationRewriteAdd=void 0;const c=s(38912),o=s(90711),u=s(90412),i=s(47793),r=s(96331),n=new i.DataFactory;class t extends c.ActorOptimizeQueryOperation{constructor(l){super(l)}async test(l){return(0,u.passTestVoid)()}async run(l){const d=l.context.getSafe(o.KeysInitQuery.dataFactory),p=new r.Factory(d);return{operation:r.Util.mapOperation(l.operation,{[r.Algebra.types.ADD](f,h){const y=f.destination==="DEFAULT"?n.defaultGraph():f.destination,m=f.source==="DEFAULT"?n.defaultGraph():f.source;return{result:h.createDeleteInsert(void 0,[h.createPattern(n.variable("s"),n.variable("p"),n.variable("o"),y)],h.createPattern(n.variable("s"),n.variable("p"),n.variable("o"),m)),recurse:!1}}},p),context:l.context}}}e.ActorOptimizeQueryOperationRewriteAdd=t},83849:(g,e,s)=>{var c=(function(){var o=function(Ce,Xe,Je,nt){for(Je=Je||{},nt=Ce.length;nt--;Je[Ce[nt]]=Xe);return Je},u=[6,12,13,15,16,24,32,36,41,45,100,110,113,115,116,123,126,131,197,224,229,308,329,330,331,332,333],i=[2,247],r=[100,110,113,115,116,123,126,131,329,330,331,332,333],n=[2,409],t=[1,18],a=[1,27],l=[13,16,45,197,224,229,308],d=[28,29,53],p=[28,53],f=[1,42],h=[1,45],y=[1,41],m=[1,44],b=[123,126],v=[1,67],_=[39,45,87],w=[13,16,45,197,224,308],S=[1,87],x=[2,281],T=[1,86],O=[13,16,45,82,87,89,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312],E=[6,28,29,53,63,70,73,81,83,85],R=[6,13,16,28,29,53,63,70,73,81,83,85,87,308],M=[6,13,16,28,29,45,53,63,70,73,81,82,83,85,87,89,197,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314],Q=[6,13,16,28,29,31,39,45,47,48,53,63,70,73,81,82,83,85,87,89,109,112,121,123,126,128,159,160,161,163,164,174,193,197,224,229,231,232,242,246,250,263,265,272,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314,317,318,335,337,338,340,341,342,343,344,345,346],X=[13,16,308],V=[112,132,327,334],H=[13,16,112,132,308],U=[1,111],k=[1,117],$=[112,132,327,328,334],ae=[13,16,112,132,308,328],he=[28,29,45,53,87],ye=[1,138],I=[1,151],j=[1,128],P=[1,127],L=[1,129],G=[1,140],te=[1,141],W=[1,142],ce=[1,143],de=[1,144],Se=[1,145],ie=[1,147],me=[1,148],oe=[2,457],ve=[1,158],xe=[1,159],q=[1,160],N=[1,152],B=[1,153],J=[1,156],ne=[1,171],re=[1,172],fe=[1,173],_e=[1,174],we=[1,175],Pe=[1,176],je=[1,167],Ie=[1,168],ue=[1,169],ge=[1,170],Me=[1,157],qe=[1,166],Be=[1,161],He=[1,162],Ae=[1,163],Te=[1,164],Ke=[1,165],it=[6,13,16,29,31,45,82,85,87,89,112,159,160,161,163,164,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335],st=[1,195],rt=[6,31,73,81,83,85],pt=[2,285],mt=[1,199],at=[1,201],Ne=[6,31,70,73,81,83,85],F=[2,283],Y=[1,207],ee=[1,218],pe=[1,223],Re=[1,219],Fe=[1,225],Ee=[1,226],De=[1,224],Ue=[6,63,70,73,81,83,85],Ve=[1,236],Ge=[2,334],Ze=[1,243],$e=[1,241],ze=[6,193],ot=[2,349],ht=[2,339],Ye=[28,128],Dt=[47,48,193,272],yt=[47,48,193,242,272],lt=[47,48,193,242,246,272],dt=[47,48,193,242,246,250,263,265,272,290,297,298,299,300,301,302,341,342,343,344,345,346],wt=[39,47,48,193,242,246,250,263,265,272,290,297,298,299,300,301,302,338,341,342,343,344,345,346],Er=[1,271],Bt=[1,270],Et=[6,13,16,29,31,39,45,47,48,70,73,76,78,81,82,83,85,87,89,112,159,160,161,163,164,193,231,242,246,250,263,265,268,269,270,271,272,273,274,276,277,279,280,283,285,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335,338,341,342,343,344,345,346,347,348,349,350,351],Br=[1,281],Vt=[1,280],xt=[13,16,29,31,39,45,47,48,82,85,87,89,112,159,160,161,163,164,174,193,197,224,229,231,232,242,246,250,263,265,272,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314,317,318,335,338,341,342,343,344,345,346],Ct=[45,89],$t=[13,16,29,31,39,45,47,48,82,85,87,89,112,159,160,161,163,164,174,193,197,224,229,231,232,242,246,250,263,265,272,290,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314,317,318,335,338,341,342,343,344,345,346],wn=[13,16,31,82,174,294,295,296,297,298,299,300,301,302,303,304,305,306,308,312],Xr=[31,89],$n=[48,87],sr=[6,13,16,45,48,82,87,89,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,337,338],Gt=[6,13,16,39,45,48,82,87,89,231,263,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,337,338,340],gr=[1,313],Tn=[6,85],qi=[6,31,81,83,85],Bi=[2,361],xr=[2,353],sn=[1,343],On=[31,112,335],Ar=[13,16,29,31,45,48,82,85,87,89,112,159,160,161,163,164,193,197,224,229,231,232,272,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,317,318,335],gi=[13,16,29,31,45,48,82,85,87,89,112,159,160,161,163,164,193,197,224,229,231,232,272,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314,317,318,335],Ui=[6,109,193],jr=[31,112],Ft=[13,16,45,82,87,224,263,265,268,269,270,271,273,274,276,277,279,280,283,285,294,295,296,297,298,299,300,301,302,303,304,305,306,308,312,346,347,348,349,350,351],Gn=[1,390],Sn=[1,391],Lt=[13,16,87,197,308,314],un=[13,16,39,45,82,87,224,263,265,268,269,270,271,273,274,276,277,279,280,283,285,294,295,296,297,298,299,300,301,302,303,304,305,306,308,312,346,347,348,349,350,351],Tt=[1,417],cn=[1,418],En=[13,16,48,197,229,308],mr=[6,31,85],xn=[6,13,16,31,45,73,81,83,85,268,269,270,271,273,274,276,277,279,280,283,285,308,346,347,348,349,350,351],Pr=[6,13,16,29,31,45,73,76,78,81,82,83,85,87,89,112,159,160,161,163,164,231,268,269,270,271,273,274,276,277,279,280,283,285,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335,346,347,348,349,350,351],ln=[29,31,85,112,159,160,161,163,164],Qi=[1,443],Hn=[1,444],Ga=[1,449],Jr=[31,112,193,232,318,335],dr=[13,16,45,48,82,87,89,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312],Ha=[13,16,31,45,48,82,87,89,112,193,231,232,272,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,317,318,335],mi=[13,16,29,31,45,48,82,85,87,89,112,159,160,161,163,164,193,231,232,272,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,317,318,335],zn=[13,16,31,48,82,174,294,295,296,297,298,299,300,301,302,303,304,305,306,308,312],An=[31,45],za=[1,507],Ka=[1,508],jo=[6,13,16,29,31,39,45,47,48,63,70,73,76,78,81,82,83,85,87,89,112,159,160,161,163,164,193,231,242,246,250,263,265,268,269,270,271,272,273,274,276,277,279,280,283,285,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335,336,338,341,342,343,344,345,346,347,348,349,350,351],Vi=[29,31,85,112,159,160,161,163,164,335],jn=[6,13,16,31,45,70,73,81,83,85,87,268,269,270,271,273,274,276,277,279,280,283,285,308,346,347,348,349,350,351],Xa=[13,16,31,45,48,82,87,89,112,193,197,231,232,272,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,317,318,335],Kn=[2,352],$i=[13,16,197,308,314],Gi=[1,565],Pn=[6,13,16,31,45,76,78,81,83,85,87,268,269,270,271,273,274,276,277,279,280,283,285,308,346,347,348,349,350,351],Ja=[13,16,29,31,45,82,85,87,89,112,159,160,161,163,164,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312],nr=[13,16,29,31,45,82,85,87,89,112,159,160,161,163,164,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335],Wa=[13,16,87,308],Ur=[2,364],dn=[29,31,85,112,159,160,161,163,164,193,232,318,335],bi=[31,112,193,232,272,318,335],Ir=[2,359],Xn=[13,16,48,82,174,294,295,296,297,298,299,300,301,302,303,304,305,306,308,312],Nt=[29,31,85,112,159,160,161,163,164,193,232,272,318,335],Wr=[13,16,31,45,82,87,89,112,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312],Jn=[2,347],Hi={trace:function(){},yy:{},symbols_:{error:2,QueryOrUpdate:3,Prologue:4,QueryOrUpdate_group0:5,EOF:6,Query:7,Qry:8,Query_option0:9,Prologue_repetition0:10,BaseDecl:11,BASE:12,IRIREF:13,PrefixDecl:14,PREFIX:15,PNAME_NS:16,SelectClauseWildcard:17,Qry_repetition0:18,WhereClause:19,SolutionModifierNoGroup:20,SelectClauseVars:21,Qry_repetition1:22,SolutionModifier:23,CONSTRUCT:24,ConstructTemplate:25,Qry_repetition2:26,Qry_repetition3:27,WHERE:28,"{":29,Qry_option0:30,"}":31,DESCRIBE:32,Qry_group0:33,Qry_repetition4:34,Qry_option1:35,ASK:36,Qry_repetition5:37,SelectClauseBase:38,"*":39,SelectClauseVars_repetition_plus0:40,SELECT:41,SelectClauseBase_option0:42,SelectClauseItem:43,Var:44,"(":45,Expression:46,AS:47,")":48,SubSelect:49,SubSelect_option0:50,SubSelect_option1:51,DatasetClause:52,FROM:53,DatasetClause_option0:54,iri:55,WhereClause_option0:56,GroupGraphPattern:57,SolutionModifier_option0:58,SolutionModifierNoGroup_option0:59,SolutionModifierNoGroup_option1:60,SolutionModifierNoGroup_option2:61,GroupClause:62,GROUP:63,BY:64,GroupClause_repetition_plus0:65,GroupCondition:66,BuiltInCall:67,FunctionCall:68,HavingClause:69,HAVING:70,HavingClause_repetition_plus0:71,OrderClause:72,ORDER:73,OrderClause_repetition_plus0:74,OrderCondition:75,ASC:76,BrackettedExpression:77,DESC:78,Constraint:79,LimitOffsetClauses:80,LIMIT:81,INTEGER:82,OFFSET:83,ValuesClause:84,VALUES:85,InlineData:86,VAR:87,InlineData_repetition0:88,NIL:89,InlineData_repetition1:90,InlineData_repetition_plus2:91,InlineData_repetition3:92,DataBlock:93,DataBlockValueList:94,DataBlockValueList_repetition_plus0:95,Update:96,Update_repetition0:97,Update1:98,Update_option0:99,LOAD:100,Update1_option0:101,Update1_option1:102,Update1_group0:103,Update1_option2:104,GraphRefAll:105,Update1_group1:106,Update1_option3:107,GraphOrDefault:108,TO:109,CREATE:110,Update1_option4:111,GRAPH:112,INSERTDATA:113,QuadPattern:114,DELETEDATA:115,DELETEWHERE:116,Update1_option5:117,InsertDeleteClause:118,Update1_repetition0:119,IntoGraphClause:120,INTO:121,GraphRef:122,DELETE:123,InsertDeleteClause_option0:124,InsertClause:125,INSERT:126,UsingClause:127,USING:128,UsingClause_option0:129,WithClause:130,WITH:131,DEFAULT:132,GraphOrDefault_option0:133,GraphRefAll_group0:134,Quads:135,Quads_option0:136,Quads_repetition0:137,QuadsNotTriples:138,VarOrIri:139,QuadsNotTriples_option0:140,QuadsNotTriples_option1:141,QuadsNotTriples_option2:142,TriplesTemplate:143,TriplesTemplate_repetition0:144,TriplesSameSubject:145,TriplesTemplate_option0:146,GroupGraphPatternSub:147,GroupGraphPatternSub_option0:148,GroupGraphPatternSub_repetition0:149,GroupGraphPatternSubTail:150,GraphPatternNotTriples:151,GroupGraphPatternSubTail_option0:152,GroupGraphPatternSubTail_option1:153,TriplesBlock:154,TriplesBlock_repetition0:155,TriplesSameSubjectPath:156,TriplesBlock_option0:157,GroupOrUnionGraphPattern:158,OPTIONAL:159,MINUS:160,SERVICE:161,GraphPatternNotTriples_option0:162,FILTER:163,BIND:164,InlineDataOneVar:165,InlineDataFull:166,InlineDataOneVar_repetition0:167,InlineDataFull_repetition0:168,InlineDataFull_repetition_plus1:169,InlineDataFull_repetition2:170,DataBlockValue:171,Literal:172,QuotedTriple:173,UNDEF:174,GroupOrUnionGraphPattern_repetition0:175,ArgList:176,ArgList_option0:177,ArgList_repetition0:178,ExpressionList:179,ExpressionList_repetition0:180,ConstructTemplate_option0:181,ConstructTriples:182,ConstructTriples_repetition0:183,ConstructTriples_option0:184,VarOrTermOrQuotedTP:185,PropertyListNotEmpty:186,TriplesNode:187,PropertyList:188,PropertyList_option0:189,VerbObjectList:190,PropertyListNotEmpty_repetition0:191,SemiOptionalVerbObjectList:192,";":193,SemiOptionalVerbObjectList_option0:194,Verb:195,ObjectList:196,a:197,ObjectList_repetition0:198,Object:199,GraphNode:200,Object_option0:201,PropertyListPathNotEmpty:202,TriplesNodePath:203,TriplesSameSubjectPath_option0:204,O:205,PropertyListPathNotEmpty_repetition0:206,PropertyListPathNotEmptyTail:207,O_group0:208,ObjectListPath:209,ObjectListPath_repetition0:210,ObjectPath:211,GraphNodePath:212,ObjectPath_option0:213,Path:214,Path_repetition0:215,PathSequence:216,PathSequence_repetition0:217,PathEltOrInverse:218,PathElt:219,PathPrimary:220,PathElt_option0:221,PathEltOrInverse_option0:222,IriOrA:223,"!":224,PathNegatedPropertySet:225,PathOneInPropertySet:226,PathNegatedPropertySet_repetition0:227,PathNegatedPropertySet_option0:228,"^":229,TriplesNode_repetition_plus0:230,"[":231,"]":232,TriplesNodePath_repetition_plus0:233,VarOrTermOrQuotedTPExpr:234,VarOrTerm:235,GraphTerm:236,BlankNode:237,ConditionalOrExpression:238,ConditionalAndExpression:239,ConditionalOrExpression_repetition0:240,ConditionalOrExpressionTail:241,"||":242,RelationalExpression:243,ConditionalAndExpression_repetition0:244,ConditionalAndExpressionTail:245,"&&":246,NumericExpression:247,RelationalExpression_group0:248,RelationalExpression_option0:249,IN:250,MultiplicativeExpression:251,NumericExpression_repetition0:252,AdditiveExpressionTail:253,AdditiveExpressionTail_group0:254,NumericLiteralPositive:255,AdditiveExpressionTail_repetition0:256,NumericLiteralNegative:257,AdditiveExpressionTail_repetition1:258,UnaryExpression:259,MultiplicativeExpression_repetition0:260,MultiplicativeExpressionTail:261,MultiplicativeExpressionTail_group0:262,"+":263,PrimaryExpression:264,"-":265,ExprQuotedTP:266,Aggregate:267,FUNC_ARITY0:268,FUNC_ARITY1:269,FUNC_ARITY1_SPARQL_STAR:270,FUNC_ARITY2:271,",":272,FUNC_ARITY3:273,FUNC_ARITY3_SPARQL_STAR:274,BuiltInCall_group0:275,BOUND:276,BNODE:277,BuiltInCall_option0:278,EXISTS:279,COUNT:280,Aggregate_option0:281,Aggregate_group0:282,FUNC_AGGREGATE:283,Aggregate_option1:284,GROUP_CONCAT:285,Aggregate_option2:286,Aggregate_option3:287,GroupConcatSeparator:288,SEPARATOR:289,"=":290,String:291,LANGTAG:292,"^^":293,DECIMAL:294,DOUBLE:295,BOOLEAN:296,INTEGER_POSITIVE:297,DECIMAL_POSITIVE:298,DOUBLE_POSITIVE:299,INTEGER_NEGATIVE:300,DECIMAL_NEGATIVE:301,DOUBLE_NEGATIVE:302,STRING_LITERAL1:303,STRING_LITERAL2:304,STRING_LITERAL_LONG1:305,STRING_LITERAL_LONG2:306,PrefixedName:307,PNAME_LN:308,BLANK_NODE_LABEL:309,ANON:310,QuotedTP:311,"<<":312,qtSubjectOrObject:313,">>":314,DataValueTerm:315,AnnotationPattern:316,"{|":317,"|}":318,AnnotationPatternPath:319,ExprVarOrTerm:320,QueryOrUpdate_group0_option0:321,Prologue_repetition0_group0:322,Qry_group0_repetition_plus0:323,SelectClauseBase_option0_group0:324,DISTINCT:325,REDUCED:326,NAMED:327,SILENT:328,CLEAR:329,DROP:330,ADD:331,MOVE:332,COPY:333,ALL:334,".":335,UNION:336,"|":337,"/":338,PathElt_option0_group0:339,"?":340,"!=":341,"<":342,">":343,"<=":344,">=":345,NOT:346,CONCAT:347,COALESCE:348,SUBSTR:349,REGEX:350,REPLACE:351,$accept:0,$end:1},terminals_:{2:"error",6:"EOF",12:"BASE",13:"IRIREF",15:"PREFIX",16:"PNAME_NS",24:"CONSTRUCT",28:"WHERE",29:"{",31:"}",32:"DESCRIBE",36:"ASK",39:"*",41:"SELECT",45:"(",47:"AS",48:")",53:"FROM",63:"GROUP",64:"BY",70:"HAVING",73:"ORDER",76:"ASC",78:"DESC",81:"LIMIT",82:"INTEGER",83:"OFFSET",85:"VALUES",87:"VAR",89:"NIL",100:"LOAD",109:"TO",110:"CREATE",112:"GRAPH",113:"INSERTDATA",115:"DELETEDATA",116:"DELETEWHERE",121:"INTO",123:"DELETE",126:"INSERT",128:"USING",131:"WITH",132:"DEFAULT",159:"OPTIONAL",160:"MINUS",161:"SERVICE",163:"FILTER",164:"BIND",174:"UNDEF",193:";",197:"a",224:"!",229:"^",231:"[",232:"]",242:"||",246:"&&",250:"IN",263:"+",265:"-",268:"FUNC_ARITY0",269:"FUNC_ARITY1",270:"FUNC_ARITY1_SPARQL_STAR",271:"FUNC_ARITY2",272:",",273:"FUNC_ARITY3",274:"FUNC_ARITY3_SPARQL_STAR",276:"BOUND",277:"BNODE",279:"EXISTS",280:"COUNT",283:"FUNC_AGGREGATE",285:"GROUP_CONCAT",289:"SEPARATOR",290:"=",292:"LANGTAG",293:"^^",294:"DECIMAL",295:"DOUBLE",296:"BOOLEAN",297:"INTEGER_POSITIVE",298:"DECIMAL_POSITIVE",299:"DOUBLE_POSITIVE",300:"INTEGER_NEGATIVE",301:"DECIMAL_NEGATIVE",302:"DOUBLE_NEGATIVE",303:"STRING_LITERAL1",304:"STRING_LITERAL2",305:"STRING_LITERAL_LONG1",306:"STRING_LITERAL_LONG2",308:"PNAME_LN",309:"BLANK_NODE_LABEL",310:"ANON",312:"<<",314:">>",317:"{|",318:"|}",325:"DISTINCT",326:"REDUCED",327:"NAMED",328:"SILENT",329:"CLEAR",330:"DROP",331:"ADD",332:"MOVE",333:"COPY",334:"ALL",335:".",336:"UNION",337:"|",338:"/",340:"?",341:"!=",342:"<",343:">",344:"<=",345:">=",346:"NOT",347:"CONCAT",348:"COALESCE",349:"SUBSTR",350:"REGEX",351:"REPLACE"},productions_:[0,[3,3],[7,2],[4,1],[11,2],[14,3],[8,4],[8,4],[8,5],[8,7],[8,5],[8,4],[17,2],[21,2],[38,2],[43,1],[43,5],[49,4],[49,4],[52,3],[19,2],[23,2],[20,3],[62,3],[66,1],[66,1],[66,3],[66,5],[66,1],[69,2],[72,3],[75,2],[75,2],[75,1],[75,1],[80,2],[80,2],[80,4],[80,4],[84,2],[86,4],[86,4],[86,6],[86,2],[94,3],[96,3],[98,4],[98,3],[98,5],[98,4],[98,2],[98,2],[98,2],[98,5],[120,2],[118,3],[118,1],[125,2],[127,3],[130,2],[108,1],[108,2],[122,2],[105,1],[105,1],[114,3],[135,2],[138,7],[143,3],[57,3],[57,3],[147,2],[150,3],[154,3],[151,1],[151,2],[151,2],[151,3],[151,4],[151,2],[151,6],[151,1],[93,1],[93,1],[165,4],[166,4],[166,6],[171,1],[171,1],[171,1],[171,1],[158,2],[79,1],[79,1],[79,1],[68,2],[176,1],[176,5],[179,1],[179,4],[25,3],[182,3],[145,2],[145,2],[188,1],[186,2],[192,2],[190,2],[195,1],[195,1],[196,2],[199,2],[156,2],[156,2],[202,2],[207,1],[207,2],[205,2],[209,2],[211,2],[214,2],[216,2],[219,2],[218,2],[220,1],[220,2],[220,3],[225,1],[225,1],[225,4],[226,1],[226,2],[187,3],[187,3],[203,3],[203,3],[200,1],[200,1],[212,1],[212,1],[234,1],[235,1],[235,1],[139,1],[139,1],[44,1],[236,1],[236,1],[236,1],[236,1],[46,1],[238,2],[241,2],[239,2],[245,2],[243,1],[243,3],[243,4],[247,2],[253,2],[253,2],[253,2],[251,2],[261,2],[259,2],[259,2],[259,2],[259,1],[264,1],[264,1],[264,1],[264,1],[264,1],[264,1],[264,1],[77,3],[67,1],[67,2],[67,4],[67,4],[67,6],[67,8],[67,8],[67,2],[67,4],[67,2],[67,4],[67,3],[267,5],[267,5],[267,6],[288,4],[172,1],[172,2],[172,3],[172,1],[172,1],[172,1],[172,1],[172,1],[172,1],[255,1],[255,1],[255,1],[257,1],[257,1],[257,1],[291,1],[291,1],[291,1],[291,1],[55,1],[55,1],[307,1],[307,1],[237,1],[237,1],[311,5],[173,5],[313,1],[313,1],[313,1],[313,1],[313,1],[315,1],[315,1],[315,1],[185,1],[185,1],[185,1],[316,3],[319,3],[266,5],[320,1],[320,1],[320,1],[223,1],[223,1],[321,0],[321,1],[5,1],[5,1],[5,1],[9,0],[9,1],[322,1],[322,1],[10,0],[10,2],[18,0],[18,2],[22,0],[22,2],[26,0],[26,2],[27,0],[27,2],[30,0],[30,1],[323,1],[323,2],[33,1],[33,1],[34,0],[34,2],[35,0],[35,1],[37,0],[37,2],[40,1],[40,2],[324,1],[324,1],[42,0],[42,1],[50,0],[50,1],[51,0],[51,1],[54,0],[54,1],[56,0],[56,1],[58,0],[58,1],[59,0],[59,1],[60,0],[60,1],[61,0],[61,1],[65,1],[65,2],[71,1],[71,2],[74,1],[74,2],[88,0],[88,2],[90,0],[90,2],[91,1],[91,2],[92,0],[92,2],[95,1],[95,2],[97,0],[97,4],[99,0],[99,2],[101,0],[101,1],[102,0],[102,1],[103,1],[103,1],[104,0],[104,1],[106,1],[106,1],[106,1],[107,0],[107,1],[111,0],[111,1],[117,0],[117,1],[119,0],[119,2],[124,0],[124,1],[129,0],[129,1],[133,0],[133,1],[134,1],[134,1],[134,1],[136,0],[136,1],[137,0],[137,2],[140,0],[140,1],[141,0],[141,1],[142,0],[142,1],[144,0],[144,3],[146,0],[146,1],[148,0],[148,1],[149,0],[149,2],[152,0],[152,1],[153,0],[153,1],[155,0],[155,3],[157,0],[157,1],[162,0],[162,1],[167,0],[167,2],[168,0],[168,2],[169,1],[169,2],[170,0],[170,2],[175,0],[175,3],[177,0],[177,1],[178,0],[178,3],[180,0],[180,3],[181,0],[181,1],[183,0],[183,3],[184,0],[184,1],[189,0],[189,1],[191,0],[191,2],[194,0],[194,1],[198,0],[198,3],[201,0],[201,1],[204,0],[204,1],[206,0],[206,2],[208,1],[208,1],[210,0],[210,3],[213,0],[213,1],[215,0],[215,3],[217,0],[217,3],[339,1],[339,1],[339,1],[221,0],[221,1],[222,0],[222,1],[227,0],[227,3],[228,0],[228,1],[230,1],[230,2],[233,1],[233,2],[240,0],[240,2],[244,0],[244,2],[248,1],[248,1],[248,1],[248,1],[248,1],[248,1],[249,0],[249,1],[252,0],[252,2],[254,1],[254,1],[256,0],[256,2],[258,0],[258,2],[260,0],[260,2],[262,1],[262,1],[275,1],[275,1],[275,1],[275,1],[275,1],[278,0],[278,1],[281,0],[281,1],[282,1],[282,1],[284,0],[284,1],[286,0],[286,1],[287,0],[287,1]],performAction:function(Ce,Xe,Je,nt,tt,le,Mt){var Zt,Vr,na,ei,be=le.length-1;switch(tt){case 1:if(le[be-1]=le[be-1]||{},ft.base&&(le[be-1].base=ft.base),ft.base="",le[be-1].prefixes=ft.prefixes,ft.prefixes=null,ft.pathOnly){if(le[be-1].type==="path"||"termType"in le[be-1])return le[be-1];throw new Error("Received full SPARQL query in path only mode")}if(le[be-1].type==="path"||"termType"in le[be-1])throw new Error("Received only path in full SPARQL mode");if(le[be-1].type==="update"){const K={};for(const Z of le[be-1].updates)if(Z.updateType==="insert"){const se={};for(const Oe of Z.insert)if(Oe.type==="bgp"||Oe.type==="graph")for(const Le of Oe.triples)Le.subject.termType==="BlankNode"&&(se[Le.subject.value]=!0),Le.predicate.termType==="BlankNode"&&(se[Le.predicate.value]=!0),Le.object.termType==="BlankNode"&&(se[Le.object.value]=!0);for(const Oe of Object.keys(se)){if(K[Oe])throw new Error("Detected reuse blank node across different INSERT DATA clauses");K[Oe]=!0}}}return le[be-1];case 2:this.$={...le[be-1],...le[be],type:"query"};break;case 4:ft.base=hn(le[be]);break;case 5:ft.prefixes||(ft.prefixes={}),le[be-1]=le[be-1].substr(0,le[be-1].length-1),le[be]=hn(le[be]),ft.prefixes[le[be-1]]=le[be];break;case 6:this.$={...le[be-3],...gn(le[be-2]),...le[be-1],...le[be]};break;case 7:if(!ft.skipValidation&&(ra(le[be-3].variables.map(K=>ea(K.expression))).some(K=>K.aggregation==="count"&&!(K.expression instanceof pn))||le[be].group)){for(const K of le[be-3].variables)if(K.termType==="Variable"){if(!le[be].group||!le[be].group.map(Z=>Dn(Z)).includes(Dn(K)))throw Error("Projection of ungrouped variable (?"+Dn(K)+")")}else if(ea(K.expression).length===0){const Z=ta(K.expression);for(const se of Z)if(!le[be].group||!le[be].group.map||!le[be].group.map(Oe=>Dn(Oe)).includes(Dn(se)))throw Error("Use of ungrouped variable in projection of operation (?"+Dn(se)+")")}}const C=le[be-1].where.filter(K=>K.type==="query");if(C.length>0){const K=le[be-3].variables.filter(se=>se.variable&&se.variable.value).map(se=>se.variable.value),Z=ra(C.map(se=>se.variables)).map(se=>se.value||se.variable.value);for(const se of K)if(Z.indexOf(se)>=0)throw Error("Target id of 'AS' (?"+se+") already used in subquery")}this.$=gt(le[be-3],gn(le[be-2]),le[be-1],le[be]);break;case 8:this.$=gt({queryType:"CONSTRUCT",template:le[be-3]},gn(le[be-2]),le[be-1],le[be]);break;case 9:this.$=gt({queryType:"CONSTRUCT",template:le[be-2]=le[be-2]?le[be-2].triples:[]},gn(le[be-5]),{where:[{type:"bgp",triples:Nn([],le[be-2])}]},le[be]);break;case 10:this.$=gt({queryType:"DESCRIBE",variables:le[be-3]==="*"?[new pn]:le[be-3]},gn(le[be-2]),le[be-1],le[be]);break;case 11:this.$=gt({queryType:"ASK"},gn(le[be-2]),le[be-1],le[be]);break;case 12:this.$=gt(le[be-1],{variables:[new pn]});break;case 13:const z=(function(K){const Z=K.slice().sort(),se=[];for(let Oe=0;Oe<Z.length-1;Oe++)Z[Oe+1]==Z[Oe]&&se.push(Z[Oe]);return se})(le[be].map(K=>K.value||K.variable.value));if(z.length>0)throw Error("Two or more of the resulting columns have the same name (?"+z[0]+")");this.$=gt(le[be-1],{variables:le[be]});break;case 14:this.$=gt({queryType:"SELECT"},le[be]&&(le[be-1]=Ut(le[be]),le[be]={},le[be][le[be-1]]=!0,le[be]));break;case 16:case 27:this.$=Yn(le[be-3],{variable:le[be-1]});break;case 17:case 18:this.$=gt(le[be-3],le[be-2],le[be-1],le[be],{type:"query"});break;case 19:case 58:this.$={iri:le[be],named:!!le[be-1]};break;case 20:this.$={where:le[be].patterns};break;case 21:this.$=gt(le[be-1],le[be]);break;case 22:this.$=gt(le[be-2],le[be-1],le[be]);break;case 23:this.$={group:le[be]};break;case 24:case 25:case 28:case 31:case 33:case 34:this.$=Yn(le[be]);break;case 26:this.$=Yn(le[be-1]);break;case 29:this.$={having:le[be]};break;case 30:this.$={order:le[be]};break;case 32:this.$=Yn(le[be],{descending:!0});break;case 35:this.$={limit:mn(le[be])};break;case 36:this.$={offset:mn(le[be])};break;case 37:this.$={limit:mn(le[be-2]),offset:mn(le[be])};break;case 38:this.$={limit:mn(le[be]),offset:mn(le[be-2])};break;case 39:case 43:this.$={type:"values",values:le[be]};break;case 40:case 84:this.$=le[be-1].map(K=>({[le[be-3]]:K}));break;case 41:case 85:this.$=le[be-1].map(()=>({}));break;case 42:case 86:var $r=le[be-4].length;le[be-4]=le[be-4].map(Ki),this.$=le[be-1].map(function(K){if(K.length!==$r)throw Error("Inconsistent VALUES length");for(var Z={},se=0;se<$r;se++)Z["?"+le[be-4][se].value]=K[se];return Z});break;case 44:case 65:case 100:case 126:case 175:this.$=le[be-1];break;case 45:this.$={type:"update",updates:Qr(le[be-2],le[be-1])};break;case 46:this.$=gt({type:"load",silent:!!le[be-2],source:le[be-1]},le[be]&&{destination:le[be]});break;case 47:this.$={type:Ut(le[be-2]),silent:!!le[be-1],graph:le[be]};break;case 48:this.$={type:Ut(le[be-4]),silent:!!le[be-3],source:le[be-2],destination:le[be]};break;case 49:this.$={type:"create",silent:!!le[be-2],graph:{type:"graph",name:le[be]}};break;case 50:this.$={updateType:"insert",insert:io(le[be])};break;case 51:this.$={updateType:"delete",delete:_i(io(le[be]))};break;case 52:this.$={updateType:"deletewhere",delete:_i(le[be])};break;case 53:this.$={updateType:"insertdelete",...le[be-4],...le[be-3],...gn(le[be-2],"using"),where:le[be].patterns};break;case 54:case 57:case 62:case 167:case 191:case 236:this.$=le[be];break;case 55:this.$={delete:_i(le[be-1]),insert:le[be]||[]};break;case 56:this.$={delete:[],insert:le[be]};break;case 59:this.$={graph:le[be]};break;case 60:this.$={type:"graph",default:!0};break;case 61:case 63:this.$={type:"graph",name:le[be]};break;case 64:this.$={[Ut(le[be])]:!0};break;case 66:this.$=le[be-1]?ur(le[be],[le[be-1]]):ur(le[be]);break;case 67:var Mn=gt(le[be-3]||{triples:[]},{type:"graph",name:le[be-5]});this.$=le[be]?[Mn,le[be]]:[Mn];break;case 68:case 73:this.$={type:"bgp",triples:ur(le[be-2],[le[be-1]])};break;case 69:this.$={type:"group",patterns:[le[be-1]]};break;case 70:for(const K of le[be-1].filter(Z=>Z.type==="bind")){const Z=le[be-1].indexOf(K),se=new Set;for(const Oe of le[be-1].slice(0,Z))Oe.type!=="group"&&Oe.type!=="bgp"||Kt(Oe).forEach(Le=>se.add(Le));if(se.has(K.variable.value))throw Error("Variable used to bind is already bound (?"+K.variable.value+")")}this.$={type:"group",patterns:le[be-1]};break;case 71:this.$=le[be-1]?ur([le[be-1]],le[be]):ur(le[be]);break;case 72:this.$=le[be]?[le[be-2],le[be]]:le[be-2];break;case 75:this.$=gt(le[be],{type:"optional"});break;case 76:this.$=gt(le[be],{type:"minus"});break;case 77:this.$=gt(le[be],{type:"graph",name:le[be-1]});break;case 78:this.$=gt(le[be],{type:"service",name:le[be-1],silent:!!le[be-2]});break;case 79:this.$={type:"filter",expression:le[be]};break;case 80:this.$={type:"bind",variable:le[be-1],expression:le[be-3]};break;case 89:this.$=tn(le[be]);break;case 90:this.$=void 0;break;case 91:this.$=le[be-1].length?{type:"union",patterns:ur(le[be-1].map(vi),[vi(le[be])])}:le[be];break;case 95:this.$={...le[be],function:le[be-1]};break;case 96:this.$={type:"functionCall",args:[]};break;case 97:this.$={type:"functionCall",args:Qr(le[be-2],le[be-1]),distinct:!!le[be-3]};break;case 98:case 115:case 128:case 247:case 249:case 251:case 253:case 255:case 263:case 267:case 297:case 299:case 303:case 307:case 328:case 341:case 349:case 355:case 361:case 367:case 369:case 373:case 375:case 379:case 381:case 385:case 391:case 395:case 401:case 405:case 409:case 411:case 420:case 428:case 430:case 440:case 444:case 446:case 448:this.$=[];break;case 99:this.$=Qr(le[be-2],le[be-1]);break;case 101:this.$=ur(le[be-2],[le[be-1]]);break;case 102:case 112:this.$=bn(le[be].map(K=>gt(br(le[be-1]),K)));break;case 103:this.$=bn(Nn(le[be].map(K=>gt(br(le[be-1].entity),K)),le[be-1].triples));break;case 105:this.$=ur([le[be-1]],le[be]);break;case 106:this.$=ur(le[be]);break;case 107:this.$=Zi(le[be-1],le[be]);break;case 109:case 237:this.$=ft.factory.namedNode(Ya);break;case 110:case 118:this.$=Qr(le[be-1],le[be]);break;case 111:this.$=le[be]?{annotation:le[be],object:le[be-1]}:le[be-1];break;case 113:this.$=le[be]?bn(Nn(le[be].map(K=>gt(br(le[be-1].entity),K)),le[be-1].triples)):le[be-1].triples;break;case 114:this.$=Zi(...le[be-1],le[be]);break;case 116:this.$=Zi(...le[be]);break;case 117:case 159:case 163:this.$=[le[be-1],le[be]];break;case 119:this.$=le[be]?{object:le[be-1],annotation:le[be]}:le[be-1];break;case 120:this.$=le[be-1].length?yn("|",Qr(le[be-1],le[be])):le[be];break;case 121:this.$=le[be-1].length?yn("/",Qr(le[be-1],le[be])):le[be];break;case 122:this.$=le[be]?yn(le[be],[le[be-1]]):le[be-1];break;case 123:this.$=le[be-1]?yn(le[be-1],[le[be]]):le[be];break;case 125:case 131:this.$=yn(le[be-1],[le[be]]);break;case 129:this.$=yn("|",Qr(le[be-2],le[be-1]));break;case 132:case 134:this.$=(function(K){var Z=Zr(),se=Z,Oe=[],Le=[];K.forEach(function(ut){Oe.push(ut.entity),Nn(Le,ut.triples)});for(var ke=0,Qe=0,We=Oe.length,et=Array(2*We);ke<We;)et[Qe++]=br(se,ft.factory.namedNode(Wn),Oe[ke]),et[Qe++]=br(se,ft.factory.namedNode(Po),se=++ke<We?Zr():ft.factory.namedNode(Yr));return{entity:Z,triples:Nn(et,Le)}})(le[be-1]);break;case 133:case 135:this.$=(na=le[be-1],{entity:ei=Zr(),triples:na.map(function(K){return gt(br(ei),K)})});break;case 140:this.$={entity:le[be],triples:[]};break;case 145:this.$=Ki(le[be]);break;case 149:this.$=ft.factory.namedNode(Yr);break;case 151:case 153:case 158:case 162:this.$=Xi(le[be-1],le[be]);break;case 152:this.$=["||",le[be]];break;case 154:this.$=["&&",le[be]];break;case 156:this.$=Ht(le[be-1],[le[be-2],le[be]]);break;case 157:this.$=Ht(le[be-2]?"notin":"in",[le[be-3],le[be]]);break;case 160:this.$=["+",Xi(le[be-1],le[be])];break;case 161:var wi=Dr(le[be-1].value.replace("-",""),le[be-1].datatype);this.$=["-",Xi(wi,le[be])];break;case 164:this.$=Ht("UPLUS",[le[be]]);break;case 165:this.$=Ht(le[be-1],[le[be]]);break;case 166:this.$=Ht("UMINUS",[le[be]]);break;case 177:this.$=Ht(Ut(le[be-1]));break;case 178:this.$=Ht(Ut(le[be-3]),[le[be-1]]);break;case 179:this.$=tn(Ht(Ut(le[be-3]),[le[be-1]]));break;case 180:this.$=Ht(Ut(le[be-5]),[le[be-3],le[be-1]]);break;case 181:this.$=Ht(Ut(le[be-7]),[le[be-5],le[be-3],le[be-1]]);break;case 182:this.$=tn(Ht(Ut(le[be-7]),[le[be-5],le[be-3],le[be-1]]));break;case 183:this.$=Ht(Ut(le[be-1]),le[be]);break;case 184:this.$=Ht("bound",[Ki(le[be-1])]);break;case 185:this.$=Ht(le[be-1],[]);break;case 186:this.$=Ht(le[be-3],[le[be-1]]);break;case 187:this.$=Ht(le[be-2]?"notexists":"exists",[vi(le[be])]);break;case 188:case 189:this.$=Yn(le[be-1],{type:"aggregate",aggregation:Ut(le[be-4]),distinct:!!le[be-2]});break;case 190:this.$=Yn(le[be-2],{type:"aggregate",aggregation:Ut(le[be-5]),distinct:!!le[be-3],separator:typeof le[be-1]=="string"?le[be-1]:" "});break;case 192:this.$=Dr(le[be]);break;case 193:this.$=(Zt=le[be-1],Vr=Ut(le[be].substr(1)),ft.factory.literal(Zt,Vr));break;case 194:this.$=Dr(le[be-2],le[be]);break;case 195:case 204:this.$=Dr(le[be],zi);break;case 196:case 205:this.$=Dr(le[be],Za);break;case 197:case 206:this.$=Dr(Ut(le[be]),Nr);break;case 200:this.$=Dr(le[be].toLowerCase(),eo);break;case 201:this.$=Dr(le[be].substr(1),zi);break;case 202:this.$=Dr(le[be].substr(1),Za);break;case 203:this.$=Dr(le[be].substr(1).toLowerCase(),Nr);break;case 207:case 208:this.$=Yi(le[be],1);break;case 209:case 210:this.$=Yi(le[be],3);break;case 211:this.$=ft.factory.namedNode(hn(le[be]));break;case 213:var ia=le[be].indexOf(":"),Xt=le[be].substr(0,ia),A=ft.prefixes[Xt];if(!A)throw new Error("Unknown prefix: "+Xt);var D=hn(A+le[be].substr(ia+1));this.$=ft.factory.namedNode(D);break;case 214:if(le[be]=le[be].substr(0,le[be].length-1),!(le[be]in ft.prefixes))throw new Error("Unknown prefix: "+le[be]);D=hn(ft.prefixes[le[be]]),this.$=ft.factory.namedNode(D);break;case 215:this.$=Zr(le[be].replace(/^(_:)/,""));break;case 216:this.$=Zr();break;case 217:case 218:case 232:this.$=tn(Ji(le[be-3],le[be-2],le[be-1]));break;case 230:case 231:this.$=tn(le[be-1]);break;case 248:case 250:case 252:case 254:case 256:case 260:case 264:case 268:case 270:case 292:case 294:case 296:case 298:case 300:case 302:case 304:case 306:case 329:case 342:case 356:case 368:case 370:case 372:case 374:case 392:case 402:case 425:case 427:case 429:case 431:case 441:case 445:case 447:case 449:le[be-1].push(le[be]);break;case 259:case 269:case 291:case 293:case 295:case 301:case 305:case 371:case 424:case 426:this.$=[le[be]];break;case 308:le[be-3].push(le[be-2]);break;case 350:case 362:case 376:case 380:case 382:case 386:case 396:case 406:case 410:case 412:case 421:le[be-2].push(le[be-1])}},table:[o(u,i,{3:1,4:2,10:3}),{1:[3]},o(r,[2,307],{5:4,7:5,321:6,214:7,8:8,96:9,215:10,17:11,21:12,97:16,38:17,6:[2,238],13:n,16:n,45:n,197:n,224:n,229:n,308:n,24:[1,13],32:[1,14],36:[1,15],41:t}),o([6,13,16,24,32,36,41,45,100,110,113,115,116,123,126,131,197,224,229,308,329,330,331,332,333],[2,3],{322:19,11:20,14:21,12:[1,22],15:[1,23]}),{6:[1,24]},{6:[2,240]},{6:[2,241]},{6:[2,242]},{6:[2,243],9:25,84:26,85:a},{6:[2,239]},o(l,[2,411],{216:28,217:29}),o(d,[2,249],{18:30}),o(d,[2,251],{22:31}),o(p,[2,255],{25:32,27:33,29:[1,34]}),{13:f,16:h,33:35,39:[1,37],44:39,55:40,87:y,139:38,307:43,308:m,323:36},o(d,[2,267],{37:46}),o(b,[2,326],{98:47,103:49,106:50,117:55,130:61,100:[1,48],110:[1,51],113:[1,52],115:[1,53],116:[1,54],131:[1,62],329:[1,56],330:[1,57],331:[1,58],332:[1,59],333:[1,60]}),{39:[1,63],40:64,43:65,44:66,45:v,87:y},o(_,[2,273],{42:68,324:69,325:[1,70],326:[1,71]}),o(u,[2,248]),o(u,[2,245]),o(u,[2,246]),{13:[1,72]},{16:[1,73]},{1:[2,1]},{6:[2,2]},{6:[2,244]},{45:[1,77],85:[1,78],86:74,87:[1,75],89:[1,76]},o([6,13,16,45,48,82,87,89,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312],[2,120],{337:[1,79]}),o(w,[2,418],{218:80,222:81,229:[1,82]}),{19:83,28:S,29:x,52:84,53:T,56:85},{19:88,28:S,29:x,52:89,53:T,56:85},o(d,[2,253],{26:90}),{28:[1,91],52:92,53:T},o(O,[2,385],{181:93,182:94,183:95,31:[2,383]}),o(E,[2,263],{34:96}),o(E,[2,261],{44:39,55:40,307:43,139:97,13:f,16:h,87:y,308:m}),o(E,[2,262]),o(R,[2,259]),o(M,[2,143]),o(M,[2,144]),o([6,13,16,28,29,31,39,45,47,48,53,63,70,73,76,78,81,82,83,85,87,89,112,159,160,161,163,164,193,197,224,229,231,232,242,246,250,263,265,268,269,270,271,272,273,274,276,277,279,280,283,285,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314,317,318,335,338,341,342,343,344,345,346,347,348,349,350,351],[2,145]),o(Q,[2,211]),o(Q,[2,212]),o(Q,[2,213]),o(Q,[2,214]),{19:98,28:S,29:x,52:99,53:T,56:85},{6:[2,309],99:100,193:[1,101]},o(X,[2,311],{101:102,328:[1,103]}),o(V,[2,317],{104:104,328:[1,105]}),o(H,[2,322],{107:106,328:[1,107]}),{111:108,112:[2,324],328:[1,109]},{29:U,114:110},{29:U,114:112},{29:U,114:113},{118:114,123:[1,115],125:116,126:k},o($,[2,315]),o($,[2,316]),o(ae,[2,319]),o(ae,[2,320]),o(ae,[2,321]),o(b,[2,327]),{13:f,16:h,55:118,307:43,308:m},o(d,[2,12]),o(d,[2,13],{44:66,43:119,45:v,87:y}),o(he,[2,269]),o(he,[2,15]),{13:f,16:h,44:136,45:ye,46:120,55:133,67:132,68:134,77:131,82:I,87:y,172:135,224:j,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:P,264:130,265:L,266:137,267:139,268:G,269:te,270:W,271:ce,273:de,274:Se,275:146,276:ie,277:me,278:149,279:oe,280:ve,283:xe,285:q,291:150,294:N,295:B,296:J,297:ne,298:re,299:fe,300:_e,301:we,302:Pe,303:je,304:Ie,305:ue,306:ge,307:43,308:m,312:Me,346:qe,347:Be,348:He,349:Ae,350:Te,351:Ke},o(_,[2,14]),o(_,[2,274]),o(_,[2,271]),o(_,[2,272]),o(u,[2,4]),{13:[1,177]},o(it,[2,39]),{29:[1,178]},{29:[1,179]},{87:[1,181],91:180},{45:[1,187],87:[1,185],89:[1,186],93:182,165:183,166:184},o(l,[2,410]),o([6,13,16,45,48,82,87,89,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,337],[2,121],{338:[1,188]}),{13:f,16:h,45:[1,193],55:194,197:st,219:189,220:190,223:191,224:[1,192],307:43,308:m},o(w,[2,419]),o(rt,pt,{20:196,59:197,69:198,70:mt}),o(d,[2,250]),{29:at,57:200},o(X,[2,279],{54:202,327:[1,203]}),{29:[2,282]},o(Ne,F,{23:204,58:205,62:206,63:Y}),o(d,[2,252]),{19:208,28:S,29:x,52:209,53:T,56:85},{29:[1,210]},o(p,[2,256]),{31:[1,211]},{31:[2,384]},{13:f,16:h,44:215,45:ee,55:220,82:I,87:y,89:pe,145:212,172:221,185:213,187:214,231:Re,236:216,237:222,255:154,257:155,291:150,294:N,295:B,296:J,297:ne,298:re,299:fe,300:_e,301:we,302:Pe,303:je,304:Ie,305:ue,306:ge,307:43,308:m,309:Fe,310:Ee,311:217,312:De},o(Ue,[2,265],{56:85,35:227,52:228,19:229,28:S,29:x,53:T}),o(R,[2,260]),o(Ne,F,{58:205,62:206,23:230,63:Y}),o(d,[2,268]),{6:[2,45]},o(u,i,{10:3,4:231}),{13:f,16:h,55:232,307:43,308:m},o(X,[2,312]),{105:233,112:Ve,122:234,132:[1,237],134:235,327:[1,238],334:[1,239]},o(V,[2,318]),o(X,Ge,{108:240,133:242,112:Ze,132:$e}),o(H,[2,323]),{112:[1,244]},{112:[2,325]},o(ze,[2,50]),o(O,ot,{135:245,136:246,143:247,144:248,31:ht,112:ht}),o(ze,[2,51]),o(ze,[2,52]),o(Ye,[2,328],{119:249}),{29:U,114:250},o(Ye,[2,56]),{29:U,114:251},o(b,[2,59]),o(he,[2,270]),{47:[1,252]},o(Dt,[2,150]),o(yt,[2,428],{240:253}),o(lt,[2,430],{244:254}),o(lt,[2,155],{248:255,249:256,250:[2,438],290:[1,257],341:[1,258],342:[1,259],343:[1,260],344:[1,261],345:[1,262],346:[1,263]}),o(dt,[2,440],{252:264}),o(wt,[2,448],{260:265}),{13:f,16:h,44:136,45:ye,55:133,67:132,68:134,77:131,82:I,87:y,172:135,255:154,257:155,264:266,266:137,267:139,268:G,269:te,270:W,271:ce,273:de,274:Se,275:146,276:ie,277:me,278:149,279:oe,280:ve,283:xe,285:q,291:150,294:N,295:B,296:J,297:ne,298:re,299:fe,300:_e,301:we,302:Pe,303:je,304:Ie,305:ue,306:ge,307:43,308:m,312:Me,346:qe,347:Be,348:He,349:Ae,350:Te,351:Ke},{13:f,16:h,44:136,45:ye,55:133,67:132,68:134,77:131,82:I,87:y,172:135,255:154,257:155,264:267,266:137,267:139,268:G,269:te,270:W,271:ce,273:de,274:Se,275:146,276:ie,277:me,278:149,279:oe,280:ve,283:xe,285:q,291:150,294:N,295:B,296:J,297:ne,298:re,299:fe,300:_e,301:we,302:Pe,303:je,304:Ie,305:ue,306:ge,307:43,308:m,312:Me,346:qe,347:Be,348:He,349:Ae,350:Te,351:Ke},{13:f,16:h,44:136,45:ye,55:133,67:132,68:134,77:131,82:I,87:y,172:135,255:154,257:155,264:268,266:137,267:139,268:G,269:te,270:W,271:ce,273:de,274:Se,275:146,276:ie,277:me,278:149,279:oe,280:ve,283:xe,285:q,291:150,294:N,295:B,296:J,297:ne,298:re,299:fe,300:_e,301:we,302:Pe,303:je,304:Ie,305:ue,306:ge,307:43,308:m,312:Me,346:qe,347:Be,348:He,349:Ae,350:Te,351:Ke},o(wt,[2,167]),o(wt,[2,168]),o(wt,[2,169]),o(wt,[2,170],{176:269,45:Er,89:Bt}),o(wt,[2,171]),o(wt,[2,172]),o(wt,[2,173]),o(wt,[2,174]),{13:f,16:h,44:136,45:ye,46:272,55:133,67:132,68:134,77:131,82:I,87:y,172:135,224:j,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:P,264:130,265:L,266:137,267:139,268:G,269:te,270:W,271:ce,273:de,274:Se,275:146,276:ie,277:me,278:149,279:oe,280:ve,283:xe,285:q,291:150,294:N,295:B,296:J,297:ne,298:re,299:fe,300:_e,301:we,302:Pe,303:je,304:Ie,305:ue,306:ge,307:43,308:m,312:Me,346:qe,347:Be,348:He,349:Ae,350:Te,351:Ke},o(Et,[2,176]),{89:[1,273]},{45:[1,274]},{45:[1,275]},{45:[1,276]},{45:[1,277]},{45:[1,278]},{45:Br,89:Vt,179:279},{45:[1,282]},{45:[1,284],89:[1,283]},{279:[1,285]},o(xt,[2,192],{292:[1,286],293:[1,287]}),o(xt,[2,195]),o(xt,[2,196]),o(xt,[2,197]),o(xt,[2,198]),o(xt,[2,199]),o(xt,[2,200]),{13:f,16:h,44:39,55:40,82:I,87:y,139:289,172:291,255:154,257:155,266:290,291:150,294:N,295:B,296:J,297:ne,298:re,299:fe,300:_e,301:we,302:Pe,303:je,304:Ie,305:ue,306:ge,307:43,308:m,312:Me,320:288},{45:[1,292]},{45:[1,293]},{45:[1,294]},o(Ct,[2,452]),o(Ct,[2,453]),o(Ct,[2,454]),o(Ct,[2,455]),o(Ct,[2,456]),{279:[2,458]},o($t,[2,207]),o($t,[2,208]),o($t,[2,209]),o($t,[2,210]),o(xt,[2,201]),o(xt,[2,202]),o(xt,[2,203]),o(xt,[2,204]),o(xt,[2,205]),o(xt,[2,206]),o(u,[2,5]),o(wn,[2,297],{88:295}),o(Xr,[2,299],{90:296}),{48:[1,297],87:[1,298]},o($n,[2,301]),o(it,[2,43]),o(it,[2,82]),o(it,[2,83]),{29:[1,299]},{29:[1,300]},{87:[1,302],169:301},o(l,[2,412]),o(sr,[2,123]),o(sr,[2,416],{221:303,339:304,39:[1,306],263:[1,307],340:[1,305]}),o(Gt,[2,124]),{13:f,16:h,45:[1,311],55:194,89:[1,310],197:st,223:312,225:308,226:309,229:gr,307:43,308:m},o(l,n,{215:10,214:314}),o(Gt,[2,236]),o(Gt,[2,237]),o(Tn,[2,6]),o(qi,[2,287],{60:315,72:316,73:[1,317]}),o(rt,[2,286]),{13:f,16:h,45:ye,55:323,67:321,68:322,71:318,77:320,79:319,267:139,268:G,269:te,270:W,271:ce,273:de,274:Se,275:146,276:ie,277:me,278:149,279:oe,280:ve,283:xe,285:q,307:43,308:m,346:qe,347:Be,348:He,349:Ae,350:Te,351:Ke},o([6,31,63,70,73,81,83,85],[2,20]),o(O,Bi,{38:17,49:324,147:325,17:326,21:327,148:328,154:329,155:330,29:xr,31:xr,85:xr,112:xr,159:xr,160:xr,161:xr,163:xr,164:xr,41:t}),{13:f,16:h,55:331,307:43,308:m},o(X,[2,280]),o(Tn,[2,7]),o(rt,pt,{59:197,69:198,20:332,70:mt}),o(Ne,[2,284]),{64:[1,333]},o(Ne,F,{58:205,62:206,23:334,63:Y}),o(d,[2,254]),o(O,ot,{144:248,30:335,143:336,31:[2,257]}),o(d,[2,100]),{31:[2,387],184:337,335:[1,338]},{13:f,16:h,44:39,55:40,87:y,139:342,186:339,190:340,195:341,197:sn,307:43,308:m},o(On,[2,389],{44:39,55:40,307:43,190:340,195:341,139:342,188:344,189:345,186:346,13:f,16:h,87:y,197:sn,308:m}),o(Ar,[2,227]),o(Ar,[2,228]),o(Ar,[2,229]),{13:f,16:h,44:215,45:ee,55:220,82:I,87:y,89:pe,172:221,185:351,187:350,200:348,230:347,231:Re,234:349,236:216,237:222,255:154,257:155,291:150,294:N,295:B,296:J,297:ne,298:re,299:fe,300:_e,301:we,302:Pe,303:je,304:Ie,305:ue,306:ge,307:43,308:m,309:Fe,310:Ee,311:217,312:De},{13:f,16:h,44:39,55:40,87:y,139:342,186:352,190:340,195:341,197:sn,307:43,308:m},o(Ar,[2,146]),o(Ar,[2,147]),o(Ar,[2,148]),o(Ar,[2,149]),{13:f,16:h,44:354,55:355,82:I,87:y,172:357,237:356,255:154,257:155,291:150,294:N,295:B,296:J,297:ne,298:re,299:fe,300:_e,301:we,302:Pe,303:je,304:Ie,305:ue,306:ge,307:43,308:m,309:Fe,310:Ee,311:358,312:De,313:353},o(gi,[2,215]),o(gi,[2,216]),o(Ne,F,{58:205,62:206,23:359,63:Y}),o(E,[2,264]),o(Ue,[2,266]),o(Tn,[2,11]),o(r,[2,308],{6:[2,310]}),o(ze,[2,313],{102:360,120:361,121:[1,362]}),o(ze,[2,47]),o(ze,[2,63]),o(ze,[2,64]),{13:f,16:h,55:363,307:43,308:m},o(ze,[2,336]),o(ze,[2,337]),o(ze,[2,338]),{109:[1,364]},o(Ui,[2,60]),{13:f,16:h,55:365,307:43,308:m},o(X,[2,335]),{13:f,16:h,55:366,307:43,308:m},{31:[1,367]},o(jr,[2,341],{137:368}),o(jr,[2,340]),{13:f,16:h,44:215,45:ee,55:220,82:I,87:y,89:pe,145:369,172:221,185:213,187:214,231:Re,236:216,237:222,255:154,257:155,291:150,294:N,295:B,296:J,297:ne,298:re,299:fe,300:_e,301:we,302:Pe,303:je,304:Ie,305:ue,306:ge,307:43,308:m,309:Fe,310:Ee,311:217,312:De},{28:[1,370],127:371,128:[1,372]},o(Ye,[2,330],{124:373,125:374,126:k}),o(Ye,[2,57]),{44:375,87:y},o(Dt,[2,151],{241:376,242:[1,377]}),o(yt,[2,153],{245:378,246:[1,379]}),{13:f,16:h,44:136,45:ye,55:133,67:132,68:134,77:131,82:I,87:y,172:135,224:j,247:380,251:125,255:154,257:155,259:126,263:P,264:130,265:L,266:137,267:139,268:G,269:te,270:W,271:ce,273:de,274:Se,275:146,276:ie,277:me,278:149,279:oe,280:ve,283:xe,285:q,291:150,294:N,295:B,296:J,297:ne,298:re,299:fe,300:_e,301:we,302:Pe,303:je,304:Ie,305:ue,306:ge,307:43,308:m,312:Me,346:qe,347:Be,348:He,349:Ae,350:Te,351:Ke},{250:[1,381]},o(Ft,[2,432]),o(Ft,[2,433]),o(Ft,[2,434]),o(Ft,[2,435]),o(Ft,[2,436]),o(Ft,[2,437]),{250:[2,439]},o([47,48,193,242,246,250,272,290,341,342,343,344,345,346],[2,158],{253:382,254:383,255:384,257:385,263:[1,386],265:[1,387],297:ne,298:re,299:fe,300:_e,301:we,302:Pe}),o(dt,[2,162],{261:388,262:389,39:Gn,338:Sn}),o(wt,[2,164]),o(wt,[2,165]),o(wt,[2,166]),o(Et,[2,95]),o(Et,[2,96]),o(Ft,[2,377],{177:392,325:[1,393]}),{48:[1,394]},o(Et,[2,177]),{13:f,16:h,44:136,45:ye,46:395,55:133,67:132,68:134,77:131,82:I,87:y,172:135,224:j,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:P,264:130,265:L,266:137,267:139,268:G,269:te,270:W,271:ce,273:de,274:Se,275:146,276:ie,277:me,278:149,279:oe,280:ve,283:xe,285:q,291:150,294:N,295:B,296:J,297:ne,298:re,299:fe,300:_e,301:we,302:Pe,303:je,304:Ie,305:ue,306:ge,307:43,308:m,312:Me,346:qe,347:Be,348:He,349:Ae,350:Te,351:Ke},{13:f,16:h,44:136,45:ye,46:396,55:133,67:132,68:134,77:131,82:I,87:y,172:135,224:j,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:P,264:130,265:L,266:137,267:139,268:G,269:te,270:W,271:ce,273:de,274:Se,275:146,276:ie,277:me,278:149,279:oe,280:ve,283:xe,285:q,291:150,294:N,295:B,296:J,297:ne,298:re,299:fe,300:_e,301:we,302:Pe,303:je,304:Ie,305:ue,306:ge,307:43,308:m,312:Me,346:qe,347:Be,348:He,349:Ae,350:Te,351:Ke},{13:f,16:h,44:136,45:ye,46:397,55:133,67:132,68:134,77:131,82:I,87:y,172:135,224:j,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:P,264:130,265:L,266:137,267:139,268:G,269:te,270:W,271:ce,273:de,274:Se,275:146,276:ie,277:me,278:149,279:oe,280:ve,283:xe,285:q,291:150,294:N,295:B,296:J,297:ne,298:re,299:fe,300:_e,301:we,302:Pe,303:je,304:Ie,305:ue,306:ge,307:43,308:m,312:Me,346:qe,347:Be,348:He,349:Ae,350:Te,351:Ke},{13:f,16:h,44:136,45:ye,46:398,55:133,67:132,68:134,77:131,82:I,87:y,172:135,224:j,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:P,264:130,265:L,266:137,267:139,268:G,269:te,270:W,271:ce,273:de,274:Se,275:146,276:ie,277:me,278:149,279:oe,280:ve,283:xe,285:q,291:150,294:N,295:B,296:J,297:ne,298:re,299:fe,300:_e,301:we,302:Pe,303:je,304:Ie,305:ue,306:ge,307:43,308:m,312:Me,346:qe,347:Be,348:He,349:Ae,350:Te,351:Ke},{13:f,16:h,44:136,45:ye,46:399,55:133,67:132,68:134,77:131,82:I,87:y,172:135,224:j,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:P,264:130,265:L,266:137,267:139,268:G,269:te,270:W,271:ce,273:de,274:Se,275:146,276:ie,277:me,278:149,279:oe,280:ve,283:xe,285:q,291:150,294:N,295:B,296:J,297:ne,298:re,299:fe,300:_e,301:we,302:Pe,303:je,304:Ie,305:ue,306:ge,307:43,308:m,312:Me,346:qe,347:Be,348:He,349:Ae,350:Te,351:Ke},o(Et,[2,183]),o(Et,[2,98]),o(Ft,[2,381],{180:400}),{87:[1,401]},o(Et,[2,185]),{13:f,16:h,44:136,45:ye,46:402,55:133,67:132,68:134,77:131,82:I,87:y,172:135,224:j,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:P,264:130,265:L,266:137,267:139,268:G,269:te,270:W,271:ce,273:de,274:Se,275:146,276:ie,277:me,278:149,279:oe,280:ve,283:xe,285:q,291:150,294:N,295:B,296:J,297:ne,298:re,299:fe,300:_e,301:we,302:Pe,303:je,304:Ie,305:ue,306:ge,307:43,308:m,312:Me,346:qe,347:Be,348:He,349:Ae,350:Te,351:Ke},{29:at,57:403},o(xt,[2,193]),{13:f,16:h,55:404,307:43,308:m},{13:f,16:h,44:39,55:40,87:y,139:342,195:405,197:sn,307:43,308:m},o(Lt,[2,233]),o(Lt,[2,234]),o(Lt,[2,235]),o(un,[2,459],{281:406,325:[1,407]}),o(Ft,[2,463],{284:408,325:[1,409]}),o(Ft,[2,465],{286:410,325:[1,411]}),{13:f,16:h,31:[1,412],55:414,82:I,171:413,172:415,173:416,174:Tt,255:154,257:155,291:150,294:N,295:B,296:J,297:ne,298:re,299:fe,300:_e,301:we,302:Pe,303:je,304:Ie,305:ue,306:ge,307:43,308:m,312:cn},{31:[1,419],89:[1,420]},{29:[1,421]},o($n,[2,302]),o(wn,[2,367],{167:422}),o(Xr,[2,369],{168:423}),{48:[1,424],87:[1,425]},o($n,[2,371]),o(sr,[2,122]),o(sr,[2,417]),o(sr,[2,413]),o(sr,[2,414]),o(sr,[2,415]),o(Gt,[2,125]),o(Gt,[2,127]),o(Gt,[2,128]),o(En,[2,420],{227:426}),o(Gt,[2,130]),{13:f,16:h,55:194,197:st,223:427,307:43,308:m},{48:[1,428]},o(mr,[2,289],{61:429,80:430,81:[1,431],83:[1,432]}),o(qi,[2,288]),{64:[1,433]},o(rt,[2,29],{307:43,267:139,275:146,278:149,77:320,67:321,68:322,55:323,79:434,13:f,16:h,45:ye,268:G,269:te,270:W,271:ce,273:de,274:Se,276:ie,277:me,279:oe,280:ve,283:xe,285:q,308:m,346:qe,347:Be,348:He,349:Ae,350:Te,351:Ke}),o(xn,[2,293]),o(Pr,[2,92]),o(Pr,[2,93]),o(Pr,[2,94]),{45:Er,89:Bt,176:269},{31:[1,435]},{31:[1,436]},{19:437,28:S,29:x,56:85},{19:438,28:S,29:x,56:85},o(ln,[2,355],{149:439}),o(ln,[2,354]),{13:f,16:h,44:215,45:Qi,55:220,82:I,87:y,89:pe,156:440,172:221,185:441,203:442,231:Hn,236:216,237:222,255:154,257:155,291:150,294:N,295:B,296:J,297:ne,298:re,299:fe,300:_e,301:we,302:Pe,303:je,304:Ie,305:ue,306:ge,307:43,308:m,309:Fe,310:Ee,311:217,312:De},o(E,[2,19]),o(mr,[2,21]),{13:f,16:h,44:450,45:Ga,55:323,65:445,66:446,67:447,68:448,87:y,267:139,268:G,269:te,270:W,271:ce,273:de,274:Se,275:146,276:ie,277:me,278:149,279:oe,280:ve,283:xe,285:q,307:43,308:m,346:qe,347:Be,348:He,349:Ae,350:Te,351:Ke},o(Tn,[2,8]),{31:[1,451]},{31:[2,258]},{31:[2,101]},o(O,[2,386],{31:[2,388]}),o(On,[2,102]),o(Jr,[2,391],{191:452}),o(O,[2,395],{196:453,198:454}),o(O,[2,108]),o(O,[2,109]),o(On,[2,103]),o(On,[2,104]),o(On,[2,390]),{13:f,16:h,44:215,45:ee,48:[1,455],55:220,82:I,87:y,89:pe,172:221,185:351,187:350,200:456,231:Re,234:349,236:216,237:222,255:154,257:155,291:150,294:N,295:B,296:J,297:ne,298:re,299:fe,300:_e,301:we,302:Pe,303:je,304:Ie,305:ue,306:ge,307:43,308:m,309:Fe,310:Ee,311:217,312:De},o(dr,[2,424]),o(Ha,[2,136]),o(Ha,[2,137]),o(mi,[2,140]),{232:[1,457]},{13:f,16:h,44:39,55:40,87:y,139:342,195:458,197:sn,307:43,308:m},o(Lt,[2,219]),o(Lt,[2,220]),o(Lt,[2,221]),o(Lt,[2,222]),o(Lt,[2,223]),o(Tn,[2,10]),o(ze,[2,46]),o(ze,[2,314]),{112:Ve,122:459},o(ze,[2,62]),o(X,Ge,{133:242,108:460,112:Ze,132:$e}),o(Ui,[2,61]),o(ze,[2,49]),o([6,28,126,128,193],[2,65]),{31:[2,66],112:[1,462],138:461},o(jr,[2,351],{146:463,335:[1,464]}),{29:at,57:465},o(Ye,[2,329]),o(X,[2,332],{129:466,327:[1,467]}),o(Ye,[2,55]),o(Ye,[2,331]),{48:[1,468]},o(yt,[2,429]),{13:f,16:h,44:136,45:ye,55:133,67:132,68:134,77:131,82:I,87:y,172:135,224:j,239:469,243:123,247:124,251:125,255:154,257:155,259:126,263:P,264:130,265:L,266:137,267:139,268:G,269:te,270:W,271:ce,273:de,274:Se,275:146,276:ie,277:me,278:149,279:oe,280:ve,283:xe,285:q,291:150,294:N,295:B,296:J,297:ne,298:re,299:fe,300:_e,301:we,302:Pe,303:je,304:Ie,305:ue,306:ge,307:43,308:m,312:Me,346:qe,347:Be,348:He,349:Ae,350:Te,351:Ke},o(lt,[2,431]),{13:f,16:h,44:136,45:ye,55:133,67:132,68:134,77:131,82:I,87:y,172:135,224:j,243:470,247:124,251:125,255:154,257:155,259:126,263:P,264:130,265:L,266:137,267:139,268:G,269:te,270:W,271:ce,273:de,274:Se,275:146,276:ie,277:me,278:149,279:oe,280:ve,283:xe,285:q,291:150,294:N,295:B,296:J,297:ne,298:re,299:fe,300:_e,301:we,302:Pe,303:je,304:Ie,305:ue,306:ge,307:43,308:m,312:Me,346:qe,347:Be,348:He,349:Ae,350:Te,351:Ke},o(lt,[2,156]),{45:Br,89:Vt,179:471},o(dt,[2,441]),{13:f,16:h,44:136,45:ye,55:133,67:132,68:134,77:131,82:I,87:y,172:135,224:j,251:472,255:154,257:155,259:126,263:P,264:130,265:L,266:137,267:139,268:G,269:te,270:W,271:ce,273:de,274:Se,275:146,276:ie,277:me,278:149,279:oe,280:ve,283:xe,285:q,291:150,294:N,295:B,296:J,297:ne,298:re,299:fe,300:_e,301:we,302:Pe,303:je,304:Ie,305:ue,306:ge,307:43,308:m,312:Me,346:qe,347:Be,348:He,349:Ae,350:Te,351:Ke},o(wt,[2,444],{256:473}),o(wt,[2,446],{258:474}),o(Ft,[2,442]),o(Ft,[2,443]),o(wt,[2,449]),{13:f,16:h,44:136,45:ye,55:133,67:132,68:134,77:131,82:I,87:y,172:135,224:j,255:154,257:155,259:475,263:P,264:130,265:L,266:137,267:139,268:G,269:te,270:W,271:ce,273:de,274:Se,275:146,276:ie,277:me,278:149,279:oe,280:ve,283:xe,285:q,291:150,294:N,295:B,296:J,297:ne,298:re,299:fe,300:_e,301:we,302:Pe,303:je,304:Ie,305:ue,306:ge,307:43,308:m,312:Me,346:qe,347:Be,348:He,349:Ae,350:Te,351:Ke},o(Ft,[2,450]),o(Ft,[2,451]),o(Ft,[2,379],{178:476}),o(Ft,[2,378]),o([6,13,16,29,31,39,45,47,48,73,76,78,81,82,83,85,87,89,112,159,160,161,163,164,193,231,242,246,250,263,265,268,269,270,271,272,273,274,276,277,279,280,283,285,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335,338,341,342,343,344,345,346,347,348,349,350,351],[2,175]),{48:[1,477]},{48:[1,478]},{272:[1,479]},{272:[1,480]},{272:[1,481]},{13:f,16:h,44:136,45:ye,46:482,55:133,67:132,68:134,77:131,82:I,87:y,172:135,224:j,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:P,264:130,265:L,266:137,267:139,268:G,269:te,270:W,271:ce,273:de,274:Se,275:146,276:ie,277:me,278:149,279:oe,280:ve,283:xe,285:q,291:150,294:N,295:B,296:J,297:ne,298:re,299:fe,300:_e,301:we,302:Pe,303:je,304:Ie,305:ue,306:ge,307:43,308:m,312:Me,346:qe,347:Be,348:He,349:Ae,350:Te,351:Ke},{48:[1,483]},{48:[1,484]},o(Et,[2,187]),o(xt,[2,194]),{13:f,16:h,44:39,55:40,82:I,87:y,139:289,172:291,255:154,257:155,266:290,291:150,294:N,295:B,296:J,297:ne,298:re,299:fe,300:_e,301:we,302:Pe,303:je,304:Ie,305:ue,306:ge,307:43,308:m,312:Me,320:485},{13:f,16:h,39:[1,487],44:136,45:ye,46:488,55:133,67:132,68:134,77:131,82:I,87:y,172:135,224:j,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:P,264:130,265:L,266:137,267:139,268:G,269:te,270:W,271:ce,273:de,274:Se,275:146,276:ie,277:me,278:149,279:oe,280:ve,282:486,283:xe,285:q,291:150,294:N,295:B,296:J,297:ne,298:re,299:fe,300:_e,301:we,302:Pe,303:je,304:Ie,305:ue,306:ge,307:43,308:m,312:Me,346:qe,347:Be,348:He,349:Ae,350:Te,351:Ke},o(un,[2,460]),{13:f,16:h,44:136,45:ye,46:489,55:133,67:132,68:134,77:131,82:I,87:y,172:135,224:j,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:P,264:130,265:L,266:137,267:139,268:G,269:te,270:W,271:ce,273:de,274:Se,275:146,276:ie,277:me,278:149,279:oe,280:ve,283:xe,285:q,291:150,294:N,295:B,296:J,297:ne,298:re,299:fe,300:_e,301:we,302:Pe,303:je,304:Ie,305:ue,306:ge,307:43,308:m,312:Me,346:qe,347:Be,348:He,349:Ae,350:Te,351:Ke},o(Ft,[2,464]),{13:f,16:h,44:136,45:ye,46:490,55:133,67:132,68:134,77:131,82:I,87:y,172:135,224:j,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:P,264:130,265:L,266:137,267:139,268:G,269:te,270:W,271:ce,273:de,274:Se,275:146,276:ie,277:me,278:149,279:oe,280:ve,283:xe,285:q,291:150,294:N,295:B,296:J,297:ne,298:re,299:fe,300:_e,301:we,302:Pe,303:je,304:Ie,305:ue,306:ge,307:43,308:m,312:Me,346:qe,347:Be,348:He,349:Ae,350:Te,351:Ke},o(Ft,[2,466]),o(it,[2,40]),o(wn,[2,298]),o(zn,[2,87]),o(zn,[2,88]),o(zn,[2,89]),o(zn,[2,90]),{13:f,16:h,55:492,82:I,172:493,255:154,257:155,291:150,294:N,295:B,296:J,297:ne,298:re,299:fe,300:_e,301:we,302:Pe,303:je,304:Ie,305:ue,306:ge,307:43,308:m,311:494,312:De,315:491},o(it,[2,41]),o(Xr,[2,300]),o(An,[2,303],{92:495}),{13:f,16:h,31:[1,496],55:414,82:I,171:497,172:415,173:416,174:Tt,255:154,257:155,291:150,294:N,295:B,296:J,297:ne,298:re,299:fe,300:_e,301:we,302:Pe,303:je,304:Ie,305:ue,306:ge,307:43,308:m,312:cn},{31:[1,498],89:[1,499]},{29:[1,500]},o($n,[2,372]),{13:f,16:h,48:[2,422],55:194,197:st,223:312,226:502,228:501,229:gr,307:43,308:m},o(Gt,[2,131]),o(Gt,[2,126]),o(mr,[2,22]),o(mr,[2,290]),{82:[1,503]},{82:[1,504]},{13:f,16:h,44:510,45:ye,55:323,67:321,68:322,74:505,75:506,76:za,77:320,78:Ka,79:509,87:y,267:139,268:G,269:te,270:W,271:ce,273:de,274:Se,275:146,276:ie,277:me,278:149,279:oe,280:ve,283:xe,285:q,307:43,308:m,346:qe,347:Be,348:He,349:Ae,350:Te,351:Ke},o(xn,[2,294]),o(jo,[2,69]),o(jo,[2,70]),o(rt,pt,{59:197,69:198,20:511,70:mt}),o(Ne,F,{58:205,62:206,23:512,63:Y}),{29:[2,375],31:[2,71],84:522,85:a,112:[1,518],150:513,151:514,158:515,159:[1,516],160:[1,517],161:[1,519],163:[1,520],164:[1,521],175:523},o(ln,[2,363],{157:524,335:[1,525]}),o(l,n,{215:10,202:526,205:527,208:528,214:529,44:530,87:y}),o(Vi,[2,399],{215:10,205:527,208:528,214:529,44:530,204:531,202:532,13:n,16:n,45:n,197:n,224:n,229:n,308:n,87:y}),{13:f,16:h,44:215,45:Qi,55:220,82:I,87:y,89:pe,172:221,185:351,203:536,212:534,231:Hn,233:533,234:535,236:216,237:222,255:154,257:155,291:150,294:N,295:B,296:J,297:ne,298:re,299:fe,300:_e,301:we,302:Pe,303:je,304:Ie,305:ue,306:ge,307:43,308:m,309:Fe,310:Ee,311:217,312:De},o(l,n,{215:10,205:527,208:528,214:529,44:530,202:537,87:y}),o(Ne,[2,23],{307:43,267:139,275:146,278:149,55:323,67:447,68:448,44:450,66:538,13:f,16:h,45:Ga,87:y,268:G,269:te,270:W,271:ce,273:de,274:Se,276:ie,277:me,279:oe,280:ve,283:xe,285:q,308:m,346:qe,347:Be,348:He,349:Ae,350:Te,351:Ke}),o(jn,[2,291]),o(jn,[2,24]),o(jn,[2,25]),{13:f,16:h,44:136,45:ye,46:539,55:133,67:132,68:134,77:131,82:I,87:y,172:135,224:j,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:P,264:130,265:L,266:137,267:139,268:G,269:te,270:W,271:ce,273:de,274:Se,275:146,276:ie,277:me,278:149,279:oe,280:ve,283:xe,285:q,291:150,294:N,295:B,296:J,297:ne,298:re,299:fe,300:_e,301:we,302:Pe,303:je,304:Ie,305:ue,306:ge,307:43,308:m,312:Me,346:qe,347:Be,348:He,349:Ae,350:Te,351:Ke},o(jn,[2,28]),o(Ne,F,{58:205,62:206,23:540,63:Y}),o([31,112,232,318,335],[2,105],{192:541,193:[1,542]}),o(Jr,[2,107]),{13:f,16:h,44:215,45:ee,55:220,82:I,87:y,89:pe,172:221,185:351,187:350,199:543,200:544,231:Re,234:349,236:216,237:222,255:154,257:155,291:150,294:N,295:B,296:J,297:ne,298:re,299:fe,300:_e,301:we,302:Pe,303:je,304:Ie,305:ue,306:ge,307:43,308:m,309:Fe,310:Ee,311:217,312:De},o(Xa,[2,132]),o(dr,[2,425]),o(Xa,[2,133]),{13:f,16:h,44:354,55:355,82:I,87:y,172:357,237:356,255:154,257:155,291:150,294:N,295:B,296:J,297:ne,298:re,299:fe,300:_e,301:we,302:Pe,303:je,304:Ie,305:ue,306:ge,307:43,308:m,309:Fe,310:Ee,311:358,312:De,313:545},o(ze,[2,54]),o(ze,[2,48]),o(jr,[2,342]),{13:f,16:h,44:39,55:40,87:y,139:546,307:43,308:m},o(jr,[2,68]),o(O,[2,350],{31:Kn,112:Kn}),o(ze,[2,53]),{13:f,16:h,55:547,307:43,308:m},o(X,[2,333]),o(he,[2,16]),o(yt,[2,152]),o(lt,[2,154]),o(lt,[2,157]),o(dt,[2,159]),o(dt,[2,160],{262:389,261:548,39:Gn,338:Sn}),o(dt,[2,161],{262:389,261:549,39:Gn,338:Sn}),o(wt,[2,163]),{13:f,16:h,44:136,45:ye,46:550,55:133,67:132,68:134,77:131,82:I,87:y,172:135,224:j,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:P,264:130,265:L,266:137,267:139,268:G,269:te,270:W,271:ce,273:de,274:Se,275:146,276:ie,277:me,278:149,279:oe,280:ve,283:xe,285:q,291:150,294:N,295:B,296:J,297:ne,298:re,299:fe,300:_e,301:we,302:Pe,303:je,304:Ie,305:ue,306:ge,307:43,308:m,312:Me,346:qe,347:Be,348:He,349:Ae,350:Te,351:Ke},o(Et,[2,178]),o(Et,[2,179]),{13:f,16:h,44:136,45:ye,46:551,55:133,67:132,68:134,77:131,82:I,87:y,172:135,224:j,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:P,264:130,265:L,266:137,267:139,268:G,269:te,270:W,271:ce,273:de,274:Se,275:146,276:ie,277:me,278:149,279:oe,280:ve,283:xe,285:q,291:150,294:N,295:B,296:J,297:ne,298:re,299:fe,300:_e,301:we,302:Pe,303:je,304:Ie,305:ue,306:ge,307:43,308:m,312:Me,346:qe,347:Be,348:He,349:Ae,350:Te,351:Ke},{13:f,16:h,44:136,45:ye,46:552,55:133,67:132,68:134,77:131,82:I,87:y,172:135,224:j,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:P,264:130,265:L,266:137,267:139,268:G,269:te,270:W,271:ce,273:de,274:Se,275:146,276:ie,277:me,278:149,279:oe,280:ve,283:xe,285:q,291:150,294:N,295:B,296:J,297:ne,298:re,299:fe,300:_e,301:we,302:Pe,303:je,304:Ie,305:ue,306:ge,307:43,308:m,312:Me,346:qe,347:Be,348:He,349:Ae,350:Te,351:Ke},{13:f,16:h,44:136,45:ye,46:553,55:133,67:132,68:134,77:131,82:I,87:y,172:135,224:j,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:P,264:130,265:L,266:137,267:139,268:G,269:te,270:W,271:ce,273:de,274:Se,275:146,276:ie,277:me,278:149,279:oe,280:ve,283:xe,285:q,291:150,294:N,295:B,296:J,297:ne,298:re,299:fe,300:_e,301:we,302:Pe,303:je,304:Ie,305:ue,306:ge,307:43,308:m,312:Me,346:qe,347:Be,348:He,349:Ae,350:Te,351:Ke},{48:[1,554],272:[1,555]},o(Et,[2,184]),o(Et,[2,186]),{314:[1,556]},{48:[1,557]},{48:[2,461]},{48:[2,462]},{48:[1,558]},{48:[2,467],193:[1,561],287:559,288:560},{13:f,16:h,55:194,197:st,223:562,307:43,308:m},o($i,[2,224]),o($i,[2,225]),o($i,[2,226]),{31:[1,563],45:Gi,94:564},o(it,[2,84]),o(wn,[2,368]),o(it,[2,85]),o(Xr,[2,370]),o(An,[2,373],{170:566}),{48:[1,567]},{48:[2,423],337:[1,568]},o(mr,[2,35],{83:[1,569]}),o(mr,[2,36],{81:[1,570]}),o(qi,[2,30],{307:43,267:139,275:146,278:149,77:320,67:321,68:322,55:323,79:509,44:510,75:571,13:f,16:h,45:ye,76:za,78:Ka,87:y,268:G,269:te,270:W,271:ce,273:de,274:Se,276:ie,277:me,279:oe,280:ve,283:xe,285:q,308:m,346:qe,347:Be,348:He,349:Ae,350:Te,351:Ke}),o(Pn,[2,295]),{45:ye,77:572},{45:ye,77:573},o(Pn,[2,33]),o(Pn,[2,34]),{31:[2,275],50:574,84:575,85:a},{31:[2,277],51:576,84:577,85:a},o(ln,[2,356]),o(Ja,[2,357],{152:578,335:[1,579]}),o(nr,[2,74]),{29:at,57:580},{29:at,57:581},{13:f,16:h,44:39,55:40,87:y,139:582,307:43,308:m},o(Wa,[2,365],{162:583,328:[1,584]}),{13:f,16:h,45:ye,55:323,67:321,68:322,77:320,79:585,267:139,268:G,269:te,270:W,271:ce,273:de,274:Se,275:146,276:ie,277:me,278:149,279:oe,280:ve,283:xe,285:q,307:43,308:m,346:qe,347:Be,348:He,349:Ae,350:Te,351:Ke},{45:[1,586]},o(nr,[2,81]),{29:at,57:587},o(ln,[2,73]),o(O,[2,362],{29:Ur,31:Ur,85:Ur,112:Ur,159:Ur,160:Ur,161:Ur,163:Ur,164:Ur}),o(Vi,[2,112]),o(dn,[2,401],{206:588}),o(O,[2,405],{209:589,210:590}),o(O,[2,403]),o(O,[2,404]),o(Vi,[2,113]),o(Vi,[2,400]),{13:f,16:h,44:215,45:Qi,48:[1,591],55:220,82:I,87:y,89:pe,172:221,185:351,203:536,212:592,231:Hn,234:535,236:216,237:222,255:154,257:155,291:150,294:N,295:B,296:J,297:ne,298:re,299:fe,300:_e,301:we,302:Pe,303:je,304:Ie,305:ue,306:ge,307:43,308:m,309:Fe,310:Ee,311:217,312:De},o(dr,[2,426]),o(mi,[2,138]),o(mi,[2,139]),{232:[1,593]},o(jn,[2,292]),{47:[1,595],48:[1,594]},o(Tn,[2,9]),o(Jr,[2,392]),o(Jr,[2,393],{44:39,55:40,307:43,195:341,139:342,194:596,190:597,13:f,16:h,87:y,197:sn,308:m}),o(Jr,[2,110],{272:[1,598]}),o(bi,[2,397],{201:599,316:600,317:[1,601]}),{314:[1,602]},{29:[1,603]},o(Ye,[2,58]),o(wt,[2,445]),o(wt,[2,447]),{48:[1,604],272:[1,605]},{48:[1,606]},{272:[1,607]},{272:[1,608]},o(Et,[2,99]),o(Ft,[2,382]),o([13,16,39,47,48,87,193,197,242,246,250,263,265,272,290,297,298,299,300,301,302,308,314,338,341,342,343,344,345,346],[2,232]),o(Et,[2,188]),o(Et,[2,189]),{48:[1,609]},{48:[2,468]},{289:[1,610]},{13:f,16:h,55:492,82:I,172:493,255:154,257:155,291:150,294:N,295:B,296:J,297:ne,298:re,299:fe,300:_e,301:we,302:Pe,303:je,304:Ie,305:ue,306:ge,307:43,308:m,311:494,312:De,315:611},o(it,[2,42]),o(An,[2,304]),{13:f,16:h,55:414,82:I,95:612,171:613,172:415,173:416,174:Tt,255:154,257:155,291:150,294:N,295:B,296:J,297:ne,298:re,299:fe,300:_e,301:we,302:Pe,303:je,304:Ie,305:ue,306:ge,307:43,308:m,312:cn},{31:[1,614],45:Gi,94:615},o(Gt,[2,129]),o(En,[2,421]),{82:[1,616]},{82:[1,617]},o(Pn,[2,296]),o(Pn,[2,31]),o(Pn,[2,32]),{31:[2,17]},{31:[2,276]},{31:[2,18]},{31:[2,278]},o(O,Bi,{155:330,153:618,154:619,29:Ir,31:Ir,85:Ir,112:Ir,159:Ir,160:Ir,161:Ir,163:Ir,164:Ir}),o(Ja,[2,358]),o(nr,[2,75]),o(nr,[2,76]),{29:at,57:620},{13:f,16:h,44:39,55:40,87:y,139:621,307:43,308:m},o(Wa,[2,366]),o(nr,[2,79]),{13:f,16:h,44:136,45:ye,46:622,55:133,67:132,68:134,77:131,82:I,87:y,172:135,224:j,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:P,264:130,265:L,266:137,267:139,268:G,269:te,270:W,271:ce,273:de,274:Se,275:146,276:ie,277:me,278:149,279:oe,280:ve,283:xe,285:q,291:150,294:N,295:B,296:J,297:ne,298:re,299:fe,300:_e,301:we,302:Pe,303:je,304:Ie,305:ue,306:ge,307:43,308:m,312:Me,346:qe,347:Be,348:He,349:Ae,350:Te,351:Ke},o(nr,[2,91],{336:[1,623]}),o([29,31,85,112,159,160,161,163,164,232,318,335],[2,114],{207:624,193:[1,625]}),o(dn,[2,117]),{13:f,16:h,44:215,45:Qi,55:220,82:I,87:y,89:pe,172:221,185:351,203:536,211:626,212:627,231:Hn,234:535,236:216,237:222,255:154,257:155,291:150,294:N,295:B,296:J,297:ne,298:re,299:fe,300:_e,301:we,302:Pe,303:je,304:Ie,305:ue,306:ge,307:43,308:m,309:Fe,310:Ee,311:217,312:De},o(Ar,[2,134]),o(dr,[2,427]),o(Ar,[2,135]),o(jn,[2,26]),{44:628,87:y},o(Jr,[2,106]),o(Jr,[2,394]),o(O,[2,396]),o(bi,[2,111]),o(bi,[2,398]),{13:f,16:h,44:39,55:40,87:y,139:342,186:629,190:340,195:341,197:sn,307:43,308:m},o(gi,[2,217]),o(O,ot,{144:248,140:630,143:631,31:[2,343]}),o(Et,[2,97]),o(Ft,[2,380]),o(Et,[2,180]),{13:f,16:h,44:136,45:ye,46:632,55:133,67:132,68:134,77:131,82:I,87:y,172:135,224:j,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:P,264:130,265:L,266:137,267:139,268:G,269:te,270:W,271:ce,273:de,274:Se,275:146,276:ie,277:me,278:149,279:oe,280:ve,283:xe,285:q,291:150,294:N,295:B,296:J,297:ne,298:re,299:fe,300:_e,301:we,302:Pe,303:je,304:Ie,305:ue,306:ge,307:43,308:m,312:Me,346:qe,347:Be,348:He,349:Ae,350:Te,351:Ke},{13:f,16:h,44:136,45:ye,46:633,55:133,67:132,68:134,77:131,82:I,87:y,172:135,224:j,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:P,264:130,265:L,266:137,267:139,268:G,269:te,270:W,271:ce,273:de,274:Se,275:146,276:ie,277:me,278:149,279:oe,280:ve,283:xe,285:q,291:150,294:N,295:B,296:J,297:ne,298:re,299:fe,300:_e,301:we,302:Pe,303:je,304:Ie,305:ue,306:ge,307:43,308:m,312:Me,346:qe,347:Be,348:He,349:Ae,350:Te,351:Ke},o(Et,[2,190]),{290:[1,634]},{314:[1,635]},{13:f,16:h,48:[1,636],55:414,82:I,171:637,172:415,173:416,174:Tt,255:154,257:155,291:150,294:N,295:B,296:J,297:ne,298:re,299:fe,300:_e,301:we,302:Pe,303:je,304:Ie,305:ue,306:ge,307:43,308:m,312:cn},o(Xn,[2,305]),o(it,[2,86]),o(An,[2,374]),o(mr,[2,37]),o(mr,[2,38]),o(ln,[2,72]),o(ln,[2,360]),o(nr,[2,77]),{29:at,57:638},{47:[1,639]},{29:[2,376]},o(dn,[2,402]),o(dn,[2,115],{215:10,208:528,214:529,44:530,205:640,13:n,16:n,45:n,197:n,224:n,229:n,308:n,87:y}),o(dn,[2,118],{272:[1,641]}),o(Nt,[2,407],{213:642,319:643,317:[1,644]}),{48:[1,645]},{318:[1,646]},{31:[1,647]},{31:[2,344]},{48:[1,648]},{48:[1,649]},{291:650,303:je,304:Ie,305:ue,306:ge},o(zn,[2,218]),o(An,[2,44]),o(Xn,[2,306]),o(nr,[2,78]),{44:651,87:y},o(dn,[2,116]),o(O,[2,406]),o(Nt,[2,119]),o(Nt,[2,408]),o(l,n,{215:10,205:527,208:528,214:529,44:530,202:652,87:y}),o(jn,[2,27]),o(bi,[2,230]),o(Wr,[2,345],{141:653,335:[1,654]}),o(Et,[2,181]),o(Et,[2,182]),{48:[2,191]},{48:[1,655]},{318:[1,656]},o(O,ot,{144:248,142:657,143:658,31:Jn,112:Jn}),o(Wr,[2,346]),o(nr,[2,80]),o(Nt,[2,231]),o(jr,[2,67]),o(jr,[2,348])],defaultActions:{5:[2,240],6:[2,241],7:[2,242],9:[2,239],24:[2,1],25:[2,2],26:[2,244],87:[2,282],94:[2,384],100:[2,45],109:[2,325],166:[2,458],263:[2,439],336:[2,258],337:[2,101],487:[2,461],488:[2,462],560:[2,468],574:[2,17],575:[2,276],576:[2,18],577:[2,278],623:[2,376],631:[2,344],650:[2,191]},parseError:function(Ce,Xe){if(!Xe.recoverable){var Je=new Error(Ce);throw Je.hash=Xe,Je}this.trace(Ce)},parse:function(Ce){var Xe=this,Je=[0],nt=[null],tt=[],le=this.table,Mt="",Zt=0,Vr=0,na=0,ei=tt.slice.call(arguments,1),be=Object.create(this.lexer),$r={yy:{}};for(var Mn in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Mn)&&($r.yy[Mn]=this.yy[Mn]);be.setInput(Ce,$r.yy),$r.yy.lexer=be,$r.yy.parser=this,be.yylloc===void 0&&(be.yylloc={});var wi=be.yylloc;tt.push(wi);var ia=be.options&&be.options.ranges;typeof $r.yy.parseError=="function"?this.parseError=$r.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var Xt,A,D,C,z,K,Z,se,Oe,Le=function(){var We;return typeof(We=be.lex()||1)!="number"&&(We=Xe.symbols_[We]||We),We},ke={};;){if(D=Je[Je.length-1],this.defaultActions[D]?C=this.defaultActions[D]:(Xt==null&&(Xt=Le()),C=le[D]&&le[D][Xt]),C===void 0||!C.length||!C[0]){var Qe;for(K in Oe=[],le[D])this.terminals_[K]&&K>2&&Oe.push("'"+this.terminals_[K]+"'");Qe=be.showPosition?"Parse error on line "+(Zt+1)+`:
`+be.showPosition()+`
Expecting `+Oe.join(", ")+", got '"+(this.terminals_[Xt]||Xt)+"'":"Parse error on line "+(Zt+1)+": Unexpected "+(Xt==1?"end of input":"'"+(this.terminals_[Xt]||Xt)+"'"),this.parseError(Qe,{text:be.match,token:this.terminals_[Xt]||Xt,line:be.yylineno,loc:wi,expected:Oe})}if(C[0]instanceof Array&&C.length>1)throw new Error("Parse Error: multiple actions possible at state: "+D+", token: "+Xt);switch(C[0]){case 1:Je.push(Xt),nt.push(be.yytext),tt.push(be.yylloc),Je.push(C[1]),Xt=null,A?(Xt=A,A=null):(Vr=be.yyleng,Mt=be.yytext,Zt=be.yylineno,wi=be.yylloc,na>0);break;case 2:if(Z=this.productions_[C[1]][1],ke.$=nt[nt.length-Z],ke._$={first_line:tt[tt.length-(Z||1)].first_line,last_line:tt[tt.length-1].last_line,first_column:tt[tt.length-(Z||1)].first_column,last_column:tt[tt.length-1].last_column},ia&&(ke._$.range=[tt[tt.length-(Z||1)].range[0],tt[tt.length-1].range[1]]),(z=this.performAction.apply(ke,[Mt,Vr,Zt,$r.yy,C[1],nt,tt].concat(ei)))!==void 0)return z;Z&&(Je=Je.slice(0,-1*Z*2),nt=nt.slice(0,-1*Z),tt=tt.slice(0,-1*Z)),Je.push(this.productions_[C[1]][0]),nt.push(ke.$),tt.push(ke._$),se=le[Je[Je.length-2]][Je[Je.length-1]],Je.push(se);break;case 3:return!0}}return!0}},pn=s(23637).Wildcard,In="http://www.w3.org/1999/02/22-rdf-syntax-ns#",Ya=In+"type",Wn=In+"first",Po=In+"rest",Yr=In+"nil",fn="http://www.w3.org/2001/XMLSchema#",zi=fn+"integer",Za=fn+"decimal",Nr=fn+"double",eo=fn+"boolean",Rr="",to="",ro="";function Ut(Ce){return Ce.toLowerCase()}function Qr(Ce,Xe){return Ce.push(Xe),Ce}function Nn(Ce,Xe){return Ce.push.apply(Ce,Xe),Ce}function gt(Ce){Ce||(Ce={});for(var Xe,Je=1,nt=arguments.length;Je<nt&&(Xe=arguments[Je]||{});Je++)for(var tt in Xe)Ce[tt]=Xe[tt];return Ce}function ur(){for(var Ce=[],Xe=0,Je=arguments.length;Xe<Je;Xe++)Ce=Ce.concat.apply(Ce,arguments[Xe]);return Ce}function hn(Ce){if(Ce[0]==="<"&&(Ce=Ce.substring(1,Ce.length-1)),/^[a-z][a-z0-9.+-]*:/i.test(Ce))return Ce;if(!ft.base)throw new Error("Cannot resolve relative IRI "+Ce+" because no base IRI was set.");switch(Rr!==ft.base&&(Rr=ft.base,to=Rr.replace(/[^\/:]*$/,""),ro=Rr.match(/^(?:[a-z]+:\/*)?[^\/]*/)[0]),Ce[0]){case void 0:return Rr;case"#":return Rr+Ce;case"?":return Rr.replace(/(?:\?.*)?$/,Ce);case"/":return ro+Ce;default:return to+Ce}}function Ki(Ce){if(Ce){var Xe=Ce[0];if(Xe==="?"||Xe==="$")return ft.factory.variable(Ce.substr(1))}return Ce}function Ht(Ce,Xe){return{type:"operation",operator:Ce,args:Xe||[]}}function Yn(Ce,Xe){var Je={expression:Ce==="*"?new pn:Ce};if(Xe)for(var nt in Xe)Je[nt]=Xe[nt];return Je}function yn(Ce,Xe){return{type:"path",pathType:Ce,items:Xe}}function Xi(Ce,Xe){for(var Je,nt=0,tt=Xe.length;nt<tt&&(Je=Xe[nt]);nt++)Ce=Ht(Je[0],[Ce,Je[1]]);return Ce}function gn(Ce,Xe){var Je,nt=[],tt=[],le=Ce.length,Mt={};if(!le)return null;for(var Zt=0;Zt<le&&(Je=Ce[Zt]);Zt++)(Je.named?tt:nt).push(Je.iri);return Mt[Xe||"from"]={default:nt,named:tt},Mt}function mn(Ce){return parseInt(Ce,10)}function vi(Ce){return Ce.type==="group"&&Ce.patterns.length===1?Ce.patterns[0]:Ce}function Dr(Ce,Xe){return Xe&&Xe.termType!=="NamedNode"&&(Xe=ft.factory.namedNode(Xe)),ft.factory.literal(Ce,Xe)}function Ji(Ce,Xe,Je){if(!("termType"in Xe))throw new Error("Nested triples cannot contain paths");return ft.factory.quad(Ce,Xe,Je)}function br(Ce,Xe,Je,nt){var tt={};return Ce!=null&&(tt.subject=Ce),Xe!=null&&(tt.predicate=Xe),Je!=null&&(tt.object=Je),nt!=null&&(tt.annotations=nt),tt}function Zr(Ce){return typeof Ce=="string"?Ce.startsWith("e_")?ft.factory.blankNode(Ce):ft.factory.blankNode("e_"+Ce):ft.factory.blankNode("g_"+no++)}var no=0;ft._resetBlanks=function(){no=0};var zt=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\(.)/g,Wi={"\\":"\\","'":"'",'"':'"',t:"	",b:"\b",n:`
`,r:"\r",f:"\f"},Io=/[\uD800-\uDBFF]([^\uDC00-\uDFFF]|$)/,Rn=String.fromCharCode;function Yi(Ce,Xe){Ce=Ce.substring(Xe,Ce.length-Xe);try{Ce=Ce.replace(zt,function(Je,nt,tt,le){var Mt;if(nt){if(Mt=parseInt(nt,16),isNaN(Mt))throw new Error;return Rn(Mt)}if(tt){if(Mt=parseInt(tt,16),isNaN(Mt))throw new Error;return Mt<65535?Rn(Mt):Rn(55296+((Mt-=65536)>>10),56320+(1023&Mt))}var Zt=Wi[le];if(!Zt)throw new Error;return Zt})}catch{return""}if(Io.exec(Ce))throw new Error("Invalid unicode codepoint of surrogate pair without corresponding codepoint in "+Ce);return Ce}function Zi(Ce,Xe,Je){var nt=[],tt=[];return Xe.forEach(function(le){let Mt=null;le.annotation&&(Mt=le.annotation,le=le.object),nt.push(br(null,Ce,le.entity,Mt)),Nn(tt,le.triples)}),ur(nt,Je||[],tt)}function Dn(Ce){return Ce.variable?Ce.variable.value:Ce.value||Ce.expression.value}function ea(Ce){if(!Ce)return[];if(Ce.type==="aggregate")return[Ce];if(Ce.type==="operation"){const Xe=[];for(const Je of Ce.args)Xe.push(...ea(Je));return Xe}return[]}function ta(Ce){const Xe=new Set,Je=function(nt){nt&&(nt.termType==="Variable"?Xe.add(nt):nt.type==="operation"&&nt.args.forEach(Je))};return Je(Ce),Xe}function ra(Ce,Xe=1,Je=[]){for(const nt of Ce)Xe>0&&nt instanceof Array?ra(nt,Xe-1,Je):Je.push(nt);return Je}function en(Ce){return Ce.termType==="Variable"}function Kt(Ce){if(Ce.triples){const Xe=[];for(const Je of Ce.triples)en(Je.subject)&&Xe.push(Je.subject.value),en(Je.predicate)&&Xe.push(Je.predicate.value),en(Je.object)&&Xe.push(Je.object.value);return Xe}if(Ce.patterns){const Xe=[];for(const Je of Ce.patterns)Xe.push(...Kt(Je));return Xe}return[]}function tn(Ce){if(!ft.sparqlStar)throw new Error("SPARQL-star support is not enabled");return Ce}function Fn(Ce,Xe,Je){for(const nt of Xe){const tt=br("subject"in nt?nt.subject:Ce,nt.predicate,nt.object);Je.push(tt),nt.annotations&&Fn(Ji(Ce,nt.predicate,nt.object),nt.annotations,Je)}}function bn(Ce){if(ft.sparqlStar){const Xe=[];return Ce.forEach(Je=>{const nt=br(Je.subject,Je.predicate,Je.object);Xe.push(nt),Je.annotations&&Fn(Ji(Je.subject,Je.predicate,Je.object),Je.annotations,Xe)}),Xe}return Ce}function io(Ce){for(const Xe of Ce){if(Xe.type==="graph"&&Xe.name.termType==="Variable")throw new Error("Detected illegal variable in GRAPH");if(Xe.type==="bgp"||Xe.type==="graph"){for(const Je of Xe.triples)if(Je.subject.termType==="Variable"||Je.predicate.termType==="Variable"||Je.object.termType==="Variable")throw new Error("Detected illegal variable in BGP")}}return Ce}function _i(Ce){for(const Xe of Ce)if(Xe.type==="bgp"){for(const Je of Xe.triples)if(Je.subject.termType==="BlankNode"||Je.predicate.termType==="BlankNode"||Je.object.termType==="BlankNode")throw new Error("Detected illegal blank node in BGP")}return Ce}var Zn={EOF:1,parseError:function(Ce,Xe){if(!this.yy.parser)throw new Error(Ce);this.yy.parser.parseError(Ce,Xe)},setInput:function(Ce,Xe){return this.yy=Xe||this.yy||{},this._input=Ce,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var Ce=this._input[0];return this.yytext+=Ce,this.yyleng++,this.offset++,this.match+=Ce,this.matched+=Ce,Ce.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Ce},unput:function(Ce){var Xe=Ce.length,Je=Ce.split(/(?:\r\n?|\n)/g);this._input=Ce+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Xe),this.offset-=Xe;var nt=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Je.length-1&&(this.yylineno-=Je.length-1);var tt=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Je?(Je.length===nt.length?this.yylloc.first_column:0)+nt[nt.length-Je.length].length-Je[0].length:this.yylloc.first_column-Xe},this.options.ranges&&(this.yylloc.range=[tt[0],tt[0]+this.yyleng-Xe]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(Ce){this.unput(this.match.slice(Ce))},pastInput:function(){var Ce=this.matched.substr(0,this.matched.length-this.match.length);return(Ce.length>20?"...":"")+Ce.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Ce=this.match;return Ce.length<20&&(Ce+=this._input.substr(0,20-Ce.length)),(Ce.substr(0,20)+(Ce.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var Ce=this.pastInput(),Xe=new Array(Ce.length+1).join("-");return Ce+this.upcomingInput()+`
`+Xe+"^"},test_match:function(Ce,Xe){var Je,nt,tt;if(this.options.backtrack_lexer&&(tt={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(tt.yylloc.range=this.yylloc.range.slice(0))),(nt=Ce[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=nt.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:nt?nt[nt.length-1].length-nt[nt.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Ce[0].length},this.yytext+=Ce[0],this.match+=Ce[0],this.matches=Ce,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Ce[0].length),this.matched+=Ce[0],Je=this.performAction.call(this,this.yy,this,Xe,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Je)return Je;if(this._backtrack){for(var le in tt)this[le]=tt[le];return!1}return!1},next:function(){if(this.done)return this.EOF;var Ce,Xe,Je,nt;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var tt=this._currentRules(),le=0;le<tt.length;le++)if((Je=this._input.match(this.rules[tt[le]]))&&(!Xe||Je[0].length>Xe[0].length)){if(Xe=Je,nt=le,this.options.backtrack_lexer){if((Ce=this.test_match(Je,tt[le]))!==!1)return Ce;if(this._backtrack){Xe=!1;continue}return!1}if(!this.options.flex)break}return Xe?(Ce=this.test_match(Xe,tt[nt]))!==!1&&Ce:this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(Ce){this.conditionStack.push(Ce)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Ce){return(Ce=this.conditionStack.length-1-Math.abs(Ce||0))>=0?this.conditionStack[Ce]:"INITIAL"},pushState:function(Ce){this.begin(Ce)},stateStackSize:function(){return this.conditionStack.length},options:{flex:!0,"case-insensitive":!0},performAction:function(Ce,Xe,Je,nt){switch(Je){case 0:break;case 1:return 12;case 2:return 15;case 3:return 41;case 4:return 325;case 5:return 326;case 6:return 45;case 7:return 47;case 8:return 48;case 9:return 39;case 10:return 24;case 11:return 28;case 12:return 29;case 13:return 31;case 14:return 32;case 15:return 36;case 16:return 53;case 17:return 327;case 18:return 63;case 19:return 64;case 20:return 70;case 21:return 73;case 22:return 76;case 23:return 78;case 24:return 81;case 25:return 83;case 26:return 85;case 27:return 193;case 28:return 100;case 29:return 328;case 30:return 121;case 31:return 329;case 32:return 330;case 33:return 110;case 34:return 331;case 35:return 109;case 36:return 332;case 37:return 333;case 38:return 113;case 39:return 115;case 40:return 116;case 41:return 131;case 42:return 123;case 43:return 126;case 44:return 128;case 45:return 132;case 46:return 112;case 47:return 334;case 48:return 335;case 49:return 159;case 50:return 161;case 51:return 164;case 52:return 174;case 53:return 160;case 54:return 336;case 55:return 163;case 56:return 312;case 57:return 314;case 58:return 317;case 59:return 318;case 60:return 272;case 61:return 197;case 62:return 337;case 63:return 338;case 64:return 229;case 65:return 340;case 66:return 263;case 67:return 224;case 68:return 231;case 69:return 232;case 70:return 242;case 71:return 246;case 72:return 290;case 73:return 341;case 74:return 342;case 75:return 343;case 76:return 344;case 77:return 345;case 78:return 250;case 79:return 346;case 80:return 265;case 81:return 276;case 82:return 277;case 83:return 268;case 84:return 269;case 85:return 270;case 86:return 271;case 87:return 347;case 88:return 348;case 89:return 273;case 90:return 274;case 91:return 350;case 92:return 349;case 93:return 351;case 94:return 279;case 95:return 280;case 96:return 283;case 97:return 285;case 98:return 289;case 99:return 293;case 100:return 296;case 101:return 13;case 102:return 16;case 103:return 308;case 104:return 309;case 105:return 87;case 106:return 292;case 107:return 82;case 108:return 294;case 109:return 295;case 110:return 297;case 111:return 298;case 112:return 299;case 113:return 300;case 114:return 301;case 115:return 302;case 116:return"EXPONENT";case 117:return 303;case 118:return 304;case 119:return 305;case 120:return 306;case 121:return 89;case 122:return 310;case 123:return 6;case 124:return"INVALID";case 125:console.log(Xe.yytext)}},rules:[/^(?:\s+|(#[^\n\r]*))/i,/^(?:BASE)/i,/^(?:PREFIX)/i,/^(?:SELECT)/i,/^(?:DISTINCT)/i,/^(?:REDUCED)/i,/^(?:\()/i,/^(?:AS)/i,/^(?:\))/i,/^(?:\*)/i,/^(?:CONSTRUCT)/i,/^(?:WHERE)/i,/^(?:\{)/i,/^(?:\})/i,/^(?:DESCRIBE)/i,/^(?:ASK)/i,/^(?:FROM)/i,/^(?:NAMED)/i,/^(?:GROUP)/i,/^(?:BY)/i,/^(?:HAVING)/i,/^(?:ORDER)/i,/^(?:ASC)/i,/^(?:DESC)/i,/^(?:LIMIT)/i,/^(?:OFFSET)/i,/^(?:VALUES)/i,/^(?:;)/i,/^(?:LOAD)/i,/^(?:SILENT)/i,/^(?:INTO)/i,/^(?:CLEAR)/i,/^(?:DROP)/i,/^(?:CREATE)/i,/^(?:ADD)/i,/^(?:TO)/i,/^(?:MOVE)/i,/^(?:COPY)/i,/^(?:INSERT((\s+|(#[^\n\r]*)\n\r?)+)DATA)/i,/^(?:DELETE((\s+|(#[^\n\r]*)\n\r?)+)DATA)/i,/^(?:DELETE((\s+|(#[^\n\r]*)\n\r?)+)WHERE)/i,/^(?:WITH)/i,/^(?:DELETE)/i,/^(?:INSERT)/i,/^(?:USING)/i,/^(?:DEFAULT)/i,/^(?:GRAPH)/i,/^(?:ALL)/i,/^(?:\.)/i,/^(?:OPTIONAL)/i,/^(?:SERVICE)/i,/^(?:BIND)/i,/^(?:UNDEF)/i,/^(?:MINUS)/i,/^(?:UNION)/i,/^(?:FILTER)/i,/^(?:<<)/i,/^(?:>>)/i,/^(?:\{\|)/i,/^(?:\|\})/i,/^(?:,)/i,/^(?:a)/i,/^(?:\|)/i,/^(?:\/)/i,/^(?:\^)/i,/^(?:\?)/i,/^(?:\+)/i,/^(?:!)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:\|\|)/i,/^(?:&&)/i,/^(?:=)/i,/^(?:!=)/i,/^(?:<)/i,/^(?:>)/i,/^(?:<=)/i,/^(?:>=)/i,/^(?:IN)/i,/^(?:NOT)/i,/^(?:-)/i,/^(?:BOUND)/i,/^(?:BNODE)/i,/^(?:(RAND|NOW|UUID|STRUUID))/i,/^(?:(LANG|DATATYPE|IRI|URI|ABS|CEIL|FLOOR|ROUND|STRLEN|STR|UCASE|LCASE|ENCODE_FOR_URI|YEAR|MONTH|DAY|HOURS|MINUTES|SECONDS|TIMEZONE|TZ|MD5|SHA1|SHA256|SHA384|SHA512|isIRI|isURI|isBLANK|isLITERAL|isNUMERIC))/i,/^(?:(SUBJECT|PREDICATE|OBJECT|isTRIPLE))/i,/^(?:(LANGMATCHES|CONTAINS|STRSTARTS|STRENDS|STRBEFORE|STRAFTER|STRLANG|STRDT|sameTerm))/i,/^(?:CONCAT)/i,/^(?:COALESCE)/i,/^(?:IF)/i,/^(?:TRIPLE)/i,/^(?:REGEX)/i,/^(?:SUBSTR)/i,/^(?:REPLACE)/i,/^(?:EXISTS)/i,/^(?:COUNT)/i,/^(?:SUM|MIN|MAX|AVG|SAMPLE)/i,/^(?:GROUP_CONCAT)/i,/^(?:SEPARATOR)/i,/^(?:\^\^)/i,/^(?:true|false)/i,/^(?:(<(?:[^<>\"\{\}\|\^`\\\u0000-\u0020])*>))/i,/^(?:((([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.)*(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040]))?)?:))/i,/^(?:(((([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.)*(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040]))?)?:)((?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|:|[0-9]|((%([0-9A-Fa-f])([0-9A-Fa-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.|:|((%([0-9A-Fa-f])([0-9A-Fa-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))*(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|:|((%([0-9A-Fa-f])([0-9A-Fa-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%)))))?)))/i,/^(?:(_:(?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9])(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.)*(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040]))?))/i,/^(?:([\?\$]((?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9])(?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])*)))/i,/^(?:(@[a-zA-Z]+(?:-[a-zA-Z0-9]+)*))/i,/^(?:([0-9]+))/i,/^(?:([0-9]*\.[0-9]+))/i,/^(?:([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+)))/i,/^(?:(\+([0-9]+)))/i,/^(?:(\+([0-9]*\.[0-9]+)))/i,/^(?:(\+([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+))))/i,/^(?:(-([0-9]+)))/i,/^(?:(-([0-9]*\.[0-9]+)))/i,/^(?:(-([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+))))/i,/^(?:([eE][+-]?[0-9]+))/i,/^(?:('(?:(?:[^\u0027\u005C\u000A\u000D])|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])))*'))/i,/^(?:("(?:(?:[^\u0022\u005C\u000A\u000D])|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])))*"))/i,/^(?:('''(?:(?:'|'')?(?:[^'\\]|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f]))))*'''))/i,/^(?:("""(?:(?:"|"")?(?:[^\"\\]|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f]))))*"""))/i,/^(?:(\((\u0020|\u0009|\u000D|\u000A)*\)))/i,/^(?:(\[(\u0020|\u0009|\u000D|\u000A)*\]))/i,/^(?:$)/i,/^(?:.)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125],inclusive:!0}}};function ft(){this.yy={}}return Hi.lexer=Zn,ft.prototype=Hi,Hi.Parser=ft,new ft})();g.exports=c},83893:function(g,e,s){var c=this&&this.__asyncValues||function(a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l,d=a[Symbol.asyncIterator];return d?d.call(a):(a=typeof __values=="function"?__values(a):a[Symbol.iterator](),l={},p("next"),p("throw"),p("return"),l[Symbol.asyncIterator]=function(){return this},l);function p(f){l[f]=a[f]&&function(h){return new Promise(function(y,m){(function(b,v,_,w){Promise.resolve(w).then(function(S){b({value:S,done:_})},v)})(y,m,(h=a[f](h)).done,h.value)})}}},o=this&&this.__await||function(a){return this instanceof o?(this.v=a,this):new o(a)},u=this&&this.__asyncGenerator||function(a,l,d){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var p,f=d.apply(a,l||[]),h=[];return p={},y("next"),y("throw"),y("return"),p[Symbol.asyncIterator]=function(){return this},p;function y(w){f[w]&&(p[w]=function(S){return new Promise(function(x,T){h.push([w,S,x,T])>1||m(w,S)})})}function m(w,S){try{(x=f[w](S)).value instanceof o?Promise.resolve(x.value.v).then(b,v):_(h[0][2],x)}catch(T){_(h[0][3],T)}var x}function b(w){m("next",w)}function v(w){m("throw",w)}function _(w,S){w(S),h.shift(),h.length&&m(h[0][0],h[0][1])}};Object.defineProperty(e,"__esModule",{value:!0}),e.StreamingStore=void 0;const i=s(25828),r=s(19198),n=s(23598);class t{constructor(l=new i.Store){this.pendingStreams=new n.PendingStreamsIndex,this.ended=!1,this.listeners=[],this.store=l}addEndListener(l){this.listeners.push(l)}emitEndEvent(){for(const l of this.listeners)l()}hasEnded(){return this.ended}end(){this.ended=!0;for(const l of this.pendingStreams.allStreams)l.push(null);this.emitEndEvent()}importToListeners(l){l.on("data",d=>{if(!this.ended&&!this.store.countQuads(d.subject,d.predicate,d.object,d.graph))for(const p of this.pendingStreams.getPendingStreamsForQuad(d))p.emit("quad",d),p.isInitialized&&p.push(d)})}static concatStreams(l){return u(this,arguments,function*(){var d,p,f,h;for(const v of l)try{for(var y,m=!0,b=(p=void 0,c(v));!(d=(y=yield o(b.next())).done);){h=y.value,m=!1;try{yield yield o(h)}finally{m=!0}}}catch(_){p={error:_}}finally{try{m||d||!(f=b.return)||(yield o(f.call(b)))}finally{if(p)throw p.error}}})}import(l){if(this.ended)throw new Error("Attempted to import into an ended StreamingStore");return this.importToListeners(l),this.store.import(l)}match(l,d,p,f){const h=this.store.match(l,d,p,f);let y=h;if(!this.ended){const m=new r.PassThrough({objectMode:!0});this.pendingStreams.addPatternListener(m,l,d,p,f),y=r.Readable.from(t.concatStreams([h,m])),m.on("quad",v=>{y.emit("quad",v)}),y._pipeSource=h;const b=h._read;h._read=v=>{m.isInitialized=!0,b.call(h,v)}}return y}getStore(){return this.store}}e.StreamingStore=t},84256:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.stringQuadToQuad=e.quadToStringQuad=e.stringToTerm=e.getLiteralLanguage=e.getLiteralType=e.getLiteralValue=e.termToString=void 0;const c=new(s(47793)).DataFactory;function o(t){if(t)switch(t.termType){case"NamedNode":case"DefaultGraph":return t.value;case"BlankNode":return"_:"+t.value;case"Literal":const a=t;return'"'+a.value+'"'+(a.datatype&&a.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&a.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?"^^"+a.datatype.value:"")+(a.language?"@"+a.language:"");case"Quad":return`<<${o(t.subject)} ${o(t.predicate)} ${o(t.object)}${t.graph.termType==="DefaultGraph"?"":" "+o(t.graph)}>>`;case"Variable":return"?"+t.value}}function u(t){const a=/^"([^]*)"/.exec(t);if(!a)throw new Error(t+" is not a literal");return a[1]}function i(t){const a=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(t);if(!a)throw new Error(t+" is not a literal");return a[1]||(a[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}function r(t){const a=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(t);if(!a)throw new Error(t+" is not a literal");return a[1]?a[1].toLowerCase():""}function n(t,a){if(a=a||c,!t||!t.length)return a.defaultGraph();switch(t[0]){case"_":return a.blankNode(t.substr(2));case"?":if(!a.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return a.variable(t.substr(1));case'"':const l=r(t),d=a.namedNode(i(t));return a.literal(u(t),l||d);default:if(t[0]==="<"&&t.length>4&&t[1]==="<"&&t[t.length-1]===">"&&t[t.length-2]===">"){const p=t.slice(2,-2).trim();let f=[],h=0,y=0,m=!1;for(let b=0;b<p.length;b++){const v=p[b];if(v==="<"&&h++,v===">"){if(h===0)throw new Error("Found closing tag without opening tag in "+t);h--}if(v==='"'){let _=!1,w=b;for(;w-- >0&&p[w]==="\\";)_=!_;_||(m=!m)}if(v===" "&&!m&&h===0){for(f.push(p.slice(y,b));p[b+1]===" ";)b+=1;y=b+1}}if(h!==0)throw new Error("Found opening tag without closing tag in "+t);if(f.push(p.slice(y,p.length)),f.length!==3&&f.length!==4)throw new Error("Nested quad syntax error "+t);return f=f.map(b=>b.startsWith("<")&&!b.includes(" ")?b.slice(1,-1):b),a.quad(n(f[0]),n(f[1]),n(f[2]),f[3]?n(f[3]):void 0)}return a.namedNode(t)}}e.termToString=o,e.getLiteralValue=u,e.getLiteralType=i,e.getLiteralLanguage=r,e.stringToTerm=n,e.quadToStringQuad=function(t){return{subject:o(t.subject),predicate:o(t.predicate),object:o(t.object),graph:o(t.graph)}},e.stringQuadToQuad=function(t,a){return(a=a||c).quad(n(t.subject,a),n(t.predicate,a),n(t.object,a),n(t.graph,a))}},84333:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DocumentLoaderMediated=void 0;const c=s(70322),o=s(52728),u=s(87848);class i extends u.FetchDocumentLoader{constructor(n,t){super(i.createFetcher(n,t)),this.mediatorHttp=n,this.context=t}static createFetcher(n,t){return async(a,l)=>{const d=await n.mediate({input:a,init:l,context:t});return d.json=async()=>JSON.parse(await(0,o.stringify)(c.ActorHttp.toNodeReadable(d.body))),d}}}e.DocumentLoaderMediated=i},84427:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.elapsedDuration=e.addDurationToDateTime=e.maximumDayInMonthFor=void 0;const c=s(31296);function o(i,r,n=0){const t=i-n,a=r-n,l=Math.floor(t/a);return{intDiv:l,remainder:i-l*a}}function u(i,r){const{intDiv:n,remainder:t}=o(r,13,1),a=i+n;return[1,3,5,7,8,10,12].includes(t)?31:[4,6,9,11].includes(t)?30:t===2&&(o(a,400).remainder===0||o(a,100).remainder!==0&&o(a,4).remainder===0)?29:28}e.maximumDayInMonthFor=u,e.addDurationToDateTime=function(i,r){const n={...i};let t=o(i.month+r.month,13,1);for(n.month=t.remainder,n.year=i.year+r.year+t.intDiv,t=o(i.seconds+r.seconds,60),n.seconds=t.remainder,t=o(i.minutes+r.minutes+t.intDiv,60),n.minutes=t.remainder,t=o(i.hours+r.hours+t.intDiv,24),n.hours=t.remainder,n.day=i.day+r.day+t.intDiv;;){let a;if(n.day<1)n.day+=u(n.year,n.month-1),a=-1;else{if(!(n.day>u(n.year,n.month)))break;n.day-=u(n.year,n.month),a=1}t=o(n.month+a,13,1),n.month=t.remainder,n.year+=t.intDiv}return n},e.elapsedDuration=function(i,r,n){const t=(0,c.toUTCDate)(i,n),a=(0,c.toUTCDate)(r,n),l=t.getTime()-a.getTime();return{day:Math.floor(l/864e5),hours:Math.floor(l%864e5/36e5),minutes:Math.floor(l%36e5/6e4),seconds:l%6e4}}},84565:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.stringQuadToQuad=e.quadToStringQuad=e.stringToTerm=e.getLiteralLanguage=e.getLiteralType=e.getLiteralValue=e.termToString=void 0;const c=new(s(47793)).DataFactory;function o(t){if(t)switch(t.termType){case"NamedNode":case"DefaultGraph":return t.value;case"BlankNode":return"_:"+t.value;case"Literal":const a=t;return'"'+a.value+'"'+(a.datatype&&a.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&a.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?"^^"+a.datatype.value:"")+(a.language?"@"+a.language:"");case"Quad":return`<<${o(t.subject)} ${o(t.predicate)} ${o(t.object)}${t.graph.termType==="DefaultGraph"?"":" "+o(t.graph)}>>`;case"Variable":return"?"+t.value}}function u(t){const a=/^"([^]*)"/.exec(t);if(!a)throw new Error(t+" is not a literal");return a[1]}function i(t){const a=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(t);if(!a)throw new Error(t+" is not a literal");return a[1]||(a[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}function r(t){const a=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(t);if(!a)throw new Error(t+" is not a literal");return a[1]?a[1].toLowerCase():""}function n(t,a){if(a=a||c,!t||!t.length)return a.defaultGraph();switch(t[0]){case"_":return a.blankNode(t.substr(2));case"?":if(!a.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return a.variable(t.substr(1));case'"':const l=r(t),d=a.namedNode(i(t));return a.literal(u(t),l||d);default:if(t[0]==="<"&&t.length>4&&t[1]==="<"&&t[t.length-1]===">"&&t[t.length-2]===">"){const p=t.slice(2,-2).trim();let f=[],h=0,y=0,m=!1;for(let b=0;b<p.length;b++){const v=p[b];if(v==="<"&&h++,v===">"){if(h===0)throw new Error("Found closing tag without opening tag in "+t);h--}if(v==='"'){let _=!1,w=b;for(;w-- >0&&p[w]==="\\";)_=!_;_||(m=!m)}if(v===" "&&!m&&h===0){for(f.push(p.slice(y,b));p[b+1]===" ";)b+=1;y=b+1}}if(h!==0)throw new Error("Found opening tag without closing tag in "+t);if(f.push(p.slice(y,p.length)),f.length!==3&&f.length!==4)throw new Error("Nested quad syntax error "+t);return f=f.map(b=>b.startsWith("<")&&!b.includes(" ")?b.slice(1,-1):b),a.quad(n(f[0]),n(f[1]),n(f[2]),f[3]?n(f[3]):void 0)}return a.namedNode(t)}}e.termToString=o,e.getLiteralValue=u,e.getLiteralType=i,e.getLiteralLanguage=r,e.stringToTerm=n,e.quadToStringQuad=function(t){return{subject:o(t.subject),predicate:o(t.predicate),object:o(t.object),graph:o(t.graph)}},e.stringQuadToQuad=function(t,a){return(a=a||c).quad(n(t.subject,a),n(t.predicate,a),n(t.object,a),n(t.graph,a))}},84600:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(26471),e)},84629:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(40196),e)},84797:(g,e)=>{function s(c){return c>=65&&c<=90||c>=97&&c<=122||c===58||c===95||c===8204||c===8205||c>=192&&c<=214||c>=216&&c<=246||c>=248&&c<=767||c>=880&&c<=893||c>=895&&c<=8191||c>=8304&&c<=8591||c>=11264&&c<=12271||c>=12289&&c<=55295||c>=63744&&c<=64975||c>=65008&&c<=65533||c>=65536&&c<=983039}Object.defineProperty(e,"__esModule",{value:!0}),e.CHAR="---",e.RESTRICTED_CHAR="-\b\v\f---",e.S=` 	\r
`,e.NAME_START_CHAR=":A-Z_a-z-----------",e.NAME_CHAR="-"+e.NAME_START_CHAR+".0-9--",e.CHAR_RE=new RegExp("^["+e.CHAR+"]$","u"),e.RESTRICTED_CHAR_RE=new RegExp("^["+e.RESTRICTED_CHAR+"]$","u"),e.S_RE=new RegExp("^["+e.S+"]+$","u"),e.NAME_START_CHAR_RE=new RegExp("^["+e.NAME_START_CHAR+"]$","u"),e.NAME_CHAR_RE=new RegExp("^["+e.NAME_CHAR+"]$","u"),e.NAME_RE=new RegExp("^["+e.NAME_START_CHAR+"]["+e.NAME_CHAR+"]*$","u"),e.NMTOKEN_RE=new RegExp("^["+e.NAME_CHAR+"]+$","u"),e.S_LIST=[32,10,13,9],e.isChar=function(c){return c>=1&&c<=55295||c>=57344&&c<=65533||c>=65536&&c<=1114111},e.isRestrictedChar=function(c){return c>=1&&c<=8||c===11||c===12||c>=14&&c<=31||c>=127&&c<=132||c>=134&&c<=159},e.isCharAndNotRestricted=function(c){return c===9||c===10||c===13||c>31&&c<127||c===133||c>159&&c<=55295||c>=57344&&c<=65533||c>=65536&&c<=1114111},e.isS=function(c){return c===32||c===10||c===13||c===9},e.isNameStartChar=s,e.isNameChar=function(c){return s(c)||c>=48&&c<=57||c===45||c===46||c===183||c>=768&&c<=879||c>=8255&&c<=8256}},84906:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionMinutes=void 0;const c=s(77617),o=s(77545);class u extends c.TermFunctionBase{constructor(){super({arity:1,operator:o.SparqlOperator.MINUTES,overloads:(0,o.declare)(o.SparqlOperator.MINUTES).onDateTime1(()=>r=>(0,o.integer)(r.typedValue.minutes)).set([o.TypeURL.XSD_TIME],()=>([r])=>(0,o.integer)(r.typedValue.minutes)).collect()})}}e.TermFunctionMinutes=u},84983:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CONTEXT_KEY_LOGGER=void 0;const c=s(94301);e.CONTEXT_KEY_LOGGER=new c.ActionContextKey("@comunica/core:log")},85181:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermLcase=void 0;const c=s(77617),o=s(77545),u=s(60770);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.SparqlOperator.LCASE],termFunction:!0})}async run(n){return new u.TermFunctionLcase}}e.ActorFunctionFactoryTermLcase=i},85215:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.defaultExpandOptions=e.JsonLdContextNormalized=void 0;const c=s(70742),o=s(75094),u=s(94931);e.JsonLdContextNormalized=class{constructor(i){this.contextRaw=i}getContextRaw(){return this.contextRaw}expandTerm(i,r,n=e.defaultExpandOptions){const t=this.contextRaw[i];if(t===null||t&&t["@id"]===null)return null;let a=!0;if(t&&r){const y=u.Util.getContextValueId(t);if(y&&y!==i){if(typeof y=="string"&&(u.Util.isValidIri(y)||u.Util.isValidKeyword(y)))return y;u.Util.isPotentialKeyword(y)||(a=!1)}}const l=u.Util.getPrefix(i,this.contextRaw),d=this.contextRaw["@vocab"],p=(!!d||d==="")&&d.indexOf(":")<0,f=this.contextRaw["@base"],h=u.Util.isPotentialKeyword(i);if(l){const y=this.contextRaw[l],m=u.Util.getContextValueId(y);if(m){if(typeof y!="string"&&n.allowPrefixForcing){if(m[0]!=="_"&&!h&&!y["@prefix"]&&!(i in this.contextRaw))return i}else if(!u.Util.isSimpleTermDefinitionPrefix(m,n))return i;return m+i.substr(l.length+1)}}else{if(r&&(d||d===""||n.allowVocabRelativeToBase&&f&&p)&&!h&&!u.Util.isCompactIri(i)){if(p){if(n.allowVocabRelativeToBase)return(d||f?(0,c.resolve)(d,f):"")+i;throw new o.ErrorCoded(`Relative vocab expansion for term '${i}' with vocab '${d}' is not allowed.`,o.ERROR_CODES.INVALID_VOCAB_MAPPING)}return d+i}if(!r&&f&&!h&&!u.Util.isCompactIri(i))return(0,c.resolve)(i,f)}if(a)return i;throw new o.ErrorCoded(`Invalid IRI mapping found for context entry '${i}': '${JSON.stringify(t)}'`,o.ERROR_CODES.INVALID_IRI_MAPPING)}compactIri(i,r){if(r&&this.contextRaw["@vocab"]&&i.startsWith(this.contextRaw["@vocab"]))return i.substr(this.contextRaw["@vocab"].length);if(!r&&this.contextRaw["@base"]&&i.startsWith(this.contextRaw["@base"]))return i.substr(this.contextRaw["@base"].length);const n={prefix:"",suffix:i};for(const t in this.contextRaw){const a=this.contextRaw[t];if(a&&!u.Util.isPotentialKeyword(t)){const l=u.Util.getContextValueId(a);if(i.startsWith(l)){const d=i.substr(l.length);if(d)d.length<n.suffix.length&&(n.prefix=t,n.suffix=d);else if(r)return t}}}return n.prefix?n.prefix+":"+n.suffix:i}},e.defaultExpandOptions={allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}},85312:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(89349),e)},85411:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DataFactory=void 0;const c=s(65675),o=s(10030),u=s(91642),i=s(10548),r=s(21074),n=s(8273);let t=0;e.DataFactory=class{constructor(a){this.blankNodeCounter=0,a=a||{},this.blankNodePrefix=a.blankNodePrefix||`df_${t++}_`}namedNode(a){return new i.NamedNode(a)}blankNode(a){return new c.BlankNode(a||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(a,l){return new u.Literal(a,l)}variable(a){return new n.Variable(a)}defaultGraph(){return o.DefaultGraph.INSTANCE}quad(a,l,d,p){return new r.Quad(a,l,d,p||this.defaultGraph())}fromTerm(a){switch(a.termType){case"NamedNode":return this.namedNode(a.value);case"BlankNode":return this.blankNode(a.value);case"Literal":return a.language?this.literal(a.value,a.language):a.datatype.equals(u.Literal.XSD_STRING)?this.literal(a.value):this.literal(a.value,this.fromTerm(a.datatype));case"Variable":return this.variable(a.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(a.subject),this.fromTerm(a.predicate),this.fromTerm(a.object),this.fromTerm(a.graph))}}fromQuad(a){return this.fromTerm(a)}resetBlankNodeCounter(){this.blankNodeCounter=0}}},85459:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfUpdateQuadsDestination=e.deskolemize=e.deskolemizeStream=void 0;const c=s(21806),o=s(90711),u=s(90412),i=s(38291);function r(a,l,d){return l?.map(p=>(0,c.deskolemizeQuad)(a,p,d))}function n(a){const l=a.context.getSafe(o.KeysInitQuery.dataFactory),d=a.context.get(o.KeysRdfUpdateQuads.destination),p=a.context.get(o.KeysQuerySourceIdentify.sourceIds)?.get(d);return p?{...a,quadStreamInsert:r(l,a.quadStreamInsert,p),quadStreamDelete:r(l,a.quadStreamDelete,p)}:a}e.deskolemizeStream=r,e.deskolemize=n;class t extends i.ActorRdfUpdateQuads{async test(l){return(0,u.passTestVoid)()}async run(l){const d=await this.getDestination(l.context);return await this.getOutput(d,n(l))}async getOutput(l,d){return{execute:async()=>{await l.update({insert:d.quadStreamInsert,delete:d.quadStreamDelete}),await(d.deleteGraphs?l.deleteGraphs(d.deleteGraphs.graphs,d.deleteGraphs.requireExistence,d.deleteGraphs.dropGraphs):Promise.resolve()),await(d.createGraphs?l.createGraphs(d.createGraphs.graphs,d.createGraphs.requireNonExistence):Promise.resolve())}}}}e.ActorRdfUpdateQuadsDestination=t},85506:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DirectiveNodeHandlerInclude=void 0;const c=s(67797);class o extends c.DirectiveNodeHandlerAdapter{constructor(i,r){super("include",i,r)}handle(i,r){const n=this.getDirectiveConditionalValue(i.directive,r);return n.termType==="Literal"&&n.value==="false"?{ignore:!0}:{}}}e.DirectiveNodeHandlerInclude=o},85572:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermStrStarts=void 0;const c=s(77617),o=s(77545),u=s(3863);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.SparqlOperator.STRSTARTS],termFunction:!0})}async run(n){return new u.TermFunctionStrStarts}}e.ActorFunctionFactoryTermStrStarts=i},85653:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BlankNode=void 0,e.BlankNode=class{constructor(s){this.termType="BlankNode",this.value=s}equals(s){return!!s&&s.termType==="BlankNode"&&s.value===this.value}}},85821:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorOptimizeQueryOperationAssignSourcesExhaustive=void 0;const c=s(38912),o=s(16657),u=s(90711),i=s(90412),r=s(67021),n=s(96331);class t extends c.ActorOptimizeQueryOperation{constructor(l){super(l)}async test(l){return(0,i.passTestVoid)()}async run(l){const d=l.context.getSafe(u.KeysInitQuery.dataFactory),p=new n.Factory(d),f=l.context.get(u.KeysQueryOperation.querySources)??[];if(f.length===0)return{operation:l.operation,context:l.context};if(f.length===1){const h=f[0],y=l.context.get(u.KeysRdfUpdateQuads.destination);if(!y||h.source.referenceValue===(0,o.getDataDestinationValue)(y))try{const m=await h.source.getSelectorShape(l.context);if((0,r.doesShapeAcceptOperation)(m,l.operation))return{operation:(0,r.assignOperationSource)(l.operation,h),context:l.context}}catch{}}return{operation:this.assignExhaustive(p,l.operation,f),context:l.context.delete(u.KeysInitQuery.queryString)}}assignExhaustive(l,d,p){const f=this;return n.Util.mapOperation(d,{[n.Algebra.types.PATTERN]:(h,y)=>p.length===1?{result:(0,r.assignOperationSource)(h,p[0]),recurse:!1}:{result:y.createUnion(p.map(m=>(0,r.assignOperationSource)(h,m))),recurse:!1},[n.Algebra.types.LINK]:(h,y)=>p.length===1?{result:(0,r.assignOperationSource)(h,p[0]),recurse:!1}:{result:y.createAlt(p.map(m=>(0,r.assignOperationSource)(h,m))),recurse:!1},[n.Algebra.types.NPS]:(h,y)=>p.length===1?{result:(0,r.assignOperationSource)(h,p[0]),recurse:!1}:{result:y.createAlt(p.map(m=>(0,r.assignOperationSource)(h,m))),recurse:!1},[n.Algebra.types.SERVICE]:h=>({result:h,recurse:!1}),[n.Algebra.types.CONSTRUCT]:(h,y)=>({result:y.createConstruct(f.assignExhaustive(l,h.input,p),h.template),recurse:!1}),[n.Algebra.types.DELETE_INSERT]:(h,y)=>({result:y.createDeleteInsert(h.delete,h.insert,h.where?f.assignExhaustive(l,h.where,p):void 0),recurse:!1})},l)}}e.ActorOptimizeQueryOperationAssignSourcesExhaustive=t},85916:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(22437),e),o(s(79081),e)},85928:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(9553),e)},85947:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},85959:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionUnaryMinus=void 0;const c=s(77617),o=s(77545);class u extends c.TermFunctionBase{constructor(){super({arity:1,operator:o.SparqlOperator.UMINUS,overloads:(0,o.declare)(o.SparqlOperator.UMINUS).numericConverter(()=>r=>-r).collect()})}}e.TermFunctionUnaryMinus=u},86020:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Literal=void 0;const c=s(56662);class o{constructor(i,r){this.termType="Literal",this.value=i,typeof r=="string"?(this.language=r,this.datatype=o.RDF_LANGUAGE_STRING,this.direction=""):r?"termType"in r?(this.language="",this.datatype=r,this.direction=""):(this.language=r.language,this.datatype=r.direction?o.RDF_DIRECTIONAL_LANGUAGE_STRING:o.RDF_LANGUAGE_STRING,this.direction=r.direction||""):(this.language="",this.datatype=o.XSD_STRING,this.direction="")}equals(i){return!!i&&i.termType==="Literal"&&i.value===this.value&&i.language===this.language&&(i.direction===this.direction||!i.direction&&this.direction==="")&&this.datatype.equals(i.datatype)}}e.Literal=o,o.RDF_LANGUAGE_STRING=new c.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),o.RDF_DIRECTIONAL_LANGUAGE_STRING=new c.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#dirLangString"),o.XSD_STRING=new c.NamedNode("http://www.w3.org/2001/XMLSchema#string")},86074:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(44609),e),o(s(24690),e),o(s(29306),e)},86080:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfMetadata=void 0;const c=s(90412);class o extends c.Actor{constructor(i){super(i)}}e.ActorRdfMetadata=o},86085:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeValueHandlerString=void 0;const c=s(55009);class o extends c.NodeValueHandlerAdapter{constructor(i,r){super("StringValue",i,r)}handle(i,r,n){const t=n.context.getContextRaw()[r];let a,l;return t&&typeof t!="string"&&(t["@language"]?a=t["@language"]:t["@type"]&&(l=this.util.dataFactory.namedNode(t["@type"]))),{terms:[this.util.dataFactory.literal(i.value,a||l)]}}}e.NodeValueHandlerString=o},86105:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerKeywordAnnotation=void 0;const c=s(1548),o=s(42395);class u extends c.EntryHandlerKeyword{constructor(){super("@annotation")}async handle(r,n,t,a,l,d){(typeof l=="string"||typeof l=="object"&&l["@value"])&&r.emitError(new o.ErrorCoded(`Found illegal annotation value: ${JSON.stringify(l)}`,o.ERROR_CODES.INVALID_ANNOTATION))}}e.EntryHandlerKeywordAnnotation=u},86126:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MicrodataRdfParser=void 0;const c=s(78659),o=s(19198),u=s(68686),i=s(47194),r=s(36458),n=s(8770),t=s(73153),a=s(68395);class l extends o.Transform{constructor(p){super({readableObjectMode:!0}),this.itemScopeStack=[],this.textBufferStack=[],this.isEmittingReferences=!1,this.pendingItemRefsDomain={},this.pendingItemRefsRangeFinalized={},this.pendingItemRefsRangeCollecting={},p=p||{},this.options=p,this.util=new t.Util(p.dataFactory,p.baseIRI),this.defaultGraph=p.defaultGraph||this.util.dataFactory.defaultGraph(),this.htmlParseListener=p.htmlParseListener,this.vocabRegistry=p.vocabRegistry||a,this.parser=this.initializeParser(!!p.xmlMode)}import(p){const f=new o.PassThrough({readableObjectMode:!0});p.on("error",y=>h.emit("error",y)),p.on("data",y=>f.push(y)),p.on("end",()=>f.push(null));const h=f.pipe(new l(this.options));return h}_transform(p,f,h){this.parser.write(p.toString()),h()}_flush(p){this.parser.end(),p()}getItemScope(p){let f=this.itemScopeStack.length-(p?2:1);for(;f>0&&!this.itemScopeStack[f];)f--;return this.itemScopeStack[f]}getDepth(){return this.itemScopeStack.length}onTagOpen(p,f){if(!this.isEmittingReferences){if("id"in f){const y=f.id;this.pendingItemRefsRangeCollecting[y]={events:[],counter:0,ids:[]}}for(const y of Object.values(this.pendingItemRefsRangeCollecting))y.counter++,y.events.push({type:"open",name:p,attributes:f})}let h;if(this.textBufferStack.push(void 0),"itemscope"in f){let y;if(this.emittingReferencesItemScopeIdGenerator)y=this.emittingReferencesItemScopeIdGenerator();else{y="itemid"in f&&this.util.createSubject(f.itemid)||this.util.dataFactory.blankNode();for(const b of Object.values(this.pendingItemRefsRangeCollecting))b.ids.push(y)}h={subject:y},this.isEmittingReferences&&(h.blockEmission=!0);const m=this.getItemScope();m&&m.vocab&&(h.vocab=m.vocab),this.itemScopeStack.push(h)}else h=this.getItemScope(),this.itemScopeStack.push(void 0);if(h){if("itemtype"in f)for(const y of this.util.createVocabIris(f.itemtype,h,!1))h.vocab||(h.vocab=this.util.deriveVocab(y.value,this.vocabRegistry)),h.blockEmission||this.emitTriple(h.subject,this.util.dataFactory.namedNode(`${t.Util.RDF}type`),y);if("lang"in f&&(h.language=f.lang),"xml:lang"in f&&(h.language=f["xml:lang"]),"itemscope"in f&&!this.isEmittingReferences&&"itemref"in f)for(const y of f.itemref.split(/\s+/u))y in this.pendingItemRefsDomain||(this.pendingItemRefsDomain[y]=[]),this.pendingItemRefsDomain[y].push(h),this.tryToEmitReferences(y,h)}"itemprop"in f&&this.handleItemProperties(f.itemprop,!1,h,p,f),"itemprop-reverse"in f&&this.handleItemProperties(f["itemprop-reverse"],!0,h,p,f)}onText(p){if(!this.isEmittingReferences)for(const f of Object.values(this.pendingItemRefsRangeCollecting))f.events.push({type:"text",data:p});for(const f of this.textBufferStack)f&&f.push(p)}onTagClose(){if(!this.isEmittingReferences)for(const[f,h]of Object.entries(this.pendingItemRefsRangeCollecting))h.counter--,h.events.push({type:"close"}),h.counter===0&&(this.pendingItemRefsRangeFinalized[f]=h,delete this.pendingItemRefsRangeCollecting[f],this.tryToEmitReferences(f));const p=this.getItemScope(!0);if(p){const f=this.getDepth();if(p.predicates&&f in p.predicates)for(const[h,y]of Object.entries(p.predicates[f])){const m=this.util.createLiteral(this.textBufferStack[f].join(""),p);this.emitPredicateTriples(p,y,m,h==="reverse"),delete p.predicates[f][h]}}this.itemScopeStack.pop(),this.textBufferStack.pop()}onEnd(){}initializeParser(p){return new c.Parser({onclosetag:()=>{try{this.onTagClose(),this.htmlParseListener&&this.htmlParseListener.onTagClose()}catch(f){this.emit("error",f)}},onend:()=>{try{this.onEnd(),this.htmlParseListener&&this.htmlParseListener.onEnd()}catch(f){this.emit("error",f)}},onopentag:(f,h)=>{try{this.onTagOpen(f,h),this.htmlParseListener&&this.htmlParseListener.onTagOpen(f,h)}catch(y){this.emit("error",y)}},ontext:f=>{try{this.onText(f),this.htmlParseListener&&this.htmlParseListener.onText(f)}catch(h){this.emit("error",h)}}},{decodeEntities:!0,recognizeSelfClosing:!0,xmlMode:p})}handleItemProperties(p,f,h,y,m){const b=this.getItemScope(!0);if(b){const v=this.getDepth(),_=this.util.createVocabIris(p,b,!0);b.predicates||(b.predicates={}),b.predicates[v]||(b.predicates[v]={});const w=f?"reverse":"forward";b.predicates[v][w]=_;for(const S of this.util.getVocabularyExpansionType(p,b,this.vocabRegistry))_.push(S);if(h&&"itemscope"in m)this.emitPredicateTriples(b,_,h.subject,f),delete b.predicates[v][w];else for(const S of l.ITEM_PROPERTY_HANDLERS)if(S.canHandle(y,m)){const x=S.getObject(m,this.util,b);this.emitPredicateTriples(b,_,x,f),delete b.predicates[v][w]}b.predicates[v][w]&&(this.textBufferStack[v]=[])}}emitPredicateTriples(p,f,h,y){if(!p.blockEmission)for(const m of f)y?h.termType!=="Literal"&&this.emitTriple(h,m,p.subject):this.emitTriple(p.subject,m,h)}emitTriple(p,f,h){this.push(this.util.dataFactory.quad(p,f,h,this.defaultGraph))}tryToEmitReferences(p,f){const h=this.pendingItemRefsRangeFinalized[p];if(h){let y;if(f){y=[f];const m=this.pendingItemRefsDomain[p].indexOf(f);this.pendingItemRefsDomain[p].splice(m,1)}else y=this.pendingItemRefsDomain[p],delete this.pendingItemRefsDomain[p];if(y){const m=this.itemScopeStack,b=this.textBufferStack;this.isEmittingReferences=!0;for(const v of y){this.itemScopeStack=[v],this.textBufferStack=[void 0];const _=[...h.ids];this.emittingReferencesItemScopeIdGenerator=()=>_.shift();for(const w of h.events)switch(w.type){case"open":this.onTagOpen(w.name,w.attributes);break;case"text":this.onText(w.data);break;case"close":this.onTagClose()}}this.emittingReferencesItemScopeIdGenerator=void 0,this.itemScopeStack=m,this.textBufferStack=b,this.isEmittingReferences=!1}}}}e.MicrodataRdfParser=l,l.ITEM_PROPERTY_HANDLERS=[new u.ItemPropertyHandlerContent,new n.ItemPropertyHandlerUrl("a","href"),new n.ItemPropertyHandlerUrl("area","href"),new n.ItemPropertyHandlerUrl("audio","src"),new n.ItemPropertyHandlerUrl("embed","src"),new n.ItemPropertyHandlerUrl("iframe","src"),new n.ItemPropertyHandlerUrl("img","src"),new n.ItemPropertyHandlerUrl("link","href"),new n.ItemPropertyHandlerUrl("object","data"),new n.ItemPropertyHandlerUrl("source","src"),new n.ItemPropertyHandlerUrl("track","src"),new n.ItemPropertyHandlerUrl("video","src"),new i.ItemPropertyHandlerNumber("data","value"),new i.ItemPropertyHandlerNumber("meter","value"),new r.ItemPropertyHandlerTime]},86155:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(35943),e)},86173:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryProcessExplainPhysical=void 0;const c=s(59478),o=s(90711),u=s(90412),i=s(93974);class r extends c.ActorQueryProcess{constructor(t){super(t)}async test(t){const a=t.context.get(o.KeysInitQuery.explain)??t.context.get(new u.ActionContextKey("explain"));return a!=="physical"&&a!=="physical-json"?(0,u.failTest)(`${this.name} can only explain in 'physical' or 'physical-json' mode.`):(0,u.passTestVoid)()}async run(t){let{operation:a,context:l}=await this.queryProcessor.parse(t.query,t.context);({operation:a,context:l}=await this.queryProcessor.optimize(a,l));const d=new i.MemoryPhysicalQueryPlanLogger;l=l.set(o.KeysInitQuery.physicalQueryPlanLogger,d);const p=await this.queryProcessor.evaluate(a,l);switch(p.type){case"bindings":await p.bindingsStream.toArray();break;case"quads":await p.quadStream.toArray();break;case"boolean":case"void":await p.execute()}const f=t.context.get(o.KeysInitQuery.explain)??t.context.getSafe(new u.ActionContextKey("explain"));return{result:{explain:!0,type:f,data:f==="physical"?d.toCompactString():d.toJson()}}}}e.ActorQueryProcessExplainPhysical=r},86238:(g,e,s)=>{const c=s(65606),{AbortError:o,codes:u}=s(76371),{ERR_INVALID_ARG_TYPE:i,ERR_STREAM_PREMATURE_CLOSE:r}=u,{kEmptyObject:n,once:t}=s(57760),{validateAbortSignal:a,validateFunction:l,validateObject:d,validateBoolean:p}=s(277),{Promise:f,PromisePrototypeThen:h,SymbolDispose:y}=s(24134),{isClosed:m,isReadable:b,isReadableNodeStream:v,isReadableStream:_,isReadableFinished:w,isReadableErrored:S,isWritable:x,isWritableNodeStream:T,isWritableStream:O,isWritableFinished:E,isWritableErrored:R,isNodeStream:M,willEmitClose:Q,kIsClosedPromise:X}=s(16115);let V;const H=()=>{};function U(k,$,ae){var he,ye;if(arguments.length===2?(ae=$,$=n):$==null?$=n:d($,"options"),l(ae,"callback"),a($.signal,"options.signal"),ae=t(ae),_(k)||O(k))return(function(N,B,J){let ne=!1,re=H;if(B.signal)if(re=()=>{ne=!0,J.call(N,new o(void 0,{cause:B.signal.reason}))},B.signal.aborted)c.nextTick(re);else{V=V||s(57760).addAbortListener;const _e=V(B.signal,re),we=J;J=t((...Pe)=>{_e[y](),we.apply(N,Pe)})}const fe=(..._e)=>{ne||c.nextTick(()=>J.apply(N,_e))};return h(N[X].promise,fe,fe),H})(k,$,ae);if(!M(k))throw new i("stream",["ReadableStream","WritableStream","Stream"],k);const I=(he=$.readable)!==null&&he!==void 0?he:v(k),j=(ye=$.writable)!==null&&ye!==void 0?ye:T(k),P=k._writableState,L=k._readableState,G=()=>{k.writable||ce()};let te=Q(k)&&v(k)===I&&T(k)===j,W=E(k,!1);const ce=()=>{W=!0,k.destroyed&&(te=!1),(!te||k.readable&&!I)&&(I&&!de||ae.call(k))};let de=w(k,!1);const Se=()=>{de=!0,k.destroyed&&(te=!1),(!te||k.writable&&!j)&&(j&&!W||ae.call(k))},ie=N=>{ae.call(k,N)};let me=m(k);const oe=()=>{me=!0;const N=R(k)||S(k);return N&&typeof N!="boolean"?ae.call(k,N):I&&!de&&v(k,!0)&&!w(k,!1)?ae.call(k,new r):!j||W||E(k,!1)?void ae.call(k):ae.call(k,new r)},ve=()=>{me=!0;const N=R(k)||S(k);if(N&&typeof N!="boolean")return ae.call(k,N);ae.call(k)},xe=()=>{k.req.on("finish",ce)};(function(N){return N.setHeader&&typeof N.abort=="function"})(k)?(k.on("complete",ce),te||k.on("abort",oe),k.req?xe():k.on("request",xe)):j&&!P&&(k.on("end",G),k.on("close",G)),te||typeof k.aborted!="boolean"||k.on("aborted",oe),k.on("end",Se),k.on("finish",ce),$.error!==!1&&k.on("error",ie),k.on("close",oe),me?c.nextTick(oe):P!=null&&P.errorEmitted||L!=null&&L.errorEmitted?te||c.nextTick(ve):(I||te&&!b(k)||!W&&x(k)!==!1)&&(j||te&&!x(k)||!de&&b(k)!==!1)?L&&k.req&&k.aborted&&c.nextTick(ve):c.nextTick(ve);const q=()=>{ae=H,k.removeListener("aborted",oe),k.removeListener("complete",ce),k.removeListener("abort",oe),k.removeListener("request",xe),k.req&&k.req.removeListener("finish",ce),k.removeListener("end",G),k.removeListener("close",G),k.removeListener("finish",ce),k.removeListener("end",Se),k.removeListener("error",ie),k.removeListener("close",oe)};if($.signal&&!me){const N=()=>{const B=ae;q(),B.call(k,new o(void 0,{cause:$.signal.reason}))};if($.signal.aborted)c.nextTick(N);else{V=V||s(57760).addAbortListener;const B=V($.signal,N),J=ae;ae=t((...ne)=>{B[y](),J.apply(k,ne)})}}return q}g.exports=U,g.exports.finished=function(k,$){var ae;let he=!1;return $===null&&($=n),(ae=$)!==null&&ae!==void 0&&ae.cleanup&&(p($.cleanup,"cleanup"),he=$.cleanup),new f((ye,I)=>{const j=U(k,$,P=>{he&&j(),P?I(P):ye()})})}},86273:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.typePromotion=e.isSubTypeOf=e.getSuperTypeDict=e.isInternalSubType=e.asGeneralType=e.asOverrideType=e.asKnownLiteralType=e.asTypeAlias=e.typeAliasCheck=e.extensionTableInit=e.getSuperTypes=e.superTypeDictTable=e.extensionTableInput=void 0;const c=s(54833),o=s(97618),u=s(64900);function i(l,d){const p=d.cache.get(l);if(p)return p;const f=d.discoverer(l);if(f==="term"){const m=Object.create(null);return m.__depth=0,m[l]=0,d.cache.set(l,m),m}let h;const y=t(f);return h=y?{...e.superTypeDictTable[y]}:{...i(f,d)},h.__depth++,h[l]=h.__depth,d.cache.set(l,h),h}function r(){for(const[l,d]of Object.entries(e.extensionTableInput)){const p=l;e.superTypeDictTable[p]||n(p,d,e.superTypeDictTable)}}function n(l,d,p){if(d==="term"||d===void 0){const f=Object.create(null);return f.__depth=0,f[l]=0,void(p[l]=f)}p[d]||n(d,e.extensionTableInput[d],p),p[l]={...p[d],[l]:p[d].__depth+1,__depth:p[d].__depth+1}}function t(l){if(l in e.superTypeDictTable)return l}function a(l,d){const p=t(l);return p?e.superTypeDictTable[p]:i(l,d)}e.extensionTableInput={[u.TypeURL.XSD_DATE_TIME_STAMP]:u.TypeURL.XSD_DATE_TIME,[u.TypeURL.XSD_DAY_TIME_DURATION]:u.TypeURL.XSD_DURATION,[u.TypeURL.XSD_YEAR_MONTH_DURATION]:u.TypeURL.XSD_DURATION,[u.TypeURL.RDF_LANG_STRING]:u.TypeAlias.SPARQL_STRINGLY,[u.TypeURL.XSD_STRING]:u.TypeAlias.SPARQL_STRINGLY,[u.TypeURL.XSD_NORMALIZED_STRING]:u.TypeURL.XSD_STRING,[u.TypeURL.XSD_TOKEN]:u.TypeURL.XSD_NORMALIZED_STRING,[u.TypeURL.XSD_LANGUAGE]:u.TypeURL.XSD_TOKEN,[u.TypeURL.XSD_NM_TOKEN]:u.TypeURL.XSD_TOKEN,[u.TypeURL.XSD_NAME]:u.TypeURL.XSD_TOKEN,[u.TypeURL.XSD_NC_NAME]:u.TypeURL.XSD_NAME,[u.TypeURL.XSD_ENTITY]:u.TypeURL.XSD_NC_NAME,[u.TypeURL.XSD_ID]:u.TypeURL.XSD_NC_NAME,[u.TypeURL.XSD_ID_REF]:u.TypeURL.XSD_NC_NAME,[u.TypeURL.XSD_UNTYPED_ATOMIC]:u.TypeURL.XSD_STRING,[u.TypeURL.XSD_DOUBLE]:u.TypeAlias.SPARQL_NUMERIC,[u.TypeURL.XSD_FLOAT]:u.TypeAlias.SPARQL_NUMERIC,[u.TypeURL.XSD_DECIMAL]:u.TypeAlias.SPARQL_NUMERIC,[u.TypeURL.XSD_INTEGER]:u.TypeURL.XSD_DECIMAL,[u.TypeURL.XSD_NON_POSITIVE_INTEGER]:u.TypeURL.XSD_INTEGER,[u.TypeURL.XSD_NEGATIVE_INTEGER]:u.TypeURL.XSD_NON_POSITIVE_INTEGER,[u.TypeURL.XSD_LONG]:u.TypeURL.XSD_INTEGER,[u.TypeURL.XSD_INT]:u.TypeURL.XSD_LONG,[u.TypeURL.XSD_SHORT]:u.TypeURL.XSD_INT,[u.TypeURL.XSD_BYTE]:u.TypeURL.XSD_SHORT,[u.TypeURL.XSD_NON_NEGATIVE_INTEGER]:u.TypeURL.XSD_INTEGER,[u.TypeURL.XSD_POSITIVE_INTEGER]:u.TypeURL.XSD_NON_NEGATIVE_INTEGER,[u.TypeURL.XSD_UNSIGNED_LONG]:u.TypeURL.XSD_NON_NEGATIVE_INTEGER,[u.TypeURL.XSD_UNSIGNED_INT]:u.TypeURL.XSD_UNSIGNED_LONG,[u.TypeURL.XSD_UNSIGNED_SHORT]:u.TypeURL.XSD_UNSIGNED_INT,[u.TypeURL.XSD_UNSIGNED_BYTE]:u.TypeURL.XSD_UNSIGNED_SHORT,[u.TypeURL.XSD_DATE_TIME]:"term",[u.TypeURL.XSD_BOOLEAN]:"term",[u.TypeURL.XSD_DATE]:"term",[u.TypeURL.XSD_G_MONTH]:"term",[u.TypeURL.XSD_G_MONTHDAY]:"term",[u.TypeURL.XSD_G_YEAR]:"term",[u.TypeURL.XSD_G_YEAR_MONTH]:"term",[u.TypeURL.XSD_TIME]:"term",[u.TypeURL.XSD_G_DAY]:"term",[u.TypeURL.XSD_DURATION]:"term",[u.TypeAlias.SPARQL_NUMERIC]:"term",[u.TypeAlias.SPARQL_STRINGLY]:"term",[u.TypeURL.XSD_ANY_URI]:"term"},e.superTypeDictTable=Object.create(null),e.getSuperTypes=i,e.extensionTableInit=r,r(),e.typeAliasCheck=Object.create(null),(function(){for(const l of Object.values(u.TypeAlias))e.typeAliasCheck[l]=!0})(),e.asTypeAlias=function(l){if(l in e.typeAliasCheck)return l},e.asKnownLiteralType=t,e.asOverrideType=function(l){if(t(l)??l==="term")return l},e.asGeneralType=function(l){if(l==="term"||(0,c.asTermType)(l))return l},e.isInternalSubType=function(l,d){return l!=="term"&&e.superTypeDictTable[l]&&e.superTypeDictTable[l][d]!==void 0},e.getSuperTypeDict=a,e.isSubTypeOf=function(l,d,p){return l!=="term"&&a(l,p)[d]!==void 0},e.typePromotion={[u.TypeURL.XSD_STRING]:[{typeToPromote:u.TypeURL.XSD_ANY_URI,conversionFunction:l=>(0,o.string)(l.str())}],[u.TypeURL.XSD_DOUBLE]:[{typeToPromote:u.TypeURL.XSD_FLOAT,conversionFunction:l=>(0,o.double)(l.typedValue)},{typeToPromote:u.TypeURL.XSD_DECIMAL,conversionFunction:l=>(0,o.double)(l.typedValue)}],[u.TypeURL.XSD_FLOAT]:[{typeToPromote:u.TypeURL.XSD_DECIMAL,conversionFunction:l=>(0,o.float)(l.typedValue)}]}},86454:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerKeywordUnknownFallback=void 0;const c=s(42395);class o{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(i,r,n,t,a){const l=await r.unaliasKeyword(n[t],n,t);return!(!c.Util.isPotentialKeyword(l)||!a&&l==="@list")}async test(i,r,n,t,a){return c.Util.isPotentialKeyword(n)}async handle(i,r,n,t,a,l){const d=o.VALID_KEYWORDS_TYPES[n];d!==void 0?d&&typeof a!==d.type&&i.emitError(new c.ErrorCoded(`Invalid value type for '${n}' with value '${a}'`,d.errorCode)):i.strictValues&&i.emitError(new Error(`Unknown keyword '${n}' with value '${a}'`)),i.emittedStack[l]=!1}}o.VALID_KEYWORDS_TYPES={"@index":{type:"string",errorCode:c.ERROR_CODES.INVALID_INDEX_VALUE},"@list":null,"@reverse":{type:"object",errorCode:c.ERROR_CODES.INVALID_REVERSE_VALUE},"@set":null,"@value":null},e.EntryHandlerKeywordUnknownFallback=o},86475:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(11370),e)},86524:(g,e,s)=>{const{ObjectSetPrototypeOf:c}=s(24134);g.exports=u;const o=s(17382);function u(i){if(!(this instanceof u))return new u(i);o.call(this,i)}c(u.prototype,o.prototype),c(u,o),u.prototype._transform=function(i,r,n){n(null,i)}},86547:function(g,e,s){(function(c){(function(o){var u=typeof globalThis<"u"&&globalThis||c!==void 0&&c||s.g!==void 0&&s.g||{},i="URLSearchParams"in u,r="Symbol"in u&&"iterator"in Symbol,n="FileReader"in u&&"Blob"in u&&(function(){try{return new Blob,!0}catch{return!1}})(),t="FormData"in u,a="ArrayBuffer"in u;if(a)var l=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(M){return M&&l.indexOf(Object.prototype.toString.call(M))>-1};function p(M){if(typeof M!="string"&&(M=String(M)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(M)||M==="")throw new TypeError('Invalid character in header field name: "'+M+'"');return M.toLowerCase()}function f(M){return typeof M!="string"&&(M=String(M)),M}function h(M){var Q={next:function(){var X=M.shift();return{done:X===void 0,value:X}}};return r&&(Q[Symbol.iterator]=function(){return Q}),Q}function y(M){this.map={},M instanceof y?M.forEach(function(Q,X){this.append(X,Q)},this):Array.isArray(M)?M.forEach(function(Q){if(Q.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+Q.length);this.append(Q[0],Q[1])},this):M&&Object.getOwnPropertyNames(M).forEach(function(Q){this.append(Q,M[Q])},this)}function m(M){if(!M._noBody)return M.bodyUsed?Promise.reject(new TypeError("Already read")):void(M.bodyUsed=!0)}function b(M){return new Promise(function(Q,X){M.onload=function(){Q(M.result)},M.onerror=function(){X(M.error)}})}function v(M){var Q=new FileReader,X=b(Q);return Q.readAsArrayBuffer(M),X}function _(M){if(M.slice)return M.slice(0);var Q=new Uint8Array(M.byteLength);return Q.set(new Uint8Array(M)),Q.buffer}function w(){return this.bodyUsed=!1,this._initBody=function(M){var Q;this.bodyUsed=this.bodyUsed,this._bodyInit=M,M?typeof M=="string"?this._bodyText=M:n&&Blob.prototype.isPrototypeOf(M)?this._bodyBlob=M:t&&FormData.prototype.isPrototypeOf(M)?this._bodyFormData=M:i&&URLSearchParams.prototype.isPrototypeOf(M)?this._bodyText=M.toString():a&&n&&(Q=M)&&DataView.prototype.isPrototypeOf(Q)?(this._bodyArrayBuffer=_(M.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a&&(ArrayBuffer.prototype.isPrototypeOf(M)||d(M))?this._bodyArrayBuffer=_(M):this._bodyText=M=Object.prototype.toString.call(M):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof M=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i&&URLSearchParams.prototype.isPrototypeOf(M)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n&&(this.blob=function(){var M=m(this);if(M)return M;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer)return m(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer));if(n)return this.blob().then(v);throw new Error("could not read as ArrayBuffer")},this.text=function(){var M,Q,X,V,H,U=m(this);if(U)return U;if(this._bodyBlob)return M=this._bodyBlob,X=b(Q=new FileReader),H=(V=/charset=([A-Za-z0-9_-]+)/.exec(M.type))?V[1]:"utf-8",Q.readAsText(M,H),X;if(this._bodyArrayBuffer)return Promise.resolve((function(k){for(var $=new Uint8Array(k),ae=new Array($.length),he=0;he<$.length;he++)ae[he]=String.fromCharCode($[he]);return ae.join("")})(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},t&&(this.formData=function(){return this.text().then(T)}),this.json=function(){return this.text().then(JSON.parse)},this}y.prototype.append=function(M,Q){M=p(M),Q=f(Q);var X=this.map[M];this.map[M]=X?X+", "+Q:Q},y.prototype.delete=function(M){delete this.map[p(M)]},y.prototype.get=function(M){return M=p(M),this.has(M)?this.map[M]:null},y.prototype.has=function(M){return this.map.hasOwnProperty(p(M))},y.prototype.set=function(M,Q){this.map[p(M)]=f(Q)},y.prototype.forEach=function(M,Q){for(var X in this.map)this.map.hasOwnProperty(X)&&M.call(Q,this.map[X],X,this)},y.prototype.keys=function(){var M=[];return this.forEach(function(Q,X){M.push(X)}),h(M)},y.prototype.values=function(){var M=[];return this.forEach(function(Q){M.push(Q)}),h(M)},y.prototype.entries=function(){var M=[];return this.forEach(function(Q,X){M.push([X,Q])}),h(M)},r&&(y.prototype[Symbol.iterator]=y.prototype.entries);var S=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function x(M,Q){if(!(this instanceof x))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var X,V,H=(Q=Q||{}).body;if(M instanceof x){if(M.bodyUsed)throw new TypeError("Already read");this.url=M.url,this.credentials=M.credentials,Q.headers||(this.headers=new y(M.headers)),this.method=M.method,this.mode=M.mode,this.signal=M.signal,H||M._bodyInit==null||(H=M._bodyInit,M.bodyUsed=!0)}else this.url=String(M);if(this.credentials=Q.credentials||this.credentials||"same-origin",!Q.headers&&this.headers||(this.headers=new y(Q.headers)),this.method=(V=(X=Q.method||this.method||"GET").toUpperCase(),S.indexOf(V)>-1?V:X),this.mode=Q.mode||this.mode||null,this.signal=Q.signal||this.signal||(function(){if("AbortController"in u)return new AbortController().signal})(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&H)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(H),!(this.method!=="GET"&&this.method!=="HEAD"||Q.cache!=="no-store"&&Q.cache!=="no-cache")){var U=/([?&])_=[^&]*/;U.test(this.url)?this.url=this.url.replace(U,"$1_="+new Date().getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+new Date().getTime()}}function T(M){var Q=new FormData;return M.trim().split("&").forEach(function(X){if(X){var V=X.split("="),H=V.shift().replace(/\+/g," "),U=V.join("=").replace(/\+/g," ");Q.append(decodeURIComponent(H),decodeURIComponent(U))}}),Q}function O(M,Q){if(!(this instanceof O))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(Q||(Q={}),this.type="default",this.status=Q.status===void 0?200:Q.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=Q.statusText===void 0?"":""+Q.statusText,this.headers=new y(Q.headers),this.url=Q.url||"",this._initBody(M)}x.prototype.clone=function(){return new x(this,{body:this._bodyInit})},w.call(x.prototype),w.call(O.prototype),O.prototype.clone=function(){return new O(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new y(this.headers),url:this.url})},O.error=function(){var M=new O(null,{status:200,statusText:""});return M.ok=!1,M.status=0,M.type="error",M};var E=[301,302,303,307,308];O.redirect=function(M,Q){if(E.indexOf(Q)===-1)throw new RangeError("Invalid status code");return new O(null,{status:Q,headers:{location:M}})},o.DOMException=u.DOMException;try{new o.DOMException}catch{o.DOMException=function(Q,X){this.message=Q,this.name=X;var V=Error(Q);this.stack=V.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function R(M,Q){return new Promise(function(X,V){var H=new x(M,Q);if(H.signal&&H.signal.aborted)return V(new o.DOMException("Aborted","AbortError"));var U=new XMLHttpRequest;function k(){U.abort()}if(U.onload=function(){var ae,he,ye={statusText:U.statusText,headers:(ae=U.getAllResponseHeaders()||"",he=new y,ae.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(j){return j.indexOf(`
`)===0?j.substr(1,j.length):j}).forEach(function(j){var P=j.split(":"),L=P.shift().trim();if(L){var G=P.join(":").trim();try{he.append(L,G)}catch(te){console.warn("Response "+te.message)}}}),he)};H.url.indexOf("file://")===0&&(U.status<200||U.status>599)?ye.status=200:ye.status=U.status,ye.url="responseURL"in U?U.responseURL:ye.headers.get("X-Request-URL");var I="response"in U?U.response:U.responseText;setTimeout(function(){X(new O(I,ye))},0)},U.onerror=function(){setTimeout(function(){V(new TypeError("Network request failed"))},0)},U.ontimeout=function(){setTimeout(function(){V(new TypeError("Network request timed out"))},0)},U.onabort=function(){setTimeout(function(){V(new o.DOMException("Aborted","AbortError"))},0)},U.open(H.method,(function(ae){try{return ae===""&&u.location.href?u.location.href:ae}catch{return ae}})(H.url),!0),H.credentials==="include"?U.withCredentials=!0:H.credentials==="omit"&&(U.withCredentials=!1),"responseType"in U&&(n?U.responseType="blob":a&&(U.responseType="arraybuffer")),Q&&typeof Q.headers=="object"&&!(Q.headers instanceof y||u.Headers&&Q.headers instanceof u.Headers)){var $=[];Object.getOwnPropertyNames(Q.headers).forEach(function(ae){$.push(p(ae)),U.setRequestHeader(ae,f(Q.headers[ae]))}),H.headers.forEach(function(ae,he){$.indexOf(he)===-1&&U.setRequestHeader(he,ae)})}else H.headers.forEach(function(ae,he){U.setRequestHeader(he,ae)});H.signal&&(H.signal.addEventListener("abort",k),U.onreadystatechange=function(){U.readyState===4&&H.signal.removeEventListener("abort",k)}),U.send(H._bodyInit===void 0?null:H._bodyInit)})}R.polyfill=!0,u.fetch||(u.fetch=R,u.Headers=y,u.Request=x,u.Response=O),o.Headers=y,o.Request=x,o.Response=O,o.fetch=R,Object.defineProperty(o,"__esModule",{value:!0})})({})})(typeof self<"u"?self:this)},86551:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TRIPLE_TERM_NAMES=e.QUAD_TERM_NAMES=void 0,e.getTerms=o,e.getTermsNested=function t(a,l){const d=[];for(const p of o(a,l))p.termType==="Quad"?t(p,l).forEach(f=>d.push(f)):d.push(p);return d},e.getNamedTerms=function(t){return[{key:"subject",value:t.subject},{key:"predicate",value:t.predicate},{key:"object",value:t.object},{key:"graph",value:t.graph}]},e.collectNamedTerms=function(t,a,l){const d={};return t.forEach(p=>d[p.key]=p.value),a&&(d.subject=d.subject||a("subject"),d.predicate=d.predicate||a("predicate"),d.object=d.object||a("object"),d.graph=d.graph||a("graph")),(l||c).quad(d.subject,d.predicate,d.object,d.graph)},e.forEachTerms=function(t,a){a(t.subject,"subject"),a(t.predicate,"predicate"),a(t.object,"object"),a(t.graph,"graph")},e.forEachTermsNested=function t(a,l,d=[]){a.subject.termType==="Quad"?t(a.subject,l,[...d,"subject"]):l(a.subject,[...d,"subject"]),a.predicate.termType==="Quad"?t(a.predicate,l,[...d,"predicate"]):l(a.predicate,[...d,"predicate"]),a.object.termType==="Quad"?t(a.object,l,[...d,"object"]):l(a.object,[...d,"object"]),a.graph.termType==="Quad"?t(a.graph,l,[...d,"graph"]):l(a.graph,[...d,"graph"])},e.filterTerms=function(t,a){const l=[];return a(t.subject,"subject")&&l.push(t.subject),a(t.predicate,"predicate")&&l.push(t.predicate),a(t.object,"object")&&l.push(t.object),a(t.graph,"graph")&&l.push(t.graph),l},e.filterTermsNested=function t(a,l,d=[]){let p=[];return a.subject.termType==="Quad"?p=[...p,...t(a.subject,l,[...d,"subject"])]:l(a.subject,[...d,"subject"])&&p.push(a.subject),a.predicate.termType==="Quad"?p=[...p,...t(a.predicate,l,[...d,"predicate"])]:l(a.predicate,[...d,"predicate"])&&p.push(a.predicate),a.object.termType==="Quad"?p=[...p,...t(a.object,l,[...d,"object"])]:l(a.object,[...d,"object"])&&p.push(a.object),a.graph.termType==="Quad"?p=[...p,...t(a.graph,l,[...d,"graph"])]:l(a.graph,[...d,"graph"])&&p.push(a.graph),p},e.filterQuadTermNames=function(t,a){const l=[];return a(t.subject,"subject")&&l.push("subject"),a(t.predicate,"predicate")&&l.push("predicate"),a(t.object,"object")&&l.push("object"),a(t.graph,"graph")&&l.push("graph"),l},e.filterQuadTermNamesNested=function t(a,l,d=[]){let p=[];const f=[...d,"subject"];a.subject.termType==="Quad"?p=[...p,...t(a.subject,l,f)]:l(a.subject,f)&&p.push(f);const h=[...d,"predicate"];a.predicate.termType==="Quad"?p=[...p,...t(a.predicate,l,h)]:l(a.predicate,h)&&p.push(h);const y=[...d,"object"];a.object.termType==="Quad"?p=[...p,...t(a.object,l,y)]:l(a.object,y)&&p.push(y);const m=[...d,"graph"];return a.graph.termType==="Quad"?p=[...p,...t(a.graph,l,m)]:l(a.graph,m)&&p.push(m),p},e.mapTerms=function(t,a,l){return(l||c).quad(a(t.subject,"subject"),a(t.predicate,"predicate"),a(t.object,"object"),a(t.graph,"graph"))},e.mapTermsNested=function t(a,l,d,p=[]){return(d||c).quad(a.subject.termType==="Quad"?t(a.subject,l,d,[...p,"subject"]):l(a.subject,[...p,"subject"]),a.predicate.termType==="Quad"?t(a.predicate,l,d,[...p,"predicate"]):l(a.predicate,[...p,"predicate"]),a.object.termType==="Quad"?t(a.object,l,d,[...p,"object"]):l(a.object,[...p,"object"]),a.graph.termType==="Quad"?t(a.graph,l,d,[...p,"graph"]):l(a.graph,[...p,"graph"]))},e.reduceTerms=function(t,a,l){let d=l;return d=a(d,t.subject,"subject"),d=a(d,t.predicate,"predicate"),d=a(d,t.object,"object"),a(d,t.graph,"graph")},e.reduceTermsNested=function t(a,l,d,p=[]){let f=d;return f=a.subject.termType==="Quad"?t(a.subject,l,f,[...p,"subject"]):l(f,a.subject,[...p,"subject"]),f=a.predicate.termType==="Quad"?t(a.predicate,l,f,[...p,"predicate"]):l(f,a.predicate,[...p,"predicate"]),f=a.object.termType==="Quad"?t(a.object,l,f,[...p,"object"]):l(f,a.object,[...p,"object"]),f=a.graph.termType==="Quad"?t(a.graph,l,f,[...p,"graph"]):l(f,a.graph,[...p,"graph"]),f},e.everyTerms=u,e.everyTermsNested=function t(a,l,d=[]){return(a.subject.termType==="Quad"?t(a.subject,l,[...d,"subject"]):l(a.subject,[...d,"subject"]))&&(a.predicate.termType==="Quad"?t(a.predicate,l,[...d,"predicate"]):l(a.predicate,[...d,"predicate"]))&&(a.object.termType==="Quad"?t(a.object,l,[...d,"object"]):l(a.object,[...d,"object"]))&&(a.graph.termType==="Quad"?t(a.graph,l,[...d,"graph"]):l(a.graph,[...d,"graph"]))},e.someTerms=function(t,a){return a(t.subject,"subject")||a(t.predicate,"predicate")||a(t.object,"object")||a(t.graph,"graph")},e.someTermsNested=function t(a,l,d=[]){return(a.subject.termType==="Quad"?t(a.subject,l,[...d,"subject"]):l(a.subject,[...d,"subject"]))||(a.predicate.termType==="Quad"?t(a.predicate,l,[...d,"predicate"]):l(a.predicate,[...d,"predicate"]))||(a.object.termType==="Quad"?t(a.object,l,[...d,"object"]):l(a.object,[...d,"object"]))||(a.graph.termType==="Quad"?t(a.graph,l,[...d,"graph"]):l(a.graph,[...d,"graph"]))},e.getValueNestedPath=function t(a,l){if(l.length===0)return a;if(a.termType==="Quad")return t(a[l[0]],l.slice(1));throw new Error(`Tried to get ${l[0]} from term of type ${a.termType}`)},e.matchTerm=i,e.matchPattern=r,e.matchPatternComplete=n,e.matchPatternMappings=function(t,a,l={}){const d={};return(function p(f,h){return u(f,(y,m)=>{var b,v;const _=h[m];switch(y.termType){case"Variable":return l.skipVarMapping&&_.termType==="Variable"||((v=(b=d[y.value])===null||b===void 0?void 0:b.equals(_))!==null&&v!==void 0?v:(d[y.value]=_,!0));case"Quad":return _.termType==="Quad"&&p(y,_);default:return y.equals(_)}})})(a,t)&&(!l.returnMappings||d)};const c=new(s(20138)).DataFactory;function o(t,a){return a&&t.graph.termType==="DefaultGraph"?[t.subject,t.predicate,t.object]:[t.subject,t.predicate,t.object,t.graph]}function u(t,a){return a(t.subject,"subject")&&a(t.predicate,"predicate")&&a(t.object,"object")&&a(t.graph,"graph")}function i(t,a){return!a||a.termType==="Variable"||a.termType==="Quad"&&t.termType==="Quad"&&n(t,a)||a.equals(t)}function r(t,a,l,d,p){return i(t.subject,a)&&i(t.predicate,l)&&i(t.object,d)&&i(t.graph,p)}function n(t,a){return r(t,a.subject,a.predicate,a.object,a.graph)}e.QUAD_TERM_NAMES=["subject","predicate","object","graph"],e.TRIPLE_TERM_NAMES=["subject","predicate","object"]},86581:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(7625),e),o(s(27421),e)},86652:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryExpressionSameTerm=void 0;const c=s(77617),o=s(77545),u=s(72253);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.SparqlOperator.SAME_TERM],termFunction:!1})}async run(n){return new u.ExpressionFunctionSameTerm}}e.ActorFunctionFactoryExpressionSameTerm=i},86780:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryResultSerializeSparqlTsv=void 0;const c=s(58871),o=s(90412),u=s(46898),i=s(19198);class r extends c.ActorQueryResultSerializeFixedMediaTypes{constructor(t){super(t)}static bindingToTsvBindings(t){return t?(0,u.termToString)(t).replaceAll("	","\\t").replaceAll(`
`,"\\n").replaceAll("\r","\\r"):""}async testHandleChecked(t,a){return t.type!=="bindings"?(0,o.failTest)("This actor can only handle bindings streams."):(0,o.passTestVoid)()}async runHandle(t,a,l){const d=t,p=new i.Readable,f=await d.metadata();return p.push(`${f.variables.map(h=>h.variable.value).join("	")}
`),p.wrap(d.bindingsStream.map(h=>`${f.variables.map(y=>r.bindingToTsvBindings(h.get(y.variable))).join("	")}
`)),{data:p}}}e.ActorQueryResultSerializeSparqlTsv=r},87242:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionSha1=void 0;const c=s(77617),o=s(77545),u=s(77952);class i extends c.TermFunctionBase{constructor(){super({arity:1,operator:o.SparqlOperator.SHA1,overloads:(0,o.declare)(o.SparqlOperator.SHA1).onString1Typed(()=>n=>(0,o.string)((0,u.sha1)().update(n).digest("hex"))).collect()})}}e.TermFunctionSha1=i},87420:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryOperationService=void 0;const c=s(66490),o=s(90711),u=s(90412),i=s(81926),r=s(99214),n=s(67021),t=s(75627),a=s(89096);class l extends c.ActorQueryOperationTypedMediated{constructor(p){super(p,"service"),p.cacheSize&&p.httpInvalidator&&p.cacheSize>0&&(this.cache=new a.LRUCache({max:p.cacheSize}),p.httpInvalidator.addInvalidateListener(f=>this.handleHttpInvalidateEvent(f)))}async testOperation(p,f){return p.name.termType!=="NamedNode"?(0,u.failTest)(`${this.name} can only query services by IRI, while a ${p.name.termType} was given.`):(0,u.passTestVoid)()}async runOperation(p,f){let h,y=this.cache?.get(p.name.value);y||(y=(await this.mediatorQuerySourceIdentify.mediate({querySourceUnidentified:{value:p.name.value,type:this.forceSparqlEndpoint?"sparql":void 0},context:f})).querySource,this.cache?.set(p.name.value,y));try{h=(0,n.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:(0,n.assignOperationSource)(p.input,y),context:f}))}catch(m){if(!p.silent)throw m;{const b=f.getSafe(o.KeysInitQuery.dataFactory),v=await i.BindingsFactory.create(this.mediatorMergeBindingsContext,f,b);h={bindingsStream:new t.SingletonIterator(v.bindings()),type:"bindings",metadata:async()=>({state:new r.MetadataValidationState,cardinality:{type:"exact",value:1},variables:[]})},this.logWarn(f,`An error occurred when executing a SERVICE clause: ${m.message}`)}}return h}handleHttpInvalidateEvent(p){p.url?this.cache?.delete(p.url):this.cache?.clear()}}e.ActorQueryOperationService=l},87435:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(s){const c=[];return o=s.on("data",i=>c.push(i)),u=c,new Promise((i,r)=>{o.on("end",()=>i(u)),o.on("error",r)});var o,u}},87516:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Quad=void 0,e.Quad=class{constructor(s,c,o,u){this.termType="Quad",this.value="",this.subject=s,this.predicate=c,this.object=o,this.graph=u}equals(s){return!!s&&(s.termType==="Quad"||!s.termType)&&this.subject.equals(s.subject)&&this.predicate.equals(s.predicate)&&this.object.equals(s.object)&&this.graph.equals(s.graph)}}},87848:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(24148),e),o(s(44063),e),o(s(67726),e),o(s(31513),e),o(s(88329),e),o(s(97976),e),o(s(8486),e)},88052:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.QuadDestinationPatchSparqlUpdate=void 0;const c=s(70322),o=s(75627),u=s(46898),i=s(19198);e.QuadDestinationPatchSparqlUpdate=class{constructor(r,n,t){this.url=r,this.context=n,this.mediatorHttp=t}async update(r){const n=this.createCombinedQuadsQuery(r.insert,r.delete);await this.wrapSparqlUpdateRequest(n)}createCombinedQuadsQuery(r,n){return new o.ArrayIterator([],{autoStart:!1}).append(this.createQuadsQuery("DELETE",n)).append(n&&r?[` ;
`]:[]).append(this.createQuadsQuery("INSERT",r))}createQuadsQuery(r,n){return n?n.map(t=>{let a=`${(0,u.termToString)(t.subject)} ${(0,u.termToString)(t.predicate)} ${(0,u.termToString)(t.object)} .`;return a=t.graph.termType==="DefaultGraph"?`  ${a}
`:`  GRAPH ${(0,u.termToString)(t.graph)} { ${a} }
`,a}).prepend([`${r} DATA {
`]).append(["}"]):new o.ArrayIterator([],{autoStart:!1})}async wrapSparqlUpdateRequest(r){const n=new i.Readable;n.wrap(r);const t=new Headers({"content-type":"application/sparql-update"}),a=await this.mediatorHttp.mediate({context:this.context,init:{headers:t,method:"PATCH",body:c.ActorHttp.toWebReadableStream(n)},input:this.url});await(0,c.validateAndCloseHttpResponse)(this.url,a)}async deleteGraphs(r,n,t){throw new Error("Patch-based SPARQL Update destinations don't support named graphs")}async createGraphs(r,n){throw new Error("Patch-based SPARQL Update destinations don't support named graphs")}}},88329:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},88401:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Variable=void 0,e.Variable=class{constructor(s){this.termType="Variable",this.value=s}equals(s){return!!s&&s.termType==="Variable"&&s.value===this.value}}},88483:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DataFactory=void 0;const c=s(49931),o=s(92142),u=s(62426),i=s(43988),r=s(36754),n=s(88401);let t=0;e.DataFactory=class{constructor(a){this.blankNodeCounter=0,a=a||{},this.blankNodePrefix=a.blankNodePrefix||`df_${t++}_`}namedNode(a){return new i.NamedNode(a)}blankNode(a){return new c.BlankNode(a||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(a,l){return new u.Literal(a,l)}variable(a){return new n.Variable(a)}defaultGraph(){return o.DefaultGraph.INSTANCE}quad(a,l,d,p){return new r.Quad(a,l,d,p||this.defaultGraph())}fromTerm(a){switch(a.termType){case"NamedNode":return this.namedNode(a.value);case"BlankNode":return this.blankNode(a.value);case"Literal":return a.language?this.literal(a.value,a.language):a.datatype.equals(u.Literal.XSD_STRING)?this.literal(a.value):this.literal(a.value,this.fromTerm(a.datatype));case"Variable":return this.variable(a.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(a.subject),this.fromTerm(a.predicate),this.fromTerm(a.object),this.fromTerm(a.graph))}}fromQuad(a){return this.fromTerm(a)}resetBlankNodeCounter(){this.blankNodeCounter=0}}},88680:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},88766:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(52729),e)},88993:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(51192),e),o(s(35535),e),o(s(45144),e)},89096:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.LRUCache=void 0;const s=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,c=new Set,o=typeof process=="object"&&process?process:{},u=(p,f,h,y)=>{typeof o.emitWarning=="function"?o.emitWarning(p,f,h,y):console.error(`[${h}] ${f}: ${p}`)};let i=globalThis.AbortController,r=globalThis.AbortSignal;if(i===void 0){r=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(h,y){this._onabort.push(y)}},i=class{constructor(){f()}signal=new r;abort(h){if(!this.signal.aborted){this.signal.reason=h,this.signal.aborted=!0;for(const y of this.signal._onabort)y(h);this.signal.onabort?.(h)}}};let p=o.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1";const f=()=>{p&&(p=!1,u("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",f))}}const n=p=>p&&p===Math.floor(p)&&p>0&&isFinite(p),t=p=>n(p)?p<=Math.pow(2,8)?Uint8Array:p<=Math.pow(2,16)?Uint16Array:p<=Math.pow(2,32)?Uint32Array:p<=Number.MAX_SAFE_INTEGER?a:null:null;class a extends Array{constructor(f){super(f),this.fill(0)}}class l{heap;length;static#u=!1;static create(f){const h=t(f);if(!h)return[];l.#u=!0;const y=new l(f,h);return l.#u=!1,y}constructor(f,h){if(!l.#u)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new h(f),this.length=0}push(f){this.heap[this.length++]=f}pop(){return this.heap[--this.length]}}class d{#u;#d;#y;#g;#I;#N;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#i;#m;#n;#r;#e;#c;#p;#s;#a;#b;#o;#v;#_;#f;#w;#x;#l;static unsafeExposeInternals(f){return{starts:f.#_,ttls:f.#f,sizes:f.#v,keyMap:f.#n,keyList:f.#r,valList:f.#e,next:f.#c,prev:f.#p,get head(){return f.#s},get tail(){return f.#a},free:f.#b,isBackgroundFetch:h=>f.#t(h),backgroundFetch:(h,y,m,b)=>f.#F(h,y,m,b),moveToTail:h=>f.#P(h),indexes:h=>f.#T(h),rindexes:h=>f.#O(h),isStale:h=>f.#h(h)}}get max(){return this.#u}get maxSize(){return this.#d}get calculatedSize(){return this.#m}get size(){return this.#i}get fetchMethod(){return this.#I}get memoMethod(){return this.#N}get dispose(){return this.#y}get disposeAfter(){return this.#g}constructor(f){const{max:h=0,ttl:y,ttlResolution:m=1,ttlAutopurge:b,updateAgeOnGet:v,updateAgeOnHas:_,allowStale:w,dispose:S,disposeAfter:x,noDisposeOnSet:T,noUpdateTTL:O,maxSize:E=0,maxEntrySize:R=0,sizeCalculation:M,fetchMethod:Q,memoMethod:X,noDeleteOnFetchRejection:V,noDeleteOnStaleGet:H,allowStaleOnFetchRejection:U,allowStaleOnFetchAbort:k,ignoreFetchAbort:$}=f;if(h!==0&&!n(h))throw new TypeError("max option must be a nonnegative integer");const ae=h?t(h):Array;if(!ae)throw new Error("invalid max value: "+h);if(this.#u=h,this.#d=E,this.maxEntrySize=R||this.#d,this.sizeCalculation=M,this.sizeCalculation){if(!this.#d&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(X!==void 0&&typeof X!="function")throw new TypeError("memoMethod must be a function if defined");if(this.#N=X,Q!==void 0&&typeof Q!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#I=Q,this.#x=!!Q,this.#n=new Map,this.#r=new Array(h).fill(void 0),this.#e=new Array(h).fill(void 0),this.#c=new ae(h),this.#p=new ae(h),this.#s=0,this.#a=0,this.#b=l.create(h),this.#i=0,this.#m=0,typeof S=="function"&&(this.#y=S),typeof x=="function"?(this.#g=x,this.#o=[]):(this.#g=void 0,this.#o=void 0),this.#w=!!this.#y,this.#l=!!this.#g,this.noDisposeOnSet=!!T,this.noUpdateTTL=!!O,this.noDeleteOnFetchRejection=!!V,this.allowStaleOnFetchRejection=!!U,this.allowStaleOnFetchAbort=!!k,this.ignoreFetchAbort=!!$,this.maxEntrySize!==0){if(this.#d!==0&&!n(this.#d))throw new TypeError("maxSize must be a positive integer if specified");if(!n(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#U()}if(this.allowStale=!!w,this.noDeleteOnStaleGet=!!H,this.updateAgeOnGet=!!v,this.updateAgeOnHas=!!_,this.ttlResolution=n(m)||m===0?m:1,this.ttlAutopurge=!!b,this.ttl=y||0,this.ttl){if(!n(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#M()}if(this.#u===0&&this.ttl===0&&this.#d===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#u&&!this.#d){const he="LRU_CACHE_UNBOUNDED";(ye=>!c.has(ye))(he)&&(c.add(he),u("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",he,d))}}getRemainingTTL(f){return this.#n.has(f)?1/0:0}#M(){const f=new a(this.#u),h=new a(this.#u);this.#f=f,this.#_=h,this.#L=(b,v,_=s.now())=>{if(h[b]=v!==0?_:0,f[b]=v,v!==0&&this.ttlAutopurge){const w=setTimeout(()=>{this.#h(b)&&this.#S(this.#r[b],"expire")},v+1);w.unref&&w.unref()}},this.#A=b=>{h[b]=f[b]!==0?s.now():0},this.#E=(b,v)=>{if(f[v]){const _=f[v],w=h[v];if(!_||!w)return;b.ttl=_,b.start=w,b.now=y||m();const S=b.now-w;b.remainingTTL=_-S}};let y=0;const m=()=>{const b=s.now();if(this.ttlResolution>0){y=b;const v=setTimeout(()=>y=0,this.ttlResolution);v.unref&&v.unref()}return b};this.getRemainingTTL=b=>{const v=this.#n.get(b);if(v===void 0)return 0;const _=f[v],w=h[v];return _&&w?_-((y||m())-w):1/0},this.#h=b=>{const v=h[b],_=f[b];return!!_&&!!v&&(y||m())-v>_}}#A=()=>{};#E=()=>{};#L=()=>{};#h=()=>!1;#U(){const f=new a(this.#u);this.#m=0,this.#v=f,this.#j=h=>{this.#m-=f[h],f[h]=0},this.#C=(h,y,m,b)=>{if(this.#t(y))return 0;if(!n(m)){if(!b)throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");if(typeof b!="function")throw new TypeError("sizeCalculation must be a function");if(m=b(y,h),!n(m))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}return m},this.#R=(h,y,m)=>{if(f[h]=y,this.#d){const b=this.#d-f[h];for(;this.#m>b;)this.#D(!0)}this.#m+=f[h],m&&(m.entrySize=y,m.totalCalculatedSize=this.#m)}}#j=f=>{};#R=(f,h,y)=>{};#C=(f,h,y,m)=>{if(y||m)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#T({allowStale:f=this.allowStale}={}){if(this.#i)for(let h=this.#a;this.#k(h)&&(!f&&this.#h(h)||(yield h),h!==this.#s);)h=this.#p[h]}*#O({allowStale:f=this.allowStale}={}){if(this.#i)for(let h=this.#s;this.#k(h)&&(!f&&this.#h(h)||(yield h),h!==this.#a);)h=this.#c[h]}#k(f){return f!==void 0&&this.#n.get(this.#r[f])===f}*entries(){for(const f of this.#T())this.#e[f]===void 0||this.#r[f]===void 0||this.#t(this.#e[f])||(yield[this.#r[f],this.#e[f]])}*rentries(){for(const f of this.#O())this.#e[f]===void 0||this.#r[f]===void 0||this.#t(this.#e[f])||(yield[this.#r[f],this.#e[f]])}*keys(){for(const f of this.#T()){const h=this.#r[f];h===void 0||this.#t(this.#e[f])||(yield h)}}*rkeys(){for(const f of this.#O()){const h=this.#r[f];h===void 0||this.#t(this.#e[f])||(yield h)}}*values(){for(const f of this.#T())this.#e[f]===void 0||this.#t(this.#e[f])||(yield this.#e[f])}*rvalues(){for(const f of this.#O())this.#e[f]===void 0||this.#t(this.#e[f])||(yield this.#e[f])}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(f,h={}){for(const y of this.#T()){const m=this.#e[y],b=this.#t(m)?m.__staleWhileFetching:m;if(b!==void 0&&f(b,this.#r[y],this))return this.get(this.#r[y],h)}}forEach(f,h=this){for(const y of this.#T()){const m=this.#e[y],b=this.#t(m)?m.__staleWhileFetching:m;b!==void 0&&f.call(h,b,this.#r[y],this)}}rforEach(f,h=this){for(const y of this.#O()){const m=this.#e[y],b=this.#t(m)?m.__staleWhileFetching:m;b!==void 0&&f.call(h,b,this.#r[y],this)}}purgeStale(){let f=!1;for(const h of this.#O({allowStale:!0}))this.#h(h)&&(this.#S(this.#r[h],"expire"),f=!0);return f}info(f){const h=this.#n.get(f);if(h===void 0)return;const y=this.#e[h],m=this.#t(y)?y.__staleWhileFetching:y;if(m===void 0)return;const b={value:m};if(this.#f&&this.#_){const v=this.#f[h],_=this.#_[h];if(v&&_){const w=v-(s.now()-_);b.ttl=w,b.start=Date.now()}}return this.#v&&(b.size=this.#v[h]),b}dump(){const f=[];for(const h of this.#T({allowStale:!0})){const y=this.#r[h],m=this.#e[h],b=this.#t(m)?m.__staleWhileFetching:m;if(b===void 0||y===void 0)continue;const v={value:b};if(this.#f&&this.#_){v.ttl=this.#f[h];const _=s.now()-this.#_[h];v.start=Math.floor(Date.now()-_)}this.#v&&(v.size=this.#v[h]),f.unshift([y,v])}return f}load(f){this.clear();for(const[h,y]of f){if(y.start){const m=Date.now()-y.start;y.start=s.now()-m}this.set(h,y.value,y)}}set(f,h,y={}){if(h===void 0)return this.delete(f),this;const{ttl:m=this.ttl,start:b,noDisposeOnSet:v=this.noDisposeOnSet,sizeCalculation:_=this.sizeCalculation,status:w}=y;let{noUpdateTTL:S=this.noUpdateTTL}=y;const x=this.#C(f,h,y.size||0,_);if(this.maxEntrySize&&x>this.maxEntrySize)return w&&(w.set="miss",w.maxEntrySizeExceeded=!0),this.#S(f,"set"),this;let T=this.#i===0?void 0:this.#n.get(f);if(T===void 0)T=this.#i===0?this.#a:this.#b.length!==0?this.#b.pop():this.#i===this.#u?this.#D(!1):this.#i,this.#r[T]=f,this.#e[T]=h,this.#n.set(f,T),this.#c[this.#a]=T,this.#p[T]=this.#a,this.#a=T,this.#i++,this.#R(T,x,w),w&&(w.set="add"),S=!1;else{this.#P(T);const O=this.#e[T];if(h!==O){if(this.#x&&this.#t(O)){O.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:E}=O;E===void 0||v||(this.#w&&this.#y?.(E,f,"set"),this.#l&&this.#o?.push([E,f,"set"]))}else v||(this.#w&&this.#y?.(O,f,"set"),this.#l&&this.#o?.push([O,f,"set"]));if(this.#j(T),this.#R(T,x,w),this.#e[T]=h,w){w.set="replace";const E=O&&this.#t(O)?O.__staleWhileFetching:O;E!==void 0&&(w.oldValue=E)}}else w&&(w.set="update")}if(m===0||this.#f||this.#M(),this.#f&&(S||this.#L(T,m,b),w&&this.#E(w,T)),!v&&this.#l&&this.#o){const O=this.#o;let E;for(;E=O?.shift();)this.#g?.(...E)}return this}pop(){try{for(;this.#i;){const f=this.#e[this.#s];if(this.#D(!0),this.#t(f)){if(f.__staleWhileFetching)return f.__staleWhileFetching}else if(f!==void 0)return f}}finally{if(this.#l&&this.#o){const f=this.#o;let h;for(;h=f?.shift();)this.#g?.(...h)}}}#D(f){const h=this.#s,y=this.#r[h],m=this.#e[h];return this.#x&&this.#t(m)?m.__abortController.abort(new Error("evicted")):(this.#w||this.#l)&&(this.#w&&this.#y?.(m,y,"evict"),this.#l&&this.#o?.push([m,y,"evict"])),this.#j(h),f&&(this.#r[h]=void 0,this.#e[h]=void 0,this.#b.push(h)),this.#i===1?(this.#s=this.#a=0,this.#b.length=0):this.#s=this.#c[h],this.#n.delete(y),this.#i--,h}has(f,h={}){const{updateAgeOnHas:y=this.updateAgeOnHas,status:m}=h,b=this.#n.get(f);if(b!==void 0){const v=this.#e[b];if(this.#t(v)&&v.__staleWhileFetching===void 0)return!1;if(!this.#h(b))return y&&this.#A(b),m&&(m.has="hit",this.#E(m,b)),!0;m&&(m.has="stale",this.#E(m,b))}else m&&(m.has="miss");return!1}peek(f,h={}){const{allowStale:y=this.allowStale}=h,m=this.#n.get(f);if(m===void 0||!y&&this.#h(m))return;const b=this.#e[m];return this.#t(b)?b.__staleWhileFetching:b}#F(f,h,y,m){const b=h===void 0?void 0:this.#e[h];if(this.#t(b))return b;const v=new i,{signal:_}=y;_?.addEventListener("abort",()=>v.abort(_.reason),{signal:v.signal});const w={signal:v.signal,options:y,context:m},S=(E,R=!1)=>{const{aborted:M}=v.signal,Q=y.ignoreFetchAbort&&E!==void 0;if(y.status&&(M&&!R?(y.status.fetchAborted=!0,y.status.fetchError=v.signal.reason,Q&&(y.status.fetchAbortIgnored=!0)):y.status.fetchResolved=!0),M&&!Q&&!R)return x(v.signal.reason);const X=T;return this.#e[h]===T&&(E===void 0?X.__staleWhileFetching?this.#e[h]=X.__staleWhileFetching:this.#S(f,"fetch"):(y.status&&(y.status.fetchUpdated=!0),this.set(f,E,w.options))),E},x=E=>{const{aborted:R}=v.signal,M=R&&y.allowStaleOnFetchAbort,Q=M||y.allowStaleOnFetchRejection,X=Q||y.noDeleteOnFetchRejection,V=T;if(this.#e[h]===T&&(X&&V.__staleWhileFetching!==void 0?M||(this.#e[h]=V.__staleWhileFetching):this.#S(f,"fetch")),Q)return y.status&&V.__staleWhileFetching!==void 0&&(y.status.returnedStale=!0),V.__staleWhileFetching;if(V.__returned===V)throw E};y.status&&(y.status.fetchDispatched=!0);const T=new Promise((E,R)=>{const M=this.#I?.(f,b,w);M&&M instanceof Promise&&M.then(Q=>E(Q===void 0?void 0:Q),R),v.signal.addEventListener("abort",()=>{y.ignoreFetchAbort&&!y.allowStaleOnFetchAbort||(E(void 0),y.allowStaleOnFetchAbort&&(E=Q=>S(Q,!0)))})}).then(S,E=>(y.status&&(y.status.fetchRejected=!0,y.status.fetchError=E),x(E))),O=Object.assign(T,{__abortController:v,__staleWhileFetching:b,__returned:void 0});return h===void 0?(this.set(f,O,{...w.options,status:void 0}),h=this.#n.get(f)):this.#e[h]=O,O}#t(f){if(!this.#x)return!1;const h=f;return!!h&&h instanceof Promise&&h.hasOwnProperty("__staleWhileFetching")&&h.__abortController instanceof i}async fetch(f,h={}){const{allowStale:y=this.allowStale,updateAgeOnGet:m=this.updateAgeOnGet,noDeleteOnStaleGet:b=this.noDeleteOnStaleGet,ttl:v=this.ttl,noDisposeOnSet:_=this.noDisposeOnSet,size:w=0,sizeCalculation:S=this.sizeCalculation,noUpdateTTL:x=this.noUpdateTTL,noDeleteOnFetchRejection:T=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:O=this.allowStaleOnFetchRejection,ignoreFetchAbort:E=this.ignoreFetchAbort,allowStaleOnFetchAbort:R=this.allowStaleOnFetchAbort,context:M,forceRefresh:Q=!1,status:X,signal:V}=h;if(!this.#x)return X&&(X.fetch="get"),this.get(f,{allowStale:y,updateAgeOnGet:m,noDeleteOnStaleGet:b,status:X});const H={allowStale:y,updateAgeOnGet:m,noDeleteOnStaleGet:b,ttl:v,noDisposeOnSet:_,size:w,sizeCalculation:S,noUpdateTTL:x,noDeleteOnFetchRejection:T,allowStaleOnFetchRejection:O,allowStaleOnFetchAbort:R,ignoreFetchAbort:E,status:X,signal:V};let U=this.#n.get(f);if(U===void 0){X&&(X.fetch="miss");const k=this.#F(f,U,H,M);return k.__returned=k}{const k=this.#e[U];if(this.#t(k)){const ye=y&&k.__staleWhileFetching!==void 0;return X&&(X.fetch="inflight",ye&&(X.returnedStale=!0)),ye?k.__staleWhileFetching:k.__returned=k}const $=this.#h(U);if(!Q&&!$)return X&&(X.fetch="hit"),this.#P(U),m&&this.#A(U),X&&this.#E(X,U),k;const ae=this.#F(f,U,H,M),he=ae.__staleWhileFetching!==void 0&&y;return X&&(X.fetch=$?"stale":"refresh",he&&$&&(X.returnedStale=!0)),he?ae.__staleWhileFetching:ae.__returned=ae}}async forceFetch(f,h={}){const y=await this.fetch(f,h);if(y===void 0)throw new Error("fetch() returned undefined");return y}memo(f,h={}){const y=this.#N;if(!y)throw new Error("no memoMethod provided to constructor");const{context:m,forceRefresh:b,...v}=h,_=this.get(f,v);if(!b&&_!==void 0)return _;const w=y(f,_,{options:v,context:m});return this.set(f,w,v),w}get(f,h={}){const{allowStale:y=this.allowStale,updateAgeOnGet:m=this.updateAgeOnGet,noDeleteOnStaleGet:b=this.noDeleteOnStaleGet,status:v}=h,_=this.#n.get(f);if(_!==void 0){const w=this.#e[_],S=this.#t(w);return v&&this.#E(v,_),this.#h(_)?(v&&(v.get="stale"),S?(v&&y&&w.__staleWhileFetching!==void 0&&(v.returnedStale=!0),y?w.__staleWhileFetching:void 0):(b||this.#S(f,"expire"),v&&y&&(v.returnedStale=!0),y?w:void 0)):(v&&(v.get="hit"),S?w.__staleWhileFetching:(this.#P(_),m&&this.#A(_),w))}v&&(v.get="miss")}#q(f,h){this.#p[h]=f,this.#c[f]=h}#P(f){f!==this.#a&&(f===this.#s?this.#s=this.#c[f]:this.#q(this.#p[f],this.#c[f]),this.#q(this.#a,f),this.#a=f)}delete(f){return this.#S(f,"delete")}#S(f,h){let y=!1;if(this.#i!==0){const m=this.#n.get(f);if(m!==void 0)if(y=!0,this.#i===1)this.#B(h);else{this.#j(m);const b=this.#e[m];if(this.#t(b)?b.__abortController.abort(new Error("deleted")):(this.#w||this.#l)&&(this.#w&&this.#y?.(b,f,h),this.#l&&this.#o?.push([b,f,h])),this.#n.delete(f),this.#r[m]=void 0,this.#e[m]=void 0,m===this.#a)this.#a=this.#p[m];else if(m===this.#s)this.#s=this.#c[m];else{const v=this.#p[m];this.#c[v]=this.#c[m];const _=this.#c[m];this.#p[_]=this.#p[m]}this.#i--,this.#b.push(m)}}if(this.#l&&this.#o?.length){const m=this.#o;let b;for(;b=m?.shift();)this.#g?.(...b)}return y}clear(){return this.#B("delete")}#B(f){for(const h of this.#O({allowStale:!0})){const y=this.#e[h];if(this.#t(y))y.__abortController.abort(new Error("deleted"));else{const m=this.#r[h];this.#w&&this.#y?.(y,m,f),this.#l&&this.#o?.push([y,m,f])}}if(this.#n.clear(),this.#e.fill(void 0),this.#r.fill(void 0),this.#f&&this.#_&&(this.#f.fill(0),this.#_.fill(0)),this.#v&&this.#v.fill(0),this.#s=0,this.#a=0,this.#b.length=0,this.#m=0,this.#i=0,this.#l&&this.#o){const h=this.#o;let y;for(;y=h?.shift();)this.#g?.(...y)}}}e.LRUCache=d},89115:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(87420),e)},89195:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionIsBlank=void 0;const c=s(77617),o=s(77545);class u extends c.TermFunctionBase{constructor(){super({arity:1,operator:o.SparqlOperator.IS_BLANK,overloads:(0,o.declare)(o.SparqlOperator.IS_BLANK).onTerm1(()=>r=>(0,o.bool)(r.termType==="blankNode")).collect()})}}e.TermFunctionIsBlank=u},89250:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SeparatorType=void 0;class s{constructor(o){this.label=o}}e.SeparatorType=s,s.COMMA=new s(","),s.OBJECT_START=new s("{"),s.OBJECT_END=new s("}"),s.OBJECT_END_COMMA=new s("},"),s.ARRAY_START=new s("["),s.ARRAY_END=new s("]"),s.ARRAY_END_COMMA=new s("],"),s.GRAPH_FIELD_NONCOMPACT=new s('"@graph": ['),s.GRAPH_FIELD_COMPACT=new s('"@graph":['),s.CONTEXT_FIELD=new s('"@context":')},89275:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeHandlerSelectionField=void 0;const c=s(53284);class o extends c.NodeHandlerSelectionAdapter{constructor(i,r){super("Field",i,r)}handle(i,r){return this.fieldToOperation(r,i,!0)}}e.NodeHandlerSelectionField=o},89339:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeValueHandlerObject=void 0;const c=s(55009);class o extends c.NodeValueHandlerAdapter{constructor(i,r){super("ObjectValue",i,r)}handle(i,r,n){const t=this.util.dataFactory.blankNode();let a=[];for(const l of i.fields){const d=this.util.handleNodeValue(l.value,r,n);for(const p of d.terms)a.push(this.util.createQuadPattern(t,l.name,p,n.graph,n.context));d.auxiliaryPatterns&&(a=a.concat(d.auxiliaryPatterns))}return{terms:[t],auxiliaryPatterns:a}}}e.NodeValueHandlerObject=o},89349:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryExpressionConcat=void 0;const c=s(77617),o=s(77545),u=s(73392);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.SparqlOperator.CONCAT],termFunction:!1})}async run(n){return new u.ExpressionFunctionConcat}}e.ActorFunctionFactoryExpressionConcat=i},89529:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.stringQuadToQuad=e.quadToStringQuad=e.stringToTerm=e.getLiteralLanguage=e.getLiteralType=e.getLiteralValue=e.termToString=void 0;const c=new(s(47793)).DataFactory;function o(t){if(t)switch(t.termType){case"NamedNode":case"DefaultGraph":return t.value;case"BlankNode":return"_:"+t.value;case"Literal":const a=t;return'"'+a.value+'"'+(a.datatype&&a.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&a.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?"^^"+a.datatype.value:"")+(a.language?"@"+a.language:"");case"Quad":return`<<${o(t.subject)} ${o(t.predicate)} ${o(t.object)}${t.graph.termType==="DefaultGraph"?"":" "+o(t.graph)}>>`;case"Variable":return"?"+t.value}}function u(t){const a=/^"([^]*)"/.exec(t);if(!a)throw new Error(t+" is not a literal");return a[1]}function i(t){const a=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(t);if(!a)throw new Error(t+" is not a literal");return a[1]||(a[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}function r(t){const a=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(t);if(!a)throw new Error(t+" is not a literal");return a[1]?a[1].toLowerCase():""}function n(t,a){if(a=a||c,!t||!t.length)return a.defaultGraph();switch(t[0]){case"_":return a.blankNode(t.substr(2));case"?":if(!a.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return a.variable(t.substr(1));case'"':const l=r(t),d=a.namedNode(i(t));return a.literal(u(t),l||d);default:if(t[0]==="<"&&t.length>4&&t[1]==="<"&&t[t.length-1]===">"&&t[t.length-2]===">"){const p=t.slice(2,-2).trim();let f=[],h=0,y=0,m=!1;for(let b=0;b<p.length;b++){const v=p[b];if(v==="<"&&h++,v===">"){if(h===0)throw new Error("Found closing tag without opening tag in "+t);h--}if(v==='"'){let _=!1,w=b;for(;w-- >0&&p[w]==="\\";)_=!_;_||(m=!m)}if(v===" "&&!m&&h===0){for(f.push(p.slice(y,b));p[b+1]===" ";)b+=1;y=b+1}}if(h!==0)throw new Error("Found opening tag without closing tag in "+t);if(f.push(p.slice(y,p.length)),f.length!==3&&f.length!==4)throw new Error("Nested quad syntax error "+t);return f=f.map(b=>b.startsWith("<")&&!b.includes(" ")?b.slice(1,-1):b),a.quad(n(f[0]),n(f[1]),n(f[2]),f[3]?n(f[3]):void 0)}return a.namedNode(t)}}e.termToString=o,e.getLiteralValue=u,e.getLiteralType=i,e.getLiteralLanguage=r,e.stringToTerm=n,e.quadToStringQuad=function(t){return{subject:o(t.subject),predicate:o(t.predicate),object:o(t.object),graph:o(t.graph)}},e.stringQuadToQuad=function(t,a){return(a=a||c).quad(n(t.subject,a),n(t.predicate,a),n(t.object,a),n(t.graph,a))}},89760:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryOperationProject=void 0;const c=s(66490),o=s(90711),u=s(90412),i=s(51296),r=s(67021);class n extends c.ActorQueryOperationTypedMediated{constructor(a){super(a,"project")}async testOperation(a,l){return(0,u.passTestVoid)()}async runOperation(a,l){const d=l.getSafe(o.KeysInitQuery.dataFactory),p=(0,r.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:a.input,context:l})),f=await p.metadata(),h=Object.fromEntries(f.variables.map(S=>[S.variable.value,S])),y=a.variables.map(S=>({variable:S,canBeUndef:!1})),m=Object.fromEntries(y.map(S=>[S.variable.value,S])),b=f.variables.filter(S=>!(S.variable.value in m)),v=y.map(S=>({variable:S.variable,canBeUndef:!(S.variable.value in h)||h[S.variable.value].canBeUndef}));let _=b.length===0?p.bindingsStream:p.bindingsStream.map(S=>{for(const x of b)S=S.delete(x.variable);return S}),w=0;return _=_.map(S=>{w++;const x=new Map;return S.map(T=>{if(T instanceof i.BlankNodeBindingsScoped){let O=x.get(T.value);return O||(O=d.blankNode(`${T.value}${w}`),x.set(T.value,O)),O}return T})}),{type:"bindings",bindingsStream:_,metadata:async()=>({...f,variables:v})}}}e.ActorQueryOperationProject=n},89898:(g,e,s)=>{s.r(e),s.d(e,{clearImmediate:()=>n,setImmediate:()=>r});let c=1;const o=new Map;let u,i=!1,r=(l,...d)=>(o.set(c,[l,d]),u(c),c++),n=l=>{o.delete(l)};function t(l){if(i)setTimeout(t,0,l);else{const d=o.get(l);if(d){i=!0;try{d[0](...d[1])}finally{n(l),i=!1}}}}const a=typeof self>"u"?s.g===void 0?void 0:s.g:self;a.setImmediate?(r=a.setImmediate,n=a.clearImmediate):a.importScripts?(function(){const l=new MessageChannel;l.port1.onmessage=d=>{t(d.data)},u=d=>{l.port2.postMessage(d)}})():(function(){const l=`setImmediate$${Math.random()}$`;window.addEventListener("message",d=>{typeof d.data=="string"&&d.data.startsWith(l)&&t(+d.data.slice(l.length))}),u=d=>{window.postMessage(l+d,"*")}})()},90178:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(38951),e)},90246:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfJoinMultiSmallestFilterBindings=void 0;const c=s(95445),o=s(90711),u=s(90412),i=s(81926),r=s(4809),n=s(67021),t=s(75627),a=s(96331);class l extends c.ActorRdfJoin{constructor(p){super(p,{logicalType:"inner",physicalName:"multi-smallest-filter-bindings",limitEntries:2,limitEntriesMin:!0,isLeaf:!1})}async sortJoinEntries(p,f){let{entries:h}=await this.mediatorJoinEntriesSort.mediate({entries:p,context:f});h=h.sort((w,S)=>w.operationModified&&!S.operationModified?-1:0);const y=h.splice(0,1)[0];let m,b=-1,v=0;for(const[w,S]of h.entries()){const x=y.metadata.variables.filter(T=>S.metadata.variables.some(O=>T.variable.equals(O.variable))).length;(!m||x>v||x===v&&(S.metadata.variables.length<m.metadata.variables.length||S.metadata.variables.length===m.metadata.variables.length&&S.metadata.cardinality.value<m.metadata.cardinality.value))&&(m=S,b=w,v=x)}if(v===0)return(0,u.failTest)(`Actor ${this.name} can only join with common variables`);const _=h;return _.splice(b,1),(0,u.passTest)({first:y,second:m,remaining:_})}async getOutput(p){const f=p.context.getSafe(o.KeysInitQuery.dataFactory),h=new a.Factory(f),y=await c.ActorRdfJoin.getEntriesWithMetadatas([...p.entries]),{first:m,second:b,remaining:v}=(await this.sortJoinEntries(y,p.context)).getOrThrow(),_=m.output.bindingsStream;m.output.bindingsStream=_.clone();const w=m.metadata.variables.filter(Q=>b.metadata.variables.some(X=>Q.variable.equals(X.variable))),S={},x=_.clone().map(Q=>Q.filter((X,V)=>w.some(H=>H.variable.equals(V)))).filter(Q=>{const X=(0,i.bindingsToString)(Q);return!(X in S)&&(S[X]=!0)}),T=new r.ChunkedIterator(x,this.blockSize,{autoStart:!1}),O=(0,n.getOperationSource)(b.operation),E={output:{type:"bindings",bindingsStream:new t.UnionIterator(T.map(Q=>O.source.queryBindings(b.operation,O.context?p.context.merge(O.context):p.context,{filterBindings:{bindings:Q,metadata:m.metadata}}))),metadata:b.output.metadata},operation:b.operation,operationModified:!0};b.output.bindingsStream.destroy();const R={output:(0,n.getSafeBindings)(await this.mediatorJoin.mediate({type:p.type,entries:[m,E],context:p.context.set(o.KeysRdfJoin.lastPhysicalJoin,this.physicalName)})),operation:h.createJoin([m.operation,E.operation],!1),operationModified:!0},M=v;return M.unshift(R),{result:await this.mediatorJoin.mediate({type:p.type,entries:M,context:p.context}),physicalPlanMetadata:{firstIndex:y.indexOf(m),secondIndex:y.indexOf(b)}}}async getJoinCoefficients(p,f){let{metadatas:h}=f;if(p.context.get(o.KeysRdfJoin.lastPhysicalJoin)===this.physicalName)return(0,u.failTest)(`Actor ${this.name} can not be called recursively`);h=[...h];const y=await this.sortJoinEntries(p.entries.map((M,Q)=>({...M,metadata:h[Q]})),p.context);if(y.isFailed())return y;const{first:m,second:b,remaining:v}=y.get(),_=(0,n.getOperationSource)(b.operation);if(!_)return(0,u.failTest)(`Actor ${this.name} can only process if entries[1] has a source`);const w=b.operation,S=await _.source.getSelectorShape(p.context),x=p.context.get(o.KeysInitQuery.extensionFunctionsAlwaysPushdown);if(!(0,n.doesShapeAcceptOperation)(S,w,{filterBindings:!0,wildcardAcceptAllExtensionFunctions:x}))return(0,u.failTest)(`Actor ${this.name} can only process if entries[1] accept filterBindings`);h=[m.metadata,b.metadata,...v.map(M=>M.metadata)];const T=c.ActorRdfJoin.getRequestInitialTimes(h),O=c.ActorRdfJoin.getRequestItemTimes(h),{selectivity:E}=await this.mediatorJoinSelectivity.mediate({entries:[m,b],context:p.context}),R=v.reduce((M,Q)=>M*Q.metadata.cardinality.value*this.selectivityModifier,1);return(0,u.passTestWithSideData)({iterations:E*this.selectivityModifier*b.metadata.cardinality.value*R,persistedItems:m.metadata.cardinality.value,blockingItems:m.metadata.cardinality.value,requestTime:T[0]+h[0].cardinality.value*O[0]+T[1]+R*O[1]},f)}}e.ActorRdfJoinMultiSmallestFilterBindings=l},90284:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorContextPreprocessQuerySourceIdentify=void 0;const c=s(98926),o=s(90711),u=s(90412),i=s(89096);class r extends c.ActorContextPreprocess{constructor(t){super(t),this.cache=this.cacheSize?new i.LRUCache({max:this.cacheSize}):void 0;const a=this.cache;a&&this.httpInvalidator.addInvalidateListener(({url:l})=>l?a.delete(l):a.clear())}async test(t){return(0,u.passTestVoid)()}async run(t){let a=t.context;if(a.has(o.KeysInitQuery.querySourcesUnidentified)){const l=t.context.get(o.KeysInitQuery.querySourcesUnidentified),d=await Promise.all(l.map(h=>this.expandSource(h))),p=await Promise.all(d.map(async h=>this.identifySource(h,t.context))),f=t.context.get(o.KeysStatistics.dereferencedLinks);if(f)for(const h of p)f.updateStatistic({url:h.source.referenceValue,metadata:{seed:!0}},h.source);a=t.context.delete(o.KeysInitQuery.querySourcesUnidentified).set(o.KeysQueryOperation.querySources,p)}return{context:a}}async expandSource(t){return typeof t=="string"||"match"in t?{value:t}:{...t,context:(await this.mediatorContextPreprocess.mediate({context:u.ActionContext.ensureActionContext(t.context??{})})).context}}identifySource(t,a){let l;return typeof t.value=="string"&&this.cache&&(l=this.cache.get(t.value)),l||(l=this.mediatorQuerySourceIdentify.mediate({querySourceUnidentified:t,context:a}).then(({querySource:d})=>d),typeof t.value=="string"&&this.cache&&this.cache.set(t.value,l)),l}}e.ActorContextPreprocessQuerySourceIdentify=r},90289:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.stringQuadToQuad=e.quadToStringQuad=e.stringToTerm=e.getLiteralLanguage=e.getLiteralType=e.getLiteralValue=e.termToString=void 0;const c=new(s(47793)).DataFactory;function o(t){if(t)switch(t.termType){case"NamedNode":case"DefaultGraph":return t.value;case"BlankNode":return"_:"+t.value;case"Literal":const a=t;return'"'+a.value+'"'+(a.datatype&&a.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&a.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?"^^"+a.datatype.value:"")+(a.language?"@"+a.language:"");case"Quad":return`<<${o(t.subject)} ${o(t.predicate)} ${o(t.object)}${t.graph.termType==="DefaultGraph"?"":" "+o(t.graph)}>>`;case"Variable":return"?"+t.value}}function u(t){const a=/^"([^]*)"/.exec(t);if(!a)throw new Error(t+" is not a literal");return a[1]}function i(t){const a=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(t);if(!a)throw new Error(t+" is not a literal");return a[1]||(a[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}function r(t){const a=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(t);if(!a)throw new Error(t+" is not a literal");return a[1]?a[1].toLowerCase():""}function n(t,a){if(a=a||c,!t||!t.length)return a.defaultGraph();switch(t[0]){case"_":return a.blankNode(t.substr(2));case"?":if(!a.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return a.variable(t.substr(1));case'"':const l=r(t),d=a.namedNode(i(t));return a.literal(u(t),l||d);default:if(t[0]==="<"&&t.length>4&&t[1]==="<"&&t[t.length-1]===">"&&t[t.length-2]===">"){const p=t.slice(2,-2).trim();let f=[],h=0,y=0,m=!1;for(let b=0;b<p.length;b++){const v=p[b];if(v==="<"&&h++,v===">"){if(h===0)throw new Error("Found closing tag without opening tag in "+t);h--}if(v==='"'){let _=!1,w=b;for(;w-- >0&&p[w]==="\\";)_=!_;_||(m=!m)}if(v===" "&&!m&&h===0){for(f.push(p.slice(y,b));p[b+1]===" ";)b+=1;y=b+1}}if(h!==0)throw new Error("Found opening tag without closing tag in "+t);if(f.push(p.slice(y,p.length)),f.length!==3&&f.length!==4)throw new Error("Nested quad syntax error "+t);return f=f.map(b=>b.startsWith("<")&&!b.includes(" ")?b.slice(1,-1):b),a.quad(n(f[0]),n(f[1]),n(f[2]),f[3]?n(f[3]):void 0)}return a.namedNode(t)}}e.termToString=o,e.getLiteralValue=u,e.getLiteralType=i,e.getLiteralLanguage=r,e.stringToTerm=n,e.quadToStringQuad=function(t){return{subject:o(t.subject),predicate:o(t.predicate),object:o(t.object),graph:o(t.graph)}},e.stringQuadToQuad=function(t,a){return(a=a||c).quad(n(t.subject,a),n(t.predicate,a),n(t.object,a),n(t.graph,a))}},90412:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(94301),e),o(s(92126),e),o(s(2437),e),o(s(84983),e),o(s(61782),e),o(s(681),e),o(s(65991),e),o(s(14231),e)},90602:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Logger=void 0;class s{static getLevelOrdinal(o){return s.LEVELS[o]}}e.Logger=s,s.LEVELS={trace:0,debug:1,info:2,warn:3,error:4,fatal:5}},90636:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},90691:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.termToString=e.stringToTerm=e.stringQuadToQuad=e.quadToStringQuad=e.getLiteralValue=e.getLiteralType=e.getLiteralLanguage=void 0;const c=s(90289);Object.defineProperty(e,"getLiteralLanguage",{enumerable:!0,get:function(){return c.getLiteralLanguage}}),Object.defineProperty(e,"getLiteralType",{enumerable:!0,get:function(){return c.getLiteralType}}),Object.defineProperty(e,"getLiteralValue",{enumerable:!0,get:function(){return c.getLiteralValue}}),Object.defineProperty(e,"quadToStringQuad",{enumerable:!0,get:function(){return c.quadToStringQuad}}),Object.defineProperty(e,"stringQuadToQuad",{enumerable:!0,get:function(){return c.stringQuadToQuad}}),Object.defineProperty(e,"stringToTerm",{enumerable:!0,get:function(){return c.stringToTerm}}),Object.defineProperty(e,"termToString",{enumerable:!0,get:function(){return c.termToString}})},90711:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(19039),e)},90718:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.filter=function(u,i,r,n){return r===void 0&&(r=!0),n===void 0&&(n=1/0),o(u,Array.isArray(i)?i:[i],r,n)},e.find=o,e.findOneChild=function(u,i){return i.find(u)},e.findOne=function u(i,r,n){n===void 0&&(n=!0);for(var t=Array.isArray(r)?r:[r],a=0;a<t.length;a++){var l=t[a];if((0,c.isTag)(l)&&i(l))return l;if(n&&(0,c.hasChildren)(l)&&l.children.length>0){var d=u(i,l.children,!0);if(d)return d}}return null},e.existsOne=function u(i,r){return(Array.isArray(r)?r:[r]).some(function(n){return(0,c.isTag)(n)&&i(n)||(0,c.hasChildren)(n)&&u(i,n.children)})},e.findAll=function(u,i){for(var r=[],n=[Array.isArray(i)?i:[i]],t=[0];;)if(t[0]>=n[0].length){if(n.length===1)return r;n.shift(),t.shift()}else{var a=n[0][t[0]++];(0,c.isTag)(a)&&u(a)&&r.push(a),(0,c.hasChildren)(a)&&a.children.length>0&&(t.unshift(0),n.unshift(a.children))}};var c=s(41141);function o(u,i,r,n){for(var t=[],a=[Array.isArray(i)?i:[i]],l=[0];;)if(l[0]>=a[0].length){if(l.length===1)return t;a.shift(),l.shift()}else{var d=a[0][l[0]++];if(u(d)&&(t.push(d),--n<=0))return t;r&&(0,c.hasChildren)(d)&&d.children.length>0&&(l.unshift(0),a.unshift(d.children))}}},90913:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.termToString=e.stringToTerm=e.stringQuadToQuad=e.quadToStringQuad=e.getLiteralValue=e.getLiteralType=e.getLiteralLanguage=void 0;const c=s(40611);Object.defineProperty(e,"getLiteralLanguage",{enumerable:!0,get:function(){return c.getLiteralLanguage}}),Object.defineProperty(e,"getLiteralType",{enumerable:!0,get:function(){return c.getLiteralType}}),Object.defineProperty(e,"getLiteralValue",{enumerable:!0,get:function(){return c.getLiteralValue}}),Object.defineProperty(e,"quadToStringQuad",{enumerable:!0,get:function(){return c.quadToStringQuad}}),Object.defineProperty(e,"stringQuadToQuad",{enumerable:!0,get:function(){return c.stringQuadToQuad}}),Object.defineProperty(e,"stringToTerm",{enumerable:!0,get:function(){return c.stringToTerm}}),Object.defineProperty(e,"termToString",{enumerable:!0,get:function(){return c.termToString}})},91172:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(65569),e)},91295:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorHttp=void 0;const c=s(90412),o=s(65806),u=s(31232),i=s(35276);class r extends c.Actor{constructor(t){super(t)}static toNodeReadable(t){return u(t)||t===null?t:(0,o.readableFromWeb)(t)}static toWebReadableStream(t){return i(t)}static headersToHash(t){const a={};return t.forEach((l,d)=>{a[d]=l}),a}static getInputUrl(t){return new URL(t instanceof Request?t.url:t)}static createUserAgent(t,a){if(!r.isBrowser()){const l=[`Comunica/${a.split(".")[0]}.0`,`${t}/${a}`];return typeof globalThis.navigator=="object"&&typeof globalThis.navigator.userAgent=="string"?l.push(globalThis.navigator.userAgent):typeof globalThis.process=="object"&&typeof globalThis.process.versions=="object"&&typeof globalThis.process.versions.node=="string"&&l.push(`Node.js/${globalThis.process.versions.node.split(".")[0]}`),typeof globalThis.process=="object"&&typeof globalThis.process.platform=="string"&&typeof globalThis.process.arch=="string"&&l.splice(1,0,`(${globalThis.process.platform}; ${globalThis.process.arch})`),l.join(" ")}}static isBrowser(){return typeof globalThis.window=="object"&&typeof globalThis.window.document=="object"||typeof globalThis.importScripts=="function"}}e.ActorHttp=r},91409:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(a,l,d,p){p===void 0&&(p=d);var f=Object.getOwnPropertyDescriptor(l,d);f&&!("get"in f?!l.__esModule:f.writable||f.configurable)||(f={enumerable:!0,get:function(){return l[d]}}),Object.defineProperty(a,p,f)}:function(a,l,d,p){p===void 0&&(p=d),a[p]=l[d]}),o=this&&this.__setModuleDefault||(Object.create?function(a,l){Object.defineProperty(a,"default",{enumerable:!0,value:l})}:function(a,l){a.default=l}),u=this&&this.__importStar||function(a){if(a&&a.__esModule)return a;var l={};if(a!=null)for(var d in a)d!=="default"&&Object.prototype.hasOwnProperty.call(a,d)&&c(l,a,d);return o(l,a),l};Object.defineProperty(e,"__esModule",{value:!0});const i=u(s(13079)),r=s(76875),n=s(43347),t=s(98082);e.default=class{constructor(a){this.dataFactory=a||new r.DataFactory,this.stringType=this.createTerm("http://www.w3.org/2001/XMLSchema#string")}createAlt(a,l=!0){return this.flattenMulti({type:i.types.ALT,input:a},l)}createAsk(a){return{type:i.types.ASK,input:a}}createBoundAggregate(a,l,d,p,f){const h=this.createAggregateExpression(l,d,p,f);return h.variable=a,h}createBgp(a){return{type:i.types.BGP,patterns:a}}createConstruct(a,l){return{type:i.types.CONSTRUCT,input:a,template:l}}createDescribe(a,l){return{type:i.types.DESCRIBE,input:a,terms:l}}createDistinct(a){return{type:i.types.DISTINCT,input:a}}createExtend(a,l,d){return{type:i.types.EXTEND,input:a,variable:l,expression:d}}createFrom(a,l,d){return{type:i.types.FROM,input:a,default:l,named:d}}createFilter(a,l){return{type:i.types.FILTER,input:a,expression:l}}createGraph(a,l){return{type:i.types.GRAPH,input:a,name:l}}createGroup(a,l,d){return{type:i.types.GROUP,input:a,variables:l,aggregates:d}}createInv(a){return{type:i.types.INV,path:a}}createJoin(a,l=!0){return this.flattenMulti({type:i.types.JOIN,input:a},l)}createLeftJoin(a,l,d){return d?{type:i.types.LEFT_JOIN,input:[a,l],expression:d}:{type:i.types.LEFT_JOIN,input:[a,l]}}createLink(a){return{type:i.types.LINK,iri:a}}createMinus(a,l){return{type:i.types.MINUS,input:[a,l]}}createNop(){return{type:i.types.NOP}}createNps(a){return{type:i.types.NPS,iris:a}}createOneOrMorePath(a){return{type:i.types.ONE_OR_MORE_PATH,path:a}}createOrderBy(a,l){return{type:i.types.ORDER_BY,input:a,expressions:l}}createPath(a,l,d,p){return p?{type:i.types.PATH,subject:a,predicate:l,object:d,graph:p}:{type:i.types.PATH,subject:a,predicate:l,object:d,graph:this.dataFactory.defaultGraph()}}createPattern(a,l,d,p){const f=this.dataFactory.quad(a,l,d,p);return f.type=i.types.PATTERN,f}createProject(a,l){return{type:i.types.PROJECT,input:a,variables:l}}createReduced(a){return{type:i.types.REDUCED,input:a}}createSeq(a,l=!0){return this.flattenMulti({type:i.types.SEQ,input:a},l)}createService(a,l,d){return{type:i.types.SERVICE,input:a,name:l,silent:!!d}}createSlice(a,l,d){return l=l||0,d!==void 0?{type:i.types.SLICE,input:a,start:l,length:d}:{type:i.types.SLICE,input:a,start:l}}createUnion(a,l=!0){return this.flattenMulti({type:i.types.UNION,input:a},l)}createValues(a,l){return{type:i.types.VALUES,variables:a,bindings:l}}createZeroOrMorePath(a){return{type:i.types.ZERO_OR_MORE_PATH,path:a}}createZeroOrOnePath(a){return{type:i.types.ZERO_OR_ONE_PATH,path:a}}createAggregateExpression(a,l,d,p){return p?{type:i.types.EXPRESSION,expressionType:i.expressionTypes.AGGREGATE,aggregator:a,expression:l,separator:p,distinct:d}:{type:i.types.EXPRESSION,expressionType:i.expressionTypes.AGGREGATE,aggregator:a,expression:l,distinct:d}}createExistenceExpression(a,l){return{type:i.types.EXPRESSION,expressionType:i.expressionTypes.EXISTENCE,not:a,input:l}}createNamedExpression(a,l){return{type:i.types.EXPRESSION,expressionType:i.expressionTypes.NAMED,name:a,args:l}}createOperatorExpression(a,l){return{type:i.types.EXPRESSION,expressionType:i.expressionTypes.OPERATOR,operator:a,args:l}}createTermExpression(a){return{type:i.types.EXPRESSION,expressionType:i.expressionTypes.TERM,term:a}}createWildcardExpression(){return{type:i.types.EXPRESSION,expressionType:i.expressionTypes.WILDCARD,wildcard:new t.Wildcard}}createTerm(a){return a[0]==="$"&&(a=a.replace("$","?")),(0,n.stringToTerm)(a,this.dataFactory)}createCompositeUpdate(a){return{type:i.types.COMPOSITE_UPDATE,updates:a}}createDeleteInsert(a,l,d){const p={type:i.types.DELETE_INSERT};return a&&(p.delete=a),l&&(p.insert=l),d&&(p.where=d),p}createLoad(a,l,d){const p={type:i.types.LOAD,source:a};return l&&(p.destination=l),this.addSilent(p,!!d)}createClear(a,l){return this.addSilent({type:i.types.CLEAR,source:a},!!l)}createCreate(a,l){return this.addSilent({type:i.types.CREATE,source:a},!!l)}createDrop(a,l){return this.addSilent({type:i.types.DROP,source:a},!!l)}createAdd(a,l,d){return this.addSilent({type:i.types.ADD,source:a,destination:l},!!d)}createMove(a,l,d){return this.addSilent({type:i.types.MOVE,source:a,destination:l},!!d)}createCopy(a,l,d){return this.addSilent({type:i.types.COPY,source:a,destination:l},!!d)}addSilent(a,l){return l&&(a.silent=l),a}flattenMulti(a,l){if(!l)return a;const d=a.type,p=a.input;let f=[];for(const h of p)h.type===d?f.push(...h.input):f.push(h);return a.input=f,a}}},91475:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},91642:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Literal=void 0;const c=s(10548);class o{constructor(i,r){this.termType="Literal",this.value=i,typeof r=="string"?(this.language=r,this.datatype=o.RDF_LANGUAGE_STRING,this.direction=""):r?"termType"in r?(this.language="",this.datatype=r,this.direction=""):(this.language=r.language,this.datatype=r.direction?o.RDF_DIRECTIONAL_LANGUAGE_STRING:o.RDF_LANGUAGE_STRING,this.direction=r.direction||""):(this.language="",this.datatype=o.XSD_STRING,this.direction="")}equals(i){return!!i&&i.termType==="Literal"&&i.value===this.value&&i.language===this.language&&(i.direction===this.direction||!i.direction&&this.direction==="")&&this.datatype.equals(i.datatype)}}e.Literal=o,o.RDF_LANGUAGE_STRING=new c.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),o.RDF_DIRECTIONAL_LANGUAGE_STRING=new c.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#dirLangString"),o.XSD_STRING=new c.NamedNode("http://www.w3.org/2001/XMLSchema#string")},91685:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfParseXmlRdfa=void 0;const c=s(95124),o=s(90711),u=s(69749);class i extends c.ActorRdfParseFixedMediaTypes{constructor(n){super(n)}async runHandle(n,t,a){const l=n.context.getSafe(o.KeysInitQuery.dataFactory),d=(n.headers&&n.headers.get("content-language"))??void 0;n.data.on("error",f=>p.emit("error",f));const p=n.data.pipe(new u.RdfaParser({dataFactory:l,baseIRI:n.metadata?.baseIRI,profile:"xml",language:d}));return{data:p,metadata:{triples:!0}}}}e.ActorRdfParseXmlRdfa=i},91799:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(34169),e)},91891:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeHandlerDefinitionOperation=void 0;const c=s(66337);class o extends c.NodeHandlerDefinitionAdapter{constructor(i,r){super("OperationDefinition",i,r)}handle(i,r){if(i.operation!=="query")throw new Error("Unsupported definition operation: "+i.operation);if(i.variableDefinitions)for(const a of i.variableDefinitions){const l=a.variable.name.value;a.defaultValue&&(r.variablesDict[l]||(r.variablesDict[l]=a.defaultValue));let d=a.type;const p=d.kind==="NonNullType";p&&(d=d.type);const f=d.kind==="ListType";f&&(d=d.type);const h=d.name.value;r.variablesMetaDict[l]={mandatory:p,list:f,type:h}}const n=this.getDirectiveOutputs(i.directives,i.name?i.name.value:"",r);if(!n)return this.util.operationFactory.createBgp([]);const t=this.util.joinOperations(i.selectionSet.selections.map(a=>this.util.handleNode(a,r)));return this.handleDirectiveOutputs(n,t)}}e.NodeHandlerDefinitionOperation=o},92012:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(66284),e)},92015:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermXsdToDecimal=void 0;const c=s(77617),o=s(77545),u=s(73410);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.TypeURL.XSD_DECIMAL],termFunction:!0})}async run(n){return new u.TermFunctionXsdToDecimal}}e.ActorFunctionFactoryTermXsdToDecimal=i},92126:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Bus=void 0,e.Bus=class{constructor(s){this.actors=[],this.observers=[],this.dependencyLinks=new Map,Object.assign(this,s),this.failMessage=`All actors over bus ${this.name} failed to handle an action`}subscribe(s){this.actors.push(s),this.reorderForDependencies()}subscribeObserver(s){this.observers.push(s)}unsubscribe(s){const c=this.actors.indexOf(s);return c>=0&&(this.actors.splice(c,1),!0)}unsubscribeObserver(s){const c=this.observers.indexOf(s);return c>=0&&(this.observers.splice(c,1),!0)}publish(s){return this.actors.map(c=>({actor:c,reply:c.test(s)}))}onRun(s,c,o){for(const u of this.observers)u.onRun(s,c,o)}addDependencies(s,c){for(const o of c){let u=this.dependencyLinks.get(o);u||(u=[],this.dependencyLinks.set(o,u)),u.push(s)}this.reorderForDependencies()}reorderForDependencies(){if(this.dependencyLinks.size>0){const s=[];for(const c of this.dependencyLinks.keys()){const o=this.actors.indexOf(c);o>=0&&(this.actors.splice(o,1),s.push(c))}for(;s.length>0;){let c=-1;for(let u=0;u<s.length;u++){let i=!0;for(const r of this.dependencyLinks.get(s[u]))if(!this.actors.includes(r)&&s.includes(r)){i=!1;break}if(i){c=u;break}}if(c<0)throw new Error(`Cyclic dependency links detected in bus ${this.name}`);const o=s.splice(c,1)[0];this.actors.push(o)}}}}},92142:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultGraph=void 0;class s{constructor(){this.termType="DefaultGraph",this.value=""}equals(o){return!!o&&o.termType==="DefaultGraph"}}e.DefaultGraph=s,s.INSTANCE=new s},92180:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(39830),e)},92231:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryOperationPathSeq=void 0;const c=s(97091),o=s(90711),u=s(67021),i=s(96331);class r extends c.ActorAbstractPath{constructor(t){super(t,i.Algebra.types.SEQ)}async runOperation(t,a){const l=a.getSafe(o.KeysInitQuery.dataFactory),d=new i.Factory(l),p=t.predicate;let f=t.subject;const h=[],y=await Promise.all(p.input.map((b,v)=>{const _=v===p.input.length-1?t.object:this.generateVariable(l,t,`b${v}`),w=d.createPath(f,b,_,t.graph),S=this.mediatorQueryOperation.mediate({context:a,operation:w});return f=_,v<p.input.length-1&&h.push(_),{output:S,operation:w}}).map(async({output:b,operation:v})=>({output:(0,u.getSafeBindings)(await b),operation:v}))),m=(0,u.getSafeBindings)(await this.mediatorJoin.mediate({type:"inner",entries:y,context:a}));return{type:"bindings",bindingsStream:m.bindingsStream.transform({transform(b,v,_){for(const w of h)b=b.delete(w);_(b),v()}}),async metadata(){const b=await m.metadata(),v=b.variables.filter(_=>!h.some(w=>w.value===_.variable.value));return{...b,variables:v}}}}}e.ActorQueryOperationPathSeq=r},92405:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.stringQuadToQuad=e.quadToStringQuad=e.stringToTerm=e.getLiteralLanguage=e.getLiteralType=e.getLiteralValue=e.termToString=void 0;const c=new(s(47793)).DataFactory;function o(t){if(t)switch(t.termType){case"NamedNode":case"DefaultGraph":return t.value;case"BlankNode":return"_:"+t.value;case"Literal":const a=t;return'"'+a.value+'"'+(a.datatype&&a.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&a.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?"^^"+a.datatype.value:"")+(a.language?"@"+a.language:"");case"Quad":return`<<${o(t.subject)} ${o(t.predicate)} ${o(t.object)}${t.graph.termType==="DefaultGraph"?"":" "+o(t.graph)}>>`;case"Variable":return"?"+t.value}}function u(t){const a=/^"([^]*)"/.exec(t);if(!a)throw new Error(t+" is not a literal");return a[1]}function i(t){const a=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(t);if(!a)throw new Error(t+" is not a literal");return a[1]||(a[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}function r(t){const a=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(t);if(!a)throw new Error(t+" is not a literal");return a[1]?a[1].toLowerCase():""}function n(t,a){if(a=a||c,!t||!t.length)return a.defaultGraph();switch(t[0]){case"_":return a.blankNode(t.substr(2));case"?":if(!a.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return a.variable(t.substr(1));case'"':const l=r(t),d=a.namedNode(i(t));return a.literal(u(t),l||d);default:if(t[0]==="<"&&t.length>4&&t[1]==="<"&&t[t.length-1]===">"&&t[t.length-2]===">"){const p=t.slice(2,-2).trim();let f=[],h=0,y=0,m=!1;for(let b=0;b<p.length;b++){const v=p[b];if(v==="<"&&h++,v===">"){if(h===0)throw new Error("Found closing tag without opening tag in "+t);h--}if(v==='"'){let _=!1,w=b;for(;w-- >0&&p[w]==="\\";)_=!_;_||(m=!m)}if(v===" "&&!m&&h===0){for(f.push(p.slice(y,b));p[b+1]===" ";)b+=1;y=b+1}}if(h!==0)throw new Error("Found opening tag without closing tag in "+t);if(f.push(p.slice(y,p.length)),f.length!==3&&f.length!==4)throw new Error("Nested quad syntax error "+t);return f=f.map(b=>b.startsWith("<")&&!b.includes(" ")?b.slice(1,-1):b),a.quad(n(f[0]),n(f[1]),n(f[2]),f[3]?n(f[3]):void 0)}return a.namedNode(t)}}e.termToString=o,e.getLiteralValue=u,e.getLiteralType=i,e.getLiteralLanguage=r,e.stringToTerm=n,e.quadToStringQuad=function(t){return{subject:o(t.subject),predicate:o(t.predicate),object:o(t.object),graph:o(t.graph)}},e.stringQuadToQuad=function(t,a){return(a=a||c).quad(n(t.subject,a),n(t.predicate,a),n(t.object,a),n(t.graph,a))}},92423:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(24960),e)},92603:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(59636),e)},92615:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionIsLiteral=void 0;const c=s(77617),o=s(77545);class u extends c.TermFunctionBase{constructor(){super({arity:1,operator:o.SparqlOperator.IS_LITERAL,overloads:(0,o.declare)(o.SparqlOperator.IS_LITERAL).onTerm1(()=>r=>(0,o.bool)(r.termType==="literal")).collect()})}}e.TermFunctionIsLiteral=u},92647:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorAbstractPath=void 0;const c=s(66490),o=s(90711),u=s(90412),i=s(67021),r=s(75627),n=s(1725),t=s(96331),a=s(71493);class l extends c.ActorQueryOperationTypedMediated{constructor(p,f){super(p,"path"),this.predicateType=f}async testOperation(p,f){return p.predicate.type!==this.predicateType?(0,u.failTest)(`This Actor only supports ${this.predicateType} Path operations.`):(0,u.passTestVoid)()}generateVariable(p,f,h){return h?!f||f.subject.value!==h&&f.object.value!==h?p.variable(h):this.generateVariable(p,f,`${h}b`):this.generateVariable(p,f,"b")}async isPathArbitraryLengthDistinct(p,f,h){return f.get(o.KeysQueryOperation.isPathArbitraryLengthDistinctKey)?{context:f=f.set(o.KeysQueryOperation.isPathArbitraryLengthDistinctKey,!1),operation:void 0}:{context:f=f.set(o.KeysQueryOperation.isPathArbitraryLengthDistinctKey,!0),operation:(0,i.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:p.createDistinct(h),context:f}))}}async predicateStarGraphVariable(p,f,h,y,m,b,v){const _=this.getPathSources(h),w=this.generateVariable(b.dataFactory,b.createPath(p,h,f,y)),S=b.createUnion([this.assignPatternSources(b,b.createPattern(p,w,f,y),_),this.assignPatternSources(b,b.createPattern(f,w,p,y),_)]),x=(0,i.getSafeBindings)(await this.mediatorQueryOperation.mediate({context:m,operation:S})),T=new Set;return{bindingsStream:new r.MultiTransformIterator(x.bindingsStream,{multiTransform:O=>{const E=O.get(y);return T.has(E.value)?new r.EmptyIterator:(T.add(E.value),new r.TransformIterator(async()=>{const R=new r.BufferedIterator;return await this.getObjectsPredicateStar(b,p,h,E,m,{},R,{count:0}),R.map(M=>v.bindings([[f,M],[y,E]]))},{maxBufferSize:128}))},autoStart:!1}),metadata:x.metadata}}async getObjectsPredicateStarEval(p,f,h,y,m,b,v,_){if(y.termType==="Variable")return this.predicateStarGraphVariable(p,h,f,y,m,v,_);const w=new a.PathVariableObjectIterator(v,p,f,y,m,this.mediatorQueryOperation,b);return{bindingsStream:w.map(S=>_.bindings([[h,S]])),async metadata(){const S=await new Promise(x=>{w.getProperty("metadata",T=>x(T()))});return S.cardinality.value++,S}}}async getObjectsPredicateStar(p,f,h,y,m,b,v,_){const w=(0,n.termToString)(f);if(b[w])return;v._push(f),b[w]=f,_.count++;const S=this.generateVariable(p.dataFactory),x=p.createPath(f,h,S,y),T=(0,i.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:x,context:m}));return T.bindingsStream.on("data",async O=>{const E=O.get(S);await this.getObjectsPredicateStar(p,E,h,y,m,b,v,_)}),T.bindingsStream.on("end",()=>{--_.count===0&&v.close()}),T.metadata}async getSubjectAndObjectBindingsPredicateStar(p,f,h,y,m,b,v,_,w,S,x,T,O){const E=(0,n.termToString)(y)+(0,n.termToString)(b);if(w[E])return;if(x.count++,w[E]=!0,S._push(O.bindings([[p,h],[f,y]])),E in _){const M=await _[E];for(const Q of M)await this.getSubjectAndObjectBindingsPredicateStar(p,f,h,Q,m,b,v,_,w,S,x,T,O);return void(--x.count===0&&S.close())}const R=new Promise(async(M,Q)=>{const X=[],V=this.generateVariable(T.dataFactory),H=T.createPath(y,m,V,b),U=(0,i.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:H,context:v}));U.bindingsStream.on("data",async k=>{const $=k.get(V);X.push($),await this.getSubjectAndObjectBindingsPredicateStar(p,f,h,$,m,b,v,_,w,S,x,T,O)}),U.bindingsStream.on("error",Q),U.bindingsStream.on("end",()=>{--x.count===0&&S.close(),M(X)})});_[E]=R}getPathSources(p){switch(p.type){case t.Algebra.types.ALT:case t.Algebra.types.SEQ:return p.input.flatMap(f=>this.getPathSources(f));case t.Algebra.types.INV:case t.Algebra.types.ONE_OR_MORE_PATH:case t.Algebra.types.ZERO_OR_MORE_PATH:case t.Algebra.types.ZERO_OR_ONE_PATH:return this.getPathSources(p.path);case t.Algebra.types.LINK:case t.Algebra.types.NPS:{const f=(0,i.getOperationSource)(p);if(!f)throw new Error("Could not find a required source on a link path operation");return[f]}}}assignPatternSources(p,f,h){if(h.length===0)throw new Error("Attempted to assign zero sources to a pattern during property path handling");return h.length===1?(0,i.assignOperationSource)(f,h[0]):p.createUnion(h.map(y=>(0,i.assignOperationSource)(f,y)),!0)}}e.ActorAbstractPath=l},92710:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},92796:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(86780),e)},92810:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionXsdToDouble=void 0;const c=s(77617),o=s(77545);class u extends c.TermFunctionBase{constructor(){super({arity:1,operator:o.TypeURL.XSD_DOUBLE,overloads:(0,o.declare)(o.TypeURL.XSD_DOUBLE).onNumeric1(()=>r=>(0,o.double)(r.typedValue)).onBoolean1Typed(()=>r=>(0,o.double)(r?1:0)).onUnary(o.TypeURL.XSD_STRING,()=>r=>{const n=(0,o.parseXSDFloat)(r.str());if(n===void 0)throw new o.CastError(r,o.TypeURL.XSD_DOUBLE);return(0,o.double)(n)},!1).collect()})}}e.TermFunctionXsdToDouble=u},92861:(g,e,s)=>{var c=s(48287),o=c.Buffer;function u(r,n){for(var t in r)n[t]=r[t]}function i(r,n,t){return o(r,n,t)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?g.exports=c:(u(c,e),e.Buffer=i),i.prototype=Object.create(o.prototype),u(o,i),i.from=function(r,n,t){if(typeof r=="number")throw new TypeError("Argument must not be a number");return o(r,n,t)},i.alloc=function(r,n,t){if(typeof r!="number")throw new TypeError("Argument must be a number");var a=o(r);return n!==void 0?typeof t=="string"?a.fill(n,t):a.fill(n):a.fill(0),a},i.allocUnsafe=function(r){if(typeof r!="number")throw new TypeError("Argument must be a number");return o(r)},i.allocUnsafeSlow=function(r){if(typeof r!="number")throw new TypeError("Argument must be a number");return c.SlowBuffer(r)}},92951:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.termToString=e.stringToTerm=e.stringQuadToQuad=e.quadToStringQuad=e.getLiteralValue=e.getLiteralType=e.getLiteralLanguage=void 0;const c=s(84565);Object.defineProperty(e,"getLiteralLanguage",{enumerable:!0,get:function(){return c.getLiteralLanguage}}),Object.defineProperty(e,"getLiteralType",{enumerable:!0,get:function(){return c.getLiteralType}}),Object.defineProperty(e,"getLiteralValue",{enumerable:!0,get:function(){return c.getLiteralValue}}),Object.defineProperty(e,"quadToStringQuad",{enumerable:!0,get:function(){return c.quadToStringQuad}}),Object.defineProperty(e,"stringQuadToQuad",{enumerable:!0,get:function(){return c.stringQuadToQuad}}),Object.defineProperty(e,"stringToTerm",{enumerable:!0,get:function(){return c.stringToTerm}}),Object.defineProperty(e,"termToString",{enumerable:!0,get:function(){return c.termToString}})},92959:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(67528),e)},92973:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(28498),e)},93028:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(s,c){if(!s)throw new Error(c)}},93099:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ParsingContext=void 0;const c=s(42395),o=s(75094),u=s(4405),i=s(52277);class r{constructor(t){this.contextParser=new c.ContextParser({documentLoader:t.documentLoader,skipValidation:t.skipContextValidation}),this.streamingProfile=!!t.streamingProfile,this.baseIRI=t.baseIRI,this.produceGeneralizedRdf=!!t.produceGeneralizedRdf,this.allowSubjectList=!!t.allowSubjectList,this.processingMode=t.processingMode||i.JsonLdParser.DEFAULT_PROCESSING_MODE,this.strictValues=!!t.strictValues,this.validateValueIndexes=!!t.validateValueIndexes,this.defaultGraph=t.defaultGraph,this.rdfDirection=t.rdfDirection,this.normalizeLanguageTags=t.normalizeLanguageTags,this.streamingProfileAllowOutOfOrderPlainType=t.streamingProfileAllowOutOfOrderPlainType,this.rdfstar=t.rdfstar!==!1,this.rdfstarReverseInEmbedded=t.rdfstarReverseInEmbedded,this.topLevelProperties=!1,this.activeProcessingMode=parseFloat(this.processingMode),this.processingStack=[],this.processingType=[],this.emittedStack=[],this.idStack=[],this.graphStack=[],this.graphContainerTermStack=[],this.listPointerStack=[],this.contextTree=new u.ContextTree,this.literalStack=[],this.validationStack=[],this.unaliasedKeywordCacheStack=[],this.jsonLiteralStack=[],this.unidentifiedValuesBuffer=[],this.unidentifiedGraphsBuffer=[],this.annotationsBuffer=[],this.pendingContainerFlushBuffers=[],this.parser=t.parser,t.context?(this.rootContext=this.parseContext(t.context),this.rootContext.then(a=>this.validateContext(a))):this.rootContext=Promise.resolve(new c.JsonLdContextNormalized(this.baseIRI?{"@base":this.baseIRI,"@__baseDocument":!0}:{}))}async parseContext(t,a,l){return this.contextParser.parse(t,{baseIRI:this.baseIRI,ignoreProtection:l,normalizeLanguageTags:this.normalizeLanguageTags,parentContext:a,processingMode:this.activeProcessingMode})}validateContext(t){const a=t.getContextRaw()["@version"];if(a){if(this.activeProcessingMode&&a>this.activeProcessingMode)throw new o.ErrorCoded(`Unsupported JSON-LD version '${a}' under active processing mode ${this.activeProcessingMode}.`,o.ERROR_CODES.PROCESSING_MODE_CONFLICT);if(this.activeProcessingMode&&a<this.activeProcessingMode)throw new o.ErrorCoded(`Invalid JSON-LD version ${a} under active processing mode ${this.activeProcessingMode}.`,o.ERROR_CODES.INVALID_VERSION_VALUE);this.activeProcessingMode=a}}async getContext(t,a=1){const l=t;for(;typeof t[t.length-1]=="number";)t=t.slice(0,t.length-1);a&&(t=t.slice(0,-a));const d=await this.getContextPropagationAware(t);let p=d.context.getContextRaw();for(let f=d.depth;f<l.length-a;f++){const h=l[f],y=p[h];if(y&&typeof y=="object"&&"@context"in y){const m=(await this.parseContext(y,p,!0)).getContextRaw(),b=!(h in m)||m[h]["@context"]["@propagate"];b===!1&&f!==l.length-1-a||(p=Object.assign({},m),delete p["@propagate"],p[h]=Object.assign({},p[h]),"@id"in y&&(p[h]["@id"]=y["@id"]),delete p[h]["@context"],b!==!1&&this.contextTree.setContext(l.slice(0,f+a),Promise.resolve(new c.JsonLdContextNormalized(p))))}}return new c.JsonLdContextNormalized(p)}async getContextPropagationAware(t){const a=t.length;let l,d=null;do{l=!1,d&&"@__propagateFallback"in d.context.getContextRaw()?d.context=new c.JsonLdContextNormalized(d.context.getContextRaw()["@__propagateFallback"]):(d&&(t=t.slice(0,d.depth-1)),d=await this.contextTree.getContext(t)||{context:await this.rootContext,depth:0});const p=t[t.length-1];if(p in d.context.getContextRaw()){const f=d.context.getContextRaw()[p];f&&typeof f=="object"&&"@context"in f&&(l=!0)}}while(d.depth>0&&d.context.getContextRaw()["@propagate"]===!1&&d.depth!==a&&!l);return d.depth===0&&d.context.getContextRaw()["@propagate"]===!1&&d.depth!==a&&(d.context=new c.JsonLdContextNormalized({})),d}async newOnValueJob(t,a,l,d){await this.parser.newOnValueJob(t,a,l,d)}async handlePendingContainerFlushBuffers(){if(this.pendingContainerFlushBuffers.length>0){for(const t of this.pendingContainerFlushBuffers)await this.parser.flushBuffer(t.depth,t.keys),this.parser.flushStacks(t.depth);return this.pendingContainerFlushBuffers.splice(0,this.pendingContainerFlushBuffers.length),!0}return!1}emitQuad(t,a){t===1&&(this.topLevelProperties=!0),this.parser.push(a)}emitError(t){this.parser.emit("error",t)}emitContext(t){this.parser.emit("context",t)}getUnidentifiedValueBufferSafe(t){let a=this.unidentifiedValuesBuffer[t];return a||(a=[],this.unidentifiedValuesBuffer[t]=a),a}getUnidentifiedGraphBufferSafe(t){let a=this.unidentifiedGraphsBuffer[t];return a||(a=[],this.unidentifiedGraphsBuffer[t]=a),a}getAnnotationsBufferSafe(t){let a=this.annotationsBuffer[t];return a||(a=[],this.annotationsBuffer[t]=a),a}getExpandOptions(){return r.EXPAND_OPTIONS[this.activeProcessingMode]}shiftStack(t,a){const l=this.idStack[t+a];if(l&&(this.idStack[t]=l,this.emittedStack[t]=!0,delete this.idStack[t+a]),this.pendingContainerFlushBuffers.length)for(const d of this.pendingContainerFlushBuffers)d.depth>=t+a&&(d.depth-=a,d.keys.splice(t,a));this.unidentifiedValuesBuffer[t+a]&&(this.unidentifiedValuesBuffer[t]=this.unidentifiedValuesBuffer[t+a],delete this.unidentifiedValuesBuffer[t+a]),this.annotationsBuffer[t+a-1]&&(this.annotationsBuffer[t-1]||(this.annotationsBuffer[t-1]=[]),this.annotationsBuffer[t-1]=[...this.annotationsBuffer[t-1],...this.annotationsBuffer[t+a-1]],delete this.annotationsBuffer[t+a-1])}}r.EXPAND_OPTIONS={1:{allowPrefixForcing:!1,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!1},1.1:{allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}},e.ParsingContext=r},93111:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermUuid=void 0;const c=s(77617),o=s(77545),u=s(3742);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.SparqlOperator.UUID],termFunction:!0})}async run(n){return new u.TermFunctionUuid}}e.ActorFunctionFactoryTermUuid=i},93370:(g,e,s)=>{const{ObjectDefineProperties:c,ObjectGetOwnPropertyDescriptor:o,ObjectKeys:u,ObjectSetPrototypeOf:i}=s(24134);g.exports=t;const r=s(57576),n=s(78584);i(t.prototype,r.prototype),i(t,r);{const p=u(n.prototype);for(let f=0;f<p.length;f++){const h=p[f];t.prototype[h]||(t.prototype[h]=n.prototype[h])}}function t(p){if(!(this instanceof t))return new t(p);r.call(this,p),n.call(this,p),p?(this.allowHalfOpen=p.allowHalfOpen!==!1,p.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),p.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let a,l;function d(){return a===void 0&&(a={}),a}c(t.prototype,{writable:{__proto__:null,...o(n.prototype,"writable")},writableHighWaterMark:{__proto__:null,...o(n.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...o(n.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...o(n.prototype,"writableBuffer")},writableLength:{__proto__:null,...o(n.prototype,"writableLength")},writableFinished:{__proto__:null,...o(n.prototype,"writableFinished")},writableCorked:{__proto__:null,...o(n.prototype,"writableCorked")},writableEnded:{__proto__:null,...o(n.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...o(n.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set(p){this._readableState&&this._writableState&&(this._readableState.destroyed=p,this._writableState.destroyed=p)}}}),t.fromWeb=function(p,f){return d().newStreamDuplexFromReadableWritablePair(p,f)},t.toWeb=function(p){return d().newReadableWritablePairFromDuplex(p)},t.from=function(p){return l||(l=s(46706)),l(p,"body")}},93408:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(94690),e),o(s(98329),e)},93734:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(40916),e)},93742:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(22719),e)},93974:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.numberToString=e.MemoryPhysicalQueryPlanLogger=void 0;const c=s(3401);function o(u){return u.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:3})}e.MemoryPhysicalQueryPlanLogger=class{constructor(){this.planNodes=new Map}logOperation(u,i,r,n,t,a){const l={actor:t,logicalOperator:u,physicalOperator:i,rawNode:r,children:[],metadata:a};if(this.planNodes.set(r,l),this.rootNode){if(!n)throw new Error("Detected more than one parent-less node");const d=this.planNodes.get(n);if(!d)throw new Error("Could not find parent node");d.children.push(l)}else{if(n)throw new Error("No root node has been set yet, while a parent is being referenced");this.rootNode=l}}stashChildren(u,i){const r=this.planNodes.get(u);if(!r)throw new Error("Could not find plan node");r.children=i?r.children.filter(i):[]}unstashChild(u,i){const r=this.planNodes.get(u);if(r){const n=this.planNodes.get(i);if(!n)throw new Error("Could not find plan parent node");n.children.push(r)}}appendMetadata(u,i){const r=this.planNodes.get(u);r&&(r.metadata={...r.metadata,...i})}toJson(){return this.rootNode?this.planNodeToJson(this.rootNode):{}}planNodeToJson(u){const i={logical:u.logicalOperator,physical:u.physicalOperator,...this.getLogicalMetadata(u.rawNode),...this.compactMetadata(u.metadata)};if(u.children.length>0&&(i.children=u.children.map(r=>this.planNodeToJson(r))),i.physical==="bind"&&i.children){const r={};for(const t of i.children){const a=t.children?.at(-1)??t,l=this.getPlanHash(a).join(",");r[l]||(r[l]=[]),r[l].push(t)}const n=[];for(const t of Object.values(r))n.push({occurrences:t.length,firstOccurrence:t[0]});i.childrenCompact=n,delete i.children}return i}getPlanHash(u){let i=[`${u.logical}-${u.physical}`];return u.children?i=[...i,...u.children.flatMap(r=>this.getPlanHash(r))]:u.childrenCompact&&(i=[...i,...u.childrenCompact.flatMap(r=>this.getPlanHash(r.firstOccurrence))]),i}compactMetadata(u){return Object.fromEntries(Object.entries(u).map(([i,r])=>[i,this.compactMetadataValue(r)]))}compactMetadataValue(u){return u&&typeof u=="object"&&"termType"in u?this.getLogicalMetadata(u):u}getLogicalMetadata(u){const i={};if("type"in u){const r=u;switch(r.metadata?.scopedSource&&(i.source=r.metadata.scopedSource.source.toString()),r.type){case"pattern":i.pattern=this.quadToString(r);break;case"project":i.variables=r.variables.map(n=>n.value)}}return i}quadToString(u){return`${(0,c.termToString)(u.subject)} ${(0,c.termToString)(u.predicate)} ${(0,c.termToString)(u.object)}${u.graph.termType==="DefaultGraph"?"":` ${(0,c.termToString)(u.graph)}`}`}toCompactString(){const u=this.toJson(),i=[],r=new Map;if("logical"in u?this.nodeToCompactString(i,r,"",u):i.push("Empty"),r.size>0){i.push(""),i.push("sources:");for(const[n,t]of r.entries())i.push(`  ${t}: ${n}`)}return i.join(`
`)}nodeToCompactString(u,i,r,n,t){let a;n.source&&(a=i.get(n.source),a===void 0&&(a=i.size,i.set(n.source,a))),u.push(`${r}${n.logical}${n.physical?`(${n.physical})`:""}${n.pattern?` (${n.pattern})`:""}${n.variables?` (${n.variables.join(",")})`:""}${n.bindOperation?` bindOperation:(${n.bindOperation.pattern}) bindCardEst:${n.bindOperationCardinality.type==="estimate"?"~":""}${o(n.bindOperationCardinality.value)}`:""}${n.cardinality?` cardEst:${n.cardinality.type==="estimate"?"~":""}${o(n.cardinality.value)}`:""}${n.source?` src:${a}`:""}${n.cardinalityReal?` cardReal:${n.cardinalityReal}`:""}${n.timeSelf?` timeSelf:${o(n.timeSelf)}ms`:""}${n.timeLife?` timeLife:${o(n.timeLife)}ms`:""}${t?` ${t}`:""}`);for(const l of n.children??[])this.nodeToCompactString(u,i,`${r}  `,l);for(const l of n.childrenCompact??[])this.nodeToCompactString(u,i,`${r}  `,l.firstOccurrence,`compacted-occurrences:${l.occurrences}`)}},e.numberToString=o},94174:function(g,e,s){var c=this&&this.__awaiter||function(t,a,l,d){return new(l||(l=Promise))(function(p,f){function h(b){try{m(d.next(b))}catch(v){f(v)}}function y(b){try{m(d.throw(b))}catch(v){f(v)}}function m(b){var v;b.done?p(b.value):(v=b.value,v instanceof l?v:new l(function(_){_(v)})).then(h,y)}m((d=d.apply(t,a||[])).next())})},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.write=void 0;const u=s(25828),i=o(s(55977)),r=o(s(51167)),n=o(s(18996));e.write=function(t,a){return c(this,void 0,void 0,function*(){return new Promise((l,d)=>c(this,void 0,void 0,function*(){try{let p="";const f=new n.default(t),h=f.getGraphs(null,null,null);if(h.length>1)throw new Error("More than one graph found - can serialize in the default graph");if(h.length===1&&!h[0].equals(u.DataFactory.defaultGraph()))throw new Error(`Expected all triples to be in the default graph, instead triples were in ${h[0].value}`);const y=new r.default({write:b=>{p+=b},end:()=>{let b=f.getQuads(null,null,null,null);b.length===0&&(b=void 0),l({text:p,extraQuads:b})}});yield new i.default(f,y,a?.prefixes,void 0,a?.errorOnUnused!==!1,a?.mintPrefixes,a?.fetch,a?.extendedSyntax,a?.requireBase!==!1).write()}catch(p){d(p)}}))})}},94259:(g,e,s)=>{const{ArrayIsArray:c,ObjectSetPrototypeOf:o}=s(24134),{EventEmitter:u}=s(37007);function i(n){u.call(this,n)}function r(n,t,a){if(typeof n.prependListener=="function")return n.prependListener(t,a);n._events&&n._events[t]?c(n._events[t])?n._events[t].unshift(a):n._events[t]=[a,n._events[t]]:n.on(t,a)}o(i.prototype,u.prototype),o(i,u),i.prototype.pipe=function(n,t){const a=this;function l(b){n.writable&&n.write(b)===!1&&a.pause&&a.pause()}function d(){a.readable&&a.resume&&a.resume()}a.on("data",l),n.on("drain",d),n._isStdio||t&&t.end===!1||(a.on("end",f),a.on("close",h));let p=!1;function f(){p||(p=!0,n.end())}function h(){p||(p=!0,typeof n.destroy=="function"&&n.destroy())}function y(b){m(),u.listenerCount(this,"error")===0&&this.emit("error",b)}function m(){a.removeListener("data",l),n.removeListener("drain",d),a.removeListener("end",f),a.removeListener("close",h),a.removeListener("error",y),n.removeListener("error",y),a.removeListener("end",m),a.removeListener("close",m),n.removeListener("close",m)}return r(a,"error",y),r(n,"error",y),a.on("end",m),a.on("close",m),n.on("close",m),n.emit("pipe",a),n},g.exports={Stream:i,prependListener:r}},94299:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.updateV7State=void 0;const c=s(52291),o=s(76011),u={};function i(n,t,a){return n.msecs??=-1/0,n.seq??=0,t>n.msecs?(n.seq=a[6]<<23|a[7]<<16|a[8]<<8|a[9],n.msecs=t):(n.seq=n.seq+1|0,n.seq===0&&n.msecs++),n}function r(n,t,a,l,d=0){if(n.length<16)throw new Error("Random bytes length must be >= 16");if(l){if(d<0||d+16>l.length)throw new RangeError(`UUID byte range ${d}:${d+15} is out of buffer bounds`)}else l=new Uint8Array(16),d=0;return t??=Date.now(),a??=127*n[6]<<24|n[7]<<16|n[8]<<8|n[9],l[d++]=t/1099511627776&255,l[d++]=t/4294967296&255,l[d++]=t/16777216&255,l[d++]=t/65536&255,l[d++]=t/256&255,l[d++]=255&t,l[d++]=112|a>>>28&15,l[d++]=a>>>20&255,l[d++]=128|a>>>14&63,l[d++]=a>>>6&255,l[d++]=a<<2&255|3&n[10],l[d++]=n[11],l[d++]=n[12],l[d++]=n[13],l[d++]=n[14],l[d++]=n[15],l}e.updateV7State=i,e.default=function(n,t,a){let l;if(n)l=r(n.random??n.rng?.()??(0,c.default)(),n.msecs,n.seq,t,a);else{const d=Date.now(),p=(0,c.default)();i(u,d,p),l=r(p,u.msecs,u.seq,t,a)}return t??(0,o.unsafeStringify)(l)}},94301:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActionContextKey=e.ActionContext=void 0;const c=s(49568);class o{constructor(r={}){this.map=(0,c.Map)(r)}setDefault(r,n){return this.has(r)?this:this.set(r,n)}set(r,n){return this.setRaw(r.name,n)}setRaw(r,n){return new o(this.map.set(r,n))}delete(r){return new o(this.map.delete(r.name))}get(r){return this.getRaw(r.name)}getRaw(r){return this.map.get(r)}getSafe(r){if(!this.has(r))throw new Error(`Context entry ${r.name} is required but not available`);return this.get(r)}has(r){return this.hasRaw(r.name)}hasRaw(r){return this.map.has(r)}merge(...r){let n=this;for(const t of r)for(const a of t.keys())n=n.set(a,t.get(a));return n}keys(){return[...this.map.keys()].map(r=>new u(r))}toJS(){return this.map.toJS()}toString(){return`ActionContext(${JSON.stringify(this.map.toJS())})`}[Symbol.for("nodejs.util.inspect.custom")](){return`ActionContext(${JSON.stringify(this.map.toJS(),null,"  ")})`}static ensureActionContext(r){return r instanceof o?r:new o((0,c.Map)(r??{}))}}e.ActionContext=o;class u{constructor(r){this.name=r}}e.ActionContextKey=u},94311:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(16883),e)},94379:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(85572),e)},94410:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(36356),e)},94424:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorDereferenceRdfParse=void 0;const c=s(86475);class o extends c.ActorDereferenceRdf{constructor(i){super(i)}async getMetadata(i){return{baseIRI:i.baseIRI??i.url}}}e.ActorDereferenceRdfParse=o},94460:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.attributeNames=e.elementNames=void 0,e.elementNames=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(function(s){return[s.toLowerCase(),s]})),e.attributeNames=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(function(s){return[s.toLowerCase(),s]}))},94690:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActionObserverHttp=void 0;const c=s(90412);class o extends c.ActionObserver{constructor(i){super(i),this.requests=0,this.bus.subscribeObserver(this),this.httpInvalidator.addInvalidateListener(()=>{this.requests=0})}onRun(i,r,n){this.observedActors.includes(i.name)&&this.requests++}}e.ActionObserverHttp=o},94731:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(1166),e)},94802:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(92),e),o(s(37258),e),o(s(82406),e),o(s(96925),e),o(s(14191),e)},94931:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Util=void 0;class s{static isCompactIri(o){return o.indexOf(":")>0&&!(o&&o[0]==="#")}static getPrefix(o,u){if(o&&o[0]==="#")return null;const i=o.indexOf(":");if(i>=0){if(o.length>i+1&&o.charAt(i+1)==="/"&&o.charAt(i+2)==="/")return null;const r=o.substr(0,i);if(r==="_")return null;if(u[r])return r}return null}static getContextValueId(o){return o===null||typeof o=="string"?o:o["@id"]||null}static isSimpleTermDefinitionPrefix(o,u){return!s.isPotentialKeyword(o)&&(u.allowPrefixNonGenDelims||typeof o=="string"&&(o[0]==="_"||s.isPrefixIriEndingWithGenDelim(o)))}static isPotentialKeyword(o){return typeof o=="string"&&s.KEYWORD_REGEX.test(o)}static isPrefixIriEndingWithGenDelim(o){return s.ENDS_WITH_GEN_DELIM.test(o)}static isPrefixValue(o){return o&&(typeof o=="string"||o&&typeof o=="object")}static isValidIri(o){return!!(o&&s.IRI_REGEX.test(o))}static isValidIriWeak(o){return!!o&&o[0]!==":"&&s.IRI_REGEX_WEAK.test(o)}static isValidKeyword(o){return s.VALID_KEYWORDS[o]}static isTermProtected(o,u){const i=o[u];return typeof i!="string"&&i&&i["@protected"]}static hasProtectedTerms(o){for(const u of Object.keys(o))if(s.isTermProtected(o,u))return!0;return!1}static isReservedInternalKeyword(o){return o.startsWith("@__")}static deepEqual(o,u){const i=Object.keys(o),r=Object.keys(u);return i.length===r.length&&i.every(n=>{const t=o[n],a=u[n];return t===a||t!==null&&a!==null&&typeof t=="object"&&typeof a=="object"&&this.deepEqual(t,a)})}}s.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^ "<>{}|\\\[\]`#]*(#[^#]*)?$/,s.IRI_REGEX_WEAK=/(?::[^:])|\//,s.KEYWORD_REGEX=/^@[a-z]+$/i,s.ENDS_WITH_GEN_DELIM=/[:/?#\[\]@]$/,s.REGEX_LANGUAGE_TAG=/^[a-zA-Z]+(-[a-zA-Z0-9]+)*$/,s.REGEX_DIRECTION_TAG=/^(ltr)|(rtl)$/,s.VALID_KEYWORDS={"@annotation":!0,"@base":!0,"@container":!0,"@context":!0,"@direction":!0,"@graph":!0,"@id":!0,"@import":!0,"@included":!0,"@index":!0,"@json":!0,"@language":!0,"@list":!0,"@nest":!0,"@none":!0,"@prefix":!0,"@propagate":!0,"@protected":!0,"@reverse":!0,"@set":!0,"@type":!0,"@value":!0,"@version":!0,"@vocab":!0},s.EXPAND_KEYS_BLACKLIST=["@base","@vocab","@language","@version","@direction"],s.ALIAS_DOMAIN_BLACKLIST=["@container","@graph","@id","@index","@list","@nest","@none","@prefix","@reverse","@set","@type","@value","@version"],s.ALIAS_RANGE_BLACKLIST=["@context","@preserve"],s.CONTAINERS=["@list","@set","@index","@language","@graph","@id","@type"],s.CONTAINERS_1_0=["@list","@set","@index"],e.Util=s},95025:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},95124:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(47062),e),o(s(46691),e)},95199:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionLesserThan=void 0;const c=s(77617),o=s(90711),u=s(77545);class i extends c.TermFunctionBase{constructor(n){super({arity:2,operator:u.SparqlOperator.LT,overloads:(0,u.declare)(u.SparqlOperator.LT).numberTest(()=>(t,a)=>t<a).stringTest(()=>(t,a)=>t.localeCompare(a)===-1).booleanTest(()=>(t,a)=>t<a).dateTimeTest(t=>(a,l)=>(0,u.toUTCDate)(a,t.context.getSafe(o.KeysExpressionEvaluator.defaultTimeZone)).getTime()<(0,u.toUTCDate)(l,t.context.getSafe(o.KeysExpressionEvaluator.defaultTimeZone)).getTime()).copy({from:[u.TypeURL.XSD_DATE_TIME,u.TypeURL.XSD_DATE_TIME],to:[u.TypeURL.XSD_DATE,u.TypeURL.XSD_DATE]}).set([u.TypeURL.XSD_YEAR_MONTH_DURATION,u.TypeURL.XSD_YEAR_MONTH_DURATION],()=>([t,a])=>(0,u.bool)((0,u.yearMonthDurationsToMonths)((0,u.defaultedYearMonthDurationRepresentation)(t.typedValue))<(0,u.yearMonthDurationsToMonths)((0,u.defaultedYearMonthDurationRepresentation)(a.typedValue)))).set([u.TypeURL.XSD_DAY_TIME_DURATION,u.TypeURL.XSD_DAY_TIME_DURATION],()=>([t,a])=>(0,u.bool)((0,u.dayTimeDurationsToSeconds)((0,u.defaultedDayTimeDurationRepresentation)(t.typedValue))<(0,u.dayTimeDurationsToSeconds)((0,u.defaultedDayTimeDurationRepresentation)(a.typedValue)))).set([u.TypeURL.XSD_TIME,u.TypeURL.XSD_TIME],t=>([a,l])=>(0,u.bool)((0,u.toUTCDate)((0,u.defaultedDateTimeRepresentation)(a.typedValue),t.context.getSafe(o.KeysExpressionEvaluator.defaultTimeZone)).getTime()<(0,u.toUTCDate)((0,u.defaultedDateTimeRepresentation)(l.typedValue),t.context.getSafe(o.KeysExpressionEvaluator.defaultTimeZone)).getTime())).set(["quad","quad"],t=>([a,l])=>{const d=this.quadComponentTest(a.subject,l.subject,t);if(d!==void 0)return(0,u.bool)(d);const p=this.quadComponentTest(a.predicate,l.predicate,t);if(p!==void 0)return(0,u.bool)(p);const f=this.quadComponentTest(a.object,l.object,t);return f!==void 0?(0,u.bool)(f):(0,u.bool)(this.quadComponentTest(a.graph,l.graph,t)??!1)},!1).collect()}),this.equalityFunction=n}quadComponentTest(n,t,a){if(!this.equalityFunction.applyOnTerms([n,t],a).typedValue)return this.applyOnTerms([n,t],a).typedValue}}e.TermFunctionLesserThan=i},95426:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(41142),e)},95439:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.QUAD_TERM_NAMES_INVERSE=void 0,e.getBestIndex=function(i,r){if(i.length===1||r.every(t=>t!==void 0))return 0;const n=[];for(let t=0;t<c.QUAD_TERM_NAMES.length;t++)r[t]&&n.push(c.QUAD_TERM_NAMES[t]);return i.map((t,a)=>({score:o(t,n),index:a})).sort((t,a)=>a.score-t.score)[0].index},e.getComponentOrderScore=o,e.orderQuadComponents=function(i,r){return i.map(n=>{const t=e.QUAD_TERM_NAMES_INVERSE[n];return r[t]})},e.encodeOptionalTerms=function(i,r){const n=i.map(t=>{if(t){if(t.termType==="Quad"&&u(t))return;const a=r.encodeOptional(t);return a===void 0?"none":a}return t});if(!n.includes("none"))return n},e.quadToPattern=function(i,r,n,t,a){let l=!1;return[[i||void 0,r||void 0,n||void 0,t||void 0].map(d=>{if(d){if(d.termType==="Variable")return;if(d.termType==="Quad")return a?d:void(l=!0)}return d}),l]},e.quadHasVariables=u,e.arePatternsQuoted=function(i){return i.map(r=>r?.termType==="Quad"&&u(r))};const c=s(61758);function o(i,r){return i.map((n,t)=>r.includes(n)?i.length-t:0).reduce((n,t)=>n+t,0)}function u(i){for(const r of c.QUAD_TERM_NAMES){const n=i[r];if(n.termType==="Variable"||n.termType==="Quad"&&u(n))return!0}return!1}e.QUAD_TERM_NAMES_INVERSE=Object.fromEntries(c.QUAD_TERM_NAMES.map((i,r)=>[i,r]))},95445:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(57042),e)},95570:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DirectiveNodeHandlerPlural=void 0;const c=s(65183),o=s(67797);class u extends o.DirectiveNodeHandlerAdapter{constructor(r,n){super("plural",r,n)}handle(r,n){return this.isDirectiveScopeAll(r.directive)&&(n.singularizeState=c.SingularizeState.PLURAL),delete n.singularizeVariables[this.util.nameToVariable(r.fieldLabel,n).value],{}}}e.DirectiveNodeHandlerPlural=u},95705:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(4945),e)},95816:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryOperationTyped=void 0;const c=s(90711),o=s(90412),u=s(99214),i=s(31278);class r extends i.ActorQueryOperation{constructor(t,a){if(super({...t,operationName:a}),!this.operationName)throw new Error('A valid "operationName" argument must be provided.')}async test(t){if(!t.operation)return(0,o.failTest)("Missing field 'operation' in a query operation action.");if(t.operation.type!==this.operationName)return(0,o.failTest)(`Actor ${this.name} only supports ${this.operationName} operations, but got ${t.operation.type}`);const a=t.operation;return this.testOperation(a,t.context)}async run(t,a){const l=t.context.get(c.KeysInitQuery.physicalQueryPlanLogger);l&&(l.logOperation(t.operation.type,void 0,t.operation,t.context.get(c.KeysInitQuery.physicalQueryPlanNode),this.name,{}),t.context=t.context.set(c.KeysInitQuery.physicalQueryPlanNode,t.operation));const d=t.operation,p=t.context.set(c.KeysQueryOperation.operation,d),f=await this.runOperation(d,p,a);return"metadata"in f&&(f.metadata=(0,u.cachifyMetadata)(f.metadata)),f}}e.ActorQueryOperationTyped=r},95877:(g,e,s)=>{function c(i,r,n){return Object.defineProperty(i,"prototype",{writable:!1}),i}Object.defineProperty(e,"__esModule",{value:!0}),e.Shapes=void 0;var o=s(96331),u=c(function i(){(function(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")})(this,i)});e.Shapes=u,u.ALL={type:"operation",operation:{operationType:"wildcard"}},u.RAW={type:"disjunction",children:[{type:"operation",operation:{operationType:"type",type:o.Algebra.types.PROJECT}},{type:"operation",operation:{operationType:"type",type:o.Algebra.types.PATTERN}},{type:"operation",operation:{operationType:"type",type:o.Algebra.types.SLICE}},{type:"operation",operation:{operationType:"type",type:o.Algebra.types.BGP}},{type:"operation",operation:{operationType:"type",type:o.Algebra.types.JOIN}},{type:"operation",operation:{operationType:"type",type:o.Algebra.types.EXTEND}},{type:"operation",operation:{operationType:"type",type:o.Algebra.types.UNION}},{type:"operation",operation:{operationType:"type",type:o.Algebra.types.VALUES}},{type:"operation",operation:{operationType:"type",type:o.Algebra.types.FILTER}},{type:"operation",operation:{operationType:"type",type:o.Algebra.types.LEFT_JOIN}},{type:"operation",operation:{operationType:"type",type:o.Algebra.types.GRAPH}}]}},96019:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(11725),e),o(s(36273),e),o(s(97460),e),o(s(86020),e),o(s(56662),e),o(s(46388),e),o(s(42439),e)},96331:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(d,p,f,h){h===void 0&&(h=f);var y=Object.getOwnPropertyDescriptor(p,f);y&&!("get"in y?!p.__esModule:y.writable||y.configurable)||(y={enumerable:!0,get:function(){return p[f]}}),Object.defineProperty(d,h,y)}:function(d,p,f,h){h===void 0&&(h=f),d[h]=p[f]}),o=this&&this.__setModuleDefault||(Object.create?function(d,p){Object.defineProperty(d,"default",{enumerable:!0,value:p})}:function(d,p){d.default=p}),u=this&&this.__importStar||function(d){if(d&&d.__esModule)return d;var p={};if(d!=null)for(var f in d)f!=="default"&&Object.prototype.hasOwnProperty.call(d,f)&&c(p,d,f);return o(p,d),p},i=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0}),e.Util=e.toSparqlJs=e.toSparql=e.Factory=e.Algebra=e.translate=void 0;const r=i(s(73776));e.translate=r.default;const n=u(s(13079));e.Algebra=n;const t=i(s(91409));e.Factory=t.default;const a=s(3698);Object.defineProperty(e,"toSparql",{enumerable:!0,get:function(){return a.toSparql}}),Object.defineProperty(e,"toSparqlJs",{enumerable:!0,get:function(){return a.toSparqlJs}});const l=i(s(64995));e.Util=l.default},96404:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(6912),e)},96430:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfResolveHypermediaLinks=void 0;const c=s(90412);class o extends c.Actor{constructor(i){super(i)}}e.ActorRdfResolveHypermediaLinks=o},96447:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(41291),e)},96532:(g,e,s)=>{const c=s(65606),{PromisePrototypeThen:o,SymbolAsyncIterator:u,SymbolIterator:i}=s(24134),{Buffer:r}=s(48287),{ERR_INVALID_ARG_TYPE:n,ERR_STREAM_NULL_VALUES:t}=s(76371).codes;g.exports=function(a,l,d){let p,f;if(typeof l=="string"||l instanceof r)return new a({objectMode:!0,...d,read(){this.push(l),this.push(null)}});if(l&&l[u])f=!0,p=l[u]();else{if(!l||!l[i])throw new n("iterable",["Iterable"],l);f=!1,p=l[i]()}const h=new a({objectMode:!0,highWaterMark:1,...d});let y=!1;return h._read=function(){y||(y=!0,(async function(){for(;;){try{const{value:m,done:b}=f?await p.next():p.next();if(b)h.push(null);else{const v=m&&typeof m.then=="function"?await m:m;if(v===null)throw y=!1,new t;if(h.push(v))continue;y=!1}}catch(m){h.destroy(m)}break}})())},h._destroy=function(m,b){o((async function(v){const _=v!=null,w=typeof p.throw=="function";if(_&&w){const{value:S,done:x}=await p.throw(v);if(await S,x)return}if(typeof p.return=="function"){const{value:S}=await p.return();await S}})(m),()=>c.nextTick(b,m),v=>c.nextTick(b,v||m))},h}},96568:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0});const c=s(31797),o=s(76011);e.default=function(u){const i=(r=typeof u=="string"?(0,c.default)(u):u,Uint8Array.of((15&r[6])<<4|r[7]>>4&15,(15&r[7])<<4|(240&r[4])>>4,(15&r[4])<<4|(240&r[5])>>4,(15&r[5])<<4|(240&r[0])>>4,(15&r[0])<<4|(240&r[1])>>4,(15&r[1])<<4|(240&r[2])>>4,96|15&r[2],r[3],r[8],r[9],r[10],r[11],r[12],r[13],r[14],r[15]));var r;return typeof u=="string"?(0,o.unsafeStringify)(i):i}},96607:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.AlgebraTransformer=void 0;const c=s(90711),o=s(77545),u=s(96331);class i extends o.TermTransformer{constructor(n,t){super(n.getSafe(c.KeysExpressionEvaluator.superTypeProvider)),this.context=n,this.mediatorFunctionFactory=t}async transformAlgebra(n){const t=u.Algebra.expressionTypes;switch(n.expressionType){case t.TERM:return this.transformTerm(n);case t.OPERATOR:return await this.transformOperator(n);case t.NAMED:return await this.transformNamed(n);case t.EXISTENCE:return i.transformExistence(n);case t.AGGREGATE:return i.transformAggregate(n);case t.WILDCARD:return i.transformWildcard(n)}}static transformWildcard(n){return new o.NamedNode(n.wildcard.value)}async getOperator(n,t){const a=await this.mediatorFunctionFactory.mediate({functionName:n,arguments:t.args,context:this.context}),l=await Promise.all(t.args.map(d=>this.transformAlgebra(d)));if(!a.checkArity(l))throw new o.InvalidArity(l,n);return new o.Operator(n,l,a.apply)}async transformOperator(n){return this.getOperator(n.operator.toLowerCase(),n)}async transformNamed(n){return this.getOperator(n.name.value,n)}static transformAggregate(n){const t=n.aggregator;return new o.Aggregate(t,n)}static transformExistence(n){return new o.Existence(n)}}e.AlgebraTransformer=i},96835:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(42149),e)},96848:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(17937),e)},96925:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TypeHandlerNumberInteger=void 0;const c=s(30103);class o{fromRdf(i,r){const n=parseInt(i.value,10);return r&&(isNaN(n)||i.value.indexOf(".")>=0)&&c.Translator.incorrectRdfDataType(i),n}toRdf(i,{datatype:r,dataFactory:n}){return n.literal(String(i),r||(i<=o.MAX_INT&&i>=o.MIN_INT?n.namedNode(o.TYPES[0]):n.namedNode(o.TYPES[1])))}}o.TYPES=["http://www.w3.org/2001/XMLSchema#integer","http://www.w3.org/2001/XMLSchema#long","http://www.w3.org/2001/XMLSchema#int","http://www.w3.org/2001/XMLSchema#byte","http://www.w3.org/2001/XMLSchema#short","http://www.w3.org/2001/XMLSchema#negativeInteger","http://www.w3.org/2001/XMLSchema#nonNegativeInteger","http://www.w3.org/2001/XMLSchema#nonPositiveInteger","http://www.w3.org/2001/XMLSchema#positiveInteger","http://www.w3.org/2001/XMLSchema#unsignedByte","http://www.w3.org/2001/XMLSchema#unsignedInt","http://www.w3.org/2001/XMLSchema#unsignedLong","http://www.w3.org/2001/XMLSchema#unsignedShort"],o.MAX_INT=2147483647,o.MIN_INT=-2147483648,e.TypeHandlerNumberInteger=o},97091:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(92647),e),o(s(71493),e)},97103:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(19036),e)},97114:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionContains=void 0;const c=s(77617),o=s(77545);class u extends c.TermFunctionBase{constructor(){super({arity:2,operator:o.SparqlOperator.CONTAINS,overloads:(0,o.declare)(o.SparqlOperator.CONTAINS).onBinaryTyped([o.TypeAlias.SPARQL_STRINGLY,o.TypeURL.XSD_STRING],()=>(r,n)=>(0,o.bool)(r.includes(n))).onBinary([o.TypeURL.RDF_LANG_STRING,o.TypeURL.RDF_LANG_STRING],()=>(r,n)=>{if(r.language!==n.language)throw new o.IncompatibleLanguageOperation(r,n);return(0,o.bool)(r.typedValue.includes(n.typedValue))}).collect()})}}e.TermFunctionContains=u},97237:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(75425),e)},97274:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionNot=void 0;const c=s(77617),o=s(77545);class u extends c.TermFunctionBase{constructor(){super({arity:1,operator:o.SparqlOperator.NOT,overloads:(0,o.declare)(o.SparqlOperator.NOT).onTerm1(()=>r=>(0,o.bool)(!r.coerceEBV())).collect()})}}e.TermFunctionNot=u},97460:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultGraph=void 0;class s{constructor(){this.termType="DefaultGraph",this.value=""}equals(o){return!!o&&o.termType==="DefaultGraph"}}e.DefaultGraph=s,s.INSTANCE=new s},97480:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Util=void 0;const c=s(47793),o=s(42395),u=s(17394);e.Util=class{constructor(i){this.nodeHandlers={},this.nodeValueHandlers={},this.directiveNodeHandlers={},this.settings=i,this.dataFactory=i.dataFactory||new c.DataFactory,this.operationFactory=new u.Factory(this.dataFactory),this.contextParser=new o.ContextParser}registerNodeHandler(i){this.nodeHandlers[i.targetKind]=i}registerNodeValueHandler(i){this.nodeValueHandlers[i.targetKind]=i}registerDirectiveNodeHandler(i){this.directiveNodeHandlers[i.targetKind]=i}handleNode(i,r){const n=this.nodeHandlers[i.kind];if(!n)throw new Error(`Unsupported GraphQL node '${i.kind}'`);return n.handle(i,r)}handleNodeValue(i,r,n){const t=this.nodeValueHandlers[i.kind];if(!t)throw new Error(`Unsupported GraphQL value node '${i.kind}'`);return t.handle(i,r,n)}handleDirectiveNode(i,r){const n=this.directiveNodeHandlers[i.directive.name.value];return n?n.handle(i,r):null}joinOperations(i){if(i.length===1)return i[0];const r=[],n=[];for(const t of i)t.type==="bgp"?r.push(t):n.push(t);if(r.length===i.length)return this.joinOperationsAsBgp(r);if(r.length===i.length-1&&n[0].type==="leftjoin"&&n[0].input[0].type==="bgp"){const t=n[0];return r.push(t.input[0]),this.operationFactory.createLeftJoin(this.joinOperationsAsBgp(r),t.input[1])}return n.length===i.length?this.joinOperationsAsNestedJoin(n):this.joinOperationsAsNestedJoin([this.joinOperationsAsBgp(r),this.joinOperationsAsNestedJoin(n)])}joinOperationsAsBgp(i){return this.operationFactory.createBgp([].concat.apply([],i.map(r=>r.patterns)))}joinOperationsAsNestedJoin(i){return this.operationFactory.createJoin(i)}appendFieldToPath(i,r){return i.concat([r])}getFieldLabel(i){return(i.alias?i.alias:i.name).value}nameToVariable(i,r){return this.dataFactory.variable((r.path.length?r.path.join(this.settings.variableDelimiter)+this.settings.variableDelimiter:"")+i)}valueToNamedNode(i,r){const n=r.expandTerm(i,!0);if(this.settings.requireContext&&!n)throw new Error("No context entry was found for "+i);return this.dataFactory.namedNode(n||i)}getArgument(i,r){if(i){for(const n of i)if(n.name.value===r)return n}}newTypePattern(i,r,n){return this.operationFactory.createPattern(i,this.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),this.valueToNamedNode(r.name.value,n.context),n.graph)}createQuadPattern(i,r,n,t,a){const l=this.valueToNamedNode(r.value,a);return a&&a.getContextRaw()[r.value]&&a.getContextRaw()[r.value]["@reverse"]?this.operationFactory.createPattern(n,l,i,t):this.operationFactory.createPattern(i,l,n,t)}createQuadPath(i,r,n,t,a,l){const d=this.valueToNamedNode(r.value,l);let p=this.operationFactory.createLink(d);for(const f of n.values){if(f.kind!=="EnumValue")throw new Error("Invalid value type for 'alt' argument, must be EnumValue, but got "+f.kind);p=this.operationFactory.createAlt([p,this.operationFactory.createLink(this.valueToNamedNode(f.value,l))])}return l&&l.getContextRaw()[r.value]&&l.getContextRaw()[r.value]["@reverse"]?this.operationFactory.createPath(t,p,i,a):this.operationFactory.createPath(i,p,t,a)}}},97618:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.expressionToVar=e.dateTime=e.langString=e.string=e.double=e.float=e.decimal=e.integer=e.bool=e.Builder=e.declare=void 0;const c=s(90711),o=s(54833),u=s(54833),i=s(64900),r=s(64900),n=s(98575),t=s(34641);e.declare=function(y){return new a(y)};class a{constructor(m){this.overloadTree=new t.OverloadTree(m),this.collected=!1}collect(){if(this.collected)throw new Error("Builders can only be collected once!");return this.collected=!0,this.overloadTree}static wrapInvalidLexicalProtected(m){return b=>v=>{for(const[_,w]of v.entries())if(w instanceof u.NonLexicalLiteral)throw new n.InvalidLexicalForm(v[_].toRDF(b.context.getSafe(c.KeysInitQuery.dataFactory)));return m(b)(v)}}set(m,b,v=!0){return this.overloadTree.addOverload(m,v?a.wrapInvalidLexicalProtected(b):b),this}copy({from:m,to:b}){const v=this.overloadTree.getImplementationExact(m);if(!v)throw new n.UnexpectedError("Tried to copy implementation, but types not found",{from:m,to:b});return this.set(b,v)}onUnary(m,b,v=!0){return this.set([m],_=>([w])=>b(_)(w),v)}onUnaryTyped(m,b,v=!0){return this.set([m],_=>([w])=>b(_)(w.typedValue),v)}onBinary(m,b,v=!0){return this.set(m,_=>([w,S])=>b(_)(w,S),v)}onBinaryTyped(m,b,v=!0){return this.set(m,_=>([w,S])=>b(_)(w.typedValue,S.typedValue),v)}onTernaryTyped(m,b,v=!0){return this.set(m,_=>([w,S,x])=>b(_)(w.typedValue,S.typedValue,x.typedValue),v)}onTernary(m,b,v=!0){return this.set(m,_=>([w,S,x])=>b(_)(w,S,x),v)}onQuaternaryTyped(m,b,v=!0){return this.set(m,_=>([w,S,x,T])=>b(_)(w.typedValue,S.typedValue,x.typedValue,T.typedValue),v)}onTerm1(m,b=!1){return this.set(["term"],v=>([_])=>m(v)(_),b)}onTerm3(m){return this.set(["term","term","term"],b=>([v,_,w])=>m(b)(v,_,w))}onQuad1(m){return this.set(["quad"],b=>([v])=>m(b)(v))}onLiteral1(m,b=!0){return this.set(["literal"],v=>([_])=>m(v)(_),b)}onBoolean1(m,b=!0){return this.set([i.TypeURL.XSD_BOOLEAN],v=>([_])=>m(v)(_),b)}onBoolean1Typed(m,b=!0){return this.set([i.TypeURL.XSD_BOOLEAN],v=>([_])=>m(v)(_.typedValue),b)}onString1(m,b=!0){return this.set([i.TypeURL.XSD_STRING],v=>([_])=>m(v)(_),b)}onString1Typed(m,b=!0){return this.set([i.TypeURL.XSD_STRING],v=>([_])=>m(v)(_.typedValue),b)}onLangString1(m,b=!0){return this.set([i.TypeURL.RDF_LANG_STRING],v=>([_])=>m(v)(_),b)}onStringly1(m,b=!0){return this.set([i.TypeAlias.SPARQL_STRINGLY],v=>([_])=>m(v)(_),b)}onStringly1Typed(m,b=!0){return this.set([i.TypeAlias.SPARQL_STRINGLY],v=>([_])=>m(v)(_.typedValue),b)}onNumeric1(m,b=!0){return this.set([i.TypeAlias.SPARQL_NUMERIC],v=>([_])=>m(v)(_),b)}onDateTime1(m,b=!0){return this.set([i.TypeURL.XSD_DATE_TIME],v=>([_])=>m(v)(_),b)}numericConverter(m,b=!0){const v=_=>w=>m(_)(w.typedValue);return this.onUnary(r.TypeURL.XSD_INTEGER,_=>w=>d(v(_)(w)),b).onUnary(r.TypeURL.XSD_DECIMAL,_=>w=>p(v(_)(w)),b).onUnary(r.TypeURL.XSD_FLOAT,_=>w=>f(v(_)(w)),b).onUnary(r.TypeURL.XSD_DOUBLE,_=>w=>h(v(_)(w)),b)}arithmetic(m,b=!0){const v=_=>(w,S)=>m(_)(w.typedValue,S.typedValue);return this.onBinary([r.TypeURL.XSD_INTEGER,r.TypeURL.XSD_INTEGER],_=>(w,S)=>d(v(_)(w,S)),b).onBinary([r.TypeURL.XSD_DECIMAL,r.TypeURL.XSD_DECIMAL],_=>(w,S)=>p(v(_)(w,S)),b).onBinary([r.TypeURL.XSD_FLOAT,r.TypeURL.XSD_FLOAT],_=>(w,S)=>f(v(_)(w,S)),b).onBinary([r.TypeURL.XSD_DOUBLE,r.TypeURL.XSD_DOUBLE],_=>(w,S)=>h(v(_)(w,S)),b)}numberTest(m){return this.numeric(b=>([v,_])=>l(m(b)(v.typedValue,_.typedValue)))}stringTest(m,b=!0){return this.set([i.TypeURL.XSD_STRING,i.TypeURL.XSD_STRING],v=>([_,w])=>l(m(v)(_.typedValue,w.typedValue)),b)}booleanTest(m,b=!0){return this.set([i.TypeURL.XSD_BOOLEAN,i.TypeURL.XSD_BOOLEAN],v=>([_,w])=>l(m(v)(_.typedValue,w.typedValue)),b)}dateTimeTest(m,b=!0){return this.set([i.TypeURL.XSD_DATE_TIME,i.TypeURL.XSD_DATE_TIME],v=>([_,w])=>l(m(v)(_.typedValue,w.typedValue)),b)}numeric(m){return this.set([i.TypeAlias.SPARQL_NUMERIC,i.TypeAlias.SPARQL_NUMERIC],m)}}function l(y){return new o.BooleanLiteral(y)}function d(y){return new o.IntegerLiteral(y)}function p(y){return new o.DecimalLiteral(y)}function f(y){return new o.FloatLiteral(y)}function h(y){return new o.DoubleLiteral(y)}e.Builder=a,e.bool=l,e.integer=d,e.decimal=p,e.float=f,e.double=h,e.string=function(y){return new o.StringLiteral(y)},e.langString=function(y,m){return new o.LangStringLiteral(y,m)},e.dateTime=function(y,m){return new o.DateTimeLiteral(y,m)},e.expressionToVar=function(y,m){return y.variable(m.name.slice(1))}},97969:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermXsdToDuration=void 0;const c=s(77617),o=s(77545),u=s(2126);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.TypeURL.XSD_DURATION],termFunction:!0})}async run(n){return new u.TermFunctionXsdToDuration}}e.ActorFunctionFactoryTermXsdToDuration=i},97976:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.defaultExpandOptions=e.JsonLdContextNormalized=void 0;const c=s(70742),o=s(44063),u=s(8486);e.JsonLdContextNormalized=class{constructor(i){this.contextRaw=i}getContextRaw(){return this.contextRaw}expandTerm(i,r,n=e.defaultExpandOptions){const t=this.contextRaw[i];if(t===null||t&&t["@id"]===null)return null;let a=!0;if(t&&r){const y=u.Util.getContextValueId(t);if(y&&y!==i){if(typeof y=="string"&&(u.Util.isValidIri(y)||u.Util.isValidKeyword(y)))return y;u.Util.isPotentialKeyword(y)||(a=!1)}}const l=u.Util.getPrefix(i,this.contextRaw),d=this.contextRaw["@vocab"],p=(!!d||d==="")&&d.indexOf(":")<0,f=this.contextRaw["@base"],h=u.Util.isPotentialKeyword(i);if(l){const y=this.contextRaw[l],m=u.Util.getContextValueId(y);if(m){if(typeof y!="string"&&n.allowPrefixForcing){if(m[0]!=="_"&&!h&&!y["@prefix"]&&!(i in this.contextRaw))return i}else if(!u.Util.isSimpleTermDefinitionPrefix(m,n))return i;return m+i.substr(l.length+1)}}else{if(r&&(d||d===""||n.allowVocabRelativeToBase&&f&&p)&&!h&&!u.Util.isCompactIri(i)){if(p){if(n.allowVocabRelativeToBase)return(d||f?(0,c.resolve)(d,f):"")+i;throw new o.ErrorCoded(`Relative vocab expansion for term '${i}' with vocab '${d}' is not allowed.`,o.ERROR_CODES.INVALID_VOCAB_MAPPING)}return d+i}if(!r&&f&&!h&&!u.Util.isCompactIri(i))return(0,c.resolve)(i,f)}if(a)return i;throw new o.ErrorCoded(`Invalid IRI mapping found for context entry '${i}': '${JSON.stringify(t)}'`,o.ERROR_CODES.INVALID_IRI_MAPPING)}compactIri(i,r){if(r&&this.contextRaw["@vocab"]&&i.startsWith(this.contextRaw["@vocab"]))return i.substr(this.contextRaw["@vocab"].length);if(!r&&this.contextRaw["@base"]&&i.startsWith(this.contextRaw["@base"]))return i.substr(this.contextRaw["@base"].length);const n={prefix:"",suffix:i};for(const t in this.contextRaw){const a=this.contextRaw[t];if(a&&!u.Util.isPotentialKeyword(t)){const l=u.Util.getContextValueId(a);if(i.startsWith(l)){const d=i.substr(l.length);if(d)d.length<n.suffix.length&&(n.prefix=t,n.suffix=d);else if(r)return t}}}return n.prefix?n.prefix+":"+n.suffix:i}},e.defaultExpandOptions={allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}},98027:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryResultSerializeRdf=void 0;const c=s(58871),o=s(90412);class u extends c.ActorQueryResultSerialize{constructor(r){super(r)}async testHandle(r,n,t){if(r.type!=="quads")return(0,o.failTest)(`Actor ${this.name} can only handle quad streams`);const{mediaTypes:a}=await this.mediatorMediaTypeCombiner.mediate({context:t,mediaTypes:!0});return n in a?(0,o.passTestVoid)():(0,o.failTest)(`Actor ${this.name} can not handle media type ${n}. All available types: ${Object.keys(a)}`)}async runHandle(r,n,t){return(await this.mediatorRdfSerialize.mediate({context:t,handle:{context:t,quadStream:r.quadStream},handleMediaType:n})).handle}async testMediaType(r){return(0,o.passTestVoid)()}async getMediaTypes(r){return(await this.mediatorMediaTypeCombiner.mediate({context:r,mediaTypes:!0})).mediaTypes}async testMediaTypeFormats(r){return(0,o.passTestVoid)()}async getMediaTypeFormats(r){return(await this.mediatorMediaTypeFormatCombiner.mediate({context:r,mediaTypeFormats:!0})).mediaTypeFormats}}e.ActorQueryResultSerializeRdf=u},98082:(g,e,s)=>{const{Parser:c}=s(83849),{Generator:o}=s(23825),{Wildcard:u}=s(23637),{DataFactory:i}=s(47793);g.exports={Parser:function({prefixes:r,baseIRI:n,factory:t,pathOnly:a,sparqlStar:l,skipValidation:d,skipUngroupedVariableCheck:p}={}){const f={};for(const y in r??{})f[y]=r[y];const h=new c;return h.parse=function(){return c.base=n||"",c.prefixes=Object.create(f),c.factory=t||new i,c.sparqlStar=!!l,c.pathOnly=!!a,c.skipValidation=!!d||!!p,c.prototype.parse.apply(h,arguments)},h._resetBlanks=c._resetBlanks,h},Generator:o,Wildcard:u}},98329:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryResultSerializeStats=void 0;const c=s(58871),o=s(90711),u=s(90412),i=s(75627),r=s(19198);class n extends c.ActorQueryResultSerializeFixedMediaTypes{constructor(a){super(a)}async testHandleChecked(a,l){return["bindings","quads"].includes(a.type)?(0,u.passTestVoid)():(0,u.failTest)("This actor can only handle bindings streams or quad streams.")}pushHeader(a){const l=["Result","Delay (ms)","HTTP requests"].join(",");a.push(`${l}
`)}createStat(a,l){return`${[l,this.delay(a),this.httpObserver.requests].join(",")}
`}createSpecialLine(a,l){return`${[a,this.delay(l),this.httpObserver.requests].join(",")}
`}async runHandle(a,l,d){const p=new r.Readable,f=a.type==="bindings"?a.bindingsStream:a.quadStream,h=a.context.getSafe(o.KeysInitQuery.queryTimestampHighResolution);let y=1;const m=(0,i.wrap)(f).map(()=>this.createStat(h,y++)).prepend([this.createSpecialLine("PLANNING",h)]).append((0,i.wrap)((function*(b){yield b()})(()=>this.createSpecialLine("TOTAL",h))));return this.pushHeader(p),p.wrap(m),{data:p}}now(){return performance.now()}delay(a){return this.now()-a}}e.ActorQueryResultSerializeStats=n},98349:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermReplace=void 0;const c=s(77617),o=s(77545),u=s(77054);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.SparqlOperator.REPLACE],termFunction:!0})}async run(n){return new u.TermFunctionReplace}}e.ActorFunctionFactoryTermReplace=i},98371:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(61186),e)},98384:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryOperationNop=void 0;const c=s(66490),o=s(90711),u=s(90412),i=s(81926),r=s(99214),n=s(75627);class t extends c.ActorQueryOperationTypedMediated{constructor(l){super(l,"nop")}async testOperation(l,d){return(0,u.passTestVoid)()}async runOperation(l,d){const p=d.getSafe(o.KeysInitQuery.dataFactory),f=await i.BindingsFactory.create(this.mediatorMergeBindingsContext,d,p);return{bindingsStream:new n.SingletonIterator(f.bindings()),metadata:()=>Promise.resolve({state:new r.MetadataValidationState,cardinality:{type:"exact",value:1},variables:[]}),type:"bindings"}}}e.ActorQueryOperationNop=t},98493:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):void 0;e.default=s},98575:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NoAggregator=e.ExtensionFunctionError=e.InvalidExpression=e.InvalidArity=e.UnexpectedError=e.ParseError=e.EmptyAggregateError=e.IncompatibleLanguageOperation=e.InvalidTimezoneCall=e.CastError=e.InvalidArgumentTypes=e.InError=e.CoalesceError=e.RDFEqualTypeError=e.EBVCoercionError=e.UnboundVariableError=e.InvalidLexicalForm=e.isExpressionError=e.ExpressionError=void 0;class s extends Error{}e.ExpressionError=s,e.isExpressionError=function(t){return t instanceof s},e.InvalidLexicalForm=class extends s{constructor(t){super(`Invalid lexical form '${n(t)}'`),this.arg=t}},e.UnboundVariableError=class extends s{constructor(t,a){super(`Unbound variable '${n(t)}'`),this.variable=t,this.bindings=a}},e.EBVCoercionError=class extends s{constructor(t){super(`Cannot coerce term to EBV '${n(t)}'`),this.arg=t}},e.RDFEqualTypeError=class extends s{constructor(t){super("Equality test for literals with unsupported datatypes"),this.args=t}},e.CoalesceError=class extends s{constructor(t){super("All COALESCE arguments threw errors"),this.errors=t}},e.InError=class extends s{constructor(t){super(`Some argument to IN errorred and none where equal. ${t.map(a=>`(${a.toString()}) `).join("and ")}`),this.errors=t}},e.InvalidArgumentTypes=class extends s{constructor(t,a){super(`Argument types not valid for operator: '${n(a)}' with '${n(t)}`),this.args=t,this.op=a}},e.CastError=class extends s{constructor(t,a){super(`Invalid cast: '${n(t)}' to '${n(a)}'`),this.arg=t}},e.InvalidTimezoneCall=class extends s{constructor(t){super(`TIMEZONE call on ${t} which has no timezone`),this.dateString=t}},e.IncompatibleLanguageOperation=class extends s{constructor(t,a){super(`Operation on incompatible language literals '${n(t)}' and '${n(a)}'`),this.arg1=t,this.arg2=a}},e.EmptyAggregateError=class extends s{constructor(){super("Empty aggregate expression")}},e.ParseError=class extends s{constructor(t,a){super(`Failed to parse "${t}" as ${a}.`)}};class c extends Error{constructor(a,l){super(`Programmer Error '${a}'`),this.payload=l}}e.UnexpectedError=c;class o extends Error{constructor(a,l){super(`The number of args does not match the arity of the operator '${n(l)}'.`),this.args=a,this.op=l}}e.InvalidArity=o;class u extends Error{constructor(a){super(`Invalid SPARQL Expression '${n(a)}'`)}}e.InvalidExpression=u;class i extends Error{constructor(a,l){l instanceof Error?super(`Error thrown in ${a}: ${l.message}${l.stack?`
${l.stack}`:""}`):super(`Error thrown in ${a}`)}}e.ExtensionFunctionError=i;class r extends Error{constructor(a){super(`Aggregate expression ${n(a)} found, but no aggregate hook provided.`)}}function n(t){return JSON.stringify(t)}e.NoAggregator=r},98603:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfUpdateHypermediaPatchSparqlUpdate=void 0;const c=s(14597),o=s(90412),u=s(88052);class i extends c.ActorRdfUpdateHypermedia{constructor(n){super(n,"patchSparqlUpdate")}async testMetadata(n){return n.forceDestinationType||n.metadata.patchSparqlUpdate?n.forceDestinationType||n.exists?(0,o.passTestVoid)():(0,o.failTest)(`Actor ${this.name} can only patch a destination that already exists.`):(0,o.failTest)(`Actor ${this.name} could not detect a destination with 'application/sparql-update' as 'Accept-Patch' header.`)}async run(n){return this.logInfo(n.context,`Identified as patchSparqlUpdate destination: ${n.url}`),{destination:new u.QuadDestinationPatchSparqlUpdate(n.url,n.context,this.mediatorHttp)}}}e.ActorRdfUpdateHypermediaPatchSparqlUpdate=i},98701:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Quad=void 0,e.Quad=class{constructor(s,c,o,u){this.termType="Quad",this.value="",this.subject=s,this.predicate=c,this.object=o,this.graph=u}equals(s){return!!s&&(s.termType==="Quad"||!s.termType)&&this.subject.equals(s.subject)&&this.predicate.equals(s.predicate)&&this.object.equals(s.object)&&this.graph.equals(s.graph)}}},98811:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(99441),e),o(s(11658),e)},98832:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(25538),e)},98848:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DataFactory=void 0;const c=s(81928),o=s(99475),u=s(50673),i=s(58283),r=s(60871),n=s(33384);let t=0;e.DataFactory=class{constructor(a){this.blankNodeCounter=0,a=a||{},this.blankNodePrefix=a.blankNodePrefix||`df_${t++}_`}namedNode(a){return new i.NamedNode(a)}blankNode(a){return new c.BlankNode(a||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(a,l){return new u.Literal(a,l)}variable(a){return new n.Variable(a)}defaultGraph(){return o.DefaultGraph.INSTANCE}quad(a,l,d,p){return new r.Quad(a,l,d,p||this.defaultGraph())}fromTerm(a){switch(a.termType){case"NamedNode":return this.namedNode(a.value);case"BlankNode":return this.blankNode(a.value);case"Literal":return a.language?this.literal(a.value,a.language):a.datatype.equals(u.Literal.XSD_STRING)?this.literal(a.value):this.literal(a.value,this.fromTerm(a.datatype));case"Variable":return this.variable(a.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(a.subject),this.fromTerm(a.predicate),this.fromTerm(a.object),this.fromTerm(a.graph))}}fromQuad(a){return this.fromTerm(a)}resetBlankNodeCounter(){this.blankNodeCounter=0}}},98862:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorContextPreprocess=void 0;const c=s(90412);class o extends c.Actor{constructor(i){super(i)}}e.ActorContextPreprocess=o},98888:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(i,r,n,t){t===void 0&&(t=n);var a=Object.getOwnPropertyDescriptor(r,n);a&&!("get"in a?!r.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(i,t,a)}:function(i,r,n,t){t===void 0&&(t=n),i[t]=r[n]}),o=this&&this.__exportStar||function(i,r){for(var n in i)n==="default"||Object.prototype.hasOwnProperty.call(r,n)||c(r,i,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.hasChildren=e.isDocument=e.isComment=e.isText=e.isCDATA=e.isTag=void 0,o(s(76037),e),o(s(8938),e),o(s(73403),e),o(s(90718),e),o(s(43209),e),o(s(45397),e),o(s(54437),e);var u=s(41141);Object.defineProperty(e,"isTag",{enumerable:!0,get:function(){return u.isTag}}),Object.defineProperty(e,"isCDATA",{enumerable:!0,get:function(){return u.isCDATA}}),Object.defineProperty(e,"isText",{enumerable:!0,get:function(){return u.isText}}),Object.defineProperty(e,"isComment",{enumerable:!0,get:function(){return u.isComment}}),Object.defineProperty(e,"isDocument",{enumerable:!0,get:function(){return u.isDocument}}),Object.defineProperty(e,"hasChildren",{enumerable:!0,get:function(){return u.hasChildren}})},98926:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(98862),e)},98958:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NamedNode=void 0,e.NamedNode=class{constructor(s){this.termType="NamedNode",this.value=s}equals(s){return!!s&&s.termType==="NamedNode"&&s.value===this.value}}},98960:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeHandlerDocument=void 0;const c=s(17394),o=s(75566);class u extends o.NodeHandlerAdapter{constructor(r,n){super("Document",r,n)}handle(r,n){const t=r.definitions.map(l=>{const d=this.getNodeQuadContextDefinitionNode(l,Object.assign(Object.assign({},n),{ignoreUnknownVariables:!0})),p=Object.assign(Object.assign({},n),{graph:d.graph||n.graph,subject:d.subject||this.util.dataFactory.blankNode()});let f=this.util.handleNode(l,p);return d&&d.auxiliaryPatterns&&(f=this.util.joinOperations([f,this.util.operationFactory.createBgp(d.auxiliaryPatterns)])),f}),a=this.util.operationFactory.createProject(t.length===1?t[0]:this.util.operationFactory.createUnion(t),n.terminalVariables);return this.translateBlankNodesToVariables(a)}getNodeQuadContextDefinitionNode(r,n){if(r.kind==="OperationDefinition")return this.getNodeQuadContextSelectionSet(r.selectionSet,r.name?r.name.value:"",n);throw new Error(`Unsupported definition: ${r.kind}`)}translateBlankNodesToVariables(r){const n=this,t={},a=Array.from(r.variables).reduce((d,p)=>(d[p.value]=!0,d),{});return c.Util.mapOperation(r,{path:(d,p)=>({recurse:!1,result:p.createPath(l(d.subject),d.predicate,l(d.object),l(d.graph))}),pattern:(d,p)=>({recurse:!1,result:p.createPattern(l(d.subject),l(d.predicate),l(d.object),l(d.graph))})});function l(d){if(d.termType==="BlankNode"){let p=t[d.value];return p||(p=c.Util.createUniqueVariable(d.value,a,n.util.dataFactory),a[p.value]=!0,t[d.value]=p),p}return d}}}e.NodeHandlerDocument=u},99214:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(32549),e),o(s(2527),e)},99349:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(l,d,p,f){f===void 0&&(f=p);var h=Object.getOwnPropertyDescriptor(d,p);h&&!("get"in h?!d.__esModule:h.writable||h.configurable)||(h={enumerable:!0,get:function(){return d[p]}}),Object.defineProperty(l,f,h)}:function(l,d,p,f){f===void 0&&(f=p),l[f]=d[p]}),o=this&&this.__exportStar||function(l,d){for(var p in l)p==="default"||Object.prototype.hasOwnProperty.call(d,p)||c(d,l,p)};Object.defineProperty(e,"__esModule",{value:!0}),e.getSupportedJavaScriptPrimitives=e.getSupportedRdfDatatypes=e.getTermRaw=e.toRdf=e.fromRdf=void 0;const u=s(47793),i=s(94802),r=s(30103);o(s(94802),e),o(s(5448),e),o(s(30103),e);const n=new u.DataFactory,t=new r.Translator;function a(l,d){return t.fromRdf(l,d)}t.registerHandler(new i.TypeHandlerString,i.TypeHandlerString.TYPES.map(l=>n.namedNode(l)),["string"]),t.registerHandler(new i.TypeHandlerBoolean,[i.TypeHandlerBoolean.TYPE].map(l=>n.namedNode(l)),["boolean"]),t.registerHandler(new i.TypeHandlerNumberDouble,i.TypeHandlerNumberDouble.TYPES.map(l=>n.namedNode(l)),["number"]),t.registerHandler(new i.TypeHandlerNumberInteger,i.TypeHandlerNumberInteger.TYPES.map(l=>n.namedNode(l)),["number"]),t.registerHandler(new i.TypeHandlerDate,i.TypeHandlerDate.TYPES.map(l=>n.namedNode(l)),["object"]),e.fromRdf=a,e.toRdf=function(l,d){return d&&"namedNode"in d&&(d={dataFactory:d}),(d=d||{})&&!d.dataFactory&&(d.dataFactory=n),t.toRdf(l,d)},e.getTermRaw=function(l,d){return l.termType==="Literal"?a(l,d):l.value},e.getSupportedRdfDatatypes=function(){return t.getSupportedRdfDatatypes()},e.getSupportedJavaScriptPrimitives=function(){return t.getSupportedJavaScriptPrimitives()}},99441:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermRegex=void 0;const c=s(77617),o=s(77545),u=s(11658);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[o.SparqlOperator.REGEX],termFunction:!0})}async run(n){return new u.TermFunctionRegex}}e.ActorFunctionFactoryTermRegex=i},99475:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultGraph=void 0;class s{constructor(){this.termType="DefaultGraph",this.value=""}equals(o){return!!o&&o.termType==="DefaultGraph"}}e.DefaultGraph=s,s.INSTANCE=new s},99507:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(48293),e)},99530:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getLocation=function(s,c){for(var o,u=/\r\n|[\n\r]/g,i=1,r=c+1;(o=u.exec(s.body))&&o.index<c;)i+=1,r=c+1-(o.index+o[0].length);return{line:i,column:r}}},99616:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermDictionaryQuotedReferential=void 0;const c=s(28664),o=s(61758),u=s(95439);class i{constructor(n,t=new c.DataFactory){this.quotedTriplesDictionary=[],this.quotedTriplesReverseDictionary={},this.features={quotedTriples:!0},this.plainTermDictionary=n,this.dataFactory=t}encode(n){return n.termType==="Quad"?this.encodeQuotedTriple(n,!1):this.plainTermDictionary.encode(n)}encodeQuotedTriple(n,t){if(n.graph.termType!=="DefaultGraph")throw new Error("Encoding of quoted quads outside of the default graph is not allowed");const a=(0,u.encodeOptionalTerms)([n.subject,n.predicate,n.object,void 0],this)?.slice(0,3),l=a&&a.every(f=>f!==void 0)?this.quotedTriplesReverseDictionary[a.join(i.SEPARATOR)]:void 0;if(l!==void 0||t)return l===void 0?void 0:i.BITMASK|l;const d=[this.encode(n.subject),this.encode(n.predicate),this.encode(n.object)],p=this.quotedTriplesDictionary.length+1;return this.quotedTriplesDictionary.push(d),this.quotedTriplesReverseDictionary[d.join(i.SEPARATOR)]=p,i.BITMASK|p}encodeOptional(n){return n.termType==="Quad"?this.encodeQuotedTriple(n,!0):this.plainTermDictionary.encodeOptional(n)}decode(n){if(i.BITMASK&n){const t=(~i.BITMASK&n)-1;if(t>=this.quotedTriplesDictionary.length)throw new Error(`The value ${n} is not present in the quoted triples range of the dictionary`);const a=this.quotedTriplesDictionary[t];return this.dataFactory.quad(this.decode(a[0]),this.decode(a[1]),this.decode(a[2]))}return this.plainTermDictionary.decode(n)}*encodings(){for(const n of this.plainTermDictionary.encodings())yield n;for(const n of this.quotedTriplesDictionary.keys())yield i.BITMASK|1+n}*findQuotedTriples(n){for(const t of this.findQuotedTriplesEncoded(n))yield this.decode(t)}*findQuotedTriplesEncoded(n){for(let t of this.quotedTriplesDictionary.keys()){t=i.BITMASK|1+t;const a=this.decode(t);(0,o.matchPattern)(a,n.subject,n.predicate,n.object,n.graph)&&(yield t)}}}e.TermDictionaryQuotedReferential=i,i.BITMASK=1<<31,i.SEPARATOR="_"},99669:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionIsTriple=void 0;const c=s(77617),o=s(77545);class u extends c.TermFunctionBase{constructor(){super({arity:1,operator:o.SparqlOperator.IS_TRIPLE,overloads:(0,o.declare)(o.SparqlOperator.IS_TRIPLE).onTerm1(()=>r=>(0,o.bool)(r.termType==="quad")).collect()})}}e.TermFunctionIsTriple=u},99694:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionObject=void 0;const c=s(77617),o=s(77545);class u extends c.TermFunctionBase{constructor(){super({arity:1,operator:o.SparqlOperator.OBJECT,overloads:(0,o.declare)(o.SparqlOperator.OBJECT).onQuad1(()=>r=>r.object).collect()})}}e.TermFunctionObject=u},99778:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(70177),e)},99817:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(89760),e)},99883:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,i,r,n){n===void 0&&(n=r);var t=Object.getOwnPropertyDescriptor(i,r);t&&!("get"in t?!i.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return i[r]}}),Object.defineProperty(u,n,t)}:function(u,i,r,n){n===void 0&&(n=r),u[n]=i[r]}),o=this&&this.__exportStar||function(u,i){for(var r in u)r==="default"||Object.prototype.hasOwnProperty.call(i,r)||c(i,u,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(s(35733),e),o(s(81673),e),o(s(45020),e),o(s(29388),e),o(s(25614),e),o(s(82684),e),o(s(4367),e)}},vl={};function Sr(g){var e=vl[g];if(e!==void 0)return e.exports;var s=vl[g]={exports:{}};return _p[g].call(s.exports,s,s.exports,Sr),s.exports}Sr.n=g=>{var e=g&&g.__esModule?()=>g.default:()=>g;return Sr.d(e,{a:e}),e},Sr.d=(g,e)=>{for(var s in e)Sr.o(e,s)&&!Sr.o(g,s)&&Object.defineProperty(g,s,{enumerable:!0,get:e[s]})},Sr.g=(function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}})(),Sr.o=(g,e)=>Object.prototype.hasOwnProperty.call(g,e),Sr.r=g=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(g,"__esModule",{value:!0})};var _l={};Sr.d(_l,{A:()=>Sp});var wp=Sr(12301),Tp=Sr(43347),Op=Sr(64417);const Sp={PassageFactory:function(){return new wp.QueryEngineBase(Op())},RdfString:Tp},Ep=_l.A;let Ao=null;self.onmessage=g=>{switch(g.data.type){case"MessageStart":const e=g.data,s=new Headers;return e.config.args.forEach(c=>{s.set(c.name,c.value)}),Ao={sources:[e.config.endpoint],headers:s,shape:e.shape,log:new nd(self,{level:"info"}),physicalQueryPlanLogger:()=>new vp(self),abort:{value:!1}},xp(e.query,Ao);case"MessageAbort":Ao.abort.value=!0,Ao.log.log=(c,o,u,i)=>{};return;default:return self.postMessage(new oo(`The worker does not understand the message ${JSON.stringify(g)}`))}};function xp(g,e){let s=null;Ep.PassageFactory().query(g,e).then(async c=>{switch(c.resultType){case"bindings":s=await c.execute();break;default:self.postMessage(new oo(new Exception(`Should get an iterator of bindings but gets something else: ${c.resultType}`)))}s.on("error",o=>self.postMessage(new oo(o))),s.on("end",()=>self.postMessage(new El)),s.on("data",o=>{const u=Object.fromEntries([...o].map(([i,r])=>{let n=null;switch(r.termType){case"NamedNode":n="uri";break;case"Literal":n="literal";break;case"BlankNode":n="bnode";break;default:console.log("Unhandled type: "+r.termType)}const t={value:r.value,type:n,datatype:r&&r.datatype&&r.datatype.value};return[i.value,t]}));self.postMessage(new xl(u))})}).catch(c=>{self.postMessage(new oo(c))})}})();
