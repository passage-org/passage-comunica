(function(){"use strict";class Rl{type="MessagePhysicalPlanInit";constructor(e,s,c,a){this.date=Date.now(),this.lo=e,this.pn=s,this.n=c,this.m=a}}class Dl{type="MessagePhysicalPlanAppend";constructor(e,s){this.date=Date.now(),this.n=e,this.m=s}}class Fl{type="MessageComunicaLog";constructor(e,s,c){this.level=e,this.message=s,this.date=c}}class po{type="MessageException";constructor(e){this.exception=e}}class Ml{type="MessageDone"}class Ll{type="MessageBindings";constructor(e){this.bindings=e,this.vars=Object.keys(e)}}var nu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function iu(g){if(Object.prototype.hasOwnProperty.call(g,"__esModule"))return g;var e=g.default;if(typeof e=="function"){var s=function c(){var a=!1;try{a=this instanceof c}catch{}return a?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(g).forEach(function(c){var a=Object.getOwnPropertyDescriptor(g,c);Object.defineProperty(s,c,a.get?a:{enumerable:!0,get:function(){return g[c]}})}),s}var ei={},na={},ti={},Co={},au;function Cl(){return au||(au=1,Object.defineProperty(Co,"__esModule",{value:!0})),Co}var ko={},ou;function kl(){return ou||(ou=1,Object.defineProperty(ko,"__esModule",{value:!0})),ko}var Bo={},su;function Bl(){return su||(su=1,Object.defineProperty(Bo,"__esModule",{value:!0})),Bo}var qo={},uu;function ql(){return uu||(uu=1,Object.defineProperty(qo,"__esModule",{value:!0})),qo}var Uo={},cu;function Ul(){return cu||(cu=1,Object.defineProperty(Uo,"__esModule",{value:!0})),Uo}var Qo={},lu;function Ql(){return lu||(lu=1,Object.defineProperty(Qo,"__esModule",{value:!0})),Qo}var Vo={},du;function Vl(){return du||(du=1,Object.defineProperty(Vo,"__esModule",{value:!0})),Vo}var $o={},pu;function $l(){return pu||(pu=1,Object.defineProperty($o,"__esModule",{value:!0})),$o}var Go={},fu;function Gl(){return fu||(fu=1,Object.defineProperty(Go,"__esModule",{value:!0})),Go}var Ho={},hu;function Hl(){return hu||(hu=1,Object.defineProperty(Ho,"__esModule",{value:!0})),Ho}var zo={},yu;function zl(){return yu||(yu=1,Object.defineProperty(zo,"__esModule",{value:!0})),zo}var Ko={},gu;function Kl(){return gu||(gu=1,Object.defineProperty(Ko,"__esModule",{value:!0})),Ko}var Xo={},mu;function Xl(){return mu||(mu=1,Object.defineProperty(Xo,"__esModule",{value:!0})),Xo}var Jo={},bu;function Jl(){return bu||(bu=1,Object.defineProperty(Jo,"__esModule",{value:!0})),Jo}var Wo={},vu;function Wl(){return vu||(vu=1,Object.defineProperty(Wo,"__esModule",{value:!0})),Wo}var Yo={},_u;function Yl(){return _u||(_u=1,Object.defineProperty(Yo,"__esModule",{value:!0})),Yo}var Zo={},wu;function Zl(){return wu||(wu=1,Object.defineProperty(Zo,"__esModule",{value:!0})),Zo}var es={},Tu;function ed(){return Tu||(Tu=1,Object.defineProperty(es,"__esModule",{value:!0})),es}var ts={},Ou;function td(){return Ou||(Ou=1,Object.defineProperty(ts,"__esModule",{value:!0})),ts}var ia={},Su;function rd(){if(Su)return ia;Su=1,Object.defineProperty(ia,"__esModule",{value:!0}),ia.Logger=void 0;let g=class Nl{static getLevelOrdinal(s){return Nl.LEVELS[s]}};return ia.Logger=g,g.LEVELS={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},ia}var aa={},Eu;function nd(){if(Eu)return aa;Eu=1,Object.defineProperty(aa,"__esModule",{value:!0}),aa.ExpressionType=void 0;var g;return function(e){e.Aggregate="aggregate",e.Existence="existence",e.Operator="operator",e.Term="term",e.Variable="variable"}(g||(aa.ExpressionType=g={})),aa}var xu;function id(){return xu||(xu=1,function(g){var e=ti&&ti.__createBinding||(Object.create?function(c,a,o,i){i===void 0&&(i=o);var t=Object.getOwnPropertyDescriptor(a,o);(!t||("get"in t?!a.__esModule:t.writable||t.configurable))&&(t={enumerable:!0,get:function(){return a[o]}}),Object.defineProperty(c,i,t)}:function(c,a,o,i){i===void 0&&(i=o),c[i]=a[o]}),s=ti&&ti.__exportStar||function(c,a){for(var o in c)o!=="default"&&!Object.prototype.hasOwnProperty.call(a,o)&&e(a,c,o)};Object.defineProperty(g,"__esModule",{value:!0}),s(Cl(),g),s(kl(),g),s(Bl(),g),s(ql(),g),s(Ul(),g),s(Ql(),g),s(Vl(),g),s($l(),g),s(Gl(),g),s(Hl(),g),s(zl(),g),s(Kl(),g),s(Xl(),g),s(Jl(),g),s(Wl(),g),s(Yl(),g),s(Zl(),g),s(ed(),g),s(td(),g),s(rd(),g),s(nd(),g)}(ti)),ti}var ad={},od=Object.freeze({__proto__:null,default:ad}),sd=iu(od),rs,Au;function ud(){if(Au)return rs;Au=1;var g=typeof Map=="function"&&Map.prototype,e=Object.getOwnPropertyDescriptor&&g?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,s=g&&e&&typeof e.get=="function"?e.get:null,c=g&&Map.prototype.forEach,a=typeof Set=="function"&&Set.prototype,o=Object.getOwnPropertyDescriptor&&a?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,i=a&&o&&typeof o.get=="function"?o.get:null,t=a&&Set.prototype.forEach,n=typeof WeakMap=="function"&&WeakMap.prototype,r=n?WeakMap.prototype.has:null,u=typeof WeakSet=="function"&&WeakSet.prototype,l=u?WeakSet.prototype.has:null,d=typeof WeakRef=="function"&&WeakRef.prototype,p=d?WeakRef.prototype.deref:null,f=Boolean.prototype.valueOf,h=Object.prototype.toString,y=Function.prototype.toString,m=String.prototype.match,b=String.prototype.slice,v=String.prototype.replace,_=String.prototype.toUpperCase,w=String.prototype.toLowerCase,O=RegExp.prototype.test,A=Array.prototype.concat,T=Array.prototype.join,S=Array.prototype.slice,E=Math.floor,D=typeof BigInt=="function"?BigInt.prototype.valueOf:null,I=Object.getOwnPropertySymbols,V=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,K=typeof Symbol=="function"&&typeof Symbol.iterator=="object",B=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===K||!0)?Symbol.toStringTag:null,$=Object.prototype.propertyIsEnumerable,G=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(Ae){return Ae.__proto__}:null);function U(Ae,Te){if(Ae===1/0||Ae===-1/0||Ae!==Ae||Ae&&Ae>-1e3&&Ae<1e3||O.call(/e/,Te))return Te;var Ke=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof Ae=="number"){var it=Ae<0?-E(-Ae):E(Ae);if(it!==Ae){var ut=String(it),tt=b.call(Te,ut.length+1);return v.call(ut,Ke,"$&_")+"."+v.call(v.call(tt,/([0-9]{3})/g,"$&_"),/_$/,"")}}return v.call(Te,Ke,"$&_")}var W=sd,ye=W.custom,ve=be(ye)?ye:null,he={__proto__:null,double:'"',single:"'"},q={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};rs=function Ae(Te,Ke,it,ut){var tt=Ke||{};if(Ee(tt,"quoteStyle")&&!Ee(he,tt.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Ee(tt,"maxStringLength")&&(typeof tt.maxStringLength=="number"?tt.maxStringLength<0&&tt.maxStringLength!==1/0:tt.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var ht=Ee(tt,"customInspect")?tt.customInspect:!0;if(typeof ht!="boolean"&&ht!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Ee(tt,"indent")&&tt.indent!==null&&tt.indent!=="	"&&!(parseInt(tt.indent,10)===tt.indent&&tt.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Ee(tt,"numericSeparator")&&typeof tt.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var vt=tt.numericSeparator;if(typeof Te>"u")return"undefined";if(Te===null)return"null";if(typeof Te=="boolean")return Te?"true":"false";if(typeof Te=="string")return Se(Te,tt);if(typeof Te=="number"){if(Te===0)return 1/0/Te>0?"0":"-0";var at=String(Te);return vt?U(Te,at):at}if(typeof Te=="bigint"){var Ne=String(Te)+"n";return vt?U(Te,Ne):Ne}var j=typeof tt.depth>"u"?5:tt.depth;if(typeof it>"u"&&(it=0),it>=j&&j>0&&typeof Te=="object")return X(Te)?"[Array]":"[Object]";var Y=ke(tt,it);if(typeof ut>"u")ut=[];else if(C(ut,Te)>=0)return"[Circular]";function J(pt,Ot,yt){if(Ot&&(ut=S.call(ut),ut.push(Ot)),yt){var hr={depth:tt.depth};return Ee(tt,"quoteStyle")&&(hr.quoteStyle=tt.quoteStyle),Ae(pt,hr,it+1,ut)}return Ae(pt,tt,it+1,ut)}if(typeof Te=="function"&&!ee(Te)){var pe=P(Te),Re=He(Te,J);return"[Function"+(pe?": "+pe:" (anonymous)")+"]"+(Re.length>0?" { "+T.call(Re,", ")+" }":"")}if(be(Te)){var Fe=K?v.call(String(Te),/^(Symbol\(.*\))_[^)]*$/,"$1"):V.call(Te);return typeof Te=="object"&&!K?je(Fe):Fe}if(we(Te)){for(var Oe="<"+w.call(String(Te.nodeName)),De=Te.attributes||[],Ue=0;Ue<De.length;Ue++)Oe+=" "+De[Ue].name+"="+L(R(De[Ue].value),"double",tt);return Oe+=">",Te.childNodes&&Te.childNodes.length&&(Oe+="..."),Oe+="</"+w.call(String(Te.nodeName))+">",Oe}if(X(Te)){if(Te.length===0)return"[]";var $e=He(Te,J);return Y&&!Le($e)?"["+qe($e,Y)+"]":"[ "+T.call($e,", ")+" ]"}if(me(Te)){var Ge=He(Te,J);return!("cause"in Error.prototype)&&"cause"in Te&&!$.call(Te,"cause")?"{ ["+String(Te)+"] "+T.call(A.call("[cause]: "+J(Te.cause),Ge),", ")+" }":Ge.length===0?"["+String(Te)+"]":"{ ["+String(Te)+"] "+T.call(Ge,", ")+" }"}if(typeof Te=="object"&&ht){if(ve&&typeof Te[ve]=="function"&&W)return W(Te,{depth:j-it});if(ht!=="symbol"&&typeof Te.inspect=="function")return Te.inspect()}if(z(Te)){var Je=[];return c&&c.call(Te,function(pt,Ot){Je.push(J(Ot,Te,!0)+" => "+J(pt,Te))}),ce("Map",s.call(Te),Je,Y)}if(le(Te)){var Ve=[];return t&&t.call(Te,function(pt){Ve.push(J(pt,Te))}),ce("Set",i.call(Te),Ve,Y)}if(te(Te))return ae("WeakMap");if(_e(Te))return ae("WeakSet");if(re(Te))return ae("WeakRef");if(xe(Te))return je(J(Number(Te)));if(ie(Te))return je(J(D.call(Te)));if(ne(Te))return je(f.call(Te));if(de(Te))return je(J(String(Te)));if(typeof window<"u"&&Te===window)return"{ [object Window] }";if(typeof globalThis<"u"&&Te===globalThis||typeof nu<"u"&&Te===nu)return"{ [object globalThis] }";if(!oe(Te)&&!ee(Te)){var Ze=He(Te,J),st=G?G(Te)===Object.prototype:Te instanceof Object||Te.constructor===Object,ot=Te instanceof Object?"":"null prototype",Ye=!st&&B&&Object(Te)===Te&&B in Te?b.call(M(Te),8,-1):ot?"Object":"",Lt=st||typeof Te.constructor!="function"?"":Te.constructor.name?Te.constructor.name+" ":"",dt=Lt+(Ye||ot?"["+T.call(A.call([],Ye||[],ot||[]),": ")+"] ":"");return Ze.length===0?dt+"{}":Y?dt+"{"+qe(Ze,Y)+"}":dt+"{ "+T.call(Ze,", ")+" }"}return String(Te)};function L(Ae,Te,Ke){var it=Ke.quoteStyle||Te,ut=he[it];return ut+Ae+ut}function R(Ae){return v.call(String(Ae),/"/g,"&quot;")}function k(Ae){return!B||!(typeof Ae=="object"&&(B in Ae||typeof Ae[B]<"u"))}function X(Ae){return M(Ae)==="[object Array]"&&k(Ae)}function oe(Ae){return M(Ae)==="[object Date]"&&k(Ae)}function ee(Ae){return M(Ae)==="[object RegExp]"&&k(Ae)}function me(Ae){return M(Ae)==="[object Error]"&&k(Ae)}function de(Ae){return M(Ae)==="[object String]"&&k(Ae)}function xe(Ae){return M(Ae)==="[object Number]"&&k(Ae)}function ne(Ae){return M(Ae)==="[object Boolean]"&&k(Ae)}function be(Ae){if(K)return Ae&&typeof Ae=="object"&&Ae instanceof Symbol;if(typeof Ae=="symbol")return!0;if(!Ae||typeof Ae!="object"||!V)return!1;try{return V.call(Ae),!0}catch{}return!1}function ie(Ae){if(!Ae||typeof Ae!="object"||!D)return!1;try{return D.call(Ae),!0}catch{}return!1}var ge=Object.prototype.hasOwnProperty||function(Ae){return Ae in this};function Ee(Ae,Te){return ge.call(Ae,Te)}function M(Ae){return h.call(Ae)}function P(Ae){if(Ae.name)return Ae.name;var Te=m.call(y.call(Ae),/^function\s*([\w$]+)/);return Te?Te[1]:null}function C(Ae,Te){if(Ae.indexOf)return Ae.indexOf(Te);for(var Ke=0,it=Ae.length;Ke<it;Ke++)if(Ae[Ke]===Te)return Ke;return-1}function z(Ae){if(!s||!Ae||typeof Ae!="object")return!1;try{s.call(Ae);try{i.call(Ae)}catch{return!0}return Ae instanceof Map}catch{}return!1}function te(Ae){if(!r||!Ae||typeof Ae!="object")return!1;try{r.call(Ae,r);try{l.call(Ae,l)}catch{return!0}return Ae instanceof WeakMap}catch{}return!1}function re(Ae){if(!p||!Ae||typeof Ae!="object")return!1;try{return p.call(Ae),!0}catch{}return!1}function le(Ae){if(!i||!Ae||typeof Ae!="object")return!1;try{i.call(Ae);try{s.call(Ae)}catch{return!0}return Ae instanceof Set}catch{}return!1}function _e(Ae){if(!l||!Ae||typeof Ae!="object")return!1;try{l.call(Ae,l);try{r.call(Ae,r)}catch{return!0}return Ae instanceof WeakSet}catch{}return!1}function we(Ae){return!Ae||typeof Ae!="object"?!1:typeof HTMLElement<"u"&&Ae instanceof HTMLElement?!0:typeof Ae.nodeName=="string"&&typeof Ae.getAttribute=="function"}function Se(Ae,Te){if(Ae.length>Te.maxStringLength){var Ke=Ae.length-Te.maxStringLength,it="... "+Ke+" more character"+(Ke>1?"s":"");return Se(b.call(Ae,0,Te.maxStringLength),Te)+it}var ut=q[Te.quoteStyle||"single"];ut.lastIndex=0;var tt=v.call(v.call(Ae,ut,"\\$1"),/[\x00-\x1f]/g,Pe);return L(tt,"single",Te)}function Pe(Ae){var Te=Ae.charCodeAt(0),Ke={8:"b",9:"t",10:"n",12:"f",13:"r"}[Te];return Ke?"\\"+Ke:"\\x"+(Te<16?"0":"")+_.call(Te.toString(16))}function je(Ae){return"Object("+Ae+")"}function ae(Ae){return Ae+" { ? }"}function ce(Ae,Te,Ke,it){var ut=it?qe(Ke,it):T.call(Ke,", ");return Ae+" ("+Te+") {"+ut+"}"}function Le(Ae){for(var Te=0;Te<Ae.length;Te++)if(C(Ae[Te],`
`)>=0)return!1;return!0}function ke(Ae,Te){var Ke;if(Ae.indent==="	")Ke="	";else if(typeof Ae.indent=="number"&&Ae.indent>0)Ke=T.call(Array(Ae.indent+1)," ");else return null;return{base:Ke,prev:T.call(Array(Te+1),Ke)}}function qe(Ae,Te){if(Ae.length===0)return"";var Ke=`
`+Te.prev+Te.base;return Ke+T.call(Ae,","+Ke)+`
`+Te.prev}function He(Ae,Te){var Ke=X(Ae),it=[];if(Ke){it.length=Ae.length;for(var ut=0;ut<Ae.length;ut++)it[ut]=Ee(Ae,ut)?Te(Ae[ut],Ae):""}var tt=typeof I=="function"?I(Ae):[],ht;if(K){ht={};for(var vt=0;vt<tt.length;vt++)ht["$"+tt[vt]]=tt[vt]}for(var at in Ae)Ee(Ae,at)&&(Ke&&String(Number(at))===at&&at<Ae.length||K&&ht["$"+at]instanceof Symbol||(O.call(/[^\w$]/,at)?it.push(Te(at,Ae)+": "+Te(Ae[at],Ae)):it.push(at+": "+Te(Ae[at],Ae))));if(typeof I=="function")for(var Ne=0;Ne<tt.length;Ne++)$.call(Ae,tt[Ne])&&it.push("["+Te(tt[Ne])+"]: "+Te(Ae[tt[Ne]],Ae));return it}return rs}var ns={exports:{}},Iu;function cd(){if(Iu)return ns.exports;Iu=1;var g=ns.exports={},e,s;function c(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=c}catch{e=c}try{typeof clearTimeout=="function"?s=clearTimeout:s=a}catch{s=a}})();function o(h){if(e===setTimeout)return setTimeout(h,0);if((e===c||!e)&&setTimeout)return e=setTimeout,setTimeout(h,0);try{return e(h,0)}catch{try{return e.call(null,h,0)}catch{return e.call(this,h,0)}}}function i(h){if(s===clearTimeout)return clearTimeout(h);if((s===a||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(h);try{return s(h)}catch{try{return s.call(null,h)}catch{return s.call(this,h)}}}var t=[],n=!1,r,u=-1;function l(){!n||!r||(n=!1,r.length?t=r.concat(t):u=-1,t.length&&d())}function d(){if(!n){var h=o(l);n=!0;for(var y=t.length;y;){for(r=t,t=[];++u<y;)r&&r[u].run();u=-1,y=t.length}r=null,n=!1,i(h)}}g.nextTick=function(h){var y=new Array(arguments.length-1);if(arguments.length>1)for(var m=1;m<arguments.length;m++)y[m-1]=arguments[m];t.push(new p(h,y)),t.length===1&&!n&&o(d)};function p(h,y){this.fun=h,this.array=y}p.prototype.run=function(){this.fun.apply(null,this.array)},g.title="browser",g.browser=!0,g.env={},g.argv=[],g.version="",g.versions={};function f(){}return g.on=f,g.addListener=f,g.once=f,g.off=f,g.removeListener=f,g.removeAllListeners=f,g.emit=f,g.prependListener=f,g.prependOnceListener=f,g.listeners=function(h){return[]},g.binding=function(h){throw new Error("process.binding is not supported")},g.cwd=function(){return"/"},g.chdir=function(h){throw new Error("process.chdir is not supported")},g.umask=function(){return 0},ns.exports}var Pu;function ld(){if(Pu)return na;Pu=1,Object.defineProperty(na,"__esModule",{value:!0}),na.LoggerPretty=void 0;const g=id(),e=ud(),s=cd();let c=class Ln extends g.Logger{constructor(o){super(),this.level=o.level,this.levelOrdinal=g.Logger.getLevelOrdinal(this.level),this.actors=o.actors}debug(o,i){this.log("debug",Ln.COLOR_GRAY,o,i)}error(o,i){this.log("error",Ln.COLOR_RED,o,i)}fatal(o,i){this.log("fatal",Ln.COLOR_CYAN,o,i)}info(o,i){this.log("info",Ln.COLOR_GREEN,o,i)}trace(o,i){this.log("trace",Ln.COLOR_BLUE,o,i)}warn(o,i){this.log("warn",Ln.COLOR_YELLOW,o,i)}log(o,i,t,n){g.Logger.getLevelOrdinal(o)>=this.levelOrdinal&&(!n||!("actor"in n)||!this.actors||this.actors[n.actor])&&s.stderr.write(Ln.withColor(`[${new Date().toISOString()}]  ${o.toUpperCase()}: ${t} ${e(n)}
`,i))}static withColor(o,i){return`${i}${o}${Ln.COLOR_RESET}`}};return na.LoggerPretty=c,c.COLOR_RESET="\x1B[0m",c.COLOR_RED="\x1B[31m",c.COLOR_GREEN="\x1B[32m",c.COLOR_YELLOW="\x1B[33m",c.COLOR_BLUE="\x1B[34m",c.COLOR_MAGENTA="\x1B[35m",c.COLOR_CYAN="\x1B[36m",c.COLOR_GRAY="\x1B[90m",na}var ju;function dd(){return ju||(ju=1,function(g){var e=ei&&ei.__createBinding||(Object.create?function(c,a,o,i){i===void 0&&(i=o);var t=Object.getOwnPropertyDescriptor(a,o);(!t||("get"in t?!a.__esModule:t.writable||t.configurable))&&(t={enumerable:!0,get:function(){return a[o]}}),Object.defineProperty(c,i,t)}:function(c,a,o,i){i===void 0&&(i=o),c[i]=a[o]}),s=ei&&ei.__exportStar||function(c,a){for(var o in c)o!=="default"&&!Object.prototype.hasOwnProperty.call(a,o)&&e(a,c,o)};Object.defineProperty(g,"__esModule",{value:!0}),s(ld(),g)}(ei)),ei}var pd=dd();class fd extends pd.LoggerPretty{constructor(e,s){super(s),this.worker=e}log(e,s,c,a){this.worker&&this.worker.postMessage(new Fl(e,c,Date.now()))}}var ri={},oa={},ni={},sa={},ii={},ai={},ua="delete",jt=5,Fr=1<<jt,ur=Fr-1,mt={};function is(){return{value:!1}}function Mr(g){g&&(g.value=!0)}function as(){}function Ei(g){return g.size===void 0&&(g.size=g.__iterate(Nu)),g.size}function Cn(g,e){if(typeof e!="number"){var s=e>>>0;if(""+s!==e||s===4294967295)return NaN;e=s}return e<0?Ei(g)+e:e}function Nu(){return!0}function ca(g,e,s){return(g===0&&!Du(g)||s!==void 0&&g<=-s)&&(e===void 0||s!==void 0&&e>=s)}function xi(g,e){return Ru(g,e,0)}function la(g,e){return Ru(g,e,e)}function Ru(g,e,s){return g===void 0?s:Du(g)?e===1/0?e:Math.max(0,e+g)|0:e===void 0||e===g?g:Math.min(e,g)|0}function Du(g){return g<0||g===0&&1/g===-1/0}var Fu="@@__IMMUTABLE_ITERABLE__@@";function nr(g){return!!(g&&g[Fu])}var Mu="@@__IMMUTABLE_KEYED__@@";function Et(g){return!!(g&&g[Mu])}var Lu="@@__IMMUTABLE_INDEXED__@@";function Zt(g){return!!(g&&g[Lu])}function Ai(g){return Et(g)||Zt(g)}var Nt=function(e){return nr(e)?e:ir(e)},Lr=function(g){function e(s){return Et(s)?s:Bn(s)}return g&&(e.__proto__=g),e.prototype=Object.create(g&&g.prototype),e.prototype.constructor=e,e}(Nt),oi=function(g){function e(s){return Zt(s)?s:kr(s)}return g&&(e.__proto__=g),e.prototype=Object.create(g&&g.prototype),e.prototype.constructor=e,e}(Nt),Ii=function(g){function e(s){return nr(s)&&!Ai(s)?s:Ni(s)}return g&&(e.__proto__=g),e.prototype=Object.create(g&&g.prototype),e.prototype.constructor=e,e}(Nt);Nt.Keyed=Lr,Nt.Indexed=oi,Nt.Set=Ii;var Cu="@@__IMMUTABLE_SEQ__@@";function da(g){return!!(g&&g[Cu])}var ku="@@__IMMUTABLE_RECORD__@@";function kn(g){return!!(g&&g[ku])}function _r(g){return nr(g)||kn(g)}var Pi="@@__IMMUTABLE_ORDERED__@@";function wr(g){return!!(g&&g[Pi])}var pa=0,Yr=1,Cr=2,os=typeof Symbol=="function"&&Symbol.iterator,Bu="@@iterator",fo=os||Bu,wt=function(e){this.next=e};wt.prototype.toString=function(){return"[Iterator]"},wt.KEYS=pa,wt.VALUES=Yr,wt.ENTRIES=Cr,wt.prototype.inspect=wt.prototype.toSource=function(){return this.toString()},wt.prototype[fo]=function(){return this};function Rt(g,e,s,c){var a=g===0?e:g===1?s:[e,s];return c?c.value=a:c={value:a,done:!1},c}function cr(){return{value:void 0,done:!0}}function ss(g){return Array.isArray(g)?!0:!!ho(g)}function qu(g){return g&&typeof g.next=="function"}function us(g){var e=ho(g);return e&&e.call(g)}function ho(g){var e=g&&(os&&g[os]||g[Bu]);if(typeof e=="function")return e}function hd(g){var e=ho(g);return e&&e===g.entries}function yd(g){var e=ho(g);return e&&e===g.keys}var ji=Object.prototype.hasOwnProperty;function cs(g){return Array.isArray(g)||typeof g=="string"?!0:g&&typeof g=="object"&&Number.isInteger(g.length)&&g.length>=0&&(g.length===0?Object.keys(g).length===1:g.hasOwnProperty(g.length-1))}var ir=function(g){function e(s){return s==null?ds():_r(s)?s.toSeq():md(s)}return g&&(e.__proto__=g),e.prototype=Object.create(g&&g.prototype),e.prototype.constructor=e,e.prototype.toSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq {","}")},e.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},e.prototype.__iterate=function(c,a){var o=this._cache;if(o){for(var i=o.length,t=0;t!==i;){var n=o[a?i-++t:t++];if(c(n[1],n[0],this)===!1)break}return t}return this.__iterateUncached(c,a)},e.prototype.__iterator=function(c,a){var o=this._cache;if(o){var i=o.length,t=0;return new wt(function(){if(t===i)return cr();var n=o[a?i-++t:t++];return Rt(c,n[0],n[1])})}return this.__iteratorUncached(c,a)},e}(Nt),Bn=function(g){function e(s){return s==null?ds().toKeyedSeq():nr(s)?Et(s)?s.toSeq():s.fromEntrySeq():kn(s)?s.toSeq():ps(s)}return g&&(e.__proto__=g),e.prototype=Object.create(g&&g.prototype),e.prototype.constructor=e,e.prototype.toKeyedSeq=function(){return this},e}(ir),kr=function(g){function e(s){return s==null?ds():nr(s)?Et(s)?s.entrySeq():s.toIndexedSeq():kn(s)?s.toSeq().entrySeq():Qu(s)}return g&&(e.__proto__=g),e.prototype=Object.create(g&&g.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toIndexedSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq [","]")},e}(ir),Ni=function(g){function e(s){return(nr(s)&&!Ai(s)?s:kr(s)).toSetSeq()}return g&&(e.__proto__=g),e.prototype=Object.create(g&&g.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toSetSeq=function(){return this},e}(ir);ir.isSeq=da,ir.Keyed=Bn,ir.Set=Ni,ir.Indexed=kr,ir.prototype[Cu]=!0;var si=function(g){function e(s){this._array=s,this.size=s.length}return g&&(e.__proto__=g),e.prototype=Object.create(g&&g.prototype),e.prototype.constructor=e,e.prototype.get=function(c,a){return this.has(c)?this._array[Cn(this,c)]:a},e.prototype.__iterate=function(c,a){for(var o=this._array,i=o.length,t=0;t!==i;){var n=a?i-++t:t++;if(c(o[n],n,this)===!1)break}return t},e.prototype.__iterator=function(c,a){var o=this._array,i=o.length,t=0;return new wt(function(){if(t===i)return cr();var n=a?i-++t:t++;return Rt(c,n,o[n])})},e}(kr),ls=function(g){function e(s){var c=Object.keys(s).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(s):[]);this._object=s,this._keys=c,this.size=c.length}return g&&(e.__proto__=g),e.prototype=Object.create(g&&g.prototype),e.prototype.constructor=e,e.prototype.get=function(c,a){return a!==void 0&&!this.has(c)?a:this._object[c]},e.prototype.has=function(c){return ji.call(this._object,c)},e.prototype.__iterate=function(c,a){for(var o=this._object,i=this._keys,t=i.length,n=0;n!==t;){var r=i[a?t-++n:n++];if(c(o[r],r,this)===!1)break}return n},e.prototype.__iterator=function(c,a){var o=this._object,i=this._keys,t=i.length,n=0;return new wt(function(){if(n===t)return cr();var r=i[a?t-++n:n++];return Rt(c,r,o[r])})},e}(Bn);ls.prototype[Pi]=!0;var gd=function(g){function e(s){this._collection=s,this.size=s.length||s.size}return g&&(e.__proto__=g),e.prototype=Object.create(g&&g.prototype),e.prototype.constructor=e,e.prototype.__iterateUncached=function(c,a){if(a)return this.cacheResult().__iterate(c,a);var o=this._collection,i=us(o),t=0;if(qu(i))for(var n;!(n=i.next()).done&&c(n.value,t++,this)!==!1;);return t},e.prototype.__iteratorUncached=function(c,a){if(a)return this.cacheResult().__iterator(c,a);var o=this._collection,i=us(o);if(!qu(i))return new wt(cr);var t=0;return new wt(function(){var n=i.next();return n.done?n:Rt(c,t++,n.value)})},e}(kr),Uu;function ds(){return Uu||(Uu=new si([]))}function ps(g){var e=fs(g);if(e)return e.fromEntrySeq();if(typeof g=="object")return new ls(g);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+g)}function Qu(g){var e=fs(g);if(e)return e;throw new TypeError("Expected Array or collection object of values: "+g)}function md(g){var e=fs(g);if(e)return hd(g)?e.fromEntrySeq():yd(g)?e.toSetSeq():e;if(typeof g=="object")return new ls(g);throw new TypeError("Expected Array or collection object of values, or keyed object: "+g)}function fs(g){return cs(g)?new si(g):ss(g)?new gd(g):void 0}var Vu="@@__IMMUTABLE_MAP__@@";function fa(g){return!!(g&&g[Vu])}function yo(g){return fa(g)&&wr(g)}function go(g){return!!(g&&typeof g.equals=="function"&&typeof g.hashCode=="function")}function zt(g,e){if(g===e||g!==g&&e!==e)return!0;if(!g||!e)return!1;if(typeof g.valueOf=="function"&&typeof e.valueOf=="function"){if(g=g.valueOf(),e=e.valueOf(),g===e||g!==g&&e!==e)return!0;if(!g||!e)return!1}return!!(go(g)&&go(e)&&g.equals(e))}var ha=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(e,s){e|=0,s|=0;var c=e&65535,a=s&65535;return c*a+((e>>>16)*a+c*(s>>>16)<<16>>>0)|0};function mo(g){return g>>>1&1073741824|g&3221225471}var bd=Object.prototype.valueOf;function lr(g){if(g==null)return $u(g);if(typeof g.hashCode=="function")return mo(g.hashCode(g));var e=Sd(g);if(e==null)return $u(e);switch(typeof e){case"boolean":return e?1108378657:1108378656;case"number":return vd(e);case"string":return e.length>Ed?_d(e):hs(e);case"object":case"function":return Td(e);case"symbol":return wd(e);default:if(typeof e.toString=="function")return hs(e.toString());throw new Error("Value type "+typeof e+" cannot be hashed.")}}function $u(g){return g===null?1108378658:1108378659}function vd(g){if(g!==g||g===1/0)return 0;var e=g|0;for(e!==g&&(e^=g*4294967295);g>4294967295;)g/=4294967295,e^=g;return mo(e)}function _d(g){var e=vs[g];return e===void 0&&(e=hs(g),bs===xd&&(bs=0,vs={}),bs++,vs[g]=e),e}function hs(g){for(var e=0,s=0;s<g.length;s++)e=31*e+g.charCodeAt(s)|0;return mo(e)}function wd(g){var e=Ku[g];return e!==void 0||(e=zu(),Ku[g]=e),e}function Td(g){var e;if(ys&&(e=gs.get(g),e!==void 0)||(e=g[ui],e!==void 0)||!Hu&&(e=g.propertyIsEnumerable&&g.propertyIsEnumerable[ui],e!==void 0||(e=Od(g),e!==void 0)))return e;if(e=zu(),ys)gs.set(g,e);else{if(Gu!==void 0&&Gu(g)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(Hu)Object.defineProperty(g,ui,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(g.propertyIsEnumerable!==void 0&&g.propertyIsEnumerable===g.constructor.prototype.propertyIsEnumerable)g.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},g.propertyIsEnumerable[ui]=e;else if(g.nodeType!==void 0)g[ui]=e;else throw new Error("Unable to set a non-enumerable property on object.")}return e}var Gu=Object.isExtensible,Hu=function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}}();function Od(g){if(g&&g.nodeType>0)switch(g.nodeType){case 1:return g.uniqueID;case 9:return g.documentElement&&g.documentElement.uniqueID}}function Sd(g){return g.valueOf!==bd&&typeof g.valueOf=="function"?g.valueOf(g):g}function zu(){var g=++ms;return ms&1073741824&&(ms=0),g}var ys=typeof WeakMap=="function",gs;ys&&(gs=new WeakMap);var Ku=Object.create(null),ms=0,ui="__immutablehash__";typeof Symbol=="function"&&(ui=Symbol(ui));var Ed=16,xd=255,bs=0,vs={},bo=function(g){function e(s,c){this._iter=s,this._useKeys=c,this.size=s.size}return g&&(e.__proto__=g),e.prototype=Object.create(g&&g.prototype),e.prototype.constructor=e,e.prototype.get=function(c,a){return this._iter.get(c,a)},e.prototype.has=function(c){return this._iter.has(c)},e.prototype.valueSeq=function(){return this._iter.valueSeq()},e.prototype.reverse=function(){var c=this,a=_s(this,!0);return this._useKeys||(a.valueSeq=function(){return c._iter.toSeq().reverse()}),a},e.prototype.map=function(c,a){var o=this,i=Zu(this,c,a);return this._useKeys||(i.valueSeq=function(){return o._iter.toSeq().map(c,a)}),i},e.prototype.__iterate=function(c,a){var o=this;return this._iter.__iterate(function(i,t){return c(i,t,o)},a)},e.prototype.__iterator=function(c,a){return this._iter.__iterator(c,a)},e}(Bn);bo.prototype[Pi]=!0;var Xu=function(g){function e(s){this._iter=s,this.size=s.size}return g&&(e.__proto__=g),e.prototype=Object.create(g&&g.prototype),e.prototype.constructor=e,e.prototype.includes=function(c){return this._iter.includes(c)},e.prototype.__iterate=function(c,a){var o=this,i=0;return a&&Ei(this),this._iter.__iterate(function(t){return c(t,a?o.size-++i:i++,o)},a)},e.prototype.__iterator=function(c,a){var o=this,i=this._iter.__iterator(Yr,a),t=0;return a&&Ei(this),new wt(function(){var n=i.next();return n.done?n:Rt(c,a?o.size-++t:t++,n.value,n)})},e}(kr),Ju=function(g){function e(s){this._iter=s,this.size=s.size}return g&&(e.__proto__=g),e.prototype=Object.create(g&&g.prototype),e.prototype.constructor=e,e.prototype.has=function(c){return this._iter.includes(c)},e.prototype.__iterate=function(c,a){var o=this;return this._iter.__iterate(function(i){return c(i,i,o)},a)},e.prototype.__iterator=function(c,a){var o=this._iter.__iterator(Yr,a);return new wt(function(){var i=o.next();return i.done?i:Rt(c,i.value,i.value,i)})},e}(Ni),Wu=function(g){function e(s){this._iter=s,this.size=s.size}return g&&(e.__proto__=g),e.prototype=Object.create(g&&g.prototype),e.prototype.constructor=e,e.prototype.entrySeq=function(){return this._iter.toSeq()},e.prototype.__iterate=function(c,a){var o=this;return this._iter.__iterate(function(i){if(i){ic(i);var t=nr(i);return c(t?i.get(1):i[1],t?i.get(0):i[0],o)}},a)},e.prototype.__iterator=function(c,a){var o=this._iter.__iterator(Yr,a);return new wt(function(){for(;;){var i=o.next();if(i.done)return i;var t=i.value;if(t){ic(t);var n=nr(t);return Rt(c,n?t.get(0):t[0],n?t.get(1):t[1],i)}}})},e}(Bn);Xu.prototype.cacheResult=bo.prototype.cacheResult=Ju.prototype.cacheResult=Wu.prototype.cacheResult=Os;function Yu(g){var e=dn(g);return e._iter=g,e.size=g.size,e.flip=function(){return g},e.reverse=function(){var s=g.reverse.apply(this);return s.flip=function(){return g.reverse()},s},e.has=function(s){return g.includes(s)},e.includes=function(s){return g.has(s)},e.cacheResult=Os,e.__iterateUncached=function(s,c){var a=this;return g.__iterate(function(o,i){return s(i,o,a)!==!1},c)},e.__iteratorUncached=function(s,c){if(s===Cr){var a=g.__iterator(s,c);return new wt(function(){var o=a.next();if(!o.done){var i=o.value[0];o.value[0]=o.value[1],o.value[1]=i}return o})}return g.__iterator(s===Yr?pa:Yr,c)},e}function Zu(g,e,s){var c=dn(g);return c.size=g.size,c.has=function(a){return g.has(a)},c.get=function(a,o){var i=g.get(a,mt);return i===mt?o:e.call(s,i,a,g)},c.__iterateUncached=function(a,o){var i=this;return g.__iterate(function(t,n,r){return a(e.call(s,t,n,r),n,i)!==!1},o)},c.__iteratorUncached=function(a,o){var i=g.__iterator(Cr,o);return new wt(function(){var t=i.next();if(t.done)return t;var n=t.value,r=n[0];return Rt(a,r,e.call(s,n[1],r,g),t)})},c}function _s(g,e){var s=this,c=dn(g);return c._iter=g,c.size=g.size,c.reverse=function(){return g},g.flip&&(c.flip=function(){var a=Yu(g);return a.reverse=function(){return g.flip()},a}),c.get=function(a,o){return g.get(e?a:-1-a,o)},c.has=function(a){return g.has(e?a:-1-a)},c.includes=function(a){return g.includes(a)},c.cacheResult=Os,c.__iterate=function(a,o){var i=this,t=0;return o&&Ei(g),g.__iterate(function(n,r){return a(n,e?r:o?i.size-++t:t++,i)},!o)},c.__iterator=function(a,o){var i=0;o&&Ei(g);var t=g.__iterator(Cr,!o);return new wt(function(){var n=t.next();if(n.done)return n;var r=n.value;return Rt(a,e?r[0]:o?s.size-++i:i++,r[1],n)})},c}function ec(g,e,s,c){var a=dn(g);return c&&(a.has=function(o){var i=g.get(o,mt);return i!==mt&&!!e.call(s,i,o,g)},a.get=function(o,i){var t=g.get(o,mt);return t!==mt&&e.call(s,t,o,g)?t:i}),a.__iterateUncached=function(o,i){var t=this,n=0;return g.__iterate(function(r,u,l){if(e.call(s,r,u,l))return n++,o(r,c?u:n-1,t)},i),n},a.__iteratorUncached=function(o,i){var t=g.__iterator(Cr,i),n=0;return new wt(function(){for(;;){var r=t.next();if(r.done)return r;var u=r.value,l=u[0],d=u[1];if(e.call(s,d,l,g))return Rt(o,c?l:n++,d,r)}})},a}function Ad(g,e,s){var c=Qn().asMutable();return g.__iterate(function(a,o){c.update(e.call(s,a,o,g),0,function(i){return i+1})}),c.asImmutable()}function Id(g,e,s){var c=Et(g),a=(wr(g)?en():Qn()).asMutable();g.__iterate(function(i,t){a.update(e.call(s,i,t,g),function(n){return n=n||[],n.push(c?[t,i]:i),n})});var o=Ts(g);return a.map(function(i){return xt(g,o(i))}).asImmutable()}function Pd(g,e,s){var c=Et(g),a=[[],[]];g.__iterate(function(i,t){a[e.call(s,i,t,g)?1:0].push(c?[t,i]:i)});var o=Ts(g);return a.map(function(i){return xt(g,o(i))})}function ws(g,e,s,c){var a=g.size;if(ca(e,s,a))return g;if(typeof a>"u"&&(e<0||s<0))return ws(g.toSeq().cacheResult(),e,s,c);var o=xi(e,a),i=la(s,a),t=i-o,n;t===t&&(n=t<0?0:t);var r=dn(g);return r.size=n===0?n:g.size&&n||void 0,!c&&da(g)&&n>=0&&(r.get=function(u,l){return u=Cn(this,u),u>=0&&u<n?g.get(u+o,l):l}),r.__iterateUncached=function(u,l){var d=this;if(n===0)return 0;if(l)return this.cacheResult().__iterate(u,l);var p=0,f=!0,h=0;return g.__iterate(function(y,m){if(!(f&&(f=p++<o)))return h++,u(y,c?m:h-1,d)!==!1&&h!==n}),h},r.__iteratorUncached=function(u,l){if(n!==0&&l)return this.cacheResult().__iterator(u,l);if(n===0)return new wt(cr);var d=g.__iterator(u,l),p=0,f=0;return new wt(function(){for(;p++<o;)d.next();if(++f>n)return cr();var h=d.next();return c||u===Yr||h.done?h:u===pa?Rt(u,f-1,void 0,h):Rt(u,f-1,h.value[1],h)})},r}function jd(g,e,s){var c=dn(g);return c.__iterateUncached=function(a,o){var i=this;if(o)return this.cacheResult().__iterate(a,o);var t=0;return g.__iterate(function(n,r,u){return e.call(s,n,r,u)&&++t&&a(n,r,i)}),t},c.__iteratorUncached=function(a,o){var i=this;if(o)return this.cacheResult().__iterator(a,o);var t=g.__iterator(Cr,o),n=!0;return new wt(function(){if(!n)return cr();var r=t.next();if(r.done)return r;var u=r.value,l=u[0],d=u[1];return e.call(s,d,l,i)?a===Cr?r:Rt(a,l,d,r):(n=!1,cr())})},c}function tc(g,e,s,c){var a=dn(g);return a.__iterateUncached=function(o,i){var t=this;if(i)return this.cacheResult().__iterate(o,i);var n=!0,r=0;return g.__iterate(function(u,l,d){if(!(n&&(n=e.call(s,u,l,d))))return r++,o(u,c?l:r-1,t)}),r},a.__iteratorUncached=function(o,i){var t=this;if(i)return this.cacheResult().__iterator(o,i);var n=g.__iterator(Cr,i),r=!0,u=0;return new wt(function(){var l,d,p;do{if(l=n.next(),l.done)return c||o===Yr?l:o===pa?Rt(o,u++,void 0,l):Rt(o,u++,l.value[1],l);var f=l.value;d=f[0],p=f[1],r&&(r=e.call(s,p,d,t))}while(r);return o===Cr?l:Rt(o,d,p,l)})},a}function Nd(g,e){var s=Et(g),c=[g].concat(e).map(function(i){return nr(i)?s&&(i=Lr(i)):i=s?ps(i):Qu(Array.isArray(i)?i:[i]),i}).filter(function(i){return i.size!==0});if(c.length===0)return g;if(c.length===1){var a=c[0];if(a===g||s&&Et(a)||Zt(g)&&Zt(a))return a}var o=new si(c);return s?o=o.toKeyedSeq():Zt(g)||(o=o.toSetSeq()),o=o.flatten(!0),o.size=c.reduce(function(i,t){if(i!==void 0){var n=t.size;if(n!==void 0)return i+n}},0),o}function rc(g,e,s){var c=dn(g);return c.__iterateUncached=function(a,o){if(o)return this.cacheResult().__iterate(a,o);var i=0,t=!1;function n(r,u){r.__iterate(function(l,d){return(!e||u<e)&&nr(l)?n(l,u+1):(i++,a(l,s?d:i-1,c)===!1&&(t=!0)),!t},o)}return n(g,0),i},c.__iteratorUncached=function(a,o){if(o)return this.cacheResult().__iterator(a,o);var i=g.__iterator(a,o),t=[],n=0;return new wt(function(){for(;i;){var r=i.next();if(r.done!==!1){i=t.pop();continue}var u=r.value;if(a===Cr&&(u=u[1]),(!e||t.length<e)&&nr(u))t.push(i),i=u.__iterator(a,o);else return s?r:Rt(a,n++,u,r)}return cr()})},c}function Rd(g,e,s){var c=Ts(g);return g.toSeq().map(function(a,o){return c(e.call(s,a,o,g))}).flatten(!0)}function Dd(g,e){var s=dn(g);return s.size=g.size&&g.size*2-1,s.__iterateUncached=function(c,a){var o=this,i=0;return g.__iterate(function(t){return(!i||c(e,i++,o)!==!1)&&c(t,i++,o)!==!1},a),i},s.__iteratorUncached=function(c,a){var o=g.__iterator(Yr,a),i=0,t;return new wt(function(){return(!t||i%2)&&(t=o.next(),t.done)?t:i%2?Rt(c,i++,e):Rt(c,i++,t.value,t)})},s}function Ri(g,e,s){e||(e=ac);var c=Et(g),a=0,o=g.toSeq().map(function(i,t){return[t,i,a++,s?s(i,t,g):i]}).valueSeq().toArray();return o.sort(function(i,t){return e(i[3],t[3])||i[2]-t[2]}).forEach(c?function(i,t){o[t].length=2}:function(i,t){o[t]=i[1]}),c?Bn(o):Zt(g)?kr(o):Ni(o)}function vo(g,e,s){if(e||(e=ac),s){var c=g.toSeq().map(function(a,o){return[a,s(a,o,g)]}).reduce(function(a,o){return nc(e,a[1],o[1])?o:a});return c&&c[0]}return g.reduce(function(a,o){return nc(e,a,o)?o:a})}function nc(g,e,s){var c=g(s,e);return c===0&&s!==e&&(s==null||s!==s)||c>0}function _o(g,e,s,c){var a=dn(g),o=new si(s).map(function(i){return i.size});return a.size=c?o.max():o.min(),a.__iterate=function(i,t){for(var n=this.__iterator(Yr,t),r,u=0;!(r=n.next()).done&&i(r.value,u++,this)!==!1;);return u},a.__iteratorUncached=function(i,t){var n=s.map(function(l){return l=Nt(l),us(t?l.reverse():l)}),r=0,u=!1;return new wt(function(){var l;return u||(l=n.map(function(d){return d.next()}),u=c?l.every(function(d){return d.done}):l.some(function(d){return d.done})),u?cr():Rt(i,r++,e.apply(null,l.map(function(d){return d.value})))})},a}function xt(g,e){return g===e?g:da(g)?e:g.constructor(e)}function ic(g){if(g!==Object(g))throw new TypeError("Expected [K, V] tuple: "+g)}function Ts(g){return Et(g)?Lr:Zt(g)?oi:Ii}function dn(g){return Object.create((Et(g)?Bn:Zt(g)?kr:Ni).prototype)}function Os(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):ir.prototype.cacheResult.call(this)}function ac(g,e){return g===void 0&&e===void 0?0:g===void 0?1:e===void 0?-1:g>e?1:g<e?-1:0}function pn(g,e){e=e||0;for(var s=Math.max(0,g.length-e),c=new Array(s),a=0;a<s;a++)c[a]=g[a+e];return c}function Ss(g,e){if(!g)throw new Error(e)}function Tr(g){Ss(g!==1/0,"Cannot perform this action with an infinite size.")}function oc(g){if(cs(g)&&typeof g!="string")return g;if(wr(g))return g.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+g)}var Fd=Object.prototype.toString;function wo(g){if(!g||typeof g!="object"||Fd.call(g)!=="[object Object]")return!1;var e=Object.getPrototypeOf(g);if(e===null)return!0;for(var s=e,c=Object.getPrototypeOf(e);c!==null;)s=c,c=Object.getPrototypeOf(s);return s===e}function qn(g){return typeof g=="object"&&(_r(g)||Array.isArray(g)||wo(g))}function ya(g){try{return typeof g=="string"?JSON.stringify(g):String(g)}catch{return JSON.stringify(g)}}function Es(g,e){return _r(g)?g.has(e):qn(g)&&ji.call(g,e)}function To(g,e,s){return _r(g)?g.get(e,s):Es(g,e)?typeof g.get=="function"?g.get(e):g[e]:s}function Oo(g){if(Array.isArray(g))return pn(g);var e={};for(var s in g)ji.call(g,s)&&(e[s]=g[s]);return e}function xs(g,e){if(!qn(g))throw new TypeError("Cannot update non-data-structure value: "+g);if(_r(g)){if(!g.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+g);return g.remove(e)}if(!ji.call(g,e))return g;var s=Oo(g);return Array.isArray(s)?s.splice(e,1):delete s[e],s}function As(g,e,s){if(!qn(g))throw new TypeError("Cannot update non-data-structure value: "+g);if(_r(g)){if(!g.set)throw new TypeError("Cannot update immutable value without .set() method: "+g);return g.set(e,s)}if(ji.call(g,e)&&s===g[e])return g;var c=Oo(g);return c[e]=s,c}function Un(g,e,s,c){c||(c=s,s=void 0);var a=sc(_r(g),g,oc(e),0,s,c);return a===mt?s:a}function sc(g,e,s,c,a,o){var i=e===mt;if(c===s.length){var t=i?a:e,n=o(t);return n===t?e:n}if(!i&&!qn(e))throw new TypeError("Cannot update within non-data-structure value in path ["+s.slice(0,c).map(ya)+"]: "+e);var r=s[c],u=i?mt:To(e,r,mt),l=sc(u===mt?g:_r(u),u,s,c+1,a,o);return l===u?e:l===mt?xs(e,r):As(i?g?Zr():{}:e,r,l)}function Is(g,e,s){return Un(g,e,mt,function(){return s})}function Ps(g,e){return Is(this,g,e)}function js(g,e){return Un(g,e,function(){return mt})}function Ns(g){return js(this,g)}function So(g,e,s,c){return Un(g,[e],s,c)}function Rs(g,e,s){return arguments.length===1?g(this):So(this,g,e,s)}function Ds(g,e,s){return Un(this,g,e,s)}function uc(){for(var g=[],e=arguments.length;e--;)g[e]=arguments[e];return lc(this,g)}function cc(g){for(var e=[],s=arguments.length-1;s-- >0;)e[s]=arguments[s+1];if(typeof g!="function")throw new TypeError("Invalid merger function: "+g);return lc(this,e,g)}function lc(g,e,s){for(var c=[],a=0;a<e.length;a++){var o=Lr(e[a]);o.size!==0&&c.push(o)}return c.length===0?g:g.toSeq().size===0&&!g.__ownerID&&c.length===1?g.constructor(c[0]):g.withMutations(function(i){for(var t=s?function(r,u){So(i,u,mt,function(l){return l===mt?r:s(l,r,u)})}:function(r,u){i.set(u,r)},n=0;n<c.length;n++)c[n].forEach(t)})}function dc(g){for(var e=[],s=arguments.length-1;s-- >0;)e[s]=arguments[s+1];return ma(g,e)}function pc(g,e){for(var s=[],c=arguments.length-2;c-- >0;)s[c]=arguments[c+2];return ma(e,s,g)}function fc(g){for(var e=[],s=arguments.length-1;s-- >0;)e[s]=arguments[s+1];return ga(g,e)}function hc(g,e){for(var s=[],c=arguments.length-2;c-- >0;)s[c]=arguments[c+2];return ga(e,s,g)}function ga(g,e,s){return ma(g,e,Md(s))}function ma(g,e,s){if(!qn(g))throw new TypeError("Cannot merge into non-data-structure value: "+g);if(_r(g))return typeof s=="function"&&g.mergeWith?g.mergeWith.apply(g,[s].concat(e)):g.merge?g.merge.apply(g,e):g.concat.apply(g,e);for(var c=Array.isArray(g),a=g,o=c?oi:Lr,i=c?function(n){a===g&&(a=Oo(a)),a.push(n)}:function(n,r){var u=ji.call(a,r),l=u&&s?s(a[r],n,r):n;(!u||l!==a[r])&&(a===g&&(a=Oo(a)),a[r]=l)},t=0;t<e.length;t++)o(e[t]).forEach(i);return a}function Md(g){function e(s,c,a){return qn(s)&&qn(c)&&Ld(s,c)?ma(s,[c],e):g?g(s,c,a):c}return e}function Ld(g,e){var s=ir(g),c=ir(e);return Zt(s)===Zt(c)&&Et(s)===Et(c)}function yc(){for(var g=[],e=arguments.length;e--;)g[e]=arguments[e];return ga(this,g)}function gc(g){for(var e=[],s=arguments.length-1;s-- >0;)e[s]=arguments[s+1];return ga(this,e,g)}function Fs(g){for(var e=[],s=arguments.length-1;s-- >0;)e[s]=arguments[s+1];return Un(this,g,Zr(),function(c){return ma(c,e)})}function Ms(g){for(var e=[],s=arguments.length-1;s-- >0;)e[s]=arguments[s+1];return Un(this,g,Zr(),function(c){return ga(c,e)})}function ba(g){var e=this.asMutable();return g(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this}function va(){return this.__ownerID?this:this.__ensureOwner(new as)}function _a(){return this.__ensureOwner()}function Ls(){return this.__altered}var Qn=function(g){function e(s){return s==null?Zr():fa(s)&&!wr(s)?s:Zr().withMutations(function(c){var a=g(s);Tr(a.size),a.forEach(function(o,i){return c.set(i,o)})})}return g&&(e.__proto__=g),e.prototype=Object.create(g&&g.prototype),e.prototype.constructor=e,e.of=function(){for(var c=[],a=arguments.length;a--;)c[a]=arguments[a];return Zr().withMutations(function(o){for(var i=0;i<c.length;i+=2){if(i+1>=c.length)throw new Error("Missing value for key: "+c[i]);o.set(c[i],c[i+1])}})},e.prototype.toString=function(){return this.__toString("Map {","}")},e.prototype.get=function(c,a){return this._root?this._root.get(0,void 0,c,a):a},e.prototype.set=function(c,a){return vc(this,c,a)},e.prototype.remove=function(c){return vc(this,c,mt)},e.prototype.deleteAll=function(c){var a=Nt(c);return a.size===0?this:this.withMutations(function(o){a.forEach(function(i){return o.remove(i)})})},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Zr()},e.prototype.sort=function(c){return en(Ri(this,c))},e.prototype.sortBy=function(c,a){return en(Ri(this,a,c))},e.prototype.map=function(c,a){var o=this;return this.withMutations(function(i){i.forEach(function(t,n){i.set(n,c.call(a,t,n,o))})})},e.prototype.__iterator=function(c,a){return new Cd(this,c,a)},e.prototype.__iterate=function(c,a){var o=this,i=0;return this._root&&this._root.iterate(function(t){return i++,c(t[1],t[0],o)},a),i},e.prototype.__ensureOwner=function(c){return c===this.__ownerID?this:c?ks(this.size,this._root,c,this.__hash):this.size===0?Zr():(this.__ownerID=c,this.__altered=!1,this)},e}(Lr);Qn.isMap=fa;var Dt=Qn.prototype;Dt[Vu]=!0,Dt[ua]=Dt.remove,Dt.removeAll=Dt.deleteAll,Dt.setIn=Ps,Dt.removeIn=Dt.deleteIn=Ns,Dt.update=Rs,Dt.updateIn=Ds,Dt.merge=Dt.concat=uc,Dt.mergeWith=cc,Dt.mergeDeep=yc,Dt.mergeDeepWith=gc,Dt.mergeIn=Fs,Dt.mergeDeepIn=Ms,Dt.withMutations=ba,Dt.wasAltered=Ls,Dt.asImmutable=_a,Dt["@@transducer/init"]=Dt.asMutable=va,Dt["@@transducer/step"]=function(g,e){return g.set(e[0],e[1])},Dt["@@transducer/result"]=function(g){return g.asImmutable()};var wa=function(e,s){this.ownerID=e,this.entries=s};wa.prototype.get=function(e,s,c,a){for(var o=this.entries,i=0,t=o.length;i<t;i++)if(zt(c,o[i][0]))return o[i][1];return a},wa.prototype.update=function(e,s,c,a,o,i,t){for(var n=o===mt,r=this.entries,u=0,l=r.length;u<l&&!zt(a,r[u][0]);u++);var d=u<l;if(d?r[u][1]===o:n)return this;if(Mr(t),(n||!d)&&Mr(i),!(n&&r.length===1)){if(!d&&!n&&r.length>=Vd)return kd(e,r,a,o);var p=e&&e===this.ownerID,f=p?r:pn(r);return d?n?u===l-1?f.pop():f[u]=f.pop():f[u]=[a,o]:f.push([a,o]),p?(this.entries=f,this):new wa(e,f)}};var Di=function(e,s,c){this.ownerID=e,this.bitmap=s,this.nodes=c};Di.prototype.get=function(e,s,c,a){s===void 0&&(s=lr(c));var o=1<<((e===0?s:s>>>e)&ur),i=this.bitmap;return(i&o)===0?a:this.nodes[wc(i&o-1)].get(e+jt,s,c,a)},Di.prototype.update=function(e,s,c,a,o,i,t){c===void 0&&(c=lr(a));var n=(s===0?c:c>>>s)&ur,r=1<<n,u=this.bitmap,l=(u&r)!==0;if(!l&&o===mt)return this;var d=wc(u&r-1),p=this.nodes,f=l?p[d]:void 0,h=Bs(f,e,s+jt,c,a,o,i,t);if(h===f)return this;if(!l&&h&&p.length>=$d)return qd(e,p,u,n,h);if(l&&!h&&p.length===2&&_c(p[d^1]))return p[d^1];if(l&&h&&p.length===1&&_c(h))return h;var y=e&&e===this.ownerID,m=l?h?u:u^r:u|r,b=l?h?Tc(p,d,h,y):Qd(p,d,y):Ud(p,d,h,y);return y?(this.bitmap=m,this.nodes=b,this):new Di(e,m,b)};var Ta=function(e,s,c){this.ownerID=e,this.count=s,this.nodes=c};Ta.prototype.get=function(e,s,c,a){s===void 0&&(s=lr(c));var o=(e===0?s:s>>>e)&ur,i=this.nodes[o];return i?i.get(e+jt,s,c,a):a},Ta.prototype.update=function(e,s,c,a,o,i,t){c===void 0&&(c=lr(a));var n=(s===0?c:c>>>s)&ur,r=o===mt,u=this.nodes,l=u[n];if(r&&!l)return this;var d=Bs(l,e,s+jt,c,a,o,i,t);if(d===l)return this;var p=this.count;if(!l)p++;else if(!d&&(p--,p<Gd))return Bd(e,u,p,n);var f=e&&e===this.ownerID,h=Tc(u,n,d,f);return f?(this.count=p,this.nodes=h,this):new Ta(e,p,h)};var Fi=function(e,s,c){this.ownerID=e,this.keyHash=s,this.entries=c};Fi.prototype.get=function(e,s,c,a){for(var o=this.entries,i=0,t=o.length;i<t;i++)if(zt(c,o[i][0]))return o[i][1];return a},Fi.prototype.update=function(e,s,c,a,o,i,t){c===void 0&&(c=lr(a));var n=o===mt;if(c!==this.keyHash)return n?this:(Mr(t),Mr(i),qs(this,e,s,c,[a,o]));for(var r=this.entries,u=0,l=r.length;u<l&&!zt(a,r[u][0]);u++);var d=u<l;if(d?r[u][1]===o:n)return this;if(Mr(t),(n||!d)&&Mr(i),n&&l===2)return new En(e,this.keyHash,r[u^1]);var p=e&&e===this.ownerID,f=p?r:pn(r);return d?n?u===l-1?f.pop():f[u]=f.pop():f[u]=[a,o]:f.push([a,o]),p?(this.entries=f,this):new Fi(e,this.keyHash,f)};var En=function(e,s,c){this.ownerID=e,this.keyHash=s,this.entry=c};En.prototype.get=function(e,s,c,a){return zt(c,this.entry[0])?this.entry[1]:a},En.prototype.update=function(e,s,c,a,o,i,t){var n=o===mt,r=zt(a,this.entry[0]);if(r?o===this.entry[1]:n)return this;if(Mr(t),n){Mr(i);return}return r?e&&e===this.ownerID?(this.entry[1]=o,this):new En(e,this.keyHash,[a,o]):(Mr(i),qs(this,e,s,lr(a),[a,o]))},wa.prototype.iterate=Fi.prototype.iterate=function(g,e){for(var s=this.entries,c=0,a=s.length-1;c<=a;c++)if(g(s[e?a-c:c])===!1)return!1},Di.prototype.iterate=Ta.prototype.iterate=function(g,e){for(var s=this.nodes,c=0,a=s.length-1;c<=a;c++){var o=s[e?a-c:c];if(o&&o.iterate(g,e)===!1)return!1}},En.prototype.iterate=function(g,e){return g(this.entry)};var Cd=function(g){function e(s,c,a){this._type=c,this._reverse=a,this._stack=s._root&&mc(s._root)}return g&&(e.__proto__=g),e.prototype=Object.create(g&&g.prototype),e.prototype.constructor=e,e.prototype.next=function(){for(var c=this._type,a=this._stack;a;){var o=a.node,i=a.index++,t=void 0;if(o.entry){if(i===0)return Cs(c,o.entry)}else if(o.entries){if(t=o.entries.length-1,i<=t)return Cs(c,o.entries[this._reverse?t-i:i])}else if(t=o.nodes.length-1,i<=t){var n=o.nodes[this._reverse?t-i:i];if(n){if(n.entry)return Cs(c,n.entry);a=this._stack=mc(n,a)}continue}a=this._stack=this._stack.__prev}return cr()},e}(wt);function Cs(g,e){return Rt(g,e[0],e[1])}function mc(g,e){return{node:g,index:0,__prev:e}}function ks(g,e,s,c){var a=Object.create(Dt);return a.size=g,a._root=e,a.__ownerID=s,a.__hash=c,a.__altered=!1,a}var bc;function Zr(){return bc||(bc=ks(0))}function vc(g,e,s){var c,a;if(g._root){var o=is(),i=is();if(c=Bs(g._root,g.__ownerID,0,void 0,e,s,o,i),!i.value)return g;a=g.size+(o.value?s===mt?-1:1:0)}else{if(s===mt)return g;a=1,c=new wa(g.__ownerID,[[e,s]])}return g.__ownerID?(g.size=a,g._root=c,g.__hash=void 0,g.__altered=!0,g):c?ks(a,c):Zr()}function Bs(g,e,s,c,a,o,i,t){return g?g.update(e,s,c,a,o,i,t):o===mt?g:(Mr(t),Mr(i),new En(e,c,[a,o]))}function _c(g){return g.constructor===En||g.constructor===Fi}function qs(g,e,s,c,a){if(g.keyHash===c)return new Fi(e,c,[g.entry,a]);var o=(s===0?g.keyHash:g.keyHash>>>s)&ur,i=(s===0?c:c>>>s)&ur,t,n=o===i?[qs(g,e,s+jt,c,a)]:(t=new En(e,c,a),o<i?[g,t]:[t,g]);return new Di(e,1<<o|1<<i,n)}function kd(g,e,s,c){g||(g=new as);for(var a=new En(g,lr(s),[s,c]),o=0;o<e.length;o++){var i=e[o];a=a.update(g,0,void 0,i[0],i[1])}return a}function Bd(g,e,s,c){for(var a=0,o=0,i=new Array(s),t=0,n=1,r=e.length;t<r;t++,n<<=1){var u=e[t];u!==void 0&&t!==c&&(a|=n,i[o++]=u)}return new Di(g,a,i)}function qd(g,e,s,c,a){for(var o=0,i=new Array(Fr),t=0;s!==0;t++,s>>>=1)i[t]=s&1?e[o++]:void 0;return i[c]=a,new Ta(g,o+1,i)}function wc(g){return g-=g>>1&1431655765,g=(g&858993459)+(g>>2&858993459),g=g+(g>>4)&252645135,g+=g>>8,g+=g>>16,g&127}function Tc(g,e,s,c){var a=c?g:pn(g);return a[e]=s,a}function Ud(g,e,s,c){var a=g.length+1;if(c&&e+1===a)return g[e]=s,g;for(var o=new Array(a),i=0,t=0;t<a;t++)t===e?(o[t]=s,i=-1):o[t]=g[t+i];return o}function Qd(g,e,s){var c=g.length-1;if(s&&e===c)return g.pop(),g;for(var a=new Array(c),o=0,i=0;i<c;i++)i===e&&(o=1),a[i]=g[i+o];return a}var Vd=Fr/4,$d=Fr/2,Gd=Fr/4,Oc="@@__IMMUTABLE_LIST__@@";function Eo(g){return!!(g&&g[Oc])}var Mi=function(g){function e(s){var c=xo();if(s==null)return c;if(Eo(s))return s;var a=g(s),o=a.size;return o===0?c:(Tr(o),o>0&&o<Fr?Sa(0,o,jt,null,new Vn(a.toArray())):c.withMutations(function(i){i.setSize(o),a.forEach(function(t,n){return i.set(n,t)})}))}return g&&(e.__proto__=g),e.prototype=Object.create(g&&g.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("List [","]")},e.prototype.get=function(c,a){if(c=Cn(this,c),c>=0&&c<this.size){c+=this._origin;var o=xc(this,c);return o&&o.array[c&ur]}return a},e.prototype.set=function(c,a){return Hd(this,c,a)},e.prototype.remove=function(c){return this.has(c)?c===0?this.shift():c===this.size-1?this.pop():this.splice(c,1):this},e.prototype.insert=function(c,a){return this.splice(c,0,a)},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=jt,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):xo()},e.prototype.push=function(){var c=arguments,a=this.size;return this.withMutations(function(o){$n(o,0,a+c.length);for(var i=0;i<c.length;i++)o.set(a+i,c[i])})},e.prototype.pop=function(){return $n(this,0,-1)},e.prototype.unshift=function(){var c=arguments;return this.withMutations(function(a){$n(a,-c.length);for(var o=0;o<c.length;o++)a.set(o,c[o])})},e.prototype.shift=function(){return $n(this,1)},e.prototype.concat=function(){for(var c=arguments,a=[],o=0;o<arguments.length;o++){var i=c[o],t=g(typeof i!="string"&&ss(i)?i:[i]);t.size!==0&&a.push(t)}return a.length===0?this:this.size===0&&!this.__ownerID&&a.length===1?this.constructor(a[0]):this.withMutations(function(n){a.forEach(function(r){return r.forEach(function(u){return n.push(u)})})})},e.prototype.setSize=function(c){return $n(this,0,c)},e.prototype.map=function(c,a){var o=this;return this.withMutations(function(i){for(var t=0;t<o.size;t++)i.set(t,c.call(a,i.get(t),t,o))})},e.prototype.slice=function(c,a){var o=this.size;return ca(c,a,o)?this:$n(this,xi(c,o),la(a,o))},e.prototype.__iterator=function(c,a){var o=a?this.size:0,i=Sc(this,a);return new wt(function(){var t=i();return t===Oa?cr():Rt(c,a?--o:o++,t)})},e.prototype.__iterate=function(c,a){for(var o=a?this.size:0,i=Sc(this,a),t;(t=i())!==Oa&&c(t,a?--o:o++,this)!==!1;);return o},e.prototype.__ensureOwner=function(c){return c===this.__ownerID?this:c?Sa(this._origin,this._capacity,this._level,this._root,this._tail,c,this.__hash):this.size===0?xo():(this.__ownerID=c,this.__altered=!1,this)},e}(oi);Mi.isList=Eo;var Vt=Mi.prototype;Vt[Oc]=!0,Vt[ua]=Vt.remove,Vt.merge=Vt.concat,Vt.setIn=Ps,Vt.deleteIn=Vt.removeIn=Ns,Vt.update=Rs,Vt.updateIn=Ds,Vt.mergeIn=Fs,Vt.mergeDeepIn=Ms,Vt.withMutations=ba,Vt.wasAltered=Ls,Vt.asImmutable=_a,Vt["@@transducer/init"]=Vt.asMutable=va,Vt["@@transducer/step"]=function(g,e){return g.push(e)},Vt["@@transducer/result"]=function(g){return g.asImmutable()};var Vn=function(e,s){this.array=e,this.ownerID=s};Vn.prototype.removeBefore=function(e,s,c){if(c===s?1<<s:this.array.length===0)return this;var a=c>>>s&ur;if(a>=this.array.length)return new Vn([],e);var o=a===0,i;if(s>0){var t=this.array[a];if(i=t&&t.removeBefore(e,s-jt,c),i===t&&o)return this}if(o&&!i)return this;var n=Li(this,e);if(!o)for(var r=0;r<a;r++)n.array[r]=void 0;return i&&(n.array[a]=i),n},Vn.prototype.removeAfter=function(e,s,c){if(c===(s?1<<s:0)||this.array.length===0)return this;var a=c-1>>>s&ur;if(a>=this.array.length)return this;var o;if(s>0){var i=this.array[a];if(o=i&&i.removeAfter(e,s-jt,c),o===i&&a===this.array.length-1)return this}var t=Li(this,e);return t.array.splice(a+1),o&&(t.array[a]=o),t};var Oa={};function Sc(g,e){var s=g._origin,c=g._capacity,a=Ea(c),o=g._tail;return i(g._root,g._level,0);function i(r,u,l){return u===0?t(r,l):n(r,u,l)}function t(r,u){var l=u===a?o&&o.array:r&&r.array,d=u>s?0:s-u,p=c-u;return p>Fr&&(p=Fr),function(){if(d===p)return Oa;var f=e?--p:d++;return l&&l[f]}}function n(r,u,l){var d,p=r&&r.array,f=l>s?0:s-l>>u,h=(c-l>>u)+1;return h>Fr&&(h=Fr),function(){for(;;){if(d){var y=d();if(y!==Oa)return y;d=null}if(f===h)return Oa;var m=e?--h:f++;d=i(p&&p[m],u-jt,l+(m<<u))}}}}function Sa(g,e,s,c,a,o,i){var t=Object.create(Vt);return t.size=e-g,t._origin=g,t._capacity=e,t._level=s,t._root=c,t._tail=a,t.__ownerID=o,t.__hash=i,t.__altered=!1,t}var Ec;function xo(){return Ec||(Ec=Sa(0,0,jt))}function Hd(g,e,s){if(e=Cn(g,e),e!==e)return g;if(e>=g.size||e<0)return g.withMutations(function(i){e<0?$n(i,e).set(0,s):$n(i,0,e+1).set(e,s)});e+=g._origin;var c=g._tail,a=g._root,o=is();return e>=Ea(g._capacity)?c=Us(c,g.__ownerID,0,e,s,o):a=Us(a,g.__ownerID,g._level,e,s,o),o.value?g.__ownerID?(g._root=a,g._tail=c,g.__hash=void 0,g.__altered=!0,g):Sa(g._origin,g._capacity,g._level,a,c):g}function Us(g,e,s,c,a,o){var i=c>>>s&ur,t=g&&i<g.array.length;if(!t&&a===void 0)return g;var n;if(s>0){var r=g&&g.array[i],u=Us(r,e,s-jt,c,a,o);return u===r?g:(n=Li(g,e),n.array[i]=u,n)}return t&&g.array[i]===a?g:(o&&Mr(o),n=Li(g,e),a===void 0&&i===n.array.length-1?n.array.pop():n.array[i]=a,n)}function Li(g,e){return e&&g&&e===g.ownerID?g:new Vn(g?g.array.slice():[],e)}function xc(g,e){if(e>=Ea(g._capacity))return g._tail;if(e<1<<g._level+jt){for(var s=g._root,c=g._level;s&&c>0;)s=s.array[e>>>c&ur],c-=jt;return s}}function $n(g,e,s){e!==void 0&&(e|=0),s!==void 0&&(s|=0);var c=g.__ownerID||new as,a=g._origin,o=g._capacity,i=a+e,t=s===void 0?o:s<0?o+s:a+s;if(i===a&&t===o)return g;if(i>=t)return g.clear();for(var n=g._level,r=g._root,u=0;i+u<0;)r=new Vn(r&&r.array.length?[void 0,r]:[],c),n+=jt,u+=1<<n;u&&(i+=u,a+=u,t+=u,o+=u);for(var l=Ea(o),d=Ea(t);d>=1<<n+jt;)r=new Vn(r&&r.array.length?[r]:[],c),n+=jt;var p=g._tail,f=d<l?xc(g,t-1):d>l?new Vn([],c):p;if(p&&d>l&&i<o&&p.array.length){r=Li(r,c);for(var h=r,y=n;y>jt;y-=jt){var m=l>>>y&ur;h=h.array[m]=Li(h.array[m],c)}h.array[l>>>jt&ur]=p}if(t<o&&(f=f&&f.removeAfter(c,0,t)),i>=d)i-=d,t-=d,n=jt,r=null,f=f&&f.removeBefore(c,0,i);else if(i>a||d<l){for(u=0;r;){var b=i>>>n&ur;if(b!==d>>>n&ur)break;b&&(u+=(1<<n)*b),n-=jt,r=r.array[b]}r&&i>a&&(r=r.removeBefore(c,n,i-u)),r&&d<l&&(r=r.removeAfter(c,n,d-u)),u&&(i-=u,t-=u)}return g.__ownerID?(g.size=t-i,g._origin=i,g._capacity=t,g._level=n,g._root=r,g._tail=f,g.__hash=void 0,g.__altered=!0,g):Sa(i,t,n,r,f)}function Ea(g){return g<Fr?0:g-1>>>jt<<jt}var en=function(g){function e(s){return s==null?xa():yo(s)?s:xa().withMutations(function(c){var a=Lr(s);Tr(a.size),a.forEach(function(o,i){return c.set(i,o)})})}return g&&(e.__proto__=g),e.prototype=Object.create(g&&g.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("OrderedMap {","}")},e.prototype.get=function(c,a){var o=this._map.get(c);return o!==void 0?this._list.get(o)[1]:a},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):xa()},e.prototype.set=function(c,a){return Ic(this,c,a)},e.prototype.remove=function(c){return Ic(this,c,mt)},e.prototype.__iterate=function(c,a){var o=this;return this._list.__iterate(function(i){return i&&c(i[1],i[0],o)},a)},e.prototype.__iterator=function(c,a){return this._list.fromEntrySeq().__iterator(c,a)},e.prototype.__ensureOwner=function(c){if(c===this.__ownerID)return this;var a=this._map.__ensureOwner(c),o=this._list.__ensureOwner(c);return c?Qs(a,o,c,this.__hash):this.size===0?xa():(this.__ownerID=c,this.__altered=!1,this._map=a,this._list=o,this)},e}(Qn);en.isOrderedMap=yo,en.prototype[Pi]=!0,en.prototype[ua]=en.prototype.remove;function Qs(g,e,s,c){var a=Object.create(en.prototype);return a.size=g?g.size:0,a._map=g,a._list=e,a.__ownerID=s,a.__hash=c,a.__altered=!1,a}var Ac;function xa(){return Ac||(Ac=Qs(Zr(),xo()))}function Ic(g,e,s){var c=g._map,a=g._list,o=c.get(e),i=o!==void 0,t,n;if(s===mt){if(!i)return g;a.size>=Fr&&a.size>=c.size*2?(n=a.filter(function(r,u){return r!==void 0&&o!==u}),t=n.toKeyedSeq().map(function(r){return r[0]}).flip().toMap(),g.__ownerID&&(t.__ownerID=n.__ownerID=g.__ownerID)):(t=c.remove(e),n=o===a.size-1?a.pop():a.set(o,void 0))}else if(i){if(s===a.get(o)[1])return g;t=c,n=a.set(o,[e,s])}else t=c.set(e,a.size),n=a.set(a.size,[e,s]);return g.__ownerID?(g.size=t.size,g._map=t,g._list=n,g.__hash=void 0,g.__altered=!0,g):Qs(t,n)}var Pc="@@__IMMUTABLE_STACK__@@";function Aa(g){return!!(g&&g[Pc])}var Ia=function(g){function e(s){return s==null?Ao():Aa(s)?s:Ao().pushAll(s)}return g&&(e.__proto__=g),e.prototype=Object.create(g&&g.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("Stack [","]")},e.prototype.get=function(c,a){var o=this._head;for(c=Cn(this,c);o&&c--;)o=o.next;return o?o.value:a},e.prototype.peek=function(){return this._head&&this._head.value},e.prototype.push=function(){var c=arguments;if(arguments.length===0)return this;for(var a=this.size+arguments.length,o=this._head,i=arguments.length-1;i>=0;i--)o={value:c[i],next:o};return this.__ownerID?(this.size=a,this._head=o,this.__hash=void 0,this.__altered=!0,this):Pa(a,o)},e.prototype.pushAll=function(c){if(c=g(c),c.size===0)return this;if(this.size===0&&Aa(c))return c;Tr(c.size);var a=this.size,o=this._head;return c.__iterate(function(i){a++,o={value:i,next:o}},!0),this.__ownerID?(this.size=a,this._head=o,this.__hash=void 0,this.__altered=!0,this):Pa(a,o)},e.prototype.pop=function(){return this.slice(1)},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Ao()},e.prototype.slice=function(c,a){if(ca(c,a,this.size))return this;var o=xi(c,this.size),i=la(a,this.size);if(i!==this.size)return g.prototype.slice.call(this,c,a);for(var t=this.size-o,n=this._head;o--;)n=n.next;return this.__ownerID?(this.size=t,this._head=n,this.__hash=void 0,this.__altered=!0,this):Pa(t,n)},e.prototype.__ensureOwner=function(c){return c===this.__ownerID?this:c?Pa(this.size,this._head,c,this.__hash):this.size===0?Ao():(this.__ownerID=c,this.__altered=!1,this)},e.prototype.__iterate=function(c,a){var o=this;if(a)return new si(this.toArray()).__iterate(function(n,r){return c(n,r,o)},a);for(var i=0,t=this._head;t&&c(t.value,i++,this)!==!1;)t=t.next;return i},e.prototype.__iterator=function(c,a){if(a)return new si(this.toArray()).__iterator(c,a);var o=0,i=this._head;return new wt(function(){if(i){var t=i.value;return i=i.next,Rt(c,o++,t)}return cr()})},e}(oi);Ia.isStack=Aa;var dr=Ia.prototype;dr[Pc]=!0,dr.shift=dr.pop,dr.unshift=dr.push,dr.unshiftAll=dr.pushAll,dr.withMutations=ba,dr.wasAltered=Ls,dr.asImmutable=_a,dr["@@transducer/init"]=dr.asMutable=va,dr["@@transducer/step"]=function(g,e){return g.unshift(e)},dr["@@transducer/result"]=function(g){return g.asImmutable()};function Pa(g,e,s,c){var a=Object.create(dr);return a.size=g,a._head=e,a.__ownerID=s,a.__hash=c,a.__altered=!1,a}var jc;function Ao(){return jc||(jc=Pa(0))}var Nc="@@__IMMUTABLE_SET__@@";function ja(g){return!!(g&&g[Nc])}function Io(g){return ja(g)&&wr(g)}function Vs(g,e){if(g===e)return!0;if(!nr(e)||g.size!==void 0&&e.size!==void 0&&g.size!==e.size||g.__hash!==void 0&&e.__hash!==void 0&&g.__hash!==e.__hash||Et(g)!==Et(e)||Zt(g)!==Zt(e)||wr(g)!==wr(e))return!1;if(g.size===0&&e.size===0)return!0;var s=!Ai(g);if(wr(g)){var c=g.entries();return e.every(function(n,r){var u=c.next().value;return u&&zt(u[1],n)&&(s||zt(u[0],r))})&&c.next().done}var a=!1;if(g.size===void 0)if(e.size===void 0)typeof g.cacheResult=="function"&&g.cacheResult();else{a=!0;var o=g;g=e,e=o}var i=!0,t=e.__iterate(function(n,r){if(s?!g.has(n):a?!zt(n,g.get(r,mt)):!zt(g.get(r,mt),n))return i=!1,!1});return i&&g.size===t}function ci(g,e){var s=function(c){g.prototype[c]=e[c]};return Object.keys(e).forEach(s),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(s),g}function Po(g){if(!g||typeof g!="object")return g;if(!nr(g)){if(!qn(g))return g;g=ir(g)}if(Et(g)){var e={};return g.__iterate(function(c,a){e[a]=Po(c)}),e}var s=[];return g.__iterate(function(c){s.push(Po(c))}),s}var Ci=function(g){function e(s){return s==null?Na():ja(s)&&!wr(s)?s:Na().withMutations(function(c){var a=g(s);Tr(a.size),a.forEach(function(o){return c.add(o)})})}return g&&(e.__proto__=g),e.prototype=Object.create(g&&g.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(c){return this(Lr(c).keySeq())},e.intersect=function(c){return c=Nt(c).toArray(),c.length?er.intersect.apply(e(c.pop()),c):Na()},e.union=function(c){return c=Nt(c).toArray(),c.length?er.union.apply(e(c.pop()),c):Na()},e.prototype.toString=function(){return this.__toString("Set {","}")},e.prototype.has=function(c){return this._map.has(c)},e.prototype.add=function(c){return jo(this,this._map.set(c,c))},e.prototype.remove=function(c){return jo(this,this._map.remove(c))},e.prototype.clear=function(){return jo(this,this._map.clear())},e.prototype.map=function(c,a){var o=this,i=!1,t=jo(this,this._map.mapEntries(function(n){var r=n[1],u=c.call(a,r,r,o);return u!==r&&(i=!0),[u,u]},a));return i?t:this},e.prototype.union=function(){for(var c=[],a=arguments.length;a--;)c[a]=arguments[a];return c=c.filter(function(o){return o.size!==0}),c.length===0?this:this.size===0&&!this.__ownerID&&c.length===1?this.constructor(c[0]):this.withMutations(function(o){for(var i=0;i<c.length;i++)typeof c[i]=="string"?o.add(c[i]):g(c[i]).forEach(function(t){return o.add(t)})})},e.prototype.intersect=function(){for(var c=[],a=arguments.length;a--;)c[a]=arguments[a];if(c.length===0)return this;c=c.map(function(i){return g(i)});var o=[];return this.forEach(function(i){c.every(function(t){return t.includes(i)})||o.push(i)}),this.withMutations(function(i){o.forEach(function(t){i.remove(t)})})},e.prototype.subtract=function(){for(var c=[],a=arguments.length;a--;)c[a]=arguments[a];if(c.length===0)return this;c=c.map(function(i){return g(i)});var o=[];return this.forEach(function(i){c.some(function(t){return t.includes(i)})&&o.push(i)}),this.withMutations(function(i){o.forEach(function(t){i.remove(t)})})},e.prototype.sort=function(c){return li(Ri(this,c))},e.prototype.sortBy=function(c,a){return li(Ri(this,a,c))},e.prototype.wasAltered=function(){return this._map.wasAltered()},e.prototype.__iterate=function(c,a){var o=this;return this._map.__iterate(function(i){return c(i,i,o)},a)},e.prototype.__iterator=function(c,a){return this._map.__iterator(c,a)},e.prototype.__ensureOwner=function(c){if(c===this.__ownerID)return this;var a=this._map.__ensureOwner(c);return c?this.__make(a,c):this.size===0?this.__empty():(this.__ownerID=c,this._map=a,this)},e}(Ii);Ci.isSet=ja;var er=Ci.prototype;er[Nc]=!0,er[ua]=er.remove,er.merge=er.concat=er.union,er.withMutations=ba,er.asImmutable=_a,er["@@transducer/init"]=er.asMutable=va,er["@@transducer/step"]=function(g,e){return g.add(e)},er["@@transducer/result"]=function(g){return g.asImmutable()},er.__empty=Na,er.__make=Rc;function jo(g,e){return g.__ownerID?(g.size=e.size,g._map=e,g):e===g._map?g:e.size===0?g.__empty():g.__make(e)}function Rc(g,e){var s=Object.create(er);return s.size=g?g.size:0,s._map=g,s.__ownerID=e,s}var Dc;function Na(){return Dc||(Dc=Rc(Zr()))}var $s=function(g){function e(s,c,a){if(!(this instanceof e))return new e(s,c,a);if(Ss(a!==0,"Cannot step a Range by 0"),s=s||0,c===void 0&&(c=1/0),a=a===void 0?1:Math.abs(a),c<s&&(a=-a),this._start=s,this._end=c,this._step=a,this.size=Math.max(0,Math.ceil((c-s)/a-1)+1),this.size===0){if(Gs)return Gs;Gs=this}}return g&&(e.__proto__=g),e.prototype=Object.create(g&&g.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"},e.prototype.get=function(c,a){return this.has(c)?this._start+Cn(this,c)*this._step:a},e.prototype.includes=function(c){var a=(c-this._start)/this._step;return a>=0&&a<this.size&&a===Math.floor(a)},e.prototype.slice=function(c,a){return ca(c,a,this.size)?this:(c=xi(c,this.size),a=la(a,this.size),a<=c?new e(0,0):new e(this.get(c,this._end),this.get(a,this._end),this._step))},e.prototype.indexOf=function(c){var a=c-this._start;if(a%this._step===0){var o=a/this._step;if(o>=0&&o<this.size)return o}return-1},e.prototype.lastIndexOf=function(c){return this.indexOf(c)},e.prototype.__iterate=function(c,a){for(var o=this.size,i=this._step,t=a?this._start+(o-1)*i:this._start,n=0;n!==o&&c(t,a?o-++n:n++,this)!==!1;)t+=a?-i:i;return n},e.prototype.__iterator=function(c,a){var o=this.size,i=this._step,t=a?this._start+(o-1)*i:this._start,n=0;return new wt(function(){if(n===o)return cr();var r=t;return t+=a?-i:i,Rt(c,a?o-++n:n++,r)})},e.prototype.equals=function(c){return c instanceof e?this._start===c._start&&this._end===c._end&&this._step===c._step:Vs(this,c)},e}(kr),Gs;function No(g,e,s){for(var c=oc(e),a=0;a!==c.length;)if(g=To(g,c[a++],mt),g===mt)return s;return g}function Fc(g,e){return No(this,g,e)}function Hs(g,e){return No(g,e,mt)!==mt}function zd(g){return Hs(this,g)}function Mc(){Tr(this.size);var g={};return this.__iterate(function(e,s){g[s]=e}),g}Nt.isIterable=nr,Nt.isKeyed=Et,Nt.isIndexed=Zt,Nt.isAssociative=Ai,Nt.isOrdered=wr,Nt.Iterator=wt,ci(Nt,{toArray:function(){Tr(this.size);var e=new Array(this.size||0),s=Et(this),c=0;return this.__iterate(function(a,o){e[c++]=s?[o,a]:a}),e},toIndexedSeq:function(){return new Xu(this)},toJS:function(){return Po(this)},toKeyedSeq:function(){return new bo(this,!0)},toMap:function(){return Qn(this.toKeyedSeq())},toObject:Mc,toOrderedMap:function(){return en(this.toKeyedSeq())},toOrderedSet:function(){return li(Et(this)?this.valueSeq():this)},toSet:function(){return Ci(Et(this)?this.valueSeq():this)},toSetSeq:function(){return new Ju(this)},toSeq:function(){return Zt(this)?this.toIndexedSeq():Et(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Ia(Et(this)?this.valueSeq():this)},toList:function(){return Mi(Et(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(e,s){return this.size===0?e+s:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+s},concat:function(){for(var e=[],s=arguments.length;s--;)e[s]=arguments[s];return xt(this,Nd(this,e))},includes:function(e){return this.some(function(s){return zt(s,e)})},entries:function(){return this.__iterator(Cr)},every:function(e,s){Tr(this.size);var c=!0;return this.__iterate(function(a,o,i){if(!e.call(s,a,o,i))return c=!1,!1}),c},filter:function(e,s){return xt(this,ec(this,e,s,!0))},partition:function(e,s){return Pd(this,e,s)},find:function(e,s,c){var a=this.findEntry(e,s);return a?a[1]:c},forEach:function(e,s){return Tr(this.size),this.__iterate(s?e.bind(s):e)},join:function(e){Tr(this.size),e=e!==void 0?""+e:",";var s="",c=!0;return this.__iterate(function(a){c?c=!1:s+=e,s+=a!=null?a.toString():""}),s},keys:function(){return this.__iterator(pa)},map:function(e,s){return xt(this,Zu(this,e,s))},reduce:function(e,s,c){return Lc(this,e,s,c,arguments.length<2,!1)},reduceRight:function(e,s,c){return Lc(this,e,s,c,arguments.length<2,!0)},reverse:function(){return xt(this,_s(this,!0))},slice:function(e,s){return xt(this,ws(this,e,s,!0))},some:function(e,s){Tr(this.size);var c=!1;return this.__iterate(function(a,o,i){if(e.call(s,a,o,i))return c=!0,!1}),c},sort:function(e){return xt(this,Ri(this,e))},values:function(){return this.__iterator(Yr)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(e,s){return Ei(e?this.toSeq().filter(e,s):this)},countBy:function(e,s){return Ad(this,e,s)},equals:function(e){return Vs(this,e)},entrySeq:function(){var e=this;if(e._cache)return new si(e._cache);var s=e.toSeq().map(Xd).toIndexedSeq();return s.fromEntrySeq=function(){return e.toSeq()},s},filterNot:function(e,s){return this.filter(zs(e),s)},findEntry:function(e,s,c){var a=c;return this.__iterate(function(o,i,t){if(e.call(s,o,i,t))return a=[i,o],!1}),a},findKey:function(e,s){var c=this.findEntry(e,s);return c&&c[0]},findLast:function(e,s,c){return this.toKeyedSeq().reverse().find(e,s,c)},findLastEntry:function(e,s,c){return this.toKeyedSeq().reverse().findEntry(e,s,c)},findLastKey:function(e,s){return this.toKeyedSeq().reverse().findKey(e,s)},first:function(e){return this.find(Nu,null,e)},flatMap:function(e,s){return xt(this,Rd(this,e,s))},flatten:function(e){return xt(this,rc(this,e,!0))},fromEntrySeq:function(){return new Wu(this)},get:function(e,s){return this.find(function(c,a){return zt(a,e)},void 0,s)},getIn:Fc,groupBy:function(e,s){return Id(this,e,s)},has:function(e){return this.get(e,mt)!==mt},hasIn:zd,isSubset:function(e){return e=typeof e.includes=="function"?e:Nt(e),this.every(function(s){return e.includes(s)})},isSuperset:function(e){return e=typeof e.isSubset=="function"?e:Nt(e),e.isSubset(this)},keyOf:function(e){return this.findKey(function(s){return zt(s,e)})},keySeq:function(){return this.toSeq().map(Kd).toIndexedSeq()},last:function(e){return this.toSeq().reverse().first(e)},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return vo(this,e)},maxBy:function(e,s){return vo(this,s,e)},min:function(e){return vo(this,e?Cc(e):Bc)},minBy:function(e,s){return vo(this,s?Cc(s):Bc,e)},rest:function(){return this.slice(1)},skip:function(e){return e===0?this:this.slice(Math.max(0,e))},skipLast:function(e){return e===0?this:this.slice(0,-Math.max(0,e))},skipWhile:function(e,s){return xt(this,tc(this,e,s,!0))},skipUntil:function(e,s){return this.skipWhile(zs(e),s)},sortBy:function(e,s){return xt(this,Ri(this,s,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return this.slice(-Math.max(0,e))},takeWhile:function(e,s){return xt(this,jd(this,e,s))},takeUntil:function(e,s){return this.takeWhile(zs(e),s)},update:function(e){return e(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=Jd(this))}});var ar=Nt.prototype;ar[Fu]=!0,ar[fo]=ar.values,ar.toJSON=ar.toArray,ar.__toStringMapper=ya,ar.inspect=ar.toSource=function(){return this.toString()},ar.chain=ar.flatMap,ar.contains=ar.includes,ci(Lr,{flip:function(){return xt(this,Yu(this))},mapEntries:function(e,s){var c=this,a=0;return xt(this,this.toSeq().map(function(o,i){return e.call(s,[i,o],a++,c)}).fromEntrySeq())},mapKeys:function(e,s){var c=this;return xt(this,this.toSeq().flip().map(function(a,o){return e.call(s,a,o,c)}).flip())}});var Ra=Lr.prototype;Ra[Mu]=!0,Ra[fo]=ar.entries,Ra.toJSON=Mc,Ra.__toStringMapper=function(g,e){return ya(e)+": "+ya(g)},ci(oi,{toKeyedSeq:function(){return new bo(this,!1)},filter:function(e,s){return xt(this,ec(this,e,s,!1))},findIndex:function(e,s){var c=this.findEntry(e,s);return c?c[0]:-1},indexOf:function(e){var s=this.keyOf(e);return s===void 0?-1:s},lastIndexOf:function(e){var s=this.lastKeyOf(e);return s===void 0?-1:s},reverse:function(){return xt(this,_s(this,!1))},slice:function(e,s){return xt(this,ws(this,e,s,!1))},splice:function(e,s){var c=arguments.length;if(s=Math.max(s||0,0),c===0||c===2&&!s)return this;e=xi(e,e<0?this.count():this.size);var a=this.slice(0,e);return xt(this,c===1?a:a.concat(pn(arguments,2),this.slice(e+s)))},findLastIndex:function(e,s){var c=this.findLastEntry(e,s);return c?c[0]:-1},first:function(e){return this.get(0,e)},flatten:function(e){return xt(this,rc(this,e,!1))},get:function(e,s){return e=Cn(this,e),e<0||this.size===1/0||this.size!==void 0&&e>this.size?s:this.find(function(c,a){return a===e},void 0,s)},has:function(e){return e=Cn(this,e),e>=0&&(this.size!==void 0?this.size===1/0||e<this.size:this.indexOf(e)!==-1)},interpose:function(e){return xt(this,Dd(this,e))},interleave:function(){var e=[this].concat(pn(arguments)),s=_o(this.toSeq(),kr.of,e),c=s.flatten(!0);return s.size&&(c.size=s.size*e.length),xt(this,c)},keySeq:function(){return $s(0,this.size)},last:function(e){return this.get(-1,e)},skipWhile:function(e,s){return xt(this,tc(this,e,s,!1))},zip:function(){var e=[this].concat(pn(arguments));return xt(this,_o(this,kc,e))},zipAll:function(){var e=[this].concat(pn(arguments));return xt(this,_o(this,kc,e,!0))},zipWith:function(e){var s=pn(arguments);return s[0]=this,xt(this,_o(this,e,s))}});var ki=oi.prototype;ki[Lu]=!0,ki[Pi]=!0,ci(Ii,{get:function(e,s){return this.has(e)?e:s},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}});var Bi=Ii.prototype;Bi.has=ar.includes,Bi.contains=Bi.includes,Bi.keys=Bi.values,ci(Bn,Ra),ci(kr,ki),ci(Ni,Bi);function Lc(g,e,s,c,a,o){return Tr(g.size),g.__iterate(function(i,t,n){a?(a=!1,s=i):s=e.call(c,s,i,t,n)},o),s}function Kd(g,e){return e}function Xd(g,e){return[e,g]}function zs(g){return function(){return!g.apply(this,arguments)}}function Cc(g){return function(){return-g.apply(this,arguments)}}function kc(){return pn(arguments)}function Bc(g,e){return g<e?1:g>e?-1:0}function Jd(g){if(g.size===1/0)return 0;var e=wr(g),s=Et(g),c=e?1:0,a=g.__iterate(s?e?function(o,i){c=31*c+qc(lr(o),lr(i))|0}:function(o,i){c=c+qc(lr(o),lr(i))|0}:e?function(o){c=31*c+lr(o)|0}:function(o){c=c+lr(o)|0});return Wd(a,c)}function Wd(g,e){return e=ha(e,3432918353),e=ha(e<<15|e>>>-15,461845907),e=ha(e<<13|e>>>-13,5),e=(e+3864292196|0)^g,e=ha(e^e>>>16,2246822507),e=ha(e^e>>>13,3266489909),e=mo(e^e>>>16),e}function qc(g,e){return g^e+2654435769+(g<<6)+(g>>2)|0}var li=function(g){function e(s){return s==null?Ks():Io(s)?s:Ks().withMutations(function(c){var a=Ii(s);Tr(a.size),a.forEach(function(o){return c.add(o)})})}return g&&(e.__proto__=g),e.prototype=Object.create(g&&g.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(c){return this(Lr(c).keySeq())},e.prototype.toString=function(){return this.__toString("OrderedSet {","}")},e}(Ci);li.isOrderedSet=Io;var di=li.prototype;di[Pi]=!0,di.zip=ki.zip,di.zipWith=ki.zipWith,di.zipAll=ki.zipAll,di.__empty=Ks,di.__make=Uc;function Uc(g,e){var s=Object.create(di);return s.size=g?g.size:0,s._map=g,s.__ownerID=e,s}var Qc;function Ks(){return Qc||(Qc=Uc(xa()))}var Vc={LeftThenRight:-1,RightThenLeft:1};function Yd(g){if(kn(g))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(_r(g))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(g===null||typeof g!="object")throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}var $t=function(e,s){var c;Yd(e);var a=function(t){var n=this;if(t instanceof a)return t;if(!(this instanceof a))return new a(t);if(!c){c=!0;var r=Object.keys(e),u=o._indices={};o._name=s,o._keys=r,o._defaultValues=e;for(var l=0;l<r.length;l++){var d=r[l];u[d]=l,o[d]?typeof console=="object"&&console.warn&&console.warn("Cannot define "+Js(this)+' with property "'+d+'" since that property name is part of the Record API.'):Zd(o,d)}}return this.__ownerID=void 0,this._values=Mi().withMutations(function(p){p.setSize(n._keys.length),Lr(t).forEach(function(f,h){p.set(n._indices[h],f===n._defaultValues[h]?void 0:f)})}),this},o=a.prototype=Object.create(Pt);return o.constructor=a,s&&(a.displayName=s),a};$t.prototype.toString=function(){for(var e=Js(this)+" { ",s=this._keys,c,a=0,o=s.length;a!==o;a++)c=s[a],e+=(a?", ":"")+c+": "+ya(this.get(c));return e+" }"},$t.prototype.equals=function(e){return this===e||kn(e)&&qi(this).equals(qi(e))},$t.prototype.hashCode=function(){return qi(this).hashCode()},$t.prototype.has=function(e){return this._indices.hasOwnProperty(e)},$t.prototype.get=function(e,s){if(!this.has(e))return s;var c=this._indices[e],a=this._values.get(c);return a===void 0?this._defaultValues[e]:a},$t.prototype.set=function(e,s){if(this.has(e)){var c=this._values.set(this._indices[e],s===this._defaultValues[e]?void 0:s);if(c!==this._values&&!this.__ownerID)return Xs(this,c)}return this},$t.prototype.remove=function(e){return this.set(e)},$t.prototype.clear=function(){var e=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:Xs(this,e)},$t.prototype.wasAltered=function(){return this._values.wasAltered()},$t.prototype.toSeq=function(){return qi(this)},$t.prototype.toJS=function(){return Po(this)},$t.prototype.entries=function(){return this.__iterator(Cr)},$t.prototype.__iterator=function(e,s){return qi(this).__iterator(e,s)},$t.prototype.__iterate=function(e,s){return qi(this).__iterate(e,s)},$t.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var s=this._values.__ensureOwner(e);return e?Xs(this,s,e):(this.__ownerID=e,this._values=s,this)},$t.isRecord=kn,$t.getDescriptiveName=Js;var Pt=$t.prototype;Pt[ku]=!0,Pt[ua]=Pt.remove,Pt.deleteIn=Pt.removeIn=Ns,Pt.getIn=Fc,Pt.hasIn=ar.hasIn,Pt.merge=uc,Pt.mergeWith=cc,Pt.mergeIn=Fs,Pt.mergeDeep=yc,Pt.mergeDeepWith=gc,Pt.mergeDeepIn=Ms,Pt.setIn=Ps,Pt.update=Rs,Pt.updateIn=Ds,Pt.withMutations=ba,Pt.asMutable=va,Pt.asImmutable=_a,Pt[fo]=Pt.entries,Pt.toJSON=Pt.toObject=ar.toObject,Pt.inspect=Pt.toSource=function(){return this.toString()};function Xs(g,e,s){var c=Object.create(Object.getPrototypeOf(g));return c._values=e,c.__ownerID=s,c}function Js(g){return g.constructor.displayName||g.constructor.name||"Record"}function qi(g){return ps(g._keys.map(function(e){return[e,g.get(e)]}))}function Zd(g,e){try{Object.defineProperty(g,e,{get:function(){return this.get(e)},set:function(s){Ss(this.__ownerID,"Cannot set on an immutable record."),this.set(e,s)}})}catch{}}var $c=function(g){function e(s,c){if(!(this instanceof e))return new e(s,c);if(this._value=s,this.size=c===void 0?1/0:Math.max(0,c),this.size===0){if(Ws)return Ws;Ws=this}}return g&&(e.__proto__=g),e.prototype=Object.create(g&&g.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},e.prototype.get=function(c,a){return this.has(c)?this._value:a},e.prototype.includes=function(c){return zt(this._value,c)},e.prototype.slice=function(c,a){var o=this.size;return ca(c,a,o)?this:new e(this._value,la(a,o)-xi(c,o))},e.prototype.reverse=function(){return this},e.prototype.indexOf=function(c){return zt(this._value,c)?0:-1},e.prototype.lastIndexOf=function(c){return zt(this._value,c)?this.size:-1},e.prototype.__iterate=function(c,a){for(var o=this.size,i=0;i!==o&&c(this._value,a?o-++i:i++,this)!==!1;);return i},e.prototype.__iterator=function(c,a){var o=this,i=this.size,t=0;return new wt(function(){return t===i?cr():Rt(c,a?i-++t:t++,o._value)})},e.prototype.equals=function(c){return c instanceof e?zt(this._value,c._value):Vs(this,c)},e}(kr),Ws;function Gc(g,e){return Hc([],e||ep,g,"",e&&e.length>2?[]:void 0,{"":g})}function Hc(g,e,s,c,a,o){if(typeof s!="string"&&!_r(s)&&(cs(s)||ss(s)||wo(s))){if(~g.indexOf(s))throw new TypeError("Cannot convert circular structure to Immutable");g.push(s),a&&c!==""&&a.push(c);var i=e.call(o,c,ir(s).map(function(t,n){return Hc(g,e,t,n,a,s)}),a&&a.slice());return g.pop(),a&&a.pop(),i}return s}function ep(g,e){return Zt(e)?e.toList():Et(e)?e.toMap():e.toSet()}var zc="4.3.7",tp={version:zc,Collection:Nt,Iterable:Nt,Seq:ir,Map:Qn,OrderedMap:en,List:Mi,Stack:Ia,Set:Ci,OrderedSet:li,PairSorting:Vc,Record:$t,Range:$s,Repeat:$c,is:zt,fromJS:Gc,hash:lr,isImmutable:_r,isCollection:nr,isKeyed:Et,isIndexed:Zt,isAssociative:Ai,isOrdered:wr,isValueObject:go,isPlainObject:wo,isSeq:da,isList:Eo,isMap:fa,isOrderedMap:yo,isStack:Aa,isSet:ja,isOrderedSet:Io,isRecord:kn,get:To,getIn:No,has:Es,hasIn:Hs,merge:dc,mergeDeep:fc,mergeWith:pc,mergeDeepWith:hc,remove:xs,removeIn:js,set:As,setIn:Is,update:So,updateIn:Un},rp=Nt,np=Object.freeze({__proto__:null,Collection:Nt,Iterable:rp,List:Mi,Map:Qn,OrderedMap:en,OrderedSet:li,PairSorting:Vc,Range:$s,Record:$t,Repeat:$c,Seq:ir,Set:Ci,Stack:Ia,default:tp,fromJS:Gc,get:To,getIn:No,has:Es,hasIn:Hs,hash:lr,is:zt,isAssociative:Ai,isCollection:nr,isImmutable:_r,isIndexed:Zt,isKeyed:Et,isList:Eo,isMap:fa,isOrdered:wr,isOrderedMap:yo,isOrderedSet:Io,isPlainObject:wo,isRecord:kn,isSeq:da,isSet:ja,isStack:Aa,isValueObject:go,merge:dc,mergeDeep:fc,mergeDeepWith:hc,mergeWith:pc,remove:xs,removeIn:js,set:As,setIn:Is,update:So,updateIn:Un,version:zc}),ip=iu(np),Kc;function Xc(){if(Kc)return ai;Kc=1,Object.defineProperty(ai,"__esModule",{value:!0}),ai.ActionContextKey=ai.ActionContext=void 0;const g=ip;let e=class lo{constructor(a={}){this.map=(0,g.Map)(a)}setDefault(a,o){return this.has(a)?this:this.set(a,o)}set(a,o){return this.setRaw(a.name,o)}setRaw(a,o){return new lo(this.map.set(a,o))}delete(a){return new lo(this.map.delete(a.name))}get(a){return this.getRaw(a.name)}getRaw(a){return this.map.get(a)}getSafe(a){if(!this.has(a))throw new Error(`Context entry ${a.name} is required but not available`);return this.get(a)}has(a){return this.hasRaw(a.name)}hasRaw(a){return this.map.has(a)}merge(...a){let o=this;for(const i of a)for(const t of i.keys())o=o.set(t,i.get(t));return o}keys(){return[...this.map.keys()].map(a=>new s(a))}toJS(){return this.map.toJS()}toString(){return`ActionContext(${JSON.stringify(this.map.toJS())})`}[Symbol.for("nodejs.util.inspect.custom")](){return`ActionContext(${JSON.stringify(this.map.toJS(),null,"  ")})`}static ensureActionContext(a){return a instanceof lo?a:new lo((0,g.Map)(a??{}))}};ai.ActionContext=e;class s{constructor(a){this.name=a}}return ai.ActionContextKey=s,ai}var Da={},Jc;function Wc(){if(Jc)return Da;Jc=1,Object.defineProperty(Da,"__esModule",{value:!0}),Da.Bus=void 0;let g=class{constructor(s){this.actors=[],this.observers=[],this.dependencyLinks=new Map,Object.assign(this,s),this.failMessage=`All actors over bus ${this.name} failed to handle an action`}subscribe(s){this.actors.push(s),this.reorderForDependencies()}subscribeObserver(s){this.observers.push(s)}unsubscribe(s){const c=this.actors.indexOf(s);return c>=0?(this.actors.splice(c,1),!0):!1}unsubscribeObserver(s){const c=this.observers.indexOf(s);return c>=0?(this.observers.splice(c,1),!0):!1}publish(s){return this.actors.map(c=>({actor:c,reply:c.test(s)}))}onRun(s,c,a){for(const o of this.observers)o.onRun(s,c,a)}addDependencies(s,c){for(const a of c){let o=this.dependencyLinks.get(a);o||(o=[],this.dependencyLinks.set(a,o)),o.push(s)}this.reorderForDependencies()}reorderForDependencies(){if(this.dependencyLinks.size>0){const s=[];for(const c of this.dependencyLinks.keys()){const a=this.actors.indexOf(c);a>=0&&(this.actors.splice(a,1),s.push(c))}for(;s.length>0;){let c=-1;for(let o=0;o<s.length;o++){let i=!0;for(const t of this.dependencyLinks.get(s[o]))if(!this.actors.includes(t)&&s.includes(t)){i=!1;break}if(i){c=o;break}}if(c<0)throw new Error(`Cyclic dependency links detected in bus ${this.name}`);const a=s.splice(c,1)[0];this.actors.push(a)}}}};return Da.Bus=g,Da}var Fa={},Yc;function ap(){if(Yc)return Fa;Yc=1,Object.defineProperty(Fa,"__esModule",{value:!0}),Fa.BusIndexed=void 0;const g=Wc();let e=class extends g.Bus{constructor(c){super(c),this.actorsIndex={}}subscribe(c){const a=this.getActorIdentifiers(c)??["_undefined_"];for(const o of a){let i=this.actorsIndex[o];i||(i=this.actorsIndex[o]=[]),i.push(c),super.subscribe(c)}}unsubscribe(c){const a=this.getActorIdentifiers(c)??["_undefined_"];let o=!1;for(const i of a){const t=this.actorsIndex[i];if(t){const n=t.indexOf(c);n>=0&&t.splice(n,1),t.length===0&&delete this.actorsIndex[i]}o=o||super.unsubscribe(c)}return o}publish(c){const a=this.getActionIdentifier(c);return a?[...this.actorsIndex[a]||[],...this.actorsIndex._undefined_||[]].map(i=>({actor:i,reply:i.test(c)})):super.publish(c)}getActorIdentifiers(c){const a=this.actorIdentifierFields.reduce((o,i)=>o[i],c);if(a)return Array.isArray(a)?a:[a]}getActionIdentifier(c){return this.actionIdentifierFields.reduce((a,o)=>a[o],c)}};return Fa.BusIndexed=e,Fa}var Ma={},Zc;function el(){if(Zc)return Ma;Zc=1,Object.defineProperty(Ma,"__esModule",{value:!0}),Ma.CONTEXT_KEY_LOGGER=void 0;const g=Xc();return Ma.CONTEXT_KEY_LOGGER=new g.ActionContextKey("@comunica/core:log"),Ma}var La={},tl;function op(){if(tl)return La;tl=1,Object.defineProperty(La,"__esModule",{value:!0}),La.ActionObserver=void 0;let g=class{constructor(s){Object.assign(this,s)}};return La.ActionObserver=g,La}var Ca={},rl;function sp(){if(rl)return Ca;rl=1,Object.defineProperty(Ca,"__esModule",{value:!0}),Ca.Actor=void 0;const g=el();let e=class Si{constructor(c){this.beforeActors=[],Object.assign(this,c),this.bus.subscribe(this),this.beforeActors.length>0&&this.bus.addDependencies(this,this.beforeActors),c.busFailMessage&&(this.bus.failMessage=c.busFailMessage)}static getContextLogger(c){return c.get(g.CONTEXT_KEY_LOGGER)}runObservable(c,a){const o=this.run(c,a);return this.bus.onRun(this,c,o),o}getDefaultLogData(c,a){const o=a?a():{};return o.actor=this.name,o}logTrace(c,a,o){const i=Si.getContextLogger(c);i&&i.trace(a,this.getDefaultLogData(c,o))}logDebug(c,a,o){const i=Si.getContextLogger(c);i&&i.debug(a,this.getDefaultLogData(c,o))}logInfo(c,a,o){const i=Si.getContextLogger(c);i&&i.info(a,this.getDefaultLogData(c,o))}logWarn(c,a,o){const i=Si.getContextLogger(c);i&&i.warn(a,this.getDefaultLogData(c,o))}logError(c,a,o){const i=Si.getContextLogger(c);i&&i.error(a,this.getDefaultLogData(c,o))}logFatal(c,a,o){const i=Si.getContextLogger(c);i&&i.fatal(a,this.getDefaultLogData(c,o))}};return Ca.Actor=e,Ca}var ka={},nl;function up(){if(nl)return ka;nl=1,Object.defineProperty(ka,"__esModule",{value:!0}),ka.Mediator=void 0;let g=class tu{constructor(s){Object.assign(this,s)}publish(s){const c=this.bus.publish(s);if(c.length===0)throw new Error(`No actors are able to reply to a message in the bus ${this.bus.name}`);return c}async mediateActor(s){return await this.mediateWith(s,this.publish(s))}async mediateTestable(s){return(await this.mediateActor(s)).mapAsync((a,o)=>a.runObservable(s,o))}async mediate(s){return(await this.mediateTestable(s)).getOrThrow()}constructFailureMessage(s,c){const a=`
        `;return`${this.bus.failMessage.replaceAll(/\$\{(.*?)\}/gu,(i,t)=>tu.getObjectValue({action:s},t.split("."))||i)}
    Error messages of failing actors:${a}${c.join(a)}`}static getObjectValue(s,c){if(c.length===0)return s;if(s)return tu.getObjectValue(s[c[0]],c.slice(1))}};return ka.Mediator=g,ka}var tr={},il;function cp(){if(il)return tr;il=1,Object.defineProperty(tr,"__esModule",{value:!0}),tr.TestResultFailed=tr.TestResultPassed=tr.failTest=tr.passTestVoidWithSideData=tr.passTestWithSideData=tr.passTestVoid=tr.passTest=void 0;function g(t){return new o(t,void 0)}tr.passTest=g;function e(){return new o(!0,void 0)}tr.passTestVoid=e;function s(t,n){return new o(t,n)}tr.passTestWithSideData=s;function c(t){return new o(!0,t)}tr.passTestVoidWithSideData=c;function a(t){return new i(t)}tr.failTest=a;class o{constructor(n,r){this.value=n,this.sideData=r}isPassed(){return!0}isFailed(){return!1}get(){return this.value}getOrThrow(){return this.value}getSideData(){return this.sideData}getFailMessage(){}map(n){return new o(n(this.value,this.sideData),this.sideData)}async mapAsync(n){return new o(await n(this.value,this.sideData),this.sideData)}}tr.TestResultPassed=o;class i{constructor(n){this.failMessage=n}isPassed(){return!1}isFailed(){return!0}get(){}getOrThrow(){throw new Error(this.getFailMessage())}getSideData(){throw new Error(this.getFailMessage())}getFailMessage(){return this.failMessage}map(){return this}async mapAsync(){return this}}return tr.TestResultFailed=i,tr}var al;function Ys(){return al||(al=1,function(g){var e=ii&&ii.__createBinding||(Object.create?function(c,a,o,i){i===void 0&&(i=o);var t=Object.getOwnPropertyDescriptor(a,o);(!t||("get"in t?!a.__esModule:t.writable||t.configurable))&&(t={enumerable:!0,get:function(){return a[o]}}),Object.defineProperty(c,i,t)}:function(c,a,o,i){i===void 0&&(i=o),c[i]=a[o]}),s=ii&&ii.__exportStar||function(c,a){for(var o in c)o!=="default"&&!Object.prototype.hasOwnProperty.call(a,o)&&e(a,c,o)};Object.defineProperty(g,"__esModule",{value:!0}),s(Xc(),g),s(Wc(),g),s(ap(),g),s(el(),g),s(op(),g),s(sp(),g),s(up(),g),s(cp(),g)}(ii)),ii}var ol;function lp(){if(ol)return sa;ol=1,Object.defineProperty(sa,"__esModule",{value:!0}),sa.ActorQueryProcess=void 0;const g=Ys();let e=class extends g.Actor{constructor(c){super(c)}};return sa.ActorQueryProcess=e,sa}var sl;function dp(){return sl||(sl=1,function(g){var e=ni&&ni.__createBinding||(Object.create?function(c,a,o,i){i===void 0&&(i=o);var t=Object.getOwnPropertyDescriptor(a,o);(!t||("get"in t?!a.__esModule:t.writable||t.configurable))&&(t={enumerable:!0,get:function(){return a[o]}}),Object.defineProperty(c,i,t)}:function(c,a,o,i){i===void 0&&(i=o),c[i]=a[o]}),s=ni&&ni.__exportStar||function(c,a){for(var o in c)o!=="default"&&!Object.prototype.hasOwnProperty.call(a,o)&&e(a,c,o)};Object.defineProperty(g,"__esModule",{value:!0}),s(lp(),g)}(ni)),ni}var pi={},bt={},ul;function pp(){if(ul)return bt;ul=1,Object.defineProperty(bt,"__esModule",{value:!0}),bt.KeysStatistics=bt.KeysRdfJoin=bt.KeysMergeBindingsContext=bt.KeysRdfUpdateQuads=bt.KeysQuerySourceIdentify=bt.KeysRdfParseHtmlScript=bt.KeysRdfParseJsonLd=bt.KeysQueryOperation=bt.KeysExpressionEvaluator=bt.KeysInitQuery=bt.KeysHttpProxy=bt.KeysHttpMemento=bt.KeysHttpWayback=bt.KeysHttp=bt.KeysCore=void 0;const g=Ys();return bt.KeysCore={log:g.CONTEXT_KEY_LOGGER},bt.KeysHttp={includeCredentials:new g.ActionContextKey("@comunica/bus-http:include-credentials"),auth:new g.ActionContextKey("@comunica/bus-http:auth"),fetch:new g.ActionContextKey("@comunica/bus-http:fetch"),httpTimeout:new g.ActionContextKey("@comunica/bus-http:http-timeout"),httpBodyTimeout:new g.ActionContextKey("@comunica/bus-http:http-body-timeout"),httpRetryCount:new g.ActionContextKey("@comunica/bus-http:http-retry-count"),httpRetryDelayFallback:new g.ActionContextKey("@comunica/bus-http:http-retry-delay-fallback"),httpRetryDelayLimit:new g.ActionContextKey("@comunica/bus-http:http-retry-delay-limit"),httpRetryStatusCodes:new g.ActionContextKey("@comunica/bus-http:http-retry-status-codes")},bt.KeysHttpWayback={recoverBrokenLinks:new g.ActionContextKey("@comunica/bus-http:recover-broken-links")},bt.KeysHttpMemento={datetime:new g.ActionContextKey("@comunica/actor-http-memento:datetime")},bt.KeysHttpProxy={httpProxyHandler:new g.ActionContextKey("@comunica/actor-http-proxy:httpProxyHandler")},bt.KeysInitQuery={querySourcesUnidentified:new g.ActionContextKey("@comunica/actor-init-query:querySourcesUnidentified"),initialBindings:new g.ActionContextKey("@comunica/actor-init-query:initialBindings"),queryFormat:new g.ActionContextKey("@comunica/actor-init-query:queryFormat"),graphqlSingularizeVariables:new g.ActionContextKey("@comunica/actor-init-query:singularizeVariables"),lenient:new g.ActionContextKey("@comunica/actor-init-query:lenient"),queryString:new g.ActionContextKey("@comunica/actor-init-query:queryString"),query:new g.ActionContextKey("@comunica/actor-init-query:query"),baseIRI:new g.ActionContextKey("@comunica/actor-init-query:baseIRI"),functionArgumentsCache:new g.ActionContextKey("@comunica/actor-init-query:functionArgumentsCache"),queryTimestamp:new g.ActionContextKey("@comunica/actor-init-query:queryTimestamp"),queryTimestampHighResolution:new g.ActionContextKey("@comunica/actor-init-query:queryTimestampHighResolution"),extensionFunctionCreator:new g.ActionContextKey("@comunica/actor-init-query:extensionFunctionCreator"),extensionFunctions:new g.ActionContextKey("@comunica/actor-init-query:extensionFunctions"),cliArgsHandlers:new g.ActionContextKey("@comunica/actor-init-query:cliArgsHandlers"),explain:new g.ActionContextKey("@comunica/actor-init-query:explain"),physicalQueryPlanLogger:new g.ActionContextKey("@comunica/actor-init-query:physicalQueryPlanLogger"),physicalQueryPlanNode:new g.ActionContextKey("@comunica/actor-init-query:physicalQueryPlanNode"),jsonLdContext:new g.ActionContextKey("@context"),invalidateCache:new g.ActionContextKey("@comunica/actor-init-query:invalidateCache"),dataFactory:new g.ActionContextKey("@comunica/actor-init-query:dataFactory"),distinctConstruct:new g.ActionContextKey("@comunica/actor-init-query:distinctConstruct")},bt.KeysExpressionEvaluator={extensionFunctionCreator:new g.ActionContextKey("@comunica/utils-expression-evaluator:extensionFunctionCreator"),superTypeProvider:new g.ActionContextKey("@comunica/utils-expression-evaluator:superTypeProvider"),defaultTimeZone:new g.ActionContextKey("@comunica/utils-expression-evaluator:defaultTimeZone"),actionContext:new g.ActionContextKey("@comunica/utils-expression-evaluator:actionContext")},bt.KeysQueryOperation={operation:new g.ActionContextKey("@comunica/bus-query-operation:operation"),joinLeftMetadata:new g.ActionContextKey("@comunica/bus-query-operation:joinLeftMetadata"),joinRightMetadatas:new g.ActionContextKey("@comunica/bus-query-operation:joinRightMetadatas"),joinBindings:new g.ActionContextKey("@comunica/bus-query-operation:joinBindings"),readOnly:new g.ActionContextKey("@comunica/bus-query-operation:readOnly"),isPathArbitraryLengthDistinctKey:new g.ActionContextKey("@comunica/bus-query-operation:isPathArbitraryLengthDistinct"),limitIndicator:new g.ActionContextKey("@comunica/bus-query-operation:limitIndicator"),unionDefaultGraph:new g.ActionContextKey("@comunica/bus-query-operation:unionDefaultGraph"),querySources:new g.ActionContextKey("@comunica/bus-query-operation:querySources")},bt.KeysRdfParseJsonLd={documentLoader:new g.ActionContextKey("@comunica/actor-rdf-parse-jsonld:documentLoader"),strictValues:new g.ActionContextKey("@comunica/actor-rdf-parse-jsonld:strictValues"),parserOptions:new g.ActionContextKey("@comunica/actor-rdf-parse-jsonld:parserOptions")},bt.KeysRdfParseHtmlScript={processingHtmlScript:new g.ActionContextKey("@comunica/actor-rdf-parse-html-script:processingHtmlScript"),extractAllScripts:new g.ActionContextKey("extractAllScripts")},bt.KeysQuerySourceIdentify={sourceIds:new g.ActionContextKey("@comunica/bus-query-source-identify:sourceIds"),hypermediaSourcesAggregatedStores:new g.ActionContextKey("@comunica/bus-query-source-identify:hypermediaSourcesAggregatedStores"),traverse:new g.ActionContextKey("@comunica/bus-query-source-identify:traverse")},bt.KeysRdfUpdateQuads={destination:new g.ActionContextKey("@comunica/bus-rdf-update-quads:destination")},bt.KeysMergeBindingsContext={sourcesBinding:new g.ActionContextKey("@comunica/bus-merge-bindings-context:sourcesBinding")},bt.KeysRdfJoin={lastPhysicalJoin:new g.ActionContextKey("@comunica/bus-rdf-join:lastPhysicalJoin")},bt.KeysStatistics={discoveredLinks:new g.ActionContextKey("@comunica/statistic:discoveredLinks"),dereferencedLinks:new g.ActionContextKey("@comunica/statistic:dereferencedLinks"),intermediateResults:new g.ActionContextKey("@comunica/statistic:intermediateResults")},bt}var cl;function fp(){return cl||(cl=1,function(g){var e=pi&&pi.__createBinding||(Object.create?function(c,a,o,i){i===void 0&&(i=o);var t=Object.getOwnPropertyDescriptor(a,o);(!t||("get"in t?!a.__esModule:t.writable||t.configurable))&&(t={enumerable:!0,get:function(){return a[o]}}),Object.defineProperty(c,i,t)}:function(c,a,o,i){i===void 0&&(i=o),c[i]=a[o]}),s=pi&&pi.__exportStar||function(c,a){for(var o in c)o!=="default"&&!Object.prototype.hasOwnProperty.call(a,o)&&e(a,c,o)};Object.defineProperty(g,"__esModule",{value:!0}),s(pp(),g)}(pi)),pi}var fi={},Zs={},rr={},hi={},Ba={},ll;function dl(){if(ll)return Ba;ll=1,Object.defineProperty(Ba,"__esModule",{value:!0}),Ba.BlankNode=void 0;let g=class{constructor(s){this.termType="BlankNode",this.value=s}equals(s){return!!s&&s.termType==="BlankNode"&&s.value===this.value}};return Ba.BlankNode=g,Ba}var qa={},Ua={},pl;function fl(){if(pl)return Ua;pl=1,Object.defineProperty(Ua,"__esModule",{value:!0}),Ua.DefaultGraph=void 0;let g=class{constructor(){this.termType="DefaultGraph",this.value=""}equals(s){return!!s&&s.termType==="DefaultGraph"}};return Ua.DefaultGraph=g,g.INSTANCE=new g,Ua}var Qa={},Va={},hl;function eu(){if(hl)return Va;hl=1,Object.defineProperty(Va,"__esModule",{value:!0}),Va.NamedNode=void 0;let g=class{constructor(s){this.termType="NamedNode",this.value=s}equals(s){return!!s&&s.termType==="NamedNode"&&s.value===this.value}};return Va.NamedNode=g,Va}var yl;function gl(){if(yl)return Qa;yl=1,Object.defineProperty(Qa,"__esModule",{value:!0}),Qa.Literal=void 0;const g=eu();let e=class ru{constructor(c,a){this.termType="Literal",this.value=c,typeof a=="string"?(this.language=a,this.datatype=ru.RDF_LANGUAGE_STRING):a?(this.language="",this.datatype=a):(this.language="",this.datatype=ru.XSD_STRING)}equals(c){return!!c&&c.termType==="Literal"&&c.value===this.value&&c.language===this.language&&this.datatype.equals(c.datatype)}};return Qa.Literal=e,e.RDF_LANGUAGE_STRING=new g.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),e.XSD_STRING=new g.NamedNode("http://www.w3.org/2001/XMLSchema#string"),Qa}var $a={},ml;function bl(){if(ml)return $a;ml=1,Object.defineProperty($a,"__esModule",{value:!0}),$a.Quad=void 0;let g=class{constructor(s,c,a,o){this.termType="Quad",this.value="",this.subject=s,this.predicate=c,this.object=a,this.graph=o}equals(s){return!!s&&(s.termType==="Quad"||!s.termType)&&this.subject.equals(s.subject)&&this.predicate.equals(s.predicate)&&this.object.equals(s.object)&&this.graph.equals(s.graph)}};return $a.Quad=g,$a}var Ga={},vl;function _l(){if(vl)return Ga;vl=1,Object.defineProperty(Ga,"__esModule",{value:!0}),Ga.Variable=void 0;let g=class{constructor(s){this.termType="Variable",this.value=s}equals(s){return!!s&&s.termType==="Variable"&&s.value===this.value}};return Ga.Variable=g,Ga}var wl;function hp(){if(wl)return qa;wl=1,Object.defineProperty(qa,"__esModule",{value:!0}),qa.DataFactory=void 0;const g=dl(),e=fl(),s=gl(),c=eu(),a=bl(),o=_l();let i=0,t=class{constructor(r){this.blankNodeCounter=0,r=r||{},this.blankNodePrefix=r.blankNodePrefix||`df_${i++}_`}namedNode(r){return new c.NamedNode(r)}blankNode(r){return new g.BlankNode(r||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(r,u){return new s.Literal(r,u)}variable(r){return new o.Variable(r)}defaultGraph(){return e.DefaultGraph.INSTANCE}quad(r,u,l,d){return new a.Quad(r,u,l,d||this.defaultGraph())}fromTerm(r){switch(r.termType){case"NamedNode":return this.namedNode(r.value);case"BlankNode":return this.blankNode(r.value);case"Literal":return r.language?this.literal(r.value,r.language):r.datatype.equals(s.Literal.XSD_STRING)?this.literal(r.value):this.literal(r.value,this.fromTerm(r.datatype));case"Variable":return this.variable(r.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(r.subject),this.fromTerm(r.predicate),this.fromTerm(r.object),this.fromTerm(r.graph))}}fromQuad(r){return this.fromTerm(r)}resetBlankNodeCounter(){this.blankNodeCounter=0}};return qa.DataFactory=t,qa}var Tl;function yp(){return Tl||(Tl=1,function(g){var e=hi&&hi.__createBinding||(Object.create?function(c,a,o,i){i===void 0&&(i=o);var t=Object.getOwnPropertyDescriptor(a,o);(!t||("get"in t?!a.__esModule:t.writable||t.configurable))&&(t={enumerable:!0,get:function(){return a[o]}}),Object.defineProperty(c,i,t)}:function(c,a,o,i){i===void 0&&(i=o),c[i]=a[o]}),s=hi&&hi.__exportStar||function(c,a){for(var o in c)o!=="default"&&!Object.prototype.hasOwnProperty.call(a,o)&&e(a,c,o)};Object.defineProperty(g,"__esModule",{value:!0}),s(dl(),g),s(hp(),g),s(fl(),g),s(gl(),g),s(eu(),g),s(bl(),g),s(_l(),g)}(hi)),hi}var Ol;function gp(){if(Ol)return rr;Ol=1,Object.defineProperty(rr,"__esModule",{value:!0}),rr.stringQuadToQuad=rr.quadToStringQuad=rr.stringToTerm=rr.getLiteralLanguage=rr.getLiteralType=rr.getLiteralValue=rr.termToString=void 0;const g=yp(),e=new g.DataFactory;function s(r){if(r)switch(r.termType){case"NamedNode":return r.value;case"BlankNode":return"_:"+r.value;case"Literal":const u=r;return'"'+u.value+'"'+(u.datatype&&u.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&u.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?"^^"+u.datatype.value:"")+(u.language?"@"+u.language:"");case"Quad":return`<<${s(r.subject)} ${s(r.predicate)} ${s(r.object)}${r.graph.termType==="DefaultGraph"?"":" "+s(r.graph)}>>`;case"Variable":return"?"+r.value;case"DefaultGraph":return r.value}}rr.termToString=s;function c(r){const u=/^"([^]*)"/.exec(r);if(!u)throw new Error(r+" is not a literal");return u[1]}rr.getLiteralValue=c;function a(r){const u=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(r);if(!u)throw new Error(r+" is not a literal");return u[1]||(u[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}rr.getLiteralType=a;function o(r){const u=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(r);if(!u)throw new Error(r+" is not a literal");return u[1]?u[1].toLowerCase():""}rr.getLiteralLanguage=o;function i(r,u){if(u=u||e,!r||!r.length)return u.defaultGraph();switch(r[0]){case"_":return u.blankNode(r.substr(2));case"?":if(!u.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return u.variable(r.substr(1));case'"':const l=o(r),d=u.namedNode(a(r));return u.literal(c(r),l||d);case"<":default:if(r[0]==="<"&&r.length>4&&r[1]==="<"&&r[r.length-1]===">"&&r[r.length-2]===">"){const p=r.slice(2,-2).trim();let f=[],h=0,y=0,m=!1;for(let b=0;b<p.length;b++){const v=p[b];if(v==="<"&&h++,v===">"){if(h===0)throw new Error("Found closing tag without opening tag in "+r);h--}if(v==='"'){let _=!1,w=b;for(;w-- >0&&p[w]==="\\";)_=!_;_||(m=!m)}if(v===" "&&!m&&h===0){for(f.push(p.slice(y,b));p[b+1]===" ";)b+=1;y=b+1}}if(h!==0)throw new Error("Found opening tag without closing tag in "+r);if(f.push(p.slice(y,p.length)),f.length!==3&&f.length!==4)throw new Error("Nested quad syntax error "+r);return f=f.map(b=>b.startsWith("<")&&!b.includes(" ")?b.slice(1,-1):b),u.quad(i(f[0]),i(f[1]),i(f[2]),f[3]?i(f[3]):void 0)}return u.namedNode(r)}}rr.stringToTerm=i;function t(r){return{subject:s(r.subject),predicate:s(r.predicate),object:s(r.object),graph:s(r.graph)}}rr.quadToStringQuad=t;function n(r,u){return u=u||e,u.quad(i(r.subject,u),i(r.predicate,u),i(r.object,u),i(r.graph,u))}return rr.stringQuadToQuad=n,rr}var Sl;function mp(){return Sl||(Sl=1,function(g){Object.defineProperty(g,"__esModule",{value:!0}),g.termToString=g.stringToTerm=g.stringQuadToQuad=g.quadToStringQuad=g.getLiteralValue=g.getLiteralType=g.getLiteralLanguage=void 0;const e=gp();Object.defineProperty(g,"getLiteralLanguage",{enumerable:!0,get:function(){return e.getLiteralLanguage}}),Object.defineProperty(g,"getLiteralType",{enumerable:!0,get:function(){return e.getLiteralType}}),Object.defineProperty(g,"getLiteralValue",{enumerable:!0,get:function(){return e.getLiteralValue}}),Object.defineProperty(g,"quadToStringQuad",{enumerable:!0,get:function(){return e.quadToStringQuad}}),Object.defineProperty(g,"stringQuadToQuad",{enumerable:!0,get:function(){return e.stringQuadToQuad}}),Object.defineProperty(g,"stringToTerm",{enumerable:!0,get:function(){return e.stringToTerm}}),Object.defineProperty(g,"termToString",{enumerable:!0,get:function(){return e.termToString}})}(Zs)),Zs}var El;function xl(){if(El)return fi;El=1,Object.defineProperty(fi,"__esModule",{value:!0}),fi.numberToString=fi.MemoryPhysicalQueryPlanLogger=void 0;const g=mp();let e=class{constructor(){this.planNodes=new Map}logOperation(a,o,i,t,n,r){const u={actor:n,logicalOperator:a,physicalOperator:o,rawNode:i,children:[],metadata:r};if(this.planNodes.set(i,u),this.rootNode){if(!t)throw new Error("Detected more than one parent-less node");const l=this.planNodes.get(t);if(!l)throw new Error("Could not find parent node");l.children.push(u)}else{if(t)throw new Error("No root node has been set yet, while a parent is being referenced");this.rootNode=u}}stashChildren(a,o){const i=this.planNodes.get(a);if(!i)throw new Error("Could not find plan node");i.children=o?i.children.filter(o):[]}unstashChild(a,o){const i=this.planNodes.get(a);if(i){const t=this.planNodes.get(o);if(!t)throw new Error("Could not find plan parent node");t.children.push(i)}}appendMetadata(a,o){const i=this.planNodes.get(a);i&&(i.metadata={...i.metadata,...o})}toJson(){return this.rootNode?this.planNodeToJson(this.rootNode):{}}planNodeToJson(a){const o={logical:a.logicalOperator,physical:a.physicalOperator,...this.getLogicalMetadata(a.rawNode),...this.compactMetadata(a.metadata)};if(a.children.length>0&&(o.children=a.children.map(i=>this.planNodeToJson(i))),o.physical==="bind"&&o.children){const i={};for(const n of o.children){const r=n.children?.at(-1)??n,u=this.getPlanHash(r).join(",");i[u]||(i[u]=[]),i[u].push(n)}const t=[];for(const n of Object.values(i))t.push({occurrences:n.length,firstOccurrence:n[0]});o.childrenCompact=t,delete o.children}return o}getPlanHash(a){let o=[`${a.logical}-${a.physical}`];return a.children?o=[...o,...a.children.flatMap(i=>this.getPlanHash(i))]:a.childrenCompact&&(o=[...o,...a.childrenCompact.flatMap(i=>this.getPlanHash(i.firstOccurrence))]),o}compactMetadata(a){return Object.fromEntries(Object.entries(a).map(([o,i])=>[o,this.compactMetadataValue(i)]))}compactMetadataValue(a){return a&&typeof a=="object"&&"termType"in a?this.getLogicalMetadata(a):a}getLogicalMetadata(a){const o={};if("type"in a){const i=a;switch(i.metadata?.scopedSource&&(o.source=i.metadata.scopedSource.source.toString()),i.type){case"pattern":o.pattern=this.quadToString(i);break;case"project":o.variables=i.variables.map(t=>t.value);break}}return o}quadToString(a){return`${(0,g.termToString)(a.subject)} ${(0,g.termToString)(a.predicate)} ${(0,g.termToString)(a.object)}${a.graph.termType==="DefaultGraph"?"":` ${(0,g.termToString)(a.graph)}`}`}toCompactString(){const a=this.toJson(),o=[],i=new Map;if("logical"in a?this.nodeToCompactString(o,i,"",a):o.push("Empty"),i.size>0){o.push(""),o.push("sources:");for(const[t,n]of i.entries())o.push(`  ${n}: ${t}`)}return o.join(`
`)}nodeToCompactString(a,o,i,t,n){let r;t.source&&(r=o.get(t.source),r===void 0&&(r=o.size,o.set(t.source,r))),a.push(`${i}${t.logical}${t.physical?`(${t.physical})`:""}${t.pattern?` (${t.pattern})`:""}${t.variables?` (${t.variables.join(",")})`:""}${t.bindOperation?` bindOperation:(${t.bindOperation.pattern}) bindCardEst:${t.bindOperationCardinality.type==="estimate"?"~":""}${s(t.bindOperationCardinality.value)}`:""}${t.cardinality?` cardEst:${t.cardinality.type==="estimate"?"~":""}${s(t.cardinality.value)}`:""}${t.source?` src:${r}`:""}${t.cardinalityReal?` cardReal:${t.cardinalityReal}`:""}${t.timeSelf?` timeSelf:${s(t.timeSelf)}ms`:""}${t.timeLife?` timeLife:${s(t.timeLife)}ms`:""}${n?` ${n}`:""}`);for(const u of t.children??[])this.nodeToCompactString(a,o,`${i}  `,u);for(const u of t.childrenCompact??[])this.nodeToCompactString(a,o,`${i}  `,u.firstOccurrence,`compacted-occurrences:${u.occurrences}`)}};fi.MemoryPhysicalQueryPlanLogger=e;function s(c){return c.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:3})}return fi.numberToString=s,fi}var Al;function bp(){if(Al)return oa;Al=1,Object.defineProperty(oa,"__esModule",{value:!0}),oa.ActorQueryProcessExplainPhysical=void 0;const g=dp(),e=fp(),s=Ys(),c=xl();let a=class extends g.ActorQueryProcess{constructor(i){super(i)}async test(i){const t=i.context.get(e.KeysInitQuery.explain)??i.context.get(new s.ActionContextKey("explain"));return t!=="physical"&&t!=="physical-json"?(0,s.failTest)(`${this.name} can only explain in 'physical' or 'physical-json' mode.`):(0,s.passTestVoid)()}async run(i){let{operation:t,context:n}=await this.queryProcessor.parse(i.query,i.context);({operation:t,context:n}=await this.queryProcessor.optimize(t,n));const r=new c.MemoryPhysicalQueryPlanLogger;n=n.set(e.KeysInitQuery.physicalQueryPlanLogger,r);const u=await this.queryProcessor.evaluate(t,n);switch(u.type){case"bindings":await u.bindingsStream.toArray();break;case"quads":await u.quadStream.toArray();break;case"boolean":await u.execute();break;case"void":await u.execute();break}const l=i.context.get(e.KeysInitQuery.explain)??i.context.getSafe(new s.ActionContextKey("explain"));return{result:{explain:!0,type:l,data:l==="physical"?r.toCompactString():r.toJson()}}}};return oa.ActorQueryProcessExplainPhysical=a,oa}var Il;function vp(){return Il||(Il=1,function(g){var e=ri&&ri.__createBinding||(Object.create?function(c,a,o,i){i===void 0&&(i=o);var t=Object.getOwnPropertyDescriptor(a,o);(!t||("get"in t?!a.__esModule:t.writable||t.configurable))&&(t={enumerable:!0,get:function(){return a[o]}}),Object.defineProperty(c,i,t)}:function(c,a,o,i){i===void 0&&(i=o),c[i]=a[o]}),s=ri&&ri.__exportStar||function(c,a){for(var o in c)o!=="default"&&!Object.prototype.hasOwnProperty.call(a,o)&&e(a,c,o)};Object.defineProperty(g,"__esModule",{value:!0}),s(bp(),g),s(xl(),g)}(ri)),ri}var _p=vp();class wp extends _p.MemoryPhysicalQueryPlanLogger{n2id=new Map;constructor(e){super(),this.worker=e}getId(e){return this.n2id.has(e)||this.n2id.set(e,this.n2id.size),this.n2id.get(e)}logOperation(e,s,c,a,o,i){super.logOperation(e,s,c,a,o,i);const t=new Rl(e,this.getId(a),this.getId(c),i);this.worker&&this.worker.postMessage(t)}appendMetadata(e,s){super.appendMetadata(e,s);const c=new Dl(this.getId(e),s);this.worker&&this.worker.postMessage(c)}}var Ui={};/*! For license information please see passage-comunica-engine.js.LICENSE.txt */var Tp={42:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionXsdToDate=void 0;const c=s(77617),a=s(77545);class o extends c.TermFunctionBase{constructor(){super({arity:1,operator:a.TypeURL.XSD_DATE,overloads:(0,a.declare)(a.TypeURL.XSD_DATE).onUnary(a.TypeURL.XSD_DATE,()=>t=>new a.DateLiteral(t.typedValue,t.strValue)).onUnary(a.TypeURL.XSD_DATE_TIME,()=>t=>new a.DateLiteral(t.typedValue)).onStringly1(()=>t=>new a.DateLiteral((0,a.parseDate)(t.str()))).collect()})}}e.TermFunctionXsdToDate=o},47:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorExpressionEvaluatorFactoryDefault=void 0;const c=s(37811),a=s(90711),o=s(90412),i=s(81926),t=s(77545),n=s(96607),r=s(61549);class u extends c.ActorExpressionEvaluatorFactory{constructor(d){super(d)}async test(d){return(0,o.passTestVoid)()}async run(d){const p=(0,t.prepareEvaluatorActionContext)(d.context);return new r.ExpressionEvaluator(p,await new n.AlgebraTransformer(p,this.mediatorFunctionFactory).transformAlgebra(d.algExpr),this.mediatorFunctionFactory,this.mediatorQueryOperation,await i.BindingsFactory.create(this.mediatorMergeBindingsContext,d.context,d.context.getSafe(a.KeysInitQuery.dataFactory)))}}e.ActorExpressionEvaluatorFactoryDefault=u},89:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermLesserThanEqual=void 0;const c=s(77617),a=s(77545),o=s(7246);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.SparqlOperator.LTE],termFunction:!0}),this.mediatorFunctionFactory=n.mediatorFunctionFactory}async run(n){const r=await this.mediatorFunctionFactory.mediate({functionName:a.SparqlOperator.EQUAL,requireTermExpression:!0,context:n.context,arguments:n.arguments}),u=await this.mediatorFunctionFactory.mediate({functionName:a.SparqlOperator.LT,requireTermExpression:!0,context:n.context,arguments:n.arguments});return new o.TermFunctionLesserThanEqual(r,u)}}e.ActorFunctionFactoryTermLesserThanEqual=i},92:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TypeHandlerBoolean=void 0;const c=s(30103);class a{fromRdf(i,t){switch(i.value){case"true":case"1":return!0;case"false":case"0":return!1}return t&&c.Translator.incorrectRdfDataType(i),!1}toRdf(i,{datatype:t,dataFactory:n}){return n.literal(i?"true":"false",t||n.namedNode(a.TYPE))}}a.TYPE="http://www.w3.org/2001/XMLSchema#boolean",e.TypeHandlerBoolean=a},121:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(18512),e)},251:(g,e)=>{e.read=function(s,c,a,o,i){var t,n,r=8*i-o-1,u=(1<<r)-1,l=u>>1,d=-7,p=a?i-1:0,f=a?-1:1,h=s[c+p];for(p+=f,t=h&(1<<-d)-1,h>>=-d,d+=r;d>0;t=256*t+s[c+p],p+=f,d-=8);for(n=t&(1<<-d)-1,t>>=-d,d+=o;d>0;n=256*n+s[c+p],p+=f,d-=8);if(t===0)t=1-l;else{if(t===u)return n?NaN:1/0*(h?-1:1);n+=Math.pow(2,o),t-=l}return(h?-1:1)*n*Math.pow(2,t-o)},e.write=function(s,c,a,o,i,t){var n,r,u,l=8*t-i-1,d=(1<<l)-1,p=d>>1,f=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=o?0:t-1,y=o?1:-1,m=c<0||c===0&&1/c<0?1:0;for(c=Math.abs(c),isNaN(c)||c===1/0?(r=isNaN(c)?1:0,n=d):(n=Math.floor(Math.log(c)/Math.LN2),c*(u=Math.pow(2,-n))<1&&(n--,u*=2),(c+=n+p>=1?f/u:f*Math.pow(2,1-p))*u>=2&&(n++,u/=2),n+p>=d?(r=0,n=d):n+p>=1?(r=(c*u-1)*Math.pow(2,i),n+=p):(r=c*Math.pow(2,p-1)*Math.pow(2,i),n=0));i>=8;s[a+h]=255&r,h+=y,r/=256,i-=8);for(n=n<<i|r,l+=i;l>0;s[a+h]=255&n,h+=y,n/=256,l-=8);s[a+h-y]|=128*m}},277:(g,e,s)=>{const{ArrayIsArray:c,ArrayPrototypeIncludes:a,ArrayPrototypeJoin:o,ArrayPrototypeMap:i,NumberIsInteger:t,NumberIsNaN:n,NumberMAX_SAFE_INTEGER:r,NumberMIN_SAFE_INTEGER:u,NumberParseInt:l,ObjectPrototypeHasOwnProperty:d,RegExpPrototypeExec:p,String:f,StringPrototypeToUpperCase:h,StringPrototypeTrim:y}=s(24134),{hideStackFrames:m,codes:{ERR_SOCKET_BAD_PORT:b,ERR_INVALID_ARG_TYPE:v,ERR_INVALID_ARG_VALUE:_,ERR_OUT_OF_RANGE:w,ERR_UNKNOWN_SIGNAL:O}}=s(76371),{normalizeEncoding:A}=s(57760),{isAsyncFunction:T,isArrayBufferView:S}=s(57760).types,E={},D=/^[0-7]+$/,I=m((ee,me,de=u,xe=r)=>{if(typeof ee!="number")throw new v(me,"number",ee);if(!t(ee))throw new w(me,"an integer",ee);if(ee<de||ee>xe)throw new w(me,`>= ${de} && <= ${xe}`,ee)}),V=m((ee,me,de=-2147483648,xe=2147483647)=>{if(typeof ee!="number")throw new v(me,"number",ee);if(!t(ee))throw new w(me,"an integer",ee);if(ee<de||ee>xe)throw new w(me,`>= ${de} && <= ${xe}`,ee)}),K=m((ee,me,de=!1)=>{if(typeof ee!="number")throw new v(me,"number",ee);if(!t(ee))throw new w(me,"an integer",ee);const xe=de?1:0,ne=4294967295;if(ee<xe||ee>ne)throw new w(me,`>= ${xe} && <= ${ne}`,ee)});function B(ee,me){if(typeof ee!="string")throw new v(me,"string",ee)}const $=m((ee,me,de)=>{if(!a(de,ee)){const xe=o(i(de,ne=>typeof ne=="string"?`'${ne}'`:f(ne)),", ");throw new _(me,ee,"must be one of: "+xe)}});function G(ee,me){if(typeof ee!="boolean")throw new v(me,"boolean",ee)}function U(ee,me,de){return ee!=null&&d(ee,me)?ee[me]:de}const W=m((ee,me,de=null)=>{const xe=U(de,"allowArray",!1),ne=U(de,"allowFunction",!1);if(!U(de,"nullable",!1)&&ee===null||!xe&&c(ee)||typeof ee!="object"&&(!ne||typeof ee!="function"))throw new v(me,"Object",ee)}),ye=m((ee,me)=>{if(ee!=null&&typeof ee!="object"&&typeof ee!="function")throw new v(me,"a dictionary",ee)}),ve=m((ee,me,de=0)=>{if(!c(ee))throw new v(me,"Array",ee);if(ee.length<de)throw new _(me,ee,`must be longer than ${de}`)}),he=m((ee,me="buffer")=>{if(!S(ee))throw new v(me,["Buffer","TypedArray","DataView"],ee)}),q=m((ee,me)=>{if(ee!==void 0&&(ee===null||typeof ee!="object"||!("aborted"in ee)))throw new v(me,"AbortSignal",ee)}),L=m((ee,me)=>{if(typeof ee!="function")throw new v(me,"Function",ee)}),R=m((ee,me)=>{if(typeof ee!="function"||T(ee))throw new v(me,"Function",ee)}),k=m((ee,me)=>{if(ee!==void 0)throw new v(me,"undefined",ee)}),X=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function oe(ee,me){if(ee===void 0||!p(X,ee))throw new _(me,ee,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}g.exports={isInt32:function(ee){return ee===(0|ee)},isUint32:function(ee){return ee===ee>>>0},parseFileMode:function(ee,me,de){if(ee===void 0&&(ee=de),typeof ee=="string"){if(p(D,ee)===null)throw new _(me,ee,"must be a 32-bit unsigned integer or an octal string");ee=l(ee,8)}return K(ee,me),ee},validateArray:ve,validateStringArray:function(ee,me){ve(ee,me);for(let de=0;de<ee.length;de++)B(ee[de],`${me}[${de}]`)},validateBooleanArray:function(ee,me){ve(ee,me);for(let de=0;de<ee.length;de++)G(ee[de],`${me}[${de}]`)},validateAbortSignalArray:function(ee,me){ve(ee,me);for(let de=0;de<ee.length;de++){const xe=ee[de],ne=`${me}[${de}]`;if(xe==null)throw new v(ne,"AbortSignal",xe);q(xe,ne)}},validateBoolean:G,validateBuffer:he,validateDictionary:ye,validateEncoding:function(ee,me){const de=A(me),xe=ee.length;if(de==="hex"&&xe%2!=0)throw new _("encoding",me,`is invalid for data of length ${xe}`)},validateFunction:L,validateInt32:V,validateInteger:I,validateNumber:function(ee,me,de=void 0,xe){if(typeof ee!="number")throw new v(me,"number",ee);if(de!=null&&ee<de||xe!=null&&ee>xe||(de!=null||xe!=null)&&n(ee))throw new w(me,`${de!=null?`>= ${de}`:""}${de!=null&&xe!=null?" && ":""}${xe!=null?`<= ${xe}`:""}`,ee)},validateObject:W,validateOneOf:$,validatePlainFunction:R,validatePort:function(ee,me="Port",de=!0){if(typeof ee!="number"&&typeof ee!="string"||typeof ee=="string"&&y(ee).length===0||+ee!==+ee>>>0||ee>65535||ee===0&&!de)throw new b(me,ee,de);return 0|ee},validateSignalName:function(ee,me="signal"){if(B(ee,me),E[ee]===void 0)throw E[h(ee)]!==void 0?new O(ee+" (signals must use all capital letters)"):new O(ee)},validateString:B,validateUint32:K,validateUndefined:k,validateUnion:function(ee,me,de){if(!a(de,ee))throw new v(me,`('${o(de,"|")}')`,ee)},validateAbortSignal:q,validateLinkHeaderValue:function(ee){if(typeof ee=="string")return oe(ee,"hints"),ee;if(c(ee)){const me=ee.length;let de="";if(me===0)return de;for(let xe=0;xe<me;xe++){const ne=ee[xe];oe(ne,"hints"),de+=ne,xe!==me-1&&(de+=", ")}return de}throw new _("hints",ee,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},330:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(47113),e)},445:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},447:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.RdfStore=void 0;const c=s(75627),a=s(28664),o=s(61758),i=s(23261),t=s(37747),n=s(68337),r=s(75237),u=s(95439);class l{constructor(p){this.features={quotedTripleFiltering:!0},this._size=0,this.options=p,this.dataFactory=p.dataFactory,this.dictionary=p.dictionary,this.indexesWrapped=l.constructIndexesWrapped(p),this.indexesWrappedComponentOrders=this.indexesWrapped.map(f=>f.componentOrder)}static createDefault(){return new l({indexCombinations:l.DEFAULT_INDEX_COMBINATIONS,indexConstructor:p=>new r.RdfStoreIndexNestedMapQuoted(p),dictionary:new n.TermDictionaryQuotedIndexed(new t.TermDictionaryNumberRecordFullTerms),dataFactory:new a.DataFactory})}static constructIndexesWrapped(p){const f=[];if(p.indexCombinations.length===0)throw new Error("At least one index combination is required");for(const h of p.indexCombinations){if(!l.isCombinationValid(h))throw new Error(`Invalid index combination: ${h}`);f.push({index:p.indexConstructor(p),componentOrder:h,componentOrderInverse:Object.fromEntries(h.map((y,m)=>[y,m]))})}return f}static isCombinationValid(p){for(const f of o.QUAD_TERM_NAMES)if(!p.includes(f))return!1;return p.length===4}get size(){return this._size}addQuad(p){const f=[this.dictionary.encode(p.subject),this.dictionary.encode(p.predicate),this.dictionary.encode(p.object),this.dictionary.encode(p.graph)];let h=!1;for(const y of this.indexesWrapped)h=y.index.set((0,u.orderQuadComponents)(y.componentOrder,f),!0);return!!h&&(this._size++,!0)}removeQuad(p){const f=[this.dictionary.encodeOptional(p.subject),this.dictionary.encodeOptional(p.predicate),this.dictionary.encodeOptional(p.object),this.dictionary.encodeOptional(p.graph)];if(f.includes(void 0))return!1;let h=!1;for(const y of this.indexesWrapped)if(h=y.index.remove((0,u.orderQuadComponents)(y.componentOrder,f)),!h)break;return!!h&&(this._size--,!0)}remove(p){return p.on("data",f=>this.removeQuad(f)),p}removeMatches(p,f,h,y){return this.remove(this.match(p,f,h,y))}deleteGraph(p){return typeof p=="string"&&(p=this.dataFactory.namedNode(p)),this.removeMatches(void 0,void 0,void 0,p)}import(p){return p.on("data",f=>this.addQuad(f)),p}*readQuads(p,f,h,y){const m=!!this.dictionary.features.quotedTriples&&Object.values(this.indexesWrapped).every(O=>O.index.features.quotedTripleFiltering),[b,v]=(0,u.quadToPattern)(p,f,h,y,m),_=this.indexesWrapped[(0,u.getBestIndex)(this.indexesWrappedComponentOrders,b)],w=(0,u.orderQuadComponents)(_.componentOrder,b);for(const O of _.index.find(w)){const A=this.dataFactory.quad(O[_.componentOrderInverse.subject],O[_.componentOrderInverse.predicate],O[_.componentOrderInverse.object],O[_.componentOrderInverse.graph]);v?(0,o.matchPattern)(A,p,f,h,y)&&(yield A):yield A}}getQuads(p,f,h,y){return[...this.readQuads(p,f,h,y)]}match(p,f,h,y){return(0,c.wrap)(this.readQuads(p,f,h,y))}*readBindings(p,f,h,y,m){const b=!!this.dictionary.features.quotedTriples&&Object.values(this.indexesWrapped).every(I=>I.index.features.quotedTripleFiltering),[v,_]=(0,u.quadToPattern)(f,h,y,m,b),w=this.indexesWrapped[(0,u.getBestIndex)(this.indexesWrappedComponentOrders,v)],O=(0,u.orderQuadComponents)(w.componentOrder,v),A=(0,u.encodeOptionalTerms)(O,this.dictionary);if(!A)return;const T=(0,u.orderQuadComponents)(w.componentOrder,[f,h,y,m]),S=[];for(let I=0;I<T.length;I++)T[I].termType!=="Variable"&&T[I].termType!=="Quad"||S.push(I);let E=!1;const D=T.map((I,V)=>{const K=[];for(let B=V+1;B<T.length;B++)I.equals(T[B])&&(K.push(B),E=!0);return K});for(const I of w.index.findEncoded(A,O)){let V=!1,K=!1;const B=[];for(const $ of S){if(E){const U=D[$];if(U){for(const W of U)if(I[$]!==I[W]){V=!0;break}}if(V)break}const G=this.dictionary.decode(I[$]);if(T[$].termType==="Quad"){if(G.termType==="Quad"){const U=(0,o.matchPatternMappings)(G,T[$],{returnMappings:!0});if(U){K=!0;for(const[W,ye]of Object.entries(U)){const ve=this.dataFactory.variable(W);if(B.some(he=>he[0].equals(ve)&&!he[1].equals(ye))){V=!0;break}B.push([ve,ye])}continue}}V=!0;break}if(K&&B.some(U=>U[0].equals(T[$])&&!U[1].equals(G))){V=!0;break}B.push([T[$],G])}V||(yield p.bindings(B))}}getBindings(p,f,h,y,m){return[...this.readBindings(p,f,h,y,m)]}matchBindings(p,f,h,y,m){return(0,c.wrap)(this.readBindings(p,f,h,y,m))}countQuads(p,f,h,y){const m=!!this.dictionary.features.quotedTriples&&Object.values(this.indexesWrapped).every(w=>w.index.features.quotedTripleFiltering),[b]=(0,u.quadToPattern)(p,f,h,y,m);if(b.every(w=>w===void 0))return this.size;const v=this.indexesWrapped[(0,u.getBestIndex)(this.indexesWrappedComponentOrders,b)],_=(0,u.orderQuadComponents)(v.componentOrder,b);return v.index.count(_)}asDataset(){return new i.DatasetCoreWrapper(this)}}e.RdfStore=l,l.DEFAULT_INDEX_COMBINATIONS=[["graph","subject","predicate","object"],["graph","predicate","object","subject"],["graph","object","subject","predicate"]]},559:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(21645),e),a(s(33386),e)},598:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},681:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Actor=void 0;const c=s(84983);class a{constructor(i){this.beforeActors=[],Object.assign(this,i),this.bus.subscribe(this),this.beforeActors.length>0&&this.bus.addDependencies(this,this.beforeActors),i.busFailMessage&&(this.bus.failMessage=i.busFailMessage)}static getContextLogger(i){return i.get(c.CONTEXT_KEY_LOGGER)}runObservable(i,t){const n=this.run(i,t);return this.bus.onRun(this,i,n),n}getDefaultLogData(i,t){const n=t?t():{};return n.actor=this.name,n}logTrace(i,t,n){const r=a.getContextLogger(i);r&&r.trace(t,this.getDefaultLogData(i,n))}logDebug(i,t,n){const r=a.getContextLogger(i);r&&r.debug(t,this.getDefaultLogData(i,n))}logInfo(i,t,n){const r=a.getContextLogger(i);r&&r.info(t,this.getDefaultLogData(i,n))}logWarn(i,t,n){const r=a.getContextLogger(i);r&&r.warn(t,this.getDefaultLogData(i,n))}logError(i,t,n){const r=a.getContextLogger(i);r&&r.error(t,this.getDefaultLogData(i,n))}logFatal(i,t,n){const r=a.getContextLogger(i);r&&r.fatal(t,this.getDefaultLogData(i,n))}}e.Actor=a},771:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermObject=void 0;const c=s(77617),a=s(77545),o=s(99694);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.SparqlOperator.OBJECT],termFunction:!0})}async run(n){return new o.TermFunctionObject}}e.ActorFunctionFactoryTermObject=i},914:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfJoinEntriesSortCardinality=void 0;const c=s(39195),a=s(90412);class o extends c.ActorRdfJoinEntriesSort{constructor(t){super(t)}async test(t){return(0,a.passTest)({accuracy:t.entries.length===0?1:t.entries.reduce((n,r)=>n+(Number.isFinite(r.metadata.cardinality.value)?1:0),0)/t.entries.length})}async run(t){return{entries:[...t.entries].sort((n,r)=>n.metadata.cardinality.value-r.metadata.cardinality.value)}}}e.ActorRdfJoinEntriesSortCardinality=o},916:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(71142),e)},968:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeValueHandlerFloat=void 0;const c=s(55009);class a extends c.NodeValueHandlerAdapter{constructor(i,t){super("FloatValue",i,t),this.datatype=this.util.dataFactory.namedNode("http://www.w3.org/2001/XMLSchema#float")}handle(i,t,n){return{terms:[this.util.dataFactory.literal(i.value,this.datatype)]}}}e.NodeValueHandlerFloat=a},1028:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MediatorFunctionFactory=e.ActorFunctionFactory=void 0;const c=s(90412);class a extends c.Actor{constructor(t){super(t)}}e.ActorFunctionFactory=a;class o extends c.Mediator{}e.MediatorFunctionFactory=o},1039:(g,e,s)=>{function c(i,t,n){return Object.defineProperty(i,"prototype",{writable:!1}),i}Object.defineProperty(e,"__esModule",{value:!0}),e.Shapes=void 0;var a=s(96331),o=c(function i(){(function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")})(this,i)});e.Shapes=o,o.TPF={type:"disjunction",children:[{type:"operation",operation:{operationType:"type",type:a.Algebra.types.PROJECT}},{type:"operation",operation:{operationType:"type",type:a.Algebra.types.PATTERN}},{type:"operation",operation:{operationType:"type",type:a.Algebra.types.SLICE}}]},o.BRTPF={type:"disjunction",children:[{type:"operation",operation:{operationType:"type",type:a.Algebra.types.PROJECT}},{type:"operation",operation:{operationType:"type",type:a.Algebra.types.PATTERN},joinBindings:!0,filterBindings:!0},{type:"operation",operation:{operationType:"type",type:a.Algebra.types.SLICE}}]},o.PASSAGE={type:"disjunction",children:[{type:"operation",operation:{operationType:"type",type:a.Algebra.types.PROJECT}},{type:"operation",operation:{operationType:"type",type:a.Algebra.types.PATTERN}},{type:"operation",operation:{operationType:"type",type:a.Algebra.types.SLICE}},{type:"operation",operation:{operationType:"type",type:a.Algebra.types.BGP}},{type:"operation",operation:{operationType:"type",type:a.Algebra.types.JOIN}},{type:"operation",operation:{operationType:"type",type:a.Algebra.types.EXTEND}},{type:"operation",operation:{operationType:"type",type:a.Algebra.types.UNION}},{type:"operation",operation:{operationType:"type",type:a.Algebra.types.VALUES}},{type:"operation",operation:{operationType:"type",type:a.Algebra.types.FILTER}},{type:"operation",operation:{operationType:"type",type:a.Algebra.types.LEFT_JOIN}}]},o.PASSAGE_NO_UNION={type:"disjunction",children:[{type:"operation",operation:{operationType:"type",type:a.Algebra.types.PROJECT}},{type:"operation",operation:{operationType:"type",type:a.Algebra.types.PATTERN}},{type:"operation",operation:{operationType:"type",type:a.Algebra.types.SLICE}},{type:"operation",operation:{operationType:"type",type:a.Algebra.types.BGP}},{type:"operation",operation:{operationType:"type",type:a.Algebra.types.JOIN}},{type:"operation",operation:{operationType:"type",type:a.Algebra.types.EXTEND}},{type:"operation",operation:{operationType:"type",type:a.Algebra.types.FILTER}}]}},1078:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BlankNode=void 0,e.BlankNode=class{constructor(s){this.termType="BlankNode",this.value=s}equals(s){return!!s&&s.termType==="BlankNode"&&s.value===this.value}}},1144:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionEncodeForUri=void 0;const c=s(77617),a=s(77545);class o extends c.TermFunctionBase{constructor(){super({arity:1,operator:a.SparqlOperator.ENCODE_FOR_URI,overloads:(0,a.declare)(a.SparqlOperator.ENCODE_FOR_URI).onStringly1Typed(()=>t=>(0,a.string)(encodeURI(t))).collect()})}}e.TermFunctionEncodeForUri=o},1166:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorOptimizeQueryOperationPruneEmptySourceOperations=void 0;const c=s(38912),a=s(90711),o=s(90412),i=s(67021),t=s(96331);class n extends c.ActorOptimizeQueryOperation{constructor(u){super(u)}async test(u){return(0,i.getOperationSource)(u.operation)?(0,o.failTest)(`Actor ${this.name} does not work with top-level operation sources.`):(0,o.passTestVoid)()}async run(u){const l=u.context.getSafe(a.KeysInitQuery.dataFactory),d=new t.Factory(l);let p=u.operation;const f=[],h=this;t.Util.recurseOperation(p,{[t.Algebra.types.UNION]:m=>(h.collectMultiOperationInputs(m.input,f,t.Algebra.types.PATTERN),!0),[t.Algebra.types.ALT]:m=>(h.collectMultiOperationInputs(m.input,f,t.Algebra.types.LINK),!1),[t.Algebra.types.SERVICE]:()=>!1});const y=new Set;return await Promise.all(f.map(async m=>{const b=m.type==="link"?d.createPattern(l.variable("s"),m.iri,l.variable("o")):m;await this.hasSourceResults(d,(0,i.getOperationSource)(m),b,u.context)||y.add(m)})),y.size>0&&(this.logDebug(u.context,`Pruning ${y.size} source-specific operations`),p=t.Util.mapOperation(p,{[t.Algebra.types.UNION]:(m,b)=>h.mapMultiOperation(m,y,v=>b.createUnion(v)),[t.Algebra.types.ALT]:(m,b)=>h.mapMultiOperation(m,y,v=>b.createAlt(v))},d),p=t.Util.mapOperation(p,{[t.Algebra.types.PROJECT]:(m,b)=>n.hasEmptyOperation(m)?{recurse:!1,result:b.createUnion([])}:{recurse:!0,result:m},[t.Algebra.types.LEFT_JOIN]:m=>n.hasEmptyOperation(m.input[1])?{recurse:!0,result:m.input[0]}:{recurse:!0,result:m}},d)),{operation:p,context:u.context}}static hasEmptyOperation(u){let l=!1;return t.Util.recurseOperation(u,{[t.Algebra.types.UNION]:d=>(d.input.every(p=>n.hasEmptyOperation(p))&&(l=!0),!1),[t.Algebra.types.ALT]:d=>(d.input.length===0&&(l=!0),!1),[t.Algebra.types.LEFT_JOIN]:d=>(n.hasEmptyOperation(d.input[0])&&(l=!0),!1)}),l}collectMultiOperationInputs(u,l,d){for(const p of u)(0,i.getOperationSource)(p)&&p.type===d&&l.push(p)}mapMultiOperation(u,l,d){const p=u.input.filter(f=>!l.has(f));return p.length===u.input.length?{result:u,recurse:!0}:p.length===0?{result:d([]),recurse:!1}:p.length===1?{result:p[0],recurse:!0}:{result:d(p),recurse:!0}}async hasSourceResults(u,l,d,p){if(l.context?.get(a.KeysQuerySourceIdentify.traverse)??p.get(a.KeysQuerySourceIdentify.traverse))return!0;if(this.useAskIfSupported){const h=u.createAsk(d);if((0,i.doesShapeAcceptOperation)(await l.source.getSelectorShape(p),h))return l.source.queryBoolean(h,p)}const f=l.source.queryBindings(d,p);return new Promise((h,y)=>{f.on("error",y),f.getProperty("metadata",m=>{f.destroy(),h(m.cardinality.value>0)})})}}e.ActorOptimizeQueryOperationPruneEmptySourceOperations=n},1209:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermTz=void 0;const c=s(77617),a=s(77545),o=s(4e4);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.SparqlOperator.TZ],termFunction:!0})}async run(n){return new o.TermFunctionTz}}e.ActorFunctionFactoryTermTz=i},1223:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(30872),e)},1359:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(30389),e)},1463:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeValueHandlerInt=void 0;const c=s(55009);class a extends c.NodeValueHandlerAdapter{constructor(i,t){super("IntValue",i,t),this.datatype=this.util.dataFactory.namedNode("http://www.w3.org/2001/XMLSchema#integer")}handle(i,t,n){return{terms:[this.util.dataFactory.literal(i.value,this.datatype)]}}}e.NodeValueHandlerInt=a},1530:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionInequality=void 0;const c=s(77617),a=s(77545);class o extends c.TermFunctionBase{constructor(t){super({arity:2,operator:a.SparqlOperator.NOT_EQUAL,overloads:(0,a.declare)(a.SparqlOperator.NOT_EQUAL).set(["term","term"],n=>([r,u])=>(0,a.bool)(!this.equalityFunction.applyOnTerms([r,u],n).typedValue)).collect()}),this.equalityFunction=t}}e.TermFunctionInequality=o},1548:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerKeyword=void 0,e.EntryHandlerKeyword=class{constructor(s){this.keyword=s}isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(s,c,a,o,i){return!1}async test(s,c,a,o,i){return a===this.keyword}}},1595:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(36057),e)},1667:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MediatorCombineUnion=void 0;const c=s(90412);class a extends c.Mediator{constructor(i){super(i),this.combiner=this.createCombiner()}async mediate(i){let t;try{t=this.publish(i)}catch{t=[]}if(this.filterFailures){const u=[];for(const l of t)(await l.reply).isPassed()&&u.push(l);t=u}const n=[];await Promise.all(t.map(async({reply:u},l)=>{const d=await u,p=d.getOrThrow();return n[l]=d.getSideData(),p}));const r=await Promise.all(t.map((u,l)=>u.actor.runObservable(i,n[l])));return this.combiner(r)}mediateWith(){throw new Error("Method not supported.")}createCombiner(){return i=>{const t={};return t[this.field]={},[{}].concat(i.map(n=>n[this.field])).forEach(n=>{t[this.field]={...n,...t[this.field]}}),t}}}e.MediatorCombineUnion=a},1707:(g,e)=>{var s;Object.defineProperty(e,"__esModule",{value:!0}),e.ExpressionType=void 0,function(c){c.Aggregate="aggregate",c.Existence="existence",c.Operator="operator",c.Term="term",c.Variable="variable"}(s||(e.ExpressionType=s={}))},1725:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.termToString=e.stringToTerm=e.stringQuadToQuad=e.quadToStringQuad=e.getLiteralValue=e.getLiteralType=e.getLiteralLanguage=void 0;const c=s(45183);Object.defineProperty(e,"getLiteralLanguage",{enumerable:!0,get:function(){return c.getLiteralLanguage}}),Object.defineProperty(e,"getLiteralType",{enumerable:!0,get:function(){return c.getLiteralType}}),Object.defineProperty(e,"getLiteralValue",{enumerable:!0,get:function(){return c.getLiteralValue}}),Object.defineProperty(e,"quadToStringQuad",{enumerable:!0,get:function(){return c.quadToStringQuad}}),Object.defineProperty(e,"stringQuadToQuad",{enumerable:!0,get:function(){return c.stringQuadToQuad}}),Object.defineProperty(e,"stringToTerm",{enumerable:!0,get:function(){return c.stringToTerm}}),Object.defineProperty(e,"termToString",{enumerable:!0,get:function(){return c.termToString}})},1861:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XmlSerializer=void 0;class s{constructor(){this.stack=[]}open(a,o){const i=`${this.identation()+this.formatTag(a,o,"open")}
`;return this.stack.push(a),i}close(){const a=this.stack.pop();if(a===void 0)throw new Error("There is no tag left to close");return`${this.identation()+this.formatTag(a,{},"close")}
`}serializeNode(a){if(a.children===void 0)return`${this.identation()+this.formatTag(a.name,a.attributes,"self-closing")}
`;if(typeof a.children=="string")return`${this.identation()+this.formatTag(a.name,a.attributes,"open")+this.escape(a.children)+this.formatTag(a.name,{},"close")}
`;const o=[];o.push(`${this.identation()+this.formatTag(a.name,a.attributes,"open")}
`),this.stack.push(a.name);for(const i of a.children)o.push(this.serializeNode(i));return this.stack.pop(),o.push(`${this.identation()+this.formatTag(a.name,{},"close")}
`),o.join("")}identation(){return this.stack.map(a=>"  ").join("")}formatTag(a,o,i){return`<${i==="close"?"/":""}${a}${Object.entries(o??{}).map(t=>` ${t[0]}="${this.escape(t[1])}"`)}${i==="self-closing"?"/":""}>`}escape(a){return a.replaceAll(/["&'<>]/gu,o=>{switch(o){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case"'":return"&apos;";case'"':return"&quot;"}})}}e.XmlSerializer=s,s.header=`<?xml version="1.0" encoding="UTF-8"?>
`},2044:(g,e,s)=>{let c=s(75627),a=c.MultiTransformIterator,o=c.SimpleTransformIterator;g.exports=class extends a{constructor(i,t,n,r){super(i,r),this.funRight=t,this.funJoin=n}_createTransformer(i){return new o(this.funRight(i),{transform:(t,n,r)=>{let u=this.funJoin(i,t);u!==null&&r(u),n()}})}}},2126:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionXsdToDuration=void 0;const c=s(77617),a=s(77545);class o extends c.TermFunctionBase{constructor(){super({arity:1,operator:a.TypeURL.XSD_DAY_TIME_DURATION,overloads:(0,a.declare)(a.TypeURL.XSD_DURATION).onUnary(a.TypeURL.XSD_DURATION,()=>t=>new a.DurationLiteral(t.typedValue,t.strValue)).onStringly1(()=>t=>new a.DurationLiteral((0,a.parseDuration)(t.str()))).collect()})}}e.TermFunctionXsdToDuration=o},2236:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(63055),e),a(s(53930),e)},2287:(g,e,s)=>{var c=s(67426),a=s(66166),o=s(66225),i=s(43349),t=c.sum32,n=c.sum32_4,r=c.sum32_5,u=o.ch32,l=o.maj32,d=o.s0_256,p=o.s1_256,f=o.g0_256,h=o.g1_256,y=a.BlockHash,m=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function b(){if(!(this instanceof b))return new b;y.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=m,this.W=new Array(64)}c.inherits(b,y),g.exports=b,b.blockSize=512,b.outSize=256,b.hmacStrength=192,b.padLength=64,b.prototype._update=function(v,_){for(var w=this.W,O=0;O<16;O++)w[O]=v[_+O];for(;O<w.length;O++)w[O]=n(h(w[O-2]),w[O-7],f(w[O-15]),w[O-16]);var A=this.h[0],T=this.h[1],S=this.h[2],E=this.h[3],D=this.h[4],I=this.h[5],V=this.h[6],K=this.h[7];for(i(this.k.length===w.length),O=0;O<w.length;O++){var B=r(K,p(D),u(D,I,V),this.k[O],w[O]),$=t(d(A),l(A,T,S));K=V,V=I,I=D,D=t(E,B),E=S,S=T,T=A,A=t(B,$)}this.h[0]=t(this.h[0],A),this.h[1]=t(this.h[1],T),this.h[2]=t(this.h[2],S),this.h[3]=t(this.h[3],E),this.h[4]=t(this.h[4],D),this.h[5]=t(this.h[5],I),this.h[6]=t(this.h[6],V),this.h[7]=t(this.h[7],K)},b.prototype._digest=function(v){return v==="hex"?c.toHex32(this.h,"big"):c.split32(this.h,"big")}},2307:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(67797),e),a(s(85506),e),a(s(53992),e),a(s(95570),e),a(s(15064),e),a(s(30879),e)},2384:g=>{var e=/^utf-?8|ascii|utf-?16-?le|ucs-?2|base-?64|latin-?1$/i,s=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,c=/\s|\uFEFF|\xA0/,a=/\r?\n[\x20\x09]+/g,o=/[;,"]/,i=/[;,"]|\s/,t=/^[!#$%&'*+\-\.^_`|~\da-zA-Z]+$/;function n(p){return p.replace(s,"")}function r(p){return c.test(p)}function u(p,f){for(;r(p[f]);)f++;return f}function l(p){return i.test(p)||!t.test(p)}class d{constructor(f){this.refs=[],f&&this.parse(f)}rel(f){for(var h=[],y=f.toLowerCase(),m=0;m<this.refs.length;m++)typeof this.refs[m].rel=="string"&&this.refs[m].rel.toLowerCase()===y&&h.push(this.refs[m]);return h}get(f,h){f=f.toLowerCase(),h=h.toLowerCase();for(var y=[],m=0;m<this.refs.length;m++)typeof this.refs[m][f]=="string"&&this.refs[m][f].toLowerCase()===h&&y.push(this.refs[m]);return y}set(f){return this.refs.push(f),this}setUnique(f){return this.refs.some(h=>{return y=h,m=f,Object.keys(y).length===Object.keys(m).length&&Object.keys(y).every(b=>b in m&&y[b]===m[b]);var y,m})||this.refs.push(f),this}has(f,h){f=f.toLowerCase(),h=h.toLowerCase();for(var y=0;y<this.refs.length;y++)if(typeof this.refs[y][f]=="string"&&this.refs[y][f].toLowerCase()===h)return!0;return!1}parse(f,h){for(var y=1,m=(f=n(f=(h=h||0)?f.slice(h):f).replace(a,"")).length,b=(h=0,null);h<m;)if(y===1){if(r(f[h])){h++;continue}if(f[h]!=="<")throw new Error('Unexpected character "'+f[h]+'" at offset '+h);if(b!=null&&(b.rel!=null?this.refs.push(...d.expandRelations(b)):this.refs.push(b)),(w=f.indexOf(">",h))===-1)throw new Error("Expected end of URI delimiter at offset "+h);b={uri:f.slice(h+1,w)},h=w,y=2,h++}else if(y===2){if(r(f[h])){h++;continue}if(f[h]===";")y=4,h++;else{if(f[h]!==",")throw new Error('Unexpected character "'+f[h]+'" at offset '+h);y=1,h++}}else{if(y!==4)throw new Error('Unknown parser state "'+y+'"');if(f[h]===";"||r(f[h])){h++;continue}(w=f.indexOf("=",h))===-1&&(w=f.indexOf(";",h)),w===-1&&(w=f.length);var v=n(f.slice(h,w)).toLowerCase(),_="";if(f[h=u(f,h=w+1)]==='"')for(h++;h<m;){if(f[h]==='"'){h++;break}f[h]==="\\"&&h++,_+=f[h],h++}else{for(var w=h+1;!o.test(f[w])&&w<m;)w++;_=f.slice(h,w),h=w}switch(b[v]&&d.isSingleOccurenceAttr(v)||(v[v.length-1]==="*"?b[v]=d.parseExtendedValue(_):(_=v==="type"?_.toLowerCase():_,b[v]!=null?Array.isArray(b[v])?b[v].push(_):b[v]=[b[v],_]:b[v]=_)),f[h]){case",":y=1;break;case";":y=4}h++}return b!=null&&(b.rel!=null?this.refs.push(...d.expandRelations(b)):this.refs.push(b)),b=null,this}toString(){for(var f=[],h="",y=null,m=0;m<this.refs.length;m++)y=this.refs[m],h=Object.keys(this.refs[m]).reduce(function(b,v){return v==="uri"?b:b+"; "+d.formatAttribute(v,y[v])},"<"+y.uri+">"),f.push(h);return f.join(", ")}}d.isCompatibleEncoding=function(p){return e.test(p)},d.parse=function(p,f){return new d().parse(p,f)},d.isSingleOccurenceAttr=function(p){return p==="rel"||p==="type"||p==="media"||p==="title"||p==="title*"},d.isTokenAttr=function(p){return p==="rel"||p==="type"||p==="anchor"},d.escapeQuotes=function(p){return p.replace(/"/g,'\\"')},d.expandRelations=function(p){return p.rel.split(" ").map(function(f){var h=Object.assign({},p);return h.rel=f,h})},d.parseExtendedValue=function(p){var f=/([^']+)?(?:'([^']*)')?(.+)/.exec(p);return{language:f[2].toLowerCase(),encoding:d.isCompatibleEncoding(f[1])?null:f[1].toLowerCase(),value:d.isCompatibleEncoding(f[1])?decodeURIComponent(f[3]):f[3]}},d.formatExtendedAttribute=function(p,f){var h=(f.encoding||"utf-8").toUpperCase();return p+"="+h+"'"+(f.language||"en")+"'"+(Buffer.isBuffer(f.value)&&d.isCompatibleEncoding(h)?f.value.toString(h):Buffer.isBuffer(f.value)?f.value.toString("hex").replace(/[0-9a-f]{2}/gi,"%$1"):encodeURIComponent(f.value))},d.formatAttribute=function(p,f){return Array.isArray(f)?f.map(h=>d.formatAttribute(p,h)).join("; "):p[p.length-1]==="*"||typeof f!="string"?d.formatExtendedAttribute(p,f):(d.isTokenAttr(p)?f=l(f)?'"'+d.escapeQuotes(f)+'"':d.escapeQuotes(f):l(f)&&(f='"'+(f=(f=encodeURIComponent(f)).replace(/%20/g," ").replace(/%2C/g,",").replace(/%3B/g,";"))+'"'),p+"="+f)},g.exports=d},2425:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(85821),e)},2437:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BusIndexed=void 0;const c=s(92126);class a extends c.Bus{constructor(i){super(i),this.actorsIndex={}}subscribe(i){const t=this.getActorIdentifiers(i)??["_undefined_"];for(const n of t){let r=this.actorsIndex[n];r||(r=this.actorsIndex[n]=[]),r.push(i),super.subscribe(i)}}unsubscribe(i){const t=this.getActorIdentifiers(i)??["_undefined_"];let n=!1;for(const r of t){const u=this.actorsIndex[r];if(u){const l=u.indexOf(i);l>=0&&u.splice(l,1),u.length===0&&delete this.actorsIndex[r]}n=n||super.unsubscribe(i)}return n}publish(i){const t=this.getActionIdentifier(i);return t?[...this.actorsIndex[t]||[],...this.actorsIndex._undefined_||[]].map(n=>({actor:n,reply:n.test(i)})):super.publish(i)}getActorIdentifiers(i){const t=this.actorIdentifierFields.reduce((n,r)=>n[r],i);if(t)return Array.isArray(t)?t:[t]}getActionIdentifier(i){return this.actionIdentifierFields.reduce((t,n)=>t[n],i)}}e.BusIndexed=a},2479:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(93111),e)},2527:(g,e)=>{function s(o){for(const i of["cardinality"])if(!(i in o))throw new Error(`Invalid metadata: missing ${i} in ${JSON.stringify(o)}`);return o}function c(o){for(const i of["cardinality","variables"])if(!(i in o))throw new Error(`Invalid metadata: missing ${i} in ${JSON.stringify(o)}`);return o}function a(o){let i;return()=>(i||(i=o(),i.then(t=>t.state.addInvalidateListener(()=>{i=void 0})).catch(()=>{})),i)}Object.defineProperty(e,"__esModule",{value:!0}),e.cachifyMetadata=e.validateMetadataBindings=e.validateMetadataQuads=e.getMetadataBindings=e.getMetadataQuads=void 0,e.getMetadataQuads=function(o){return a(()=>new Promise((i,t)=>{o.getProperty("metadata",n=>i(n)),o.on("error",t)}).then(i=>s(i)))},e.getMetadataBindings=function(o){return a(()=>new Promise((i,t)=>{o.getProperty("metadata",n=>i(n)),o.on("error",t)}).then(i=>c(i)))},e.validateMetadataQuads=s,e.validateMetadataBindings=c,e.cachifyMetadata=a},2669:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(91685),e)},2693:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermTriple=void 0;const c=s(77617),a=s(77545),o=s(13252);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.SparqlOperator.TRIPLE],termFunction:!0})}async run(n){return new o.TermFunctionTriple}}e.ActorFunctionFactoryTermTriple=i},2810:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(67444),e)},2922:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BindingsFactory=void 0;const c=s(49568),a=s(16994);class o{constructor(t,n){this.dataFactory=t,this.contextMergeHandlers=n}static async create(t,n,r){return new o(r,(await t.mediate({context:n})).mergeHandlers)}bindings(t=[]){return new a.Bindings(this.dataFactory,(0,c.Map)(t.map(([n,r])=>[n.value,r])),this.contextMergeHandlers?{contextMergeHandlers:this.contextMergeHandlers}:void 0)}fromBindings(t){return this.bindings([...t])}fromRecord(t){return this.bindings(Object.entries(t).map(([n,r])=>[this.dataFactory.variable(n),r]))}}e.BindingsFactory=o},3035:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionIsIri=void 0;const c=s(77617),a=s(77545);class o extends c.TermFunctionBase{constructor(){super({arity:1,operator:a.SparqlOperator.IS_IRI,overloads:(0,a.declare)(a.SparqlOperator.IS_IRI).onTerm1(()=>t=>(0,a.bool)(t.termType==="namedNode")).collect()})}}e.TermFunctionIsIri=o},3038:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.stringQuadToQuad=e.quadToStringQuad=e.stringToTerm=e.getLiteralLanguage=e.getLiteralType=e.getLiteralValue=e.termToString=void 0;const c=new(s(47793)).DataFactory;function a(r){if(r)switch(r.termType){case"NamedNode":case"DefaultGraph":return r.value;case"BlankNode":return"_:"+r.value;case"Literal":const u=r;return'"'+u.value+'"'+(u.datatype&&u.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&u.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?"^^"+u.datatype.value:"")+(u.language?"@"+u.language:"");case"Quad":return`<<${a(r.subject)} ${a(r.predicate)} ${a(r.object)}${r.graph.termType==="DefaultGraph"?"":" "+a(r.graph)}>>`;case"Variable":return"?"+r.value}}function o(r){const u=/^"([^]*)"/.exec(r);if(!u)throw new Error(r+" is not a literal");return u[1]}function i(r){const u=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(r);if(!u)throw new Error(r+" is not a literal");return u[1]||(u[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}function t(r){const u=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(r);if(!u)throw new Error(r+" is not a literal");return u[1]?u[1].toLowerCase():""}function n(r,u){if(u=u||c,!r||!r.length)return u.defaultGraph();switch(r[0]){case"_":return u.blankNode(r.substr(2));case"?":if(!u.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return u.variable(r.substr(1));case'"':const l=t(r),d=u.namedNode(i(r));return u.literal(o(r),l||d);default:if(r[0]==="<"&&r.length>4&&r[1]==="<"&&r[r.length-1]===">"&&r[r.length-2]===">"){const p=r.slice(2,-2).trim();let f=[],h=0,y=0,m=!1;for(let b=0;b<p.length;b++){const v=p[b];if(v==="<"&&h++,v===">"){if(h===0)throw new Error("Found closing tag without opening tag in "+r);h--}if(v==='"'){let _=!1,w=b;for(;w-- >0&&p[w]==="\\";)_=!_;_||(m=!m)}if(v===" "&&!m&&h===0){for(f.push(p.slice(y,b));p[b+1]===" ";)b+=1;y=b+1}}if(h!==0)throw new Error("Found opening tag without closing tag in "+r);if(f.push(p.slice(y,p.length)),f.length!==3&&f.length!==4)throw new Error("Nested quad syntax error "+r);return f=f.map(b=>b.startsWith("<")&&!b.includes(" ")?b.slice(1,-1):b),u.quad(n(f[0]),n(f[1]),n(f[2]),f[3]?n(f[3]):void 0)}return u.namedNode(r)}}e.termToString=a,e.getLiteralValue=o,e.getLiteralType=i,e.getLiteralLanguage=t,e.stringToTerm=n,e.quadToStringQuad=function(r){return{subject:a(r.subject),predicate:a(r.predicate),object:a(r.object),graph:a(r.graph)}},e.stringQuadToQuad=function(r,u){return(u=u||c).quad(n(r.subject,u),n(r.predicate,u),n(r.object,u),n(r.graph,u))}},3062:function(g,e,s){var c=this&&this.__awaiter||function(u,l,d,p){return new(d||(d=Promise))(function(f,h){function y(v){try{b(p.next(v))}catch(_){h(_)}}function m(v){try{b(p.throw(v))}catch(_){h(_)}}function b(v){var _;v.done?f(v.value):(_=v.value,_ instanceof d?_:new d(function(w){w(_)})).then(y,m)}b((p=p.apply(u,l||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.Converter=void 0;const a=s(80425),o=s(70297),i=s(2307),t=s(65183),n=s(97480);class r{constructor(l){(l=l||{}).variableDelimiter=l.variableDelimiter||"_",l.expressionVariableCounter=l.expressionVariableCounter||0,this.util=new n.Util(l),this.initializeNodeHandlers(l)}static registerNodeHandlers(l,d){l.registerNodeHandler(new o.NodeHandlerDocument(l,d)),l.registerNodeHandler(new o.NodeHandlerDefinitionOperation(l,d)),l.registerNodeHandler(new o.NodeHandlerDefinitionFragment(l,d)),l.registerNodeHandler(new o.NodeHandlerSelectionFragmentSpread(l,d)),l.registerNodeHandler(new o.NodeHandlerSelectionInlineFragment(l,d)),l.registerNodeHandler(new o.NodeHandlerSelectionField(l,d))}static registerNodeValueHandlers(l,d){l.registerNodeValueHandler(new o.NodeValueHandlerVariable(l,d)),l.registerNodeValueHandler(new o.NodeValueHandlerInt(l,d)),l.registerNodeValueHandler(new o.NodeValueHandlerFloat(l,d)),l.registerNodeValueHandler(new o.NodeValueHandlerString(l,d)),l.registerNodeValueHandler(new o.NodeValueHandlerBoolean(l,d)),l.registerNodeValueHandler(new o.NodeValueHandlerNull(l,d)),l.registerNodeValueHandler(new o.NodeValueHandlerEnum(l,d)),l.registerNodeValueHandler(new o.NodeValueHandlerList(l,d)),l.registerNodeValueHandler(new o.NodeValueHandlerObject(l,d))}static registerDirectiveNodeHandlers(l,d){l.registerDirectiveNodeHandler(new i.DirectiveNodeHandlerInclude(l,d)),l.registerDirectiveNodeHandler(new i.DirectiveNodeHandlerOptional(l,d)),l.registerDirectiveNodeHandler(new i.DirectiveNodeHandlerPlural(l,d)),l.registerDirectiveNodeHandler(new i.DirectiveNodeHandlerSingle(l,d)),l.registerDirectiveNodeHandler(new i.DirectiveNodeHandlerSkip(l,d))}graphqlToSparqlAlgebra(l,d,p){return c(this,void 0,void 0,function*(){return this.graphqlToSparqlAlgebraRawContext(l,yield this.util.contextParser.parse(d),p)})}graphqlToSparqlAlgebraRawContext(l,d,p){p=p||{};const f=typeof l=="string"?(0,a.parse)(l):l,h={context:d,fragmentDefinitions:this.indexFragments(f),graph:this.util.dataFactory.defaultGraph(),path:[],singularizeState:t.SingularizeState.PLURAL,singularizeVariables:p.singularizeVariables||{},subject:null,terminalVariables:[],variablesDict:p.variablesDict||{},variablesMetaDict:{}};return this.util.handleNode(f,h)}indexFragments(l){const d={},p=[];for(const f of l.definitions)f.kind==="FragmentDefinition"?d[f.name.value]=f:p.push(f);return l.definitions=p,d}initializeNodeHandlers(l){r.registerNodeHandlers(this.util,l),r.registerNodeValueHandlers(this.util,l),r.registerDirectiveNodeHandlers(this.util,l)}}e.Converter=r},3129:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermFloor=void 0;const c=s(77617),a=s(77545),o=s(57834);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.SparqlOperator.FLOOR],termFunction:!0})}async run(n){return new o.TermFunctionFloor}}e.ActorFunctionFactoryTermFloor=i},3170:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},3251:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorInit=void 0;const c=s(90412);class a extends c.Actor{constructor(i){super(i)}}e.ActorInit=a},3285:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(64232),e),a(s(70071),e)},3401:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.termToString=e.stringToTerm=e.stringQuadToQuad=e.quadToStringQuad=e.getLiteralValue=e.getLiteralType=e.getLiteralLanguage=void 0;const c=s(27051);Object.defineProperty(e,"getLiteralLanguage",{enumerable:!0,get:function(){return c.getLiteralLanguage}}),Object.defineProperty(e,"getLiteralType",{enumerable:!0,get:function(){return c.getLiteralType}}),Object.defineProperty(e,"getLiteralValue",{enumerable:!0,get:function(){return c.getLiteralValue}}),Object.defineProperty(e,"quadToStringQuad",{enumerable:!0,get:function(){return c.quadToStringQuad}}),Object.defineProperty(e,"stringQuadToQuad",{enumerable:!0,get:function(){return c.stringQuadToQuad}}),Object.defineProperty(e,"stringToTerm",{enumerable:!0,get:function(){return c.stringToTerm}}),Object.defineProperty(e,"termToString",{enumerable:!0,get:function(){return c.termToString}})},3595:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(36750),e)},3698:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(G,U,W,ye){ye===void 0&&(ye=W);var ve=Object.getOwnPropertyDescriptor(U,W);ve&&!("get"in ve?!U.__esModule:ve.writable||ve.configurable)||(ve={enumerable:!0,get:function(){return U[W]}}),Object.defineProperty(G,ye,ve)}:function(G,U,W,ye){ye===void 0&&(ye=W),G[ye]=U[W]}),a=this&&this.__setModuleDefault||(Object.create?function(G,U){Object.defineProperty(G,"default",{enumerable:!0,value:U})}:function(G,U){G.default=U}),o=this&&this.__importStar||function(G){if(G&&G.__esModule)return G;var U={};if(G!=null)for(var W in G)W!=="default"&&Object.prototype.hasOwnProperty.call(G,W)&&c(U,G,W);return a(U,G),U},i=this&&this.__importDefault||function(G){return G&&G.__esModule?G:{default:G}};Object.defineProperty(e,"__esModule",{value:!0}),e.toSparqlJs=e.toSparql=void 0;const t=s(62699),n=s(34069),r=s(98082),u=o(s(13079)),l=i(s(91409)),d=i(s(64995)),p=u.types,f=u.expressionTypes;let h;const y=new l.default;function m(G){b();let U=v(G=function(W){return $(W,[])}(G));return U.type==="group"?U.patterns[0]:U}function b(){h={project:!1,extend:[],group:[],aggregates:[],order:[]}}function v(G){switch(G.type!==p.EXTEND&&G.type!==p.ORDER_BY&&G.type!==p.GRAPH&&(h.project=!1),G.type){case p.EXPRESSION:return _(G);case p.ASK:return D(G,p.ASK);case p.BGP:return function(U){let W=U.patterns.map(S);return W.length===0?null:{type:"bgp",triples:W}}(G);case p.CONSTRUCT:return function(U){return{type:"query",prefixes:{},queryType:"CONSTRUCT",template:U.template.map(S),where:d.default.flatten([v(U.input)])}}(G);case p.DESCRIBE:return D(G,p.DESCRIBE);case p.DISTINCT:return function(U){let W=v(U.input);return W.patterns[0].distinct=!0,W}(G);case p.EXTEND:return function(U){return h.project?(h.extend.push(U),v(U.input)):d.default.flatten([v(U.input),{type:"bind",variable:U.variable,expression:_(U.expression)}])}(G);case p.FROM:return function(U){const W=v(U.input);let ye=W;return W.type==="group"&&(ye=W.patterns[0]),ye.from={default:U.default,named:U.named},W}(G);case p.FILTER:return function(U){return{type:"group",patterns:d.default.flatten([v(U.input),{type:"filter",expression:_(U.expression)}])}}(G);case p.GRAPH:return function(U){return{type:"graph",patterns:d.default.flatten([v(U.input)]),name:U.name}}(G);case p.GROUP:return function(U){const W=v(U.input),ye=U.aggregates.map(T);return h.aggregates.push(...ye),h.group.push(...U.variables),W}(G);case p.JOIN:return function(U){return d.default.flatten(U.input.map(v)).reduce((W,ye)=>(ye.type!=="bgp"||W.length==0||W[W.length-1].type!=="bgp"?W.push(ye):W[W.length-1].triples.push(...ye.triples),W),[])}(G);case p.LEFT_JOIN:return function(U){const W={type:"optional",patterns:[v(U.input[1])]};return U.expression&&W.patterns.push({type:"filter",expression:_(U.expression)}),W.patterns=d.default.flatten(W.patterns),d.default.flatten([v(U.input[0]),W])}(G);case p.MINUS:return function(U){let W=v(U.input[1]);return W.type==="group"&&(W=W.patterns),Array.isArray(W)||(W=[W]),d.default.flatten([v(U.input[0]),{type:"minus",patterns:W}])}(G);case p.NOP:return{};case p.ORDER_BY:return function(U){return h.order.push(...U.expressions),v(U.input)}(G);case p.PATH:return function(U){return{type:"bgp",triples:[{subject:U.subject,predicate:w(U.predicate),object:U.object}]}}(G);case p.PATTERN:return S(G);case p.PROJECT:return D(G,p.PROJECT);case p.REDUCED:return function(U){let W=v(U.input);return W.patterns[0].reduced=!0,W}(G);case p.SERVICE:return function(U){let W=v(U.input);return W.type==="group"&&(W=W.patterns),Array.isArray(W)||(W=[W]),{type:"service",name:U.name,silent:U.silent,patterns:W}}(G);case p.SLICE:return function(U){let W=v(U.input),ye=W;return W.type&&W.type==="group"&&(ye=W.patterns[0]),U.start!==0&&(ye.offset=U.start),U.length!==void 0&&(ye.limit=U.length),W}(G);case p.UNION:return function(U){return{type:"union",patterns:U.input.map(v).map(A)}}(G);case p.VALUES:return function(U){return{type:"values",values:U.bindings.map(W=>{let ye={};for(let ve of U.variables){let he=`?${ve.value}`;W[he]?ye[he]=W[he]:ye[he]=void 0}return ye})}}(G);case p.COMPOSITE_UPDATE:return function(U){return{prefixes:{},type:"update",updates:U.updates.map(W=>v(W).updates[0])}}(G);case p.DELETE_INSERT:return function(U){var W;let ye,ve=U.where;if(ve&&ve.type===p.FROM){let q=ve;ve=q.input,ye={default:q.default,named:q.named}}const he=[{updateType:"insertdelete",delete:B(U.delete||[]),insert:B(U.insert||[])}];if(ye&&(he[0].using=ye),!ve||ve.type===p.BGP&&ve.patterns.length===0)he[0].where=[];else{const q=[];let L=v($(ve,q));if(L.type==="group"?he[0].where=L.patterns:he[0].where=[L],q.length>0){if(q.length!==1)throw new Error("This is unexpected and might indicate an error in graph handling for updates.");((W=q[0])===null||W===void 0?void 0:W.value)!==""&&(he[0].where=[{type:"graph",patterns:he[0].where,name:q[0]}])}}return U.delete||U.where?U.insert||U.where?!U.insert&&U.where&&U.where.type==="bgp"&&(0,t.isomorphic)(U.delete,U.where.patterns)&&(delete he[0].where,he[0].updateType="deletewhere"):(delete he[0].insert,delete he[0].where,U.delete.some(q=>q.subject.termType==="Variable"||q.predicate.termType==="Variable"||q.object.termType==="Variable")?he[0].updateType="deletewhere":he[0].updateType="delete"):(he[0].updateType="insert",delete he[0].delete,delete he[0].where),{prefixes:{},type:"update",updates:he}}(G);case p.LOAD:return function(U){const W=[{type:"load",silent:!!U.silent,source:U.source}];return U.destination&&(W[0].destination=U.destination),{prefixes:{},type:"update",updates:W}}(G);case p.CLEAR:return function(U){return V(U,"clear")}(G);case p.CREATE:return function(U){return V(U,"create")}(G);case p.DROP:return function(U){return V(U,"drop")}(G);case p.ADD:return function(U){return K(U,"add")}(G);case p.MOVE:return function(U){return K(U,"move")}(G);case p.COPY:return function(U){return K(U,"copy")}(G)}throw new Error(`Unknown Operation type ${G.type}`)}function _(G){switch(G.expressionType){case f.AGGREGATE:return function(U){const W={expression:_(U.expression),type:"aggregate",aggregation:U.aggregator,distinct:U.distinct};return U.separator&&(W.separator=U.separator),W}(G);case f.EXISTENCE:return function(U){return{type:"operation",operator:U.not?"notexists":"exists",args:[{type:"group",patterns:d.default.flatten([v(U.input)])}]}}(G);case f.NAMED:return function(U){return{type:"functionCall",function:U.name,args:U.args.map(_)}}(G);case f.OPERATOR:return function(U){if(U.operator==="desc")return{expression:_(U.args[0]),descending:!0};const W={type:"operation",operator:U.operator,args:U.args.map(_)};return W.operator!=="in"&&W.operator!=="notin"||(W.args=[W.args[0]].concat([W.args.slice(1)])),W}(G);case f.TERM:return function(U){return U.term}(G);case f.WILDCARD:return function(U){return U.wildcard}(G)}throw new Error(`Unknown Expression Operation type ${G.expressionType}`)}function w(G){switch(G.type){case p.ALT:return function(U){const W=U.input.map(w);return W.every(ye=>"pathType"in ye&&ye.pathType==="!")?{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:d.default.flatten(W.map(ye=>ye.items))}]}:{type:"path",pathType:"|",items:W}}(G);case p.INV:return function(U){if(U.path.type===p.NPS){const W=U.path.iris.map(ye=>({type:"path",pathType:"^",items:[ye]}));return W.length<=1?{type:"path",pathType:"!",items:W}:{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:W}]}}return{type:"path",pathType:"^",items:[w(U.path)]}}(G);case p.LINK:return function(U){return U.iri}(G);case p.NPS:return function(U){return U.iris.length<=1?{type:"path",pathType:"!",items:U.iris}:{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:U.iris}]}}(G);case p.ONE_OR_MORE_PATH:return function(U){return{type:"path",pathType:"+",items:[w(U.path)]}}(G);case p.SEQ:return function(U){return{type:"path",pathType:"/",items:U.input.map(w)}}(G);case p.ZERO_OR_MORE_PATH:return function(U){return{type:"path",pathType:"*",items:[w(U.path)]}}(G);case p.ZERO_OR_ONE_PATH:return function(U){return{type:"path",pathType:"?",items:[w(U.path)]}}(G)}throw new Error(`Unknown Path type ${G.type}`)}function O(G){return(0,n.termToString)(G)}function A(G){return Array.isArray(G)?G.length===1?G[0]:{type:"group",patterns:G}:G}function T(G){return G}function S(G){return{subject:G.subject,predicate:G.predicate,object:G.object}}function E(G,U){let W=d.default.isSimpleTerm(G)?O(G):G;if(typeof W=="string"){if(U[W])return U[W]}else if(Array.isArray(G))G=G.map(ye=>E(ye,U));else for(let ye of Object.keys(G))G[ye]=E(G[ye],U);return G}function D(G,U){const W={type:"query",prefixes:{}},ye=W;let ve;U===p.PROJECT?(W.queryType="SELECT",ve=G.variables):U===p.ASK?W.queryType="ASK":U===p.DESCRIBE&&(W.queryType="DESCRIBE",ve=G.terms);const he=h.extend,q=h.group,L=h.aggregates,R=h.order;b(),h.project=!0;let k=d.default.flatten([v(G.input)]);k.length===1&&k[0].type==="group"&&(k=k[0].patterns),W.where=k;let X={};for(let me of h.aggregates)X[O(me.variable)]=_(me);let oe={};for(let me=h.extend.length-1;me>=0;--me){let de=h.extend[me];oe[O(de.variable)]=E(_(de.expression),X)}h.group.length>0&&(ye.group=h.group.map(me=>{let de=O(me);if(oe[de]){let xe=oe[de];return delete oe[de],{variable:me,expression:xe}}return{expression:me}})),h.order.length>0&&(ye.order=h.order.map(v).map(me=>me.descending?me:{expression:me})),ve&&(ye.variables=ve.map(me=>{let de=O(me);if(oe[de]){let xe=oe[de];return delete oe[de],{variable:me,expression:xe}}return me}),ye.variables.length===0&&(ye.variables=[new r.Wildcard]));const ee=Object.entries(oe);if(ee.length>0){ye.where=ye.where||[];for(const[me,de]of ee)ye.where.push({type:"bind",variable:(0,n.stringToTerm)(me),expression:de})}if(W.where.length>0&&W.where[W.where.length-1].type==="filter"){const me=W.where[W.where.length-1];I(me,Object.keys(X))&&(ye.having=d.default.flatten([E(me.expression,X)]),W.where.splice(-1))}return h.extend=he,h.group=q,h.aggregates=L,h.order=R,{type:"group",patterns:[ye]}}function I(G,U){return d.default.isSimpleTerm(G)?U.indexOf(O(G))>=0:Array.isArray(G)?G.some(W=>I(W,U)):G===Object(G)?Object.keys(G).some(W=>I(G[W],U)):U.indexOf(G)>=0}function V(G,U){const W=[{type:U,silent:!!G.silent}];return G.source==="DEFAULT"?W[0].graph={default:!0}:G.source==="NAMED"?W[0].graph={named:!0}:G.source==="ALL"?W[0].graph={all:!0}:W[0].graph={type:"graph",name:G.source},{prefixes:{},type:"update",updates:W}}function K(G,U){const W=[{type:U,silent:!!G.silent}];return W[0].source=G.source==="DEFAULT"?{type:"graph",default:!0}:{type:"graph",name:G.source},W[0].destination=G.destination==="DEFAULT"?{type:"graph",default:!0}:{type:"graph",name:G.destination},{prefixes:{},type:"update",updates:W}}function B(G){if(!G)return[];const U={};return G.forEach(W=>{const ye=W.graph.value;U[ye]||(U[ye]=[]),U[ye].push(W)}),Object.keys(U).map(W=>W===""?{type:"bgp",triples:U[W].map(S)}:{type:"graph",triples:U[W].map(S),name:U[W][0].graph})}function $(G,U){if(Array.isArray(G))return G.map(q=>$(q,U));if(!G.type||G.type===p.DELETE_INSERT)return G;if((G.type===p.PATTERN||G.type===p.PATH)&&G.graph)return U.push(G.graph),G.graph.name!==""?G.type===p.PATTERN?y.createPattern(G.subject,G.predicate,G.object):y.createPath(G.subject,G.predicate,G.object):G;const W={},ye={},ve={};for(let q of Object.keys(G)){const L=[];if(W[q]=$(G[q],L),L.length>0){ye[q]=L;for(const R of L)ve[R.value]=R}}const he=Object.keys(ve);if(he.length>0)if(he.length!==1||[p.PROJECT,p.SERVICE].includes(G.type)){if(G.type===p.BGP)return function(q,L){var R;const k={};for(let ee=0;ee<q.patterns.length;++ee){const me=q.patterns[ee],de=L[ee].value;k[de]=(R=k[de])!==null&&R!==void 0?R:{patterns:[],graph:L[ee]},k[de].patterns.push(me)}let X=[];for(const[ee,{patterns:me,graph:de}]of Object.entries(k)){const xe=y.createBgp(me);X.push(ee===""?xe:y.createGraph(xe,de))}let oe=X[0];for(let ee=1;ee<X.length;++ee)oe=y.createJoin([oe,X[ee]]);return oe}(G,ye.patterns);for(let q of Object.keys(ye)){const L=W[q];Array.isArray(L)?W[q]=L.map((R,k)=>ye[q][0].value===""?R:y.createGraph(R,ye[q][k])):ye[q][0].value!==""&&(W[q]=y.createGraph(L,ye[q][0]))}}else U.push(ve[he[0]]);return W}e.toSparql=function(G,U={}){return new r.Generator(U).stringify(m(G))},e.toSparqlJs=m},3742:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionUuid=void 0;const c=s(77617),a=s(77545),o=s(40182);class i extends c.TermFunctionBase{constructor(){super({arity:0,operator:a.SparqlOperator.UUID,overloads:(0,a.declare)(a.SparqlOperator.UUID).set([],()=>()=>new a.NamedNode(`urn:uuid:${o.v4()}`)).collect()})}}e.TermFunctionUuid=i},3863:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionStrStarts=void 0;const c=s(77617),a=s(77545);class o extends c.TermFunctionBase{constructor(){super({arity:2,operator:a.SparqlOperator.STRSTARTS,overloads:(0,a.declare)(a.SparqlOperator.STRSTARTS).onBinaryTyped([a.TypeAlias.SPARQL_STRINGLY,a.TypeURL.XSD_STRING],()=>(t,n)=>(0,a.bool)(t.startsWith(n))).onBinary([a.TypeURL.RDF_LANG_STRING,a.TypeURL.RDF_LANG_STRING],()=>(t,n)=>{if(t.language!==n.language)throw new a.IncompatibleLanguageOperation(t,n);return(0,a.bool)(t.typedValue.startsWith(n.typedValue))}).collect()})}}e.TermFunctionStrStarts=o},3898:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.QuerySourceSkolemized=void 0;const c=s(90711),a=s(99214),o=s(75627),i=s(28703);e.QuerySourceSkolemized=class{constructor(t,n){this.innerSource=t,this.sourceId=n}async getSelectorShape(t){return this.innerSource.getSelectorShape(t)}queryBindings(t,n,r){const u=n.getSafe(c.KeysInitQuery.dataFactory),l=(0,i.deskolemizeOperation)(u,t,this.sourceId);if(!l){const d=new o.ArrayIterator([],{autoStart:!1});return d.setProperty("metadata",{state:new a.MetadataValidationState,cardinality:{type:"exact",value:0},variables:[]}),d}return(0,i.skolemizeBindingsStream)(u,this.innerSource.queryBindings(l,n,r),this.sourceId)}queryBoolean(t,n){return this.innerSource.queryBoolean(t,n)}queryQuads(t,n){const r=n.getSafe(c.KeysInitQuery.dataFactory),u=(0,i.deskolemizeOperation)(r,t,this.sourceId);if(!u){const l=new o.ArrayIterator([],{autoStart:!1});return l.setProperty("metadata",{state:new a.MetadataValidationState,cardinality:{type:"exact",value:0}}),l}return(0,i.skolemizeQuadStream)(r,this.innerSource.queryQuads(u,n),this.sourceId)}queryVoid(t,n){return this.innerSource.queryVoid(t,n)}get referenceValue(){return this.innerSource.referenceValue}toString(){return`${this.innerSource.toString()}(SkolemID:${this.sourceId})`}}},4047:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(19480),e)},4136:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermIsIri=void 0;const c=s(77617),a=s(77545),o=s(3035);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.SparqlOperator.IS_IRI,a.SparqlOperator.IS_URI],termFunction:!0})}async run(n){return new o.TermFunctionIsIri}}e.ActorFunctionFactoryTermIsIri=i},4147:(g,e,s)=>{const{SymbolDispose:c}=s(24134),{AbortError:a,codes:o}=s(76371),{isNodeStream:i,isWebStream:t,kControllerErrorFunction:n}=s(16115),r=s(86238),{ERR_INVALID_ARG_TYPE:u}=o;let l;g.exports.addAbortSignal=function(d,p){if((f=>{if(typeof f!="object"||!("aborted"in f))throw new u("signal","AbortSignal",f)})(d),!i(p)&&!t(p))throw new u("stream",["ReadableStream","WritableStream","Stream"],p);return g.exports.addAbortSignalNoValidate(d,p)},g.exports.addAbortSignalNoValidate=function(d,p){if(typeof d!="object"||!("aborted"in d))return p;const f=i(p)?()=>{p.destroy(new a(void 0,{cause:d.reason}))}:()=>{p[n](new a(void 0,{cause:d.reason}))};if(d.aborted)f();else{l=l||s(57760).addAbortListener;const h=l(d,f);r(p,h[c])}return p}},4391:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(55009),e),a(s(22910),e),a(s(67057),e),a(s(968),e),a(s(1463),e),a(s(57044),e),a(s(13381),e),a(s(89339),e),a(s(86085),e),a(s(62784),e)},4405:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ContextTree=void 0;class s{constructor(){this.subTrees={}}getContext(a){if(a.length>0){const[o,...i]=a,t=this.subTrees[o];if(t){const n=t.getContext(i);if(n)return n.then(({context:r,depth:u})=>({context:r,depth:u+1}))}}return this.context?this.context.then(o=>({context:o,depth:0})):null}setContext(a,o){if(a.length===0)this.context=o;else{const[i,...t]=a;let n=this.subTrees[i];n||(n=this.subTrees[i]=new s),n.setContext(t,o)}}removeContext(a){this.setContext(a,null)}}e.ContextTree=s},4450:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BlankNodeScoped=void 0,e.BlankNodeScoped=class{constructor(s,c){this.termType="BlankNode",this.value=s,this.skolemized=c}equals(s){return!!s&&s.termType==="BlankNode"&&s.value===this.value}}},4475:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(26615),e)},4518:(g,e,s)=>{let c=s(75627).AsyncIterator;g.exports=class extends c{constructor(a,o,i,t){super(),this.addedDataListener=!1,this.left=a,this.right=o,this.funHash=i,this.funJoin=t,this.leftMap=new Map,this.match=null,this.matches=[],this.matchIdx=0,this.left.on("error",n=>this.destroy(n)),this.right.on("error",n=>this.destroy(n)),this.readable=!1,this.left.on("end",(function(){this.readable=!0,this.right.on("readable",()=>this.readable=!0),this.right.on("end",()=>{this.hasResults()||this._end()})}).bind(this)),this.on("newListener",n=>{n==="data"&&this._addDataListenerIfNeeded()}),this.left.readable&&this._addDataListenerIfNeeded(),this.left.on("readable",()=>this._addDataListenerIfNeeded())}hasResults(){return!this.right.ended||this.matchIdx<this.matches.length}_end(){super._end(),this.left.destroy(),this.right.destroy()}read(){for(this._addDataListenerIfNeeded();;){if(this.ended||!this.readable)return null;for(;this.matchIdx<this.matches.length;){let o=this.matches[this.matchIdx++],i=this.funJoin(o,this.match);if(i!==null)return i}if(this.hasResults()||this._end(),this.match=this.right.read(),this.match===null)return this.readable=!1,null;let a=this.funHash(this.match);this.matches=this.leftMap.get(a)||[],this.matchIdx=0}}_addDataListenerIfNeeded(){this.addedDataListener||(this.addedDataListener=!0,this._addDataListener())}_addDataListener(){this.left.on("data",(function(a){let o=this.funHash(a),i=this.leftMap.get(o);i||(i=[],this.leftMap.set(o,i)),i.push(a)}).bind(this))}}},4519:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BindingsIndexDef=void 0,e.BindingsIndexDef=class{constructor(s,c){this.keys=s.map(a=>a.variable),this.hashFn=c,this.index={}}put(s,c){return this.index[this.hashFn(s,this.keys)]=c}get(s){const c=this.getFirst(s);return c?[c]:[]}getFirst(s){return this.index[this.hashFn(s,this.keys)]}values(){return Object.values(this.index)}}},4523:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(81093),e)},4535:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(9875),e)},4669:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(914),e)},4809:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(77571),e),a(s(40274),e),a(s(54236),e),a(s(44858),e)},4898:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(1209),e)},4945:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfJoinSelectivity=void 0;const c=s(90412);class a extends c.Actor{constructor(i){super(i)}}e.ActorRdfJoinSelectivity=a},4996:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorHttpInvalidate=void 0;const c=s(90412);class a extends c.Actor{constructor(i){super(i)}}e.ActorHttpInvalidate=a},5008:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryOperationDrop=void 0;const c=s(66490),a=s(90711),o=s(67021);class i extends c.ActorQueryOperationTypedMediated{constructor(n){super(n,"drop")}async testOperation(n,r){return(0,o.testReadOnly)(r)}async runOperation(n,r){const u=r.getSafe(a.KeysInitQuery.dataFactory);let l;l=n.source==="DEFAULT"?u.defaultGraph():typeof n.source=="string"?n.source:[n.source];const{execute:d}=await this.mediatorUpdateQuads.mediate({deleteGraphs:{graphs:l,requireExistence:!n.silent,dropGraphs:!0},context:r});return{type:"void",execute:d}}}e.ActorQueryOperationDrop=i},5118:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(79646),e)},5148:g=>{var e=function(){var s=function(De,Ue,$e,Ge){for($e=$e||{},Ge=De.length;Ge--;$e[De[Ge]]=Ue);return $e},c=[7,12,13,14,15,16,20,25,115,130],a=[7,13,16,20,25,115,130],o=[7,13,16,115,130],i=[1,25],t=[1,29],n=[1,27],r=[1,28],u=[13,16,115,130],l=[13,16,28,38,40,42,44,46,48,53,56,61,67,85,87,92,93,95,96,102,110,111,115,119,120,126,128,129,130,131,132,133,134,135,136],d=[28,56],p=[1,42],f=[46,48,53,56],h=[1,54],y=[1,60],m=[1,56],b=[1,57],v=[1,58],_=[1,63],w=[1,64],O=[1,65],A=[1,66],T=[1,67],S=[1,68],E=[1,75],D=[28,46,48,53,56],I=[28,42,46,48,53,56],V=[13,16,28,38,40,42,44,46,48,53,56,92,115,119,120,130,131,132,133,134,135,136],K=[13,16,28,38,40,42,44,46,48,53,56,67,85,87,92,95,96,115,119,120,126,128,129,130,131,132,133,134,135,136],B=[13,16,38,40,44,92,115,119,120,130,131,132,133,134,135,136],$=[13,16,28,38,40,42,44,46,48,53,56,67,85,87,92,95,96,115,117,118,119,120,126,128,129,130,131,132,133,134,135,136],G=[13,16,28,56,115,130],U=[13,16,38,58,87,96,109,115,126,130],W=[1,116],ye=[1,112],ve=[1,108],he=[1,114],q=[1,111],L=[7,13,16,20,25,44,48,53,56,67,85,87,95,96,115,128,129,130],R=[48,53],k=[48,53,87,96,126],X=[13,16,44,48,53,56,85,87,95,96,115,128,129,130],oe=[1,126],ee=[13,16,40,44,48,53,56,85,87,95,96,115,128,129,130],me=[1,129],de=[48,53,67,87,96,126],xe=[13,16,40,44,48,53,56,67,85,87,95,96,115,128,129,130],ne=[1,133],be=[13,16,40,44,48,53,56,67,85,87,95,96,102,115,128,129,130],ie=[13,16,40,44,48,53,56,67,85,87,93,95,96,102,110,111,115,128,129,130],ge=[1,151],Ee=[1,153],M=[1,156],P=[1,157],C=[1,158],z=[1,167],te=[1,175],re=[13,16,44,48,53,56,67,85,87,95,96,115,128,129,130],le=[13,16,44,48,53,56,67,85,87,95,96,115,126,128,129,130],_e=[13,16,46,92,115,119,120,130,131,132,133,134,135,136],we={trace:function(){},yy:{},symbols_:{error:2,shaclDoc:3,shaclDoc_repetition0:4,shaclDoc_repetition1:5,ttlSection:6,EOF:7,directive:8,baseDecl:9,importsDecl:10,prefixDecl:11,KW_BASE:12,IRIREF:13,KW_IMPORTS:14,KW_PREFIX:15,PNAME_NS:16,nodeShapeIri:17,iri:18,nodeShape:19,KW_SHAPE:20,nodeShape_option0:21,nodeShape_option1:22,nodeShapeBody:23,shapeClass:24,KW_SHAPE_CLASS:25,shapeClass_option0:26,turtleAnnotation:27,";":28,turtleAnnotation2:29,predicate:30,turtleAnnotation2_option0:31,objectList:32,object:33,objectList_repetition0:34,iriOrLiteral:35,blankNodeSection:36,list:37,"(":38,list_repetition0:39,")":40,objectTail:41,",":42,LB:43,"[":44,RB:45,"]":46,LP:47,"%":48,RP:49,pcSection:50,iriHead:51,ttlStatement:52,".":53,ttlSection_repetition0:54,startNodeShape:55,"{":56,endNodeShape:57,"}":58,nodeShapeBody_repetition0:59,targetClass:60,"->":61,targetClass_repetition_plus0:62,constraint:63,constraint_group0:64,constraint_option0:65,orNotComponent:66,"|":67,nodeNot:68,nodeOrEmit:69,nodeOr:70,nodeOr_repetition_plus0:71,nodeValue:72,negation:73,nodeValue_group0:74,"=":75,iriOrLiteralOrArray:76,propertyShape:77,path:78,propertyShape_repetition0:79,propertyOrComponent:80,propertyNot:81,propertyOr:82,propertyOr_repetition_plus0:83,propertyAtom:84,NODEKIND:85,shapeRef:86,PARAM:87,propertyCount:88,propertyMinCount:89,"..":90,propertyMaxCount:91,INTEGER:92,"*":93,shapeRef_group0:94,"@":95,"!":96,pathAlternative:97,additionalAlternative:98,pathSequence:99,pathAlternative_repetition_plus0:100,additionalSequence:101,"/":102,pathEltOrInverse:103,pathSequence_repetition_plus0:104,pathElt:105,pathPrimary:106,pathMod:107,pathInverse:108,"^":109,"?":110,"+":111,iriOrLiteralOrArray_repetition0:112,literal:113,iri_group0:114,a:115,string:116,LANGTAG:117,"^^":118,DECIMAL:119,DOUBLE:120,literal_group0:121,string_group0:122,string_group1:123,shaclDoc_repetition1_group0:124,constraint_group0_repetition_plus0:125,TARGET:126,propertyShape_repetition0_group0:127,ATPNAME_LN:128,ATPNAME_NS:129,PNAME_LN:130,KW_TRUE:131,KW_FALSE:132,STRING_LITERAL1:133,STRING_LITERAL2:134,STRING_LITERAL_LONG1:135,STRING_LITERAL_LONG2:136,$accept:0,$end:1},terminals_:{2:"error",7:"EOF",12:"KW_BASE",13:"IRIREF",14:"KW_IMPORTS",15:"KW_PREFIX",16:"PNAME_NS",20:"KW_SHAPE",25:"KW_SHAPE_CLASS",28:";",38:"(",40:")",42:",",44:"[",46:"]",48:"%",53:".",56:"{",58:"}",61:"->",67:"|",75:"=",85:"NODEKIND",87:"PARAM",90:"..",92:"INTEGER",93:"*",95:"@",96:"!",102:"/",109:"^",110:"?",111:"+",115:"a",117:"LANGTAG",118:"^^",119:"DECIMAL",120:"DOUBLE",126:"TARGET",128:"ATPNAME_LN",129:"ATPNAME_NS",130:"PNAME_LN",131:"KW_TRUE",132:"KW_FALSE",133:"STRING_LITERAL1",134:"STRING_LITERAL2",135:"STRING_LITERAL_LONG1",136:"STRING_LITERAL_LONG2"},productions_:[0,[3,4],[8,1],[8,1],[8,1],[9,2],[10,2],[11,3],[17,1],[19,5],[24,4],[27,2],[29,2],[30,2],[32,2],[33,1],[33,1],[33,1],[37,3],[41,2],[43,1],[45,1],[36,3],[47,1],[49,1],[50,3],[51,1],[52,3],[6,1],[55,1],[57,1],[23,3],[60,2],[63,3],[66,2],[69,1],[70,1],[70,2],[68,1],[68,2],[72,3],[77,2],[80,2],[82,1],[82,2],[81,1],[81,2],[84,1],[84,1],[84,1],[84,3],[84,1],[88,5],[89,1],[91,1],[91,1],[86,1],[86,2],[73,1],[78,1],[98,2],[97,1],[97,2],[101,2],[99,1],[99,2],[105,1],[105,2],[103,1],[103,2],[108,1],[107,1],[107,1],[107,1],[106,1],[106,3],[76,1],[76,3],[35,1],[35,1],[18,1],[18,1],[18,1],[113,1],[113,2],[113,3],[113,1],[113,1],[113,1],[113,1],[116,1],[116,1],[4,0],[4,2],[124,1],[124,1],[5,0],[5,2],[21,0],[21,1],[22,0],[22,1],[26,0],[26,1],[31,0],[31,1],[34,0],[34,2],[39,0],[39,2],[54,0],[54,2],[59,0],[59,2],[62,1],[62,2],[125,1],[125,2],[64,1],[64,1],[65,0],[65,1],[71,1],[71,2],[74,1],[74,1],[127,1],[127,1],[79,0],[79,2],[83,1],[83,2],[94,1],[94,1],[100,1],[100,2],[104,1],[104,2],[112,0],[112,2],[114,1],[114,1],[121,1],[121,1],[122,1],[122,1],[123,1],[123,1]],performAction:function(De,Ue,$e,Ge,Je,Ve,Ze){var st,ot,Ye=Ve.length-1;switch(Je){case 1:this.$=J(Oe.factory.namedNode(ht("")),Oe.factory.namedNode(Pe),Oe.factory.namedNode(Ke+"Ontology"));break;case 5:Oe.base=Oe.factory.namedNode(Ve[Ye].slice(1,-1)),Oe.n3Parser._setBase(ht(Oe.base.value));break;case 6:this.$=J(Oe.base,Oe.factory.namedNode(Ke+"imports"),Oe.factory.namedNode(Ve[Ye].slice(1,-1)));break;case 7:this.$=Oe.prefixes[Ve[Ye-1].substr(0,Ve[Ye-1].length-1)]=ht(Ve[Ye]);break;case 8:Oe.nodeShapeStack=!1,J(Oe.currentNodeShape=Ve[Ye],Oe.factory.namedNode(Pe),Oe.factory.namedNode(Te+"NodeShape"));break;case 10:this.$=J(Oe.currentNodeShape,Oe.factory.namedNode(Pe),Oe.factory.namedNode(it+"Class"));break;case 11:this.$=Re();break;case 13:this.$=Ve[Ye].forEach(pt=>J(Oe.currentNodeShape,Ve[Ye-1],pt));break;case 14:this.$=[Ve[Ye-1],...Ve[Ye]];break;case 18:this.$=tt(Ve[Ye-1],!0);break;case 19:case 34:case 42:case 60:case 63:this.$=Ve[Ye];break;case 20:Oe.tempCurrentNodeShape=Oe.currentNodeShape,this.$=Oe.currentNodeShape=Ne();break;case 21:case 24:Oe.currentNodeShape=Oe.tempCurrentNodeShape;break;case 22:case 31:this.$=Ve[Ye-2];break;case 23:Oe.tempCurrentNodeShape=Oe.currentNodeShape,Oe.currentNodeShape=Oe.currentPropertyNode;break;case 26:Oe.currentNodeShape=Ve[Ye];break;case 29:Oe.nodeShapeStack?(Oe.nodeShapeStack.push(Oe.currentNodeShape),J(Oe.currentPropertyNode,Oe.factory.namedNode(Te+"node"),Oe.currentNodeShape=Ne())):Oe.nodeShapeStack=[],this.$=Oe.currentNodeShape;break;case 30:Oe.nodeShapeStack.length>0&&(Oe.currentNodeShape=Oe.nodeShapeStack.pop());break;case 32:this.$=Ve[Ye].forEach(pt=>{J(Oe.currentNodeShape,Oe.factory.namedNode(Te+"targetClass"),pt)});break;case 35:this.$=J(Oe.currentNodeShape,Oe.factory.namedNode(Te+Ve[Ye][0]),Ve[Ye][1]);break;case 36:break;case 37:const Lt=tt([Ve[Ye-1],...Ve[Ye]].map(pt=>{const Ot=Ne();return J(Ot,Oe.factory.namedNode(Te+pt[0]),pt[1]),Ot}));this.$=["or",Lt];break;case 39:case 46:this.$=function(pt,Ot,yt){const hr=Ne();return J(hr,Oe.factory.namedNode(Te+Ot),yt),[pt,hr]}("not",...Ve[Ye]);break;case 40:case 50:this.$=[Ve[Ye-2],Ve[Ye]];break;case 43:this.$=Ve[Ye]&&pe(...Ve[Ye]);break;case 44:this.$=pe("or",tt([Ve[Ye-1],...Ve[Ye]].map(pt=>{const Ot=Ne();return J(Ot,Oe.factory.namedNode(Te+pt[0]),pt[1]),Ot})));break;case 47:this.$=[ut[Ve[Ye].value]?"datatype":"class",Ve[Ye]];break;case 48:this.$=["nodeKind",Oe.factory.namedNode(Te+Ve[Ye])];break;case 49:this.$=["node",Oe.factory.namedNode(Ve[Ye])];break;case 51:this.$=void 0;break;case 53:this.$=Ve[Ye]>0&&pe("minCount",at(Ve[Ye],ke));break;case 54:this.$=pe("maxCount",at(Ve[Ye],ke));break;case 56:this.$=vt(Ve[Ye].slice(1));break;case 57:this.$=ht(Ve[Ye]);break;case 59:J(Oe.currentNodeShape,Oe.factory.namedNode(Te+"property"),Oe.currentPropertyNode=Ne()),pe("path",Ve[Ye]);break;case 62:const dt=Ne();J(dt,Oe.factory.namedNode(Te+"alternativePath"),tt([Ve[Ye-1],...Ve[Ye]])),this.$=dt;break;case 65:this.$=tt([Ve[Ye-1],...Ve[Ye]]);break;case 67:J(this.$=Ne(),Oe.factory.namedNode(Te+Ve[Ye]),Ve[Ye-1]);break;case 69:J(this.$=Ne(),Oe.factory.namedNode(Te+"inversePath"),Ve[Ye]);break;case 71:this.$="zeroOrOnePath";break;case 72:this.$="zeroOrMorePath";break;case 73:this.$="oneOrMorePath";break;case 75:this.$=Ve[Ye-1];break;case 77:this.$=tt(Ve[Ye-1]);break;case 80:this.$=Oe.factory.namedNode(ht(Ve[Ye]));break;case 81:this.$=Oe.factory.namedNode(vt(Ve[Ye]));break;case 82:this.$=Re(Oe.factory.namedNode(Pe));break;case 83:this.$=at(Ve[Ye]);break;case 84:this.$=(st=Ve[Ye-1],ot=Ve[Ye].substr(1).toLowerCase(),Oe.factory.literal(st,ot));break;case 85:this.$=at(Ve[Ye-2],Ve[Ye]);break;case 86:this.$=at(Ve[Ye],ke);break;case 87:this.$=at(Ve[Ye],qe);break;case 88:this.$=at(Ve[Ye].toLowerCase(),He);break;case 89:this.$=at(Ve[Ye].toLowerCase(),Ae);break;case 90:this.$=Y(Ve[Ye],1);break;case 91:this.$=Y(Ve[Ye],3);break;case 92:case 96:case 106:case 108:case 110:case 112:case 128:case 138:this.$=[];break;case 93:case 97:case 107:case 109:case 111:case 113:case 115:case 117:case 123:case 129:case 131:case 135:case 137:case 139:Ve[Ye-1].push(Ve[Ye]);break;case 114:case 116:case 122:case 130:case 134:case 136:this.$=[Ve[Ye]]}},table:[s(c,[2,92],{3:1,4:2}),{1:[3]},s(a,[2,96],{5:3,8:4,9:5,10:6,11:7,12:[1,8],14:[1,9],15:[1,10]}),s(o,[2,110],{6:11,124:12,54:13,19:14,24:15,20:[1,16],25:[1,17]}),s(c,[2,93]),s(c,[2,2]),s(c,[2,3]),s(c,[2,4]),{13:[1,18]},{13:[1,19]},{16:[1,20]},{7:[1,21]},s(a,[2,97]),{7:[2,28],13:i,16:t,18:24,51:23,52:22,114:26,115:n,130:r},s(a,[2,94]),s(a,[2,95]),{13:i,16:t,17:30,18:31,114:26,115:n,130:r},{13:i,16:t,17:32,18:31,114:26,115:n,130:r},s(c,[2,5]),s(c,[2,6]),{13:[1,33]},{1:[2,1]},s(o,[2,111]),{13:i,16:t,18:36,29:34,30:35,114:26,115:n,130:r},s(u,[2,26]),s(l,[2,80]),s(l,[2,81]),s(l,[2,82]),s(l,[2,140]),s(l,[2,141]),s(d,[2,98],{21:37,60:38,61:[1,39]}),s([28,56,61],[2,8]),{26:40,27:41,28:p,56:[2,102]},s(c,[2,7]),{53:[1,43]},s(f,[2,104],{31:44,27:45,28:p}),{13:i,16:t,18:51,32:46,33:47,35:48,36:49,37:50,38:h,43:53,44:y,92:m,113:52,114:26,115:n,116:55,119:b,120:v,121:59,122:61,123:62,130:r,131:_,132:w,133:O,134:A,135:T,136:S},{22:69,27:70,28:p,56:[2,100]},s(d,[2,99]),{13:i,16:t,18:72,62:71,114:26,115:n,130:r},{23:73,55:74,56:E},{56:[2,103]},{13:i,16:t,18:36,29:76,30:35,114:26,115:n,130:r},s(o,[2,27]),s(f,[2,12]),s(f,[2,105]),s(D,[2,13]),s(I,[2,106],{34:77}),s(V,[2,15]),s(V,[2,16]),s(V,[2,17]),s(K,[2,78]),s(K,[2,79]),{13:i,16:t,18:36,29:78,30:35,114:26,115:n,130:r},s(B,[2,108],{39:79}),s(K,[2,83],{117:[1,80],118:[1,81]}),s(K,[2,86]),s(K,[2,87]),s(K,[2,88]),s(K,[2,89]),s(u,[2,20]),s($,[2,90]),s($,[2,91]),s(K,[2,142]),s(K,[2,143]),s($,[2,144]),s($,[2,145]),s($,[2,146]),s($,[2,147]),{23:82,55:74,56:E},{56:[2,101]},s(d,[2,32],{114:26,18:83,13:i,16:t,115:n,130:r}),s(G,[2,114]),s(a,[2,10]),s(U,[2,112],{59:84}),s(U,[2,29]),s(f,[2,11]),s(D,[2,14],{41:85,42:[1,86]}),{45:87,46:[1,88]},{13:i,16:t,18:51,33:90,35:48,36:49,37:50,38:h,40:[1,89],43:53,44:y,92:m,113:52,114:26,115:n,116:55,119:b,120:v,121:59,122:61,123:62,130:r,131:_,132:w,133:O,134:A,135:T,136:S},s(K,[2,84]),{13:i,16:t,18:91,114:26,115:n,130:r},s(a,[2,9]),s(G,[2,115]),{13:i,16:t,18:115,38:W,57:92,58:[1,94],63:93,64:95,68:102,69:98,70:100,72:104,73:105,74:107,77:97,78:99,87:ye,96:ve,97:101,99:103,103:106,105:109,106:113,108:110,109:he,114:26,115:n,125:96,126:q,130:r},s(I,[2,107]),{13:i,16:t,18:51,33:117,35:48,36:49,37:50,38:h,43:53,44:y,92:m,113:52,114:26,115:n,116:55,119:b,120:v,121:59,122:61,123:62,130:r,131:_,132:w,133:O,134:A,135:T,136:S},s(V,[2,22]),s(V,[2,21]),s(V,[2,18]),s(B,[2,109]),s(K,[2,85]),s(L,[2,31]),s(U,[2,113]),s(L,[2,30]),{47:120,48:[1,121],50:119,53:[2,120],65:118},s(R,[2,118],{70:100,68:102,72:104,73:105,74:107,69:122,87:ye,96:ve,126:q}),s(R,[2,119]),s(k,[2,116]),s(X,[2,128],{79:123}),s(k,[2,35]),s(X,[2,59]),s(k,[2,36],{71:124,66:125,67:oe}),s(ee,[2,61],{100:127,98:128,67:me}),s(de,[2,38]),{72:130,74:107,87:ye,126:q},s(xe,[2,64],{104:131,101:132,102:ne}),{75:[1,134]},s([13,16,56,85,87,95,115,126,128,129,130],[2,58]),s(be,[2,68]),{13:i,16:t,18:115,38:W,105:135,106:113,114:26,115:n,130:r},{75:[2,124]},{75:[2,125]},s(be,[2,66],{107:136,93:[1,138],110:[1,137],111:[1,139]}),s([13,16,38,115,130],[2,70]),s(ie,[2,74]),{13:i,16:t,18:115,38:W,97:140,99:103,103:106,105:109,106:113,108:110,109:he,114:26,115:n,130:r},s(I,[2,19]),{53:[1,141]},{53:[2,121]},{13:i,16:t,18:36,29:142,30:35,114:26,115:n,130:r},s(u,[2,23]),s(k,[2,117]),s(R,[2,41],{114:26,55:74,127:143,88:144,82:145,81:147,84:148,73:149,18:150,86:152,23:154,94:155,13:i,16:t,44:[1,146],56:E,85:ge,87:Ee,95:M,96:ve,115:n,128:P,129:C,130:r}),s(k,[2,37],{66:159,67:oe}),s(de,[2,122]),{68:160,72:104,73:105,74:107,87:ye,96:ve,126:q},s(ee,[2,62],{98:161,67:me}),s(xe,[2,134]),{13:i,16:t,18:115,38:W,99:162,103:106,105:109,106:113,108:110,109:he,114:26,115:n,130:r},s(de,[2,39]),s(xe,[2,65],{101:163,102:ne}),s(be,[2,136]),{13:i,16:t,18:115,38:W,103:164,105:109,106:113,108:110,109:he,114:26,115:n,130:r},{13:i,16:t,18:51,35:166,44:z,76:165,92:m,113:52,114:26,115:n,116:55,119:b,120:v,121:59,122:61,123:62,130:r,131:_,132:w,133:O,134:A,135:T,136:S},s(be,[2,69]),s(be,[2,67]),s(be,[2,71]),s(be,[2,72]),s(be,[2,73]),{40:[1,168]},s(U,[2,33]),{48:[1,170],49:169},s(X,[2,129]),s(X,[2,126]),s(X,[2,127]),{89:171,92:[1,172]},s(X,[2,43],{83:173,80:174,67:te}),s(re,[2,45]),{13:i,16:t,18:150,23:154,55:74,56:E,84:176,85:ge,86:152,87:Ee,94:155,95:M,114:26,115:n,128:P,129:C,130:r},s(re,[2,47]),s(re,[2,48]),s(re,[2,49]),{75:[1,177]},s(re,[2,51]),s(re,[2,56]),{13:[1,178]},s(re,[2,132]),s(re,[2,133]),s(de,[2,123]),s(de,[2,34]),s(xe,[2,135]),s(xe,[2,60]),s(be,[2,137]),s(be,[2,63]),s(de,[2,40]),s(le,[2,76]),s(_e,[2,138],{112:179}),s(ie,[2,75]),{53:[2,25]},{53:[2,24]},{90:[1,180]},{90:[2,53]},s(X,[2,44],{80:181,67:te}),s(re,[2,130]),{13:i,16:t,18:150,23:154,55:74,56:E,73:149,81:182,84:148,85:ge,86:152,87:Ee,94:155,95:M,96:ve,114:26,115:n,128:P,129:C,130:r},s(re,[2,46]),{13:i,16:t,18:51,35:166,44:z,76:183,92:m,113:52,114:26,115:n,116:55,119:b,120:v,121:59,122:61,123:62,130:r,131:_,132:w,133:O,134:A,135:T,136:S},s(re,[2,57]),{13:i,16:t,18:51,35:185,46:[1,184],92:m,113:52,114:26,115:n,116:55,119:b,120:v,121:59,122:61,123:62,130:r,131:_,132:w,133:O,134:A,135:T,136:S},{91:186,92:[1,187],93:[1,188]},s(re,[2,131]),s(re,[2,42]),s(re,[2,50]),s(le,[2,77]),s(_e,[2,139]),{46:[1,189]},{46:[2,54]},{46:[2,55]},s(X,[2,52])],defaultActions:{21:[2,1],41:[2,103],70:[2,101],111:[2,124],112:[2,125],119:[2,121],169:[2,25],170:[2,24],172:[2,53],187:[2,54],188:[2,55]},parseError:function(De,Ue){if(!Ue.recoverable){var $e=new Error(De);throw $e.hash=Ue,$e}this.trace(De)},parse:function(De){var Ue=this,$e=[0],Ge=[null],Je=[],Ve=this.table,Ze="",st=0,ot=0,Ye=0,Lt=Je.slice.call(arguments,1),dt=Object.create(this.lexer),pt={yy:{}};for(var Ot in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Ot)&&(pt.yy[Ot]=this.yy[Ot]);dt.setInput(De,pt.yy),pt.yy.lexer=dt,pt.yy.parser=this,dt.yylloc===void 0&&(dt.yylloc={});var yt=dt.yylloc;Je.push(yt);var hr=dt.options&&dt.options.ranges;typeof pt.yy.parseError=="function"?this.parseError=pt.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var Tt,At,Br,Gt,It,or,Jt,qr,yr,fn=function(){var tn;return typeof(tn=dt.lex()||1)!="number"&&(tn=Ue.symbols_[tn]||tn),tn},Wt={};;){if(Br=$e[$e.length-1],this.defaultActions[Br]?Gt=this.defaultActions[Br]:(Tt==null&&(Tt=fn()),Gt=Ve[Br]&&Ve[Br][Tt]),Gt===void 0||!Gt.length||!Gt[0]){var qt;for(or in yr=[],Ve[Br])this.terminals_[or]&&or>2&&yr.push("'"+this.terminals_[or]+"'");qt=dt.showPosition?"Parse error on line "+(st+1)+`:
`+dt.showPosition()+`
Expecting `+yr.join(", ")+", got '"+(this.terminals_[Tt]||Tt)+"'":"Parse error on line "+(st+1)+": Unexpected "+(Tt==1?"end of input":"'"+(this.terminals_[Tt]||Tt)+"'"),this.parseError(qt,{text:dt.match,token:this.terminals_[Tt]||Tt,line:dt.yylineno,loc:yt,expected:yr})}if(Gt[0]instanceof Array&&Gt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Br+", token: "+Tt);switch(Gt[0]){case 1:$e.push(Tt),Ge.push(dt.yytext),Je.push(dt.yylloc),$e.push(Gt[1]),Tt=null,At?(Tt=At,At=null):(ot=dt.yyleng,Ze=dt.yytext,st=dt.yylineno,yt=dt.yylloc,Ye>0);break;case 2:if(Jt=this.productions_[Gt[1]][1],Wt.$=Ge[Ge.length-Jt],Wt._$={first_line:Je[Je.length-(Jt||1)].first_line,last_line:Je[Je.length-1].last_line,first_column:Je[Je.length-(Jt||1)].first_column,last_column:Je[Je.length-1].last_column},hr&&(Wt._$.range=[Je[Je.length-(Jt||1)].range[0],Je[Je.length-1].range[1]]),(It=this.performAction.apply(Wt,[Ze,ot,st,pt.yy,Gt[1],Ge,Je].concat(Lt)))!==void 0)return It;Jt&&($e=$e.slice(0,-1*Jt*2),Ge=Ge.slice(0,-1*Jt),Je=Je.slice(0,-1*Jt)),$e.push(this.productions_[Gt[1]][0]),Ge.push(Wt.$),Je.push(Wt._$),qr=Ve[$e[$e.length-2]][$e[$e.length-1]],$e.push(qr);break;case 3:return!0}}return!0}};const Se="http://www.w3.org/1999/02/22-rdf-syntax-ns#",Pe=Se+"type",je=Se+"first",ae=Se+"rest",ce=Se+"nil",Le="http://www.w3.org/2001/XMLSchema#",ke=Le+"integer",qe=Le+"decimal",He=Le+"double",Ae=Le+"boolean",Te="http://www.w3.org/ns/shacl#",Ke="http://www.w3.org/2002/07/owl#",it="http://www.w3.org/2000/01/rdf-schema#",ut={[ke]:!0,[qe]:!0,[Le+"float"]:!0,[He]:!0,[Le+"string"]:!0,[Ae]:!0,[Le+"dateTime"]:!0,[Le+"nonPositiveInteger"]:!0,[Le+"negativeInteger"]:!0,[Le+"long"]:!0,[Le+"int"]:!0,[Le+"short"]:!0,[Le+"byte"]:!0,[Le+"nonNegativeInteger"]:!0,[Le+"unsignedLong"]:!0,[Le+"unsignedShort"]:!0,[Le+"unsignedByte"]:!0,[Le+"positiveInteger"]:!0,[Se+"langString"]:!0};function tt(De,Ue=!1){let $e=0,Ge=De.length;if(Ue&&Ge===0)return Oe.factory.namedNode(ce);const Je=head=Ne();return Ge===0&&J(head,Oe.factory.namedNode(ae),Oe.factory.namedNode(ce)),De.forEach(Ve=>{if(Ve===void 0)throw new Error("b");J(head,Oe.factory.namedNode(je),Ve),J(head,Oe.factory.namedNode(ae),head=++$e<Ge?Ne():Oe.factory.namedNode(ce))}),Je}function ht(De){return Oe.n3Parser._resolveIRI(De[0]==="<"?De.substring(1,De.length-1):De)}function vt(De){const Ue=De.indexOf(":"),$e=De.substr(0,Ue),Ge=Oe.prefixes[$e];if(!Ge)throw new Error("Unknown prefix: "+$e);return ht(Ge+De.substr(Ue+1))}function at(De,Ue){return Ue&&Ue.termType!=="NamedNode"&&(Ue=Oe.factory.namedNode(Ue)),Oe.factory.literal(De,Ue)}function Ne(De){return typeof De=="string"?De.startsWith("e_")?Oe.factory.blankNode(De):Oe.factory.blankNode("e_"+De):Oe.factory.blankNode("g_"+j++)}var j=0;function Y(De,Ue){return Oe.n3Parser._lexer._unescape(De.substring(Ue,De.length-Ue))}function J(De,Ue,$e){if(!De.termType||!Ue.termType||Ue.value.includes(",")||!$e.termType)throw new Error(`boo ${De.value} ${Ue.value} ${$e.value}`);Oe.onQuad(Oe.factory.quad(De,Ue,$e))}function pe(De,Ue){J(Oe.currentPropertyNode,Oe.factory.namedNode(Te+De),Ue)}function Re(De){if(!Oe.extended)throw new Error("Encountered extended SHACLC syntax; but extended parsing is disabled");return De}Oe._resetBlanks=function(){j=0};var Fe={EOF:1,parseError:function(De,Ue){if(!this.yy.parser)throw new Error(De);this.yy.parser.parseError(De,Ue)},setInput:function(De,Ue){return this.yy=Ue||this.yy||{},this._input=De,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var De=this._input[0];return this.yytext+=De,this.yyleng++,this.offset++,this.match+=De,this.matched+=De,De.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),De},unput:function(De){var Ue=De.length,$e=De.split(/(?:\r\n?|\n)/g);this._input=De+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Ue),this.offset-=Ue;var Ge=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),$e.length-1&&(this.yylineno-=$e.length-1);var Je=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:$e?($e.length===Ge.length?this.yylloc.first_column:0)+Ge[Ge.length-$e.length].length-$e[0].length:this.yylloc.first_column-Ue},this.options.ranges&&(this.yylloc.range=[Je[0],Je[0]+this.yyleng-Ue]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(De){this.unput(this.match.slice(De))},pastInput:function(){var De=this.matched.substr(0,this.matched.length-this.match.length);return(De.length>20?"...":"")+De.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var De=this.match;return De.length<20&&(De+=this._input.substr(0,20-De.length)),(De.substr(0,20)+(De.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var De=this.pastInput(),Ue=new Array(De.length+1).join("-");return De+this.upcomingInput()+`
`+Ue+"^"},test_match:function(De,Ue){var $e,Ge,Je;if(this.options.backtrack_lexer&&(Je={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Je.yylloc.range=this.yylloc.range.slice(0))),(Ge=De[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=Ge.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Ge?Ge[Ge.length-1].length-Ge[Ge.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+De[0].length},this.yytext+=De[0],this.match+=De[0],this.matches=De,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(De[0].length),this.matched+=De[0],$e=this.performAction.call(this,this.yy,this,Ue,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),$e)return $e;if(this._backtrack){for(var Ve in Je)this[Ve]=Je[Ve];return!1}return!1},next:function(){if(this.done)return this.EOF;var De,Ue,$e,Ge;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var Je=this._currentRules(),Ve=0;Ve<Je.length;Ve++)if(($e=this._input.match(this.rules[Je[Ve]]))&&(!Ue||$e[0].length>Ue[0].length)){if(Ue=$e,Ge=Ve,this.options.backtrack_lexer){if((De=this.test_match($e,Je[Ve]))!==!1)return De;if(this._backtrack){Ue=!1;continue}return!1}if(!this.options.flex)break}return Ue?(De=this.test_match(Ue,Je[Ge]))!==!1&&De:this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(De){this.conditionStack.push(De)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(De){return(De=this.conditionStack.length-1-Math.abs(De||0))>=0?this.conditionStack[De]:"INITIAL"},pushState:function(De){this.begin(De)},stateStackSize:function(){return this.conditionStack.length},options:{flex:!0,"case-insensitive":!0},performAction:function(De,Ue,$e,Ge){switch($e){case 0:break;case 1:return 12;case 2:return 14;case 3:return 15;case 4:return 25;case 5:return 20;case 6:return 131;case 7:return 132;case 8:return 85;case 9:return 126;case 10:return 87;case 11:return"PASS";case 12:return"COMMENT";case 13:return 13;case 14:return 16;case 15:return 130;case 16:return 129;case 17:return 128;case 18:return 117;case 19:return 92;case 20:return 119;case 21:return 120;case 22:return"EXPONENT";case 23:return 133;case 24:return 134;case 25:return 135;case 26:return 136;case 27:return 61;case 28:return 90;case 29:return 58;case 30:return 56;case 31:return 38;case 32:return 40;case 33:return 44;case 34:return 46;case 35:return 110;case 36:return 93;case 37:return 111;case 38:return 67;case 39:return 118;case 40:return 53;case 41:return 96;case 42:return 102;case 43:return 75;case 44:return 95;case 45:return 109;case 46:return 28;case 47:return 42;case 48:return 48;case 49:return 115;case 50:return 7;case 51:console.log(Ue.yytext)}},rules:[/^(?:\s+|#[^\n\r]*)/i,/^(?:BASE)/i,/^(?:IMPORTS)/i,/^(?:PREFIX)/i,/^(?:shapeClass)/i,/^(?:shape)/i,/^(?:true)/i,/^(?:false)/i,/^(?:(BlankNode|IRI|Literal|BlankNodeOrIRI|BlankNodeOrLiteral|IRIOrLiteral\b))/i,/^(?:(targetNode|targetObjectsOf|targetSubjectsOf\b))/i,/^(?:(deactivated|severity|message|class|datatype|nodeKind|minExclusive|minInclusive|maxExclusive|maxInclusive|minLength|maxLength|pattern|flags|languageIn|uniqueLang|equals|disjoint|lessThan|lessThanOrEquals|qualifiedValueShape|qualifiedMinCount|qualifiedMaxCount|qualifiedValueShapesDisjoint|closed|ignoredProperties|hasValue|in))/i,/^(?:([ \t\r\n]+))/i,/^(?:(#[\r\n]*))/i,/^(?:(<([^=<>\"\{\}\|\^`\\\u0000-\u0020]|(\\u([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])|\\U([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])))*>))/i,/^(?:((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.)*((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040]))?)?:))/i,/^(?:(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.)*((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040]))?)?:)(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|:|[0-9]|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.|:|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))*(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|:|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%)))))?)))/i,/^(?:(@(([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.)*((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040]))?)?:))/i,/^(?:(@((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.)*((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040]))?)?:)(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|:|[0-9]|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.|:|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))*(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|:|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%)))))?)))/i,/^(?:(@[a-zA-Z]+(-[a-zA-Z0-9]+)*))/i,/^(?:([+-]?[0-9]+))/i,/^(?:([+-]?[0-9]*\.[0-9]+))/i,/^(?:([+-]?([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.?[0-9]+([eE][+-]?[0-9]+))))/i,/^(?:([eE][+-]?[0-9]+))/i,/^(?:('(?:(?:[^\u0027\u005C\u000A\u000D])|(\\[tbnrf\\\"\']))*'))/i,/^(?:("(?:(?:[^\u0022\u005C\u000A\u000D])|(\\[tbnrf\\\"\']))*"))/i,/^(?:('''(?:(?:'|'')?(?:[^'\\]|(\\[tbnrf\\\"\'])))*'''))/i,/^(?:("""(?:(?:"|"")?(?:[^\"\\]|(\\[tbnrf\\\"\'])))*"""))/i,/^(?:->)/i,/^(?:\.\.)/i,/^(?:\})/i,/^(?:\{)/i,/^(?:\()/i,/^(?:\))/i,/^(?:\[)/i,/^(?:\])/i,/^(?:\?)/i,/^(?:\*)/i,/^(?:\+)/i,/^(?:\|)/i,/^(?:\^\^)/i,/^(?:\.)/i,/^(?:!)/i,/^(?:\/)/i,/^(?:=)/i,/^(?:@)/i,/^(?:\^)/i,/^(?:;)/i,/^(?:,)/i,/^(?:%)/i,/^(?:a)/i,/^(?:$)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],inclusive:!0}}};function Oe(){this.yy={}}return we.lexer=Fe,Oe.prototype=we,we.Parser=Oe,new Oe}();g.exports=e},5213:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.RDFA_CONTENTTYPES=e.RDFA_FEATURES=void 0,e.RDFA_FEATURES={"":{baseTag:!0,xmlBase:!0,langAttribute:!0,onlyAllowUriRelRevIfProperty:!0,inheritSubjectInHeadBody:!0,datetimeAttribute:!0,timeTag:!0,htmlDatatype:!0,copyRdfaPatterns:!0,xmlnsPrefixMappings:!0,xhtmlInitialContext:!0,roleAttribute:!0},core:{baseTag:!1,xmlBase:!1,langAttribute:!0,onlyAllowUriRelRevIfProperty:!0,inheritSubjectInHeadBody:!1,datetimeAttribute:!1,timeTag:!1,htmlDatatype:!1,copyRdfaPatterns:!0,xmlnsPrefixMappings:!0,xhtmlInitialContext:!1,roleAttribute:!1},html:{baseTag:!0,xmlBase:!1,langAttribute:!0,onlyAllowUriRelRevIfProperty:!0,inheritSubjectInHeadBody:!0,datetimeAttribute:!0,timeTag:!0,htmlDatatype:!0,copyRdfaPatterns:!0,xmlnsPrefixMappings:!0,xhtmlInitialContext:!1,roleAttribute:!0},xhtml:{baseTag:!0,xmlBase:!1,langAttribute:!0,onlyAllowUriRelRevIfProperty:!0,inheritSubjectInHeadBody:!0,datetimeAttribute:!0,timeTag:!0,htmlDatatype:!0,copyRdfaPatterns:!0,xmlnsPrefixMappings:!0,xhtmlInitialContext:!0,roleAttribute:!0},xml:{baseTag:!1,xmlBase:!0,langAttribute:!0,onlyAllowUriRelRevIfProperty:!1,inheritSubjectInHeadBody:!1,datetimeAttribute:!0,timeTag:!0,htmlDatatype:!1,copyRdfaPatterns:!1,xmlnsPrefixMappings:!0,xhtmlInitialContext:!1,roleAttribute:!0}},e.RDFA_CONTENTTYPES={"text/html":"html","application/xhtml+xml":"xhtml","application/xml":"xml","text/xml":"xml","image/svg+xml":"xml"}},5336:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryOperationConstruct=void 0;const c=s(66490),a=s(90711),o=s(90412),i=s(67021),t=s(3285),n=s(96331),r=s(77654);class u extends c.ActorQueryOperationTypedMediated{constructor(d){super(d,"construct")}static getVariables(d){return(0,t.uniqTerms)([].concat.apply([],d.map(p=>(0,t.getVariables)((0,t.getTermsNested)(p)))))}async testOperation(d,p){return(0,o.passTestVoid)()}async runOperation(d,p){const f=p.getSafe(a.KeysInitQuery.dataFactory),h=u.getVariables(d.template),y={type:n.Algebra.types.PROJECT,input:d.input,variables:h},m=(0,i.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:y,context:p}));return{metadata:()=>m.metadata().then(b=>({...b,order:void 0,cardinality:{type:b.cardinality.type,value:b.cardinality.value*d.template.length},availableOrders:void 0})),quadStream:new r.BindingsToQuadsIterator(f,d.template,m.bindingsStream),type:"quads"}}}e.ActorQueryOperationConstruct=u},5448:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},5526:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ExpressionFunctionBnode=void 0;const c=s(77617),a=s(90711),o=s(51296),i=s(77545);class t extends c.ExpressionFunctionBase{constructor(){super({arity:Number.POSITIVE_INFINITY,operator:i.SparqlOperator.BNODE,apply:async r=>{const{args:u,mapping:l,exprEval:d}=r,p=u.length===1?await d.evaluatorExpressionEvaluation(u[0],l):void 0;let f;if(p){const y=t.bnodeTree.search([p],d.context.getSafe(a.KeysExpressionEvaluator.superTypeProvider),d.context.getSafe(a.KeysInitQuery.functionArgumentsCache));if(!y)throw new i.InvalidArgumentTypes(u,i.SparqlOperator.BNODE);f=y(d)([p]).str()}const h=new o.BlankNodeBindingsScoped(f??"BNODE_"+t.bnodeCounter++);return new i.BlankNode(h)}})}checkArity(r){return r.length===0||r.length===1}}e.ExpressionFunctionBnode=t,t.bnodeTree=(0,i.declare)(i.SparqlOperator.BNODE).onString1(()=>n=>n).collect(),t.bnodeCounter=0},5603:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.termToString=e.stringToTerm=e.stringQuadToQuad=e.quadToStringQuad=e.getLiteralValue=e.getLiteralType=e.getLiteralLanguage=void 0;const c=s(10513);Object.defineProperty(e,"getLiteralLanguage",{enumerable:!0,get:function(){return c.getLiteralLanguage}}),Object.defineProperty(e,"getLiteralType",{enumerable:!0,get:function(){return c.getLiteralType}}),Object.defineProperty(e,"getLiteralValue",{enumerable:!0,get:function(){return c.getLiteralValue}}),Object.defineProperty(e,"quadToStringQuad",{enumerable:!0,get:function(){return c.quadToStringQuad}}),Object.defineProperty(e,"stringQuadToQuad",{enumerable:!0,get:function(){return c.stringQuadToQuad}}),Object.defineProperty(e,"stringToTerm",{enumerable:!0,get:function(){return c.stringToTerm}}),Object.defineProperty(e,"termToString",{enumerable:!0,get:function(){return c.termToString}})},5673:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionBase=e.ExpressionFunctionBase=void 0;const c=s(90711),a=s(77545);class o{constructor({arity:t,operator:n,apply:r}){this.arity=t,this.operator=n,this.apply=r}checkArity(t){return Array.isArray(this.arity)?this.arity.includes(t.length):this.arity===Number.POSITIVE_INFINITY||t.length===this.arity}}e.ExpressionFunctionBase=o,e.TermFunctionBase=class extends o{constructor({arity:i,operator:t,overloads:n}){super({arity:i,operator:t,apply:async({args:r,exprEval:u,mapping:l})=>this.applyOnTerms(await Promise.all(r.map(d=>u.evaluatorExpressionEvaluation(d,l))),u)}),this.supportsTermExpressions=!0,this.overloads=n}applyOnTerms(i,t){return(this.overloads.search(i,t.context.getSafe(c.KeysExpressionEvaluator.superTypeProvider),t.context.getSafe(c.KeysInitQuery.functionArgumentsCache))??this.handleInvalidTypes(i))(t)(i)}handleInvalidTypes(i){throw new a.InvalidArgumentTypes(i,this.operator)}}},5743:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ExpressionFunctionNotIn=void 0;const c=s(77617),a=s(77545);class o extends c.ExpressionFunctionBase{constructor(t){super({arity:Number.POSITIVE_INFINITY,operator:a.SparqlOperator.NOT_IN,apply:async n=>{const r=await this.inFunction.apply(n);return(0,a.bool)(!r.typedValue)}}),this.inFunction=t}checkArity(t){return t.length>0}}e.ExpressionFunctionNotIn=o},5847:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermContains=void 0;const c=s(77617),a=s(77545),o=s(97114);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.SparqlOperator.CONTAINS],termFunction:!0})}async run(n){return new o.TermFunctionContains}}e.ActorFunctionFactoryTermContains=i},5916:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ParseError=void 0;class s extends Error{constructor(a,o){const i=a.saxParser;super(a.trackPosition?`Line ${i.line} column ${i.column+1}: ${o}`:o)}}e.ParseError=s},5919:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DirectiveLocation=void 0;var s=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});e.DirectiveLocation=s},5935:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermCeil=void 0;const c=s(77617),a=s(77545),o=s(47882);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.SparqlOperator.CEIL],termFunction:!0})}async run(n){return new o.TermFunctionCeil}}e.ActorFunctionFactoryTermCeil=i},5987:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.escapeText=e.escapeAttribute=e.escapeUTF8=e.escape=e.encodeXML=e.getCodePoint=e.xmlReplacer=void 0,e.xmlReplacer=/["&'<>$\x80-\uFFFF]/g;var s=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]);function c(o){for(var i,t="",n=0;(i=e.xmlReplacer.exec(o))!==null;){var r=i.index,u=o.charCodeAt(r),l=s.get(u);l!==void 0?(t+=o.substring(n,r)+l,n=r+1):(t+="".concat(o.substring(n,r),"&#x").concat((0,e.getCodePoint)(o,r).toString(16),";"),n=e.xmlReplacer.lastIndex+=+((64512&u)==55296))}return t+o.substr(n)}function a(o,i){return function(t){for(var n,r=0,u="";n=o.exec(t);)r!==n.index&&(u+=t.substring(r,n.index)),u+=i.get(n[0].charCodeAt(0)),r=n.index+1;return u+t.substring(r)}}e.getCodePoint=String.prototype.codePointAt!=null?function(o,i){return o.codePointAt(i)}:function(o,i){return(64512&o.charCodeAt(i))==55296?1024*(o.charCodeAt(i)-55296)+o.charCodeAt(i+1)-56320+65536:o.charCodeAt(i)},e.encodeXML=c,e.escape=c,e.escapeUTF8=a(/[&<>'"]/g,s),e.escapeAttribute=a(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),e.escapeText=a(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]]))},6068:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.stringQuadToQuad=e.quadToStringQuad=e.stringToTerm=e.getLiteralLanguage=e.getLiteralType=e.getLiteralValue=e.termToString=void 0;const c=new(s(47793)).DataFactory;function a(r){if(r)switch(r.termType){case"NamedNode":case"DefaultGraph":return r.value;case"BlankNode":return"_:"+r.value;case"Literal":const u=r;return'"'+u.value+'"'+(u.datatype&&u.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&u.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?"^^"+u.datatype.value:"")+(u.language?"@"+u.language:"");case"Quad":return`<<${a(r.subject)} ${a(r.predicate)} ${a(r.object)}${r.graph.termType==="DefaultGraph"?"":" "+a(r.graph)}>>`;case"Variable":return"?"+r.value}}function o(r){const u=/^"([^]*)"/.exec(r);if(!u)throw new Error(r+" is not a literal");return u[1]}function i(r){const u=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(r);if(!u)throw new Error(r+" is not a literal");return u[1]||(u[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}function t(r){const u=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(r);if(!u)throw new Error(r+" is not a literal");return u[1]?u[1].toLowerCase():""}function n(r,u){if(u=u||c,!r||!r.length)return u.defaultGraph();switch(r[0]){case"_":return u.blankNode(r.substr(2));case"?":if(!u.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return u.variable(r.substr(1));case'"':const l=t(r),d=u.namedNode(i(r));return u.literal(o(r),l||d);default:if(r[0]==="<"&&r.length>4&&r[1]==="<"&&r[r.length-1]===">"&&r[r.length-2]===">"){const p=r.slice(2,-2).trim();let f=[],h=0,y=0,m=!1;for(let b=0;b<p.length;b++){const v=p[b];if(v==="<"&&h++,v===">"){if(h===0)throw new Error("Found closing tag without opening tag in "+r);h--}if(v==='"'){let _=!1,w=b;for(;w-- >0&&p[w]==="\\";)_=!_;_||(m=!m)}if(v===" "&&!m&&h===0){for(f.push(p.slice(y,b));p[b+1]===" ";)b+=1;y=b+1}}if(h!==0)throw new Error("Found opening tag without closing tag in "+r);if(f.push(p.slice(y,p.length)),f.length!==3&&f.length!==4)throw new Error("Nested quad syntax error "+r);return f=f.map(b=>b.startsWith("<")&&!b.includes(" ")?b.slice(1,-1):b),u.quad(n(f[0]),n(f[1]),n(f[2]),f[3]?n(f[3]):void 0)}return u.namedNode(r)}}e.termToString=a,e.getLiteralValue=o,e.getLiteralType=i,e.getLiteralLanguage=t,e.stringToTerm=n,e.quadToStringQuad=function(r){return{subject:a(r.subject),predicate:a(r.predicate),object:a(r.object),graph:a(r.graph)}},e.stringQuadToQuad=function(r,u){return(u=u||c).quad(n(r.subject,u),n(r.predicate,u),n(r.object,u),n(r.graph,u))}},6072:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.removeOperationSource=e.assignOperationSource=e.getOperationSource=e.testReadOnly=e.validateQueryOutput=e.getSafeVoid=e.getSafeBoolean=e.getSafeQuads=e.getSafeBindings=void 0;const c=s(90711),a=s(90412);function o(i,t){if(i.type!==t)throw new Error(`Invalid query output type: Expected '${t}' but got '${i.type}'`)}e.getSafeBindings=function(i){return o(i,"bindings"),i},e.getSafeQuads=function(i){return o(i,"quads"),i},e.getSafeBoolean=function(i){return o(i,"boolean"),i},e.getSafeVoid=function(i){return o(i,"void"),i},e.validateQueryOutput=o,e.testReadOnly=function(i){return i.get(c.KeysQueryOperation.readOnly)?(0,a.failTest)("Attempted a write operation in read-only mode"):(0,a.passTestVoid)()},e.getOperationSource=function(i){return i.metadata?.scopedSource},e.assignOperationSource=function(i,t){return(i={...i}).metadata=i.metadata?{...i.metadata}:{},i.metadata.scopedSource=t,i},e.removeOperationSource=function(i){delete i.metadata?.scopedSource,i.metadata&&Object.keys(i.metadata).length===0&&delete i.metadata}},6082:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(50620),e)},6180:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(3251),e)},6380:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.termToString=e.stringToTerm=e.stringQuadToQuad=e.quadToStringQuad=e.getLiteralValue=e.getLiteralType=e.getLiteralLanguage=void 0;const c=s(84256);Object.defineProperty(e,"getLiteralLanguage",{enumerable:!0,get:function(){return c.getLiteralLanguage}}),Object.defineProperty(e,"getLiteralType",{enumerable:!0,get:function(){return c.getLiteralType}}),Object.defineProperty(e,"getLiteralValue",{enumerable:!0,get:function(){return c.getLiteralValue}}),Object.defineProperty(e,"quadToStringQuad",{enumerable:!0,get:function(){return c.quadToStringQuad}}),Object.defineProperty(e,"stringQuadToQuad",{enumerable:!0,get:function(){return c.stringQuadToQuad}}),Object.defineProperty(e,"stringToTerm",{enumerable:!0,get:function(){return c.stringToTerm}}),Object.defineProperty(e,"termToString",{enumerable:!0,get:function(){return c.termToString}})},6429:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Util=void 0;const c=s(70742),a=s(5213),o=s(47793);class i{constructor(n,r){this.dataFactory=n||new o.DataFactory,this.baseIRI=this.dataFactory.namedNode(r||""),this.baseIRIDocument=this.baseIRI}static parsePrefixes(n,r,u){const l={};if(u)for(const d in n)d.startsWith("xmlns")&&(l[d.substr(6)]=n[d]);if(n.prefix||Object.keys(l).length>0){const d=Object.assign(Object.assign({},r),l);if(n.prefix){let p;for(;p=i.PREFIX_REGEX.exec(n.prefix);)d[p[1]]=p[2]}return d}return r}static expandPrefixedTerm(n,r){const u=n.indexOf(":");let l,d;if(u>=0&&(l=n.substr(0,u),d=n.substr(u+1)),l==="")return"http://www.w3.org/1999/xhtml/vocab#"+d;if(l){const p=r.prefixesAll[l];if(p)return p+d}if(n){const p=r.prefixesAll[n.toLocaleLowerCase()];if(p)return p}return n}static isValidIri(n){return i.IRI_REGEX.test(n)}static contentTypeToProfile(n){return a.RDFA_CONTENTTYPES[n]||""}getBaseIRI(n){let r=n;const u=r.indexOf("#");return u>=0&&(r=r.substr(0,u)),this.dataFactory.namedNode((0,c.resolve)(r,this.baseIRI.value))}getResourceOrBaseIri(n,r){return n===!0?this.getBaseIriTerm(r):n}getBaseIriTerm(n){return n.localBaseIRI||this.baseIRI}createVocabIris(n,r,u,l){return n.split(/\s+/).filter(d=>d&&(u||d.indexOf(":")>=0)).map(d=>this.createIri(d,r,!0,!0,l)).filter(d=>d!=null)}createLiteral(n,r){if(r.interpretObjectAsTime&&!r.datatype){for(const u of i.TIME_REGEXES)if(n.match(u.regex)){r.datatype=this.dataFactory.namedNode(i.XSD+u.type);break}}return this.dataFactory.literal(n,r.datatype||r.language)}createBlankNode(){return this.blankNodeFactory?this.blankNodeFactory():this.dataFactory.blankNode()}createIri(n,r,u,l,d){if(n=n||"",!l)return u||(n=(0,c.resolve)(n,this.getBaseIriTerm(r).value)),i.isValidIri(n)?this.dataFactory.namedNode(n):null;if(n.length>0&&n[0]==="["&&n[n.length-1]==="]"&&(n=n.substr(1,n.length-2)).indexOf(":")<0)return null;if(n.startsWith("_:"))return d?this.dataFactory.blankNode(n.substr(2)||"b_identity"):null;if(u&&r.vocab&&n.indexOf(":")<0)return this.dataFactory.namedNode(r.vocab+n);let p=i.expandPrefixedTerm(n,r);return u?n!==p&&(p=(0,c.resolve)(p,this.baseIRIDocument.value)):p=(0,c.resolve)(p,this.getBaseIriTerm(r).value),i.isValidIri(p)?this.dataFactory.namedNode(p):null}}e.Util=i,i.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",i.XSD="http://www.w3.org/2001/XMLSchema#",i.RDFA="http://www.w3.org/ns/rdfa#",i.PREFIX_REGEX=/\s*([^:\s]*)*:\s*([^\s]*)*\s*/g,i.TIME_REGEXES=[{regex:/^-?P([0-9]+Y)?([0-9]+M)?([0-9]+D)?(T([0-9]+H)?([0-9]+M)?([0-9]+(\.[0-9])?S)?)?$/,type:"duration"},{regex:/^[0-9]+-[0-9][0-9]-[0-9][0-9]T[0-9][0-9]:[0-9][0-9]:[0-9][0-9]((Z?)|([\+-][0-9][0-9]:[0-9][0-9]))$/,type:"dateTime"},{regex:/^[0-9]+-[0-9][0-9]-[0-9][0-9]Z?$/,type:"date"},{regex:/^[0-9][0-9]:[0-9][0-9]:[0-9][0-9]((Z?)|([\+-][0-9][0-9]:[0-9][0-9]))$/,type:"time"},{regex:/^[0-9]+-[0-9][0-9]$/,type:"gYearMonth"},{regex:/^[0-9]+$/,type:"gYear"}],i.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^ "<>{}|\\\[\]`]*$/},6535:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MediatorCombinePipeline=void 0;const c=s(90412);class a extends c.Mediator{constructor(i){super(i)}async mediate(i){let t;try{t=this.publish(i)}catch{return i}if(this.filterFailures){const l=[];for(const d of t)(await d.reply).isPassed()&&l.push(d);t=l}const n=[];if(t=await Promise.all(t.map(async({actor:l,reply:d},p)=>{try{const f=await d,h=f.getOrThrow();return n[p]=f.getSideData(),{actor:l,reply:h}}catch(f){throw new Error(this.constructFailureMessage(i,[f.message]))}})),this.order){const l=d=>{const p=this.field?d[this.field]:d;if(typeof p!="number")throw new TypeError("Cannot order elements that are not numbers.");return p};t=t.sort((d,p)=>(this.order==="increasing"?1:-1)*(l(d.reply)-l(p.reply)))}let r=i,u=0;for(const{actor:l}of t)r={...r,...await l.runObservable(r,n[u++])};return r}mediateWith(){throw new Error("Method not supported.")}}e.MediatorCombinePipeline=a},6809:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(42651),e)},6841:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},6912:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermSubStr=void 0;const c=s(77617),a=s(77545),o=s(63369);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.SparqlOperator.SUBSTR],termFunction:!0})}async run(n){return new o.TermFunctionSubStr}}e.ActorFunctionFactoryTermSubStr=i},7020:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryOperationSource=void 0;const c=s(66490),a=s(90711),o=s(90412),i=s(99214),t=s(67021),n=s(96331);class r extends c.ActorQueryOperation{constructor(l){super(l)}async test(l){return(0,t.getOperationSource)(l.operation)?(0,o.passTest)({httpRequests:1}):(0,o.failTest)(`Actor ${this.name} requires an operation with source annotation.`)}async run(l){const d=l.context.get(a.KeysInitQuery.physicalQueryPlanLogger);d&&(d.logOperation(l.operation.type,void 0,l.operation,l.context.get(a.KeysInitQuery.physicalQueryPlanNode),this.name,{}),l.context=l.context.set(a.KeysInitQuery.physicalQueryPlanNode,l.operation));const p=(0,t.getOperationSource)(l.operation),f=p.context?l.context.merge(p.context):l.context;let h=!1;if(n.Util.recurseOperation(l.operation,{construct:()=>(h=!0,!1)}),h){const m=p.source.queryQuads(l.operation,f);return{type:"quads",quadStream:m,metadata:(0,i.getMetadataQuads)(m)}}switch(l.operation.type){case n.Algebra.types.ASK:return{type:"boolean",execute:()=>p.source.queryBoolean(l.operation,f)};case n.Algebra.types.COMPOSITE_UPDATE:case n.Algebra.types.DELETE_INSERT:case n.Algebra.types.LOAD:case n.Algebra.types.CLEAR:case n.Algebra.types.CREATE:case n.Algebra.types.DROP:case n.Algebra.types.ADD:case n.Algebra.types.MOVE:case n.Algebra.types.COPY:return{type:"void",execute:()=>p.source.queryVoid(l.operation,f)}}const y=p.source.queryBindings(l.operation,f);return{type:"bindings",bindingsStream:y,metadata:(0,i.getMetadataBindings)(y)}}}e.ActorQueryOperationSource=r},7030:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Kind=void 0;var s=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"});e.Kind=s},7178:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MinAggregator=void 0;const c=s(86581);class a extends c.AggregateEvaluator{constructor(i,t,n,r){super(i,t,r),this.orderByEvaluator=n,this.state=void 0}putTerm(i){if(i.termType!=="Literal")throw new Error(`Term with value ${i.value} has type ${i.termType} and is not a literal`);(this.state===void 0||this.orderByEvaluator.orderTypes(this.state,i)===1)&&(this.state=i)}termResult(){return this.state===void 0?this.emptyValue():this.state}}e.MinAggregator=a},7190:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ExpressionFunctionIn=void 0;const c=s(77617),a=s(77545);class o extends c.ExpressionFunctionBase{constructor(t){super({arity:Number.POSITIVE_INFINITY,operator:a.SparqlOperator.IN,apply:async n=>{const{args:r,mapping:u,exprEval:l}=n,[d,...p]=r,f=await l.evaluatorExpressionEvaluation(d,u);return await this.inRecursive(f,{...n,args:p},[])}}),this.equalityFunction=t}checkArity(t){return t.length>0}async inRecursive(t,n,r){const{args:u,mapping:l,exprEval:d}=n;if(u.length===0)return r.every(p=>!p)?(0,a.bool)(!1):Promise.reject(new a.InError(r));try{const p=u.shift(),f=await d.evaluatorExpressionEvaluation(p,l);return this.equalityFunction.applyOnTerms([t,f],d).typedValue?(0,a.bool)(!0):this.inRecursive(t,n,[...r,!1])}catch(p){return this.inRecursive(t,n,[...r,p])}}}e.ExpressionFunctionIn=o},7246:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionLesserThanEqual=void 0;const c=s(77617),a=s(77545);class o extends c.TermFunctionBase{constructor(t,n){super({arity:2,operator:a.SparqlOperator.LTE,overloads:(0,a.declare)(a.SparqlOperator.LTE).set(["term","term"],r=>([u,l])=>(0,a.bool)(this.lessThanFunction.applyOnTerms([u,l],r).typedValue||this.equalityFunction.applyOnTerms([u,l],r).typedValue)).collect()}),this.equalityFunction=t,this.lessThanFunction=n}}e.TermFunctionLesserThanEqual=o},7394:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MaxAggregator=void 0;const c=s(86581);class a extends c.AggregateEvaluator{constructor(i,t,n,r){super(i,t,r),this.orderByEvaluator=n,this.state=void 0}putTerm(i){if(i.termType!=="Literal")throw new Error(`Term with value ${i.value} has type ${i.termType} and is not a literal`);(this.state===void 0||this.orderByEvaluator.orderTypes(this.state,i)===-1)&&(this.state=i)}termResult(){return this.state===void 0?this.emptyValue():this.state}}e.MaxAggregator=a},7625:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorBindingsAggregatorFactory=void 0;const c=s(90412);class a extends c.Actor{constructor(i){super(i),this.mediatorExpressionEvaluatorFactory=i.mediatorExpressionEvaluatorFactory}}e.ActorBindingsAggregatorFactory=a},7779:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(58481),e)},7986:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ContainerHandlerIdentifier=void 0,e.ContainerHandlerIdentifier=class{canCombineWithGraph(){return!0}async handle(s,c,a,o,i,t){let n;if(c.emittedStack[t+1]&&c.idStack[t+1])n=c.idStack[t+1][0];else{const u=await a.getContainerKey(o[t],o,t)!==null?await a.resourceToTerm(await c.getContext(o),o[t]):a.dataFactory.blankNode();if(!u)return void(c.emittedStack[t]=!1);n=u,c.idStack[t+1]=[n]}let r=c.idStack[t];r||(r=c.idStack[t]=[]),r.some(u=>u.equals(n))||r.push(n),await c.handlePendingContainerFlushBuffers()||(c.emittedStack[t]=!1)}}},8096:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(29637),e)},8236:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfParseRdfXml=void 0;const c=s(95124),a=s(90711),o=s(75611);class i extends c.ActorRdfParseFixedMediaTypes{constructor(n){super(n)}async runHandle(n){const r=n.context.getSafe(a.KeysInitQuery.dataFactory);n.data.on("error",l=>u.emit("error",l));const u=n.data.pipe(new o.RdfXmlParser({dataFactory:r,baseIRI:n.metadata?.baseIRI}));return{data:u,metadata:{triples:!0}}}}e.ActorRdfParseRdfXml=i},8323:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(27256),e)},8327:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(82651),e)},8486:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Util=void 0;class s{static isCompactIri(a){return a.indexOf(":")>0&&!(a&&a[0]==="#")}static getPrefix(a,o){if(a&&a[0]==="#")return null;const i=a.indexOf(":");if(i>=0){if(a.length>i+1&&a.charAt(i+1)==="/"&&a.charAt(i+2)==="/")return null;const t=a.substr(0,i);if(t==="_")return null;if(o[t])return t}return null}static getContextValueId(a){return a===null||typeof a=="string"?a:a["@id"]||null}static isSimpleTermDefinitionPrefix(a,o){return!s.isPotentialKeyword(a)&&(o.allowPrefixNonGenDelims||typeof a=="string"&&(a[0]==="_"||s.isPrefixIriEndingWithGenDelim(a)))}static isPotentialKeyword(a){return typeof a=="string"&&s.KEYWORD_REGEX.test(a)}static isPrefixIriEndingWithGenDelim(a){return s.ENDS_WITH_GEN_DELIM.test(a)}static isPrefixValue(a){return a&&(typeof a=="string"||a&&typeof a=="object")}static isValidIri(a){return!!(a&&s.IRI_REGEX.test(a))}static isValidIriWeak(a){return!!a&&a[0]!==":"&&s.IRI_REGEX_WEAK.test(a)}static isValidKeyword(a){return s.VALID_KEYWORDS[a]}static isTermProtected(a,o){const i=a[o];return typeof i!="string"&&i&&i["@protected"]}static hasProtectedTerms(a){for(const o of Object.keys(a))if(s.isTermProtected(a,o))return!0;return!1}static isReservedInternalKeyword(a){return a.startsWith("@__")}static deepEqual(a,o){const i=Object.keys(a),t=Object.keys(o);return i.length===t.length&&i.every(n=>{const r=a[n],u=o[n];return r===u||r!==null&&u!==null&&typeof r=="object"&&typeof u=="object"&&this.deepEqual(r,u)})}}s.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^ "<>{}|\\\[\]`#]*(#[^#]*)?$/,s.IRI_REGEX_WEAK=/(?::[^:])|\//,s.KEYWORD_REGEX=/^@[a-z]+$/i,s.ENDS_WITH_GEN_DELIM=/[:/?#\[\]@]$/,s.REGEX_LANGUAGE_TAG=/^[a-zA-Z]+(-[a-zA-Z0-9]+)*$/,s.REGEX_DIRECTION_TAG=/^(ltr)|(rtl)$/,s.VALID_KEYWORDS={"@annotation":!0,"@base":!0,"@container":!0,"@context":!0,"@direction":!0,"@graph":!0,"@id":!0,"@import":!0,"@included":!0,"@index":!0,"@json":!0,"@language":!0,"@list":!0,"@nest":!0,"@none":!0,"@prefix":!0,"@propagate":!0,"@protected":!0,"@reverse":!0,"@set":!0,"@type":!0,"@value":!0,"@version":!0,"@vocab":!0},s.EXPAND_KEYS_BLACKLIST=["@base","@vocab","@language","@version","@direction"],s.ALIAS_DOMAIN_BLACKLIST=["@container","@graph","@id","@index","@list","@nest","@none","@prefix","@reverse","@set","@type","@value","@version"],s.ALIAS_RANGE_BLACKLIST=["@context","@preserve"],s.CONTAINERS=["@list","@set","@index","@language","@graph","@id","@type"],s.CONTAINERS_1_0=["@list","@set","@index"],e.Util=s},8711:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(33823),e)},8770:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ItemPropertyHandlerUrl=void 0;const c=s(70742);e.ItemPropertyHandlerUrl=class{constructor(a,o){this.tagName=a,this.attributeName=o}canHandle(a,o){return this.tagName===a&&this.attributeName in o}getObject(a,o,i){return o.dataFactory.namedNode((0,c.resolve)(a[this.attributeName],o.baseIRI))}}},8902:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GroupsState=void 0;const c=s(90711),a=s(81926);e.GroupsState=class{constructor(o,i,t,n,r){this.pattern=o,this.mediatorBindingsAggregatorFactory=i,this.context=t,this.bindingsFactory=n,this.variables=r,this.groups=new Map,this.groupsInitializer=new Map,this.groupVariables=new Set(this.pattern.variables.map(u=>u.value)),this.waitCounter=1,this.resultHasBeenCalled=!1}consumeBindings(o){const i=this.resultCheck();if(i)return i;this.waitCounter++;const t=o.filter((l,d)=>this.groupVariables.has(d.value)),n=this.hashBindings(t);let r,u=this.groupsInitializer.get(n);if(u){const l=u;r=(async()=>{const d=await l;await Promise.all(this.pattern.aggregates.map(async p=>{const f=p.variable.value;await d.aggregators[f].putBindings(o)}))})().then(async()=>{await this.subtractWaitCounterAndCollect()})}else u=(async()=>{const l={};await Promise.all(this.pattern.aggregates.map(async p=>{const f=p.variable.value;l[f]=await this.mediatorBindingsAggregatorFactory.mediate({expr:p,context:this.context}),await l[f].putBindings(o)}));const d={aggregators:l,bindings:t};return this.groups.set(n,d),await this.subtractWaitCounterAndCollect(),d})(),this.groupsInitializer.set(n,u),r=u;return r}async subtractWaitCounterAndCollect(){--this.waitCounter===0&&await this.handleResultCollection()}async handleResultCollection(){const o=this.context.getSafe(c.KeysInitQuery.dataFactory);let i=await Promise.all([...this.groups].map(async([t,n])=>{const{bindings:r,aggregators:u}=n;let l=r;for(const d in u){const p=await u[d].result();p&&(l=l.set(o.variable(d),p))}return l}));if(i.length===0&&this.groupVariables.size===0){const t=[];await Promise.all(this.pattern.aggregates.map(async n=>{const r=n.variable,u=await this.mediatorBindingsAggregatorFactory.mediate({expr:n,context:this.context}),l=await u.result();l!==void 0&&t.push([r,l])})),i=[this.bindingsFactory.bindings(t)]}this.waitResolver(i)}resultCheck(){if(this.resultHasBeenCalled)return Promise.reject(new Error("Calling any function after calling collectResult is invalid."))}async collectResults(){const o=this.resultCheck();if(o)return o;this.resultHasBeenCalled=!0;const i=new Promise(t=>{this.waitResolver=t});return await this.subtractWaitCounterAndCollect(),i}hashBindings(o){return(0,a.bindingsToCompactString)(o,this.variables)}}},8938:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getChildren=a,e.getParent=o,e.getSiblings=function(i){var t=o(i);if(t!=null)return a(t);for(var n=[i],r=i.prev,u=i.next;r!=null;)n.unshift(r),r=r.prev;for(;u!=null;)n.push(u),u=u.next;return n},e.getAttributeValue=function(i,t){var n;return(n=i.attribs)===null||n===void 0?void 0:n[t]},e.hasAttrib=function(i,t){return i.attribs!=null&&Object.prototype.hasOwnProperty.call(i.attribs,t)&&i.attribs[t]!=null},e.getName=function(i){return i.name},e.nextElementSibling=function(i){for(var t=i.next;t!==null&&!(0,c.isTag)(t);)t=t.next;return t},e.prevElementSibling=function(i){for(var t=i.prev;t!==null&&!(0,c.isTag)(t);)t=t.prev;return t};var c=s(41141);function a(i){return(0,c.hasChildren)(i)?i.children:[]}function o(i){return i.parent||null}},9111:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.visit=function(r,u){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:i,d=void 0,p=Array.isArray(r),f=[r],h=-1,y=[],m=void 0,b=void 0,v=void 0,_=[],w=[],O=r;do{var A=++h===f.length,T=A&&y.length!==0;if(A){if(b=w.length===0?void 0:_[_.length-1],m=v,v=w.pop(),T){if(p)m=m.slice();else{for(var S={},E=0,D=Object.keys(m);E<D.length;E++){var I=D[E];S[I]=m[I]}m=S}for(var V=0,K=0;K<y.length;K++){var B=y[K][0],$=y[K][1];p&&(B-=V),p&&$===null?(m.splice(B,1),V++):m[B]=$}}h=d.index,f=d.keys,y=d.edits,p=d.inArray,d=d.prev}else{if(b=v?p?h:f[h]:void 0,(m=v?v[b]:O)==null)continue;v&&_.push(b)}var G,U=void 0;if(!Array.isArray(m)){if(!(0,o.isNode)(m))throw new Error("Invalid AST Node: ".concat((0,a.default)(m),"."));var W=n(u,m.kind,A);if(W){if((U=W.call(u,m,b,v,_,w))===t)break;if(U===!1){if(!A){_.pop();continue}}else if(U!==void 0&&(y.push([b,U]),!A)){if(!(0,o.isNode)(U)){_.pop();continue}m=U}}}U===void 0&&T&&y.push([b,m]),A?_.pop():(d={inArray:p,index:h,keys:f,edits:y,prev:d},f=(p=Array.isArray(m))?m:(G=l[m.kind])!==null&&G!==void 0?G:[],h=-1,y=[],v&&w.push(v),v=m)}while(d!==void 0);return y.length!==0&&(O=y[y.length-1][1]),O},e.visitInParallel=function(r){var u=new Array(r.length);return{enter:function(l){for(var d=0;d<r.length;d++)if(u[d]==null){var p=n(r[d],l.kind,!1);if(p){var f=p.apply(r[d],arguments);if(f===!1)u[d]=l;else if(f===t)u[d]=t;else if(f!==void 0)return f}}},leave:function(l){for(var d=0;d<r.length;d++)if(u[d]==null){var p=n(r[d],l.kind,!0);if(p){var f=p.apply(r[d],arguments);if(f===t)u[d]=t;else if(f!==void 0&&f!==!1)return f}}else u[d]===l&&(u[d]=null)}}},e.getVisitFn=n,e.BREAK=e.QueryDocumentKeys=void 0;var c,a=(c=s(29657))&&c.__esModule?c:{default:c},o=s(76257),i={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]};e.QueryDocumentKeys=i;var t=Object.freeze({});function n(r,u,l){var d=r[u];if(d){if(!l&&typeof d=="function")return d;var p=l?d.leave:d.enter;if(typeof p=="function")return p}else{var f=l?r.leave:r.enter;if(f){if(typeof f=="function")return f;var h=f[u];if(typeof h=="function")return h}}}e.BREAK=t},9159:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfUpdateHypermediaSparql=void 0;const c=s(14597),a=s(90711),o=s(90412),i=s(27368);class t extends c.ActorRdfUpdateHypermedia{constructor(r){super(r,"sparql")}async testMetadata(r){return r.forceDestinationType||r.metadata.sparqlService||this.checkUrlSuffixSparql&&(r.url.endsWith("/sparql")||r.url.endsWith("/sparql/"))||this.checkUrlSuffixUpdate&&(r.url.endsWith("/update")||r.url.endsWith("/update/"))?(0,o.passTestVoid)():(0,o.failTest)(`Actor ${this.name} could not detect a SPARQL service description or URL ending on /sparql or /update.`)}async run(r){this.logInfo(r.context,`Identified as sparql destination: ${r.url}`);const u=r.context.getSafe(a.KeysInitQuery.dataFactory);return{destination:new i.QuadDestinationSparql(r.metadata.sparqlService||r.url,r.context,this.mediatorHttp,u)}}}e.ActorRdfUpdateHypermediaSparql=t},9243:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},9402:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionXsdToDayTimeDuration=void 0;const c=s(77617),a=s(77545);class o extends c.TermFunctionBase{constructor(){super({arity:1,operator:a.TypeURL.XSD_DAY_TIME_DURATION,overloads:(0,a.declare)(a.TypeURL.XSD_DAY_TIME_DURATION).onUnary(a.TypeURL.XSD_DURATION,()=>t=>new a.DayTimeDurationLiteral((0,a.trimToDayTimeDuration)(t.typedValue))).onStringly1(()=>t=>new a.DayTimeDurationLiteral((0,a.parseDayTimeDuration)(t.str()))).collect()})}}e.TermFunctionXsdToDayTimeDuration=o},9430:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionDay=void 0;const c=s(77617),a=s(77545);class o extends c.TermFunctionBase{constructor(){super({arity:1,operator:a.SparqlOperator.DAY,overloads:(0,a.declare)(a.SparqlOperator.DAY).onDateTime1(()=>t=>(0,a.integer)(t.typedValue.day)).set([a.TypeURL.XSD_DATE],()=>([t])=>(0,a.integer)(t.typedValue.day)).collect()})}}e.TermFunctionDay=o},9527:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfSerializeFixedMediaTypes=void 0;const c=s(48092),a=s(90412);class o extends c.ActorAbstractMediaTypedFixed{constructor(t){super(t)}async testHandleChecked(){return(0,a.passTestVoid)()}}e.ActorRdfSerializeFixedMediaTypes=o},9553:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryOperationPathZeroOrMore=void 0;const c=s(97091),a=s(90711),o=s(81926),i=s(67021),t=s(75627),n=s(25462),r=s(96331);class u extends c.ActorAbstractPath{constructor(d){super(d,r.Algebra.types.ZERO_OR_MORE_PATH)}async runOperation(d,p){const f=p.getSafe(a.KeysInitQuery.dataFactory),h=new r.Factory(f),y=await o.BindingsFactory.create(this.mediatorMergeBindingsContext,p,f),m=await this.isPathArbitraryLengthDistinct(h,p,d);if(m.operation)return m.operation;p=m.context;const b=d.predicate,v=this.getPathSources(b),_=d.subject.termType==="Variable",w=d.object.termType==="Variable";if(d.subject.termType==="Variable"&&d.object.termType==="Variable"){const D=this.generateVariable(f,d),I=this.assignPatternSources(h,h.createPattern(d.subject,D,d.object,d.graph),v),V=(0,i.getSafeBindings)(await this.mediatorQueryOperation.mediate({context:p,operation:I})),K=d.subject,B=d.object,$=new Set,G={},U=new t.MultiTransformIterator(V.bindingsStream,{multiTransform:ye=>{const ve=ye.get(K),he=ye.get(B),q=d.graph.termType==="Variable"?ye.get(d.graph):d.graph,L=(0,n.termToString)(ve)+(0,n.termToString)(q),R=(0,n.termToString)(he)+(0,n.termToString)(q);return new t.TransformIterator(async()=>{if($.has(L)&&$.has(R))return new t.EmptyIterator;const k=new t.BufferedIterator,X={count:0};return $.has(L)||($.add(L),await this.getSubjectAndObjectBindingsPredicateStar(K,B,ve,ve,b.path,q,p,G,{},k,X,h,y)),$.has(R)||($.add(R),await this.getSubjectAndObjectBindingsPredicateStar(K,B,he,he,b.path,q,p,G,{},k,X,h,y)),k.map(oe=>(d.graph.termType==="Variable"&&(oe=oe.set(d.graph,q)),oe))},{autoStart:!1,maxBufferSize:128})},autoStart:!1}),W=(d.graph.termType==="Variable"?[K,d.object,d.graph]:[K,d.object]).map(ye=>({variable:ye,canBeUndef:!1}));return{type:"bindings",bindingsStream:U,metadata:async()=>({...await V.metadata(),variables:W})}}if(!_&&!w){const D=this.generateVariable(f),I=await this.getObjectsPredicateStarEval(d.subject,b.path,D,d.graph,p,!0,h,y);return{type:"bindings",bindingsStream:I.bindingsStream.map(V=>d.object.equals(V.get(D))?d.graph.termType==="Variable"?y.bindings([[d.graph,V.get(d.graph)]]):y.bindings():null),metadata:async()=>({...await I.metadata(),variables:(d.graph.termType==="Variable"?[d.graph]:[]).map(V=>({variable:V,canBeUndef:!1}))})}}const O=_?d.object:d.subject,A=_?d.subject:d.object,T=_?h.createInv(b.path):b.path,S=await this.getObjectsPredicateStarEval(O,T,A,d.graph,p,!0,h,y),E=(d.graph.termType==="Variable"?[A,d.graph]:[A]).map(D=>({variable:D,canBeUndef:!1}));return{type:"bindings",bindingsStream:S.bindingsStream,metadata:async()=>({...await S.metadata(),variables:E})}}}e.ActorQueryOperationPathZeroOrMore=u},9875:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermTimezone=void 0;const c=s(77617),a=s(77545),o=s(38274);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.SparqlOperator.TIMEZONE],termFunction:!0})}async run(n){return new o.TermFunctionTimezone}}e.ActorFunctionFactoryTermTimezone=i},9941:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(78673),e)},10037:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MediatedLinkedRdfSourcesAsyncRdfIterator=void 0;const c=s(90711),a=s(17140);class o extends a.LinkedRdfSourcesAsyncRdfIterator{constructor(t,n,r,u,l,d,p,f,h,y,m,b,v,_){super(t,n,r,u,d,p,f,h?{maxBufferSize:Number.POSITIVE_INFINITY}:void 0),this.wasForcefullyClosed=!1,this.forceSourceType=l,this.mediatorMetadataAccumulate=y,this.mediatorRdfResolveHypermediaLinks=m,this.mediatorRdfResolveHypermediaLinksQueue=b,this.handledUrls={[d]:!0},this.aggregatedStore=h,this.dataFactory=v,this.algebraFactory=_}close(){this.aggregatedStore?this.getLinkQueue().then(t=>{this.isCloseable(t,!1)?(this.aggregatedStore&&setTimeout(()=>this.aggregatedStore.end()),super.close()):this.wasForcefullyClosed=!0}).catch(t=>super.destroy(t)):super.close()}destroy(t){this.aggregatedStore?this.getLinkQueue().then(n=>{t??this.isCloseable(n,!1)?(this.aggregatedStore&&setTimeout(()=>this.aggregatedStore.end()),super.destroy(t)):this.wasForcefullyClosed=!0}).catch(n=>super.destroy(n)):super.destroy(t)}isCloseable(t,n){return(n?t.isEmpty():this.wasForcefullyClosed||t.isEmpty())&&!this.areIteratorsRunning()}canStartNewIterator(){return!this.wasForcefullyClosed&&this.aggregatedStore&&this.aggregatedStore.hasRunningIterators()||super.canStartNewIterator()}canStartNewIteratorConsiderReadable(){return!this.aggregatedStore}isRunning(){return this.aggregatedStore&&this.aggregatedStore.hasRunningIterators()||!this.done}getLinkQueue(){return this.linkQueue||(this.linkQueue=this.mediatorRdfResolveHypermediaLinksQueue.mediate({firstUrl:this.firstUrl,context:this.context}).then(t=>t.linkQueue)),this.linkQueue}async getSourceLinks(t,n){try{const{links:r}=await this.mediatorRdfResolveHypermediaLinks.mediate({context:this.context,metadata:t}),u=this.context.get(c.KeysStatistics.discoveredLinks);if(u)for(const l of r)u.updateStatistic({url:l.url,metadata:{...l.metadata}},n.link);return r.filter(l=>!this.handledUrls[l.url]&&(this.handledUrls[l.url]=!0,!0))}catch{return[]}}startIterator(t){if(this.aggregatedStore&&!this.aggregatedStore.containedSources.has(t.link.url)){this.aggregatedStore?.containedSources.add(t.link.url);const n=t.source.queryBindings(this.algebraFactory.createPattern(this.dataFactory.variable("s"),this.dataFactory.variable("p"),this.dataFactory.variable("o"),this.dataFactory.variable("g")),this.context.set(c.KeysQueryOperation.unionDefaultGraph,!0)).map(r=>this.dataFactory.quad(r.get("s"),r.get("p"),r.get("o"),r.get("g")));this.aggregatedStore.import(n).on("end",()=>{super.startIterator(t)})}else super.startIterator(t)}async accumulateMetadata(t,n){return(await this.mediatorMetadataAccumulate.mediate({mode:"append",accumulatedMetadata:t,appendingMetadata:n,context:this.context})).metadata}updateMetadata(t){super.updateMetadata(t),this.aggregatedStore?.setBaseMetadata(t,!0)}}e.MediatedLinkedRdfSourcesAsyncRdfIterator=o},10448:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfParseN3=void 0;const c=s(95124),a=s(90711),o=s(25828);class i extends c.ActorRdfParseFixedMediaTypes{constructor(n){super(n)}async runHandle(n,r,u){const l=n.context.getSafe(a.KeysInitQuery.dataFactory);n.data.on("error",p=>d.emit("error",p));const d=n.data.pipe(new o.StreamParser({factory:l,baseIRI:n.metadata?.baseIRI,format:r.endsWith("n3")?r:`${r}*`}));return{data:d,metadata:{triples:r==="text/turtle"||r==="application/n-triples"||r==="text/n3"}}}}e.ActorRdfParseN3=i},10513:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.stringQuadToQuad=e.quadToStringQuad=e.stringToTerm=e.getLiteralLanguage=e.getLiteralType=e.getLiteralValue=e.termToString=void 0;const c=new(s(47793)).DataFactory;function a(r){if(r)switch(r.termType){case"NamedNode":case"DefaultGraph":return r.value;case"BlankNode":return"_:"+r.value;case"Literal":const u=r;return'"'+u.value+'"'+(u.datatype&&u.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&u.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?"^^"+u.datatype.value:"")+(u.language?"@"+u.language:"");case"Quad":return`<<${a(r.subject)} ${a(r.predicate)} ${a(r.object)}${r.graph.termType==="DefaultGraph"?"":" "+a(r.graph)}>>`;case"Variable":return"?"+r.value}}function o(r){const u=/^"([^]*)"/.exec(r);if(!u)throw new Error(r+" is not a literal");return u[1]}function i(r){const u=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(r);if(!u)throw new Error(r+" is not a literal");return u[1]||(u[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}function t(r){const u=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(r);if(!u)throw new Error(r+" is not a literal");return u[1]?u[1].toLowerCase():""}function n(r,u){if(u=u||c,!r||!r.length)return u.defaultGraph();switch(r[0]){case"_":return u.blankNode(r.substr(2));case"?":if(!u.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return u.variable(r.substr(1));case'"':const l=t(r),d=u.namedNode(i(r));return u.literal(o(r),l||d);default:if(r[0]==="<"&&r.length>4&&r[1]==="<"&&r[r.length-1]===">"&&r[r.length-2]===">"){const p=r.slice(2,-2).trim();let f=[],h=0,y=0,m=!1;for(let b=0;b<p.length;b++){const v=p[b];if(v==="<"&&h++,v===">"){if(h===0)throw new Error("Found closing tag without opening tag in "+r);h--}if(v==='"'){let _=!1,w=b;for(;w-- >0&&p[w]==="\\";)_=!_;_||(m=!m)}if(v===" "&&!m&&h===0){for(f.push(p.slice(y,b));p[b+1]===" ";)b+=1;y=b+1}}if(h!==0)throw new Error("Found opening tag without closing tag in "+r);if(f.push(p.slice(y,p.length)),f.length!==3&&f.length!==4)throw new Error("Nested quad syntax error "+r);return f=f.map(b=>b.startsWith("<")&&!b.includes(" ")?b.slice(1,-1):b),u.quad(n(f[0]),n(f[1]),n(f[2]),f[3]?n(f[3]):void 0)}return u.namedNode(r)}}e.termToString=a,e.getLiteralValue=o,e.getLiteralType=i,e.getLiteralLanguage=t,e.stringToTerm=n,e.quadToStringQuad=function(r){return{subject:a(r.subject),predicate:a(r.predicate),object:a(r.object),graph:a(r.graph)}},e.stringQuadToQuad=function(r,u){return(u=u||c).quad(n(r.subject,u),n(r.predicate,u),n(r.object,u),n(r.graph,u))}},10532:g=>{g.exports=JSON.parse('{"@context":{"as":"https://www.w3.org/ns/activitystreams#","cat":"http://www.w3.org/ns/dcat#","cc":"http://creativecommons.org/ns#","cnt":"http://www.w3.org/2008/content#","csvw":"http://www.w3.org/ns/csvw#","ctag":"http://commontag.org/ns#","dc":"http://purl.org/dc/terms/","dc11":"http://purl.org/dc/elements/1.1/","dcat":"http://www.w3.org/ns/dcat#","dcterms":"http://purl.org/dc/terms/","dqv":"http://www.w3.org/ns/dqv#","duv":"https://www.w3.org/TR/vocab-duv#","earl":"http://www.w3.org/ns/earl#","foaf":"http://xmlns.com/foaf/0.1/","gldp":"http://www.w3.org/ns/people#","gr":"http://purl.org/goodrelations/v1#","grddl":"http://www.w3.org/2003/g/data-view#","ht":"http://www.w3.org/2006/http#","ical":"http://www.w3.org/2002/12/cal/icaltzd#","ldp":"http://www.w3.org/ns/ldp#","ma":"http://www.w3.org/ns/ma-ont#","oa":"http://www.w3.org/ns/oa#","odrl":"http://www.w3.org/ns/odrl/2/","og":"http://ogp.me/ns#","org":"http://www.w3.org/ns/org#","owl":"http://www.w3.org/2002/07/owl#","prov":"http://www.w3.org/ns/prov#","ptr":"http://www.w3.org/2009/pointers#","qb":"http://purl.org/linked-data/cube#","rev":"http://purl.org/stuff/rev#","rdf":"http://www.w3.org/1999/02/22-rdf-syntax-ns#","rdfa":"http://www.w3.org/ns/rdfa#","rdfs":"http://www.w3.org/2000/01/rdf-schema#","rif":"http://www.w3.org/2007/rif#","rr":"http://www.w3.org/ns/r2rml#","schema":"http://schema.org/","sd":"http://www.w3.org/ns/sparql-service-description#","sioc":"http://rdfs.org/sioc/ns#","skos":"http://www.w3.org/2004/02/skos/core#","skosxl":"http://www.w3.org/2008/05/skos-xl#","ssn":"http://www.w3.org/ns/ssn/","sosa":"http://www.w3.org/ns/sosa/","time":"http://www.w3.org/2006/time#","v":"http://rdf.data-vocabulary.org/#","vcard":"http://www.w3.org/2006/vcard/ns#","void":"http://rdfs.org/ns/void#","wdr":"http://www.w3.org/2007/05/powder#","wdrs":"http://www.w3.org/2007/05/powder-s#","xhv":"http://www.w3.org/1999/xhtml/vocab#","xml":"http://www.w3.org/XML/1998/namespace","xsd":"http://www.w3.org/2001/XMLSchema#","describedby":"http://www.w3.org/2007/05/powder-s#describedby","license":"http://www.w3.org/1999/xhtml/vocab#license","role":"http://www.w3.org/1999/xhtml/vocab#role"}}')},10601:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorDereferenceFallback=void 0;const c=s(42890),a=s(90412);class o extends c.ActorDereference{constructor(t){super(t)}async test(t){return(0,a.passTestVoid)()}async run(t){return this.handleDereferenceErrors(t,new Error(`Could not dereference '${t.url}'`))}}e.ActorDereferenceFallback=o},10607:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(78867),e)},10766:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},10888:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Util=void 0;const c=s(42395),a=s(47793),o=s(64860),i=s(82341);class t{constructor(r){this.parsingContext=r.parsingContext,this.dataFactory=r.dataFactory||new a.DataFactory,this.rdfFirst=this.dataFactory.namedNode(t.RDF+"first"),this.rdfRest=this.dataFactory.namedNode(t.RDF+"rest"),this.rdfNil=this.dataFactory.namedNode(t.RDF+"nil"),this.rdfType=this.dataFactory.namedNode(t.RDF+"type"),this.rdfJson=this.dataFactory.namedNode(t.RDF+"JSON")}static getContextValue(r,u,l,d){const p=r.getContextRaw()[l];if(!p)return d;const f=p[u];return f===void 0?d:f}static getContextValueContainer(r,u){return t.getContextValue(r,"@container",u,{"@set":!0})}static getContextValueType(r,u){const l=t.getContextValue(r,"@type",u,null);return l==="@none"?null:l}static getContextValueLanguage(r,u){return t.getContextValue(r,"@language",u,r.getContextRaw()["@language"]||null)}static getContextValueDirection(r,u){return t.getContextValue(r,"@direction",u,r.getContextRaw()["@direction"]||null)}static isContextValueReverse(r,u){return!!t.getContextValue(r,"@reverse",u,null)}static getContextValueIndex(r,u){return t.getContextValue(r,"@index",u,r.getContextRaw()["@index"]||null)}static isPropertyReverse(r,u,l){return l==="@reverse"!==t.isContextValueReverse(r,u)}static isPropertyInEmbeddedNode(r){return r==="@id"}static isPropertyInAnnotationObject(r){return r==="@annotation"}static isValidIri(r){return r!==null&&c.Util.isValidIri(r)}static isPrefixArray(r,u){if(r.length>u.length)return!1;for(let l=0;l<r.length;l++)if(r[l]!==u[l])return!1;return!0}async validateValueIndexes(r){if(this.parsingContext.validateValueIndexes){const u={};for(const l of r)if(l&&typeof l=="object"){const d=l["@id"],p=l["@index"];if(d&&p){const f=u[d];if(f&&f!==p)throw new c.ErrorCoded(`Conflicting @index value for ${d}`,c.ERROR_CODES.CONFLICTING_INDEXES);u[d]=p}}}}async valueToTerm(r,u,l,d,p){if(t.getContextValueType(r,u)==="@json")return[this.dataFactory.literal(this.valueToJsonString(l),this.rdfJson)];const f=typeof l;switch(f){case"object":if(l==null)return[];if(Array.isArray(l))return"@list"in t.getContextValueContainer(r,u)?l.length===0?[this.rdfNil]:this.parsingContext.idStack[d+1]||[]:(await this.validateValueIndexes(l),[]);if(r=await this.getContextSelfOrPropertyScoped(r,u),"@context"in l&&(r=await this.parsingContext.parseContext(l["@context"],(await this.parsingContext.getContext(p,0)).getContextRaw())),"@value"in(l=await this.unaliasKeywords(l,p,d,r))){let h,y,m,b,v;for(u in l){const _=l[u];switch(u){case"@value":h=_;break;case"@language":y=_;break;case"@direction":m=_;break;case"@type":b=_;break;case"@index":v=_;break;case"@annotation":break;default:throw new c.ErrorCoded(`Unknown value entry '${u}' in @value: ${JSON.stringify(l)}`,c.ERROR_CODES.INVALID_VALUE_OBJECT)}}if(await this.unaliasKeyword(b,p,d,!0,r)==="@json")return[this.dataFactory.literal(this.valueToJsonString(h),this.rdfJson)];if(h===null)return[];if(typeof h=="object")throw new c.ErrorCoded(`The value of an '@value' can not be an object, got '${JSON.stringify(h)}'`,c.ERROR_CODES.INVALID_VALUE_OBJECT_VALUE);if(this.parsingContext.validateValueIndexes&&v&&typeof v!="string")throw new c.ErrorCoded(`The value of an '@index' must be a string, got '${JSON.stringify(v)}'`,c.ERROR_CODES.INVALID_INDEX_VALUE);if(y){if(typeof h!="string")throw new c.ErrorCoded(`When an '@language' is set, the value of '@value' must be a string, got '${JSON.stringify(h)}'`,c.ERROR_CODES.INVALID_LANGUAGE_TAGGED_VALUE);if(!c.ContextParser.validateLanguage(y,this.parsingContext.strictValues,c.ERROR_CODES.INVALID_LANGUAGE_TAGGED_STRING))return[];(this.parsingContext.normalizeLanguageTags||this.parsingContext.activeProcessingMode===1)&&(y=y.toLowerCase())}if(m){if(typeof h!="string")throw new Error(`When an '@direction' is set, the value of '@value' must be a string, got '${JSON.stringify(h)}'`);if(!c.ContextParser.validateDirection(m,this.parsingContext.strictValues))return[]}if(y&&m&&this.parsingContext.rdfDirection){if(b)throw new c.ErrorCoded(`Can not have '@language', '@direction' and '@type' in a value: '${JSON.stringify(l)}'`,c.ERROR_CODES.INVALID_VALUE_OBJECT);return this.nullableTermToArray(this.createLanguageDirectionLiteral(d,h,y,m))}if(y){if(b)throw new c.ErrorCoded(`Can not have both '@language' and '@type' in a value: '${JSON.stringify(l)}'`,c.ERROR_CODES.INVALID_VALUE_OBJECT);return[this.dataFactory.literal(h,y)]}if(m&&this.parsingContext.rdfDirection){if(b)throw new c.ErrorCoded(`Can not have both '@direction' and '@type' in a value: '${JSON.stringify(l)}'`,c.ERROR_CODES.INVALID_VALUE_OBJECT);return this.nullableTermToArray(this.createLanguageDirectionLiteral(d,h,y,m))}if(b){if(typeof b!="string")throw new c.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(b)}'`,c.ERROR_CODES.INVALID_TYPED_VALUE);const _=this.createVocabOrBaseTerm(r,b);if(!_)throw new c.ErrorCoded(`Invalid '@type' value, got '${JSON.stringify(b)}'`,c.ERROR_CODES.INVALID_TYPED_VALUE);if(_.termType!=="NamedNode")throw new c.ErrorCoded(`Illegal value type (${_.termType}): ${b}`,c.ERROR_CODES.INVALID_TYPED_VALUE);return[this.dataFactory.literal(h,_)]}return await this.valueToTerm(new c.JsonLdContextNormalized({}),u,h,d,p)}if("@set"in l){if(Object.keys(l).length>1)throw new c.ErrorCoded(`Found illegal neighbouring entries next to @set for key: '${u}'`,c.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT);return[]}if("@list"in l){if(Object.keys(l).length>1)throw new c.ErrorCoded(`Found illegal neighbouring entries next to @list for key: '${u}'`,c.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT);const h=l["@list"];return Array.isArray(h)?h.length===0?[this.rdfNil]:this.parsingContext.idStack[d+1]||[]:await this.valueToTerm(await this.parsingContext.getContext(p),u,h,d-1,p.slice(0,-1))}if("@reverse"in l&&typeof l["@reverse"]=="boolean")return[];if("@graph"in t.getContextValueContainer(await this.parsingContext.getContext(p),u)){const h=this.parsingContext.graphContainerTermStack[d+1];return h?Object.values(h):[this.dataFactory.blankNode()]}if("@id"in l){if(Object.keys(l).length>1&&(r=await this.parsingContext.getContext(p,0)),"@context"in l&&(r=await this.parsingContext.parseContext(l["@context"],r.getContextRaw())),l["@type"]==="@vocab")return this.nullableTermToArray(this.createVocabOrBaseTerm(r,l["@id"]));{const h=l["@id"];let y;if(typeof h=="object"){if(!this.parsingContext.rdfstar)throw new c.ErrorCoded(`Found illegal @id '${l}'`,c.ERROR_CODES.INVALID_ID_VALUE);y=this.parsingContext.idStack[d+1][0]}else y=this.resourceToTerm(r,h);return this.nullableTermToArray(y)}}return this.parsingContext.emittedStack[d+1]||l&&typeof l=="object"&&Object.keys(l).length===0?this.parsingContext.idStack[d+1]||(this.parsingContext.idStack[d+1]=[this.dataFactory.blankNode()]):[];case"string":return this.nullableTermToArray(this.stringValueToTerm(d,await this.getContextSelfOrPropertyScoped(r,u),u,l,null));case"boolean":return this.nullableTermToArray(this.stringValueToTerm(d,await this.getContextSelfOrPropertyScoped(r,u),u,(!!l).toString(),this.dataFactory.namedNode(t.XSD_BOOLEAN)));case"number":return this.nullableTermToArray(this.stringValueToTerm(d,await this.getContextSelfOrPropertyScoped(r,u),u,l,this.dataFactory.namedNode(l%1==0&&l<1e21?t.XSD_INTEGER:t.XSD_DOUBLE)));default:return this.parsingContext.emitError(new Error(`Could not determine the RDF type of a ${f}`)),[]}}async getContextSelfOrPropertyScoped(r,u){const l=r.getContextRaw()[u];return l&&typeof l=="object"&&"@context"in l&&(r=await this.parsingContext.parseContext(l,r.getContextRaw(),!0)),r}nullableTermToArray(r){return r?[r]:[]}predicateToTerm(r,u){const l=r.expandTerm(u,!0,this.parsingContext.getExpandOptions());return l?l[0]==="_"&&l[1]===":"?this.parsingContext.produceGeneralizedRdf?this.dataFactory.blankNode(l.substr(2)):null:t.isValidIri(l)?this.dataFactory.namedNode(l):(l&&this.parsingContext.strictValues&&this.parsingContext.emitError(new c.ErrorCoded(`Invalid predicate IRI: ${l}`,c.ERROR_CODES.INVALID_IRI_MAPPING)),null):null}resourceToTerm(r,u){if(u.startsWith("_:"))return this.dataFactory.blankNode(u.substr(2));const l=r.expandTerm(u,!1,this.parsingContext.getExpandOptions());if(!t.isValidIri(l)){if(!l||!this.parsingContext.strictValues)return null;this.parsingContext.emitError(new Error(`Invalid resource IRI: ${l}`))}return this.dataFactory.namedNode(l)}createVocabOrBaseTerm(r,u){if(u.startsWith("_:"))return this.dataFactory.blankNode(u.substr(2));const l=this.parsingContext.getExpandOptions();let d=r.expandTerm(u,!0,l);if(d===u&&(d=r.expandTerm(u,!1,l)),!t.isValidIri(d)){if(!d||!this.parsingContext.strictValues||d.startsWith("@"))return null;this.parsingContext.emitError(new Error(`Invalid term IRI: ${d}`))}return this.dataFactory.namedNode(d)}intToString(r,u){return typeof r=="number"?Number.isFinite(r)?r%1!=0||u&&u.value===t.XSD_DOUBLE?r.toExponential(15).replace(/(\d)0*e\+?/,"$1E"):Number(r).toString():r>0?"INF":"-INF":r}stringValueToTerm(r,u,l,d,p){const f=t.getContextValueType(u,l);if(f)if(f==="@id"){if(!p)return this.resourceToTerm(u,this.intToString(d,p))}else if(f==="@vocab"){if(!p)return this.createVocabOrBaseTerm(u,this.intToString(d,p))}else p=this.dataFactory.namedNode(f);if(!p){const h=t.getContextValueLanguage(u,l),y=t.getContextValueDirection(u,l);return y&&this.parsingContext.rdfDirection?this.createLanguageDirectionLiteral(r,this.intToString(d,p),h,y):this.dataFactory.literal(this.intToString(d,p),h)}return this.dataFactory.literal(this.intToString(d,p),p)}createLanguageDirectionLiteral(r,u,l,d){if(this.parsingContext.rdfDirection==="i18n-datatype")return l||(l=""),this.dataFactory.literal(u,this.dataFactory.namedNode(`https://www.w3.org/ns/i18n#${l}_${d}`));{const p=this.dataFactory.blankNode(),f=this.getDefaultGraph();return this.parsingContext.emitQuad(r,this.dataFactory.quad(p,this.dataFactory.namedNode(t.RDF+"value"),this.dataFactory.literal(u),f)),l&&this.parsingContext.emitQuad(r,this.dataFactory.quad(p,this.dataFactory.namedNode(t.RDF+"language"),this.dataFactory.literal(l),f)),this.parsingContext.emitQuad(r,this.dataFactory.quad(p,this.dataFactory.namedNode(t.RDF+"direction"),this.dataFactory.literal(d),f)),p}}valueToJsonString(r){return i(r)}async unaliasKeyword(r,u,l,d,p){if(Number.isInteger(r))return r;if(!d){const f=this.parsingContext.unaliasedKeywordCacheStack[l];if(f)return f}if(!c.Util.isPotentialKeyword(r)){let f=(p=p||await this.parsingContext.getContext(u)).getContextRaw()[r];f&&typeof f=="object"&&(f=f["@id"]),c.Util.isValidKeyword(f)&&(r=f)}return d?r:this.parsingContext.unaliasedKeywordCacheStack[l]=r}async unaliasKeywordParent(r,u){return await this.unaliasKeyword(u>0&&r[u-1],r,u-1)}async unaliasKeywords(r,u,l,d){const p={};for(const f in r)p[await this.unaliasKeyword(f,u,l+1,!0,d)]=r[f];return p}async isLiteral(r,u){for(let l=u;l>=0;l--){if(await this.unaliasKeyword(r[l],r,l)==="@annotation")return!1;if(this.parsingContext.literalStack[l]||this.parsingContext.jsonLiteralStack[l])return!0}return!1}async getDepthOffsetGraph(r,u){for(let l=r-1;l>0;l--)if(await this.unaliasKeyword(u[l],u,l)==="@graph"){const d=(await o.EntryHandlerContainer.getContainerHandler(this.parsingContext,u,l)).containers;return o.EntryHandlerContainer.isComplexGraphContainer(d)?-1:r-l-1}return-1}validateReverseSubject(r){if(r.termType==="Literal")throw new c.ErrorCoded(`Found illegal literal in subject position: ${r.value}`,c.ERROR_CODES.INVALID_REVERSE_PROPERTY_VALUE)}getDefaultGraph(){return this.parsingContext.defaultGraph||this.dataFactory.defaultGraph()}async getGraphContainerValue(r,u){let l=this.getDefaultGraph();const{containers:d,depth:p}=await o.EntryHandlerContainer.getContainerHandler(this.parsingContext,r,u);if("@graph"in d){const f=o.EntryHandlerContainer.getContainerGraphIndex(d,p,r),h=this.parsingContext.graphContainerTermStack[p];if(l=h?h[f]:null,!l){let y=null;if("@id"in d){const m=await this.getContainerKey(r[p],r,p);m!==null&&(y=await this.resourceToTerm(await this.parsingContext.getContext(r),m))}y||(y=this.dataFactory.blankNode()),this.parsingContext.graphContainerTermStack[p]||(this.parsingContext.graphContainerTermStack[p]={}),l=this.parsingContext.graphContainerTermStack[p][f]=y}}return l}async getPropertiesDepth(r,u){let l=u;for(let d=u-1;d>0;d--)if(typeof r[d]!="number"){const p=await this.unaliasKeyword(r[d],r,d);if(p==="@reverse")return d;if(p!=="@nest")return l;l=d}return l}async getContainerKey(r,u,l){const d=await this.unaliasKeyword(r,u,l);return d==="@none"?null:d}validateReverseInEmbeddedNode(r,u,l){if(l&&u&&!this.parsingContext.rdfstarReverseInEmbedded)throw new c.ErrorCoded(`Illegal reverse property in embedded node in ${r}`,c.ERROR_CODES.INVALID_EMBEDDED_NODE)}emitQuadChecked(r,u,l,d,p,f,h){let y;if(f?(this.validateReverseSubject(d),y=this.dataFactory.quad(d,l,u,p)):y=this.dataFactory.quad(u,l,d,p),h){if(y.graph.termType!=="DefaultGraph"&&(y=this.dataFactory.quad(y.subject,y.predicate,y.object)),this.parsingContext.idStack[r-1])throw new c.ErrorCoded("Illegal multiple properties in an embedded node",c.ERROR_CODES.INVALID_EMBEDDED_NODE);this.parsingContext.idStack[r-1]=[y]}else this.parsingContext.emitQuad(r,y);const m=this.parsingContext.annotationsBuffer[r];if(m){for(const b of m)this.emitAnnotation(r,y,b);delete this.parsingContext.annotationsBuffer[r]}}emitAnnotation(r,u,l){let d;l.reverse?(this.validateReverseSubject(l.object),d=this.dataFactory.quad(l.object,l.predicate,u)):d=this.dataFactory.quad(u,l.predicate,l.object),this.parsingContext.emitQuad(r,d);for(const p of l.nestedAnnotations)this.emitAnnotation(r,d,p)}}t.XSD="http://www.w3.org/2001/XMLSchema#",t.XSD_BOOLEAN=t.XSD+"boolean",t.XSD_INTEGER=t.XSD+"integer",t.XSD_DOUBLE=t.XSD+"double",t.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",e.Util=t},11304:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermIsTriple=void 0;const c=s(77617),a=s(77545),o=s(99669);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.SparqlOperator.IS_TRIPLE],termFunction:!0})}async run(n){return new o.TermFunctionIsTriple}}e.ActorFunctionFactoryTermIsTriple=i},11370:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorDereferenceRdf=void 0;const c=s(42890);class a extends c.ActorDereferenceParse{constructor(i){super(i)}}e.ActorDereferenceRdf=a},11501:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default={deactivated:!0,severity:!0,message:!0,class:!0,datatype:!0,nodeKind:!0,minExclusive:!0,minInclusive:!0,maxExclusive:!0,maxInclusive:!0,minLength:!0,maxLength:!0,pattern:!0,flags:!0,languageIn:!0,uniqueLang:!0,equals:!0,disjoint:!0,lessThan:!0,lessThanOrEquals:!0,qualifiedValueShape:!0,qualifiedMinCount:!0,qualifiedMaxCount:!0,qualifiedValueShapesDisjoint:!0,closed:!0,ignoredProperties:!0,hasValue:!0,in:!0,node:!0}},11554:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(83161),e)},11558:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(94424),e)},11582:(g,e)=>{function s(a,o,i,t){if(o.type==="conjunction")return o.children.every(r=>s(a,r,i,t));if(o.type==="disjunction")return o.children.some(r=>s(a,r,i,t));if(o.type==="arity")return s(a,o.child,i,t);if((t?.joinBindings&&!o.joinBindings)??(t?.filterBindings&&!o.filterBindings))return!1;const n=o.operation;switch(n.operationType){case"type":return!!c(a,0,i,t)&&n.type===i.type;case"pattern":return!!c(a,0,i,t)&&n.pattern.type===i.type;case"wildcard":return!0}}function c(a,o,i,t){return!(i.input&&!(Array.isArray(i.input)?i.input:[i.input]).every(n=>s(a,a,n,t)))&&!(i.patterns&&!i.patterns.every(n=>s(a,a,n,t)))}Object.defineProperty(e,"__esModule",{value:!0}),e.doesShapeAcceptOperation=void 0,e.doesShapeAcceptOperation=function(a,o,i){return s(a,a,o,i)}},11658:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionRegex=void 0;const c=s(77617),a=s(77545);class o extends c.TermFunctionBase{constructor(){super({arity:[2,3],operator:a.SparqlOperator.REGEX,overloads:(0,a.declare)(a.SparqlOperator.REGEX).onBinaryTyped([a.TypeAlias.SPARQL_STRINGLY,a.TypeURL.XSD_STRING],o.regex2).onTernaryTyped([a.TypeAlias.SPARQL_STRINGLY,a.TypeURL.XSD_STRING,a.TypeURL.XSD_STRING],o.regex3).collect()})}static regex2(){return(t,n)=>(0,a.bool)(o.matches(t,n))}static regex3(){return(t,n,r)=>(0,a.bool)(o.matches(t,n,r))}static matches(t,n,r=""){return(r=o.cleanFlags(r)).includes("x")&&(n=o.flagX(n)),r.includes("q")&&(n=o.flagQ(n)),new RegExp(n,r.replaceAll(/[qx]/gu,"")).test(t)}static cleanFlags(t){if(!/^[imsxq]*$/u.test(t))throw new Error("Invalid flags");const n=[...t].find((r,u,l)=>l.indexOf(r)!==u);if(n)throw new Error(`Duplicate flag: ${n}`);return t?.includes("q")&&(t=t.replaceAll(/[msx]/gu,"")),`${t}u`}static flagX(t){if(!t)return t;let n=t[0];for(;["	",`
`,"\r"," "].includes(n);)n=(t=t.slice(1))[0];let r=n==="[";for(let u=1;u<t.length;u++){const l=t[u];["	",`
`,"\r"," "].includes(l)&&!r?(t=t.slice(0,u)+t.slice(u+1),u--):l==="["&&n!=="\\"?r=!0:l==="]"&&n!=="\\"&&(r=!1),n=l}return t}static flagQ(t){return t.replaceAll(/([?+*.{}()[\]\\|])/gu,"\\$1").replaceAll(/^\^/gu,"\\^").replaceAll(/\$$/gu,"\\$")}}e.TermFunctionRegex=o},11724:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(v,_,w,O){O===void 0&&(O=w);var A=Object.getOwnPropertyDescriptor(_,w);A&&!("get"in A?!_.__esModule:A.writable||A.configurable)||(A={enumerable:!0,get:function(){return _[w]}}),Object.defineProperty(v,O,A)}:function(v,_,w,O){O===void 0&&(O=w),v[O]=_[w]}),a=this&&this.__setModuleDefault||(Object.create?function(v,_){Object.defineProperty(v,"default",{enumerable:!0,value:_})}:function(v,_){v.default=_}),o=this&&this.__importStar||function(v){if(v&&v.__esModule)return v;var _={};if(v!=null)for(var w in v)w!=="default"&&Object.prototype.hasOwnProperty.call(v,w)&&c(_,v,w);return a(_,v),_};Object.defineProperty(e,"__esModule",{value:!0}),e.Parser=void 0;var i=o(s(57918)),t=s(79878),n=new Set(["input","option","optgroup","select","button","datalist","textarea"]),r=new Set(["p"]),u=new Set(["thead","tbody"]),l=new Set(["dd","dt"]),d=new Set(["rt","rp"]),p=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",r],["h1",r],["h2",r],["h3",r],["h4",r],["h5",r],["h6",r],["select",n],["input",n],["output",n],["button",n],["datalist",n],["textarea",n],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",l],["dt",l],["address",r],["article",r],["aside",r],["blockquote",r],["details",r],["div",r],["dl",r],["fieldset",r],["figcaption",r],["figure",r],["footer",r],["form",r],["header",r],["hr",r],["main",r],["nav",r],["ol",r],["pre",r],["section",r],["table",r],["ul",r],["rt",d],["rp",d],["tbody",u],["tfoot",u]]),f=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),h=new Set(["math","svg"]),y=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),m=/\s|\//,b=function(){function v(_,w){var O,A,T,S,E;w===void 0&&(w={}),this.options=w,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=_??{},this.lowerCaseTagNames=(O=w.lowerCaseTags)!==null&&O!==void 0?O:!w.xmlMode,this.lowerCaseAttributeNames=(A=w.lowerCaseAttributeNames)!==null&&A!==void 0?A:!w.xmlMode,this.tokenizer=new((T=w.Tokenizer)!==null&&T!==void 0?T:i.default)(this.options,this),(E=(S=this.cbs).onparserinit)===null||E===void 0||E.call(S,this)}return v.prototype.ontext=function(_,w){var O,A,T=this.getSlice(_,w);this.endIndex=w-1,(A=(O=this.cbs).ontext)===null||A===void 0||A.call(O,T),this.startIndex=w},v.prototype.ontextentity=function(_){var w,O,A=this.tokenizer.getSectionStart();this.endIndex=A-1,(O=(w=this.cbs).ontext)===null||O===void 0||O.call(w,(0,t.fromCodePoint)(_)),this.startIndex=A},v.prototype.isVoidElement=function(_){return!this.options.xmlMode&&f.has(_)},v.prototype.onopentagname=function(_,w){this.endIndex=w;var O=this.getSlice(_,w);this.lowerCaseTagNames&&(O=O.toLowerCase()),this.emitOpenTag(O)},v.prototype.emitOpenTag=function(_){var w,O,A,T;this.openTagStart=this.startIndex,this.tagname=_;var S=!this.options.xmlMode&&p.get(_);if(S)for(;this.stack.length>0&&S.has(this.stack[this.stack.length-1]);){var E=this.stack.pop();(O=(w=this.cbs).onclosetag)===null||O===void 0||O.call(w,E,!0)}this.isVoidElement(_)||(this.stack.push(_),h.has(_)?this.foreignContext.push(!0):y.has(_)&&this.foreignContext.push(!1)),(T=(A=this.cbs).onopentagname)===null||T===void 0||T.call(A,_),this.cbs.onopentag&&(this.attribs={})},v.prototype.endOpenTag=function(_){var w,O;this.startIndex=this.openTagStart,this.attribs&&((O=(w=this.cbs).onopentag)===null||O===void 0||O.call(w,this.tagname,this.attribs,_),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""},v.prototype.onopentagend=function(_){this.endIndex=_,this.endOpenTag(!1),this.startIndex=_+1},v.prototype.onclosetag=function(_,w){var O,A,T,S,E,D;this.endIndex=w;var I=this.getSlice(_,w);if(this.lowerCaseTagNames&&(I=I.toLowerCase()),(h.has(I)||y.has(I))&&this.foreignContext.pop(),this.isVoidElement(I))this.options.xmlMode||I!=="br"||((A=(O=this.cbs).onopentagname)===null||A===void 0||A.call(O,"br"),(S=(T=this.cbs).onopentag)===null||S===void 0||S.call(T,"br",{},!0),(D=(E=this.cbs).onclosetag)===null||D===void 0||D.call(E,"br",!1));else{var V=this.stack.lastIndexOf(I);if(V!==-1)if(this.cbs.onclosetag)for(var K=this.stack.length-V;K--;)this.cbs.onclosetag(this.stack.pop(),K!==0);else this.stack.length=V;else this.options.xmlMode||I!=="p"||(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=w+1},v.prototype.onselfclosingtag=function(_){this.endIndex=_,this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?(this.closeCurrentTag(!1),this.startIndex=_+1):this.onopentagend(_)},v.prototype.closeCurrentTag=function(_){var w,O,A=this.tagname;this.endOpenTag(_),this.stack[this.stack.length-1]===A&&((O=(w=this.cbs).onclosetag)===null||O===void 0||O.call(w,A,!_),this.stack.pop())},v.prototype.onattribname=function(_,w){this.startIndex=_;var O=this.getSlice(_,w);this.attribname=this.lowerCaseAttributeNames?O.toLowerCase():O},v.prototype.onattribdata=function(_,w){this.attribvalue+=this.getSlice(_,w)},v.prototype.onattribentity=function(_){this.attribvalue+=(0,t.fromCodePoint)(_)},v.prototype.onattribend=function(_,w){var O,A;this.endIndex=w,(A=(O=this.cbs).onattribute)===null||A===void 0||A.call(O,this.attribname,this.attribvalue,_===i.QuoteType.Double?'"':_===i.QuoteType.Single?"'":_===i.QuoteType.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""},v.prototype.getInstructionName=function(_){var w=_.search(m),O=w<0?_:_.substr(0,w);return this.lowerCaseTagNames&&(O=O.toLowerCase()),O},v.prototype.ondeclaration=function(_,w){this.endIndex=w;var O=this.getSlice(_,w);if(this.cbs.onprocessinginstruction){var A=this.getInstructionName(O);this.cbs.onprocessinginstruction("!".concat(A),"!".concat(O))}this.startIndex=w+1},v.prototype.onprocessinginstruction=function(_,w){this.endIndex=w;var O=this.getSlice(_,w);if(this.cbs.onprocessinginstruction){var A=this.getInstructionName(O);this.cbs.onprocessinginstruction("?".concat(A),"?".concat(O))}this.startIndex=w+1},v.prototype.oncomment=function(_,w,O){var A,T,S,E;this.endIndex=w,(T=(A=this.cbs).oncomment)===null||T===void 0||T.call(A,this.getSlice(_,w-O)),(E=(S=this.cbs).oncommentend)===null||E===void 0||E.call(S),this.startIndex=w+1},v.prototype.oncdata=function(_,w,O){var A,T,S,E,D,I,V,K,B,$;this.endIndex=w;var G=this.getSlice(_,w-O);this.options.xmlMode||this.options.recognizeCDATA?((T=(A=this.cbs).oncdatastart)===null||T===void 0||T.call(A),(E=(S=this.cbs).ontext)===null||E===void 0||E.call(S,G),(I=(D=this.cbs).oncdataend)===null||I===void 0||I.call(D)):((K=(V=this.cbs).oncomment)===null||K===void 0||K.call(V,"[CDATA[".concat(G,"]]")),($=(B=this.cbs).oncommentend)===null||$===void 0||$.call(B)),this.startIndex=w+1},v.prototype.onend=function(){var _,w;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(var O=this.stack.length;O>0;this.cbs.onclosetag(this.stack[--O],!0));}(w=(_=this.cbs).onend)===null||w===void 0||w.call(_)},v.prototype.reset=function(){var _,w,O,A;(w=(_=this.cbs).onreset)===null||w===void 0||w.call(_),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(A=(O=this.cbs).onparserinit)===null||A===void 0||A.call(O,this),this.buffers.length=0,this.bufferOffset=0,this.writeIndex=0,this.ended=!1},v.prototype.parseComplete=function(_){this.reset(),this.end(_)},v.prototype.getSlice=function(_,w){for(;_-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();for(var O=this.buffers[0].slice(_-this.bufferOffset,w-this.bufferOffset);w-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),O+=this.buffers[0].slice(0,w-this.bufferOffset);return O},v.prototype.shiftBuffer=function(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()},v.prototype.write=function(_){var w,O;this.ended?(O=(w=this.cbs).onerror)===null||O===void 0||O.call(w,new Error(".write() after done!")):(this.buffers.push(_),this.tokenizer.running&&(this.tokenizer.write(_),this.writeIndex++))},v.prototype.end=function(_){var w,O;this.ended?(O=(w=this.cbs).onerror)===null||O===void 0||O.call(w,new Error(".end() after done!")):(_&&this.write(_),this.ended=!0,this.tokenizer.end())},v.prototype.pause=function(){this.tokenizer.pause()},v.prototype.resume=function(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()},v.prototype.parseChunk=function(_){this.write(_)},v.prototype.done=function(_){this.end(_)},v}();e.Parser=b},11725:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BlankNode=void 0,e.BlankNode=class{constructor(s){this.termType="BlankNode",this.value=s}equals(s){return!!s&&s.termType==="BlankNode"&&s.value===this.value}}},11752:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BlankNodeBindingsScoped=void 0,e.BlankNodeBindingsScoped=class{constructor(s){this.termType="BlankNode",this.singleBindingsScope=!0,this.value=s}equals(s){return!!s&&s.termType==="BlankNode"&&s.value===this.value}}},11767:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(4136),e)},11832:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(40932),e)},11867:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermDivision=void 0;const c=s(77617),a=s(77545),o=s(39878);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.SparqlOperator.DIVISION],termFunction:!0})}async run(n){return new o.TermFunctionDivision}}e.ActorFunctionFactoryTermDivision=i},11930:(g,e,s)=>{function c(v){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},c(v)}function a(){var v,_,w=typeof Symbol=="function"?Symbol:{},O=w.iterator||"@@iterator",A=w.toStringTag||"@@toStringTag";function T($,G,U,W){var ye=G&&G.prototype instanceof E?G:E,ve=Object.create(ye.prototype);return o(ve,"_invoke",function(he,q,L){var R,k,X,oe=0,ee=L||[],me=!1,de={p:0,n:0,v,a:xe,f:xe.bind(v,4),d:function(ne,be){return R=ne,k=0,X=v,de.n=be,S}};function xe(ne,be){for(k=ne,X=be,_=0;!me&&oe&&!ie&&_<ee.length;_++){var ie,ge=ee[_],Ee=de.p,M=ge[2];ne>3?(ie=M===be)&&(X=ge[(k=ge[4])?5:(k=3,3)],ge[4]=ge[5]=v):ge[0]<=Ee&&((ie=ne<2&&Ee<ge[1])?(k=0,de.v=be,de.n=ge[1]):Ee<M&&(ie=ne<3||ge[0]>be||be>M)&&(ge[4]=ne,ge[5]=be,de.n=M,k=0))}if(ie||ne>1)return S;throw me=!0,be}return function(ne,be,ie){if(oe>1)throw TypeError("Generator is already running");for(me&&be===1&&xe(be,ie),k=be,X=ie;(_=k<2?v:X)||!me;){R||(k?k<3?(k>1&&(de.n=-1),xe(k,X)):de.n=X:de.v=X);try{if(oe=2,R){if(k||(ne="next"),_=R[ne]){if(!(_=_.call(R,X)))throw TypeError("iterator result is not an object");if(!_.done)return _;X=_.value,k<2&&(k=0)}else k===1&&(_=R.return)&&_.call(R),k<2&&(X=TypeError("The iterator does not provide a '"+ne+"' method"),k=1);R=v}else if((_=(me=de.n<0)?X:he.call(q,de))!==S)break}catch(ge){R=v,k=1,X=ge}finally{oe=1}}return{value:_,done:me}}}($,U,W),!0),ve}var S={};function E(){}function D(){}function I(){}_=Object.getPrototypeOf;var V=[][O]?_(_([][O]())):(o(_={},O,function(){return this}),_),K=I.prototype=E.prototype=Object.create(V);function B($){return Object.setPrototypeOf?Object.setPrototypeOf($,I):($.__proto__=I,o($,A,"GeneratorFunction")),$.prototype=Object.create(K),$}return D.prototype=I,o(K,"constructor",I),o(I,"constructor",D),D.displayName="GeneratorFunction",o(I,A,"GeneratorFunction"),o(K),o(K,A,"Generator"),o(K,O,function(){return this}),o(K,"toString",function(){return"[object Generator]"}),(a=function(){return{w:T,m:B}})()}function o(v,_,w,O){var A=Object.defineProperty;try{A({},"",{})}catch{A=0}o=function(T,S,E,D){function I(V,K){o(T,V,function(B){return this._invoke(V,K,B)})}S?A?A(T,S,{value:E,enumerable:!D,configurable:!D,writable:!D}):T[S]=E:(I("next",0),I("throw",1),I("return",2))},o(v,_,w,O)}function i(v,_,w,O,A,T,S){try{var E=v[T](S),D=E.value}catch(I){return void w(I)}E.done?_(D):Promise.resolve(D).then(O,A)}function t(v,_){for(var w=0;w<_.length;w++){var O=_[w];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(v,n(O.key),O)}}function n(v){var _=function(w){if(c(w)!="object"||!w)return w;var O=w[Symbol.toPrimitive];if(O!==void 0){var A=O.call(w,"string");if(c(A)!="object")return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(w)}(v);return c(_)=="symbol"?_:_+""}function r(){try{var v=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r=function(){return!!v})()}function u(v){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},u(v)}function l(v,_){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(w,O){return w.__proto__=O,w},l(v,_)}Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryProcessSequentialRecursive=void 0;var d=s(90412),p=s(92423),f=s(96331),h=s(90711),y=s(81926),m=s(67021),b=function(v){function _(S){return function(E,D){if(!(E instanceof D))throw new TypeError("Cannot call a class as a function")}(this,_),function(E,D,I){return D=u(D),function(V,K){if(K&&(c(K)=="object"||typeof K=="function"))return K;if(K!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(B){if(B===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B}(V)}(E,r()?Reflect.construct(D,I||[],u(E).constructor):D.apply(E,I))}(this,_,[S])}return function(S,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(E&&E.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),Object.defineProperty(S,"prototype",{writable:!1}),E&&l(S,E)}(_,v),w=_,O=[{key:"parse",value:(A=a().m(function S(E,D){var I,V,K,B,$,G,U,W;return a().w(function(ye){for(;;)switch(ye.n){case 0:if(D.get(new d.ActionContextKey("initialized"))){ye.n=2;break}return D.get(new d.ActionContextKey("physicalQueryPlanLogger"))&&(I=D.getSafe(new d.ActionContextKey("physicalQueryPlanLogger")),D=D.set(h.KeysInitQuery.physicalQueryPlanLogger,I())),D=D.set(new d.ActionContextKey("initialized"),!0),ye.n=1,this.mediatorContextPreprocess.mediate({context:D,initialize:!0});case 1:D=ye.v.context;case 2:if(typeof E!="string"){ye.n=4;break}return D=D.set(h.KeysInitQuery.queryString,E),K=D.get(h.KeysInitQuery.baseIRI),B=D.get(h.KeysInitQuery.queryFormat),ye.n=3,this.mediatorQueryParse.mediate({context:D,query:E,queryFormat:B,baseIRI:K});case 3:$=ye.v,V=$.operation,$.baseIRI&&(D=D.set(h.KeysInitQuery.baseIRI,$.baseIRI)),ye.n=5;break;case 4:V=E;case 5:if(!D.has(h.KeysInitQuery.initialBindings)){ye.n=7;break}return G=D.getSafe(h.KeysInitQuery.dataFactory),U=new f.Factory(G),ye.n=6,y.BindingsFactory.create(this.mediatorMergeBindingsContext,D,G);case 6:W=ye.v,V=(0,m.materializeOperation)(V,D.get(h.KeysInitQuery.initialBindings),U,W,{strictTargetVariables:!0}),D=D.delete(h.KeysInitQuery.queryString);case 7:return ye.a(2,{operation:V,context:D})}},S,this)}),T=function(){var S=this,E=arguments;return new Promise(function(D,I){var V=A.apply(S,E);function K($){i(V,D,I,K,B,"next",$)}function B($){i(V,D,I,K,B,"throw",$)}K(void 0)})},function(S,E){return T.apply(this,arguments)})}],O&&t(w.prototype,O),Object.defineProperty(w,"prototype",{writable:!1}),w;var w,O,A,T}(p.ActorQueryProcessSequential);e.ActorQueryProcessSequentialRecursive=b},12067:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(19464),e)},12147:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionStrUuid=void 0;const c=s(77617),a=s(77545),o=s(40182);class i extends c.TermFunctionBase{constructor(){super({arity:0,operator:a.SparqlOperator.STRUUID,overloads:(0,a.declare)(a.SparqlOperator.STRUUID).set([],()=>()=>(0,a.string)(o.v4())).collect()})}}e.TermFunctionStrUuid=i},12167:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryOperationBgpJoin=void 0;const c=s(66490),a=s(90711),o=s(90412),i=s(96331);class t extends c.ActorQueryOperationTypedMediated{constructor(r){super(r,"bgp")}async testOperation(r,u){return(0,o.passTestVoid)()}async runOperation(r,u){const l=u.getSafe(a.KeysInitQuery.dataFactory),d=new i.Factory(l);return this.mediatorQueryOperation.mediate({operation:d.createJoin(r.patterns),context:u})}}e.ActorQueryOperationBgpJoin=t},12278:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MediatorJoinCoefficientsFixed=void 0;const c=s(90711),a=s(90412);class o extends a.Mediator{constructor(t){super(t)}async mediateWith(t,n){const r=[],u=n.map(({reply:b})=>b),l=(await Promise.all(u)).map(b=>{if(!b.isFailed())return{value:b.get(),sideData:b.getSideData()};r.push(b.getFailMessage())});let d=l.map(b=>{if(b)return b.value.iterations*this.cpuWeight+b.value.persistedItems*this.memoryWeight+b.value.blockingItems*this.timeWeight+b.value.requestTime*this.ioWeight});const p=Math.max(...d.filter(b=>b!==void 0)),f=t.context.get(c.KeysQueryOperation.limitIndicator);f&&(d=d.map((b,v)=>b!==void 0&&(l[v]?.value).blockingItems>0&&(l[v]?.value).iterations>f?b+p:b));let h=-1,y=Number.POSITIVE_INFINITY;for(const[b,v]of d.entries())v!==void 0&&(h===-1||v<y)&&(h=b,y=v);if(h<0)return(0,a.failTest)(this.constructFailureMessage(t,r));const m=n[h].actor;return m.includeInLogs&&a.Actor.getContextLogger(t.context)?.debug(`Determined physical join operator '${m.logicalType}-${m.physicalName}'`,{entries:t.entries.length,variables:await Promise.all(t.entries.map(async b=>(await b.output.metadata()).variables.map(v=>v.variable.value))),costs:Object.fromEntries(d.map((b,v)=>[`${n[v].actor.logicalType}-${n[v].actor.physicalName}`,b]).filter(b=>b[1]!==void 0)),coefficients:Object.fromEntries(l.map((b,v)=>[`${n[v].actor.logicalType}-${n[v].actor.physicalName}`,b?.value]).filter(b=>b[1]!==void 0))}),(0,a.passTestWithSideData)(m,l[h].sideData)}}e.MediatorJoinCoefficientsFixed=o},12301:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(i,t,n,r){r===void 0&&(r=n);var u=Object.getOwnPropertyDescriptor(t,n);u&&!("get"in u?!t.__esModule:u.writable||u.configurable)||(u={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(i,r,u)}:function(i,t,n,r){r===void 0&&(r=n),i[r]=t[n]}),a=this&&this.__exportStar||function(i,t){for(var n in i)n==="default"||Object.prototype.hasOwnProperty.call(t,n)||c(t,i,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.QueryEngineBase=void 0,a(s(53638),e),a(s(20358),e);var o=s(76235);Object.defineProperty(e,"QueryEngineBase",{enumerable:!0,get:function(){return o.QueryEngineBase}})},12304:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(79904),e)},12391:(g,e,s)=>{const{MultiTransformIterator:c,SimpleTransformIterator:a,scheduleTask:o}=s(75627);g.exports=class extends c{constructor(i,t,n,r){super(i,r),this.right=t,this.funJoin=n,this.on("end",()=>this.right.close())}_end(){super._end(),o(()=>this.right.destroy())}_createTransformer(i){return new a(this.right.clone(),{transform:(t,n,r)=>{let u=this.funJoin(i,t);u!==null&&r(u),n()}})}}},12476:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorDereferenceParse=e.getMediaTypeFromExtension=void 0;const c=s(90412),a=s(19198),o=s(79806);function i(n,r){const u=n.lastIndexOf(".");return u>=0&&r?.[n.slice(u+1)]||""}e.getMediaTypeFromExtension=i;class t extends o.ActorDereferenceBase{constructor(r){super(r)}async test(r){return(0,c.passTestVoid)()}handleDereferenceStreamErrors(r,u){return(0,o.isHardError)(r.context)||(u.on("error",l=>{this.logWarn(r.context,l.message,()=>({url:r.url})),u.push(null)}),u=u.pipe(new a.PassThrough({objectMode:!0}))),u}async run(r){const{context:u}=r,l=await this.mediatorDereference.mediate({...r,mediaTypes:async()=>(await this.mediatorParseMediatypes?.mediate({context:u,mediaTypes:!0}))?.mediaTypes});let d;if(l.exists)try{d=(await this.mediatorParse.mediate({context:u,handle:{context:u,...l,metadata:await this.getMetadata(l)},handleMediaType:l.mediaType||r.mediaType||i(l.url,this.mediaMappings)})).handle,d.data=this.handleDereferenceStreamErrors(r,d.data)}catch(p){await l.data.close?.(),d=await this.dereferenceErrorHandler(r,p,{})}else await l.data.close?.(),d={data:(0,o.emptyReadable)()};return{...l,...d}}}e.ActorDereferenceParse=t},12538:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(80664),e)},12740:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(15950),e)},12744:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(20405),e)},12763:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(52875),e)},12814:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(24582),e)},12845:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(45757),e)},12922:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionSubject=void 0;const c=s(77617),a=s(77545);class o extends c.TermFunctionBase{constructor(){super({arity:1,operator:a.SparqlOperator.SUBJECT,overloads:(0,a.declare)(a.SparqlOperator.SUBJECT).onQuad1(()=>t=>t.subject).collect()})}}e.TermFunctionSubject=o},12957:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfMetadataAccumulate=void 0;const c=s(90412);class a extends c.Actor{constructor(i){super(i)}}e.ActorRdfMetadataAccumulate=a},13079:(g,e)=>{var s,c;Object.defineProperty(e,"__esModule",{value:!0}),e.expressionTypes=e.types=void 0,(c=e.types||(e.types={})).ALT="alt",c.ASK="ask",c.BGP="bgp",c.CONSTRUCT="construct",c.DESCRIBE="describe",c.DISTINCT="distinct",c.EXPRESSION="expression",c.EXTEND="extend",c.FILTER="filter",c.FROM="from",c.GRAPH="graph",c.GROUP="group",c.INV="inv",c.JOIN="join",c.LEFT_JOIN="leftjoin",c.LINK="link",c.MINUS="minus",c.NOP="nop",c.NPS="nps",c.ONE_OR_MORE_PATH="OneOrMorePath",c.ORDER_BY="orderby",c.PATH="path",c.PATTERN="pattern",c.PROJECT="project",c.REDUCED="reduced",c.SEQ="seq",c.SERVICE="service",c.SLICE="slice",c.UNION="union",c.VALUES="values",c.ZERO_OR_MORE_PATH="ZeroOrMorePath",c.ZERO_OR_ONE_PATH="ZeroOrOnePath",c.COMPOSITE_UPDATE="compositeupdate",c.DELETE_INSERT="deleteinsert",c.LOAD="load",c.CLEAR="clear",c.CREATE="create",c.DROP="drop",c.ADD="add",c.MOVE="move",c.COPY="copy",(s=e.expressionTypes||(e.expressionTypes={})).AGGREGATE="aggregate",s.EXISTENCE="existence",s.NAMED="named",s.OPERATOR="operator",s.TERM="term",s.WILDCARD="wildcard"},13121:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(54068),e)},13125:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(40409),e),a(s(71186),e)},13168:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryResultSerializeSparqlXml=void 0;const c=s(58871),a=s(90412),o=s(75627),i=s(19198),t=s(1861);class n extends c.ActorQueryResultSerializeFixedMediaTypes{constructor(u){super(u)}static bindingToXmlBindings(u,l){return{name:"binding",attributes:{name:l.value},children:[this.valueToXmlValue(u)]}}static valueToXmlValue(u){let l;switch(u.termType){case"Literal":return l=u.language?{"xml:lang":u.language}:u.datatype&&u.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"?{datatype:u.datatype.value}:{},{name:"literal",attributes:l,children:u.value};case"BlankNode":return{name:"bnode",children:u.value};case"Quad":return{name:"triple",children:[{name:"subject",children:[this.valueToXmlValue(u.subject)]},{name:"predicate",children:[this.valueToXmlValue(u.predicate)]},{name:"object",children:[this.valueToXmlValue(u.object)]}]};default:return{name:"uri",children:u.value}}}async testHandleChecked(u,l){return["bindings","boolean"].includes(u.type)?(0,a.passTestVoid)():(0,a.failTest)("This actor can only handle bindings streams or booleans.")}async runHandle(u,l,d){const p=new i.Readable;p._read=()=>{};const f=new t.XmlSerializer,h=await u.metadata();if(p.push(t.XmlSerializer.header),p.push(f.open("sparql",{xmlns:"http://www.w3.org/2005/sparql-results#"})),p.push(f.serializeNode({name:"head",children:h.variables.map(y=>({name:"variable",attributes:{name:y.variable.value}}))})),u.type==="bindings"){function*y(){yield f.close(),yield f.close()}p.push(f.open("results"));const m=(0,o.wrap)(u.bindingsStream).map(b=>f.serializeNode({name:"result",children:[...b].map(([v,_])=>n.bindingToXmlBindings(_,v))})).append((0,o.wrap)(y()));p.wrap(m)}else try{const y=await u.execute();p.push(f.serializeNode({name:"boolean",children:y.toString()})),p.push(f.close()),setTimeout(()=>p.push(null))}catch(y){setTimeout(()=>p.emit("error",y))}return{data:p}}}e.ActorQueryResultSerializeSparqlXml=n},13252:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionTriple=void 0;const c=s(77617),a=s(77545);class o extends c.TermFunctionBase{constructor(){super({arity:3,operator:a.SparqlOperator.TRIPLE,overloads:(0,a.declare)(a.SparqlOperator.TRIPLE).onTerm3(t=>(...n)=>new a.Quad(n[0],n[1],n[2],new a.DefaultGraph)).collect()})}}e.TermFunctionTriple=o},13260:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeHandlerDefinitionFragment=void 0;const c=s(66337);class a extends c.NodeHandlerDefinitionAdapter{constructor(i,t){super("FragmentDefinition",i,t)}handle(i,t){throw new Error("Illegal state: fragment definitions must be indexed and removed before processing")}}e.NodeHandlerDefinitionFragment=a},13381:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeValueHandlerNull=void 0;const c=s(55009);class a extends c.NodeValueHandlerAdapter{constructor(i,t){super("NullValue",i,t),this.nil=this.util.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#nil")}handle(i,t,n){return{terms:[this.nil]}}}e.NodeValueHandlerNull=a},13559:(g,e,s)=>{(function(){var c;c=typeof window=="object"&&window?window:s.g,g.exports?g.exports=c.Promise?c.Promise:t:c.Promise||(c.Promise=t);var a=c.setImmediate||function(f){setTimeout(f,1)};function o(f,h){return function(){f.apply(h,arguments)}}var i=Array.isArray||function(f){return Object.prototype.toString.call(f)==="[object Array]"};function t(f){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof f!="function")throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],p(f,o(r,this),o(u,this))}function n(f){var h=this;this._state!==null?a(function(){var y=h._state?f.onFulfilled:f.onRejected;if(y!==null){var m;try{m=y(h._value)}catch(b){return void f.reject(b)}f.resolve(m)}else(h._state?f.resolve:f.reject)(h._value)}):this._deferreds.push(f)}function r(f){try{if(f===this)throw new TypeError("A promise cannot be resolved with itself.");if(f&&(typeof f=="object"||typeof f=="function")){var h=f.then;if(typeof h=="function")return void p(o(h,f),o(r,this),o(u,this))}this._state=!0,this._value=f,l.call(this)}catch(y){u.call(this,y)}}function u(f){this._state=!1,this._value=f,l.call(this)}function l(){for(var f=0,h=this._deferreds.length;f<h;f++)n.call(this,this._deferreds[f]);this._deferreds=null}function d(f,h,y,m){this.onFulfilled=typeof f=="function"?f:null,this.onRejected=typeof h=="function"?h:null,this.resolve=y,this.reject=m}function p(f,h,y){var m=!1;try{f(function(b){m||(m=!0,h(b))},function(b){m||(m=!0,y(b))})}catch(b){if(m)return;m=!0,y(b)}}t.prototype.catch=function(f){return this.then(null,f)},t.prototype.then=function(f,h){var y=this;return new t(function(m,b){n.call(y,new d(f,h,m,b))})},t.all=function(){var f=Array.prototype.slice.call(arguments.length===1&&i(arguments[0])?arguments[0]:arguments);return new t(function(h,y){if(f.length===0)return h([]);var m=f.length;function b(_,w){try{if(w&&(typeof w=="object"||typeof w=="function")){var O=w.then;if(typeof O=="function")return void O.call(w,function(A){b(_,A)},y)}f[_]=w,--m===0&&h(f)}catch(A){y(A)}}for(var v=0;v<f.length;v++)b(v,f[v])})},t.resolve=function(f){return f&&typeof f=="object"&&f.constructor===t?f:new t(function(h){h(f)})},t.reject=function(f){return new t(function(h,y){y(f)})},t.race=function(f){return new t(function(h,y){for(var m=0,b=f.length;m<b;m++)f[m].then(h,y)})}})()},13574:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorOptimizeQueryOperationJoinBgp=void 0;const c=s(38912),a=s(90711),o=s(90412),i=s(96331);class t extends c.ActorOptimizeQueryOperation{async test(r){return(0,o.passTestVoid)()}async run(r){const u=r.context.getSafe(a.KeysInitQuery.dataFactory),l=new i.Factory(u);return{operation:i.Util.mapOperation(r.operation,{join:(d,p)=>d.input.every(f=>f.type==="bgp")?{recurse:!1,result:p.createBgp(d.input.flatMap(f=>f.patterns))}:{recurse:!1,result:d}},l),context:r.context}}}e.ActorOptimizeQueryOperationJoinBgp=t},13603:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(function(s){return s.charCodeAt(0)}))},13679:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},13824:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryOperationFilter=void 0;const c=s(66490),a=s(90412),o=s(81926),i=s(77545),t=s(67021);class n extends c.ActorQueryOperationTypedMediated{constructor(u){super(u,"filter"),this.mediatorExpressionEvaluatorFactory=u.mediatorExpressionEvaluatorFactory}async testOperation(){return(0,a.passTestVoid)()}async runOperation(u,l){const d=await this.mediatorQueryOperation.mediate({operation:u.input,context:l}),p=(0,t.getSafeBindings)(d);(0,t.validateQueryOutput)(p,"bindings");const f=await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:u.expression,context:l}),h=p.bindingsStream.transform({transform:async(y,m,b)=>{try{await f.evaluateAsEBV(y)&&b(y)}catch(v){(0,i.isExpressionError)(v)?this.logWarn(l,"Error occurred while filtering.",()=>({error:v,bindings:(0,o.bindingsToString)(y)})):h.emit("error",v)}m()},autoStart:!1});return{type:"bindings",bindingsStream:h,metadata:p.metadata}}}e.ActorQueryOperationFilter=n},13847:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(13903),e),a(s(7178),e)},13903:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorBindingsAggregatorFactoryMin=void 0;const c=s(86581),a=s(90412),o=s(7178);class i extends c.ActorBindingsAggregatorFactory{constructor(n){super(n),this.mediatorTermComparatorFactory=n.mediatorTermComparatorFactory}async test(n){return n.expr.aggregator!=="min"?(0,a.failTest)("This actor only supports the 'min' aggregator."):(0,a.passTestVoid)()}async run({context:n,expr:r}){return new o.MinAggregator(await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:r.expression,context:n}),r.distinct,await this.mediatorTermComparatorFactory.mediate({context:n}))}}e.ActorBindingsAggregatorFactoryMin=i},14191:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TypeHandlerString=void 0;class s{fromRdf(a){return a.value}toRdf(a,{datatype:o,dataFactory:i}){return i.literal(a,o)}}s.TYPES=["http://www.w3.org/2001/XMLSchema#string","http://www.w3.org/2001/XMLSchema#normalizedString","http://www.w3.org/2001/XMLSchema#anyURI","http://www.w3.org/2001/XMLSchema#base64Binary","http://www.w3.org/2001/XMLSchema#language","http://www.w3.org/2001/XMLSchema#Name","http://www.w3.org/2001/XMLSchema#NCName","http://www.w3.org/2001/XMLSchema#NMTOKEN","http://www.w3.org/2001/XMLSchema#token","http://www.w3.org/2001/XMLSchema#hexBinary","http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","http://www.w3.org/2001/XMLSchema#time","http://www.w3.org/2001/XMLSchema#duration"],e.TypeHandlerString=s},14231:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TestResultFailed=e.TestResultPassed=e.failTest=e.passTestVoidWithSideData=e.passTestWithSideData=e.passTestVoid=e.passTest=void 0,e.passTest=function(a){return new s(a,void 0)},e.passTestVoid=function(){return new s(!0,void 0)},e.passTestWithSideData=function(a,o){return new s(a,o)},e.passTestVoidWithSideData=function(a){return new s(!0,a)},e.failTest=function(a){return new c(a)};class s{constructor(o,i){this.value=o,this.sideData=i}isPassed(){return!0}isFailed(){return!1}get(){return this.value}getOrThrow(){return this.value}getSideData(){return this.sideData}getFailMessage(){}map(o){return new s(o(this.value,this.sideData),this.sideData)}async mapAsync(o){return new s(await o(this.value,this.sideData),this.sideData)}}e.TestResultPassed=s;class c{constructor(o){this.failMessage=o}isPassed(){return!1}isFailed(){return!0}get(){}getOrThrow(){throw new Error(this.getFailMessage())}getSideData(){throw new Error(this.getFailMessage())}getFailMessage(){return this.failMessage}map(){return this}async mapAsync(){return this}}e.TestResultFailed=c},14330:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionPredicate=void 0;const c=s(77617),a=s(77545);class o extends c.TermFunctionBase{constructor(){super({arity:1,operator:a.SparqlOperator.PREDICATE,overloads:(0,a.declare)(a.SparqlOperator.PREDICATE).onQuad1(()=>t=>t.predicate).collect()})}}e.TermFunctionPredicate=o},14405:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(20950),e)},14465:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.RdfaParser=void 0;const c=s(78659),a=s(19198),o=s(55180),i=s(10532),t=s(5213),n=s(6429);class r extends a.Transform{constructor(l){super({readableObjectMode:!0}),this.activeTagStack=[],l=l||{},this.options=l,this.util=new n.Util(l.dataFactory,l.baseIRI),this.defaultGraph=l.defaultGraph||this.util.dataFactory.defaultGraph();const d=l.contentType?n.Util.contentTypeToProfile(l.contentType):l.profile||"";this.features=l.features||t.RDFA_FEATURES[d],this.htmlParseListener=l.htmlParseListener,this.rdfaPatterns=this.features.copyRdfaPatterns?{}:null,this.pendingRdfaPatternCopies=this.features.copyRdfaPatterns?{}:null,this.parser=this.initializeParser(d==="xml"),this.activeTagStack.push({incompleteTriples:[],inlist:!1,language:l.language,listMapping:{},listMappingLocal:{},name:"",prefixesAll:Object.assign(Object.assign({},i["@context"]),this.features.xhtmlInitialContext?o["@context"]:{}),prefixesCustom:{},skipElement:!1,vocab:l.vocab})}import(l){const d=new a.PassThrough({readableObjectMode:!0});l.on("error",f=>p.emit("error",f)),l.on("data",f=>d.push(f)),l.on("end",()=>d.push(null));const p=d.pipe(new r(this.options));return p}_transform(l,d,p){this.parser.write(l.toString()),p()}_flush(l){this.parser.end(),l()}onTagOpen(l,d){let p=this.activeTagStack.length-1;for(;p>0&&this.activeTagStack[p].skipElement;)p--;let f=this.activeTagStack[p];p!==this.activeTagStack.length-1&&(f=Object.assign(Object.assign({},f),{language:this.activeTagStack[this.activeTagStack.length-1].language,prefixesAll:this.activeTagStack[this.activeTagStack.length-1].prefixesAll,prefixesCustom:this.activeTagStack[this.activeTagStack.length-1].prefixesCustom,vocab:this.activeTagStack[this.activeTagStack.length-1].vocab}));const h={collectChildTags:f.collectChildTags,incompleteTriples:[],inlist:"inlist"in d,listMapping:[],listMappingLocal:f.listMapping,localBaseIRI:f.localBaseIRI,name:l,prefixesAll:null,prefixesCustom:null,skipElement:!1};if(this.activeTagStack.push(h),h.collectChildTags){for(const T of Object.keys(f.prefixesCustom).sort()){const S=f.prefixesCustom[T],E=T===""?"xmlns":"xmlns:"+T;E in d||(d[E]=S)}const A=Object.keys(d).map(T=>`${T}="${d[T]}"`).join(" ");if(h.text=[`<${l}${A?" "+A:""}>`],this.features.skipHandlingXmlLiteralChildren)return}let y,m,b,v=!0,_=!0;if(this.features.onlyAllowUriRelRevIfProperty&&("property"in d&&"rel"in d&&(v=!1,d.rel.indexOf(":")<0&&delete d.rel),"property"in d&&"rev"in d&&(_=!1,d.rev.indexOf(":")<0&&delete d.rev)),this.features.copyRdfaPatterns){if(f.collectedPatternTag){const A={attributes:d,children:[],name:l,referenced:!1,rootPattern:!1,text:[]};return f.collectedPatternTag.children.push(A),void(h.collectedPatternTag=A)}if(d.typeof==="rdfa:Pattern")return void(h.collectedPatternTag={attributes:d,children:[],name:l,parentTag:f,referenced:!1,rootPattern:!0,text:[]});if(d.property==="rdfa:copy"){const A=d.resource||d.href||d.src;return void(this.rdfaPatterns[A]?this.emitPatternCopy(f,this.rdfaPatterns[A],A):(this.pendingRdfaPatternCopies[A]||(this.pendingRdfaPatternCopies[A]=[]),this.pendingRdfaPatternCopies[A].push(f)))}}if(this.features.baseTag&&l==="base"&&d.href&&(this.util.baseIRI=this.util.getBaseIRI(d.href)),this.features.xmlBase&&d["xml:base"]&&(h.localBaseIRI=this.util.getBaseIRI(d["xml:base"])),this.features.timeTag&&l==="time"&&!d.datatype&&(h.interpretObjectAsTime=!0),"vocab"in d?d.vocab?(h.vocab=d.vocab,this.emitTriple(this.util.getBaseIriTerm(h),this.util.dataFactory.namedNode(n.Util.RDFA+"usesVocabulary"),this.util.dataFactory.namedNode(h.vocab))):h.vocab=this.activeTagStack[0].vocab:h.vocab=f.vocab,h.prefixesCustom=n.Util.parsePrefixes(d,f.prefixesCustom,this.features.xmlnsPrefixMappings),h.prefixesAll=Object.keys(h.prefixesCustom).length>0?Object.assign(Object.assign({},f.prefixesAll),h.prefixesCustom):f.prefixesAll,this.features.roleAttribute&&d.role){const A=d.id?this.util.createIri("#"+d.id,h,!1,!1,!1):this.util.createBlankNode(),T=h.vocab;h.vocab="http://www.w3.org/1999/xhtml/vocab#";for(const S of this.util.createVocabIris(d.role,h,!0,!1))this.emitTriple(A,this.util.dataFactory.namedNode("http://www.w3.org/1999/xhtml/vocab#role"),S);h.vocab=T}"xml:lang"in d||this.features.langAttribute&&"lang"in d?h.language=d["xml:lang"]||d.lang:h.language=f.language;const w=this.activeTagStack.length===2;if("rel"in d||"rev"in d?("about"in d?(y=this.util.createIri(d.about,h,!1,!0,!0),h.explicitNewSubject=!!y,"typeof"in d&&(b=y)):w?y=!0:f.object&&(y=f.object),"resource"in d&&(m=this.util.createIri(d.resource,h,!1,!0,!0)),m||("href"in d||"src"in d?m=this.util.createIri(d.href||d.src,h,!1,!1,!0):!("typeof"in d)||"about"in d||this.isInheritSubjectInHeadBody(l)||(m=this.util.createBlankNode())),"typeof"in d&&!("about"in d)&&(b=this.isInheritSubjectInHeadBody(l)?y:m)):!("property"in d)||"content"in d||"datatype"in d?(("about"in d||"resource"in d)&&(y=this.util.createIri(d.about||d.resource,h,!1,!0,!0),h.explicitNewSubject=!!y),y||!("href"in d)&&!("src"in d)||(y=this.util.createIri(d.href||d.src,h,!1,!1,!0),h.explicitNewSubject=!!y),y||(w?y=!0:this.isInheritSubjectInHeadBody(l)?y=f.object:"typeof"in d?(y=this.util.createBlankNode(),h.explicitNewSubject=!0):f.object&&(y=f.object,"property"in d||(h.skipElement=!0))),"typeof"in d&&(b=y)):("about"in d?(y=this.util.createIri(d.about,h,!1,!0,!0),h.explicitNewSubject=!!y):w?y=!0:f.object&&(y=f.object),"typeof"in d&&("about"in d&&(b=this.util.createIri(d.about,h,!1,!0,!0)),!b&&w&&(b=!0),!b&&"resource"in d&&(b=this.util.createIri(d.resource,h,!1,!0,!0)),b||!("href"in d)&&!("src"in d)||(b=this.util.createIri(d.href||d.src,h,!1,!1,!0)),!b&&this.isInheritSubjectInHeadBody(l)&&(b=y),b||(b=this.util.createBlankNode()),m=b)),b)for(const A of this.util.createVocabIris(d.typeof,h,!0,!0))this.emitTriple(this.util.getResourceOrBaseIri(b,h),this.util.dataFactory.namedNode(n.Util.RDF+"type"),A);if(y&&(h.listMapping={}),m){if("rel"in d&&"inlist"in d)for(const A of this.util.createVocabIris(d.rel,h,v,!1))this.addListMapping(h,y,A,m);if(!("rel"in d)||!("inlist"in d)){if("rel"in d)for(const A of this.util.createVocabIris(d.rel,h,v,!1))this.emitTriple(this.util.getResourceOrBaseIri(y,h),A,this.util.getResourceOrBaseIri(m,h));if("rev"in d)for(const A of this.util.createVocabIris(d.rev,h,_,!1))this.emitTriple(this.util.getResourceOrBaseIri(m,h),A,this.util.getResourceOrBaseIri(y,h))}}if(!m){if("rel"in d)if("inlist"in d)for(const A of this.util.createVocabIris(d.rel,h,v,!1))this.addListMapping(h,y,A,null),h.incompleteTriples.push({predicate:A,reverse:!1,list:!0});else for(const A of this.util.createVocabIris(d.rel,h,v,!1))h.incompleteTriples.push({predicate:A,reverse:!1});if("rev"in d)for(const A of this.util.createVocabIris(d.rev,h,_,!1))h.incompleteTriples.push({predicate:A,reverse:!0});h.incompleteTriples.length>0&&(m=this.util.createBlankNode())}if("property"in d){let A;if(h.predicates=this.util.createVocabIris(d.property,h,!0,!1),"datatype"in d?(h.datatype=this.util.createIri(d.datatype,h,!0,!0,!1),h.datatype&&(h.datatype.value===n.Util.RDF+"XMLLiteral"||this.features.htmlDatatype&&h.datatype.value===n.Util.RDF+"HTML")&&(h.collectChildTags=!0)):("rev"in d||"rel"in d||"content"in d||("resource"in d&&(A=this.util.createIri(d.resource,h,!1,!0,!0)),!A&&"href"in d&&(A=this.util.createIri(d.href,h,!1,!1,!0)),!A&&"src"in d&&(A=this.util.createIri(d.src,h,!1,!1,!0))),"typeof"in d&&!("about"in d)&&(A=b)),"content"in d){const T=this.util.createLiteral(d.content,h);if("inlist"in d)for(const S of h.predicates)this.addListMapping(h,y,S,T);else{const S=this.util.getResourceOrBaseIri(y,h);for(const E of h.predicates)this.emitTriple(S,E,T)}h.predicates=null}else if(this.features.datetimeAttribute&&"datetime"in d){h.interpretObjectAsTime=!0;const T=this.util.createLiteral(d.datetime,h);if("inlist"in d)for(const S of h.predicates)this.addListMapping(h,y,S,T);else{const S=this.util.getResourceOrBaseIri(y,h);for(const E of h.predicates)this.emitTriple(S,E,T)}h.predicates=null}else if(A){const T=this.util.getResourceOrBaseIri(A,h);if("inlist"in d)for(const S of h.predicates)this.addListMapping(h,y,S,T);else{const S=this.util.getResourceOrBaseIri(y,h);for(const E of h.predicates)this.emitTriple(S,E,T)}h.predicates=null}}let O=!1;if(!h.skipElement&&y&&f.incompleteTriples.length>0){O=!0;const A=this.util.getResourceOrBaseIri(f.subject,h),T=this.util.getResourceOrBaseIri(y,h);for(const S of f.incompleteTriples)if(S.reverse)this.emitTriple(T,S.predicate,A);else if(S.list){let E=null;for(let D=this.activeTagStack.length-1;D>=0;D--)if(this.activeTagStack[D].inlist){E=this.activeTagStack[D];break}this.addListMapping(E,y,S.predicate,T)}else this.emitTriple(A,S.predicate,T)}!O&&f.incompleteTriples.length>0&&(h.incompleteTriples=h.incompleteTriples.concat(f.incompleteTriples)),h.subject=y||f.subject,h.object=m||y}onText(l){const d=this.activeTagStack[this.activeTagStack.length-1];this.features.copyRdfaPatterns&&d.collectedPatternTag?d.collectedPatternTag.text.push(l):(d.text||(d.text=[]),d.text.push(l))}onTagClose(){const l=this.activeTagStack[this.activeTagStack.length-1],d=this.activeTagStack[this.activeTagStack.length-2];if(!(l.collectChildTags&&d.collectChildTags&&this.features.skipHandlingXmlLiteralChildren)){if(this.features.copyRdfaPatterns&&l.collectedPatternTag&&l.collectedPatternTag.rootPattern){const p=l.collectedPatternTag.attributes.resource;if(delete l.collectedPatternTag.attributes.resource,delete l.collectedPatternTag.attributes.typeof,this.rdfaPatterns[p]=l.collectedPatternTag,this.pendingRdfaPatternCopies[p]){for(const f of this.pendingRdfaPatternCopies[p])this.emitPatternCopy(f,l.collectedPatternTag,p);delete this.pendingRdfaPatternCopies[p]}return void this.activeTagStack.pop()}if(l.predicates){const p=this.util.getResourceOrBaseIri(l.subject,l);let f=l.text||[];l.collectChildTags&&d.collectChildTags&&(f=f.slice(1));const h=this.util.createLiteral(f.join(""),l);if(l.inlist)for(const y of l.predicates)this.addListMapping(l,p,y,h);else for(const y of l.predicates)this.emitTriple(p,y,h);d.predicates||(l.text=null)}if(l.object&&Object.keys(l.listMapping).length>0){const p=this.util.getResourceOrBaseIri(l.object,l);for(const f in l.listMapping){const h=this.util.dataFactory.namedNode(f),y=l.listMapping[f];if(y.length>0){const m=y.map(()=>this.util.createBlankNode());for(let b=0;b<y.length;b++){const v=this.util.getResourceOrBaseIri(y[b],l);this.emitTriple(m[b],this.util.dataFactory.namedNode(n.Util.RDF+"first"),v),this.emitTriple(m[b],this.util.dataFactory.namedNode(n.Util.RDF+"rest"),b<y.length-1?m[b+1]:this.util.dataFactory.namedNode(n.Util.RDF+"nil"))}this.emitTriple(p,h,m[0])}else this.emitTriple(p,h,this.util.dataFactory.namedNode(n.Util.RDF+"nil"))}}}this.activeTagStack.pop(),l.collectChildTags&&l.text&&l.text.push(`</${l.name}>`),l.text&&d&&(d.text?d.text=d.text.concat(l.text):d.text=l.text)}onEnd(){if(this.features.copyRdfaPatterns){this.features.copyRdfaPatterns=!1;for(const l in this.rdfaPatterns){const d=this.rdfaPatterns[l];d.referenced||(d.attributes.typeof="rdfa:Pattern",d.attributes.resource=l,this.emitPatternCopy(d.parentTag,d,l),d.referenced=!1,delete d.attributes.typeof,delete d.attributes.resource)}for(const l in this.pendingRdfaPatternCopies)for(const d of this.pendingRdfaPatternCopies[l])this.activeTagStack.push(d),this.onTagOpen("link",{property:"rdfa:copy",href:l}),this.onTagClose(),this.activeTagStack.pop();this.features.copyRdfaPatterns=!0}}isInheritSubjectInHeadBody(l){return this.features.inheritSubjectInHeadBody&&(l==="head"||l==="body")}addListMapping(l,d,p,f){if(l.explicitNewSubject){const h=this.util.createBlankNode();this.emitTriple(this.util.getResourceOrBaseIri(d,l),p,h),this.emitTriple(h,this.util.dataFactory.namedNode(n.Util.RDF+"first"),this.util.getResourceOrBaseIri(f,l)),this.emitTriple(h,this.util.dataFactory.namedNode(n.Util.RDF+"rest"),this.util.dataFactory.namedNode(n.Util.RDF+"nil"))}else{let h=l.listMappingLocal[p.value];h||(l.listMappingLocal[p.value]=h=[]),f&&h.push(f)}}emitTriple(l,d,p){l.termType==="NamedNode"&&l.value.indexOf(":")<0||d.termType==="NamedNode"&&d.value.indexOf(":")<0||p.termType==="NamedNode"&&p.value.indexOf(":")<0||this.push(this.util.dataFactory.quad(l,d,p,this.defaultGraph))}emitPatternCopy(l,d,p){if(this.activeTagStack.push(l),d.referenced=!0,d.constructedBlankNodes){let f=0;this.util.blankNodeFactory=()=>d.constructedBlankNodes[f++]}else d.constructedBlankNodes=[],this.util.blankNodeFactory=()=>{const f=this.util.dataFactory.blankNode();return d.constructedBlankNodes.push(f),f};this.emitPatternCopyAbsolute(d,!0,p),this.util.blankNodeFactory=null,this.activeTagStack.pop()}emitPatternCopyAbsolute(l,d,p){if(d||l.attributes.property!=="rdfa:copy"||l.attributes.href!==p){this.onTagOpen(l.name,l.attributes);for(const f of l.text)this.onText(f);for(const f of l.children)this.emitPatternCopyAbsolute(f,!1,p);this.onTagClose()}}initializeParser(l){return new c.Parser({onclosetag:()=>{try{this.onTagClose(),this.htmlParseListener&&this.htmlParseListener.onTagClose()}catch(d){this.emit("error",d)}},onend:()=>{try{this.onEnd(),this.htmlParseListener&&this.htmlParseListener.onEnd()}catch(d){this.emit("error",d)}},onopentag:(d,p)=>{try{this.onTagOpen(d,p),this.htmlParseListener&&this.htmlParseListener.onTagOpen(d,p)}catch(f){this.emit("error",f)}},ontext:d=>{try{this.onText(d),this.htmlParseListener&&this.htmlParseListener.onText(d)}catch(p){this.emit("error",p)}}},{decodeEntities:!0,recognizeSelfClosing:!0,xmlMode:l})}}e.RdfaParser=r},14579:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(86652),e)},14589:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TRIPLE_TERM_NAMES=e.QUAD_TERM_NAMES=void 0,e.getTerms=a,e.getTermsNested=function r(u,l){const d=[];for(const p of a(u,l))p.termType==="Quad"?r(p,l).forEach(f=>d.push(f)):d.push(p);return d},e.getNamedTerms=function(r){return[{key:"subject",value:r.subject},{key:"predicate",value:r.predicate},{key:"object",value:r.object},{key:"graph",value:r.graph}]},e.collectNamedTerms=function(r,u,l){const d={};return r.forEach(p=>d[p.key]=p.value),u&&(d.subject=d.subject||u("subject"),d.predicate=d.predicate||u("predicate"),d.object=d.object||u("object"),d.graph=d.graph||u("graph")),(l||c).quad(d.subject,d.predicate,d.object,d.graph)},e.forEachTerms=function(r,u){u(r.subject,"subject"),u(r.predicate,"predicate"),u(r.object,"object"),u(r.graph,"graph")},e.forEachTermsNested=function r(u,l,d=[]){u.subject.termType==="Quad"?r(u.subject,l,[...d,"subject"]):l(u.subject,[...d,"subject"]),u.predicate.termType==="Quad"?r(u.predicate,l,[...d,"predicate"]):l(u.predicate,[...d,"predicate"]),u.object.termType==="Quad"?r(u.object,l,[...d,"object"]):l(u.object,[...d,"object"]),u.graph.termType==="Quad"?r(u.graph,l,[...d,"graph"]):l(u.graph,[...d,"graph"])},e.filterTerms=function(r,u){const l=[];return u(r.subject,"subject")&&l.push(r.subject),u(r.predicate,"predicate")&&l.push(r.predicate),u(r.object,"object")&&l.push(r.object),u(r.graph,"graph")&&l.push(r.graph),l},e.filterTermsNested=function r(u,l,d=[]){let p=[];return u.subject.termType==="Quad"?p=[...p,...r(u.subject,l,[...d,"subject"])]:l(u.subject,[...d,"subject"])&&p.push(u.subject),u.predicate.termType==="Quad"?p=[...p,...r(u.predicate,l,[...d,"predicate"])]:l(u.predicate,[...d,"predicate"])&&p.push(u.predicate),u.object.termType==="Quad"?p=[...p,...r(u.object,l,[...d,"object"])]:l(u.object,[...d,"object"])&&p.push(u.object),u.graph.termType==="Quad"?p=[...p,...r(u.graph,l,[...d,"graph"])]:l(u.graph,[...d,"graph"])&&p.push(u.graph),p},e.filterQuadTermNames=function(r,u){const l=[];return u(r.subject,"subject")&&l.push("subject"),u(r.predicate,"predicate")&&l.push("predicate"),u(r.object,"object")&&l.push("object"),u(r.graph,"graph")&&l.push("graph"),l},e.filterQuadTermNamesNested=function r(u,l,d=[]){let p=[];const f=[...d,"subject"];u.subject.termType==="Quad"?p=[...p,...r(u.subject,l,f)]:l(u.subject,f)&&p.push(f);const h=[...d,"predicate"];u.predicate.termType==="Quad"?p=[...p,...r(u.predicate,l,h)]:l(u.predicate,h)&&p.push(h);const y=[...d,"object"];u.object.termType==="Quad"?p=[...p,...r(u.object,l,y)]:l(u.object,y)&&p.push(y);const m=[...d,"graph"];return u.graph.termType==="Quad"?p=[...p,...r(u.graph,l,m)]:l(u.graph,m)&&p.push(m),p},e.mapTerms=function(r,u,l){return(l||c).quad(u(r.subject,"subject"),u(r.predicate,"predicate"),u(r.object,"object"),u(r.graph,"graph"))},e.mapTermsNested=function r(u,l,d,p=[]){return(d||c).quad(u.subject.termType==="Quad"?r(u.subject,l,d,[...p,"subject"]):l(u.subject,[...p,"subject"]),u.predicate.termType==="Quad"?r(u.predicate,l,d,[...p,"predicate"]):l(u.predicate,[...p,"predicate"]),u.object.termType==="Quad"?r(u.object,l,d,[...p,"object"]):l(u.object,[...p,"object"]),u.graph.termType==="Quad"?r(u.graph,l,d,[...p,"graph"]):l(u.graph,[...p,"graph"]))},e.reduceTerms=function(r,u,l){let d=l;return d=u(d,r.subject,"subject"),d=u(d,r.predicate,"predicate"),d=u(d,r.object,"object"),u(d,r.graph,"graph")},e.reduceTermsNested=function r(u,l,d,p=[]){let f=d;return f=u.subject.termType==="Quad"?r(u.subject,l,f,[...p,"subject"]):l(f,u.subject,[...p,"subject"]),f=u.predicate.termType==="Quad"?r(u.predicate,l,f,[...p,"predicate"]):l(f,u.predicate,[...p,"predicate"]),f=u.object.termType==="Quad"?r(u.object,l,f,[...p,"object"]):l(f,u.object,[...p,"object"]),f=u.graph.termType==="Quad"?r(u.graph,l,f,[...p,"graph"]):l(f,u.graph,[...p,"graph"]),f},e.everyTerms=o,e.everyTermsNested=function r(u,l,d=[]){return(u.subject.termType==="Quad"?r(u.subject,l,[...d,"subject"]):l(u.subject,[...d,"subject"]))&&(u.predicate.termType==="Quad"?r(u.predicate,l,[...d,"predicate"]):l(u.predicate,[...d,"predicate"]))&&(u.object.termType==="Quad"?r(u.object,l,[...d,"object"]):l(u.object,[...d,"object"]))&&(u.graph.termType==="Quad"?r(u.graph,l,[...d,"graph"]):l(u.graph,[...d,"graph"]))},e.someTerms=function(r,u){return u(r.subject,"subject")||u(r.predicate,"predicate")||u(r.object,"object")||u(r.graph,"graph")},e.someTermsNested=function r(u,l,d=[]){return(u.subject.termType==="Quad"?r(u.subject,l,[...d,"subject"]):l(u.subject,[...d,"subject"]))||(u.predicate.termType==="Quad"?r(u.predicate,l,[...d,"predicate"]):l(u.predicate,[...d,"predicate"]))||(u.object.termType==="Quad"?r(u.object,l,[...d,"object"]):l(u.object,[...d,"object"]))||(u.graph.termType==="Quad"?r(u.graph,l,[...d,"graph"]):l(u.graph,[...d,"graph"]))},e.getValueNestedPath=function r(u,l){if(l.length===0)return u;if(u.termType==="Quad")return r(u[l[0]],l.slice(1));throw new Error(`Tried to get ${l[0]} from term of type ${u.termType}`)},e.matchTerm=i,e.matchPattern=t,e.matchPatternComplete=n,e.matchPatternMappings=function(r,u,l={}){const d={};return function p(f,h){return o(f,(y,m)=>{var b,v;const _=h[m];switch(y.termType){case"Variable":return l.skipVarMapping&&_.termType==="Variable"||((v=(b=d[y.value])===null||b===void 0?void 0:b.equals(_))!==null&&v!==void 0?v:(d[y.value]=_,!0));case"Quad":return _.termType==="Quad"&&p(y,_);default:return y.equals(_)}})}(u,r)&&(!l.returnMappings||d)};const c=new(s(28664)).DataFactory;function a(r,u){return u&&r.graph.termType==="DefaultGraph"?[r.subject,r.predicate,r.object]:[r.subject,r.predicate,r.object,r.graph]}function o(r,u){return u(r.subject,"subject")&&u(r.predicate,"predicate")&&u(r.object,"object")&&u(r.graph,"graph")}function i(r,u){return!u||u.termType==="Variable"||u.termType==="Quad"&&r.termType==="Quad"&&n(r,u)||u.equals(r)}function t(r,u,l,d,p){return i(r.subject,u)&&i(r.predicate,l)&&i(r.object,d)&&i(r.graph,p)}function n(r,u){return t(r,u.subject,u.predicate,u.object,u.graph)}e.QUAD_TERM_NAMES=["subject","predicate","object","graph"],e.TRIPLE_TERM_NAMES=["subject","predicate","object"]},14597:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(16305),e)},14628:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(77401),e)},14639:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SortIterator=void 0;const c=s(75627);class a extends c.TransformIterator{constructor(i,t,n){super(i,n);const r=n&&n.window;this.windowLength=Number.isFinite(r)&&r>0?r:Number.POSITIVE_INFINITY,this.sort=t,this.sorted=[]}_read(i,t){let n,{length:r}=this.sorted;for(;r!==this.windowLength&&(n=this.source.read(),n!==null);){let u,l,d=0,p=r-1;for(;d<=p;)u=Math.trunc((d+p)/2),l=this.sort(n,this.sorted[u]),l<0?d=u+1:l>0?p=u-1:(d=u,p=-1);this.sorted.splice(d,0,n),r++}r===this.windowLength&&this._push(this.sorted.pop()),t()}_flush(i){let{length:t}=this.sorted;for(;t--;)this._push(this.sorted.pop());i()}}e.SortIterator=a},14652:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfJoinMultiBind=void 0;const c=s(95445),a=s(90711),o=s(90412),i=s(81926),t=s(67021),n=s(75627),r=s(96331);class u extends c.ActorRdfJoin{constructor(d){super(d,{logicalType:"inner",physicalName:"bind",canHandleUndefs:!0,isLeaf:!1})}static createBindStream(d,p,f,h,y,m,b){const v=d==="depth-first",_=w=>{const O=f.map(T=>(0,t.materializeOperation)(T,w,m,b,{bindFilter:!0})),A=T=>T.merge(w);return new n.TransformIterator(async()=>(await h(O,w)).transform({map:A}),{maxBufferSize:128,autoStart:v})};switch(d){case"depth-first":return new n.MultiTransformIterator(p,{autoStart:!1,multiTransform:_,optional:y});case"breadth-first":return new n.UnionIterator(p.transform({map:_,optional:y}),{autoStart:!1});default:throw new Error(`Received request for unknown bind order: ${d}`)}}async getOutput(d,p){const f=d.context.getSafe(a.KeysInitQuery.dataFactory),h=new r.Factory(f),y=await i.BindingsFactory.create(this.mediatorMergeBindingsContext,d.context,f),m=p.entriesSorted;this.logDebug(d.context,"First entry for Bind Join: ",()=>({entry:m[0].operation,cardinality:m[0].metadata.cardinality,order:m[0].metadata.order,availableOrders:m[0].metadata.availableOrders}));for(const[w,O]of m.entries())w!==0&&O.output.bindingsStream.close();const b=m[0].output,v=[...m];v.splice(0,1);const _=d.context.set(a.KeysQueryOperation.joinLeftMetadata,m[0].metadata).set(a.KeysQueryOperation.joinRightMetadatas,v.map(w=>w.metadata));return{result:{type:"bindings",bindingsStream:u.createBindStream(this.bindOrder,b.bindingsStream,v.map(w=>w.operation),async(w,O)=>{const A=w.length===1?w[0]:h.createJoin(w,w.every(T=>!T.metadata));return(0,t.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:A,context:_?.set(a.KeysQueryOperation.joinBindings,O)})).bindingsStream},!1,h,y),metadata:()=>this.constructResultMetadata(m,m.map(w=>w.metadata),d.context)},physicalPlanMetadata:{bindIndex:p.entriesUnsorted.indexOf(m[0]),bindOperation:m[0].operation,bindOperationCardinality:m[0].metadata.cardinality,bindOrder:this.bindOrder}}}canBindWithOperation(d){let p=!0;return r.Util.recurseOperation(d,{[r.Algebra.types.EXTEND]:()=>(p=!1,!1),[r.Algebra.types.GROUP]:()=>(p=!1,!1)}),p}async getJoinCoefficients(d,p){let{metadatas:f}=p;const h=d.entries.map((I,V)=>({...I,metadata:f[V]})),y=await c.ActorRdfJoin.sortJoinEntries(this.mediatorJoinEntriesSort,h,d.context);if(y.isFailed())return y;const m=y.get();f=m.map(I=>I.metadata);const b=c.ActorRdfJoin.getRequestInitialTimes(f),v=c.ActorRdfJoin.getRequestItemTimes(f),_=[...m],w=[...b],O=[...v];if(_.splice(0,1),w.splice(0,1),O.splice(0,1),_.some(I=>!this.canBindWithOperation(I.operation)))return(0,o.failTest)(`Actor ${this.name} can not bind on Extend and Group operations`);if(_.some(I=>I.operationModified))return(0,o.failTest)(`Actor ${this.name} can not be used over remaining entries with modified operations`);const A=v.some(I=>I>0);if(f[0].cardinality.value*this.minMaxCardinalityRatio/(A?1:3)>Math.max(...f.map(I=>I.cardinality.value)))return(0,o.failTest)(`Actor ${this.name} can only run if the smallest stream is much smaller than largest stream`);const T=await Promise.all(_.map(async I=>(await this.mediatorJoinSelectivity.mediate({entries:[m[0],I],context:d.context})).selectivity*this.selectivityModifier)),S=_.map((I,V)=>I.metadata.cardinality.value*T[V]).reduce((I,V)=>I+V,0),E=w.reduce((I,V)=>I+V,0),D=O.reduce((I,V)=>I+V,0);return(0,o.passTestWithSideData)({iterations:f[0].cardinality.value*S,persistedItems:0,blockingItems:0,requestTime:b[0]+f[0].cardinality.value*(v[0]+E+S*D)},{...p,entriesUnsorted:h,entriesSorted:m})}}e.ActorRdfJoinMultiBind=u},14695:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionUnaryPlus=void 0;const c=s(77617),a=s(77545);class o extends c.TermFunctionBase{constructor(){super({arity:1,operator:a.SparqlOperator.UPLUS,overloads:(0,a.declare)(a.SparqlOperator.UPLUS).numericConverter(()=>t=>t).collect()})}}e.TermFunctionUnaryPlus=o},14709:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.QuoteType=void 0;const c=s(65621);var a,o,i;function t(u){return u===a.Space||u===a.NewLine||u===a.Tab||u===a.FormFeed||u===a.CarriageReturn}function n(u){return u===a.Slash||u===a.Gt||t(u)}(function(u){u[u.Tab=9]="Tab",u[u.NewLine=10]="NewLine",u[u.FormFeed=12]="FormFeed",u[u.CarriageReturn=13]="CarriageReturn",u[u.Space=32]="Space",u[u.ExclamationMark=33]="ExclamationMark",u[u.Number=35]="Number",u[u.Amp=38]="Amp",u[u.SingleQuote=39]="SingleQuote",u[u.DoubleQuote=34]="DoubleQuote",u[u.Dash=45]="Dash",u[u.Slash=47]="Slash",u[u.Zero=48]="Zero",u[u.Nine=57]="Nine",u[u.Semi=59]="Semi",u[u.Lt=60]="Lt",u[u.Eq=61]="Eq",u[u.Gt=62]="Gt",u[u.Questionmark=63]="Questionmark",u[u.UpperA=65]="UpperA",u[u.LowerA=97]="LowerA",u[u.UpperF=70]="UpperF",u[u.LowerF=102]="LowerF",u[u.UpperZ=90]="UpperZ",u[u.LowerZ=122]="LowerZ",u[u.LowerX=120]="LowerX",u[u.OpeningSquareBracket=91]="OpeningSquareBracket"})(a||(a={})),function(u){u[u.Text=1]="Text",u[u.BeforeTagName=2]="BeforeTagName",u[u.InTagName=3]="InTagName",u[u.InSelfClosingTag=4]="InSelfClosingTag",u[u.BeforeClosingTagName=5]="BeforeClosingTagName",u[u.InClosingTagName=6]="InClosingTagName",u[u.AfterClosingTagName=7]="AfterClosingTagName",u[u.BeforeAttributeName=8]="BeforeAttributeName",u[u.InAttributeName=9]="InAttributeName",u[u.AfterAttributeName=10]="AfterAttributeName",u[u.BeforeAttributeValue=11]="BeforeAttributeValue",u[u.InAttributeValueDq=12]="InAttributeValueDq",u[u.InAttributeValueSq=13]="InAttributeValueSq",u[u.InAttributeValueNq=14]="InAttributeValueNq",u[u.BeforeDeclaration=15]="BeforeDeclaration",u[u.InDeclaration=16]="InDeclaration",u[u.InProcessingInstruction=17]="InProcessingInstruction",u[u.BeforeComment=18]="BeforeComment",u[u.CDATASequence=19]="CDATASequence",u[u.InSpecialComment=20]="InSpecialComment",u[u.InCommentLike=21]="InCommentLike",u[u.BeforeSpecialS=22]="BeforeSpecialS",u[u.BeforeSpecialT=23]="BeforeSpecialT",u[u.SpecialStartSequence=24]="SpecialStartSequence",u[u.InSpecialTag=25]="InSpecialTag",u[u.InEntity=26]="InEntity"}(o||(o={})),function(u){u[u.NoValue=0]="NoValue",u[u.Unquoted=1]="Unquoted",u[u.Single=2]="Single",u[u.Double=3]="Double"}(i||(e.QuoteType=i={}));const r={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97]),XmpEnd:new Uint8Array([60,47,120,109,112])};e.default=class{constructor({xmlMode:u=!1,decodeEntities:l=!0},d){this.cbs=d,this.state=o.Text,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=o.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.xmlMode=u,this.decodeEntities=l,this.entityDecoder=new c.EntityDecoder(u?c.xmlDecodeTree:c.htmlDecodeTree,(p,f)=>this.emitCodePoint(p,f))}reset(){this.state=o.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=o.Text,this.currentSequence=void 0,this.running=!0,this.offset=0}write(u){this.offset+=this.buffer.length,this.buffer=u,this.parse()}end(){this.running&&this.finish()}pause(){this.running=!1}resume(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()}stateText(u){u===a.Lt||!this.decodeEntities&&this.fastForwardTo(a.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=o.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&u===a.Amp&&this.startEntity()}stateSpecialStartSequence(u){const l=this.sequenceIndex===this.currentSequence.length;if(l?n(u):(32|u)===this.currentSequence[this.sequenceIndex]){if(!l)return void this.sequenceIndex++}else this.isSpecial=!1;this.sequenceIndex=0,this.state=o.InTagName,this.stateInTagName(u)}stateInSpecialTag(u){if(this.sequenceIndex===this.currentSequence.length){if(u===a.Gt||t(u)){const l=this.index-this.currentSequence.length;if(this.sectionStart<l){const d=this.index;this.index=l,this.cbs.ontext(this.sectionStart,l),this.index=d}return this.isSpecial=!1,this.sectionStart=l+2,void this.stateInClosingTagName(u)}this.sequenceIndex=0}(32|u)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===r.TitleEnd?this.decodeEntities&&u===a.Amp&&this.startEntity():this.fastForwardTo(a.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(u===a.Lt)}stateCDATASequence(u){u===r.Cdata[this.sequenceIndex]?++this.sequenceIndex===r.Cdata.length&&(this.state=o.InCommentLike,this.currentSequence=r.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=o.InDeclaration,this.stateInDeclaration(u))}fastForwardTo(u){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===u)return!0;return this.index=this.buffer.length+this.offset-1,!1}stateInCommentLike(u){u===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===r.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=o.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):u!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}isTagStartChar(u){return this.xmlMode?!n(u):function(l){return l>=a.LowerA&&l<=a.LowerZ||l>=a.UpperA&&l<=a.UpperZ}(u)}startSpecial(u,l){this.isSpecial=!0,this.currentSequence=u,this.sequenceIndex=l,this.state=o.SpecialStartSequence}stateBeforeTagName(u){if(u===a.ExclamationMark)this.state=o.BeforeDeclaration,this.sectionStart=this.index+1;else if(u===a.Questionmark)this.state=o.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(u)){const l=32|u;this.sectionStart=this.index,this.xmlMode?this.state=o.InTagName:l===r.ScriptEnd[2]?this.state=o.BeforeSpecialS:l===r.TitleEnd[2]||l===r.XmpEnd[2]?this.state=o.BeforeSpecialT:this.state=o.InTagName}else u===a.Slash?this.state=o.BeforeClosingTagName:(this.state=o.Text,this.stateText(u))}stateInTagName(u){n(u)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=o.BeforeAttributeName,this.stateBeforeAttributeName(u))}stateBeforeClosingTagName(u){t(u)||(u===a.Gt?this.state=o.Text:(this.state=this.isTagStartChar(u)?o.InClosingTagName:o.InSpecialComment,this.sectionStart=this.index))}stateInClosingTagName(u){(u===a.Gt||t(u))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=o.AfterClosingTagName,this.stateAfterClosingTagName(u))}stateAfterClosingTagName(u){(u===a.Gt||this.fastForwardTo(a.Gt))&&(this.state=o.Text,this.sectionStart=this.index+1)}stateBeforeAttributeName(u){u===a.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=o.InSpecialTag,this.sequenceIndex=0):this.state=o.Text,this.sectionStart=this.index+1):u===a.Slash?this.state=o.InSelfClosingTag:t(u)||(this.state=o.InAttributeName,this.sectionStart=this.index)}stateInSelfClosingTag(u){u===a.Gt?(this.cbs.onselfclosingtag(this.index),this.state=o.Text,this.sectionStart=this.index+1,this.isSpecial=!1):t(u)||(this.state=o.BeforeAttributeName,this.stateBeforeAttributeName(u))}stateInAttributeName(u){(u===a.Eq||n(u))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=this.index,this.state=o.AfterAttributeName,this.stateAfterAttributeName(u))}stateAfterAttributeName(u){u===a.Eq?this.state=o.BeforeAttributeValue:u===a.Slash||u===a.Gt?(this.cbs.onattribend(i.NoValue,this.sectionStart),this.sectionStart=-1,this.state=o.BeforeAttributeName,this.stateBeforeAttributeName(u)):t(u)||(this.cbs.onattribend(i.NoValue,this.sectionStart),this.state=o.InAttributeName,this.sectionStart=this.index)}stateBeforeAttributeValue(u){u===a.DoubleQuote?(this.state=o.InAttributeValueDq,this.sectionStart=this.index+1):u===a.SingleQuote?(this.state=o.InAttributeValueSq,this.sectionStart=this.index+1):t(u)||(this.sectionStart=this.index,this.state=o.InAttributeValueNq,this.stateInAttributeValueNoQuotes(u))}handleInAttributeValue(u,l){u===l||!this.decodeEntities&&this.fastForwardTo(l)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(l===a.DoubleQuote?i.Double:i.Single,this.index+1),this.state=o.BeforeAttributeName):this.decodeEntities&&u===a.Amp&&this.startEntity()}stateInAttributeValueDoubleQuotes(u){this.handleInAttributeValue(u,a.DoubleQuote)}stateInAttributeValueSingleQuotes(u){this.handleInAttributeValue(u,a.SingleQuote)}stateInAttributeValueNoQuotes(u){t(u)||u===a.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(i.Unquoted,this.index),this.state=o.BeforeAttributeName,this.stateBeforeAttributeName(u)):this.decodeEntities&&u===a.Amp&&this.startEntity()}stateBeforeDeclaration(u){u===a.OpeningSquareBracket?(this.state=o.CDATASequence,this.sequenceIndex=0):this.state=u===a.Dash?o.BeforeComment:o.InDeclaration}stateInDeclaration(u){(u===a.Gt||this.fastForwardTo(a.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=o.Text,this.sectionStart=this.index+1)}stateInProcessingInstruction(u){(u===a.Gt||this.fastForwardTo(a.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=o.Text,this.sectionStart=this.index+1)}stateBeforeComment(u){u===a.Dash?(this.state=o.InCommentLike,this.currentSequence=r.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=o.InDeclaration}stateInSpecialComment(u){(u===a.Gt||this.fastForwardTo(a.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=o.Text,this.sectionStart=this.index+1)}stateBeforeSpecialS(u){const l=32|u;l===r.ScriptEnd[3]?this.startSpecial(r.ScriptEnd,4):l===r.StyleEnd[3]?this.startSpecial(r.StyleEnd,4):(this.state=o.InTagName,this.stateInTagName(u))}stateBeforeSpecialT(u){switch(32|u){case r.TitleEnd[3]:this.startSpecial(r.TitleEnd,4);break;case r.TextareaEnd[3]:this.startSpecial(r.TextareaEnd,4);break;case r.XmpEnd[3]:this.startSpecial(r.XmpEnd,4);break;default:this.state=o.InTagName,this.stateInTagName(u)}}startEntity(){this.baseState=this.state,this.state=o.InEntity,this.entityStart=this.index,this.entityDecoder.startEntity(this.xmlMode?c.DecodingMode.Strict:this.baseState===o.Text||this.baseState===o.InSpecialTag?c.DecodingMode.Legacy:c.DecodingMode.Attribute)}stateInEntity(){const u=this.entityDecoder.write(this.buffer,this.index-this.offset);u>=0?(this.state=this.baseState,u===0&&(this.index=this.entityStart)):this.index=this.offset+this.buffer.length-1}cleanup(){this.running&&this.sectionStart!==this.index&&(this.state===o.Text||this.state===o.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):this.state!==o.InAttributeValueDq&&this.state!==o.InAttributeValueSq&&this.state!==o.InAttributeValueNq||(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}shouldContinue(){return this.index<this.buffer.length+this.offset&&this.running}parse(){for(;this.shouldContinue();){const u=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case o.Text:this.stateText(u);break;case o.SpecialStartSequence:this.stateSpecialStartSequence(u);break;case o.InSpecialTag:this.stateInSpecialTag(u);break;case o.CDATASequence:this.stateCDATASequence(u);break;case o.InAttributeValueDq:this.stateInAttributeValueDoubleQuotes(u);break;case o.InAttributeName:this.stateInAttributeName(u);break;case o.InCommentLike:this.stateInCommentLike(u);break;case o.InSpecialComment:this.stateInSpecialComment(u);break;case o.BeforeAttributeName:this.stateBeforeAttributeName(u);break;case o.InTagName:this.stateInTagName(u);break;case o.InClosingTagName:this.stateInClosingTagName(u);break;case o.BeforeTagName:this.stateBeforeTagName(u);break;case o.AfterAttributeName:this.stateAfterAttributeName(u);break;case o.InAttributeValueSq:this.stateInAttributeValueSingleQuotes(u);break;case o.BeforeAttributeValue:this.stateBeforeAttributeValue(u);break;case o.BeforeClosingTagName:this.stateBeforeClosingTagName(u);break;case o.AfterClosingTagName:this.stateAfterClosingTagName(u);break;case o.BeforeSpecialS:this.stateBeforeSpecialS(u);break;case o.BeforeSpecialT:this.stateBeforeSpecialT(u);break;case o.InAttributeValueNq:this.stateInAttributeValueNoQuotes(u);break;case o.InSelfClosingTag:this.stateInSelfClosingTag(u);break;case o.InDeclaration:this.stateInDeclaration(u);break;case o.BeforeDeclaration:this.stateBeforeDeclaration(u);break;case o.BeforeComment:this.stateBeforeComment(u);break;case o.InProcessingInstruction:this.stateInProcessingInstruction(u);break;case o.InEntity:this.stateInEntity()}this.index++}this.cleanup()}finish(){this.state===o.InEntity&&(this.entityDecoder.end(),this.state=this.baseState),this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const u=this.buffer.length+this.offset;this.sectionStart>=u||(this.state===o.InCommentLike?this.currentSequence===r.CdataEnd?this.cbs.oncdata(this.sectionStart,u,0):this.cbs.oncomment(this.sectionStart,u,0):this.state===o.InTagName||this.state===o.BeforeAttributeName||this.state===o.BeforeAttributeValue||this.state===o.AfterAttributeName||this.state===o.InAttributeName||this.state===o.InAttributeValueSq||this.state===o.InAttributeValueDq||this.state===o.InAttributeValueNq||this.state===o.InClosingTagName||this.cbs.ontext(this.sectionStart,u))}emitCodePoint(u,l){this.baseState!==o.Text&&this.baseState!==o.InSpecialTag?(this.sectionStart<this.entityStart&&this.cbs.onattribdata(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+l,this.index=this.sectionStart-1,this.cbs.onattribentity(u)):(this.sectionStart<this.entityStart&&this.cbs.ontext(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+l,this.index=this.sectionStart-1,this.cbs.ontextentity(u,this.sectionStart))}}},14752:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(86080),e)},14801:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryOperationUpdateDeleteInsert=void 0;const c=s(34585),a=s(66490),o=s(90711),i=s(81926),t=s(67021),n=s(75627);class r extends a.ActorQueryOperationTypedMediated{constructor(l){super(l,"deleteinsert"),this.blankNodeCounter=0}async testOperation(l,d){return(0,t.testReadOnly)(d)}async runOperation(l,d){const p=d.getSafe(o.KeysInitQuery.dataFactory),f=await i.BindingsFactory.create(this.mediatorMergeBindingsContext,d,p),h=l.where?(0,t.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:l.where,context:d})).bindingsStream:new n.ArrayIterator([f.bindings()],{autoStart:!1});let y,m;l.insert&&(y=new c.BindingsToQuadsIterator(p,l.insert.map(c.BindingsToQuadsIterator.localizeQuad.bind(null,p,this.blankNodeCounter)),h.clone()),this.blankNodeCounter++),l.delete&&(m=new c.BindingsToQuadsIterator(p,l.delete.map(c.BindingsToQuadsIterator.localizeQuad.bind(null,p,this.blankNodeCounter)),h.clone()),this.blankNodeCounter++);const{execute:b}=await this.mediatorUpdateQuads.mediate({quadStreamInsert:y,quadStreamDelete:m,context:d});return{type:"void",execute:b}}}e.ActorQueryOperationUpdateDeleteInsert=r},15064:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DirectiveNodeHandlerSingle=void 0;const c=s(65183),a=s(67797);class o extends a.DirectiveNodeHandlerAdapter{constructor(t,n){super("single",t,n)}handle(t,n){return this.isDirectiveScopeAll(t.directive)&&(n.singularizeState=c.SingularizeState.SINGLE),n.singularizeVariables[this.util.nameToVariable(t.fieldLabel,n).value]=!0,{}}}e.DirectiveNodeHandlerSingle=o},15195:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermInequality=void 0;const c=s(77617),a=s(77545),o=s(1530);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.SparqlOperator.NOT_EQUAL],termFunction:!0}),this.mediatorFunctionFactory=n.mediatorFunctionFactory}async run(n){const r=await this.mediatorFunctionFactory.mediate({functionName:a.SparqlOperator.EQUAL,requireTermExpression:!0,context:n.context,arguments:n.arguments});return new o.TermFunctionInequality(r)}}e.ActorFunctionFactoryTermInequality=i},15517:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerKeywordId=void 0;const c=s(42395),a=s(1548);class o extends a.EntryHandlerKeyword{constructor(){super("@id")}isStackProcessor(){return!1}async handle(t,n,r,u,l,d){if(typeof l!="string"){if(t.rdfstar&&typeof l=="object"){const f=Object.keys(l);f.length===1&&f[0]==="@id"&&t.emitError(new c.ErrorCoded(`Invalid embedded node without property with @id ${l["@id"]}`,c.ERROR_CODES.INVALID_EMBEDDED_NODE))}else t.emitError(new c.ErrorCoded(`Found illegal @id '${l}'`,c.ERROR_CODES.INVALID_ID_VALUE));return}const p=await n.getPropertiesDepth(u,d);if(t.idStack[p]!==void 0&&(t.idStack[p][0].listHead?t.emitError(new c.ErrorCoded(`Found illegal neighbouring entries next to @list for key: '${u[d-1]}'`,c.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT)):t.emitError(new c.ErrorCoded(`Found duplicate @ids '${t.idStack[p][0].value}' and '${l}'`,c.ERROR_CODES.COLLIDING_KEYWORDS))),t.rdfstar&&t.annotationsBuffer[d])for(const f of t.annotationsBuffer[d])f.depth===d&&t.emitError(new c.ErrorCoded(`Found an illegal @id inside an annotation: ${l}`,c.ERROR_CODES.INVALID_ANNOTATION));t.idStack[p]=n.nullableTermToArray(await n.resourceToTerm(await t.getContext(u),l))}}e.EntryHandlerKeywordId=o},15541:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryOperationPathOneOrMore=void 0;const c=s(97091),a=s(90711),o=s(81926),i=s(67021),t=s(75627),n=s(96331);class r extends c.ActorAbstractPath{constructor(l){super(l,n.Algebra.types.ONE_OR_MORE_PATH)}async runOperation(l,d){const p=d.getSafe(a.KeysInitQuery.dataFactory),f=new n.Factory(p),h=await o.BindingsFactory.create(this.mediatorMergeBindingsContext,d,p),y=await this.isPathArbitraryLengthDistinct(f,d,l);if(y.operation)return y.operation;d=y.context;const m=l.predicate;if(l.subject.termType!=="Variable"&&l.object.termType==="Variable"){const _=l.object,w=await this.getObjectsPredicateStarEval(l.subject,m.path,_,l.graph,d,!1,f,h),O=(l.graph.termType==="Variable"?[_,l.graph]:[_]).map(A=>({variable:A,canBeUndef:!1}));return{type:"bindings",bindingsStream:w.bindingsStream,metadata:async()=>({...await w.metadata(),variables:O})}}if(l.subject.termType==="Variable"&&l.object.termType==="Variable"){const _=f.createDistinct(f.createPath(l.subject,l.predicate.path,l.object,l.graph)),w=(0,i.getSafeBindings)(await this.mediatorQueryOperation.mediate({context:d,operation:_})),O=l.subject,A=l.object,T={},S=new t.MultiTransformIterator(w.bindingsStream,{multiTransform:D=>{const I=D.get(O),V=D.get(A),K=l.graph.termType==="Variable"?D.get(l.graph):l.graph;return new t.TransformIterator(async()=>{const B=new t.BufferedIterator;return await this.getSubjectAndObjectBindingsPredicateStar(O,A,I,V,m.path,K,d,T,{},B,{count:0},f,h),B.map($=>(l.graph.termType==="Variable"&&($=$.set(l.graph,K)),$))},{autoStart:!1,maxBufferSize:128})},autoStart:!1}),E=(l.graph.termType==="Variable"?[O,A,l.graph]:[O,A]).map(D=>({variable:D,canBeUndef:!1}));return{type:"bindings",bindingsStream:S,metadata:async()=>({...await w.metadata(),variables:E})}}if(l.subject.termType==="Variable"&&l.object.termType!=="Variable")return this.mediatorQueryOperation.mediate({context:d,operation:f.createPath(l.object,f.createOneOrMorePath(f.createInv(m.path)),l.subject,l.graph)});const b=this.generateVariable(p),v=(0,i.getSafeBindings)(await this.mediatorQueryOperation.mediate({context:d,operation:f.createPath(l.subject,m,b,l.graph)}));return{type:"bindings",bindingsStream:v.bindingsStream.map(_=>l.object.equals(_.get(b))?l.graph.termType==="Variable"?h.bindings([[l.graph,_.get(l.graph)]]):h.bindings():null),metadata:async()=>({...await v.metadata(),variables:(l.graph.termType==="Variable"?[l.graph]:[]).map(_=>({variable:_,canBeUndef:!1}))})}}}e.ActorQueryOperationPathOneOrMore=r},15721:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermNow=void 0;const c=s(77617),a=s(77545),o=s(78478);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.SparqlOperator.NOW],termFunction:!0})}async run(n){return new o.TermFunctionNow}}e.ActorFunctionFactoryTermNow=i},15769:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(30393),e)},15825:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQuerySourceIdentifySerialized=void 0;const c=s(559),a=s(90412),o=s(34554),i=s(19198);class t extends c.ActorQuerySourceIdentify{constructor(r){super(r)}async test(r){return this.isStringSource(r.querySourceUnidentified)?(0,a.passTestVoid)():(0,a.failTest)(`${this.name} requires a single query source with serialized type to be present in the context.`)}async run(r){return await this.mediatorQuerySourceIdentify.mediate({querySourceUnidentified:{type:"rdfjs",value:await this.getRdfSource(r.context,r.querySourceUnidentified),context:r.querySourceUnidentified.context},context:r.context})}async getRdfSource(r,u){const l=new i.Readable({objectMode:!0});l._read=()=>{},l.push(u.value),l.push(null);const d={context:r,handle:{metadata:{baseIRI:u.baseIRI},data:l,context:r},handleMediaType:u.mediaType},p=await this.mediatorRdfParse.mediate(d);return await(0,o.storeStream)(p.handle.data)}isStringSource(r){return"type"in r?r.type==="serialized":typeof r.value=="string"&&"mediaType"in r}}e.ActorQuerySourceIdentifySerialized=t},15950:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MediatorRace=void 0;const c=s(90412);class a extends c.Mediator{constructor(i){super(i)}mediateWith(i,t){return new Promise((n,r)=>{const u=[];for(const l of t)l.reply.then(d=>{d.isPassed()?n((0,c.passTestWithSideData)(l.actor,d.getSideData())):(u.push(d.getFailMessage()),u.length===t.length&&n((0,c.failTest)(this.constructFailureMessage(i,u))))}).catch(d=>{r(d)})})}}e.MediatorRace=a},16115:(g,e,s)=>{const{SymbolAsyncIterator:c,SymbolIterator:a,SymbolFor:o}=s(24134),i=o("nodejs.stream.destroyed"),t=o("nodejs.stream.errored"),n=o("nodejs.stream.readable"),r=o("nodejs.stream.writable"),u=o("nodejs.stream.disturbed"),l=o("nodejs.webstream.isClosedPromise"),d=o("nodejs.webstream.controllerErrorFunction");function p(E,D=!1){var I;return!(!E||typeof E.pipe!="function"||typeof E.on!="function"||D&&(typeof E.pause!="function"||typeof E.resume!="function")||E._writableState&&((I=E._readableState)===null||I===void 0?void 0:I.readable)===!1||E._writableState&&!E._readableState)}function f(E){var D;return!(!E||typeof E.write!="function"||typeof E.on!="function"||E._readableState&&((D=E._writableState)===null||D===void 0?void 0:D.writable)===!1)}function h(E){return E&&(E._readableState||E._writableState||typeof E.write=="function"&&typeof E.on=="function"||typeof E.pipe=="function"&&typeof E.on=="function")}function y(E){return!(!E||h(E)||typeof E.pipeThrough!="function"||typeof E.getReader!="function"||typeof E.cancel!="function")}function m(E){return!(!E||h(E)||typeof E.getWriter!="function"||typeof E.abort!="function")}function b(E){return!(!E||h(E)||typeof E.readable!="object"||typeof E.writable!="object")}function v(E){if(!h(E))return null;const D=E._writableState,I=E._readableState,V=D||I;return!!(E.destroyed||E[i]||V!=null&&V.destroyed)}function _(E){if(!f(E))return null;if(E.writableEnded===!0)return!0;const D=E._writableState;return(D==null||!D.errored)&&(typeof D?.ended!="boolean"?null:D.ended)}function w(E,D){if(!p(E))return null;const I=E._readableState;return(I==null||!I.errored)&&(typeof I?.endEmitted!="boolean"?null:!!(I.endEmitted||D===!1&&I.ended===!0&&I.length===0))}function O(E){return E&&E[n]!=null?E[n]:typeof E?.readable!="boolean"?null:!v(E)&&p(E)&&E.readable&&!w(E)}function A(E){return E&&E[r]!=null?E[r]:typeof E?.writable!="boolean"?null:!v(E)&&f(E)&&E.writable&&!_(E)}function T(E){return typeof E._closed=="boolean"&&typeof E._defaultKeepAlive=="boolean"&&typeof E._removedConnection=="boolean"&&typeof E._removedContLen=="boolean"}function S(E){return typeof E._sent100=="boolean"&&T(E)}g.exports={isDestroyed:v,kIsDestroyed:i,isDisturbed:function(E){var D;return!(!E||!((D=E[u])!==null&&D!==void 0?D:E.readableDidRead||E.readableAborted))},kIsDisturbed:u,isErrored:function(E){var D,I,V,K,B,$,G,U,W,ye;return!(!E||!((D=(I=(V=(K=(B=($=E[t])!==null&&$!==void 0?$:E.readableErrored)!==null&&B!==void 0?B:E.writableErrored)!==null&&K!==void 0?K:(G=E._readableState)===null||G===void 0?void 0:G.errorEmitted)!==null&&V!==void 0?V:(U=E._writableState)===null||U===void 0?void 0:U.errorEmitted)!==null&&I!==void 0?I:(W=E._readableState)===null||W===void 0?void 0:W.errored)!==null&&D!==void 0?D:!((ye=E._writableState)===null||ye===void 0)&&ye.errored))},kIsErrored:t,isReadable:O,kIsReadable:n,kIsClosedPromise:l,kControllerErrorFunction:d,kIsWritable:r,isClosed:function(E){if(!h(E))return null;if(typeof E.closed=="boolean")return E.closed;const D=E._writableState,I=E._readableState;return typeof D?.closed=="boolean"||typeof I?.closed=="boolean"?D?.closed||I?.closed:typeof E._closed=="boolean"&&T(E)?E._closed:null},isDuplexNodeStream:function(E){return!(!E||typeof E.pipe!="function"||!E._readableState||typeof E.on!="function"||typeof E.write!="function")},isFinished:function(E,D){return h(E)?!(!v(E)&&(D?.readable!==!1&&O(E)||D?.writable!==!1&&A(E))):null},isIterable:function(E,D){return E!=null&&(D===!0?typeof E[c]=="function":D===!1?typeof E[a]=="function":typeof E[c]=="function"||typeof E[a]=="function")},isReadableNodeStream:p,isReadableStream:y,isReadableEnded:function(E){if(!p(E))return null;if(E.readableEnded===!0)return!0;const D=E._readableState;return!(!D||D.errored)&&(typeof D?.ended!="boolean"?null:D.ended)},isReadableFinished:w,isReadableErrored:function(E){var D,I;return h(E)?E.readableErrored?E.readableErrored:(D=(I=E._readableState)===null||I===void 0?void 0:I.errored)!==null&&D!==void 0?D:null:null},isNodeStream:h,isWebStream:function(E){return y(E)||m(E)||b(E)},isWritable:A,isWritableNodeStream:f,isWritableStream:m,isWritableEnded:_,isWritableFinished:function(E,D){if(!f(E))return null;if(E.writableFinished===!0)return!0;const I=E._writableState;return(I==null||!I.errored)&&(typeof I?.finished!="boolean"?null:!!(I.finished||D===!1&&I.ended===!0&&I.length===0))},isWritableErrored:function(E){var D,I;return h(E)?E.writableErrored?E.writableErrored:(D=(I=E._writableState)===null||I===void 0?void 0:I.errored)!==null&&D!==void 0?D:null:null},isServerRequest:function(E){var D;return typeof E._consuming=="boolean"&&typeof E._dumped=="boolean"&&((D=E.req)===null||D===void 0?void 0:D.upgradeOrConnect)===void 0},isServerResponse:S,willEmitClose:function(E){if(!h(E))return null;const D=E._writableState,I=E._readableState,V=D||I;return!V&&S(E)||!!(V&&V.autoDestroy&&V.emitClose&&V.closed===!1)},isTransformStream:b}},16166:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorTermComparatorFactoryExpressionEvaluator=void 0;const c=s(74448),a=s(14628),o=s(90711),i=s(90412),t=s(81926),n=s(77545),r=s(78605);class u extends a.ActorTermComparatorFactory{async test(d){return(0,i.passTestVoid)()}async run({context:d}){return d=n.prepareEvaluatorActionContext(d),new r.TermComparatorExpressionEvaluator(new c.InternalEvaluator(d,this.mediatorFunctionFactory,this.mediatorQueryOperation,await t.BindingsFactory.create(this.mediatorMergeBindingsContext,d,d.getSafe(o.KeysInitQuery.dataFactory))),await this.mediatorFunctionFactory.mediate({functionName:n.SparqlOperator.EQUAL,context:d,requireTermExpression:!0}),await this.mediatorFunctionFactory.mediate({functionName:n.SparqlOperator.LT,context:d,requireTermExpression:!0}))}}e.ActorTermComparatorFactoryExpressionEvaluator=u},16235:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(67120),e)},16305:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfUpdateHypermedia=void 0;const c=s(90412);class a extends c.Actor{constructor(i,t){super(i),this.destinationType=t}async test(i){return i.forceDestinationType&&this.destinationType!==i.forceDestinationType?(0,c.failTest)(`Actor ${this.name} is not able to handle destination type ${i.forceDestinationType}.`):this.testMetadata(i)}}e.ActorRdfUpdateHypermedia=a},16332:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeHandlerSelectionFragmentSpread=void 0;const c=s(53284);class a extends c.NodeHandlerSelectionAdapter{constructor(i,t){super("FragmentSpread",i,t)}handle(i,t){const n=t.fragmentDefinitions[i.name.value];if(!n)throw new Error("Undefined fragment definition: "+i.name.value);const r={alias:void 0,arguments:void 0,directives:n.directives,kind:"Field",name:i.name,selectionSet:n.selectionSet},u=[this.util.newTypePattern(t.subject,n.typeCondition,t)];return this.util.operationFactory.createLeftJoin(this.util.operationFactory.createBgp([]),this.fieldToOperation(t,r,!1,u))}}e.NodeHandlerSelectionFragmentSpread=a},16524:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorDereferenceHttpBase=e.mediaTypesToAcceptString=void 0;const c=s(42890),a=s(70322),o=s(90412),i=s(52728),t=s(70742),n=/^[^ ;]*/u;function r(l,d){const p=[],f=Object.entries(l).map(([y,m])=>({mediaType:y,priority:m})).sort((y,m)=>m.priority===y.priority?y.mediaType.localeCompare(m.mediaType):m.priority-y.priority);let h=f.length-1;for(const{mediaType:y,priority:m}of f){const b=y+(m===1?"":`;q=${m.toFixed(3).replace(/0*$/u,"")}`);if(h+b.length>d){for(;h+9>d;)h-=(p.pop()??"").length+1;p.push("*/*;q=0.1");break}p.push(b),h+=b.length}return p.length===0?"*/*":p.join(",")}e.mediaTypesToAcceptString=r;class u extends c.ActorDereference{constructor(d){super(d)}async test({url:d}){return/^https?:/u.test(d)?(0,o.passTestVoid)():(0,o.failTest)(`Cannot retrieve ${d} because it is not an HTTP(S) URL.`)}async run(d){let p=!0;const f=new Headers(d.headers);let h;f.append("Accept",r(await d.mediaTypes?.()??{},this.getMaxAcceptHeaderLength()));const y=Date.now();try{h=await this.mediatorHttp.mediate({context:d.context,init:{headers:f,method:d.method},input:d.url})}catch(_){return this.handleDereferenceErrors(d,_)}const m=(0,t.resolve)(h.url,d.url),b=Date.now()-y;if(h.status!==200){p=!1;const _=h.body?await(0,i.stringify)(a.ActorHttp.toNodeReadable(h.body)):"empty response";if(!d.acceptErrors){const w=new Error(`Could not retrieve ${d.url} (HTTP status ${h.status}):
${_}`);return this.handleDereferenceErrors(d,w,h.headers,b)}}const v=n.exec(h.headers.get("content-type")??"")?.[0];return{url:m,data:p?a.ActorHttp.toNodeReadable(h.body):(0,c.emptyReadable)(),exists:p,requestTime:b,headers:h.headers,mediaType:v==="text/plain"?void 0:v}}}e.ActorDereferenceHttpBase=u},16657:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(38291),e),a(s(85459),e),a(s(41937),e),a(s(52604),e)},16682:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(30152),e)},16686:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(73481),e)},16850:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQuerySourceIdentifyHypermediaNone=void 0;const c=s(20998),a=s(62100),o=s(90711),i=s(90412),t=s(81926),n=s(34554);class r extends a.ActorQuerySourceIdentifyHypermedia{constructor(l){super(l,"file")}async testMetadata(l){return(0,i.passTest)({filterFactor:0})}async run(l){this.logInfo(l.context,`Identified as file source: ${l.url}`);const d=l.context.getSafe(o.KeysInitQuery.dataFactory),p=new c.QuerySourceRdfJs(await(0,n.storeStream)(l.quads),d,await t.BindingsFactory.create(this.mediatorMergeBindingsContext,l.context,d));return p.toString=()=>`QuerySourceRdfJs(${l.url})`,p.referenceValue=l.url,{source:p}}}e.ActorQuerySourceIdentifyHypermediaNone=r},16851:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfMetadataAccumulateRequestTime=void 0;const c=s(50433),a=s(90412);class o extends c.ActorRdfMetadataAccumulate{constructor(t){super(t)}async test(t){return(0,a.passTestVoid)()}async run(t){return t.mode==="initialize"?{metadata:{}}:{metadata:{..."requestTime"in t.accumulatedMetadata||"requestTime"in t.appendingMetadata?{requestTime:(t.accumulatedMetadata.requestTime??0)+(t.appendingMetadata.requestTime??0)}:{}}}}}e.ActorRdfMetadataAccumulateRequestTime=o},16883:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryExpressionIn=void 0;const c=s(77617),a=s(77545),o=s(7190);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.SparqlOperator.IN],termFunction:!1}),this.mediatorFunctionFactory=n.mediatorFunctionFactory}async run(n){const r=await this.mediatorFunctionFactory.mediate({functionName:a.SparqlOperator.EQUAL,requireTermExpression:!0,context:n.context,arguments:n.arguments});return new o.ExpressionFunctionIn(r)}}e.ActorFunctionFactoryExpressionIn=i},16994:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Bindings=void 0;const c=s(90412),a=s(49568),o=s(18594);class i{constructor(n,r,u){this.type="bindings",this.dataFactory=n,this.entries=r,this.contextHolder=u}has(n){return this.entries.has(typeof n=="string"?n:n.value)}get(n){return this.entries.get(typeof n=="string"?n:n.value)}set(n,r){return new i(this.dataFactory,this.entries.set(typeof n=="string"?n:n.value,r),this.contextHolder)}delete(n){return new i(this.dataFactory,this.entries.delete(typeof n=="string"?n:n.value),this.contextHolder)}keys(){return this.mapIterable(this.iteratorToIterable(this.entries.keys()),n=>this.dataFactory.variable(n))}values(){return this.iteratorToIterable(this.entries.values())}forEach(n){for(const[r,u]of this.entries.entries())n(u,this.dataFactory.variable(r))}get size(){return this.entries.size}[Symbol.iterator](){return this.mapIterable(this.iteratorToIterable(this.entries.entries()),([n,r])=>[this.dataFactory.variable(n),r])[Symbol.iterator]()}equals(n){if(!n)return!1;if(this===n)return!0;if(this.size!==n.size)return!1;for(const r of this.keys())if(!this.get(r)?.equals(n.get(r)))return!1;return!0}filter(n){return new i(this.dataFactory,(0,a.Map)(this.entries.filter((r,u)=>n(r,this.dataFactory.variable(u)))),this.contextHolder)}map(n){return new i(this.dataFactory,(0,a.Map)(this.entries.map((r,u)=>n(r,this.dataFactory.variable(u)))),this.contextHolder)}merge(n){if(this.size<n.size&&n instanceof i)return n.merge(this);let r=this.entries;if(n instanceof i)for(const[u,l]of n.entries){const d=this.entries.get(u);if(d&&!d.equals(l))return;r=r.set(u,l)}else for(const[u,l]of n){const d=this.entries.get(u.value);if(d&&!d.equals(l))return;r=r.set(u.value,l)}return this.createBindingsWithContexts(r,n)}mergeWith(n,r){if(this.size<r.size&&r instanceof i)return r.mergeWith(n,this);let u=this.entries;if(r instanceof i)for(const[l,d]of r.entries){const p=this.entries.get(l);let f;f=p&&!p.equals(d)?n(p,d,this.dataFactory.variable(l)):d,u=u.set(l,f)}else for(const[l,d]of r){const p=this.entries.get(l.value);let f;f=p&&!p.equals(d)?n(p,d,l):d,u=u.set(l.value,f)}return this.createBindingsWithContexts(u,r)}createBindingsWithContexts(n,r){if(this.contextHolder&&this.contextHolder.context){let u=this.contextHolder.context;return"contextHolder"in r&&r.contextHolder&&r.contextHolder.context&&(u=i.mergeContext(this.contextHolder.contextMergeHandlers,u,r.contextHolder.context)),new i(this.dataFactory,n,{contextMergeHandlers:this.contextHolder.contextMergeHandlers,context:u})}return new i(this.dataFactory,n,r.contextHolder)}static mergeContext(n,r,u){const l=[...r.keys(),...u.keys()],d={},p={},f=new Set(u.keys().map(y=>y.name)),h=r.keys().filter(y=>f.has(y.name));for(const y of l){if(p[y.name]===1)continue;p[y.name]=1;const m=h.some(b=>b.name===y.name);n[y.name]&&m?d[y.name]=n[y.name].run(r.get(y),u.get(y)):!n[y.name]&&m||(r.get(y)?u.get(y)||(d[y.name]=r.get(y)):d[y.name]=u.get(y))}return new c.ActionContext(d)}setContextEntry(n,r){return this.setContextEntryRaw(n,r)}setContextEntryRaw(n,r){return this.contextHolder&&this.contextHolder.context?new i(this.dataFactory,this.entries,{contextMergeHandlers:this.contextHolder.contextMergeHandlers,context:this.contextHolder.context.set(n,r)}):new i(this.dataFactory,this.entries,{contextMergeHandlers:this.contextHolder?.contextMergeHandlers??{},context:new c.ActionContext().set(n,r)})}deleteContextEntry(n){return this.deleteContextEntryRaw(n)}deleteContextEntryRaw(n){return this.contextHolder?new i(this.dataFactory,this.entries,{contextMergeHandlers:this.contextHolder.contextMergeHandlers,context:this.contextHolder.context?.delete(n)}):new i(this.dataFactory,this.entries)}getContext(){return this.contextHolder?.context}getContextEntry(n){return this.getContext()?.get(n)}toString(){return(0,o.bindingsToString)(this)}*mapIterable(n,r){for(const u of n)yield r(u)}iteratorToIterable(n){return{[Symbol.iterator]:()=>n}}}e.Bindings=i},17024:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(32300),e)},17136:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorHashQuads=void 0;const c=s(90412);class a extends c.Actor{constructor(i){super(i)}}e.ActorHashQuads=a},17140:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.LinkedRdfSourcesAsyncRdfIterator=void 0;const c=s(90711),a=s(99214),o=s(75627);class i extends o.BufferedIterator{constructor(n,r,u,l,d,p,f,h){if(super({autoStart:!1,...h}),this.started=!1,this.currentIterators=[],this.iteratorsPendingCreation=0,this.iteratorsPendingTermination=0,this.accumulatedMetadata=Promise.resolve(void 0),this._reading=!1,this.cacheSize=n,this.operation=r,this.queryBindingsOptions=u,this.context=l,this.firstUrl=d,this.maxIterators=p,this.sourceStateGetter=f,this.maxIterators<=0)throw new Error(`LinkedRdfSourcesAsyncRdfIterator.maxIterators must be larger than zero, but got ${this.maxIterators}`)}kickstart(){this.started||this._fillBufferAsync()}getProperty(n,r){return n!=="metadata"||this.started||(this.preflightMetadata||(this.preflightMetadata=new Promise((u,l)=>{this.sourceStateGetter({url:this.firstUrl},{}).then(d=>{const p=d.source.queryBindings(this.operation,this.context);p.getProperty("metadata",f=>{f.state=new a.MetadataValidationState,p.destroy(),this.accumulateMetadata(d.metadata,f).then(h=>{const y={...d.metadata,...f,...h};u(y)}).catch(()=>{u({...d.metadata,state:new a.MetadataValidationState})})})}).catch(l)})),this.preflightMetadata.then(u=>this.setProperty("metadata",u)).catch(u=>this.emit("error",u))),super.getProperty(n,r)}_end(n){for(const r of this.currentIterators)r.destroy();super._end(n)}_read(n,r){if(this.started){for(const u of this.currentIterators){for(;n>0;){const l=u.read();if(l===null)break;n--,this._push(l)}if(n<=0)break}n>=0&&this.canStartNewIterator()?this.sourceStateGetter({url:this.firstUrl},{}).then(u=>{this.startIteratorsForNextUrls(u.handledDatasets,!1),r()}):r()}else this.started=!0,this.sourceStateGetter({url:this.firstUrl},{}).then(u=>{this.startIterator(u),r()}).catch(u=>setTimeout(()=>this.destroy(u)))}canStartNewIterator(){return this.currentIterators.length+this.iteratorsPendingCreation+this.iteratorsPendingTermination<this.maxIterators&&(!this.canStartNewIteratorConsiderReadable()||!this.readable)}canStartNewIteratorConsiderReadable(){return!0}areIteratorsRunning(){return this.currentIterators.length+this.iteratorsPendingCreation+this.iteratorsPendingTermination>0}startIterator(n){try{const r=n.source.queryBindings(this.operation,this.context,this.queryBindingsOptions);this.currentIterators.push(r);let u=!1,l=!1;r._destination=this,r.on("error",d=>this.destroy(d)),r.on("readable",()=>this._fillBuffer()),r.on("end",()=>{this.currentIterators.splice(this.currentIterators.indexOf(r),1),u=!0,l||this.iteratorsPendingTermination++,l&&this.startIteratorsForNextUrls(n.handledDatasets,!0)}),r.getProperty("metadata",d=>{this.accumulatedMetadata=this.accumulatedMetadata.then(p=>(async()=>(p||(p=n.metadata),this.accumulateMetadata(p,d)))().then(f=>{const h={...n.metadata,...d,...f};return h.state=new a.MetadataValidationState,this.updateMetadata(h),this.preflightMetadata&&this.preflightMetadata.then(y=>y.state.invalidate()).catch(()=>{}),this.getSourceLinks(h,n).then(y=>Promise.all(y)).then(async y=>{const m=await this.getLinkQueue();for(const b of y)m.push(b,n.link);l=!0,u&&this.iteratorsPendingTermination--,this.startIteratorsForNextUrls(n.handledDatasets,!0)}).catch(y=>this.destroy(y)),h})).catch(p=>(this.destroy(p),{}))})}catch(r){this.destroy(r)}}updateMetadata(n){const r=this.getProperty("metadata");this.setProperty("metadata",n),r?.state.invalidate()}isRunning(){return!this.done}startIteratorsForNextUrls(n,r){this.getLinkQueue().then(u=>{for(;this.canStartNewIterator()&&this.isRunning();){const l=u.pop();if(!l)break;this.iteratorsPendingCreation++,this.sourceStateGetter(l,n).then(d=>{const p=this.context.get(c.KeysStatistics.dereferencedLinks);p&&p.updateStatistic({url:d.link.url,metadata:{...d.metadata,...d.link.metadata}},d.source),this.iteratorsPendingCreation--,this.startIterator(d)}).catch(d=>this.emit("error",d))}r&&this.isCloseable(u,!0)&&this.close()}).catch(u=>this.destroy(u))}isCloseable(n,r){return n.isEmpty()&&!this.areIteratorsRunning()}}e.LinkedRdfSourcesAsyncRdfIterator=i},17169:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},17173:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.termToString=e.stringToTerm=e.stringQuadToQuad=e.quadToStringQuad=e.getLiteralValue=e.getLiteralType=e.getLiteralLanguage=void 0;const c=s(73719);Object.defineProperty(e,"getLiteralLanguage",{enumerable:!0,get:function(){return c.getLiteralLanguage}}),Object.defineProperty(e,"getLiteralType",{enumerable:!0,get:function(){return c.getLiteralType}}),Object.defineProperty(e,"getLiteralValue",{enumerable:!0,get:function(){return c.getLiteralValue}}),Object.defineProperty(e,"quadToStringQuad",{enumerable:!0,get:function(){return c.quadToStringQuad}}),Object.defineProperty(e,"stringQuadToQuad",{enumerable:!0,get:function(){return c.stringQuadToQuad}}),Object.defineProperty(e,"stringToTerm",{enumerable:!0,get:function(){return c.stringToTerm}}),Object.defineProperty(e,"termToString",{enumerable:!0,get:function(){return c.termToString}})},17215:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(80933),e)},17352:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(34023),e),a(s(23786),e)},17382:(g,e,s)=>{const{ObjectSetPrototypeOf:c,Symbol:a}=s(24134);g.exports=r;const{ERR_METHOD_NOT_IMPLEMENTED:o}=s(76371).codes,i=s(93370),{getHighWaterMark:t}=s(65291);c(r.prototype,i.prototype),c(r,i);const n=a("kCallback");function r(d){if(!(this instanceof r))return new r(d);const p=d?t(this,d,"readableHighWaterMark",!0):null;p===0&&(d={...d,highWaterMark:null,readableHighWaterMark:p,writableHighWaterMark:d.writableHighWaterMark||0}),i.call(this,d),this._readableState.sync=!1,this[n]=null,d&&(typeof d.transform=="function"&&(this._transform=d.transform),typeof d.flush=="function"&&(this._flush=d.flush)),this.on("prefinish",l)}function u(d){typeof this._flush!="function"||this.destroyed?(this.push(null),d&&d()):this._flush((p,f)=>{p?d?d(p):this.destroy(p):(f!=null&&this.push(f),this.push(null),d&&d())})}function l(){this._final!==u&&u.call(this)}r.prototype._final=u,r.prototype._transform=function(d,p,f){throw new o("_transform()")},r.prototype._write=function(d,p,f){const h=this._readableState,y=this._writableState,m=h.length;this._transform(d,p,(b,v)=>{b?f(b):(v!=null&&this.push(v),y.ended||m===h.length||h.length<h.highWaterMark?f():this[n]=f)})},r.prototype._read=function(){if(this[n]){const d=this[n];this[n]=null,d()}}},17426:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorContextPreprocessQuerySourceSkolemize=void 0;const c=s(98926),a=s(90711),o=s(90412),i=s(3898),t=s(28703);class n extends c.ActorContextPreprocess{constructor(u){super(u)}async test(u){return(0,o.passTestVoid)()}async run(u){let l=u.context;if(l.has(a.KeysQueryOperation.querySources)){l.has(a.KeysQuerySourceIdentify.sourceIds)||(l=l.set(a.KeysQuerySourceIdentify.sourceIds,new Map));const d=l.getSafe(a.KeysQuerySourceIdentify.sourceIds);let p=l.getSafe(a.KeysQueryOperation.querySources);p=p.map(f=>({source:new i.QuerySourceSkolemized(f.source,(0,t.getSourceId)(d,f.source)),context:f.context})),l=l.set(a.KeysQueryOperation.querySources,p)}return{context:l}}}e.ActorContextPreprocessQuerySourceSkolemize=n},17538:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfSerialize=void 0;const c=s(48092);class a extends c.ActorAbstractMediaTyped{constructor(i){super(i)}}e.ActorRdfSerialize=a},17569:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermDatatype=void 0;const c=s(77617),a=s(77545),o=s(62944);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.SparqlOperator.DATATYPE],termFunction:!0})}async run(n){return new o.TermFunctionDatatype}}e.ActorFunctionFactoryTermDatatype=i},17633:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorAbstractMediaTypedFixed=void 0;const c=s(90412),a=s(78563);class o extends a.ActorAbstractMediaTyped{constructor(t){super(t);const n=this.priorityScale||this.priorityScale===0?this.priorityScale:1;if(this.mediaTypePriorities)for(const[r,[u,l]]of Object.entries(this.mediaTypePriorities).entries())this.mediaTypePriorities[u]=n*l;this.mediaTypePriorities=Object.freeze(this.mediaTypePriorities),this.mediaTypeFormats=Object.freeze(this.mediaTypeFormats)}async testHandle(t,n,r){return n&&n in this.mediaTypePriorities?await this.testHandleChecked(t,r):(0,c.failTest)(`Unrecognized media type: ${n}`)}async testMediaType(t){return(0,c.passTestVoid)()}async getMediaTypes(t){return this.mediaTypePriorities}async testMediaTypeFormats(t){return(0,c.passTestVoid)()}async getMediaTypeFormats(t){return this.mediaTypeFormats}}e.ActorAbstractMediaTypedFixed=o},17685:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQuerySourceIdentifyHypermedia=void 0;const c=s(559),a=s(90711),o=s(90412),i=s(81926),t=s(20386);class n extends c.ActorQuerySourceIdentify{constructor(u){super(u)}async test(u){return typeof u.querySourceUnidentified.value!="string"?(0,o.failTest)(`${this.name} requires a single query source with a URL value to be present in the context.`):(0,o.passTestVoid)()}async run(u){const l=u.context.getSafe(a.KeysInitQuery.dataFactory);return{querySource:{source:new t.QuerySourceHypermedia(this.cacheSize,u.querySourceUnidentified.value,u.querySourceUnidentified.type,this.maxIterators,this.aggregateTraversalStore&&!!u.querySourceUnidentified.context?.get(a.KeysQuerySourceIdentify.traverse),{mediatorMetadata:this.mediatorMetadata,mediatorMetadataExtract:this.mediatorMetadataExtract,mediatorMetadataAccumulate:this.mediatorMetadataAccumulate,mediatorDereferenceRdf:this.mediatorDereferenceRdf,mediatorQuerySourceIdentifyHypermedia:this.mediatorQuerySourceIdentifyHypermedia,mediatorRdfResolveHypermediaLinks:this.mediatorRdfResolveHypermediaLinks,mediatorRdfResolveHypermediaLinksQueue:this.mediatorRdfResolveHypermediaLinksQueue},d=>this.logWarn(u.context,d),l,await i.BindingsFactory.create(this.mediatorMergeBindingsContext,u.context,l)),context:u.querySourceUnidentified.context??new o.ActionContext}}}}e.ActorQuerySourceIdentifyHypermedia=n},17731:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(80991),e)},17796:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionSha512=void 0;const c=s(77617),a=s(77545),o=s(77952);class i extends c.TermFunctionBase{constructor(){super({arity:1,operator:a.SparqlOperator.SHA512,overloads:(0,a.declare)(a.SparqlOperator.SHA512).onString1Typed(()=>n=>(0,a.string)((0,o.sha512)().update(n).digest("hex"))).collect()})}}e.TermFunctionSha512=i},17845:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.prepareEvaluatorActionContext=void 0;const c=s(90711),a=s(89096),o=s(31296);e.prepareEvaluatorActionContext=function(i){let t=i;if(t.has(c.KeysInitQuery.extensionFunctionCreator)&&t.has(c.KeysInitQuery.extensionFunctions))throw new Error("Illegal simultaneous usage of extensionFunctionCreator and extensionFunctions in context");if(t.has(c.KeysInitQuery.extensionFunctionCreator))t=t.set(c.KeysExpressionEvaluator.extensionFunctionCreator,t.get(c.KeysInitQuery.extensionFunctionCreator));else if(t.has(c.KeysInitQuery.extensionFunctions)){const n=t.getSafe(c.KeysInitQuery.extensionFunctions);t=t.set(c.KeysExpressionEvaluator.extensionFunctionCreator,async r=>n[r.value])}else t=t.setDefault(c.KeysExpressionEvaluator.extensionFunctionCreator,async()=>{});return t=t.setDefault(c.KeysExpressionEvaluator.defaultTimeZone,(0,o.extractTimeZone)(t.getSafe(c.KeysInitQuery.queryTimestamp))),t=t.setDefault(c.KeysExpressionEvaluator.superTypeProvider,{cache:new a.LRUCache({max:1e3}),discoverer:()=>"term"}),t}},17919:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermXsdToYearMonthDuration=void 0;const c=s(77617),a=s(77545),o=s(60882);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.TypeURL.XSD_YEAR_MONTH_DURATION],termFunction:!0})}async run(n){return new o.TermFunctionXsdToYearMonthDuration}}e.ActorFunctionFactoryTermXsdToYearMonthDuration=i},17937:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfJoinHash=void 0;const c=s(95445),a=s(90412),o=s(18888),i=s(4809),t=s(75627),n=s(25579),r=s(51038);class u extends c.ActorRdfJoin{constructor(d){super(d,{logicalType:"inner",physicalName:"hash-"+(d.canHandleUndefs?"undef":"def"),limitEntries:2,requiresVariableOverlap:!0,canHandleUndefs:d.canHandleUndefs})}async getOutput(d,p){const f=p.metadatas;let h;const y=c.ActorRdfJoin.overlappingVariables(f);if(this.canHandleUndefs){const m=p.entriesSorted[0].output,b=p.entriesSorted[1].output;h=new i.ClosableTransformIterator(async()=>{const v=new o.BindingsIndexUndef(y,_=>_&&_.termType!=="Variable"?(0,r.termToString)(_):"",!0);return await new Promise(_=>{m.bindingsStream.on("data",w=>{(v.getFirst(w,!1)??v.put(w,[])).push(w)}),m.bindingsStream.on("end",_),m.bindingsStream.on("error",w=>{h.emit("error",w)})}),new t.MultiTransformIterator(b.bindingsStream,{multiTransform:_=>new t.ArrayIterator(v.get(_).flat().map(w=>c.ActorRdfJoin.joinBindings(_,w)).filter(w=>w!==null),{autoStart:!1}),autoStart:!1})},{autoStart:!1,onClose(){m.bindingsStream.destroy(),b.bindingsStream.destroy()}})}else{const{hashFunction:m}=await this.mediatorHashBindings.mediate({context:d.context}),b=y.map(v=>v.variable);h=new n.HashJoin(p.entriesSorted[0].output.bindingsStream,p.entriesSorted[1].output.bindingsStream,v=>m(v,b),c.ActorRdfJoin.joinBindings)}return{result:{type:"bindings",bindingsStream:h,metadata:async()=>await this.constructResultMetadata(p.entriesSorted,f,d.context)}}}async getJoinCoefficients(d,p){let f=d.entries;p.metadatas[1].cardinality.value<p.metadatas[0].cardinality.value&&(p.metadatas=[p.metadatas[1],p.metadatas[0]],f=[d.entries[1],d.entries[0]]);const{metadatas:h}=p,y=c.ActorRdfJoin.getRequestInitialTimes(h),m=c.ActorRdfJoin.getRequestItemTimes(h);let b=h[0].cardinality.value+h[1].cardinality.value;return this.canHandleUndefs||(b*=.8),(0,a.passTestWithSideData)({iterations:b,persistedItems:h[0].cardinality.value,blockingItems:h[0].cardinality.value,requestTime:y[0]+h[0].cardinality.value*m[0]+y[1]+h[1].cardinality.value*m[1]},{...p,entriesSorted:f})}}e.ActorRdfJoinHash=u},18021:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultGraph=void 0;class s{constructor(){this.termType="DefaultGraph",this.value=""}equals(a){return!!a&&a.termType==="DefaultGraph"}}e.DefaultGraph=s,s.INSTANCE=new s},18202:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MediatorNumber=void 0;const c=s(90412);class a extends c.Mediator{constructor(i){super(i),this.indexPicker=this.createIndexPicker()}createIndexPicker(){switch(this.type){case"min":return i=>i.reduce((t,n,r)=>{const u=this.getOrDefault(n[this.field],Number.POSITIVE_INFINITY);return u!==null&&(Number.isNaN(t[0])||t[0]>u)?[u,r]:t},[Number.NaN,-1])[1];case"max":return i=>i.reduce((t,n,r)=>{const u=this.getOrDefault(n[this.field],Number.NEGATIVE_INFINITY);return u!==null&&(Number.isNaN(t[0])||t[0]<u)?[u,r]:t},[Number.NaN,-1])[1];default:throw new Error(`No valid "type" value was given, must be either 'min' or 'max', but got: ${this.type}`)}}getOrDefault(i,t){return i===void 0?t:i}async mediateWith(i,t){let n=await Promise.all(t.map(({reply:p})=>p));const r=[];if(this.ignoreFailures){const p={};p[this.field]=null,n=n.map(f=>f.isFailed()?(r.push(f.getFailMessage()),(0,c.passTestWithSideData)(p,void 0)):f)}const u=[],l=n.map((p,f)=>{const h=p.getOrThrow();return u[f]=p.getSideData(),h}),d=this.indexPicker(l);return d<0?(0,c.failTest)(this.constructFailureMessage(i,r)):(0,c.passTestWithSideData)(t[d].actor,u[d])}}e.MediatorNumber=a},18412:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(30795),e)},18512:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfMetadataExtractRequestTime=void 0;const c=s(18412),a=s(90412);class o extends c.ActorRdfMetadataExtract{constructor(t){super(t)}async test(t){return(0,a.passTestVoid)()}async run(t){return{metadata:{requestTime:t.requestTime}}}}e.ActorRdfMetadataExtractRequestTime=o},18594:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.bindingsToCompactString=e.bindingsToString=void 0;const c=s(76952);e.bindingsToString=function(a){const o={};for(const i of a.keys())o[i.value]=(0,c.termToString)(a.get(i));return JSON.stringify(o,null,"  ")},e.bindingsToCompactString=function(a,o){return o.map(i=>{const t=a.get(i);return t?(0,c.termToString)(t):""}).join("")}},18697:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfJoinMultiBindSource=void 0;const c=s(95445),a=s(90711),o=s(90412),i=s(4809),t=s(67021),n=s(75627),r=s(96331);class u extends c.ActorRdfJoin{constructor(d){super(d,{logicalType:"inner",physicalName:"bind-source",canHandleUndefs:!0})}async getOutput(d,p){const f=d.context.getSafe(a.KeysInitQuery.dataFactory),h=new r.Factory(f),y=p.entriesSorted;this.logDebug(d.context,"First entry for Bind Join Source: ",()=>({entry:y[0].operation,cardinality:y[0].metadata.cardinality,order:y[0].metadata.order,availableOrders:y[0].metadata.availableOrders}));for(const[A,T]of y.entries())A!==0&&T.output.bindingsStream.close();const m=y[0].output,b=y[0].metadata,v=[...y];v.splice(0,1);const _=(0,t.getOperationSource)(v[0].operation),w=this.createOperationFromEntries(h,v),O=new i.ChunkedIterator(m.bindingsStream,this.blockSize,{autoStart:!1});return{result:{type:"bindings",bindingsStream:new n.UnionIterator(O.map(A=>_.source.queryBindings(w,_.context?d.context.merge(_.context):d.context,{joinBindings:{bindings:A,metadata:b}}))),metadata:()=>this.constructResultMetadata(y,y.map(A=>A.metadata),d.context)},physicalPlanMetadata:{bindIndex:p.entriesUnsorted.indexOf(y[0])}}}async sortJoinEntries(d,p){const f=await c.ActorRdfJoin.sortJoinEntries(this.mediatorJoinEntriesSort,d,p);return f.isFailed()?f:(d=(d=f.get()).sort((h,y)=>h.operationModified&&!y.operationModified?-1:0),(0,o.passTest)(d))}async getJoinCoefficients(d,p){let{metadatas:f}=p;const h=d.context.getSafe(a.KeysInitQuery.dataFactory),y=new r.Factory(h),m=d.entries.map((V,K)=>({...V,metadata:f[K]})),b=await this.sortJoinEntries(m,d.context);if(b.isFailed())return b;const v=b.get();f=v.map(V=>V.metadata);const _=c.ActorRdfJoin.getRequestInitialTimes(f),w=c.ActorRdfJoin.getRequestItemTimes(f),O=[...v];[..._],[...w],O.splice(0,1);const A=O.map(V=>(0,t.getOperationSource)(V.operation));if(A.some(V=>!V))return(0,o.failTest)(`Actor ${this.name} can not bind on remaining operations without source annotation`);if(A.some(V=>V!==A[0]))return(0,o.failTest)(`Actor ${this.name} can not bind on remaining operations with non-equal source annotation`);const T=A[0],S=this.createOperationFromEntries(y,O),E=await T.source.getSelectorShape(d.context);if(!(0,t.doesShapeAcceptOperation)(E,S,{joinBindings:!0}))return(0,o.failTest)(`Actor ${this.name} detected a source that can not handle passing down join bindings`);const D=await Promise.all(O.map(async V=>(await this.mediatorJoinSelectivity.mediate({entries:[v[0],V],context:d.context})).selectivity*this.selectivityModifier)),I=O.map((V,K)=>V.metadata.cardinality.value*D[K]).reduce((V,K)=>V+K,0);return(0,o.passTestWithSideData)({iterations:1,persistedItems:f[0].cardinality.value,blockingItems:f[0].cardinality.value,requestTime:_[0]+f[0].cardinality.value*w[0]+_[1]+I*w[1]},{...p,entriesUnsorted:m,entriesSorted:v})}createOperationFromEntries(d,p){return p.length===1?p[0].operation:d.createJoin(p.map(f=>f.operation),!0)}}e.ActorRdfJoinMultiBindSource=u},18888:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(4519),e),a(s(30862),e),a(s(73833),e)},18895:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(57805),e)},18962:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(23598),e),a(s(83893),e)},18996:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0});const c=s(25828);class a extends c.Store{getQuadsOnce(i,t,n,r){const u=this.getQuads(i,t,n,r);return this.removeQuads(u),u}getSubjectsOnce(i,t,n){return this.getQuadsOnce(null,i,t,n).map(r=>r.subject)}getObjectsOnce(i,t,n){return this.getQuadsOnce(i,t,null,n).map(r=>r.object)}}e.default=a},19036:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfParseHtml=void 0;const c=s(95124),a=s(54392),o=s(19198);class i extends c.ActorRdfParseFixedMediaTypes{constructor(n){super(n)}async runHandle(n,r,u){const l=new o.Readable({objectMode:!0});l._read=()=>{};let d=0,p=1;function f(m){l.emit("error",m)}function h(){--p===0&&l.push(null)}const y={baseIRI:n.metadata?.baseIRI??"",context:u,emit:m=>{d--,l.push(m)},end:h,error:f,headers:n.headers};try{const m=await Promise.all(this.busRdfParseHtml.publish(y));p+=m.length;const b=[];for(const w of m){const{htmlParseListener:O}=await w.actor.run(y,void 0);b.push(O)}const v=new a.Parser({onclosetag(){try{for(const w of b)w.onTagClose()}catch(w){f(w)}},onend(){try{for(const w of b)w.onEnd()}catch(w){f(w)}h()},onopentag(w,O){try{for(const A of b)A.onTagOpen(w,O)}catch(A){f(A)}},ontext(w){try{for(const O of b)O.onText(w)}catch(O){f(O)}}},{decodeEntities:!0,recognizeSelfClosing:!0,xmlMode:!1}),_=l._read=w=>{for(d=Math.max(w,d);d>0;){const O=n.data.read();if(O===null)return void n.data.once("readable",()=>_(0));v.write(O.toString())}};n.data.on("error",f).on("end",()=>v.end())}catch(m){setTimeout(()=>{l.emit("error",m)})}return{data:l}}}e.ActorRdfParseHtml=i},19039:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.KeysStatistics=e.KeysRdfJoin=e.KeysMergeBindingsContext=e.KeysRdfUpdateQuads=e.KeysQuerySourceIdentify=e.KeysRdfParseHtmlScript=e.KeysRdfParseJsonLd=e.KeysQueryOperation=e.KeysExpressionEvaluator=e.KeysInitQuery=e.KeysHttpProxy=e.KeysHttpMemento=e.KeysHttpWayback=e.KeysHttp=e.KeysCore=void 0;const c=s(90412);e.KeysCore={log:c.CONTEXT_KEY_LOGGER},e.KeysHttp={includeCredentials:new c.ActionContextKey("@comunica/bus-http:include-credentials"),auth:new c.ActionContextKey("@comunica/bus-http:auth"),fetch:new c.ActionContextKey("@comunica/bus-http:fetch"),httpTimeout:new c.ActionContextKey("@comunica/bus-http:http-timeout"),httpBodyTimeout:new c.ActionContextKey("@comunica/bus-http:http-body-timeout"),httpRetryCount:new c.ActionContextKey("@comunica/bus-http:http-retry-count"),httpRetryDelayFallback:new c.ActionContextKey("@comunica/bus-http:http-retry-delay-fallback"),httpRetryDelayLimit:new c.ActionContextKey("@comunica/bus-http:http-retry-delay-limit"),httpRetryStatusCodes:new c.ActionContextKey("@comunica/bus-http:http-retry-status-codes")},e.KeysHttpWayback={recoverBrokenLinks:new c.ActionContextKey("@comunica/bus-http:recover-broken-links")},e.KeysHttpMemento={datetime:new c.ActionContextKey("@comunica/actor-http-memento:datetime")},e.KeysHttpProxy={httpProxyHandler:new c.ActionContextKey("@comunica/actor-http-proxy:httpProxyHandler")},e.KeysInitQuery={querySourcesUnidentified:new c.ActionContextKey("@comunica/actor-init-query:querySourcesUnidentified"),initialBindings:new c.ActionContextKey("@comunica/actor-init-query:initialBindings"),queryFormat:new c.ActionContextKey("@comunica/actor-init-query:queryFormat"),graphqlSingularizeVariables:new c.ActionContextKey("@comunica/actor-init-query:singularizeVariables"),lenient:new c.ActionContextKey("@comunica/actor-init-query:lenient"),queryString:new c.ActionContextKey("@comunica/actor-init-query:queryString"),query:new c.ActionContextKey("@comunica/actor-init-query:query"),baseIRI:new c.ActionContextKey("@comunica/actor-init-query:baseIRI"),functionArgumentsCache:new c.ActionContextKey("@comunica/actor-init-query:functionArgumentsCache"),queryTimestamp:new c.ActionContextKey("@comunica/actor-init-query:queryTimestamp"),queryTimestampHighResolution:new c.ActionContextKey("@comunica/actor-init-query:queryTimestampHighResolution"),extensionFunctionCreator:new c.ActionContextKey("@comunica/actor-init-query:extensionFunctionCreator"),extensionFunctions:new c.ActionContextKey("@comunica/actor-init-query:extensionFunctions"),cliArgsHandlers:new c.ActionContextKey("@comunica/actor-init-query:cliArgsHandlers"),explain:new c.ActionContextKey("@comunica/actor-init-query:explain"),physicalQueryPlanLogger:new c.ActionContextKey("@comunica/actor-init-query:physicalQueryPlanLogger"),physicalQueryPlanNode:new c.ActionContextKey("@comunica/actor-init-query:physicalQueryPlanNode"),jsonLdContext:new c.ActionContextKey("@context"),invalidateCache:new c.ActionContextKey("@comunica/actor-init-query:invalidateCache"),dataFactory:new c.ActionContextKey("@comunica/actor-init-query:dataFactory"),distinctConstruct:new c.ActionContextKey("@comunica/actor-init-query:distinctConstruct")},e.KeysExpressionEvaluator={extensionFunctionCreator:new c.ActionContextKey("@comunica/utils-expression-evaluator:extensionFunctionCreator"),superTypeProvider:new c.ActionContextKey("@comunica/utils-expression-evaluator:superTypeProvider"),defaultTimeZone:new c.ActionContextKey("@comunica/utils-expression-evaluator:defaultTimeZone"),actionContext:new c.ActionContextKey("@comunica/utils-expression-evaluator:actionContext")},e.KeysQueryOperation={operation:new c.ActionContextKey("@comunica/bus-query-operation:operation"),joinLeftMetadata:new c.ActionContextKey("@comunica/bus-query-operation:joinLeftMetadata"),joinRightMetadatas:new c.ActionContextKey("@comunica/bus-query-operation:joinRightMetadatas"),joinBindings:new c.ActionContextKey("@comunica/bus-query-operation:joinBindings"),readOnly:new c.ActionContextKey("@comunica/bus-query-operation:readOnly"),isPathArbitraryLengthDistinctKey:new c.ActionContextKey("@comunica/bus-query-operation:isPathArbitraryLengthDistinct"),limitIndicator:new c.ActionContextKey("@comunica/bus-query-operation:limitIndicator"),unionDefaultGraph:new c.ActionContextKey("@comunica/bus-query-operation:unionDefaultGraph"),querySources:new c.ActionContextKey("@comunica/bus-query-operation:querySources")},e.KeysRdfParseJsonLd={documentLoader:new c.ActionContextKey("@comunica/actor-rdf-parse-jsonld:documentLoader"),strictValues:new c.ActionContextKey("@comunica/actor-rdf-parse-jsonld:strictValues"),parserOptions:new c.ActionContextKey("@comunica/actor-rdf-parse-jsonld:parserOptions")},e.KeysRdfParseHtmlScript={processingHtmlScript:new c.ActionContextKey("@comunica/actor-rdf-parse-html-script:processingHtmlScript"),extractAllScripts:new c.ActionContextKey("extractAllScripts")},e.KeysQuerySourceIdentify={sourceIds:new c.ActionContextKey("@comunica/bus-query-source-identify:sourceIds"),hypermediaSourcesAggregatedStores:new c.ActionContextKey("@comunica/bus-query-source-identify:hypermediaSourcesAggregatedStores"),traverse:new c.ActionContextKey("@comunica/bus-query-source-identify:traverse")},e.KeysRdfUpdateQuads={destination:new c.ActionContextKey("@comunica/bus-rdf-update-quads:destination")},e.KeysMergeBindingsContext={sourcesBinding:new c.ActionContextKey("@comunica/bus-merge-bindings-context:sourcesBinding")},e.KeysRdfJoin={lastPhysicalJoin:new c.ActionContextKey("@comunica/bus-rdf-join:lastPhysicalJoin")},e.KeysStatistics={discoveredLinks:new c.ActionContextKey("@comunica/statistic:discoveredLinks"),dereferencedLinks:new c.ActionContextKey("@comunica/statistic:dereferencedLinks"),intermediateResults:new c.ActionContextKey("@comunica/statistic:intermediateResults")}},19198:(g,e,s)=>{const c=s(63125),a=s(43095),o=c.Readable.destroy;g.exports=c.Readable,g.exports._uint8ArrayToBuffer=c._uint8ArrayToBuffer,g.exports._isUint8Array=c._isUint8Array,g.exports.isDisturbed=c.isDisturbed,g.exports.isErrored=c.isErrored,g.exports.isReadable=c.isReadable,g.exports.Readable=c.Readable,g.exports.Writable=c.Writable,g.exports.Duplex=c.Duplex,g.exports.Transform=c.Transform,g.exports.PassThrough=c.PassThrough,g.exports.addAbortSignal=c.addAbortSignal,g.exports.finished=c.finished,g.exports.destroy=c.destroy,g.exports.destroy=o,g.exports.pipeline=c.pipeline,g.exports.compose=c.compose,Object.defineProperty(c,"promises",{configurable:!0,enumerable:!0,get:()=>a}),g.exports.Stream=c.Stream,g.exports.default=g.exports},19227:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(8236),e)},19356:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(86551),e),a(s(34864),e)},19383:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},19464:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryExpressionLogicalAnd=void 0;const c=s(77617),a=s(77545),o=s(60677);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.SparqlOperator.LOGICAL_AND],termFunction:!1})}async run(n){return new o.ExpressionFunctionLogicalAnd}}e.ActorFunctionFactoryExpressionLogicalAnd=i},19480:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryParseGraphql=void 0;const c=s(92180),a=s(90711),o=s(90412),i=s(33826);class t extends c.ActorQueryParse{constructor(r){super(r),this.graphqlToSparql=new i.Converter({requireContext:!0})}async test(r){return r.queryFormat?.language!=="graphql"?(0,o.failTest)("This actor can only parse GraphQL queries"):(0,o.passTestVoid)()}async run(r){const u=r.context.get(a.KeysInitQuery.jsonLdContext)||{},l={singularizeVariables:r.context.get(a.KeysInitQuery.graphqlSingularizeVariables)};return{operation:await this.graphqlToSparql.graphqlToSparqlAlgebra(r.query,u,l)}}}e.ActorQueryParseGraphql=t},19531:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(61205),e)},19722:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionUcase=void 0;const c=s(77617),a=s(77545);class o extends c.TermFunctionBase{constructor(){super({arity:1,operator:a.SparqlOperator.UCASE,overloads:(0,a.declare)(a.SparqlOperator.UCASE).onString1Typed(()=>t=>(0,a.string)(t.toUpperCase())).onLangString1(()=>t=>(0,a.langString)(t.typedValue.toUpperCase(),t.language)).collect()})}}e.TermFunctionUcase=o},19727:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(72258),e)},19831:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionStrBefore=void 0;const c=s(77617),a=s(77545);class o extends c.TermFunctionBase{constructor(){super({arity:2,operator:a.SparqlOperator.STRBEFORE,overloads:(0,a.declare)(a.SparqlOperator.STRBEFORE).onBinaryTyped([a.TypeURL.XSD_STRING,a.TypeURL.XSD_STRING],()=>(t,n)=>(0,a.string)(t.slice(0,Math.max(0,t.indexOf(n))))).onBinary([a.TypeURL.RDF_LANG_STRING,a.TypeURL.XSD_STRING],()=>(t,n)=>{const[r,u]=[t.typedValue,n.typedValue],l=t.typedValue.slice(0,Math.max(0,r.indexOf(u)));return l||!u?(0,a.langString)(l,t.language):(0,a.string)(l)}).onBinary([a.TypeURL.RDF_LANG_STRING,a.TypeURL.RDF_LANG_STRING],()=>(t,n)=>{if(t.language!==n.language)throw new a.IncompatibleLanguageOperation(t,n);const[r,u]=[t.typedValue,n.typedValue],l=t.typedValue.slice(0,Math.max(0,r.indexOf(u)));return l||!u?(0,a.langString)(l,t.language):(0,a.string)(l)}).collect()})}}e.TermFunctionStrBefore=o},19856:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(26357),e)},19858:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.stringQuadToQuad=e.quadToStringQuad=e.stringToTerm=e.getLiteralLanguage=e.getLiteralType=e.getLiteralValue=e.termToString=void 0;const c=new(s(47793)).DataFactory;function a(d){var p,f;if(d)switch(d.termType){case"NamedNode":return`<${p=d.value,p.replace(r,l)}>`;case"BlankNode":return`_:${d.value}`;case"Literal":{const h=d;return`"${f=h.value,r.test(f)&&(f=f.replace(r,l)),f}"${h.datatype&&h.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&h.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?`^^<${h.datatype.value}>`:""}${h.language?`@${h.language}`:""}`}case"Quad":return`<<${a(d.subject)} ${a(d.predicate)} ${a(d.object)}${d.graph.termType==="DefaultGraph"?"":` ${a(d.graph)}`}>>`;case"Variable":return`?${d.value}`;case"DefaultGraph":return d.value}}function o(d){const p=/^"([^]*)"((\^\^.*)|(@.*))?$/u.exec(d);if(!p)throw new Error(`${d} is not a literal`);return p[1].replace(/\\"/gu,'"')}function i(d){const p=/^"[^]*"(?:\^\^<([^"]+)>|(@)[^@"]+)?$/u.exec(d);if(!p)throw new Error(`${d} is not a literal`);return p[1]||(p[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}function t(d){const p=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/u.exec(d);if(!p)throw new Error(`${d} is not a literal`);return p[1]?p[1].toLowerCase():""}function n(d,p){if(p=p||c,!d||d.length===0)return p.defaultGraph();switch(d[0]){case"_":return p.blankNode(d.slice(2));case"?":if(!p.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return p.variable(d.slice(1));case'"':{const f=t(d),h=p.namedNode(i(d));return p.literal(o(d),f||h)}default:if(d.startsWith("<<")&&d.endsWith(">>")){const f=d.slice(2,-2),h=[];let y=0,m=0;for(let b=0;b<f.length;b++){const v=f[b];if(v==="<"&&y++,v===">"){if(y===0)throw new Error(`Found closing tag without opening tag in ${d}`);y--}v===" "&&y===0&&(h.push(f.slice(m,b)),m=b+1)}if(y!==0)throw new Error(`Found opening tag without closing tag in ${d}`);if(h.push(f.slice(m,f.length)),h.length!==3&&h.length!==4)throw new Error(`Nested quad syntax error ${d}`);return p.quad(n(h[0]),n(h[1]),n(h[2]),h[3]?n(h[3]):void 0)}if(!d.startsWith("<")||!d.endsWith(">"))throw new Error(`Detected invalid iri for named node (must be wrapped in <>): ${d}`);return p.namedNode(d.slice(1,-1))}}e.termToString=a,e.getLiteralValue=o,e.getLiteralType=i,e.getLiteralLanguage=t,e.stringToTerm=n,e.quadToStringQuad=function(d){return{subject:a(d.subject),predicate:a(d.predicate),object:a(d.object),graph:a(d.graph)}},e.stringQuadToQuad=function(d,p){return(p=p||c).quad(n(d.subject,p),n(d.predicate,p),n(d.object,p),n(d.graph,p))};const r=/["\\\t\n\r\b\f\u0000-\u0019]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u=new Map([["\\","\\\\"],['"','\\"'],["	","\\t"],[`
`,"\\n"],["\r","\\r"],["\b","\\b"],["\f","\\f"]]);function l(d){const p=u.get(d);if(!p){if(d.length===1){const h=d.charCodeAt(0).toString(16);return`${"\\u0000".slice(0,-h.length)}${h}`}const f=(1024*(d.charCodeAt(0)-55296)+d.charCodeAt(1)+9216).toString(16);return`${"\\U00000000".slice(0,-f.length)}${f}`}return p}},20057:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermXsdToFloat=void 0;const c=s(77617),a=s(77545),o=s(48260);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.TypeURL.XSD_FLOAT],termFunction:!0})}async run(n){return new o.TermFunctionXsdToFloat}}e.ActorFunctionFactoryTermXsdToFloat=i},20138:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(81928),e),a(s(98848),e),a(s(99475),e),a(s(50673),e),a(s(58283),e),a(s(60871),e),a(s(33384),e)},20240:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(27568),e)},20268:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfJoinMultiSmallest=void 0;const c=s(95445),a=s(90711),o=s(90412),i=s(67021),t=s(96331);class n extends c.ActorRdfJoin{constructor(u){super(u,{logicalType:"inner",physicalName:"multi-smallest",limitEntries:3,limitEntriesMin:!0,canHandleUndefs:!0,isLeaf:!1})}async sortJoinEntries(u,l){return(await this.mediatorJoinEntriesSort.mediate({entries:u,context:l})).entries}async getOutput(u,l){const d=u.context.getSafe(a.KeysInitQuery.dataFactory),p=new t.Factory(d),f=l.sortedEntries,h=f[0],y=f[1];f.splice(0,2);const m={output:(0,i.getSafeBindings)(await this.mediatorJoin.mediate({type:u.type,entries:[h,y],context:u.context})),operation:p.createJoin([h.operation,y.operation],!1)};return f.push(m),{result:await this.mediatorJoin.mediate({type:u.type,entries:f,context:u.context})}}async getJoinCoefficients(u,l){let{metadatas:d}=l;d=[...d];const p=await this.sortJoinEntries(u.entries.map((y,m)=>({...y,metadata:d[m]})),u.context);d=p.map(y=>y.metadata);const f=c.ActorRdfJoin.getRequestInitialTimes(d),h=c.ActorRdfJoin.getRequestItemTimes(d);return(0,o.passTestWithSideData)({iterations:d[0].cardinality.value*d[1].cardinality.value*d.slice(2).reduce((y,m)=>y*m.cardinality.value,1),persistedItems:0,blockingItems:0,requestTime:f[0]+d[0].cardinality.value*h[0]+f[1]+d[1].cardinality.value*h[1]+d.slice(2).reduce((y,m,b)=>y+f.slice(2)[b]+m.cardinality.value*h.slice(2)[b],0)},{...l,sortedEntries:p})}}e.ActorRdfJoinMultiSmallest=n},20358:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorInitQuery=void 0;const c=s(53638);typeof process>"u"&&(globalThis.process=s(65606));class a extends c.ActorInitQueryBase{}e.ActorInitQuery=a},20379:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(771),e)},20386:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.QuerySourceHypermedia=void 0;const c=s(20998),a=s(90711),o=s(75627),i=s(89096),t=s(19198),n=s(96331),r=s(10037),u=s(22573);e.QuerySourceHypermedia=class{constructor(l,d,p,f,h,y,m,b,v){this.referenceValue=d,this.cacheSize=l,this.firstUrl=d,this.forceSourceType=p,this.maxIterators=f,this.mediators=y,this.aggregateStore=h,this.logWarning=m,this.dataFactory=b,this.bindingsFactory=v,this.sourcesState=new i.LRUCache({max:this.cacheSize})}async getSelectorShape(l){return(await this.getSourceCached({url:this.firstUrl},{},l,this.getAggregateStore(l))).source.getSelectorShape(l)}queryBindings(l,d,p){const f=this.getAggregateStore(d);if(f&&l.type==="pattern"&&f.started)return new c.QuerySourceRdfJs(f,d.getSafe(a.KeysInitQuery.dataFactory),this.bindingsFactory).queryBindings(l,d);this.sourcesState.size===0&&this.getSourceCached({url:this.firstUrl},{},d,f).catch(b=>m.destroy(b));const h=d.getSafe(a.KeysInitQuery.dataFactory),y=new n.Factory(h),m=new r.MediatedLinkedRdfSourcesAsyncRdfIterator(this.cacheSize,l,p,d,this.forceSourceType,this.firstUrl,this.maxIterators,(b,v)=>this.getSourceCached(b,v,d,f),f,this.mediators.mediatorMetadataAccumulate,this.mediators.mediatorRdfResolveHypermediaLinks,this.mediators.mediatorRdfResolveHypermediaLinksQueue,h,y);if(f){f.started=!0;const b=()=>m.kickstart();f.addIteratorCreatedListener(b),m.on("end",()=>f.removeIteratorCreatedListener(b))}return m}queryQuads(l,d){return new o.TransformIterator(async()=>(await this.getSourceCached({url:this.firstUrl},{},d,this.getAggregateStore(d))).source.queryQuads(l,d))}async queryBoolean(l,d){return await(await this.getSourceCached({url:this.firstUrl},{},d,this.getAggregateStore(d))).source.queryBoolean(l,d)}async queryVoid(l,d){return await(await this.getSourceCached({url:this.firstUrl},{},d,this.getAggregateStore(d))).source.queryVoid(l,d)}async getSource(l,d,p,f){l.context&&(p=p.merge(l.context));let h,y,m=l.url;if(this.forceSourceType==="sparql"&&p.get(a.KeysQueryOperation.querySources)?.length===1)h=new t.Readable,h.read=()=>null,{metadata:y}=await this.mediators.mediatorMetadataAccumulate.mediate({context:p,mode:"initialize"});else try{const _=await this.mediators.mediatorDereferenceRdf.mediate({context:p,url:m});m=_.url;const w=await this.mediators.mediatorMetadata.mediate({context:p,url:m,quads:_.data,triples:_.metadata?.triples});w.data.on("error",()=>{}),y=(await this.mediators.mediatorMetadataExtract.mediate({context:p,url:m,metadata:w.metadata,headers:_.headers,requestTime:_.requestTime})).metadata,h=w.data,l.transform&&(h=await l.transform(h))}catch(_){h=new t.Readable,h.read=()=>(setTimeout(()=>h.emit("error",_)),null),{metadata:y}=await this.mediators.mediatorMetadataAccumulate.mediate({context:p,mode:"initialize"}),this.logWarning(`Metadata extraction for ${m} failed: ${_.message}`)}f?.setBaseMetadata(y,!1),f?.containedSources.add(l.url),f?.import(h);const{source:b,dataset:v}=await this.mediators.mediatorQuerySourceIdentifyHypermedia.mediate({context:p,forceSourceType:l.url===this.firstUrl?this.forceSourceType:void 0,handledDatasets:d,metadata:y,quads:h,url:m});return v&&(d[v]=!0),{link:l,source:b,metadata:y,handledDatasets:d}}getSourceCached(l,d,p,f){let h=this.sourcesState.get(l.url);return h||(h=this.getSource(l,d,p,f),l.url!==this.firstUrl&&f!==void 0||this.sourcesState.set(l.url,h),h)}getAggregateStore(l){let d;if(this.aggregateStore){const p=l.get(a.KeysQuerySourceIdentify.hypermediaSourcesAggregatedStores);if(p)return d=p.get(this.firstUrl),d||(d=new u.StreamingStoreMetadata(void 0,async(f,h)=>(await this.mediators.mediatorMetadataAccumulate.mediate({mode:"append",accumulatedMetadata:f,appendingMetadata:h,context:l})).metadata),p.set(this.firstUrl,d)),d}}toString(){return`QuerySourceHypermedia(${this.firstUrl})`}}},20405:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermMd5=void 0;const c=s(77617),a=s(77545),o=s(64826);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.SparqlOperator.MD5],termFunction:!0})}async run(n){return new o.TermFunctionMd5}}e.ActorFunctionFactoryTermMd5=i},20489:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(38020),e),a(s(60801),e)},20550:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ExpressionFunctionIf=void 0;const c=s(77617),a=s(77545);class o extends c.ExpressionFunctionBase{constructor(){super({arity:3,operator:a.SparqlOperator.IF,apply:async({args:t,mapping:n,exprEval:r})=>(await r.evaluatorExpressionEvaluation(t[0],n)).coerceEBV()?r.evaluatorExpressionEvaluation(t[1],n):r.evaluatorExpressionEvaluation(t[2],n)})}}e.ExpressionFunctionIf=o},20554:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(48904),e)},20578:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(42512),e)},20679:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryOperationFromQuad=void 0;const c=s(66490),a=s(90711),o=s(90412),i=s(96331);class t extends c.ActorQueryOperationTypedMediated{constructor(r){super(r,"from")}static copyOperation(r,u){const l={};for(const d of Object.keys(r))Array.isArray(r[d])&&d!=="template"?l[d]=d==="variables"?r[d]:r[d].map(u):t.ALGEBRA_TYPES.includes(r[d].type)?l[d]=u(r[d]):l[d]=r[d];return l}static applyOperationDefaultGraph(r,u,l){if(u.type==="bgp"&&u.patterns.length>0||u.type==="path"||u.type==="pattern"){if(u.type==="bgp")return t.joinOperations(r,u.patterns.map(p=>{if(p.graph.termType!=="DefaultGraph")return r.createBgp([p]);const f=l.map(h=>r.createBgp([Object.assign(r.createPattern(p.subject,p.predicate,p.object,h),{metadata:p.metadata})]));return t.unionOperations(r,f)}));if(u.graph.termType!=="DefaultGraph")return u;const d=l.map(p=>u.type==="path"?r.createPath(u.subject,u.predicate,u.object,p):Object.assign(r.createPattern(u.subject,u.predicate,u.object,p),{metadata:u.metadata}));return t.unionOperations(r,d)}return t.copyOperation(u,d=>this.applyOperationDefaultGraph(r,d,l))}static applyOperationNamedGraph(r,u,l,d){if(u.type==="bgp"&&u.patterns.length>0||u.type==="path"||u.type==="pattern"){const p=u.type==="bgp"?u.patterns[0].graph:u.graph;if(p.termType==="DefaultGraph")return{type:i.Algebra.types.BGP,patterns:[]};if(p.termType==="Variable"){if(l.length===1){const f=l[0],h={};h[`?${p.value}`]=f;const y=r.createValues([p],[h]);let m;return m=u.type==="bgp"?r.createBgp(u.patterns.map(b=>r.createPattern(b.subject,b.predicate,b.object,f))):u.type==="path"?r.createPath(u.subject,u.predicate,u.object,f):r.createPattern(u.subject,u.predicate,u.object,f),r.createJoin([y,m])}return t.unionOperations(r,l.map(f=>t.applyOperationNamedGraph(r,u,[f],d)))}return[...l,...d].some(f=>f.equals(p))?u:{type:i.Algebra.types.BGP,patterns:[]}}return t.copyOperation(u,p=>this.applyOperationNamedGraph(r,p,l,d))}static joinOperations(r,u){if(u.length===1)return u[0];if(u.length>1)return r.createJoin(u);throw new Error("A join can only be applied on at least one operation")}static unionOperations(r,u){if(u.length===1)return u[0];if(u.length>1)return r.createUnion(u);throw new Error("A union can only be applied on at least one operation")}static createOperation(r,u){let l=u.input;return u.default.length>0&&(l=t.applyOperationDefaultGraph(r,l,u.default)),(u.named.length>0||u.default.length>0)&&(l=t.applyOperationNamedGraph(r,l,u.named,u.default)),l}async testOperation(r,u){return(0,o.passTestVoid)()}async runOperation(r,u){const l=u.getSafe(a.KeysInitQuery.dataFactory),d=new i.Factory(l),p=t.createOperation(d,r);return this.mediatorQueryOperation.mediate({operation:p,context:u})}}e.ActorQueryOperationFromQuad=t,t.ALGEBRA_TYPES=Object.keys(i.Algebra.types).map(n=>i.Algebra.types[n])},20712:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryOperationValues=void 0;const c=s(66490),a=s(90711),o=s(90412),i=s(81926),t=s(99214),n=s(75627);class r extends c.ActorQueryOperationTyped{constructor(l){super(l,"values")}async testOperation(l,d){return(0,o.passTestVoid)()}async runOperation(l,d){const p=d.getSafe(a.KeysInitQuery.dataFactory),f=await i.BindingsFactory.create(this.mediatorMergeBindingsContext,d,p);return{type:"bindings",bindingsStream:new n.ArrayIterator(l.bindings.map(h=>f.bindings(Object.entries(h).map(([y,m])=>[p.variable(y.slice(1)),m])))),metadata:()=>Promise.resolve({state:new t.MetadataValidationState,cardinality:{type:"exact",value:l.bindings.length},variables:l.variables.map(h=>({variable:h,canBeUndef:l.bindings.some(y=>!(`?${h.value}`in y))}))})}}}e.ActorQueryOperationValues=r},20715:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.QuerySourceQpf=void 0;const c=s(559),a=s(90711),o=s(99214),i=s(75627),t=s(92951),n=s(46898),r=s(3285);function u(l){return l.termType==="DefaultGraph"?"|":(0,t.termToString)(l)}e.QuerySourceQpf=class{constructor(l,d,p,f,h,y,m,b,v,_,w,O,A,T){if(this.referenceValue=w,this.mediatorMetadata=l,this.mediatorMetadataExtract=d,this.mediatorDereferenceRdf=p,this.dataFactory=f,this.algebraFactory=h,this.bindingsFactory=y,this.subjectUri=m,this.predicateUri=b,this.objectUri=v,this.graphUri=_,this.url=w,this.bindingsRestricted=A,this.cachedQuads={},this.searchForm=this.getSearchForm(O),this.defaultGraph=O.defaultGraph?this.dataFactory.namedNode(O.defaultGraph):void 0,T){let S=(0,i.wrap)(T);this.defaultGraph&&(S=this.reverseMapQuadsToDefaultGraph(S)),O={...O,state:new o.MetadataValidationState},S.setProperty("metadata",O),this.cacheQuads(S,this.dataFactory.variable(""),this.dataFactory.variable(""),this.dataFactory.variable(""),this.dataFactory.variable(""))}this.selectorShape=this.bindingsRestricted?{type:"operation",operation:{operationType:"pattern",pattern:this.algebraFactory.createPattern(this.dataFactory.variable("s"),this.dataFactory.variable("p"),this.dataFactory.variable("o"),this.dataFactory.variable("g"))},variablesOptional:[this.dataFactory.variable("s"),this.dataFactory.variable("p"),this.dataFactory.variable("o"),this.dataFactory.variable("g")],filterBindings:!0}:{type:"operation",operation:{operationType:"pattern",pattern:this.algebraFactory.createPattern(this.dataFactory.variable("s"),this.dataFactory.variable("p"),this.dataFactory.variable("o"),this.dataFactory.variable("g"))},variablesOptional:[this.dataFactory.variable("s"),this.dataFactory.variable("p"),this.dataFactory.variable("o"),this.dataFactory.variable("g")]}}async getSelectorShape(){return this.selectorShape}queryBindings(l,d,p){if(l.type!=="pattern")throw new Error(`Attempted to pass non-pattern operation '${l.type}' to QuerySourceQpf`);const f=!!d.get(a.KeysQueryOperation.unionDefaultGraph);let h=this.match(l.subject,l.predicate,l.object,l.graph,f,d,p);return h=(0,c.filterMatchingQuotedQuads)(l,h),(0,c.quadsToBindings)(h,l,this.dataFactory,this.bindingsFactory,f)}getSearchForm(l){if(!l.searchForms||!l.searchForms.values)return;const{searchForms:d}=l;for(const p of d.values)if(this.graphUri&&this.subjectUri in p.mappings&&this.predicateUri in p.mappings&&this.objectUri in p.mappings&&this.graphUri in p.mappings&&Object.keys(p.mappings).length===4||this.subjectUri in p.mappings&&this.predicateUri in p.mappings&&this.objectUri in p.mappings&&Object.keys(p.mappings).length===3)return p}createFragmentUri(l,d,p,f,h){const y={},m=[{uri:this.subjectUri,term:d},{uri:this.predicateUri,term:p},{uri:this.objectUri,term:f},{uri:this.graphUri,term:h}];for(const b of m)b.uri&&(this.bindingsRestricted||b.term.termType!=="Variable"&&(b.term.termType!=="Quad"||(0,r.everyTermsNested)(b.term,v=>v.termType!=="Variable")))&&(y[b.uri]=(0,t.termToString)(b.term));return l.getUri(y)}match(l,d,p,f,h,y,m){let b=!1;if(f.termType==="DefaultGraph")if(this.defaultGraph)b=!0,f=this.defaultGraph;else if(Object.keys(this.searchForm.mappings).length!==4||this.defaultGraph)Object.keys(this.searchForm.mappings).length===3&&(f=this.dataFactory.variable("g"));else{if(!h){const O=new i.ArrayIterator([],{autoStart:!1});return O.setProperty("metadata",{state:new o.MetadataValidationState,requestTime:0,cardinality:{type:"exact",value:0},first:null,next:null,last:null}),O}f=this.dataFactory.variable("g")}if(!m?.filterBindings){const O=this.getCachedQuads(l,d,p,f);if(O)return O}const v=this;let _;const w=async function(){let O=v.createFragmentUri(v.searchForm,l,d,p,f);m?.filterBindings&&(O=await v.getBindingsRestrictedLink(l,d,p,f,O,m.filterBindings));const A=await v.mediatorDereferenceRdf.mediate({context:y,url:O});O=A.url;const T=await v.mediatorMetadata.mediate({context:y,url:O,quads:A.data,triples:A.metadata?.triples}),{metadata:S}=await v.mediatorMetadataExtract.mediate({context:y,url:O,metadata:T.metadata,requestTime:A.requestTime});return _.setProperty("metadata",{...S,state:new o.MetadataValidationState,subsetOf:v.url}),T.data}();return _=new i.TransformIterator(async()=>{const O=await w,A=this.dataFactory.defaultGraph();let T=(0,i.wrap)(O).transform({filter:S=>!!(0,r.matchPattern)(S,l,d,p,f)||b&&(0,r.matchPattern)(S,l,d,p,A)});return(b||f.termType==="Variable")&&(T=this.reverseMapQuadsToDefaultGraph(T)),T},{autoStart:!1}),m?.filterBindings?_:(this.cacheQuads(_,l,d,p,f),this.getCachedQuads(l,d,p,f))}async getBindingsRestrictedLink(l,d,p,f,h,y){const m=[];for(const b of await y.bindings.toArray()){const v=["("];for(const _ of y.metadata.variables){const w=b.get(_.variable);v.push(w?(0,n.termToString)(w):"UNDEF"),v.push(" ")}v.push(")"),m.push(v.join(""))}return m.length===0&&m.push("(<ex:comunica:unknown>)"),`${h}&values=${encodeURIComponent(`(${y.metadata.variables.map(b=>`?${b.variable.value}`).join(" ")}) { ${m.join(" ")} }`)}`}reverseMapQuadsToDefaultGraph(l){const d=this.dataFactory.defaultGraph();return l.map(p=>(0,r.mapTerms)(p,(f,h)=>h==="graph"&&f.equals(this.defaultGraph)?d:f))}getPatternId(l,d,p,f){return JSON.stringify({s:l.termType==="Variable"?"":u(l),p:d.termType==="Variable"?"":u(d),o:p.termType==="Variable"?"":u(p),g:f.termType==="Variable"?"":u(f)})}cacheQuads(l,d,p,f,h){const y=this.getPatternId(d,p,f,h);this.cachedQuads[y]=l.clone()}getCachedQuads(l,d,p,f){const h=this.getPatternId(l,d,p,f),y=this.cachedQuads[h];if(y)return y.clone()}queryQuads(l,d){throw new Error("queryQuads is not implemented in QuerySourceQpf")}queryBoolean(l,d){throw new Error("queryBoolean is not implemented in QuerySourceQpf")}queryVoid(l,d){throw new Error("queryVoid is not implemented in QuerySourceQpf")}}},20811:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.termToString=e.stringToTerm=e.stringQuadToQuad=e.quadToStringQuad=e.getLiteralValue=e.getLiteralType=e.getLiteralLanguage=void 0;const c=s(89529);Object.defineProperty(e,"getLiteralLanguage",{enumerable:!0,get:function(){return c.getLiteralLanguage}}),Object.defineProperty(e,"getLiteralType",{enumerable:!0,get:function(){return c.getLiteralType}}),Object.defineProperty(e,"getLiteralValue",{enumerable:!0,get:function(){return c.getLiteralValue}}),Object.defineProperty(e,"quadToStringQuad",{enumerable:!0,get:function(){return c.quadToStringQuad}}),Object.defineProperty(e,"stringQuadToQuad",{enumerable:!0,get:function(){return c.stringQuadToQuad}}),Object.defineProperty(e,"stringToTerm",{enumerable:!0,get:function(){return c.stringToTerm}}),Object.defineProperty(e,"termToString",{enumerable:!0,get:function(){return c.termToString}})},20935:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorBindingsAggregatorFactorySum=void 0;const c=s(86581),a=s(90711),o=s(90412),i=s(77545),t=s(77866);class n extends c.ActorBindingsAggregatorFactory{constructor(u){super(u),this.mediatorFunctionFactory=u.mediatorFunctionFactory}async test(u){return u.expr.aggregator!=="sum"?(0,o.failTest)("This actor only supports the 'sum' aggregator."):(0,o.passTestVoid)()}async run({expr:u,context:l}){return new t.SumAggregator(await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:u.expression,context:l}),u.distinct,l.getSafe(a.KeysInitQuery.dataFactory),await this.mediatorFunctionFactory.mediate({functionName:i.SparqlOperator.ADDITION,context:l,requireTermExpression:!0}))}}e.ActorBindingsAggregatorFactorySum=n},20950:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfMetadataExtractHydraPagesize=void 0;const c=s(18412),a=s(90412);class o extends c.ActorRdfMetadataExtract{constructor(t){super(t)}async test(t){return(0,a.passTestVoid)()}async run(t){return new Promise((n,r)=>{t.metadata.on("error",r),t.metadata.on("data",u=>{this.predicates.includes(u.predicate.value)&&n({metadata:{pageSize:Number.parseInt(u.object.value,10)}})}),t.metadata.on("end",()=>{n({metadata:{}})})})}}e.ActorRdfMetadataExtractHydraPagesize=o},20998:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(37859),e),a(s(31994),e),a(s(70020),e)},21115:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionStrLang=void 0;const c=s(77617),a=s(77545);class o extends c.TermFunctionBase{constructor(){super({arity:2,operator:a.SparqlOperator.STRLANG,overloads:(0,a.declare)(a.SparqlOperator.STRLANG).onBinaryTyped([a.TypeURL.XSD_STRING,a.TypeURL.XSD_STRING],()=>(t,n)=>new a.LangStringLiteral(t,n.toLowerCase())).collect()})}}e.TermFunctionStrLang=o},21451:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermDictionarySymbol=void 0;const c=s(28664),a=s(43347);e.TermDictionarySymbol=class{constructor(o=new c.DataFactory){this.features={quotedTriples:!1},this.dataFactory=o}encode(o){return Symbol.for(`rdf::${(0,a.termToString)(o)}`)}encodeOptional(o){return this.encode(o)}decode(o){const i=Symbol.keyFor(o);if(i===void 0)throw new Error(`The value ${String(o)} is not present in this dictionary`);return(0,a.stringToTerm)(i.slice(5),this.dataFactory)}encodings(){throw new Error("encodings is not supported")}findQuotedTriples(o){throw new Error("findQuotedTriples is not supported")}findQuotedTriplesEncoded(o){throw new Error("findQuotedTriplesEncoded is not supported")}}},21645:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQuerySourceIdentify=void 0;const c=s(90412);class a extends c.Actor{constructor(i){super(i)}}e.ActorQuerySourceIdentify=a},21806:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(17426),e),a(s(3898),e),a(s(28703),e)},21911:(g,e,s)=>{var c=s(67426),a=s(57766);function o(){if(!(this instanceof o))return new o;a.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}c.inherits(o,a),g.exports=o,o.blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(i){return i==="hex"?c.toHex32(this.h.slice(0,12),"big"):c.split32(this.h.slice(0,12),"big")}},22361:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(29395),e)},22386:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerInvalidFallback=void 0,e.EntryHandlerInvalidFallback=class{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(s,c,a,o,i){return!1}async test(s,c,a,o,i){return!0}async handle(s,c,a,o,i,t){s.emittedStack[t]=!1}}},22437:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfResolveHypermediaLinksQueueFifo=void 0;const c=s(86074),a=s(90412),o=s(79081);class i extends c.ActorRdfResolveHypermediaLinksQueue{constructor(n){super(n)}async test(n){return(0,a.passTestVoid)()}async run(n){return{linkQueue:new o.LinkQueueFifo}}}e.ActorRdfResolveHypermediaLinksQueueFifo=i},22460:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(85181),e)},22517:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(function(s){return s.charCodeAt(0)}))},22545:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},22573:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.StreamingStoreMetadata=void 0;const c=s(4809),a=s(99214),o=s(18962);class i extends o.StreamingStore{constructor(n,r){super(n),this.started=!1,this.containedSources=new Set,this.runningIterators=new Set,this.iteratorCreatedListeners=new Set,this.baseMetadata={state:new a.MetadataValidationState,cardinality:{type:"exact",value:0},variables:[]},this.metadataAccumulator=r}import(n){return this.ended||super.import(n),n}hasRunningIterators(){return this.runningIterators.size>0}match(n,r,u,l){const d=super.match(n,r,u,l),p=new c.ClosableTransformIterator(d,{autoStart:!1,onClose:()=>{this.runningIterators.delete(p)}});let f=this.getStore().countQuads(n,r,u,l);const h={state:new a.MetadataValidationState,cardinality:{type:"estimate",value:f}};p.setProperty("metadata",h),p.setProperty("lastCount",f),d.on("quad",()=>{p.setProperty("lastCount",++f),this.updateMetadataState(p,f)}),this.runningIterators.add(p);for(const y of this.iteratorCreatedListeners)y();return p}setBaseMetadata(n,r){if(this.baseMetadata={...n},this.baseMetadata.cardinality={type:"exact",value:0},r)for(const u of this.runningIterators){const l=u.getProperty("lastCount");this.updateMetadataState(u,l)}}updateMetadataState(n,r){const u={state:new a.MetadataValidationState,cardinality:{type:"estimate",value:r},variables:[]};this.metadataAccumulator(this.baseMetadata,u).then(l=>{l.state=new a.MetadataValidationState;const d=n.getProperty("metadata");n.setProperty("metadata",l),d?.state.invalidate()}).catch(()=>{})}addIteratorCreatedListener(n){this.iteratorCreatedListeners.add(n)}removeIteratorCreatedListener(n){this.iteratorCreatedListeners.delete(n)}}e.StreamingStoreMetadata=i},22719:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfMetadataExtractPatchSparqlUpdate=void 0;const c=s(18412),a=s(90412);class o extends c.ActorRdfMetadataExtract{constructor(t){super(t)}async test(t){return(0,a.passTestVoid)()}async run(t){const n={};return(t.headers?.get("accept-patch")?.includes("application/sparql-update")??t.headers?.get("ms-author-via")?.includes("SPARQL"))&&(n.patchSparqlUpdate=!0),{metadata:n}}}e.ActorRdfMetadataExtractPatchSparqlUpdate=o},22744:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(20679),e)},22829:(g,e)=>{function s(a,o,i,t){switch(a){case 0:return o&i^~o&t;case 1:case 3:return o^i^t;case 2:return o&i^o&t^i&t}}function c(a,o){return a<<o|a>>>32-o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(a){const o=[1518500249,1859775393,2400959708,3395469782],i=[1732584193,4023233417,2562383102,271733878,3285377520],t=new Uint8Array(a.length+1);t.set(a),t[a.length]=128;const n=(a=t).length/4+2,r=Math.ceil(n/16),u=new Array(r);for(let l=0;l<r;++l){const d=new Uint32Array(16);for(let p=0;p<16;++p)d[p]=a[64*l+4*p]<<24|a[64*l+4*p+1]<<16|a[64*l+4*p+2]<<8|a[64*l+4*p+3];u[l]=d}u[r-1][14]=8*(a.length-1)/Math.pow(2,32),u[r-1][14]=Math.floor(u[r-1][14]),u[r-1][15]=8*(a.length-1)&4294967295;for(let l=0;l<r;++l){const d=new Uint32Array(80);for(let b=0;b<16;++b)d[b]=u[l][b];for(let b=16;b<80;++b)d[b]=c(d[b-3]^d[b-8]^d[b-14]^d[b-16],1);let p=i[0],f=i[1],h=i[2],y=i[3],m=i[4];for(let b=0;b<80;++b){const v=Math.floor(b/20),_=c(p,5)+s(v,f,h,y)+m+o[v]+d[b]>>>0;m=y,y=h,h=c(f,30)>>>0,f=p,p=_}i[0]=i[0]+p>>>0,i[1]=i[1]+f>>>0,i[2]=i[2]+h>>>0,i[3]=i[3]+y>>>0,i[4]=i[4]+m>>>0}return Uint8Array.of(i[0]>>24,i[0]>>16,i[0]>>8,i[0],i[1]>>24,i[1]>>16,i[1]>>8,i[1],i[2]>>24,i[2]>>16,i[2]>>8,i[2],i[3]>>24,i[3]>>16,i[3]>>8,i[3],i[4]>>24,i[4]>>16,i[4]>>8,i[4])}},22895:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermDictionaryQuoted=void 0;const c=s(28664),a=s(61758);class o{constructor(t,n,r=new c.DataFactory){this.features={quotedTriples:!0},this.plainTermDictionary=t,this.quotedTriplesDictionary=n,this.dataFactory=r}encode(t){return t.termType==="Quad"?o.BITMASK|1+this.quotedTriplesDictionary.encode(t):this.plainTermDictionary.encode(t)}encodeOptional(t){if(t.termType==="Quad"){const n=this.quotedTriplesDictionary.encodeOptional(t);return n===void 0?n:o.BITMASK|1+n}return this.plainTermDictionary.encodeOptional(t)}decode(t){if(o.BITMASK&t){const n=(~o.BITMASK&t)-1;return this.quotedTriplesDictionary.decode(n)}return this.plainTermDictionary.decode(t)}*encodings(){for(const t of this.plainTermDictionary.encodings())yield t;for(const t of this.quotedTriplesDictionary.encodings())yield o.BITMASK|1+t}*findQuotedTriples(t){for(const n of this.findQuotedTriplesEncoded(t))yield this.decode(n)}*findQuotedTriplesEncoded(t){for(let n of this.quotedTriplesDictionary.encodings()){n=o.BITMASK|1+n;const r=this.decode(n);(0,a.matchPattern)(r,t.subject,t.predicate,t.object,t.graph)&&(yield n)}}}e.TermDictionaryQuoted=o,o.BITMASK=1<<31},22910:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeValueHandlerBoolean=void 0;const c=s(55009);class a extends c.NodeValueHandlerAdapter{constructor(i,t){super("BooleanValue",i,t),this.datatype=this.util.dataFactory.namedNode("http://www.w3.org/2001/XMLSchema#boolean")}handle(i,t,n){return{terms:[this.util.dataFactory.literal(i.value?"true":"false",this.datatype)]}}}e.NodeValueHandlerBoolean=a},23038:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQuerySourceIdentifyHypermedia=void 0;const c=s(90412);class a extends c.Actor{constructor(i,t){super(i),this.sourceType=t}async test(i){return i.forceSourceType&&this.sourceType!==i.forceSourceType?(0,c.failTest)(`Actor ${this.name} is not able to handle source type ${i.forceSourceType}.`):this.testMetadata(i)}}e.ActorQuerySourceIdentifyHypermedia=a},23069:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorExpressionEvaluatorFactory=void 0;const c=s(90412);class a extends c.Actor{constructor(i){super(i),this.mediatorQueryOperation=i.mediatorQueryOperation,this.mediatorFunctionFactory=i.mediatorFunctionFactory,this.mediatorMergeBindingsContext=i.mediatorMergeBindingsContext}}e.ActorExpressionEvaluatorFactory=a},23111:(g,e,s)=>{let c=s(75627).AsyncIterator;g.exports=class extends c{constructor(a,o,i,t){super(),this.left=a,this.right=o,this.funHash=i,this.funJoin=t,this.usedLeft=!1,this.leftMap=new Map,this.rightMap=new Map,this.on("end",()=>this._cleanup()),this.match=null,this.matches=[],this.matchIdx=0,(this.left.readable||this.right.readable)&&(this.readable=!0),this.left.on("error",n=>this.destroy(n)),this.right.on("error",n=>this.destroy(n)),this.left.on("readable",()=>this.readable=!0),this.right.on("readable",()=>this.readable=!0),this.left.on("end",()=>{this.hasResults()||this._end()}),this.right.on("end",()=>{this.hasResults()||this._end()})}hasResults(){return!this.left.ended||!this.right.ended||!!this.matches&&this.matchIdx<this.matches.length}_cleanup(){this.leftMap=null,this.rightMap=null,this.matches=null}_end(){super._end(),this.left.destroy(),this.right.destroy()}read(){for(;;){if(this.ended)return null;for(;this.matchIdx<this.matches.length;){let i=this.matches[this.matchIdx++],t=this.usedLeft?this.funJoin(this.match,i):this.funJoin(i,this.match);if(t!==null)return t}this.hasResults()||this._end();let a=null;for(let i=0;i<2&&(a=this.usedLeft?this.right.read():this.left.read(),this.usedLeft=!this.usedLeft,a===null);++i);if(this.done||a===null)return this.readable=!1,null;let o=this.funHash(a);if(this.usedLeft&&this.right.done)this.leftMap=null;else if(this.left.done)this.rightMap=null;else{let i=this.usedLeft?this.leftMap:this.rightMap;i.has(o)||i.set(o,[]);let t=i.get(o);t||(t=[],i.set(o,t)),t.push(a)}this.match=a,this.matches=(this.usedLeft?this.rightMap:this.leftMap).get(o)||[],this.matchIdx=0}}}},23129:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermEquality=void 0;const c=s(77617),a=s(77545),o=s(60856);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.SparqlOperator.EQUAL],termFunction:!0})}async run(n){return new o.TermFunctionEquality}}e.ActorFunctionFactoryTermEquality=i},23200:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(13168),e)},23261:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DatasetCoreWrapper=void 0;const c=s(447);class a{constructor(i){this.store=i}get size(){return this.store.size}add(i){return this.store.addQuad(i),this}delete(i){return this.store.removeQuad(i),this}has(i){for(const t of this.store.readQuads(i.subject,i.predicate,i.object,i.graph))return!0;return!1}match(i,t,n,r){const u=new c.RdfStore(this.store.options);for(const l of this.store.readQuads(i,t,n,r))u.addQuad(l);return new a(u)}[Symbol.iterator](){return this.store.readQuads()}}e.DatasetCoreWrapper=a},23317:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Util=void 0;const c=s(42395);class a{static termToValue(i,t,n={compactIds:!1,useNativeTypes:!1}){switch(i.termType){case"NamedNode":const r=t.compactIri(i.value,n.vocab);return n.compactIds?r:{"@id":r};case"DefaultGraph":return n.compactIds?i.value:{"@id":i.value};case"BlankNode":const u=`_:${i.value}`;return n.compactIds?u:{"@id":u};case"Literal":if(i.datatype.value===a.RDF_JSON){let p;try{p=JSON.parse(i.value)}catch(f){throw new c.ErrorCoded("Invalid JSON literal: "+f.message,c.ERROR_CODES.INVALID_JSON_LITERAL)}return{"@value":p,"@type":"@json"}}if(n.rdfDirection==="i18n-datatype"&&i.datatype.value.startsWith(a.I18N)){const[p,f]=i.datatype.value.substr(a.I18N.length,i.datatype.value.length).split("_");return Object.assign(Object.assign({"@value":i.value},p?{"@language":p}:{}),f?{"@direction":f}:{})}const l=i.datatype.value===a.XSD_STRING,d={"@value":!l&&n.useNativeTypes?a.stringToNativeType(i.value,i.datatype.value):i.value};return i.language?Object.assign(Object.assign({},d),{"@language":i.language}):l||typeof d["@value"]!="string"?d:Object.assign(Object.assign({},d),{"@type":i.datatype.value})}}static stringToNativeType(i,t){if(t.startsWith(a.XSD))switch(t.substr(a.XSD.length)){case"boolean":if(i==="true")return!0;if(i==="false")return!1;throw new Error(`Invalid xsd:boolean value '${i}'`);case"integer":case"number":case"int":case"byte":case"long":const n=parseInt(i,10);if(isNaN(n))throw new Error(`Invalid xsd:integer value '${i}'`);return n;case"float":case"double":const r=parseFloat(i);if(isNaN(r))throw new Error(`Invalid xsd:float value '${i}'`);return r}return i}}e.Util=a,a.XSD="http://www.w3.org/2001/XMLSchema#",a.XSD_STRING=a.XSD+"string",a.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",a.RDF_TYPE=a.RDF+"type",a.RDF_JSON=a.RDF+"JSON",a.I18N="https://www.w3.org/ns/i18n#"},23585:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.termToString=a,e.getLiteralValue=o,e.getLiteralType=i,e.getLiteralLanguage=t,e.getLiteralDirection=n,e.stringToTerm=r,e.quadToStringQuad=function(u){return{subject:a(u.subject),predicate:a(u.predicate),object:a(u.object),graph:a(u.graph)}},e.stringQuadToQuad=function(u,l){return(l=l||c).quad(r(u.subject,l),r(u.predicate,l),r(u.object,l),r(u.graph,l))};const c=new(s(96019)).DataFactory;function a(u){if(u)switch(u.termType){case"NamedNode":case"DefaultGraph":return u.value;case"BlankNode":return"_:"+u.value;case"Literal":const l=u;return'"'+l.value+'"'+(l.datatype&&l.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&l.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"&&l.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#dirLangString"?"^^"+l.datatype.value:"")+(l.language?"@"+l.language:"")+(l.direction?"--"+l.direction:"");case"Quad":return`<<${a(u.subject)} ${a(u.predicate)} ${a(u.object)}${u.graph.termType==="DefaultGraph"?"":" "+a(u.graph)}>>`;case"Variable":return"?"+u.value}}function o(u){const l=/^"([^]*)"/.exec(u);if(!l)throw new Error(u+" is not a literal");return l[1]}function i(u){const l=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(u);if(!l)throw new Error(u+" is not a literal");return l[1]||(l[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}function t(u){const l=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(u);if(!l)throw new Error(u+" is not a literal");if(l[1]){let d=l[1].toLowerCase();const p=d.indexOf("--");return p>=0&&(d=d.slice(0,p)),d}return""}function n(u){const l=u.indexOf("--",u.lastIndexOf('"'));if(l>=0){const d=u.slice(l+2,u.length);if(d==="ltr"||d==="rtl")return d;throw new Error(u+" is not a literal with a valid direction")}return""}function r(u,l){if(l=l||c,!u||!u.length)return l.defaultGraph();switch(u[0]){case"_":return l.blankNode(u.substr(2));case"?":if(!l.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return l.variable(u.substr(1));case'"':const d=t(u),p=n(u),f=l.namedNode(i(u));return l.literal(o(u),d?{language:d,direction:p}:f);default:if(u[0]==="<"&&u.length>4&&u[1]==="<"&&u[u.length-1]===">"&&u[u.length-2]===">"){const h=u.slice(2,-2).trim();let y=[],m=0,b=0,v=!1;for(let _=0;_<h.length;_++){const w=h[_];if(w==="<"&&m++,w===">"){if(m===0)throw new Error("Found closing tag without opening tag in "+u);m--}if(w==='"'){let O=!1,A=_;for(;A-- >0&&h[A]==="\\";)O=!O;O||(v=!v)}if(w===" "&&!v&&m===0){for(y.push(h.slice(b,_));h[_+1]===" ";)_+=1;b=_+1}}if(m!==0)throw new Error("Found opening tag without closing tag in "+u);if(y.push(h.slice(b,h.length)),y.length!==3&&y.length!==4)throw new Error("Nested quad syntax error "+u);return y=y.map(_=>_.startsWith("<")&&!_.includes(" ")?_.slice(1,-1):_),l.quad(r(y[0]),r(y[1]),r(y[2]),y[3]?r(y[3]):void 0)}return l.namedNode(u)}}},23598:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PendingStreamsIndex=void 0;const c=s(43347),a=s(19356);class o{constructor(){this.indexedStreams=new Map,this.allStreams=[]}termToString(t){return t&&t.termType!=="Variable"?(0,c.termToString)(t):o.ID_VARIABLE}addPatternListener(t,n,r,u,l){this.allStreams.push(t);const d=`${this.termToString(n)}${o.ID_SEPARATOR}${this.termToString(r)}${o.ID_SEPARATOR}${this.termToString(u)}${o.ID_SEPARATOR}${this.termToString(l)}`;let p=this.indexedStreams.get(d);p||(p=[],this.indexedStreams.set(d,p)),p.push(t)}getPendingStreamsForQuad(t){let n=[(0,a.getTerms)(t).map(u=>(0,c.termToString)(u))];for(let u=0;u<a.QUAD_TERM_NAMES.length;u++){const l=n;n=[];for(const d of l){n.push(d);const p=[...d];p[u]=o.ID_VARIABLE,n.push(p)}}const r=[];for(const u of n){const l=this.indexedStreams.get(u.join(o.ID_SEPARATOR));l&&r.push(...l)}return r}}o.ID_VARIABLE="?",o.ID_SEPARATOR=":",e.PendingStreamsIndex=o},23610:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(26769),e)},23637:g=>{class e{constructor(){return s||this}equals(a){return a&&this.termType===a.termType}}Object.defineProperty(e.prototype,"value",{enumerable:!0,value:"*"}),Object.defineProperty(e.prototype,"termType",{enumerable:!0,value:"Wildcard"});var s=new e;g.exports.Wildcard=e},23654:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(15541),e)},23686:(g,e,s)=>{function c(T){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},c(T)}function a(T,S){return function(E){if(Array.isArray(E))return E}(T)||function(E,D){var I=E==null?null:typeof Symbol<"u"&&E[Symbol.iterator]||E["@@iterator"];if(I!=null){var V,K,B,$,G=[],U=!0,W=!1;try{if(B=(I=I.call(E)).next,D!==0)for(;!(U=(V=B.call(I)).done)&&(G.push(V.value),G.length!==D);U=!0);}catch(ye){W=!0,K=ye}finally{try{if(!U&&I.return!=null&&($=I.return(),Object($)!==$))return}finally{if(W)throw K}}return G}}(T,S)||i(T,S)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function o(T,S){var E=typeof Symbol<"u"&&T[Symbol.iterator]||T["@@iterator"];if(!E){if(Array.isArray(T)||(E=i(T))||S){E&&(T=E);var D=0,I=function(){};return{s:I,n:function(){return D>=T.length?{done:!0}:{done:!1,value:T[D++]}},e:function($){throw $},f:I}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var V,K=!0,B=!1;return{s:function(){E=E.call(T)},n:function(){var $=E.next();return K=$.done,$},e:function($){B=!0,V=$},f:function(){try{K||E.return==null||E.return()}finally{if(B)throw V}}}}function i(T,S){if(T){if(typeof T=="string")return t(T,S);var E={}.toString.call(T).slice(8,-1);return E==="Object"&&T.constructor&&(E=T.constructor.name),E==="Map"||E==="Set"?Array.from(T):E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E)?t(T,S):void 0}}function t(T,S){(S==null||S>T.length)&&(S=T.length);for(var E=0,D=Array(S);E<S;E++)D[E]=T[E];return D}function n(){var T,S,E=typeof Symbol=="function"?Symbol:{},D=E.iterator||"@@iterator",I=E.toStringTag||"@@toStringTag";function V(ve,he,q,L){var R=he&&he.prototype instanceof B?he:B,k=Object.create(R.prototype);return r(k,"_invoke",function(X,oe,ee){var me,de,xe,ne=0,be=ee||[],ie=!1,ge={p:0,n:0,v:T,a:Ee,f:Ee.bind(T,4),d:function(M,P){return me=M,de=0,xe=T,ge.n=P,K}};function Ee(M,P){for(de=M,xe=P,S=0;!ie&&ne&&!C&&S<be.length;S++){var C,z=be[S],te=ge.p,re=z[2];M>3?(C=re===P)&&(xe=z[(de=z[4])?5:(de=3,3)],z[4]=z[5]=T):z[0]<=te&&((C=M<2&&te<z[1])?(de=0,ge.v=P,ge.n=z[1]):te<re&&(C=M<3||z[0]>P||P>re)&&(z[4]=M,z[5]=P,ge.n=re,de=0))}if(C||M>1)return K;throw ie=!0,P}return function(M,P,C){if(ne>1)throw TypeError("Generator is already running");for(ie&&P===1&&Ee(P,C),de=P,xe=C;(S=de<2?T:xe)||!ie;){me||(de?de<3?(de>1&&(ge.n=-1),Ee(de,xe)):ge.n=xe:ge.v=xe);try{if(ne=2,me){if(de||(M="next"),S=me[M]){if(!(S=S.call(me,xe)))throw TypeError("iterator result is not an object");if(!S.done)return S;xe=S.value,de<2&&(de=0)}else de===1&&(S=me.return)&&S.call(me),de<2&&(xe=TypeError("The iterator does not provide a '"+M+"' method"),de=1);me=T}else if((S=(ie=ge.n<0)?xe:X.call(oe,ge))!==K)break}catch(z){me=T,de=1,xe=z}finally{ne=1}}return{value:S,done:ie}}}(ve,q,L),!0),k}var K={};function B(){}function $(){}function G(){}S=Object.getPrototypeOf;var U=[][D]?S(S([][D]())):(r(S={},D,function(){return this}),S),W=G.prototype=B.prototype=Object.create(U);function ye(ve){return Object.setPrototypeOf?Object.setPrototypeOf(ve,G):(ve.__proto__=G,r(ve,I,"GeneratorFunction")),ve.prototype=Object.create(W),ve}return $.prototype=G,r(W,"constructor",G),r(G,"constructor",$),$.displayName="GeneratorFunction",r(G,I,"GeneratorFunction"),r(W),r(W,I,"Generator"),r(W,D,function(){return this}),r(W,"toString",function(){return"[object Generator]"}),(n=function(){return{w:V,m:ye}})()}function r(T,S,E,D){var I=Object.defineProperty;try{I({},"",{})}catch{I=0}r=function(V,K,B,$){function G(U,W){r(V,U,function(ye){return this._invoke(U,W,ye)})}K?I?I(V,K,{value:B,enumerable:!$,configurable:!$,writable:!$}):V[K]=B:(G("next",0),G("throw",1),G("return",2))},r(T,S,E,D)}function u(T,S,E,D,I,V,K){try{var B=T[V](K),$=B.value}catch(G){return void E(G)}B.done?S($):Promise.resolve($).then(D,I)}function l(T){return function(){var S=this,E=arguments;return new Promise(function(D,I){var V=T.apply(S,E);function K($){u(V,D,I,K,B,"next",$)}function B($){u(V,D,I,K,B,"throw",$)}K(void 0)})}}function d(T,S){for(var E=0;E<S.length;E++){var D=S[E];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(T,p(D.key),D)}}function p(T){var S=function(E){if(c(E)!="object"||!E)return E;var D=E[Symbol.toPrimitive];if(D!==void 0){var I=D.call(E,"string");if(c(I)!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(E)}(T);return c(S)=="symbol"?S:S+""}Object.defineProperty(e,"__esModule",{value:!0}),e.QuerySourceRaw=void 0;var f=s(90711),h=s(90412),y=s(99214),m=s(75627),b=s(92603),v=s(89096),_=s(96331),w=s(83101),O=s(95877),A=function(){function T(K,B,$,G,U,W,ye,ve,he,q){var L=this;(function(R,k){if(!(R instanceof k))throw new TypeError("Cannot call a class as a function")})(this,T),this.referenceValue=K,this.url=K,this.context=B,this.mediatorHttp=$,this.bindMethod=G,this.dataFactory=U,this.algebraFactory=W,this.bindingsFactory=ye,this.endpointFetcher=new b.SparqlEndpointFetcher({method:ve?"GET":"POST",fetch:function(R,k){return L.mediatorHttp.mediate({input:R,init:k,context:L.lastSourceContext})},defaultHeaders:this.context.get(new h.ActionContextKey("headers")),prefixVariableQuestionMark:!0,dataFactory:U}),this.cache=he>0?new v.LRUCache({max:he}):void 0,this.countTimeout=q}return S=T,E=[{key:"getSelectorShape",value:(V=l(n().m(function K(){return n().w(function(B){for(;;)if(B.n===0)return B.a(2,T.SELECTOR_SHAPE)},K)})),function(){return V.apply(this,arguments)})},{key:"queryBindings",value:function(K,B,$){var G,U=this;G=$!=null&&$.joinBindings?w.QuerySourceSparql.addBindingsToOperation(this.algebraFactory,this.bindMethod,K,$.joinBindings):Promise.resolve(K);var W=new m.TransformIterator(l(n().m(function ye(){var ve,he,q,L,R,k;return n().w(function(X){for(;;)switch(X.n){case 0:return X.n=1,G;case 1:return he=X.v,q=_.Util.inScopeVariables(he),L=B.get(f.KeysInitQuery.queryString),R=$!=null&&$.joinBindings||!L?he.type===_.Algebra.types.PROJECT?w.QuerySourceSparql.operationToQuery(he):w.QuerySourceSparql.operationToSelectQuery(U.algebraFactory,he,q):L,k=w.QuerySourceSparql.getOperationUndefs(he),(ve=h.Actor.getContextLogger(B))===null||ve===void 0||ve.info(`Asking for:
`.concat(R)),X.a(2,U.queryBindingsRemote(he,U.url,R,q,B,k))}},ye)})),{autoStart:!1});return this.attachMetadata(W,B,G),W}},{key:"attachMetadata",value:function(K,B,$){var G=this,U=[];new Promise(function(){var W=l(n().m(function ye(ve,he){var q,L,R;return n().w(function(k){for(;;)switch(k.n){case 0:return k.n=1,$;case 1:return q=k.v,L=w.QuerySourceSparql.getOperationUndefs(q),R=_.Util.inScopeVariables(q),U=R.map(function(X){return{variable:X,canBeUndef:L.some(function(oe){return oe.equals(X)})}}),k.a(2,ve(q))}},ye)}));return function(ye,ve){return W.apply(this,arguments)}}()).then(function(W){var ye=_.Util.inScopeVariables(W),ve=W.type===_.Algebra.types.PROJECT?w.QuerySourceSparql.operationToQuery(W):w.QuerySourceSparql.operationToSelectQuery(G.algebraFactory,W,ye),he={state:new y.MetadataValidationState,cardinality:{type:"estimate",value:Number.POSITIVE_INFINITY},variables:U,query:ve};K.setProperty("metadata",he),T.initializeLogger(B,W,ve),B=B.set(f.KeysInitQuery.physicalQueryPlanNode,W)})}},{key:"queryBindingsRemote",value:(I=l(n().m(function K(B,$,G,U,W,ye){var ve,he,q,L,R,k,X=this;return n().w(function(oe){for(;;)switch(oe.n){case 0:T.updateStartTime(W,B),ve=new Set,he=o(ye);try{for(he.s();!(q=he.n()).done;)L=q.value,ve.add(L.value)}catch(ee){he.e(ee)}finally{he.f()}return this.lastSourceContext=this.context.merge(W),oe.n=1,this.endpointFetcher.fetchBindings($,G);case 1:return R=oe.v,this.lastSourceContext=void 0,k=(0,m.wrap)(R,{autoStart:!1,maxBufferSize:Number.POSITIVE_INFINITY}).map(function(ee){var me=k.getProperty("nbResults")||0;return k.setProperty("nbResults",me+1),X.bindingsFactory.bindings(U.map(function(de){var xe,ne=ee["?".concat(de.value)];return ve.has(de.value)||ne||(xe=h.Actor.getContextLogger(X.context))===null||xe===void 0||xe.warn("The endpoint ".concat($," failed to provide a binding for ").concat(de.value,".")),[de,ne]}).filter(function(de){var xe=a(de,2),ne=(xe[0],xe[1]);return!!ne}))}),oe.a(2,k)}},K,this)})),function(K,B,$,G,U,W){return I.apply(this,arguments)})},{key:"queryQuads",value:function(K,B){throw new Error("queryQuads is not implemented in QuerySourceRaw.")}},{key:"queryBoolean",value:function(K,B){throw new Error("queryBoolean is not implemented in QuerySourceRaw.")}},{key:"queryVoid",value:function(K,B){throw new Error("queryVoid is not implemented in QuerySourceRaw.")}},{key:"toString",value:function(){return"QuerySourceRaw(".concat(this.url,")")}}],D=[{key:"initializeLogger",value:function(K,B,$){var G=K.get(f.KeysInitQuery.physicalQueryPlanLogger);if(G){var U={variables:_.Util.inScopeVariables(B).map(function(W){return W.value}),query:$};G.logOperation(_.Algebra.types.SERVICE,void 0,B,K.get(f.KeysInitQuery.physicalQueryPlanNode),"raw",U)}}},{key:"updateStartTime",value:function(K,B){var $=K.get(f.KeysInitQuery.physicalQueryPlanLogger)||K.get(new h.ActionContextKey("physicalQueryPlanLogger"));$&&(B.startAt=Date.now(),$.appendMetadata(B,{startAt:B.startAt}))}},{key:"updateDoneTime",value:function(K,B){var $=K.get(f.KeysInitQuery.physicalQueryPlanLogger)||K.get(new h.ActionContextKey("physicalQueryPlanLogger"));$&&(B.doneAt=Date.now(),B.timeLife=B.doneAt-B.startAt,$.appendMetadata(B,{doneAt:B.doneAt}),$.appendMetadata(B,{timeLife:B.timeLife}))}},{key:"updateNbResults",value:function(K,B,$){var G=K.get(f.KeysInitQuery.physicalQueryPlanLogger)||K.get(new h.ActionContextKey("physicalQueryPlanLogger"));G&&(B.cardinalityReal=$,G.appendMetadata(B,{cardinalityReal:$}))}}],E&&d(S.prototype,E),D&&d(S,D),Object.defineProperty(S,"prototype",{writable:!1}),S;var S,E,D,I,V}();e.QuerySourceRaw=A,A.SELECTOR_SHAPE=O.Shapes.ALL},23786:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.AverageAggregator=void 0;const c=s(86581),a=s(77545);class o extends c.AggregateEvaluator{constructor(t,n,r,u,l,d){super(t,n,d),this.dataFactory=r,this.additionFunction=u,this.divisionFunction=l,this.state=void 0}emptyValueTerm(){return a.typedLiteral("0",a.TypeURL.XSD_INTEGER)}putTerm(t){if(this.state===void 0){const n=this.termToNumericOrError(t);this.state={sum:n,count:1}}else{const n=this.termToNumericOrError(t);this.state.sum=this.additionFunction.applyOnTerms([this.state.sum,n],this.evaluator),this.state.count++}}termResult(){if(this.state===void 0)return this.emptyValue();const t=new a.IntegerLiteral(this.state.count);return this.divisionFunction.applyOnTerms([this.state.sum,t],this.evaluator).toRDF(this.dataFactory)}}e.AverageAggregator=o},23794:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(50311),e)},23809:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerKeywordContext=void 0;const c=s(42395),a=s(1548);class o extends a.EntryHandlerKeyword{constructor(){super("@context")}isStackProcessor(){return!1}async handle(t,n,r,u,l,d){t.streamingProfile&&(t.processingStack[d]||t.processingType[d]||t.idStack[d]!==void 0)&&t.emitError(new c.ErrorCoded("Found an out-of-order context, while streaming is enabled.(disable `streamingProfile`)",c.ERROR_CODES.INVALID_STREAMING_KEY_ORDER));const p=t.getContext(u),f=t.parseContext(l,(await p).getContextRaw());t.contextTree.setContext(u.slice(0,-1),f),t.emitContext(l),await t.validateContext(await f)}}e.EntryHandlerKeywordContext=o},23825:g=>{function e(u){this._options=u=u||{};var l=u.prefixes||{};this._prefixByIri={};var d=[];for(var p in l){var f=l[p];i(f)&&(this._prefixByIri[f]=p,d.push(f))}var h=d.join("|").replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&");this._prefixRegex=new RegExp("^("+h+")([a-zA-Z][\\-_a-zA-Z0-9]*)$"),this._usedPrefixes={},this._sparqlStar=u.sparqlStar,this._indent=i(u.indent)?u.indent:"  ",this._newline=i(u.newline)?u.newline:`
`,this._explicitDatatype=!!u.explicitDatatype}e.prototype.toQuery=function(u){var l="";return u.queryType&&(l+=u.queryType.toUpperCase()+" "),u.reduced&&(l+="REDUCED "),u.distinct&&(l+="DISTINCT "),u.variables?l+=r(u.variables,void 0,function(d){return/^[?$]/.test(d)?d:t(d)?this.toEntity(d):"("+this.toExpression(d.expression)+" AS "+o(d.variable)+")"},this)+" ":u.template&&(l+=this.group(u.template,!0)+this._newline),u.from&&(l+=this.graphs("FROM ",u.from.default)+this.graphs("FROM NAMED ",u.from.named)),u.where&&(l+="WHERE "+this.group(u.where,!0)+this._newline),u.updates&&(l+=r(u.updates,";"+this._newline,this.toUpdate,this)),u.group&&(l+="GROUP BY "+r(u.group,void 0,function(d){var p=t(d.expression)?this.toEntity(d.expression):"("+this.toExpression(d.expression)+")";return d.variable?"("+p+" AS "+o(d.variable)+")":p},this)+this._newline),u.having&&(l+="HAVING ("+r(u.having,void 0,this.toExpression,this)+")"+this._newline),u.order&&(l+="ORDER BY "+r(u.order,void 0,function(d){var p="("+this.toExpression(d.expression)+")";return d.descending?"DESC "+p:p},this)+this._newline),u.offset&&(l+="OFFSET "+u.offset+this._newline),u.limit&&(l+="LIMIT "+u.limit+this._newline),u.values&&(l+=this.values(u)),(l=this.baseAndPrefixes(u)+l).trim()},e.prototype.baseAndPrefixes=function(u){var l=u.base?"BASE <"+u.base+">"+this._newline:"",d="";for(var p in u.prefixes)(this._options.allPrefixes||this._usedPrefixes[p])&&(d+="PREFIX "+p+": <"+u.prefixes[p]+">"+this._newline);return l+d},e.prototype.toPattern=function(u){var l=u.type||u instanceof Array&&"array"||(u.subject&&u.predicate&&u.object?"triple":"");if(!(l in this))throw new Error("Unknown entry type: "+l);return this[l](u)},e.prototype.triple=function(u){return this.toEntity(u.subject)+" "+this.toEntity(u.predicate)+" "+this.toEntity(u.object)+"."},e.prototype.array=function(u){return r(u,this._newline,this.toPattern,this)},e.prototype.bgp=function(u){return this.encodeTriples(u.triples)},e.prototype.encodeTriples=function(u){if(!u.length)return"";for(var l=[],d=void 0,p=void 0,f=0;f<u.length;f++){var h=u[f];n(h.subject,d)?n(h.predicate,p)?l.push(","):(p=h.predicate,l.push(";"+this._newline,this._indent,this.toEntity(p))):(d&&l.push("."+this._newline),d=h.subject,p=h.predicate,l.push(this.toEntity(d)," ",this.toEntity(p))),l.push(" ",this.toEntity(h.object))}return l.push("."),l.join("")},e.prototype.graph=function(u){return"GRAPH "+this.toEntity(u.name)+" "+this.group(u)},e.prototype.graphs=function(u,l){return l&&l.length!==0?r(l,"",function(d){return u+this.toEntity(d)+this._newline},this):""},e.prototype.group=function(u,l){return(u=l!==!0?this.array(u.patterns||u.triples):this.toPattern(u.type!=="group"?u:u.patterns)).indexOf(this._newline)===-1?"{ "+u+" }":"{"+this._newline+this.indent(u)+this._newline+"}"},e.prototype.query=function(u){return this.toQuery(u)},e.prototype.filter=function(u){return"FILTER("+this.toExpression(u.expression)+")"},e.prototype.bind=function(u){return"BIND("+this.toExpression(u.expression)+" AS "+o(u.variable)+")"},e.prototype.optional=function(u){return"OPTIONAL "+this.group(u)},e.prototype.union=function(u){return r(u.patterns,this._newline+"UNION"+this._newline,function(l){return this.group(l,!0)},this)},e.prototype.minus=function(u){return"MINUS "+this.group(u)},e.prototype.values=function(u){var l,d,p=Object.keys(u.values.reduce(function(f,h){for(var y in h)f[y]=!0;return f},{}));return p.length===1?l=d="":(l="(",d=")"),"VALUES "+l+p.join(" ")+d+" {"+this._newline+r(u.values,this._newline,function(f){return"  "+l+r(p,void 0,function(h){return f[h]?this.toEntity(f[h]):"UNDEF"},this)+d},this)+this._newline+"}"},e.prototype.service=function(u){return"SERVICE "+(u.silent?"SILENT ":"")+this.toEntity(u.name)+" "+this.group(u)},e.prototype.toExpression=function(u){if(t(u))return this.toEntity(u);switch(u.type.toLowerCase()){case"aggregate":return u.aggregation.toUpperCase()+"("+(u.distinct?"DISTINCT ":"")+this.toExpression(u.expression)+(typeof u.separator=="string"?'; SEPARATOR = "'+u.separator.replace(s,c)+'"':"")+")";case"functioncall":return this.toEntity(u.function)+"("+r(u.args,", ",this.toExpression,this)+")";case"operation":var l=u.operator.toUpperCase(),d=u.args||[];switch(u.operator.toLowerCase()){case"<":case">":case">=":case"<=":case"&&":case"||":case"=":case"!=":case"+":case"-":case"*":case"/":return(t(d[0])?this.toEntity(d[0]):"("+this.toExpression(d[0])+")")+" "+l+" "+(t(d[1])?this.toEntity(d[1]):"("+this.toExpression(d[1])+")");case"!":return"!("+this.toExpression(d[0])+")";case"uplus":return"+("+this.toExpression(d[0])+")";case"uminus":return"-("+this.toExpression(d[0])+")";case"notin":l="NOT IN";case"in":return this.toExpression(d[0])+" "+l+"("+(i(d[1])?d[1]:r(d[1],", ",this.toExpression,this))+")";case"notexists":l="NOT EXISTS";case"exists":return l+" "+this.group(d[0],!0);default:return l+"("+r(d,", ",this.toExpression,this)+")"}default:throw new Error("Unknown expression type: "+u.type)}},e.prototype.toEntity=function(u){if(t(u))switch(u.termType){case"Wildcard":return"*";case"Variable":return o(u);case"BlankNode":return"_:"+u.value;case"Literal":var l=u.value||"",d=u.language||"",p=u.datatype;if(u='"'+l.replace(s,c)+'"',d)u+="@"+d;else if(p){if(!this._explicitDatatype)switch(p.value){case"http://www.w3.org/2001/XMLSchema#string":return u;case"http://www.w3.org/2001/XMLSchema#integer":if(/^\d+$/.test(l))return l+" "}u+="^^"+this.encodeIRI(p.value)}return u;case"Quad":if(!this._sparqlStar)throw new Error("SPARQL* support is not enabled");return u.graph&&u.graph.termType!=="DefaultGraph"?"<< GRAPH "+this.toEntity(u.graph)+" { "+this.toEntity(u.subject)+" "+this.toEntity(u.predicate)+" "+this.toEntity(u.object)+" }  >>":"<< "+this.toEntity(u.subject)+" "+this.toEntity(u.predicate)+" "+this.toEntity(u.object)+" >>";default:return this.encodeIRI(u.value)}else{var f=u.items.map(this.toEntity,this),h=u.pathType;switch(h){case"^":case"!":return h+f[0];case"*":case"+":case"?":return"("+f[0]+h+")";default:return"("+f.join(h)+")"}}};var s=/["\\\t\n\r\b\f]/g,c=function(u){return a[u]},a={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};function o(u){return"?"+u.value}function i(u){return typeof u=="string"}function t(u){return typeof u.termType=="string"}function n(u,l){if(!u||!t(u)||!l||!t(l)||u.termType!==l.termType)return!1;switch(u.termType){case"Literal":return u.value===l.value&&u.language===l.language&&n(u.datatype,l.datatype);case"Quad":return n(u.subject,l.subject)&&n(u.predicate,l.predicate)&&n(u.object,l.object)&&n(u.graph,l.graph);default:return u.value===l.value}}function r(u,l,d,p){return u.map(d,p).join(i(l)?l:" ")}e.prototype.encodeIRI=function(u){var l=this._prefixRegex.exec(u);if(l){var d=this._prefixByIri[l[1]];return this._usedPrefixes[d]=!0,d+":"+l[2]}return"<"+u+">"},e.prototype.toUpdate=function(u){switch(u.type||u.updateType){case"load":return"LOAD"+(u.source?" "+this.toEntity(u.source):"")+(u.destination?" INTO GRAPH "+this.toEntity(u.destination):"");case"insert":return"INSERT DATA "+this.group(u.insert,!0);case"delete":return"DELETE DATA "+this.group(u.delete,!0);case"deletewhere":return"DELETE WHERE "+this.group(u.delete,!0);case"insertdelete":return(u.graph?"WITH "+this.toEntity(u.graph)+this._newline:"")+(u.delete.length?"DELETE "+this.group(u.delete,!0)+this._newline:"")+(u.insert.length?"INSERT "+this.group(u.insert,!0)+this._newline:"")+(u.using?this.graphs("USING ",u.using.default):"")+(u.using?this.graphs("USING NAMED ",u.using.named):"")+"WHERE "+this.group(u.where,!0);case"add":case"copy":case"move":return u.type.toUpperCase()+" "+(u.silent?"SILENT ":"")+(u.source.default?"DEFAULT":this.toEntity(u.source.name))+" TO "+this.toEntity(u.destination.name);case"create":case"clear":case"drop":return u.type.toUpperCase()+(u.silent?" SILENT ":" ")+(u.graph.default?"DEFAULT":u.graph.named?"NAMED":u.graph.all?"ALL":"GRAPH "+this.toEntity(u.graph.name));default:throw new Error("Unknown update query type: "+u.type)}},e.prototype.indent=function(u){return u.replace(/^/gm,this._indent)},g.exports={Generator:function(u={}){return{stringify:function(l){var d=Object.create(u);return d.prefixes=l.prefixes,new e(d).toQuery(l)},createGenerator:function(){return new e(u)}}}}},24075:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionStrEnds=void 0;const c=s(77617),a=s(77545);class o extends c.TermFunctionBase{constructor(){super({arity:2,operator:a.SparqlOperator.STRENDS,overloads:(0,a.declare)(a.SparqlOperator.STRENDS).onBinaryTyped([a.TypeAlias.SPARQL_STRINGLY,a.TypeURL.XSD_STRING],()=>(t,n)=>(0,a.bool)(t.endsWith(n))).onBinary([a.TypeURL.RDF_LANG_STRING,a.TypeURL.RDF_LANG_STRING],()=>(t,n)=>{if(t.language!==n.language)throw new a.IncompatibleLanguageOperation(t,n);return(0,a.bool)(t.typedValue.endsWith(n.typedValue))}).collect()})}}e.TermFunctionStrEnds=o},24134:g=>{class e extends Error{constructor(c){if(!Array.isArray(c))throw new TypeError("Expected input to be an Array, got "+typeof c);let a="";for(let o=0;o<c.length;o++)a+=`    ${c[o].stack}
`;super(a),this.name="AggregateError",this.errors=c}}g.exports={AggregateError:e,ArrayIsArray:s=>Array.isArray(s),ArrayPrototypeIncludes:(s,c)=>s.includes(c),ArrayPrototypeIndexOf:(s,c)=>s.indexOf(c),ArrayPrototypeJoin:(s,c)=>s.join(c),ArrayPrototypeMap:(s,c)=>s.map(c),ArrayPrototypePop:(s,c)=>s.pop(c),ArrayPrototypePush:(s,c)=>s.push(c),ArrayPrototypeSlice:(s,c,a)=>s.slice(c,a),Error,FunctionPrototypeCall:(s,c,...a)=>s.call(c,...a),FunctionPrototypeSymbolHasInstance:(s,c)=>Function.prototype[Symbol.hasInstance].call(s,c),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(s,c)=>Object.defineProperties(s,c),ObjectDefineProperty:(s,c,a)=>Object.defineProperty(s,c,a),ObjectGetOwnPropertyDescriptor:(s,c)=>Object.getOwnPropertyDescriptor(s,c),ObjectKeys:s=>Object.keys(s),ObjectSetPrototypeOf:(s,c)=>Object.setPrototypeOf(s,c),Promise,PromisePrototypeCatch:(s,c)=>s.catch(c),PromisePrototypeThen:(s,c,a)=>s.then(c,a),PromiseReject:s=>Promise.reject(s),PromiseResolve:s=>Promise.resolve(s),ReflectApply:Reflect.apply,RegExpPrototypeTest:(s,c)=>s.test(c),SafeSet:Set,String,StringPrototypeSlice:(s,c,a)=>s.slice(c,a),StringPrototypeToLowerCase:s=>s.toLowerCase(),StringPrototypeToUpperCase:s=>s.toUpperCase(),StringPrototypeTrim:s=>s.trim(),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet:(s,c,a)=>s.set(c,a),Boolean,Uint8Array}},24148:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ContextParser=void 0,s(86547);const c=s(70742),a=s(44063),o=s(67726),i=s(97976),t=s(8486);class n{constructor(u){u=u||{},this.documentLoader=u.documentLoader||new o.FetchDocumentLoader,this.documentCache={},this.validateContext=!u.skipValidation,this.expandContentTypeToBase=!!u.expandContentTypeToBase,this.remoteContextsDepthLimit=u.remoteContextsDepthLimit||32,this.redirectSchemaOrgHttps=!("redirectSchemaOrgHttps"in u)||!!u.redirectSchemaOrgHttps}static validateLanguage(u,l,d){if(typeof u!="string")throw new a.ErrorCoded(`The value of an '@language' must be a string, got '${JSON.stringify(u)}'`,d);if(!t.Util.REGEX_LANGUAGE_TAG.test(u)){if(l)throw new a.ErrorCoded(`The value of an '@language' must be a valid language tag, got '${JSON.stringify(u)}'`,d);return!1}return!0}static validateDirection(u,l){if(typeof u!="string")throw new a.ErrorCoded(`The value of an '@direction' must be a string, got '${JSON.stringify(u)}'`,a.ERROR_CODES.INVALID_BASE_DIRECTION);if(!t.Util.REGEX_DIRECTION_TAG.test(u)){if(l)throw new a.ErrorCoded(`The value of an '@direction' must be 'ltr' or 'rtl', got '${JSON.stringify(u)}'`,a.ERROR_CODES.INVALID_BASE_DIRECTION);return!1}return!0}idifyReverseTerms(u){for(const l of Object.keys(u)){let d=u[l];if(d&&typeof d=="object"&&d["@reverse"]&&!d["@id"]){if(typeof d["@reverse"]!="string"||t.Util.isValidKeyword(d["@reverse"]))throw new a.ErrorCoded(`Invalid @reverse value, must be absolute IRI or blank node: '${d["@reverse"]}'`,a.ERROR_CODES.INVALID_IRI_MAPPING);d=u[l]=Object.assign(Object.assign({},d),{"@id":d["@reverse"]}),d["@id"]=d["@reverse"],t.Util.isPotentialKeyword(d["@reverse"])?delete d["@reverse"]:d["@reverse"]=!0}}return u}expandPrefixedTerms(u,l,d){const p=u.getContextRaw();for(const f of d||Object.keys(p))if(t.Util.EXPAND_KEYS_BLACKLIST.indexOf(f)<0&&!t.Util.isReservedInternalKeyword(f)){const h=p[f];if(t.Util.isPotentialKeyword(f)&&t.Util.ALIAS_DOMAIN_BLACKLIST.indexOf(f)>=0&&(f!=="@type"||typeof p[f]=="object"&&!p[f]["@protected"]&&p[f]["@container"]!=="@set"))throw new a.ErrorCoded(`Keywords can not be aliased to something else.
Tried mapping ${f} to ${JSON.stringify(h)}`,a.ERROR_CODES.KEYWORD_REDEFINITION);if(t.Util.ALIAS_RANGE_BLACKLIST.indexOf(t.Util.getContextValueId(h))>=0)throw new a.ErrorCoded(`Aliasing to certain keywords is not allowed.
Tried mapping ${f} to ${JSON.stringify(h)}`,a.ERROR_CODES.INVALID_KEYWORD_ALIAS);if(h&&t.Util.isPotentialKeyword(t.Util.getContextValueId(h))&&h["@prefix"]===!0)throw new a.ErrorCoded(`Tried to use keyword aliases as prefix: '${f}': '${JSON.stringify(h)}'`,a.ERROR_CODES.INVALID_TERM_DEFINITION);for(;t.Util.isPrefixValue(p[f]);){const y=p[f];let m=!1;if(typeof y=="string")p[f]=u.expandTerm(y,!0),m=m||y!==p[f];else{const b=y["@id"],v=y["@type"],_=!("@prefix"in y)||t.Util.isValidIri(f);if("@id"in y)b!=null&&typeof b=="string"&&(p[f]=Object.assign(Object.assign({},p[f]),{"@id":u.expandTerm(b,!0)}),m=m||b!==p[f]["@id"]);else if(!t.Util.isPotentialKeyword(f)&&_){const w=u.expandTerm(f,!0);w!==f&&(p[f]=Object.assign(Object.assign({},p[f]),{"@id":w}),m=!0)}if(v&&typeof v=="string"&&v!=="@vocab"&&(!y["@container"]||!y["@container"]["@type"])&&_){let w=u.expandTerm(v,!0);l&&v===w&&(w=u.expandTerm(v,!1)),w!==v&&(m=!0,p[f]=Object.assign(Object.assign({},p[f]),{"@type":w}))}}if(!m)break}}}normalize(u,{processingMode:l,normalizeLanguageTags:d}){if(d||l===1)for(const p of Object.keys(u))if(p==="@language"&&typeof u[p]=="string")u[p]=u[p].toLowerCase();else{const f=u[p];if(f&&typeof f=="object"&&typeof f["@language"]=="string"){const h=f["@language"].toLowerCase();h!==f["@language"]&&(u[p]=Object.assign(Object.assign({},f),{"@language":h}))}}}containersToHash(u){for(const l of Object.keys(u)){const d=u[l];if(d&&typeof d=="object"){if(typeof d["@container"]=="string")u[l]=Object.assign(Object.assign({},d),{"@container":{[d["@container"]]:!0}});else if(Array.isArray(d["@container"])){const p={};for(const f of d["@container"])p[f]=!0;u[l]=Object.assign(Object.assign({},d),{"@container":p})}}}}applyScopedProtected(u,{processingMode:l},d){if(l&&l>=1.1&&u["@protected"]){for(const p of Object.keys(u))if(!t.Util.isReservedInternalKeyword(p)&&!t.Util.isPotentialKeyword(p)&&!t.Util.isTermProtected(u,p)){const f=u[p];f&&typeof f=="object"?"@protected"in u[p]||(u[p]=Object.assign(Object.assign({},u[p]),{"@protected":!0})):(u[p]={"@id":f,"@protected":!0},t.Util.isSimpleTermDefinitionPrefix(f,d)&&(u[p]=Object.assign(Object.assign({},u[p]),{"@prefix":!0})))}delete u["@protected"]}}validateKeywordRedefinitions(u,l,d,p){for(const f of p??Object.keys(l))if(t.Util.isTermProtected(u,f)&&(typeof l[f]=="string"?l[f]={"@id":l[f],"@protected":!0}:l[f]=Object.assign(Object.assign({},l[f]),{"@protected":!0}),!t.Util.deepEqual(u[f],l[f])))throw new a.ErrorCoded(`Attempted to override the protected keyword ${f} from ${JSON.stringify(t.Util.getContextValueId(u[f]))} to ${JSON.stringify(t.Util.getContextValueId(l[f]))}`,a.ERROR_CODES.PROTECTED_TERM_REDEFINITION)}validate(u,{processingMode:l}){for(const d of Object.keys(u)){if(t.Util.isReservedInternalKeyword(d))continue;if(d==="")throw new a.ErrorCoded(`The empty term is not allowed, got: '${d}': '${JSON.stringify(u[d])}'`,a.ERROR_CODES.INVALID_TERM_DEFINITION);const p=u[d],f=typeof p;if(t.Util.isPotentialKeyword(d)){switch(d.substr(1)){case"vocab":if(p!==null&&f!=="string")throw new a.ErrorCoded(`Found an invalid @vocab IRI: ${p}`,a.ERROR_CODES.INVALID_VOCAB_MAPPING);break;case"base":if(p!==null&&f!=="string")throw new a.ErrorCoded(`Found an invalid @base IRI: ${u[d]}`,a.ERROR_CODES.INVALID_BASE_IRI);break;case"language":p!==null&&n.validateLanguage(p,!0,a.ERROR_CODES.INVALID_DEFAULT_LANGUAGE);break;case"version":if(p!==null&&f!=="number")throw new a.ErrorCoded(`Found an invalid @version number: ${p}`,a.ERROR_CODES.INVALID_VERSION_VALUE);break;case"direction":p!==null&&n.validateDirection(p,!0);break;case"propagate":if(l===1)throw new a.ErrorCoded(`Found an illegal @propagate keyword: ${p}`,a.ERROR_CODES.INVALID_CONTEXT_ENTRY);if(p!==null&&f!=="boolean")throw new a.ErrorCoded(`Found an invalid @propagate value: ${p}`,a.ERROR_CODES.INVALID_PROPAGATE_VALUE)}if(t.Util.isValidKeyword(d)&&t.Util.isValidKeyword(t.Util.getContextValueId(p)))throw new a.ErrorCoded(`Illegal keyword alias in term value, found: '${d}': '${t.Util.getContextValueId(p)}'`,a.ERROR_CODES.KEYWORD_REDEFINITION)}else if(p!==null)switch(f){case"string":if(t.Util.getPrefix(p,u)===d)throw new a.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${d}': '${JSON.stringify(p)}'`,a.ERROR_CODES.CYCLIC_IRI_MAPPING);if(t.Util.isValidIriWeak(d)){if(p==="@type")throw new a.ErrorCoded(`IRIs can not be mapped to @type, found: '${d}': '${p}'`,a.ERROR_CODES.INVALID_IRI_MAPPING);if(t.Util.isValidIri(p)&&p!==new i.JsonLdContextNormalized(u).expandTerm(d))throw new a.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${d}': '${p}'`,a.ERROR_CODES.INVALID_IRI_MAPPING)}break;case"object":if(!(t.Util.isCompactIri(d)||"@id"in p||(p["@type"]==="@id"?u["@base"]:u["@vocab"])))throw new a.ErrorCoded(`Missing @id in context entry: '${d}': '${JSON.stringify(p)}'`,a.ERROR_CODES.INVALID_IRI_MAPPING);for(const h of Object.keys(p)){const y=p[h];if(y)switch(h){case"@id":if(t.Util.isValidKeyword(y)&&y!=="@type"&&y!=="@id"&&y!=="@graph"&&y!=="@nest")throw new a.ErrorCoded(`Illegal keyword alias in term value, found: '${d}': '${JSON.stringify(p)}'`,a.ERROR_CODES.INVALID_IRI_MAPPING);if(t.Util.isValidIriWeak(d)){if(y==="@type")throw new a.ErrorCoded(`IRIs can not be mapped to @type, found: '${d}': '${JSON.stringify(p)}'`,a.ERROR_CODES.INVALID_IRI_MAPPING);if(t.Util.isValidIri(y)&&y!==new i.JsonLdContextNormalized(u).expandTerm(d))throw new a.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${d}': '${JSON.stringify(p)}'`,a.ERROR_CODES.INVALID_IRI_MAPPING)}if(typeof y!="string")throw new a.ErrorCoded(`Detected non-string @id in context entry: '${d}': '${JSON.stringify(p)}'`,a.ERROR_CODES.INVALID_IRI_MAPPING);if(t.Util.getPrefix(y,u)===d)throw new a.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${d}': '${JSON.stringify(p)}'`,a.ERROR_CODES.CYCLIC_IRI_MAPPING);break;case"@type":if(p["@container"]==="@type"&&y!=="@id"&&y!=="@vocab")throw new a.ErrorCoded(`@container: @type only allows @type: @id or @vocab, but got: '${d}': '${y}'`,a.ERROR_CODES.INVALID_TYPE_MAPPING);if(typeof y!="string")throw new a.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(f)}'`,a.ERROR_CODES.INVALID_TYPE_MAPPING);if(!(y==="@id"||y==="@vocab"||l!==1&&y==="@json"||l!==1&&y==="@none"||y[0]!=="_"&&t.Util.isValidIri(y)))throw new a.ErrorCoded(`A context @type must be an absolute IRI, found: '${d}': '${y}'`,a.ERROR_CODES.INVALID_TYPE_MAPPING);break;case"@reverse":if(typeof y=="string"&&p["@id"]&&p["@id"]!==y)throw new a.ErrorCoded(`Found non-matching @id and @reverse term values in '${d}':'${y}' and '${p["@id"]}'`,a.ERROR_CODES.INVALID_REVERSE_PROPERTY);if("@nest"in p)throw new a.ErrorCoded(`@nest is not allowed in the reverse property '${d}'`,a.ERROR_CODES.INVALID_REVERSE_PROPERTY);break;case"@container":if(l===1&&(Object.keys(y).length>1||t.Util.CONTAINERS_1_0.indexOf(Object.keys(y)[0])<0))throw new a.ErrorCoded(`Invalid term @container for '${d}' ('${Object.keys(y)}') in 1.0, must be only one of ${t.Util.CONTAINERS_1_0.join(", ")}`,a.ERROR_CODES.INVALID_CONTAINER_MAPPING);for(const m of Object.keys(y)){if(m==="@list"&&p["@reverse"])throw new a.ErrorCoded(`Term value can not be @container: @list and @reverse at the same time on '${d}'`,a.ERROR_CODES.INVALID_REVERSE_PROPERTY);if(t.Util.CONTAINERS.indexOf(m)<0)throw new a.ErrorCoded(`Invalid term @container for '${d}' ('${m}'), must be one of ${t.Util.CONTAINERS.join(", ")}`,a.ERROR_CODES.INVALID_CONTAINER_MAPPING)}break;case"@language":n.validateLanguage(y,!0,a.ERROR_CODES.INVALID_LANGUAGE_MAPPING);break;case"@direction":n.validateDirection(y,!0);break;case"@prefix":if(y!==null&&typeof y!="boolean")throw new a.ErrorCoded(`Found an invalid term @prefix boolean in: '${d}': '${JSON.stringify(p)}'`,a.ERROR_CODES.INVALID_PREFIX_VALUE);if(!("@id"in p)&&!t.Util.isValidIri(d))throw new a.ErrorCoded(`Invalid @prefix definition for '${d}' ('${JSON.stringify(p)}'`,a.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@index":if(l===1||!p["@container"]||!p["@container"]["@index"])throw new a.ErrorCoded(`Attempt to add illegal key to value object: '${d}': '${JSON.stringify(p)}'`,a.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@nest":if(t.Util.isPotentialKeyword(y)&&y!=="@nest")throw new a.ErrorCoded(`Found an invalid term @nest value in: '${d}': '${JSON.stringify(p)}'`,a.ERROR_CODES.INVALID_NEST_VALUE)}}break;default:throw new a.ErrorCoded(`Found an invalid term value: '${d}': '${p}'`,a.ERROR_CODES.INVALID_TERM_DEFINITION)}}}applyBaseEntry(u,l,d){return typeof u=="string"||(d&&!("@base"in u)&&l.parentContext&&typeof l.parentContext=="object"&&"@base"in l.parentContext&&(u["@base"]=l.parentContext["@base"],l.parentContext["@__baseDocument"]&&(u["@__baseDocument"]=!0)),l.baseIRI&&!l.external&&("@base"in u?u["@base"]===null||typeof u["@base"]!="string"||t.Util.isValidIri(u["@base"])||(u["@base"]=(0,c.resolve)(u["@base"],l.parentContext&&l.parentContext["@base"]||l.baseIRI)):(u["@base"]=l.baseIRI,u["@__baseDocument"]=!0))),u}normalizeContextIri(u,l){if(!t.Util.isValidIri(u))try{u=(0,c.resolve)(u,l)}catch{throw new Error(`Invalid context IRI: ${u}`)}return this.redirectSchemaOrgHttps&&u.startsWith("http://schema.org")&&(u="https://schema.org/"),u}async parseInnerContexts(u,l,d){for(const p of d??Object.keys(u)){const f=u[p];if(f&&typeof f=="object"&&"@context"in f&&f["@context"]!==null&&!l.ignoreScopedContexts){if(this.validateContext)try{const h=Object.assign(Object.assign({},u),{[p]:Object.assign({},u[p])});delete h[p]["@context"],await this.parse(f["@context"],Object.assign(Object.assign({},l),{external:!1,parentContext:h,ignoreProtection:!0,ignoreRemoteScopedContexts:!0,ignoreScopedContexts:!0}))}catch(h){throw new a.ErrorCoded(h.message,a.ERROR_CODES.INVALID_SCOPED_CONTEXT)}u[p]=Object.assign(Object.assign({},f),{"@context":(await this.parse(f["@context"],Object.assign(Object.assign({},l),{external:!1,minimalProcessing:!0,ignoreRemoteScopedContexts:!0,parentContext:u}))).getContextRaw()})}}return u}async parse(u,l={},d={}){const{baseIRI:p,parentContext:f,external:h,processingMode:y=n.DEFAULT_PROCESSING_MODE,normalizeLanguageTags:m,ignoreProtection:b,minimalProcessing:v}=l,_=l.remoteContexts||{};if(Object.keys(_).length>=this.remoteContextsDepthLimit)throw new a.ErrorCoded("Detected an overflow in remote context inclusions: "+Object.keys(_),a.ERROR_CODES.CONTEXT_OVERFLOW);if(u==null){if(!b&&f&&t.Util.hasProtectedTerms(f))throw new a.ErrorCoded("Illegal context nullification when terms are protected",a.ERROR_CODES.INVALID_CONTEXT_NULLIFICATION);return new i.JsonLdContextNormalized(this.applyBaseEntry({},l,!1))}if(typeof u=="string"){const w=this.normalizeContextIri(u,p),O=this.getOverriddenLoad(w,l);if(O)return new i.JsonLdContextNormalized(O);const A=await this.parse(await this.load(w),Object.assign(Object.assign({},l),{baseIRI:w,external:!0,remoteContexts:Object.assign(Object.assign({},_),{[w]:!0})}));return this.applyBaseEntry(A.getContextRaw(),l,!0),A}if(Array.isArray(u)){const w=[],O=await Promise.all(u.map((T,S)=>{if(typeof T=="string"){const E=this.normalizeContextIri(T,p);return w[S]=E,this.getOverriddenLoad(E,l)||this.load(E)}return T}));if(v)return new i.JsonLdContextNormalized(O);const A=await O.reduce((T,S,E)=>T.then(D=>this.parse(S,Object.assign(Object.assign({},l),{baseIRI:w[E]||l.baseIRI,external:!!w[E]||l.external,parentContext:D.getContextRaw(),remoteContexts:w[E]?Object.assign(Object.assign({},_),{[w[E]]:!0}):_}),{skipValidation:E<O.length-1})),Promise.resolve(new i.JsonLdContextNormalized(f||{})));return this.applyBaseEntry(A.getContextRaw(),l,!0),A}if(typeof u=="object"){if("@context"in u)return await this.parse(u["@context"],l);if(u=Object.assign({},u),h&&delete u["@base"],this.applyBaseEntry(u,l,!0),this.containersToHash(u),v)return new i.JsonLdContextNormalized(u);let w={};if("@import"in u){if(!(y>=1.1))throw new a.ErrorCoded("Context importing is not supported in JSON-LD 1.0",a.ERROR_CODES.INVALID_CONTEXT_ENTRY);if(typeof u["@import"]!="string")throw new a.ErrorCoded("An @import value must be a string, but got "+typeof u["@import"],a.ERROR_CODES.INVALID_IMPORT_VALUE);w=await this.loadImportContext(this.normalizeContextIri(u["@import"],p)),delete u["@import"]}this.applyScopedProtected(w,{processingMode:y},i.defaultExpandOptions);const O=Object.assign(w,u);this.idifyReverseTerms(O),this.normalize(O,{processingMode:y,normalizeLanguageTags:m}),this.applyScopedProtected(O,{processingMode:y},i.defaultExpandOptions);const A=Object.keys(O),T=[];if(typeof f=="object")for(const E in f)E in O?T.push(E):O[E]=f[E];await this.parseInnerContexts(O,l,A);const S=new i.JsonLdContextNormalized(O);return(O&&O["@version"]||n.DEFAULT_PROCESSING_MODE)>=1.1&&(u["@vocab"]&&typeof u["@vocab"]=="string"||u["@vocab"]==="")&&(f&&"@vocab"in f&&u["@vocab"].indexOf(":")<0?O["@vocab"]=f["@vocab"]+u["@vocab"]:(t.Util.isCompactIri(u["@vocab"])||u["@vocab"]in O)&&(O["@vocab"]=S.expandTerm(u["@vocab"],!0))),this.expandPrefixedTerms(S,this.expandContentTypeToBase,A),!b&&f&&y>=1.1&&this.validateKeywordRedefinitions(f,O,i.defaultExpandOptions,T),this.validateContext&&!d.skipValidation&&this.validate(O,{processingMode:y}),S}throw new a.ErrorCoded(`Tried parsing a context that is not a string, array or object, but got ${u}`,a.ERROR_CODES.INVALID_LOCAL_CONTEXT)}async load(u){const l=this.documentCache[u];if(l)return l;let d;try{d=await this.documentLoader.load(u)}catch(p){throw new a.ErrorCoded(`Failed to load remote context ${u}: ${p.message}`,a.ERROR_CODES.LOADING_REMOTE_CONTEXT_FAILED)}if(!("@context"in d))throw new a.ErrorCoded(`Missing @context in remote context at ${u}`,a.ERROR_CODES.INVALID_REMOTE_CONTEXT);return this.documentCache[u]=d["@context"]}getOverriddenLoad(u,l){if(u in(l.remoteContexts||{})){if(l.ignoreRemoteScopedContexts)return u;throw new a.ErrorCoded("Detected a cyclic context inclusion of "+u,a.ERROR_CODES.RECURSIVE_CONTEXT_INCLUSION)}return null}async loadImportContext(u){let l=await this.load(u);if(typeof l!="object"||Array.isArray(l))throw new a.ErrorCoded("An imported context must be a single object: "+u,a.ERROR_CODES.INVALID_REMOTE_CONTEXT);if("@import"in l)throw new a.ErrorCoded("An imported context can not import another context: "+u,a.ERROR_CODES.INVALID_CONTEXT_ENTRY);return l=Object.assign({},l),this.containersToHash(l),l}}n.DEFAULT_PROCESSING_MODE=1.1,e.ContextParser=n},24582:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfMetadataExtractHydraCount=void 0;const c=s(18412),a=s(90412);class o extends c.ActorRdfMetadataExtract{constructor(t){super(t)}async test(t){return(0,a.passTestVoid)()}run(t){return new Promise((n,r)=>{t.metadata.on("error",r),t.metadata.on("data",u=>{this.predicates.includes(u.predicate.value)&&n({metadata:{cardinality:{type:"estimate",value:Number.parseInt(u.object.value,10),dataset:u.subject.value}}})}),t.metadata.on("end",()=>{n({metadata:{cardinality:{type:"estimate",value:0}}})})})}}e.ActorRdfMetadataExtractHydraCount=o},24615:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(46271),e)},24690:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},24700:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(17569),e)},24713:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(74577),e)},24718:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(46342),e)},24742:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(39417),e)},24799:g=>{(function(){var e;function s(c,a){var o=this instanceof s?this:e;if(o.reset(a),typeof c=="string"&&c.length>0&&o.hash(c),o!==this)return o}s.prototype.hash=function(c){var a,o,i,t,n;switch(n=c.length,this.len+=n,o=this.k1,i=0,this.rem){case 0:o^=n>i?65535&c.charCodeAt(i++):0;case 1:o^=n>i?(65535&c.charCodeAt(i++))<<8:0;case 2:o^=n>i?(65535&c.charCodeAt(i++))<<16:0;case 3:o^=n>i?(255&c.charCodeAt(i))<<24:0,o^=n>i?(65280&c.charCodeAt(i++))>>8:0}if(this.rem=n+this.rem&3,(n-=this.rem)>0){for(a=this.h1;a=5*(a=(a^=o=13715*(o=(o=11601*o+3432906752*(65535&o)&4294967295)<<15|o>>>17)+461832192*(65535&o)&4294967295)<<13|a>>>19)+3864292196&4294967295,!(i>=n);)o=65535&c.charCodeAt(i++)^(65535&c.charCodeAt(i++))<<8^(65535&c.charCodeAt(i++))<<16,o^=(255&(t=c.charCodeAt(i++)))<<24^(65280&t)>>8;switch(o=0,this.rem){case 3:o^=(65535&c.charCodeAt(i+2))<<16;case 2:o^=(65535&c.charCodeAt(i+1))<<8;case 1:o^=65535&c.charCodeAt(i)}this.h1=a}return this.k1=o,this},s.prototype.result=function(){var c,a;return c=this.k1,a=this.h1,c>0&&(a^=c=13715*(c=(c=11601*c+3432906752*(65535&c)&4294967295)<<15|c>>>17)+461832192*(65535&c)&4294967295),a^=this.len,a=51819*(a^=a>>>16)+2246770688*(65535&a)&4294967295,a=44597*(a^=a>>>13)+3266445312*(65535&a)&4294967295,(a^=a>>>16)>>>0},s.prototype.reset=function(c){return this.h1=typeof c=="number"?c:0,this.rem=this.k1=this.len=0,this},e=new s,g.exports=s})()},24806:(g,e)=>{function s(o){const i=[];let t=0;for(;t<o.length;)switch(o[t]){case"/":if(o[t+1]===".")if(o[t+2]==="."){if(!a(o[t+3])){i.push([]),t++;break}i.pop(),o[t+3]||i.push([]),t+=3}else{if(!a(o[t+2])){i.push([]),t++;break}o[t+2]||i.push([]),t+=2}else i.push([]),t++;break;case"#":case"?":i.length||i.push([]),i[i.length-1].push(o.substr(t)),t=o.length;break;default:i.length||i.push([]),i[i.length-1].push(o[t]),t++}return"/"+i.map(n=>n.join("")).join("/")}function c(o,i){let t=i+1;i>=0?o[i+1]==="/"&&o[i+2]==="/"&&(t=i+3):o[0]==="/"&&o[1]==="/"&&(t=2);const n=o.indexOf("/",t);return n<0?o:o.substr(0,n)+s(o.substr(n))}function a(o){return!o||o==="#"||o==="?"||o==="/"}Object.defineProperty(e,"__esModule",{value:!0}),e.removeDotSegmentsOfPath=e.removeDotSegments=e.resolve=void 0,e.resolve=function(o,i){const t=(i=i||"").indexOf("#");if(t>0&&(i=i.substr(0,t)),!o.length){if(i.indexOf(":")<0)throw new Error(`Found invalid baseIRI '${i}' for value '${o}'`);return i}if(o.startsWith("?")){const f=i.indexOf("?");return f>0&&(i=i.substr(0,f)),i+o}if(o.startsWith("#"))return i+o;if(!i.length){const f=o.indexOf(":");if(f<0)throw new Error(`Found invalid relative IRI '${o}' for a missing baseIRI`);return c(o,f)}const n=o.indexOf(":");if(n>=0)return c(o,n);const r=i.indexOf(":");if(r<0)throw new Error(`Found invalid baseIRI '${i}' for value '${o}'`);const u=i.substr(0,r+1);if(o.indexOf("//")===0)return u+c(o,n);let l;if(i.indexOf("//",r)===r+1){if(l=i.indexOf("/",r+3),l<0)return i.length>r+3?i+"/"+c(o,n):u+c(o,n)}else if(l=i.indexOf("/",r+1),l<0)return u+c(o,n);if(o.indexOf("/")===0)return i.substr(0,l)+s(o);let d=i.substr(l);const p=d.lastIndexOf("/");return p>=0&&p<d.length-1&&(d=d.substr(0,p+1),o[0]==="."&&o[1]!=="."&&o[1]!=="/"&&o[2]&&(o=o.substr(1))),o=s(o=d+o),i.substr(0,l)+o},e.removeDotSegments=s,e.removeDotSegmentsOfPath=c},24910:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerKeywordNest=void 0;const c=s(42395),a=s(1548);class o extends a.EntryHandlerKeyword{constructor(){super("@nest")}async handle(t,n,r,u,l,d){typeof l!="object"&&t.emitError(new c.ErrorCoded(`Found invalid @nest entry for '${r}': '${l}'`,c.ERROR_CODES.INVALID_NEST_VALUE)),"@value"in await n.unaliasKeywords(l,u,d,await t.getContext(u))&&t.emitError(new c.ErrorCoded(`Found an invalid @value node for '${r}'`,c.ERROR_CODES.INVALID_NEST_VALUE)),t.emittedStack[d]=!1}}e.EntryHandlerKeywordNest=o},24960:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryProcessSequential=void 0;const c=s(59478),a=s(90711),o=s(90412),i=s(81926),t=s(67021),n=s(96331);class r extends c.ActorQueryProcess{constructor(l){super(l)}async test(l){return l.context.get(a.KeysInitQuery.explain)??l.context.get(new o.ActionContextKey("explain"))?(0,o.failTest)(`${this.name} is not able to explain queries.`):(0,o.passTestVoid)()}async run(l){let{operation:d,context:p}=await this.parse(l.query,l.context);return{operation:d,context:p}=await this.optimize(d,p),{result:await this.evaluate(d,p)}}async parse(l,d){let p;if(d=(await this.mediatorContextPreprocess.mediate({context:d,initialize:!0})).context,typeof l=="string"){const f=(d=d.set(a.KeysInitQuery.queryString,l)).get(a.KeysInitQuery.baseIRI),h=d.get(a.KeysInitQuery.queryFormat),y=await this.mediatorQueryParse.mediate({context:d,query:l,queryFormat:h,baseIRI:f});p=y.operation,y.baseIRI&&(d=d.set(a.KeysInitQuery.baseIRI,y.baseIRI))}else p=l;if(d.has(a.KeysInitQuery.initialBindings)){const f=d.getSafe(a.KeysInitQuery.dataFactory),h=new n.Factory(f),y=await i.BindingsFactory.create(this.mediatorMergeBindingsContext,d,f);p=(0,t.materializeOperation)(p,d.get(a.KeysInitQuery.initialBindings),h,y,{strictTargetVariables:!0}),d=d.delete(a.KeysInitQuery.queryString)}return{operation:p,context:d}}async optimize(l,d){return d=d.set(a.KeysInitQuery.query,l),{operation:l,context:d}=await this.mediatorOptimizeQueryOperation.mediate({context:d,operation:l}),{operation:l,context:d=d.set(a.KeysInitQuery.query,l)}}async evaluate(l,d){const p=await this.mediatorQueryOperation.mediate({context:d,operation:l});return p.context=d,p}}e.ActorQueryProcessSequential=r},25033:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(92015),e)},25337:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermLang=void 0;const c=s(77617),a=s(77545),o=s(41420);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.SparqlOperator.LANG],termFunction:!0})}async run(n){return new o.TermFunctionLang}}e.ActorFunctionFactoryTermLang=i},25445:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(82e3),e)},25462:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.termToString=e.stringToTerm=e.stringQuadToQuad=e.quadToStringQuad=e.getLiteralValue=e.getLiteralType=e.getLiteralLanguage=void 0;const c=s(34358);Object.defineProperty(e,"getLiteralLanguage",{enumerable:!0,get:function(){return c.getLiteralLanguage}}),Object.defineProperty(e,"getLiteralType",{enumerable:!0,get:function(){return c.getLiteralType}}),Object.defineProperty(e,"getLiteralValue",{enumerable:!0,get:function(){return c.getLiteralValue}}),Object.defineProperty(e,"quadToStringQuad",{enumerable:!0,get:function(){return c.quadToStringQuad}}),Object.defineProperty(e,"stringQuadToQuad",{enumerable:!0,get:function(){return c.stringQuadToQuad}}),Object.defineProperty(e,"stringToTerm",{enumerable:!0,get:function(){return c.stringToTerm}}),Object.defineProperty(e,"termToString",{enumerable:!0,get:function(){return c.termToString}})},25538:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorOptimizeQueryOperationConstructDistinct=void 0;const c=s(38912),a=s(19039),o=s(90412),i=s(96331);class t extends c.ActorOptimizeQueryOperation{constructor(r){super(r)}async test(r){return r.context.has(a.KeysInitQuery.distinctConstruct)?(0,o.passTestVoid)():(0,o.failTest)(`${this.name} was not enabled by the query.`)}async run(r){return{operation:i.Util.mapOperation(r.operation,{construct:(u,l)=>({recurse:!1,result:l.createDistinct(l.createConstruct(u.input,u.template))})}),context:r.context.delete(a.KeysInitQuery.distinctConstruct)}}}e.ActorOptimizeQueryOperationConstructDistinct=t},25568:g=>{const{AbortController:e,AbortSignal:s}=typeof self<"u"?self:typeof window<"u"?window:void 0;g.exports=e,g.exports.AbortSignal=s,g.exports.default=e},25579:(g,e,s)=>{const c=s(2044),a=s(4518),o=s(12391),i=s(23111),t=s(32106);g.exports={DynamicNestedLoopJoin:c,HashJoin:a,NestedLoopJoin:o,SymmetricHashJoin:i,MergeStream:t}},25828:(g,e,s)=>{s.r(e),s.d(e,{BaseIRI:()=>M,BlankNode:()=>S,DataFactory:()=>w,DefaultGraph:()=>D,EntityIndex:()=>ke,Lexer:()=>h,Literal:()=>T,NamedNode:()=>A,Parser:()=>q,Quad:()=>K,Reasoner:()=>it,Store:()=>qe,StoreFactory:()=>Te,StreamParser:()=>ht,StreamWriter:()=>vt,Term:()=>O,Triple:()=>K,Util:()=>c,Variable:()=>E,Writer:()=>we,default:()=>at,getRulesFromDataset:()=>Ke,termFromId:()=>I,termToId:()=>V});var c={};s.r(c),s.d(c,{inDefaultGraph:()=>xe,isBlankNode:()=>X,isDefaultGraph:()=>de,isLiteral:()=>oe,isNamedNode:()=>k,isQuad:()=>me,isVariable:()=>ee,prefix:()=>ne,prefixes:()=>be});var a=s(48287);const o="http://www.w3.org/1999/02/22-rdf-syntax-ns#",i="http://www.w3.org/2001/XMLSchema#",t="http://www.w3.org/2000/10/swap/",n={xsd:{decimal:`${i}decimal`,boolean:`${i}boolean`,double:`${i}double`,integer:`${i}integer`,string:`${i}string`},rdf:{type:`${o}type`,nil:`${o}nil`,first:`${o}first`,rest:`${o}rest`,langString:`${o}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${t}reify#forSome`,forAll:`${t}reify#forAll`},log:{implies:`${t}log#implies`,isImpliedBy:`${t}log#isImpliedBy`}},{xsd:r}=n,u=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,l={"\\":"\\","'":"'",'"':'"',n:`
`,r:"\r",t:"	",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},d=/[\x00-\x20<>\\"\{\}\|\^\`]/,p={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},f=/$0^/;class h{constructor(j){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,j=j||{},this._isImpliedBy=j.isImpliedBy,this._lineMode=!!j.lineMode){this._n3Mode=!1;for(const Y in this)!(Y in p)&&this[Y]instanceof RegExp&&(this[Y]=f)}else this._n3Mode=j.n3!==!1;this.comments=!!j.comments,this._literalClosingPos=0}_tokenizeToEnd(j,Y){let J=this._input,pe=J.length;for(;;){let Oe,De;for(;Oe=this._newline.exec(J);)this.comments&&(De=this._comment.exec(Oe[0]))&&Re("comment",De[1],"",this._line,Oe[0].length),J=J.substr(Oe[0].length,J.length),pe=J.length,this._line++;if(!Oe&&(Oe=this._whitespace.exec(J))&&(J=J.substr(Oe[0].length,J.length)),this._endOfFile.test(J))return Y&&(this.comments&&(De=this._comment.exec(J))&&Re("comment",De[1],"",this._line,J.length),J=null,Re("eof","","",this._line,0)),this._input=J;const Ue=this._line,$e=J[0];let Ge="",Je="",Ve="",Ze=null,st=0,ot=!1;switch($e){case"^":if(J.length<3)break;if(J[1]!=="^"){this._n3Mode&&(st=1,Ge="^");break}if(this._previousMarker="^^",J=J.substr(2),J[0]!=="<"){ot=!0;break}case"<":if(Ze=this._unescapedIri.exec(J))Ge="IRI",Je=Ze[1];else if(Ze=this._iri.exec(J)){if(Je=this._unescape(Ze[1]),Je===null||d.test(Je))return Fe(this);Ge="IRI"}else J.length>1&&J[1]==="<"?(Ge="<<",st=2):this._n3Mode&&J.length>1&&J[1]==="="&&(st=2,this._isImpliedBy?(Ge="abbreviation",Je="<"):(Ge="inverse",Je=">"));break;case">":J.length>1&&J[1]===">"&&(Ge=">>",st=2);break;case"_":((Ze=this._blank.exec(J))||Y&&(Ze=this._blank.exec(`${J} `)))&&(Ge="blank",Ve="_",Je=Ze[1]);break;case'"':if(Ze=this._simpleQuotedString.exec(J))Je=Ze[1];else if({value:Je,matchLength:st}=this._parseLiteral(J),Je===null)return Fe(this);Ze===null&&st===0||(Ge="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(Ze=this._simpleApostropheString.exec(J))Je=Ze[1];else if({value:Je,matchLength:st}=this._parseLiteral(J),Je===null)return Fe(this);Ze===null&&st===0||(Ge="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(Ze=this._variable.exec(J))&&(Ge="var",Je=Ze[0]);break;case"@":this._previousMarker==="literal"&&(Ze=this._langcode.exec(J))?(Ge="langcode",Je=Ze[1]):(Ze=this._keyword.exec(J))&&(Ge=Ze[0]);break;case".":if(J.length===1?Y:J[1]<"0"||J[1]>"9"){Ge=".",st=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(Ze=this._number.exec(J)||Y&&(Ze=this._number.exec(`${J} `)))&&(Ge="literal",Je=Ze[0],Ve=typeof Ze[1]=="string"?r.double:typeof Ze[2]=="string"?r.decimal:r.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(Ze=this._sparqlKeyword.exec(J))?Ge=Ze[0].toUpperCase():ot=!0;break;case"f":case"t":(Ze=this._boolean.exec(J))?(Ge="literal",Je=Ze[0],Ve=r.boolean):ot=!0;break;case"a":(Ze=this._shortPredicates.exec(J))?(Ge="abbreviation",Je="a"):ot=!0;break;case"=":this._n3Mode&&J.length>1&&(Ge="abbreviation",J[1]!==">"?(st=1,Je="="):(st=2,Je=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"}":this._lineMode||(st=1,Ge=$e);break;case"{":!this._lineMode&&J.length>=2&&(J[1]==="|"?(Ge="{|",st=2):(Ge=$e,st=1));break;case"|":J.length>=2&&J[1]==="}"&&(Ge="|}",st=2);break;default:ot=!0}if(ot&&(this._previousMarker!=="@prefix"&&this._previousMarker!=="PREFIX"||!(Ze=this._prefix.exec(J))?((Ze=this._prefixed.exec(J))||Y&&(Ze=this._prefixed.exec(`${J} `)))&&(Ge="prefixed",Ve=Ze[1]||"",Je=this._unescape(Ze[2])):(Ge="prefix",Je=Ze[1]||"")),this._previousMarker==="^^")switch(Ge){case"prefixed":Ge="type";break;case"IRI":Ge="typeIRI";break;default:Ge=""}if(!Ge)return Y||!/^'''|^"""/.test(J)&&/\n|\r/.test(J)?Fe(this):this._input=J;const Ye=st||Ze[0].length,Lt=Re(Ge,Je,Ve,Ue,Ye);this.previousToken=Lt,this._previousMarker=Ge,J=J.substr(Ye,J.length)}function Re(Oe,De,Ue,$e,Ge){const Je=J?pe-J.length:pe,Ve={type:Oe,value:De,prefix:Ue,line:$e,start:Je,end:Je+Ge};return j(null,Ve),Ve}function Fe(Oe){j(Oe._syntaxError(/^\S*/.exec(J)[0]))}}_unescape(j){let Y=!1;const J=j.replace(u,(pe,Re,Fe,Oe)=>{if(typeof Re=="string")return String.fromCharCode(Number.parseInt(Re,16));if(typeof Fe=="string"){let De=Number.parseInt(Fe,16);return De<=65535?String.fromCharCode(Number.parseInt(Fe,16)):String.fromCharCode(55296+((De-=65536)>>10),56320+(1023&De))}return Oe in l?l[Oe]:(Y=!0,"")});return Y?null:J}_parseLiteral(j){if(j.length>=3){const Y=j.match(/^(?:"""|"|'''|'|)/)[0],J=Y.length;let pe=Math.max(this._literalClosingPos,J);for(;(pe=j.indexOf(Y,pe))>0;){let Re=0;for(;j[pe-Re-1]==="\\";)Re++;if(Re%2==0){const Fe=j.substring(J,pe),Oe=Fe.split(/\r\n|\r|\n/).length-1,De=pe+J;if(J===1&&Oe!==0||J===3&&this._lineMode)break;return this._line+=Oe,{value:this._unescape(Fe),matchLength:De}}pe++}this._literalClosingPos=j.length-J+1}return{value:"",matchLength:0}}_syntaxError(j){this._input=null;const Y=new Error(`Unexpected "${j}" on line ${this._line}.`);return Y.context={token:void 0,line:this._line,previousToken:this.previousToken},Y}_readStartingBom(j){return j.startsWith("\uFEFF")?j.substr(1):j}tokenize(j,Y){if(this._line=1,typeof j=="string"){if(this._input=this._readStartingBom(j),typeof Y!="function"){const J=[];let pe;if(this._tokenizeToEnd((Re,Fe)=>Re?pe=Re:J.push(Fe),!0),pe)throw pe;return J}queueMicrotask(()=>this._tokenizeToEnd(Y,!0))}else this._pendingBuffer=null,typeof j.setEncoding=="function"&&j.setEncoding("utf8"),j.on("data",J=>{this._input!==null&&J.length!==0&&(this._pendingBuffer&&(J=a.Buffer.concat([this._pendingBuffer,J]),this._pendingBuffer=null),128&J[J.length-1]?this._pendingBuffer=J:(this._input===void 0?this._input=this._readStartingBom(typeof J=="string"?J:J.toString()):this._input+=J,this._tokenizeToEnd(Y,!1)))}),j.on("end",()=>{typeof this._input=="string"&&this._tokenizeToEnd(Y,!0)}),j.on("error",Y)}}const{rdf:y,xsd:m}=n;let b,v=0;const _={namedNode:B,blankNode:$,variable:U,literal:G,defaultGraph:function(){return b},quad:W,triple:W,fromTerm:ye,fromQuad:ve},w=_;class O{constructor(j){this.id=j}get value(){return this.id}equals(j){return j instanceof O?this.id===j.id:!!j&&this.termType===j.termType&&this.value===j.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}}class A extends O{get termType(){return"NamedNode"}}class T extends O{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){const j=this.id;let Y=j.lastIndexOf('"')+1;return Y<j.length&&j[Y++]==="@"?j.substr(Y).toLowerCase():""}get datatype(){return new A(this.datatypeString)}get datatypeString(){const j=this.id,Y=j.lastIndexOf('"')+1,J=Y<j.length?j[Y]:"";return J==="^"?j.substr(Y+2):J!=="@"?m.string:y.langString}equals(j){return j instanceof T?this.id===j.id:!!j&&!!j.datatype&&this.termType===j.termType&&this.value===j.value&&this.language===j.language&&this.datatype.value===j.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}}class S extends O{constructor(j){super(`_:${j}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}}class E extends O{constructor(j){super(`?${j}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}}class D extends O{constructor(){return super(""),b||this}get termType(){return"DefaultGraph"}equals(j){return this===j||!!j&&this.termType===j.termType}}function I(Ne,j,Y){if(j=j||_,!Ne)return j.defaultGraph();switch(Ne[0]){case"?":return j.variable(Ne.substr(1));case"_":return j.blankNode(Ne.substr(2));case'"':if(j===_)return new T(Ne);if(Ne[Ne.length-1]==='"')return j.literal(Ne.substr(1,Ne.length-2));const J=Ne.lastIndexOf('"',Ne.length-1);return j.literal(Ne.substr(1,J-1),Ne[J+1]==="@"?Ne.substr(J+2):j.namedNode(Ne.substr(J+3)));case"[":Ne=JSON.parse(Ne);break;default:if(!Y||!Array.isArray(Ne))return j.namedNode(Ne)}return j.quad(I(Ne[0],j,!0),I(Ne[1],j,!0),I(Ne[2],j,!0),Ne[3]&&I(Ne[3],j,!0))}function V(Ne,j){if(typeof Ne=="string")return Ne;if(Ne instanceof O&&Ne.termType!=="Quad")return Ne.id;if(!Ne)return b.id;switch(Ne.termType){case"NamedNode":return Ne.value;case"BlankNode":return`_:${Ne.value}`;case"Variable":return`?${Ne.value}`;case"DefaultGraph":return"";case"Literal":return`"${Ne.value}"${Ne.language?`@${Ne.language}`:Ne.datatype&&Ne.datatype.value!==m.string?`^^${Ne.datatype.value}`:""}`;case"Quad":const Y=[V(Ne.subject,!0),V(Ne.predicate,!0),V(Ne.object,!0)];return Ne.graph&&Ne.graph.termType!=="DefaultGraph"&&Y.push(V(Ne.graph,!0)),j?Y:JSON.stringify(Y);default:throw new Error(`Unexpected termType: ${Ne.termType}`)}}b=new D;class K extends O{constructor(j,Y,J,pe){super(""),this._subject=j,this._predicate=Y,this._object=J,this._graph=pe||b}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(j){return!!j&&this._subject.equals(j.subject)&&this._predicate.equals(j.predicate)&&this._object.equals(j.object)&&this._graph.equals(j.graph)}}function B(Ne){return new A(Ne)}function $(Ne){return new S(Ne||"n3-"+v++)}function G(Ne,j){if(typeof j=="string")return new T(`"${Ne}"@${j.toLowerCase()}`);let Y=j?j.value:"";return Y===""&&(typeof Ne=="boolean"?Y=m.boolean:typeof Ne=="number"&&(Number.isFinite(Ne)?Y=Number.isInteger(Ne)?m.integer:m.double:(Y=m.double,Number.isNaN(Ne)||(Ne=Ne>0?"INF":"-INF")))),Y===""||Y===m.string?new T(`"${Ne}"`):new T(`"${Ne}"^^${Y}`)}function U(Ne){return new E(Ne)}function W(Ne,j,Y,J){return new K(Ne,j,Y,J)}function ye(Ne){if(Ne instanceof O)return Ne;switch(Ne.termType){case"NamedNode":return B(Ne.value);case"BlankNode":return $(Ne.value);case"Variable":return U(Ne.value);case"DefaultGraph":return b;case"Literal":return G(Ne.value,Ne.language||Ne.datatype);case"Quad":return ve(Ne);default:throw new Error(`Unexpected termType: ${Ne.termType}`)}}function ve(Ne){if(Ne instanceof K)return Ne;if(Ne.termType!=="Quad")throw new Error(`Unexpected termType: ${Ne.termType}`);return W(ye(Ne.subject),ye(Ne.predicate),ye(Ne.object),ye(Ne.graph))}let he=0;class q{constructor(j){this._contextStack=[],this._graph=null,j=j||{},this._setBase(j.baseIRI),j.factory&&R(this,j.factory);const Y=typeof j.format=="string"?j.format.match(/\w*$/)[0].toLowerCase():"",J=/turtle/.test(Y),pe=/trig/.test(Y),Re=/triple/.test(Y),Fe=/quad/.test(Y),Oe=this._n3Mode=/n3/.test(Y),De=Re||Fe;(this._supportsNamedGraphs=!(J||Oe))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(J||pe||Re||Oe),this._isImpliedBy=j.isImpliedBy,this._supportsRDFStar=Y===""||/star|\*$/.test(Y),De&&(this._resolveRelativeIRI=Ue=>null),this._blankNodePrefix=typeof j.blankNodePrefix!="string"?"":j.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=j.lexer||new h({lineMode:De,n3:Oe,isImpliedBy:this._isImpliedBy}),this._explicitQuantifiers=!!j.explicitQuantifiers}static _resetBlankNodePrefix(){he=0}_setBase(j){if(j){const Y=j.indexOf("#");Y>=0&&(j=j.substr(0,Y)),this._base=j,this._basePath=j.indexOf("/")<0?j:j.replace(/[^\/?]*(?:\?.*)?$/,""),j=j.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=j[0],this._baseScheme=j[1]}else this._base="",this._basePath=""}_saveContext(j,Y,J,pe,Re){const Fe=this._n3Mode;this._contextStack.push({type:j,subject:J,predicate:pe,object:Re,graph:Y,inverse:!!Fe&&this._inversePredicate,blankPrefix:Fe?this._prefixes._:"",quantified:Fe?this._quantified:null}),Fe&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.value}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(j,Y){const J=this._contextStack.pop();if(!J||J.type!==j)return this._error(`Unexpected ${Y.type}`,Y);this._subject=J.subject,this._predicate=J.predicate,this._object=J.object,this._graph=J.graph,this._n3Mode&&(this._inversePredicate=J.inverse,this._prefixes._=J.blankPrefix,this._quantified=J.quantified)}_readInTopContext(j){switch(j.type){case"eof":return this._graph!==null?this._error("Unclosed graph",j):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(j)}}_readEntity(j,Y){let J;switch(j.type){case"IRI":case"typeIRI":const pe=this._resolveIRI(j.value);if(pe===null)return this._error("Invalid IRI",j);J=this._factory.namedNode(pe);break;case"type":case"prefixed":const Re=this._prefixes[j.prefix];if(Re===void 0)return this._error(`Undefined prefix "${j.prefix}:"`,j);J=this._factory.namedNode(Re+j.value);break;case"blank":J=this._factory.blankNode(this._prefixes[j.prefix]+j.value);break;case"var":J=this._factory.variable(j.value.substr(1));break;default:return this._error(`Expected entity but got ${j.type}`,j)}return!Y&&this._n3Mode&&J.id in this._quantified&&(J=this._quantified[J.id]),J}_readSubject(j){switch(this._predicate=null,j.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._factory.blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._factory.blankNode(),null,null),this._readSubject):this._error("Unexpected graph",j);case"}":return this._readPunctuation(j);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier="blankNode",this._readQuantifierList):this._error('Unexpected "@forSome"',j);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier="variable",this._readQuantifierList):this._error('Unexpected "@forAll"',j);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",j);if(j.prefix.length===0)return this._literalValue=j.value,this._completeSubjectLiteral;this._subject=this._factory.literal(j.value,this._factory.namedNode(j.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",j);default:if((this._subject=this._readEntity(j))===void 0)return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(j){const Y=j.type;switch(Y){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[j.value];break;case".":case"]":case"}":return this._predicate===null?this._error(`Unexpected ${Y}`,j):(this._subject=null,Y==="]"?this._readBlankNodeTail(j):this._readPunctuation(j));case";":return this._predicate!==null?this._readPredicate:this._error("Expected predicate but got ;",j);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._factory.blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",j);default:if((this._predicate=this._readEntity(j))===void 0)return}return this._readObject}_readObject(j){switch(j.type){case"literal":if(j.prefix.length===0)return this._literalValue=j.value,this._readDataTypeOrLang;this._object=this._factory.literal(j.value,this._factory.namedNode(j.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._factory.blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._factory.blankNode()),this._readSubject):this._error("Unexpected graph",j);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",j);default:if((this._object=this._readEntity(j))===void 0)return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(j){return j.type==="{"?this._readGraph(j):this._readPredicate(j)}_readGraph(j){return j.type!=="{"?this._error(`Expected graph but got ${j.type}`,j):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(j){return j.type==="]"?(this._subject=null,this._readBlankNodeTail(j)):(this._predicate=null,this._readPredicate(j))}_readBlankNodeTail(j){if(j.type!=="]")return this._readBlankNodePunctuation(j);this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph);const Y=this._predicate===null;return this._restoreContext("blank",j),this._object!==null?this._getContextEndReader():this._predicate!==null?this._readObject:Y?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(j){switch(j.type){case".":case"}":return this._subject=null,this._readPunctuation(j);default:return this._readPredicate(j)}}_readListItem(j){let Y=null,J=null,pe=this._readListItem;const Re=this._subject,Fe=this._contextStack,Oe=Fe[Fe.length-1];switch(j.type){case"[":this._saveContext("blank",this._graph,J=this._factory.blankNode(),this.RDF_FIRST,this._subject=Y=this._factory.blankNode()),pe=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,J=this._factory.blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext("list",j),Fe.length!==0&&Fe[Fe.length-1].type==="list"&&this._emit(this._subject,this._predicate,this._object,this._graph),this._predicate===null){if(pe=this._readPredicate,this._subject===this.RDF_NIL)return pe}else if(pe=this._getContextEndReader(),this._object===this.RDF_NIL)return pe;J=this.RDF_NIL;break;case"literal":j.prefix.length===0?(this._literalValue=j.value,pe=this._readListItemDataTypeOrLang):(Y=this._factory.literal(j.value,this._factory.namedNode(j.prefix)),pe=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._factory.blankNode()),this._readSubject):this._error("Unexpected graph",j);default:if((Y=this._readEntity(j))===void 0)return}if(J===null&&(this._subject=J=this._factory.blankNode()),Re===null?Oe.predicate===null?Oe.subject=J:Oe.object=J:this._emit(Re,this.RDF_REST,J,this._graph),Y!==null){if(this._n3Mode&&(j.type==="IRI"||j.type==="prefixed"))return this._saveContext("item",this._graph,J,this.RDF_FIRST,Y),this._subject=Y,this._predicate=null,this._getPathReader(this._readListItem);this._emit(J,this.RDF_FIRST,Y,this._graph)}return pe}_readDataTypeOrLang(j){return this._completeObjectLiteral(j,!1)}_readListItemDataTypeOrLang(j){return this._completeObjectLiteral(j,!0)}_completeLiteral(j){let Y=this._factory.literal(this._literalValue);switch(j.type){case"type":case"typeIRI":const J=this._readEntity(j);if(J===void 0)return;Y=this._factory.literal(this._literalValue,J),j=null;break;case"langcode":Y=this._factory.literal(this._literalValue,j.value),j=null}return{token:j,literal:Y}}_completeSubjectLiteral(j){return this._subject=this._completeLiteral(j).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(j,Y){const J=this._completeLiteral(j);if(J)return this._object=J.literal,Y&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),J.token===null?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(J.token))}_readFormulaTail(j){return j.type!=="}"?this._readPunctuation(j):(this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext("formula",j),this._object===null?this._readPredicate:this._getContextEndReader())}_readPunctuation(j){let Y,J=this._graph;const pe=this._subject,Re=this._inversePredicate;switch(j.type){case"}":if(this._graph===null)return this._error("Unexpected graph closing",j);if(this._n3Mode)return this._readFormulaTail(j);this._graph=null;case".":this._subject=null,Y=this._contextStack.length?this._readSubject:this._readInTopContext,Re&&(this._inversePredicate=!1);break;case";":Y=this._readPredicate;break;case",":Y=this._readObject;break;case"{|":if(!this._supportsRDFStar)return this._error("Unexpected RDF-star syntax",j);const Fe=this._predicate,Oe=this._object;this._subject=this._factory.quad(pe,Fe,Oe,this.DEFAULTGRAPH),Y=this._readPredicate;break;case"|}":if(this._subject.termType!=="Quad")return this._error("Unexpected asserted triple closing",j);this._subject=null,Y=this._readPunctuation;break;default:if(this._supportsQuads&&this._graph===null&&(J=this._readEntity(j))!==void 0){Y=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,j)}if(pe!==null){const Fe=this._predicate,Oe=this._object;Re?this._emit(Oe,Fe,pe,J):this._emit(pe,Fe,Oe,J)}return Y}_readBlankNodePunctuation(j){let Y;switch(j.type){case";":Y=this._readPredicate;break;case",":Y=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,j)}return this._emit(this._subject,this._predicate,this._object,this._graph),Y}_readQuadPunctuation(j){return j.type!=="."?this._error("Expected dot to follow quad",j):this._readInTopContext}_readPrefix(j){return j.type!=="prefix"?this._error("Expected prefix to follow @prefix",j):(this._prefix=j.value,this._readPrefixIRI)}_readPrefixIRI(j){if(j.type!=="IRI")return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,j);const Y=this._readEntity(j);return this._prefixes[this._prefix]=Y.value,this._prefixCallback(this._prefix,Y),this._readDeclarationPunctuation}_readBaseIRI(j){const Y=j.type==="IRI"&&this._resolveIRI(j.value);return Y?(this._setBase(Y),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",j)}_readNamedGraphLabel(j){switch(j.type){case"IRI":case"blank":case"prefixed":return this._readSubject(j),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",j)}}_readNamedGraphBlankLabel(j){return j.type!=="]"?this._error("Invalid graph label",j):(this._subject=this._factory.blankNode(),this._readGraph)}_readDeclarationPunctuation(j){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(j)):j.type!=="."?this._error("Expected declaration to end with a dot",j):this._readInTopContext}_readQuantifierList(j){let Y;switch(j.type){case"IRI":case"prefixed":if((Y=this._readEntity(j,!0))!==void 0)break;default:return this._error(`Unexpected ${j.type}`,j)}return this._explicitQuantifiers?(this._subject===null?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._factory.blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._factory.blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,Y,this.QUANTIFIERS_GRAPH)):this._quantified[Y.id]=this._factory[this._quantifier](this._factory.blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(j){return j.type===","?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(j))}_getPathReader(j){return this._afterPath=j,this._readPath}_readPath(j){switch(j.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:const Y=this._contextStack,J=Y.length&&Y[Y.length-1];if(J&&J.type==="item"){const pe=this._subject;this._restoreContext("item",j),this._emit(this._subject,this.RDF_FIRST,pe,this._graph)}return this._afterPath(j)}}_readForwardPath(j){let Y,J;const pe=this._factory.blankNode();if((J=this._readEntity(j))!==void 0)return this._predicate===null?(Y=this._subject,this._subject=pe):(Y=this._object,this._object=pe),this._emit(Y,J,pe,this._graph),this._readPath}_readBackwardPath(j){const Y=this._factory.blankNode();let J,pe;if((J=this._readEntity(j))!==void 0)return this._predicate===null?(pe=this._subject,this._subject=Y):(pe=this._object,this._object=Y),this._emit(Y,J,pe,this._graph),this._readPath}_readRDFStarTailOrGraph(j){return j.type!==">>"?this._supportsQuads&&this._graph===null&&(this._graph=this._readEntity(j))!==void 0?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,j):this._readRDFStarTail(j)}_readRDFStarTail(j){if(j.type!==">>")return this._error(`Expected >> but got ${j.type}`,j);const Y=this._factory.quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext("<<",j),this._subject===null?(this._subject=Y,this._readPredicate):(this._object=Y,this._getContextEndReader())}_getContextEndReader(){const j=this._contextStack;if(!j.length)return this._readPunctuation;switch(j[j.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(j,Y,J,pe){this._callback(null,this._factory.quad(j,Y,J,pe||this.DEFAULTGRAPH))}_error(j,Y){const J=new Error(`${j} on line ${Y.line}.`);J.context={token:Y,line:Y.line,previousToken:this._lexer.previousToken},this._callback(J),this._callback=L}_resolveIRI(j){return/^[a-z][a-z0-9+.-]*:/i.test(j)?j:this._resolveRelativeIRI(j)}_resolveRelativeIRI(j){if(!j.length)return this._base;switch(j[0]){case"#":return this._base+j;case"?":return this._base.replace(/(?:\?.*)?$/,j);case"/":return(j[1]==="/"?this._baseScheme:this._baseRoot)+this._removeDotSegments(j);default:return/^[^/:]*:/.test(j)?null:this._removeDotSegments(this._basePath+j)}}_removeDotSegments(j){if(!/(^|\/)\.\.?($|[/#?])/.test(j))return j;const Y=j.length;let J="",pe=-1,Re=-1,Fe=0,Oe="/";for(;pe<Y;){switch(Oe){case":":if(Re<0&&j[++pe]==="/"&&j[++pe]==="/")for(;(Re=pe+1)<Y&&j[Re]!=="/";)pe=Re;break;case"?":case"#":pe=Y;break;case"/":if(j[pe+1]===".")switch(Oe=j[1+ ++pe],Oe){case"/":J+=j.substring(Fe,pe-1),Fe=pe+1;break;case void 0:case"?":case"#":return J+j.substring(Fe,pe)+j.substr(pe+1);case".":if(Oe=j[1+ ++pe],Oe===void 0||Oe==="/"||Oe==="?"||Oe==="#"){if(J+=j.substring(Fe,pe-2),(Fe=J.lastIndexOf("/"))>=Re&&(J=J.substr(0,Fe)),Oe!=="/")return`${J}/${j.substr(pe+1)}`;Fe=pe+1}}}Oe=j[++pe]}return J+j.substring(Fe)}parse(j,Y,J){let pe,Re,Fe;if(Y&&(Y.onQuad||Y.onPrefix||Y.onComment)?(pe=Y.onQuad,Re=Y.onPrefix,Fe=Y.onComment):(pe=Y,Re=J),this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${he++}_`,this._prefixCallback=Re||L,this._inversePredicate=!1,this._quantified=Object.create(null),!pe){const De=[];let Ue;if(this._callback=($e,Ge)=>{$e?Ue=$e:Ge&&De.push(Ge)},this._lexer.tokenize(j).every($e=>this._readCallback=this._readCallback($e)),Ue)throw Ue;return De}let Oe=(De,Ue)=>{De!==null?(this._callback(De),this._callback=L):this._readCallback&&(this._readCallback=this._readCallback(Ue))};Fe&&(this._lexer.comments=!0,Oe=(De,Ue)=>{De!==null?(this._callback(De),this._callback=L):this._readCallback&&(Ue.type==="comment"?Fe(Ue.value):this._readCallback=this._readCallback(Ue))}),this._callback=pe,this._lexer.tokenize(j,Oe)}}function L(){}function R(Ne,j){Ne._factory=j,Ne.DEFAULTGRAPH=j.defaultGraph(),Ne.RDF_FIRST=j.namedNode(n.rdf.first),Ne.RDF_REST=j.namedNode(n.rdf.rest),Ne.RDF_NIL=j.namedNode(n.rdf.nil),Ne.N3_FORALL=j.namedNode(n.r.forAll),Ne.N3_FORSOME=j.namedNode(n.r.forSome),Ne.ABBREVIATIONS={a:j.namedNode(n.rdf.type),"=":j.namedNode(n.owl.sameAs),">":j.namedNode(n.log.implies),"<":j.namedNode(n.log.isImpliedBy)},Ne.QUANTIFIERS_GRAPH=j.namedNode("urn:n3:quantifiers")}function k(Ne){return!!Ne&&Ne.termType==="NamedNode"}function X(Ne){return!!Ne&&Ne.termType==="BlankNode"}function oe(Ne){return!!Ne&&Ne.termType==="Literal"}function ee(Ne){return!!Ne&&Ne.termType==="Variable"}function me(Ne){return!!Ne&&Ne.termType==="Quad"}function de(Ne){return!!Ne&&Ne.termType==="DefaultGraph"}function xe(Ne){return de(Ne.graph)}function ne(Ne,j){return be({"":Ne.value||Ne},j)("")}function be(Ne,j){const Y=Object.create(null);for(const pe in Ne)J(pe,Ne[pe]);function J(pe,Re){if(typeof Re=="string"){const Fe=Object.create(null);Y[pe]=Oe=>Fe[Oe]||(Fe[Oe]=j.namedNode(Re+Oe))}else if(!(pe in Y))throw new Error(`Unknown prefix: ${pe}`);return Y[pe]}return j=j||w,J}function ie(Ne){return Ne.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&")}R(q.prototype,w);const ge=/^:?[^:?#]*(?:[?#]|$)|^file:|^[^:]*:\/*[^?#]+?\/(?:\.\.?(?:\/|$)|\/)/i,Ee=/^(?:(?:[^/?#]{3,}|\.?[^/?#.]\.?)(?:\/[^/?#]{3,}|\.?[^/?#.]\.?)*\/?)?(?:[?#]|$)/;class M{constructor(j){this.base=j,this._baseLength=0,this._baseMatcher=null,this._pathReplacements=new Array(j.length+1)}static supports(j){return!ge.test(j)}_getBaseMatcher(){if(this._baseMatcher)return this._baseMatcher;if(!M.supports(this.base))return this._baseMatcher=/.^/;const j=/^[^:]*:\/*/.exec(this.base)[0],Y=["^",ie(j)],J=[],pe=[],Re=/[^/?#]*([/?#])/y;let Fe,Oe=0,De=0,Ue=Re.lastIndex=j.length;for(;!Oe&&!De&&(Fe=Re.exec(this.base));)Fe[1]==="#"?De=Re.lastIndex-1:(Y.push(ie(Fe[0]),"(?:"),J.push(")?"),Fe[1]!=="?"?pe.push(Ue=Re.lastIndex):(Oe=Ue=Re.lastIndex,De=this.base.indexOf("#",Oe),this._pathReplacements[Oe]="?"));for(let $e=0;$e<pe.length;$e++)this._pathReplacements[pe[$e]]="../".repeat(pe.length-$e-1);return this._pathReplacements[pe[pe.length-1]]="./",this._baseLength=De>0?De:this.base.length,Y.push(ie(this.base.substring(Ue,this._baseLength)),Oe?"(?:#|$)":"(?:[?#]|$)"),this._baseMatcher=new RegExp([...Y,...J].join(""))}toRelative(j){const Y=this._getBaseMatcher().exec(j);if(!Y)return j;const J=Y[0].length;if(J===this._baseLength&&J===j.length)return"";const pe=this._pathReplacements[J];if(pe){const Re=j.substring(J);return pe==="?"||Ee.test(Re)?pe==="./"&&/^[^?#]/.test(Re)?Re:pe+Re:j}return j.substring(J-1)}}const P=w.defaultGraph(),{rdf:C,xsd:z}=n,te=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,re=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,le={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};class _e extends O{equals(j){return j===this}}class we{constructor(j,Y){if(this._prefixRegex=/$0^/,j&&typeof j.write!="function"&&(Y=j,j=null),Y=Y||{},this._lists=Y.lists,j)this._outputStream=j,this._endStream=Y.end===void 0||!!Y.end;else{let J="";this._outputStream={write(pe,Re,Fe){J+=pe,Fe&&Fe()},end:pe=>{pe&&pe(null,J)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(Y.format)?(this._lineMode=!0,this._writeQuad=this._writeQuadLine):(this._lineMode=!1,this._graph=P,this._prefixIRIs=Object.create(null),Y.prefixes&&this.addPrefixes(Y.prefixes),Y.baseIRI&&(this._baseIri=new M(Y.baseIRI)))}get _inDefaultGraph(){return P.equals(this._graph)}_write(j,Y){this._outputStream.write(j,"utf8",Y)}_writeQuad(j,Y,J,pe,Re){try{pe.equals(this._graph)||(this._write((this._subject===null?"":this._inDefaultGraph?`.
`:`
}
`)+(P.equals(pe)?"":`${this._encodeIriOrBlank(pe)} {
`)),this._graph=pe,this._subject=null),j.equals(this._subject)?Y.equals(this._predicate)?this._write(`, ${this._encodeObject(J)}`,Re):this._write(`;
    ${this._encodePredicate(this._predicate=Y)} ${this._encodeObject(J)}`,Re):this._write(`${(this._subject===null?"":`.
`)+this._encodeSubject(this._subject=j)} ${this._encodePredicate(this._predicate=Y)} ${this._encodeObject(J)}`,Re)}catch(Fe){Re&&Re(Fe)}}_writeQuadLine(j,Y,J,pe,Re){delete this._prefixMatch,this._write(this.quadToString(j,Y,J,pe),Re)}quadToString(j,Y,J,pe){return`${this._encodeSubject(j)} ${this._encodeIriOrBlank(Y)} ${this._encodeObject(J)}${pe&&pe.value?` ${this._encodeIriOrBlank(pe)} .
`:` .
`}`}quadsToString(j){let Y="";for(const J of j)Y+=this.quadToString(J.subject,J.predicate,J.object,J.graph);return Y}_encodeSubject(j){return j.termType==="Quad"?this._encodeQuad(j):this._encodeIriOrBlank(j)}_encodeIriOrBlank(j){if(j.termType!=="NamedNode")return this._lists&&j.value in this._lists&&(j=this.list(this._lists[j.value])),"id"in j?j.id:`_:${j.value}`;let Y=j.value;this._baseIri&&(Y=this._baseIri.toRelative(Y)),te.test(Y)&&(Y=Y.replace(re,Se));const J=this._prefixRegex.exec(Y);return J?J[1]?this._prefixIRIs[J[1]]+J[2]:Y:`<${Y}>`}_encodeLiteral(j){let Y=j.value;if(te.test(Y)&&(Y=Y.replace(re,Se)),j.language)return`"${Y}"@${j.language}`;if(this._lineMode){if(j.datatype.value===z.string)return`"${Y}"`}else switch(j.datatype.value){case z.string:return`"${Y}"`;case z.boolean:if(Y==="true"||Y==="false")return Y;break;case z.integer:if(/^[+-]?\d+$/.test(Y))return Y;break;case z.decimal:if(/^[+-]?\d*\.\d+$/.test(Y))return Y;break;case z.double:if(/^[+-]?(?:\d+\.\d*|\.?\d+)[eE][+-]?\d+$/.test(Y))return Y}return`"${Y}"^^${this._encodeIriOrBlank(j.datatype)}`}_encodePredicate(j){return j.value===C.type?"a":this._encodeIriOrBlank(j)}_encodeObject(j){switch(j.termType){case"Quad":return this._encodeQuad(j);case"Literal":return this._encodeLiteral(j);default:return this._encodeIriOrBlank(j)}}_encodeQuad({subject:j,predicate:Y,object:J,graph:pe}){return`<<${this._encodeSubject(j)} ${this._encodePredicate(Y)} ${this._encodeObject(J)}${de(pe)?"":` ${this._encodeIriOrBlank(pe)}`}>>`}_blockedWrite(){throw new Error("Cannot write because the writer has been closed.")}addQuad(j,Y,J,pe,Re){J===void 0?this._writeQuad(j.subject,j.predicate,j.object,j.graph,Y):typeof pe=="function"?this._writeQuad(j,Y,J,P,pe):this._writeQuad(j,Y,J,pe||P,Re)}addQuads(j){for(let Y=0;Y<j.length;Y++)this.addQuad(j[Y])}addPrefix(j,Y,J){const pe={};pe[j]=Y,this.addPrefixes(pe,J)}addPrefixes(j,Y){if(!this._prefixIRIs)return Y&&Y();let J=!1;for(let pe in j){let Re=j[pe];typeof Re!="string"&&(Re=Re.value),J=!0,this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null,this._graph=""),this._prefixIRIs[Re]=pe+=":",this._write(`@prefix ${pe} <${Re}>.
`)}if(J){let pe="",Re="";for(const Fe in this._prefixIRIs)pe+=pe?`|${Fe}`:Fe,Re+=(Re?"|":"")+this._prefixIRIs[Fe];pe=ie(pe),this._prefixRegex=new RegExp(`^(?:${Re})[^/]*$|^(${pe})([_a-zA-Z0-9][\\-_a-zA-Z0-9]*)$`)}this._write(J?`
`:"",Y)}blank(j,Y){let J,pe,Re=j;switch(j===void 0?Re=[]:j.termType?Re=[{predicate:j,object:Y}]:"length"in j||(Re=[j]),pe=Re.length){case 0:return new _e("[]");case 1:if(J=Re[0],!(J.object instanceof _e))return new _e(`[ ${this._encodePredicate(J.predicate)} ${this._encodeObject(J.object)} ]`);default:let Fe="[";for(let Oe=0;Oe<pe;Oe++)J=Re[Oe],J.predicate.equals(j)?Fe+=`, ${this._encodeObject(J.object)}`:(Fe+=`${(Oe?`;
  `:`
  `)+this._encodePredicate(J.predicate)} ${this._encodeObject(J.object)}`,j=J.predicate);return new _e(`${Fe}
]`)}}list(j){const Y=j&&j.length||0,J=new Array(Y);for(let pe=0;pe<Y;pe++)J[pe]=this._encodeObject(j[pe]);return new _e(`(${J.join(" ")})`)}end(j){this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null),this._write=this._blockedWrite;let Y=j&&((J,pe)=>{Y=null,j(J,pe)});if(this._endStream)try{return this._outputStream.end(Y)}catch{}Y&&Y()}}function Se(Ne){let j=le[Ne];return j===void 0&&(Ne.length===1?(j=Ne.charCodeAt(0).toString(16),j="\\u0000".substr(0,6-j.length)+j):(j=(1024*(Ne.charCodeAt(0)-55296)+Ne.charCodeAt(1)+9216).toString(16),j="\\U00000000".substr(0,10-j.length)+j)),j}var Pe=s(19198);const je=Symbol("iter");function ae(Ne,j,Y=4){if(Y===0)return Object.assign(Ne,j);for(const J in j)Ne[J]=ae(Ne[J]||Object.create(null),j[J],Y-1);return Ne}function ce(Ne,j,Y=4){let J=!1;for(const pe in Ne)if(pe in j){const Re=Y===0?null:ce(Ne[pe],j[pe],Y-1);if(Re!==!1)J=J||Object.create(null),J[pe]=Re;else if(Y===3)return!1}return J}function Le(Ne,j,Y=4){let J=!1;for(const pe in Ne)if(pe in j){if(Y!==0){const Re=Le(Ne[pe],j[pe],Y-1);if(Re!==!1)J=J||Object.create(null),J[pe]=Re;else if(Y===3)return!1}}else J=J||Object.create(null),J[pe]=Y===0?null:ae({},Ne[pe],Y-1);return J}class ke{constructor(j={}){this._id=1,this._ids=Object.create(null),this._ids[""]=1,this._entities=Object.create(null),this._entities[1]="",this._blankNodeIndex=0,this._factory=j.factory||w}_termFromId(j){if(j[0]==="."){const Y=this._entities,J=j.split(".");return this._factory.quad(this._termFromId(Y[J[1]]),this._termFromId(Y[J[2]]),this._termFromId(Y[J[3]]),J[4]&&this._termFromId(Y[J[4]]))}return I(j,this._factory)}_termToNumericId(j){if(j.termType==="Quad"){const Y=this._termToNumericId(j.subject),J=this._termToNumericId(j.predicate),pe=this._termToNumericId(j.object);let Re;return Y&&J&&pe&&(de(j.graph)||(Re=this._termToNumericId(j.graph)))&&this._ids[Re?`.${Y}.${J}.${pe}.${Re}`:`.${Y}.${J}.${pe}`]}return this._ids[V(j)]}_termToNewNumericId(j){const Y=j&&j.termType==="Quad"?`.${this._termToNewNumericId(j.subject)}.${this._termToNewNumericId(j.predicate)}.${this._termToNewNumericId(j.object)}${de(j.graph)?"":`.${this._termToNewNumericId(j.graph)}`}`:V(j);return this._ids[Y]||(this._ids[this._entities[++this._id]=Y]=this._id)}createBlankNode(j){let Y,J;if(j)for(Y=j=`_:${j}`,J=1;this._ids[Y];)Y=j+J++;else do Y="_:b"+this._blankNodeIndex++;while(this._ids[Y]);return this._ids[Y]=++this._id,this._entities[this._id]=Y,this._factory.blankNode(Y.substr(2))}}class qe{constructor(j,Y){this._size=0,this._graphs=Object.create(null),Y||!j||j[0]||typeof j.match=="function"||(Y=j,j=null),Y=Y||{},this._factory=Y.factory||w,this._entityIndex=Y.entityIndex||new ke({factory:this._factory}),this._entities=this._entityIndex._entities,this._termFromId=this._entityIndex._termFromId.bind(this._entityIndex),this._termToNumericId=this._entityIndex._termToNumericId.bind(this._entityIndex),this._termToNewNumericId=this._entityIndex._termToNewNumericId.bind(this._entityIndex),j&&this.addAll(j)}get size(){let j=this._size;if(j!==null)return j;j=0;const Y=this._graphs;let J,pe;for(const Re in Y)for(const Fe in J=Y[Re].subjects)for(const Oe in pe=J[Fe])j+=Object.keys(pe[Oe]).length;return this._size=j}_addToIndex(j,Y,J,pe){const Re=j[Y]||(j[Y]={}),Fe=Re[J]||(Re[J]={}),Oe=pe in Fe;return Oe||(Fe[pe]=null),!Oe}_removeFromIndex(j,Y,J,pe){const Re=j[Y],Fe=Re[J];delete Fe[pe];for(const Oe in Fe)return;delete Re[J];for(const Oe in Re)return;delete j[Y]}*_findInIndex(j,Y,J,pe,Re,Fe,Oe,De){let Ue,$e,Ge;const Je=this._entities,Ve=this._termFromId(Je[De]),Ze={subject:null,predicate:null,object:null};Y&&((Ue=j,j={})[Y]=Ue[Y]);for(const st in j)if($e=j[st]){Ze[Re]=this._termFromId(Je[st]),J&&((Ue=$e,$e={})[J]=Ue[J]);for(const ot in $e)if(Ge=$e[ot]){Ze[Fe]=this._termFromId(Je[ot]);const Ye=pe?pe in Ge?[pe]:[]:Object.keys(Ge);for(let Lt=0;Lt<Ye.length;Lt++)Ze[Oe]=this._termFromId(Je[Ye[Lt]]),yield this._factory.quad(Ze.subject,Ze.predicate,Ze.object,Ve)}}}_loop(j,Y){for(const J in j)Y(J)}_loopByKey0(j,Y,J){let pe,Re;if(pe=j[Y])for(Re in pe)J(Re)}_loopByKey1(j,Y,J){let pe,Re;for(pe in j)Re=j[pe],Re[Y]&&J(pe)}_loopBy2Keys(j,Y,J,pe){let Re,Fe,Oe;if((Re=j[Y])&&(Fe=Re[J]))for(Oe in Fe)pe(Oe)}_countInIndex(j,Y,J,pe){let Re,Fe,Oe,De=0;Y&&((Re=j,j={})[Y]=Re[Y]);for(const Ue in j)if(Fe=j[Ue]){J&&((Re=Fe,Fe={})[J]=Re[J]);for(const $e in Fe)(Oe=Fe[$e])&&(pe?pe in Oe&&De++:De+=Object.keys(Oe).length)}return De}_getGraphs(j){return typeof(j=j===""?1:j&&(this._termToNumericId(j)||-1))!="number"?this._graphs:{[j]:this._graphs[j]}}_uniqueEntities(j){const Y=Object.create(null);return J=>{J in Y||(Y[J]=!0,j(this._termFromId(this._entities[J],this._factory)))}}add(j){return this.addQuad(j),this}addQuad(j,Y,J,pe){Y||(pe=j.graph,J=j.object,Y=j.predicate,j=j.subject),pe=pe?this._termToNewNumericId(pe):1;let Re=this._graphs[pe];return Re||(Re=this._graphs[pe]={subjects:{},predicates:{},objects:{}},Object.freeze(Re)),j=this._termToNewNumericId(j),Y=this._termToNewNumericId(Y),J=this._termToNewNumericId(J),!!this._addToIndex(Re.subjects,j,Y,J)&&(this._addToIndex(Re.predicates,Y,J,j),this._addToIndex(Re.objects,J,j,Y),this._size=null,!0)}addQuads(j){for(let Y=0;Y<j.length;Y++)this.addQuad(j[Y])}delete(j){return this.removeQuad(j),this}has(j,Y,J,pe){return j&&j.subject&&({subject:j,predicate:Y,object:J,graph:pe}=j),!this.readQuads(j,Y,J,pe).next().done}import(j){return j.on("data",Y=>{this.addQuad(Y)}),j}removeQuad(j,Y,J,pe){Y||({subject:j,predicate:Y,object:J,graph:pe}=j),pe=pe?this._termToNumericId(pe):1;const Re=this._graphs;let Fe,Oe,De;if(!((j=j&&this._termToNumericId(j))&&(Y=Y&&this._termToNumericId(Y))&&(J=J&&this._termToNumericId(J))&&(Fe=Re[pe])&&(Oe=Fe.subjects[j])&&(De=Oe[Y])&&J in De))return!1;for(j in this._removeFromIndex(Fe.subjects,j,Y,J),this._removeFromIndex(Fe.predicates,Y,J,j),this._removeFromIndex(Fe.objects,J,j,Y),this._size!==null&&this._size--,Fe.subjects)return!0;return delete Re[pe],!0}removeQuads(j){for(let Y=0;Y<j.length;Y++)this.removeQuad(j[Y])}remove(j){return j.on("data",Y=>{this.removeQuad(Y)}),j}removeMatches(j,Y,J,pe){const Re=new Pe.Readable({objectMode:!0}),Fe=this.readQuads(j,Y,J,pe);return Re._read=Oe=>{for(;--Oe>=0;){const{done:De,value:Ue}=Fe.next();if(De)return void Re.push(null);Re.push(Ue)}},this.remove(Re)}deleteGraph(j){return this.removeMatches(null,null,null,j)}getQuads(j,Y,J,pe){return[...this.readQuads(j,Y,J,pe)]}*readQuads(j,Y,J,pe){const Re=this._getGraphs(pe);let Fe,Oe,De,Ue;if(!(j&&!(Oe=this._termToNumericId(j))||Y&&!(De=this._termToNumericId(Y))||J&&!(Ue=this._termToNumericId(J))))for(const $e in Re)(Fe=Re[$e])&&(Oe?Ue?yield*this._findInIndex(Fe.objects,Ue,Oe,De,"object","subject","predicate",$e):yield*this._findInIndex(Fe.subjects,Oe,De,null,"subject","predicate","object",$e):De?yield*this._findInIndex(Fe.predicates,De,Ue,null,"predicate","object","subject",$e):Ue?yield*this._findInIndex(Fe.objects,Ue,null,null,"object","subject","predicate",$e):yield*this._findInIndex(Fe.subjects,null,null,null,"subject","predicate","object",$e))}match(j,Y,J,pe){return new Ae(this,j,Y,J,pe,{entityIndex:this._entityIndex})}countQuads(j,Y,J,pe){const Re=this._getGraphs(pe);let Fe,Oe,De,Ue,$e=0;if(j&&!(Oe=this._termToNumericId(j))||Y&&!(De=this._termToNumericId(Y))||J&&!(Ue=this._termToNumericId(J)))return 0;for(const Ge in Re)(Fe=Re[Ge])&&($e+=j?J?this._countInIndex(Fe.objects,Ue,Oe,De):this._countInIndex(Fe.subjects,Oe,De,Ue):Y?this._countInIndex(Fe.predicates,De,Ue,Oe):this._countInIndex(Fe.objects,Ue,Oe,De));return $e}forEach(j,Y,J,pe,Re){this.some(Fe=>(j(Fe,this),!1),Y,J,pe,Re)}every(j,Y,J,pe,Re){return!this.some(Fe=>!j(Fe,this),Y,J,pe,Re)}some(j,Y,J,pe,Re){for(const Fe of this.readQuads(Y,J,pe,Re))if(j(Fe,this))return!0;return!1}getSubjects(j,Y,J){const pe=[];return this.forSubjects(Re=>{pe.push(Re)},j,Y,J),pe}forSubjects(j,Y,J,pe){const Re=this._getGraphs(pe);let Fe,Oe,De;if(j=this._uniqueEntities(j),!(Y&&!(Oe=this._termToNumericId(Y))||J&&!(De=this._termToNumericId(J))))for(pe in Re)(Fe=Re[pe])&&(Oe?De?this._loopBy2Keys(Fe.predicates,Oe,De,j):this._loopByKey1(Fe.subjects,Oe,j):De?this._loopByKey0(Fe.objects,De,j):this._loop(Fe.subjects,j))}getPredicates(j,Y,J){const pe=[];return this.forPredicates(Re=>{pe.push(Re)},j,Y,J),pe}forPredicates(j,Y,J,pe){const Re=this._getGraphs(pe);let Fe,Oe,De;if(j=this._uniqueEntities(j),!(Y&&!(Oe=this._termToNumericId(Y))||J&&!(De=this._termToNumericId(J))))for(pe in Re)(Fe=Re[pe])&&(Oe?De?this._loopBy2Keys(Fe.objects,De,Oe,j):this._loopByKey0(Fe.subjects,Oe,j):De?this._loopByKey1(Fe.predicates,De,j):this._loop(Fe.predicates,j))}getObjects(j,Y,J){const pe=[];return this.forObjects(Re=>{pe.push(Re)},j,Y,J),pe}forObjects(j,Y,J,pe){const Re=this._getGraphs(pe);let Fe,Oe,De;if(j=this._uniqueEntities(j),!(Y&&!(Oe=this._termToNumericId(Y))||J&&!(De=this._termToNumericId(J))))for(pe in Re)(Fe=Re[pe])&&(Oe?De?this._loopBy2Keys(Fe.subjects,Oe,De,j):this._loopByKey1(Fe.objects,Oe,j):De?this._loopByKey0(Fe.predicates,De,j):this._loop(Fe.objects,j))}getGraphs(j,Y,J){const pe=[];return this.forGraphs(Re=>{pe.push(Re)},j,Y,J),pe}forGraphs(j,Y,J,pe){for(const Re in this._graphs)this.some(Fe=>(j(Fe.graph),!0),Y,J,pe,this._termFromId(this._entities[Re]))}createBlankNode(j){return this._entityIndex.createBlankNode(j)}extractLists({remove:j=!1,ignoreErrors:Y=!1}={}){const J={},pe=Y?()=>!0:(Oe,De)=>{throw new Error(`${Oe.value} ${De}`)},Re=this.getQuads(null,n.rdf.rest,n.rdf.nil,null),Fe=j?[...Re]:[];return Re.forEach(Oe=>{const De=[];let Ue,$e,Ge=!1;const Je=Oe.graph;let Ve=Oe.subject;for(;Ve&&!Ge;){const Ze=this.getQuads(null,null,Ve,null),st=this.getQuads(Ve,null,null,null);let ot,Ye=null,Lt=null,dt=null;for(let pt=0;pt<st.length&&!Ge;pt++)ot=st[pt],ot.graph.equals(Je)?Ue?Ge=pe(Ve,"has non-list arcs out"):ot.predicate.value===n.rdf.first?Ye?Ge=pe(Ve,"has multiple rdf:first arcs"):Fe.push(Ye=ot):ot.predicate.value===n.rdf.rest?Lt?Ge=pe(Ve,"has multiple rdf:rest arcs"):Fe.push(Lt=ot):Ze.length?Ge=pe(Ve,"can't be subject and object"):(Ue=ot,$e="subject"):Ge=pe(Ve,"not confined to single graph");for(let pt=0;pt<Ze.length&&!Ge;++pt)ot=Ze[pt],Ue?Ge=pe(Ve,"can't have coreferences"):ot.predicate.value===n.rdf.rest?dt?Ge=pe(Ve,"has incoming rdf:rest arcs"):dt=ot:(Ue=ot,$e="object");Ye?De.unshift(Ye.object):Ge=pe(Ve,"has no list head"),Ve=dt&&dt.subject}Ge?j=!1:Ue&&(J[Ue[$e].value]=De)}),j&&this.removeQuads(Fe),J}addAll(j){if(j instanceof Ae&&(j=j.filtered),Array.isArray(j))this.addQuads(j);else if(j instanceof qe&&j._entityIndex===this._entityIndex)j._size!==0&&(this._graphs=ae(this._graphs,j._graphs),this._size=null);else for(const Y of j)this.add(Y);return this}contains(j){if(j instanceof Ae&&(j=j.filtered),j===this)return!0;if(!(j instanceof qe)||this._entityIndex!==j._entityIndex)return j.every(Ue=>this.has(Ue));const Y=this._graphs,J=j._graphs;let pe,Re,Fe,Oe,De;for(const Ue in J){if(!(pe=Y[Ue]))return!1;pe=pe.subjects;for(const $e in Re=J[Ue].subjects){if(!(Fe=pe[$e]))return!1;for(const Ge in Oe=Re[$e]){if(!(De=Fe[Ge]))return!1;for(const Je in Oe[Ge])if(!(Je in De))return!1}}}return!0}deleteMatches(j,Y,J,pe){for(const Re of this.match(j,Y,J,pe))this.removeQuad(Re);return this}difference(j){if(j&&j instanceof Ae&&(j=j.filtered),j===this)return new qe({entityIndex:this._entityIndex});if(j instanceof qe&&j._entityIndex===this._entityIndex){const Y=new qe({entityIndex:this._entityIndex}),J=Le(this._graphs,j._graphs);return J&&(Y._graphs=J,Y._size=null),Y}return this.filter(Y=>!j.has(Y))}equals(j){return j instanceof Ae&&(j=j.filtered),j===this||this.size===j.size&&this.contains(j)}filter(j){const Y=new qe({entityIndex:this._entityIndex});for(const J of this)j(J,this)&&Y.add(J);return Y}intersection(j){if(j instanceof Ae&&(j=j.filtered),j===this){const Y=new qe({entityIndex:this._entityIndex});return Y._graphs=ae(Object.create(null),this._graphs),Y._size=this._size,Y}if(j instanceof qe&&this._entityIndex===j._entityIndex){const Y=new qe({entityIndex:this._entityIndex}),J=ce(j._graphs,this._graphs);return J&&(Y._graphs=J,Y._size=null),Y}return this.filter(Y=>j.has(Y))}map(j){const Y=new qe({entityIndex:this._entityIndex});for(const J of this)Y.add(j(J,this));return Y}reduce(j,Y){const J=this.readQuads();let pe=Y===void 0?J.next().value:Y;for(const Re of J)pe=j(pe,Re,this);return pe}toArray(){return this.getQuads()}toCanonical(){throw new Error("not implemented")}toStream(){return this.match()}toString(){return new we().quadsToString(this)}union(j){const Y=new qe({entityIndex:this._entityIndex});return Y._graphs=ae(Object.create(null),this._graphs),Y._size=this._size,Y.addAll(j),Y}*[Symbol.iterator](){yield*this.readQuads()}}function He(Ne,j,Y=0){const J=j[Y];if(J&&!(J in Ne))return!1;let pe=!1;for(const Re in J?{[J]:Ne[J]}:Ne){const Fe=Y===2?null:He(Ne[Re],j,Y+1);Fe!==!1&&(pe=pe||Object.create(null),pe[Re]=Fe)}return pe}class Ae extends Pe.Readable{constructor(j,Y,J,pe,Re,Fe){super({objectMode:!0}),Object.assign(this,{n3Store:j,subject:Y,predicate:J,object:pe,graph:Re,options:Fe})}get filtered(){if(!this._filtered){const{n3Store:j,graph:Y,object:J,predicate:pe,subject:Re}=this,Fe=this._filtered=new qe({factory:j._factory,entityIndex:this.options.entityIndex});let Oe,De,Ue;if(Re&&!(Oe=Fe._termToNumericId(Re))||pe&&!(De=Fe._termToNumericId(pe))||J&&!(Ue=Fe._termToNumericId(J)))return Fe;const $e=j._getGraphs(Y);for(const Ge in $e){let Je,Ve,Ze,st;(st=$e[Ge])&&(!Oe&&De?(Ve=He(st.predicates,[De,Ue,Oe]))&&(Je=He(st.subjects,[Oe,De,Ue]),Ze=He(st.objects,[Ue,Oe,De])):Ue?(Ze=He(st.objects,[Ue,Oe,De]))&&(Je=He(st.subjects,[Oe,De,Ue]),Ve=He(st.predicates,[De,Ue,Oe])):(Je=He(st.subjects,[Oe,De,Ue]))&&(Ve=He(st.predicates,[De,Ue,Oe]),Ze=He(st.objects,[Ue,Oe,De])),Je&&(Fe._graphs[Ge]={subjects:Je,predicates:Ve,objects:Ze}))}Fe._size=null}return this._filtered}get size(){return this.filtered.size}_read(j){j>0&&!this[je]&&(this[je]=this[Symbol.iterator]());const Y=this[je];for(;--j>=0;){const{done:J,value:pe}=Y.next();if(J)return void this.push(null);this.push(pe)}}addAll(j){return this.filtered.addAll(j)}contains(j){return this.filtered.contains(j)}deleteMatches(j,Y,J,pe){return this.filtered.deleteMatches(j,Y,J,pe)}difference(j){return this.filtered.difference(j)}equals(j){return this.filtered.equals(j)}every(j,Y,J,pe,Re){return this.filtered.every(j,Y,J,pe,Re)}filter(j){return this.filtered.filter(j)}forEach(j,Y,J,pe,Re){return this.filtered.forEach(j,Y,J,pe,Re)}import(j){return this.filtered.import(j)}intersection(j){return this.filtered.intersection(j)}map(j){return this.filtered.map(j)}some(j,Y,J,pe,Re){return this.filtered.some(j,Y,J,pe,Re)}toCanonical(){return this.filtered.toCanonical()}toStream(){return this._filtered?this._filtered.toStream():this.n3Store.match(this.subject,this.predicate,this.object,this.graph)}union(j){return this._filtered?this._filtered.union(j):this.n3Store.match(this.subject,this.predicate,this.object,this.graph).addAll(j)}toArray(){return this._filtered?this._filtered.toArray():this.n3Store.getQuads(this.subject,this.predicate,this.object,this.graph)}reduce(j,Y){return this.filtered.reduce(j,Y)}toString(){return new we().quadsToString(this)}add(j){return this.filtered.add(j)}delete(j){return this.filtered.delete(j)}has(j){return this.filtered.has(j)}match(j,Y,J,pe){return new Ae(this.filtered,j,Y,J,pe,this.options)}*[Symbol.iterator](){yield*this._filtered||this.n3Store.readQuads(this.subject,this.predicate,this.object,this.graph)}}class Te{dataset(j){return new qe(j)}}function Ke(Ne){const j=[];for(const{subject:Y,object:J}of Ne.match(null,w.namedNode("http://www.w3.org/2000/10/swap/log#implies"),null,w.defaultGraph())){const pe=[...Ne.match(null,null,null,Y)],Re=[...Ne.match(null,null,null,J)];j.push({premise:pe,conclusion:Re})}return j}class it{constructor(j){this._store=j}_add(j,Y,J,pe,Re){this._store._addToIndex(pe.subjects,j,Y,J)&&(this._store._addToIndex(pe.predicates,Y,J,j),this._store._addToIndex(pe.objects,J,j,Y),Re())}_evaluatePremise(j,Y,J,pe=0){let Re,Fe,Oe,De,Ue;const[$e,Ge,Je]=j.premise[pe].value,Ve=Y[j.premise[pe].content],Ze=!(Oe=$e.value);for(Oe in Ze?Ve:{[Oe]:Ve[Oe]})if(De=Ve[Oe]){for(Oe in Ze&&($e.value=Number(Oe)),Re=!(Oe=Ge.value),Re?De:{[Oe]:De[Oe]})if(Ue=De[Oe]){for(Oe in Re&&(Ge.value=Number(Oe)),Fe=!(Oe=Je.value),Fe?Ue:{[Oe]:Ue[Oe]})Fe&&(Je.value=Number(Oe)),pe===j.premise.length-1?j.conclusion.forEach(st=>{this._add(st.subject.value,st.predicate.value,st.object.value,Y,()=>{J(st)})}):this._evaluatePremise(j,Y,J,pe+1);Fe&&(Je.value=null)}Re&&(Ge.value=null)}Ze&&($e.value=null)}_evaluateRules(j,Y,J){for(let pe=0;pe<j.length;pe++)this._evaluatePremise(j[pe],Y,J)}_reasonGraphNaive(j,Y){const J=[];function pe(Oe){Oe.next&&Oe.next.forEach(De=>{J.push([Oe.subject.value,Oe.predicate.value,Oe.object.value,De])})}const Re=Oe=>{Oe.forEach(De=>{this._add(De.subject.value,De.predicate.value,De.object.value,Y,()=>{pe(De)})})};let Fe;for(this._evaluateRules(j,Y,pe);(Fe=J.pop())!==void 0;){const[Oe,De,Ue,$e]=Fe,Ge=$e.basePremise.subject.value;Ge||($e.basePremise.subject.value=Oe);const Je=$e.basePremise.predicate.value;Je||($e.basePremise.predicate.value=De);const Ve=$e.basePremise.object.value;Ve||($e.basePremise.object.value=Ue),$e.premise.length===0?Re($e.conclusion):this._evaluatePremise($e,Y,pe),Ge||($e.basePremise.subject.value=null),Je||($e.basePremise.predicate.value=null),Ve||($e.basePremise.object.value=null)}}_createRule({premise:j,conclusion:Y}){const J={},pe=Fe=>Fe.termType==="Variable"?J[Fe.value]=J[Fe.value]||{}:{value:this._store._termToNewNumericId(Fe)},Re=Fe=>({subject:pe(Fe.subject),predicate:pe(Fe.predicate),object:pe(Fe.object)});return{premise:j.map(Fe=>Re(Fe)),conclusion:Y.map(Fe=>Re(Fe)),variables:Object.values(J)}}reason(j){Array.isArray(j)||(j=Ke(j)),j=j.map(J=>this._createRule(J));for(const J of j)for(const pe of j)for(let Re=0;Re<pe.premise.length;Re++){const Fe=pe.premise[Re];for(const Oe of J.conclusion){if(tt(Fe.subject,Oe.subject)&&tt(Fe.predicate,Oe.predicate)&&tt(Fe.object,Oe.object)){const De=new Set,Ue=[];Fe.subject.value=Fe.subject.value||1,Fe.object.value=Fe.object.value||1,Fe.predicate.value=Fe.predicate.value||1;for(let $e=0;$e<pe.premise.length;$e++)$e!==Re&&Ue.push(ut(pe.premise[$e],De));(Oe.next=Oe.next||[]).push({premise:Ue,conclusion:pe.conclusion,basePremise:Fe})}pe.variables.forEach(De=>{De.value=null})}}for(const J of j){const pe=new Set;J.premise=J.premise.map(Re=>ut(Re,pe))}const Y=this._store._getGraphs();for(const J in Y)this._reasonGraphNaive(j,Y[J]);this._store._size=null}}function ut({subject:Ne,predicate:j,object:Y},J){const pe=Ne.value||J.has(Ne)||(J.add(Ne),!1),Re=j.value||J.has(j)||(J.add(j),!1),Fe=Y.value||J.has(Y)||(J.add(Y),!1);return!pe&&Re?{content:"predicates",value:[j,Y,Ne]}:Fe?{content:"objects",value:[Y,Ne,j]}:{content:"subjects",value:[Ne,j,Y]}}function tt(Ne,j){return Ne.value===null&&(Ne.value=j.value),Ne.value===j.value}class ht extends Pe.Transform{constructor(j){super({decodeStrings:!0}),this._readableState.objectMode=!0;const Y=new q(j);let J,pe;const Re={onQuad:(Fe,Oe)=>{Fe&&this.emit("error",Fe)||Oe&&this.push(Oe)},onPrefix:(Fe,Oe)=>{this.emit("prefix",Fe,Oe)}};j&&j.comments&&(Re.onComment=Fe=>{this.emit("comment",Fe)}),Y.parse({on:(Fe,Oe)=>{switch(Fe){case"data":J=Oe;break;case"end":pe=Oe}}},Re),this._transform=(Fe,Oe,De)=>{J(Fe),De()},this._flush=Fe=>{pe(),Fe()}}import(j){return j.on("data",Y=>{this.write(Y)}),j.on("end",()=>{this.end()}),j.on("error",Y=>{this.emit("error",Y)}),this}}class vt extends Pe.Transform{constructor(j){super({encoding:"utf8",writableObjectMode:!0});const Y=this._writer=new we({write:(J,pe,Re)=>{this.push(J),Re&&Re()},end:J=>{this.push(null),J&&J()}},j);this._transform=(J,pe,Re)=>{Y.addQuad(J,Re)},this._flush=J=>{Y.end(J)}}import(j){return j.on("data",Y=>{this.write(Y)}),j.on("end",()=>{this.end()}),j.on("error",Y=>{this.emit("error",Y)}),j.on("prefix",(Y,J)=>{this._writer.addPrefix(Y,J)}),this}}const at={Lexer:h,Parser:q,Writer:we,Store:qe,StoreFactory:Te,EntityIndex:ke,StreamParser:ht,StreamWriter:vt,Util:c,Reasoner:it,BaseIRI:M,DataFactory:w,Term:O,NamedNode:A,Literal:T,BlankNode:S,Variable:E,DefaultGraph:D,Quad:K,Triple:K,termFromId:I,termToId:V}},25888:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SYMBOL_TO_STRING_TAG=e.SYMBOL_ASYNC_ITERATOR=e.SYMBOL_ITERATOR=void 0;var s=typeof Symbol=="function"&&Symbol.iterator!=null?Symbol.iterator:"@@iterator";e.SYMBOL_ITERATOR=s;var c=typeof Symbol=="function"&&Symbol.asyncIterator!=null?Symbol.asyncIterator:"@@asyncIterator";e.SYMBOL_ASYNC_ITERATOR=c;var a=typeof Symbol=="function"&&Symbol.toStringTag!=null?Symbol.toStringTag:"@@toStringTag";e.SYMBOL_TO_STRING_TAG=a},25925:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(20268),e)},26143:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(17919),e)},26336:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfResolveHypermediaLinksNext=void 0;const c=s(67304),a=s(90412);class o extends c.ActorRdfResolveHypermediaLinks{constructor(t){super(t)}async test(t){return t.metadata.next&&t.metadata.next.length!==0?(0,a.passTestVoid)():(0,a.failTest)(`Actor ${this.name} requires a 'next' metadata entry.`)}async run(t){return{links:t.metadata.next.map(n=>({url:n}))}}}e.ActorRdfResolveHypermediaLinksNext=o},26357:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryExpressionBound=void 0;const c=s(77617),a=s(77545),o=s(72818);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.SparqlOperator.BOUND],termFunction:!1})}async run(n){return new o.ExpressionFunctionBound}}e.ActorFunctionFactoryExpressionBound=i},26471:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorHttpRetry=void 0;const c=s(70322),a=s(90711),o=s(90412);class i extends c.ActorHttp{constructor(n){super(n),this.activeDelays={},this.httpInvalidator=n.httpInvalidator,this.httpInvalidator.addInvalidateListener(r=>this.handleHttpInvalidateEvent(r)),this.mediatorHttp=n.mediatorHttp}async test(n){if(n.context.has(i.keyWrapped))return(0,o.failTest)(`${this.name} can only wrap a request once`);const r=n.context.get(a.KeysHttp.httpRetryCount);return!r||r<1?(0,o.failTest)(`${this.name} requires a retry count greater than zero to function`):(0,o.passTest)({time:0})}async run(n){const r=c.ActorHttp.getInputUrl(n.input),u=n.context.getSafe(a.KeysHttp.httpRetryCount)+1,l=n.context.get(a.KeysHttp.httpRetryDelayFallback)??0,d=n.context.get(a.KeysHttp.httpRetryDelayLimit),p=n.context.get(a.KeysHttp.httpRetryStatusCodes);for(let f=1;f<=u;f++){const h=r.host in this.activeDelays?this.activeDelays[r.host].date.getTime()-Date.now():l;if(d&&h>d){this.logWarn(n.context,"Requested delay exceeds the limit",()=>({url:r.href,delay:h,delayDate:this.activeDelays[r.host].date.toISOString(),delayLimit:d,currentAttempt:`${f} / ${u}`}));break}h>0&&f>1&&(this.logDebug(n.context,"Delaying request",()=>({url:r.href,delay:h,currentAttempt:`${f} / ${u}`})),await i.sleep(h));const y=await this.mediatorHttp.mediate({...n,context:n.context.set(i.keyWrapped,!0)});if(y.ok)return y;if(p&&p.includes(y.status))this.logDebug(n.context,"Status code in force retry list, forcing retry",()=>({url:r.href,status:y.status,statusText:y.statusText,currentAttempt:`${f} / ${u}`}));else if(y.status!==504){if(y.status===429||y.status===503||y.status===405&&y.headers.has("retry-after")){const m=y.headers.get("retry-after");if(m){const b=i.parseRetryAfterHeader(m);b?(r.host in this.activeDelays&&clearTimeout(this.activeDelays[r.host].timeout),this.activeDelays[r.host]={date:b,timeout:setTimeout(()=>delete this.activeDelays[r.host],b.getTime()-Date.now())}):this.logDebug(n.context,"Invalid Retry-After header value from server",()=>({url:r.href,status:y.status,statusText:y.statusText,retryAfterHeader:m,currentAttempt:`${f} / ${u}`}))}this.logDebug(n.context,"Server temporarily unavailable",()=>({url:r.href,status:y.status,statusText:y.statusText,currentAttempt:`${f} / ${u}`}));continue}if(y.status>=400&&y.status<500){this.logDebug(n.context,"Server reported client-side error",()=>({url:r.href,status:y.status,statusText:y.statusText,currentAttempt:`${f} / ${u}`}));break}if(y.status>=500&&y.status<600){this.logDebug(n.context,"Server-side error encountered, terminating",()=>({url:r.href,status:y.status,statusText:y.statusText,currentAttempt:`${f} / ${u}`}));break}this.logDebug(n.context,"Request failed",()=>({url:r.href,status:y.status,statusText:y.statusText,currentAttempt:`${f} / ${u}`}))}else this.logDebug(n.context,"Received proxy timeout",()=>({url:r.href,status:y.status,statusText:y.statusText,currentAttempt:`${f} / ${u}`}))}throw new Error(`Request failed: ${r.href}`)}static async sleep(n){n>0&&await new Promise(r=>setTimeout(r,n))}static parseRetryAfterHeader(n){return i.numberRegex.test(n)?new Date(Date.now()+1e3*Number.parseInt(n,10)):i.dateRegex.test(n)?new Date(n):void 0}handleHttpInvalidateEvent(n){const r=n.url?new URL(n.url).host:void 0;for(const u of Object.keys(this.activeDelays))r&&u!==r||(clearTimeout(this.activeDelays[u].timeout),delete this.activeDelays[u])}}e.ActorHttpRetry=i,i.dateRegex=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), [0-9]{2} (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) [0-9]{4} [0-9]{2}:[0-9]{2}:[0-9]{2} GMT$/u,i.numberRegex=/^[0-9]+$/u,i.keyWrapped=new o.ActionContextKey("urn:comunica:actor-http-retry#wrapped")},26568:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(20935),e),a(s(77866),e)},26615:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryExpressionCoalesce=void 0;const c=s(77617),a=s(77545),o=s(67626);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.SparqlOperator.COALESCE],termFunction:!1})}async run(n){return new o.ExpressionFunctionCoalesce}}e.ActorFunctionFactoryExpressionCoalesce=i},26769:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermMultiplication=void 0;const c=s(77617),a=s(77545),o=s(44936);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.SparqlOperator.MULTIPLICATION],termFunction:!0})}async run(n){return new o.TermFunctionMultiplication}}e.ActorFunctionFactoryTermMultiplication=i},27051:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.stringQuadToQuad=e.quadToStringQuad=e.stringToTerm=e.getLiteralLanguage=e.getLiteralType=e.getLiteralValue=e.termToString=void 0;const c=new(s(47793)).DataFactory;function a(r){if(r)switch(r.termType){case"NamedNode":case"DefaultGraph":return r.value;case"BlankNode":return"_:"+r.value;case"Literal":const u=r;return'"'+u.value+'"'+(u.datatype&&u.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&u.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?"^^"+u.datatype.value:"")+(u.language?"@"+u.language:"");case"Quad":return`<<${a(r.subject)} ${a(r.predicate)} ${a(r.object)}${r.graph.termType==="DefaultGraph"?"":" "+a(r.graph)}>>`;case"Variable":return"?"+r.value}}function o(r){const u=/^"([^]*)"/.exec(r);if(!u)throw new Error(r+" is not a literal");return u[1]}function i(r){const u=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(r);if(!u)throw new Error(r+" is not a literal");return u[1]||(u[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}function t(r){const u=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(r);if(!u)throw new Error(r+" is not a literal");return u[1]?u[1].toLowerCase():""}function n(r,u){if(u=u||c,!r||!r.length)return u.defaultGraph();switch(r[0]){case"_":return u.blankNode(r.substr(2));case"?":if(!u.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return u.variable(r.substr(1));case'"':const l=t(r),d=u.namedNode(i(r));return u.literal(o(r),l||d);default:if(r[0]==="<"&&r.length>4&&r[1]==="<"&&r[r.length-1]===">"&&r[r.length-2]===">"){const p=r.slice(2,-2).trim();let f=[],h=0,y=0,m=!1;for(let b=0;b<p.length;b++){const v=p[b];if(v==="<"&&h++,v===">"){if(h===0)throw new Error("Found closing tag without opening tag in "+r);h--}if(v==='"'){let _=!1,w=b;for(;w-- >0&&p[w]==="\\";)_=!_;_||(m=!m)}if(v===" "&&!m&&h===0){for(f.push(p.slice(y,b));p[b+1]===" ";)b+=1;y=b+1}}if(h!==0)throw new Error("Found opening tag without closing tag in "+r);if(f.push(p.slice(y,p.length)),f.length!==3&&f.length!==4)throw new Error("Nested quad syntax error "+r);return f=f.map(b=>b.startsWith("<")&&!b.includes(" ")?b.slice(1,-1):b),u.quad(n(f[0]),n(f[1]),n(f[2]),f[3]?n(f[3]):void 0)}return u.namedNode(r)}}e.termToString=a,e.getLiteralValue=o,e.getLiteralType=i,e.getLiteralLanguage=t,e.stringToTerm=n,e.quadToStringQuad=function(r){return{subject:a(r.subject),predicate:a(r.predicate),object:a(r.object),graph:a(r.graph)}},e.stringQuadToQuad=function(r,u){return(u=u||c).quad(n(r.subject,u),n(r.predicate,u),n(r.object,u),n(r.graph,u))}},27256:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryParseSparql=void 0;const c=s(92180),a=s(90711),o=s(90412),i=s(96331),t=s(98082);class n extends c.ActorQueryParse{constructor(u){super(u),this.prefixes=Object.freeze(this.prefixes)}async test(u){return u.queryFormat&&u.queryFormat.language!=="sparql"?(0,o.failTest)("This actor can only parse SPARQL queries"):(0,o.passTestVoid)()}async run(u){const l=u.context.getSafe(a.KeysInitQuery.dataFactory),d=new t.Parser({prefixes:this.prefixes,baseIRI:u.baseIRI,sparqlStar:!0,factory:l}).parse(u.query);return{baseIRI:d.type==="query"?d.base:void 0,operation:(0,i.translate)(d,{quads:!0,prefixes:this.prefixes,blankToVariable:!0,baseIRI:u.baseIRI,dataFactory:l})}}}e.ActorQueryParseSparql=n},27368:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.QuadDestinationSparql=void 0;const c=s(52728),a=s(75627),o=s(92603),i=s(46898);e.QuadDestinationSparql=class{constructor(t,n,r,u){this.url=t,this.context=n,this.mediatorHttp=r,this.endpointFetcher=new o.SparqlEndpointFetcher({fetch:(l,d)=>this.mediatorHttp.mediate({input:l,init:d,context:this.context}),prefixVariableQuestionMark:!0,dataFactory:u})}async update(t){const n=this.createCombinedQuadsQuery(t.insert,t.delete);await this.wrapSparqlUpdateRequest(n)}createCombinedQuadsQuery(t,n){return new a.ArrayIterator([],{autoStart:!1}).append(this.createQuadsQuery("DELETE",n)).append(n&&t?[` ;
`]:[]).append(this.createQuadsQuery("INSERT",t))}createQuadsQuery(t,n){return n?n.map(r=>{let u=`${(0,i.termToString)(r.subject)} ${(0,i.termToString)(r.predicate)} ${(0,i.termToString)(r.object)} .`;return u=r.graph.termType==="DefaultGraph"?`  ${u}
`:`  GRAPH ${(0,i.termToString)(r.graph)} { ${u} }
`,u}).prepend([`${t} DATA {
`]).append(["}"]):new a.ArrayIterator([],{autoStart:!1})}async wrapSparqlUpdateRequest(t){const n=await(0,c.stringify)(t);await this.endpointFetcher.fetchUpdate(this.url,n)}async deleteGraphs(t,n,r){const u=Array.isArray(t)?t:[t],l=[];for(const d of u){let p;p=typeof d=="string"?d:d.termType==="DefaultGraph"?"DEFAULT":`GRAPH <${d.value}>`,l.push(`${r?"DROP":"CLEAR"} ${n?"":"SILENT "}${p}`)}await this.endpointFetcher.fetchUpdate(this.url,l.join("; "))}async createGraphs(t,n){const r=[];for(const u of t)r.push(`CREATE${n?"":" SILENT"} GRAPH <${u.value}>`);await this.endpointFetcher.fetchUpdate(this.url,r.join("; "))}}},27403:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionStrDt=void 0;const c=s(77617),a=s(90711),o=s(77545);class i extends c.TermFunctionBase{constructor(){super({arity:2,operator:o.SparqlOperator.STRDT,overloads:(0,o.declare)(o.SparqlOperator.STRDT).set([o.TypeURL.XSD_STRING,"namedNode"],n=>([r,u])=>{const l=n.context.getSafe(a.KeysInitQuery.dataFactory),d=l.literal(r.typedValue,l.namedNode(u.value));return new o.TermTransformer(n.context.getSafe(a.KeysExpressionEvaluator.superTypeProvider)).transformLiteral(d)}).collect()})}}e.TermFunctionStrDt=i},27421:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.AggregateEvaluator=void 0;const c=s(90711),a=s(77545),o=s(20811);e.AggregateEvaluator=class{constructor(i,t,n=!1){this.evaluator=i,this.distinct=t,this.throwError=n,this.errorOccurred=!1,this.errorOccurred=!1,this.superTypeProvider=i.context.getSafe(c.KeysExpressionEvaluator.superTypeProvider),this.termTransformer=new a.TermTransformer(this.superTypeProvider),this.variableValues=new Set}emptyValueTerm(){}emptyValue(){const i=this.emptyValueTerm();if(i===void 0&&this.throwError)throw new a.EmptyAggregateError;return i}async putBindings(i){if(!this.errorOccurred)try{const t=await this.evaluator.evaluate(i);if(!t||this.errorOccurred)return;this.distinct&&this.variableValues.has(o.termToString(t))||(this.putTerm(t),this.distinct&&this.variableValues.add(o.termToString(t)))}catch(t){this.safeThrow(t)}}async result(){if(!this.errorOccurred)return this.termResult()}safeThrow(i){if(this.throwError)throw i;this.errorOccurred=!0}termToNumericOrError(i){if(i.termType!=="Literal")throw new Error(`Term with value ${i.value} has type ${i.termType} and is not a numeric literal`);if(!a.isSubTypeOf(i.datatype.value,a.TypeAlias.SPARQL_NUMERIC,this.superTypeProvider))throw new Error(`Term datatype ${i.datatype.value} with value ${i.value} has type ${i.termType} and is not a numeric literal`);return this.termTransformer.transformLiteral(i)}}},27568:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryOperationJoin=void 0;const c=s(66490),a=s(95445),o=s(90412),i=s(99214),t=s(67021),n=s(75627),r=s(47793);class u extends c.ActorQueryOperationTypedMediated{constructor(d){super(d,"join")}async testOperation(d,p){return(0,o.passTestVoid)()}async runOperation(d,p){const f=(await Promise.all(d.input.map(async h=>({output:await this.mediatorQueryOperation.mediate({operation:h,context:p}),operation:h})))).map(({output:h,operation:y})=>({output:(0,t.getSafeBindings)(h),operation:y}));if((await Promise.all(f.map(h=>h.output.metadata()))).some(h=>h.cardinality.value===0&&h.cardinality.type==="exact")){for(const h of f)h.output.bindingsStream.close();return{bindingsStream:new n.ArrayIterator([],{autoStart:!1}),metadata:async()=>({state:new i.MetadataValidationState,cardinality:{type:"exact",value:0},variables:a.ActorRdfJoin.joinVariables(new r.DataFactory,await a.ActorRdfJoin.getMetadatas(f))}),type:"bindings"}}return this.mediatorJoin.mediate({type:"inner",entries:f,context:p})}}e.ActorQueryOperationJoin=u},27749:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermEncodeForUri=void 0;const c=s(77617),a=s(77545),o=s(1144);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.SparqlOperator.ENCODE_FOR_URI],termFunction:!0})}async run(n){return new o.TermFunctionEncodeForUri}}e.ActorFunctionFactoryTermEncodeForUri=i},27869:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(67024),e)},27984:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorOptimizeQueryOperation=void 0;const c=s(90412);class a extends c.Actor{constructor(i){super(i)}}e.ActorOptimizeQueryOperation=a},28223:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermSha1=void 0;const c=s(77617),a=s(77545),o=s(87242);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.SparqlOperator.SHA1],termFunction:!0})}async run(n){return new o.TermFunctionSha1}}e.ActorFunctionFactoryTermSha1=i},28498:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfParseHtml=void 0;const c=s(90412);class a extends c.Actor{constructor(i){super(i)}}e.ActorRdfParseHtml=a},28630:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default={owl:"http://www.w3.org/2002/07/owl#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",sh:"http://www.w3.org/ns/shacl#",xsd:"http://www.w3.org/2001/XMLSchema#"}},28664:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(1078),e),a(s(67986),e),a(s(18021),e),a(s(68159),e),a(s(59257),e),a(s(98701),e),a(s(74010),e)},28699:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(45510),e)},28703:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.deskolemizeOperation=e.deskolemizeQuad=e.deskolemizeTermNestedThrowing=e.deskolemizeTerm=e.skolemizeBindingsStream=e.skolemizeQuadStream=e.skolemizeBindings=e.skolemizeQuad=e.skolemizeTerm=e.getSourceId=e.SKOLEM_PREFIX=void 0;const c=s(51296),a=s(3285),o=s(96331);function i(l,d,p){return d.termType==="BlankNode"?new c.BlankNodeScoped(`bc_${p}_${d.value}`,l.namedNode(`${e.SKOLEM_PREFIX}${p}:${d.value}`)):d}function t(l,d,p){return(0,a.mapTermsNested)(d,f=>i(l,f,p))}function n(l,d,p){return d.map(f=>f.termType==="Quad"?t(l,f,p):i(l,f,p))}function r(l,d,p){if(d.termType==="BlankNode"&&"skolemized"in d&&(d=d.skolemized),d.termType==="NamedNode"&&d.value.startsWith(e.SKOLEM_PREFIX)){const f=d.value.indexOf(":",e.SKOLEM_PREFIX.length);if(d.value.slice(e.SKOLEM_PREFIX.length,f)===p){const h=d.value.slice(f+1,d.value.length);return l.blankNode(h)}return null}return d}function u(l,d,p){if(d.termType==="Quad")return(0,a.mapTermsNested)(d,h=>{const y=r(l,h,p);if(!y)throw new Error("Skolemized term is not in scope for this source");return y});const f=r(l,d,p);if(f===null)throw new Error("Skolemized term is not in scope for this source");return f}e.SKOLEM_PREFIX="urn:comunica_skolem:source_",e.getSourceId=function(l,d){let p=l.get(d.referenceValue);return p===void 0&&(p=`${l.size}`,l.set(d.referenceValue,p)),p},e.skolemizeTerm=i,e.skolemizeQuad=t,e.skolemizeBindings=n,e.skolemizeQuadStream=function(l,d,p){const f=d.map(h=>t(l,h,p));return function h(){d.getProperty("metadata",y=>{f.setProperty("metadata",y),y.state.addInvalidateListener(h)})}(),f},e.skolemizeBindingsStream=function(l,d,p){const f=d.map(h=>n(l,h,p));return function h(){d.getProperty("metadata",y=>{f.setProperty("metadata",y),y.state.addInvalidateListener(h)})}(),f},e.deskolemizeTerm=r,e.deskolemizeTermNestedThrowing=u,e.deskolemizeQuad=function(l,d,p){return(0,a.mapTermsNested)(d,f=>r(l,f,p)??f)},e.deskolemizeOperation=function(l,d,p){const f=new o.Factory;try{return o.Util.mapOperation(d,{[o.Algebra.types.PATTERN]:(h,y)=>({result:Object.assign(y.createPattern(u(l,h.subject,p),u(l,h.predicate,p),u(l,h.object,p),u(l,h.graph,p)),{metadata:h.metadata}),recurse:!1}),[o.Algebra.types.PATH]:(h,y)=>({result:Object.assign(y.createPath(u(l,h.subject,p),h.predicate,u(l,h.object,p),u(l,h.graph,p)),{metadata:h.metadata}),recurse:!1})},f)}catch{}}},28869:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfParseHtml=void 0;const c=s(90412);class a extends c.Actor{constructor(i){super(i)}}e.ActorRdfParseHtml=a},28948:(g,e,s)=>{var c=s(67426),a=s(43349);function o(i,t,n){if(!(this instanceof o))return new o(i,t,n);this.Hash=i,this.blockSize=i.blockSize/8,this.outSize=i.outSize/8,this.inner=null,this.outer=null,this._init(c.toArray(t,n))}g.exports=o,o.prototype._init=function(i){i.length>this.blockSize&&(i=new this.Hash().update(i).digest()),a(i.length<=this.blockSize);for(var t=i.length;t<this.blockSize;t++)i.push(0);for(t=0;t<i.length;t++)i[t]^=54;for(this.inner=new this.Hash().update(i),t=0;t<i.length;t++)i[t]^=106;this.outer=new this.Hash().update(i)},o.prototype.update=function(i,t){return this.inner.update(i,t),this},o.prototype.digest=function(i){return this.outer.update(this.inner.digest()),this.outer.digest(i)}},29111:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryOperationPathAlt=void 0;const c=s(97091),a=s(43415),o=s(90711),i=s(67021),t=s(75627),n=s(96331);class r extends c.ActorAbstractPath{constructor(l){super(l,n.Algebra.types.ALT)}async runOperation(l,d){const p=d.getSafe(o.KeysInitQuery.dataFactory),f=new n.Factory(p),h=l.predicate,y=(await Promise.all(h.input.map(m=>this.mediatorQueryOperation.mediate({context:d,operation:f.createPath(l.subject,m,l.object,l.graph)})))).map(i.getSafeBindings);return{type:"bindings",bindingsStream:new t.UnionIterator(y.map(m=>m.bindingsStream),{autoStart:!1}),metadata:()=>Promise.all(y.map(m=>m.metadata())).then(m=>a.ActorQueryOperationUnion.unionMetadata(m,!0,d,this.mediatorRdfMetadataAccumulate))}}}e.ActorQueryOperationPathAlt=r},29146:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},29200:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.RdfJsQuadDestination=void 0;const c=s(66486),a=s(59200);e.RdfJsQuadDestination=class{constructor(o,i){this.dataFactory=o,this.store=i}async update(o){o.delete&&await(0,c.promisifyEventEmitter)(this.store.remove(o.delete)),o.insert&&await(0,c.promisifyEventEmitter)(this.store.import(o.insert))}async deleteGraphs(o,i,t){switch(o){case"ALL":await(0,c.promisifyEventEmitter)(this.store.deleteGraph(this.dataFactory.defaultGraph()));case"NAMED":const n=this.store.match(),r={};n.on("data",u=>{u.graph.termType!=="DefaultGraph"&&(r[(0,a.termToString)(u.graph)]=!0)}),await(0,c.promisifyEventEmitter)(n),await Promise.all(Object.keys(r).map(u=>(0,c.promisifyEventEmitter)(this.store.deleteGraph((0,a.stringToTerm)(u,this.dataFactory)))));break;default:for(const u of Array.isArray(o)?o:[o])await(0,c.promisifyEventEmitter)(this.store.deleteGraph(u))}}async createGraphs(o,i){if(i)for(const t of o){const n=this.store.match(void 0,void 0,void 0,t);await new Promise((r,u)=>{n.once("data",()=>{u(new Error(`Unable to create graph ${t.value} as it already exists`))}),n.on("end",r),n.on("error",u)})}}}},29252:g=>{g.exports=function e(s,c){if(s===c)return!0;if(s&&c&&typeof s=="object"&&typeof c=="object"){if(s.constructor!==c.constructor)return!1;var a,o,i;if(Array.isArray(s)){if((a=s.length)!=c.length)return!1;for(o=a;o--!==0;)if(!e(s[o],c[o]))return!1;return!0}if(s instanceof Map&&c instanceof Map){if(s.size!==c.size)return!1;for(o of s.entries())if(!c.has(o[0]))return!1;for(o of s.entries())if(!e(o[1],c.get(o[0])))return!1;return!0}if(s instanceof Set&&c instanceof Set){if(s.size!==c.size)return!1;for(o of s.entries())if(!c.has(o[0]))return!1;return!0}if(ArrayBuffer.isView(s)&&ArrayBuffer.isView(c)){if((a=s.length)!=c.length)return!1;for(o=a;o--!==0;)if(s[o]!==c[o])return!1;return!0}if(s.constructor===RegExp)return s.source===c.source&&s.flags===c.flags;if(s.valueOf!==Object.prototype.valueOf)return s.valueOf()===c.valueOf();if(s.toString!==Object.prototype.toString)return s.toString()===c.toString();if((a=(i=Object.keys(s)).length)!==Object.keys(c).length)return!1;for(o=a;o--!==0;)if(!Object.prototype.hasOwnProperty.call(c,i[o]))return!1;for(o=a;o--!==0;){var t=i[o];if(!e(s[t],c[t]))return!1}return!0}return s!=s&&c!=c}},29306:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.LinkQueueWrapper=void 0,e.LinkQueueWrapper=class{constructor(s){this.linkQueue=s}push(s,c){return this.linkQueue.push(s,c)}getSize(){return this.linkQueue.getSize()}isEmpty(){return this.linkQueue.isEmpty()}pop(){return this.linkQueue.pop()}peek(){return this.linkQueue.peek()}}},29395:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermYear=void 0;const c=s(77617),a=s(77545),o=s(49562);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.SparqlOperator.YEAR],termFunction:!0})}async run(n){return new o.TermFunctionYear}}e.ActorFunctionFactoryTermYear=i},29637:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermXsdToInteger=void 0;const c=s(77617),a=s(77545),o=s(78740);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.TypeURL.XSD_INTEGER],termFunction:!0})}async run(n){return new o.TermFunctionXsdToInteger}}e.ActorFunctionFactoryTermXsdToInteger=i},29638:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeHandlerSelectionInlineFragment=void 0;const c=s(53284);class a extends c.NodeHandlerSelectionAdapter{constructor(i,t){super("InlineFragment",i,t)}handle(i,t){const n={alias:void 0,arguments:void 0,directives:i.directives,kind:"Field",name:{kind:"Name",value:t.subject.value},selectionSet:i.selectionSet},r=i.typeCondition?[this.util.newTypePattern(t.subject,i.typeCondition,t)]:[];return this.util.operationFactory.createLeftJoin(this.util.operationFactory.createBgp([]),this.fieldToOperation(t,n,!1,r))}}e.NodeHandlerSelectionInlineFragment=a},29657:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(r){return n(r,[])};var c,a=(c=s(98493))&&c.__esModule?c:{default:c};function o(r){return o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},o(r)}var i=10,t=2;function n(r,u){switch(o(r)){case"string":return JSON.stringify(r);case"function":return r.name?"[function ".concat(r.name,"]"):"[function]";case"object":return r===null?"null":function(l,d){if(d.indexOf(l)!==-1)return"[Circular]";var p=[].concat(d,[l]),f=function(y){var m=y[String(a.default)];return typeof m=="function"?m:typeof y.inspect=="function"?y.inspect:void 0}(l);if(f!==void 0){var h=f.call(l);if(h!==l)return typeof h=="string"?h:n(h,p)}else if(Array.isArray(l))return function(y,m){if(y.length===0)return"[]";if(m.length>t)return"[Array]";for(var b=Math.min(i,y.length),v=y.length-b,_=[],w=0;w<b;++w)_.push(n(y[w],m));return v===1?_.push("... 1 more item"):v>1&&_.push("... ".concat(v," more items")),"["+_.join(", ")+"]"}(l,p);return function(y,m){var b=Object.keys(y);return b.length===0?"{}":m.length>t?"["+function(v){var _=Object.prototype.toString.call(v).replace(/^\[object /,"").replace(/]$/,"");if(_==="Object"&&typeof v.constructor=="function"){var w=v.constructor.name;if(typeof w=="string"&&w!=="")return w}return _}(y)+"]":"{ "+b.map(function(v){return v+": "+n(y[v],m)}).join(", ")+" }"}(l,p)}(r,u);default:return String(r)}}},29658:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.parseDayTimeDuration=e.parseYearMonthDuration=e.parseDuration=e.parseTime=e.parseDate=e.parseDateTime=e.parseXSDDecimal=e.parseXSDFloat=void 0;const c=s(31296),a=s(98575),o=s(84427);function i(u){if(u==="")return{zoneHours:void 0,zoneMinutes:void 0};if(u==="Z")return{zoneHours:0,zoneMinutes:0};const l=u.replaceAll(/^([+|-])(\d\d):(\d\d)$/gu,"$11!$2!$3").split("!").map(Number);return{zoneHours:l[0]*l[1],zoneMinutes:l[0]*l[2]}}function t(u){const l=u.replaceAll(/^(-)?([123456789]*\d{4})-(\d\d)-(\d\d)(Z|([+-]\d\d:\d\d))?$/gu,"$11!$2!$3!$4!$5");if(l===u)throw new a.ParseError(u,"date");const d=l.split("!"),p=d.slice(0,-1).map(Number),f={year:p[0]*p[1],month:p[2],day:p[3],...i(d[4])};if(!(f.month>=1&&f.month<=12&&f.day>=1&&f.day<=(0,o.maximumDayInMonthFor)(f.year,f.month)))throw new a.ParseError(u,"date");return f}function n(u){const l=u.replaceAll(/^(\d\d):(\d\d):(\d\d(\.\d+)?)(Z|([+-]\d\d:\d\d))?$/gu,"$1!$2!$3!$5");if(l===u)throw new a.ParseError(u,"time");const d=l.split("!"),p=d.slice(0,-1).map(Number),f={hours:p[0],minutes:p[1],seconds:p[2],...i(d[3])};if(f.seconds>=60||f.minutes>=60||f.hours>24||f.hours===24&&(f.minutes!==0||f.seconds!==0))throw new a.ParseError(u,"time");return f}function r(u){const[l,d]=u.split("T"),p=l.replaceAll(/^(-)?P(\d+Y)?(\d+M)?(\d+D)?$/gu,"$11S!$2!$3!$4");if(p===l)throw new a.ParseError(u,"duration");const f=p.split("!");if(d!==void 0){const m=d.replaceAll(/^(\d+H)?(\d+M)?(\d+(\.\d+)?S)?$/gu,"$1!$2!$3");if(d===""||d===m)throw new a.ParseError(u,"duration");f.push(...m.split("!"))}const h=f.map(m=>m.slice(0,-1));if(!h.slice(1).some(Boolean))throw new a.ParseError(u,"duration");const y=Number(h[0]);return(0,c.simplifyDurationRepresentation)({year:h[1]?y*Number(h[1]):void 0,month:h[2]?y*Number(h[2]):void 0,day:h[3]?y*Number(h[3]):void 0,hours:h[4]?y*Number(h[4]):void 0,minutes:h[5]?y*Number(h[5]):void 0,seconds:h[6]?y*Number(h[6]):void 0})}e.parseXSDFloat=function(u){const l=Number(u);return Number.isNaN(l)?u==="NaN"?Number.NaN:u==="INF"||u==="+INF"?Number.POSITIVE_INFINITY:u==="-INF"?Number.NEGATIVE_INFINITY:void 0:l},e.parseXSDDecimal=function(u){const l=Number(u);return Number.isNaN(l)?void 0:l},e.parseDateTime=function(u){const[l,d]=u.split("T");if(d===void 0)throw new a.ParseError(u,"dateTime");return{...t(l),...n(d)}},e.parseDate=t,e.parseTime=function(u){const l=n(u);return l.hours%=24,l},e.parseDuration=r,e.parseYearMonthDuration=function(u){const l=r(u);if(["hours","minutes","seconds","day"].some(d=>!!l[d]))throw new a.ParseError(u,"yearMonthDuration");return l},e.parseDayTimeDuration=function(u){const l=r(u);if(["year","month"].some(d=>!!l[d]))throw new a.ParseError(u,"dayTimeDuration");return l}},29754:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionXsdToTime=void 0;const c=s(77617),a=s(77545);class o extends c.TermFunctionBase{constructor(){super({arity:1,operator:a.TypeURL.XSD_TIME,overloads:(0,a.declare)(a.TypeURL.XSD_TIME).onUnary(a.TypeURL.XSD_TIME,()=>t=>new a.TimeLiteral(t.typedValue,t.strValue)).onUnary(a.TypeURL.XSD_DATE_TIME,()=>t=>new a.TimeLiteral(t.typedValue)).onStringly1(()=>t=>new a.TimeLiteral((0,a.parseTime)(t.str()))).collect()})}}e.TermFunctionXsdToTime=o},29814:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionSha384=void 0;const c=s(77617),a=s(77545),o=s(77952);class i extends c.TermFunctionBase{constructor(){super({arity:1,operator:a.SparqlOperator.SHA384,overloads:(0,a.declare)(a.SparqlOperator.SHA384).onString1Typed(()=>n=>(0,a.string)((0,o.sha384)().update(n).digest("hex"))).collect()})}}e.TermFunctionSha384=i},29832:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryExpressionNotIn=void 0;const c=s(77617),a=s(77545),o=s(5743);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.SparqlOperator.NOT_IN],termFunction:!1}),this.mediatorFunctionFactory=n.mediatorFunctionFactory}async run(n){const r=await this.mediatorFunctionFactory.mediate({functionName:a.SparqlOperator.IN,context:n.context,arguments:n.arguments});return new o.ExpressionFunctionNotIn(r)}}e.ActorFunctionFactoryExpressionNotIn=i},29856:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorHashBindingsMurmur=void 0;const c=s(16235),a=s(90412),o=s(24799);class i extends c.ActorHashBindings{async test(n){return(0,a.passTestVoid)()}async run(n){return{hashFunction:(r,u)=>{let l=o();for(const d of u)l=l.hash(r.get(d)?.value??"UNDEF");return l.result()}}}}e.ActorHashBindingsMurmur=i},30103:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Translator=void 0,e.Translator=class{constructor(){this.supportedRdfDatatypes=[],this.fromRdfHandlers={},this.toRdfHandlers={}}static incorrectRdfDataType(s){throw new Error(`Invalid RDF ${s.datatype.value} value: '${s.value}'`)}registerHandler(s,c,a){for(const o of c)this.supportedRdfDatatypes.push(o),this.fromRdfHandlers[o.value]=s;for(const o of a){let i=this.toRdfHandlers[o];i||(this.toRdfHandlers[o]=i=[]),i.push(s)}}fromRdf(s,c){const a=this.fromRdfHandlers[s.datatype.value];return a?a.fromRdf(s,c):s.value}toRdf(s,c){const a=this.toRdfHandlers[typeof s];if(a)for(const o of a){const i=o.toRdf(s,c);if(i)return i}throw new Error(`Invalid JavaScript value: '${s}'`)}getSupportedRdfDatatypes(){return this.supportedRdfDatatypes}getSupportedJavaScriptPrimitives(){return Object.keys(this.toRdfHandlers)}}},30152:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryOperationAsk=void 0;const c=s(66490),a=s(90412),o=s(67021);class i extends c.ActorQueryOperationTypedMediated{constructor(n){super(n,"ask")}async testOperation(n,r){return(0,a.passTestVoid)()}async runOperation(n,r){const u=await this.mediatorQueryOperation.mediate({operation:n.input,context:r}),{bindingsStream:l}=(0,o.getSafeBindings)(u);return{type:"boolean",execute:async()=>(await l.take(1).toArray()).length===1}}}e.ActorQueryOperationAsk=i},30197:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.termToString=e.stringToTerm=e.stringQuadToQuad=e.quadToStringQuad=e.getLiteralValue=e.getLiteralType=e.getLiteralLanguage=void 0;const c=s(50583);Object.defineProperty(e,"getLiteralLanguage",{enumerable:!0,get:function(){return c.getLiteralLanguage}}),Object.defineProperty(e,"getLiteralType",{enumerable:!0,get:function(){return c.getLiteralType}}),Object.defineProperty(e,"getLiteralValue",{enumerable:!0,get:function(){return c.getLiteralValue}}),Object.defineProperty(e,"quadToStringQuad",{enumerable:!0,get:function(){return c.quadToStringQuad}}),Object.defineProperty(e,"stringQuadToQuad",{enumerable:!0,get:function(){return c.stringQuadToQuad}}),Object.defineProperty(e,"stringToTerm",{enumerable:!0,get:function(){return c.stringToTerm}}),Object.defineProperty(e,"termToString",{enumerable:!0,get:function(){return c.termToString}})},30199:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.termToString=e.stringToTerm=e.stringQuadToQuad=e.quadToStringQuad=e.getLiteralValue=e.getLiteralType=e.getLiteralLanguage=void 0;const c=s(92405);Object.defineProperty(e,"getLiteralLanguage",{enumerable:!0,get:function(){return c.getLiteralLanguage}}),Object.defineProperty(e,"getLiteralType",{enumerable:!0,get:function(){return c.getLiteralType}}),Object.defineProperty(e,"getLiteralValue",{enumerable:!0,get:function(){return c.getLiteralValue}}),Object.defineProperty(e,"quadToStringQuad",{enumerable:!0,get:function(){return c.quadToStringQuad}}),Object.defineProperty(e,"stringQuadToQuad",{enumerable:!0,get:function(){return c.stringQuadToQuad}}),Object.defineProperty(e,"stringToTerm",{enumerable:!0,get:function(){return c.stringToTerm}}),Object.defineProperty(e,"termToString",{enumerable:!0,get:function(){return c.termToString}})},30254:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(40236),e)},30389:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryResultSerializeJson=void 0;const c=s(58871),a=s(90412),o=s(75627),i=s(90913),t=s(19198);class n extends c.ActorQueryResultSerializeFixedMediaTypes{constructor(u){super(u)}async testHandleChecked(u,l){return["bindings","quads","boolean"].includes(u.type)?(0,a.passTestVoid)():(0,a.failTest)("This actor can only handle bindings or quad streams.")}async runHandle(u,l,d){const p=new t.Readable;if(p._read=()=>{},u.type==="bindings"||u.type==="quads"){let f=u.type==="bindings"?(0,o.wrap)(u.bindingsStream).map(y=>JSON.stringify(Object.fromEntries([...y].map(([m,b])=>[m.value,i.termToString(b)])))):(0,o.wrap)(u.quadStream).map(y=>JSON.stringify(i.quadToStringQuad(y))),h=!0;f=f.map(y=>{const m=`${h?"":","}
${y}`;return h=!1,m}).prepend(["["]).append([`
]
`]),p.wrap(f)}else try{p.push(`${JSON.stringify(await u.execute())}
`),p.push(null)}catch(f){setTimeout(()=>p.emit("error",f))}return{data:p}}}e.ActorQueryResultSerializeJson=n},30393:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermLangmatches=void 0;const c=s(77617),a=s(77545),o=s(42586);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.SparqlOperator.LANG_MATCHES],termFunction:!0})}async run(n){return new o.TermFunctionLangmatches}}e.ActorFunctionFactoryTermLangmatches=i},30615:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(90246),e)},30626:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryOperationMinus=void 0;const c=s(66490),a=s(90412),o=s(67021);class i extends c.ActorQueryOperationTypedMediated{constructor(n){super(n,"minus")}async testOperation(n,r){return(0,a.passTestVoid)()}async runOperation(n,r){const u=(await Promise.all(n.input.map(async l=>({output:await this.mediatorQueryOperation.mediate({operation:l,context:r}),operation:l})))).map(({output:l,operation:d})=>({output:(0,o.getSafeBindings)(l),operation:d}));return this.mediatorJoin.mediate({type:"minus",entries:u,context:r})}}e.ActorQueryOperationMinus=i},30785:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorBindingsAggregatorFactorySample=void 0;const c=s(86581),a=s(90412),o=s(71932);class i extends c.ActorBindingsAggregatorFactory{constructor(n){super(n)}async test(n){return n.expr.aggregator!=="sample"?(0,a.failTest)("This actor only supports the 'sample' aggregator."):(0,a.passTestVoid)()}async run({context:n,expr:r}){return new o.SampleAggregator(await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:r.expression,context:n}),r.distinct)}}e.ActorBindingsAggregatorFactorySample=i},30795:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfMetadataExtract=void 0;const c=s(90412);class a extends c.Actor{constructor(i){super(i)}}e.ActorRdfMetadataExtract=a},30862:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BindingsIndexUndef=void 0,e.BindingsIndexUndef=class{constructor(s,c,a){this.data={},this.keys=s.map(o=>o.variable),this.hashFn=c,this.allowDisjointDomains=a&&this.keys.length>0}put(s,c){if(this.allowDisjointDomains||this.isBindingsValid(s)){let a=this.data;for(let o=0;o<this.keys.length;o++){const i=this.keys[o],t=this.hashFn(s.get(i));let n=a[t];n||(n=a[t]=o===this.keys.length-1?c:{}),a=n}}return c}isBindingsValid(s){let c=!1;for(const a of this.keys)if(s.has(a)){c=!0;break}return c}get(s){return this.allowDisjointDomains||this.isBindingsValid(s)?this.getRecursive(s,this.keys,[this.data]):[]}getRecursive(s,c,a){if(c.length===0)return a;let o;[o,...c]=c;const i=[];for(const t of a){const n=this.hashFn(s?.get(o));if(n){const r=[t[n],t[""]].filter(Boolean);if(r.length===0)continue;i.push(this.getRecursive(s,c,r))}else{const r=Object.values(t);if(r.length===0)continue;i.push(this.getRecursive(s,c,r))}}return i.flat()}getFirst(s,c=!0){if(this.allowDisjointDomains||this.isBindingsValid(s))return this.getRecursiveFirst(s,this.keys,[this.data],c)}getRecursiveFirst(s,c,a,o){if(c.length===0)return a[0];let i;[i,...c]=c;for(const t of a){const n=this.hashFn(s.get(i));if(n||!o){const r=[t[n],t[""]].filter(Boolean);if(r.length===0)continue;const u=this.getRecursiveFirst(s,c,r,o);if(u)return u}else{const r=Object.values(t);if(r.length===0)continue;const u=this.getRecursiveFirst(s,c,r,o);if(u)return u}}}values(){return this.keys.length===0?[]:this.getRecursive(void 0,this.keys,[this.data])}}},30872:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryExpressionLogicalOr=void 0;const c=s(77617),a=s(77545),o=s(40883);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.SparqlOperator.LOGICAL_OR],termFunction:!1})}async run(n){return new o.ExpressionFunctionLogicalOr}}e.ActorFunctionFactoryExpressionLogicalOr=i},30879:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DirectiveNodeHandlerSkip=void 0;const c=s(67797);class a extends c.DirectiveNodeHandlerAdapter{constructor(i,t){super("skip",i,t)}handle(i,t){const n=this.getDirectiveConditionalValue(i.directive,t);return n.termType==="Literal"&&n.value==="true"?{ignore:!0}:{}}}e.DirectiveNodeHandlerSkip=a},30912:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(33778),e)},30953:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(5935),e)},30971:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(27749),e)},31038:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(70982),e)},31232:g=>{const e=s=>s!==null&&typeof s=="object"&&typeof s.pipe=="function";e.writable=s=>e(s)&&s.writable!==!1&&typeof s._write=="function"&&typeof s._writableState=="object",e.readable=s=>e(s)&&s.readable!==!1&&typeof s._read=="function"&&typeof s._readableState=="object",e.duplex=s=>e.writable(s)&&e.readable(s),e.transform=s=>e.duplex(s)&&typeof s._transform=="function",g.exports=e},31278:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryOperation=void 0;const c=s(90412);class a extends c.Actor{constructor(i){super(i)}}e.ActorQueryOperation=a},31296:(g,e)=>{function s(t){return{day:t.day??0,hours:t.hours??0,minutes:t.minutes??0,seconds:t.seconds??0}}function c(t){return{year:t.year??0,month:t.month??0}}function a(t){return{...s(t),...c(t)}}function o(t){return{...t,day:t.day??1,hours:t.hours??0,month:t.month??1,year:t.year??0,seconds:t.seconds??0,minutes:t.minutes??0}}function i(t){const n=new Date(t.year,t.month-1,t.day,t.hours,t.minutes,Math.trunc(t.seconds),t.seconds%1*1e3);return t.year>=0&&t.year<100&&n.setFullYear(n.getFullYear()-1900),n}Object.defineProperty(e,"__esModule",{value:!0}),e.extractTimeZone=e.extractRawTimeZone=e.dayTimeDurationsToSeconds=e.yearMonthDurationsToMonths=e.trimToDayTimeDuration=e.trimToYearMonthDuration=e.toUTCDate=e.toJSDate=e.negateDuration=e.toDateTimeRepresentation=e.defaultedDateTimeRepresentation=e.simplifyDurationRepresentation=e.defaultedDurationRepresentation=e.defaultedYearMonthDurationRepresentation=e.defaultedDayTimeDurationRepresentation=void 0,e.defaultedDayTimeDurationRepresentation=s,e.defaultedYearMonthDurationRepresentation=c,e.defaultedDurationRepresentation=a,e.simplifyDurationRepresentation=function(t){const n=a(t),r={},u=n.year+Math.trunc(n.month/12);u&&(r.year=u,n.month%=12),n.month&&(r.month=n.month);const l=n.day+Math.trunc(n.hours/24)+Math.trunc(n.minutes/1440)+Math.trunc(n.seconds/86400);l&&(r.day=l,n.hours%=24,n.minutes%=1440,n.seconds%=86400);const d=n.hours+Math.trunc(n.minutes/60)+Math.trunc(n.seconds/3600);d&&(r.hours=d,n.minutes%=60,n.seconds%=3600);const p=n.minutes+Math.trunc(n.seconds/60);return p&&(r.minutes=p,n.seconds%=60),n.seconds&&(r.seconds=n.seconds),r},e.defaultedDateTimeRepresentation=o,e.toDateTimeRepresentation=function({date:t,timeZone:n}){return{year:t.getFullYear(),month:t.getMonth()+1,day:t.getDate(),hours:t.getHours(),minutes:t.getMinutes(),seconds:t.getSeconds(),zoneHours:n.zoneHours,zoneMinutes:n.zoneMinutes}},e.negateDuration=function(t){return{year:t.year===void 0?void 0:-1*t.year,month:t.month===void 0?void 0:-1*t.month,day:t.day===void 0?void 0:-1*t.day,hours:t.hours===void 0?void 0:-1*t.hours,minutes:t.minutes===void 0?void 0:-1*t.minutes,seconds:t.seconds===void 0?void 0:-1*t.seconds}},e.toJSDate=i,e.toUTCDate=function(t,n){const r=i(o(t)),u=r.getTimezoneOffset(),l=t.zoneHours??n.zoneHours,d=t.zoneMinutes??n.zoneMinutes;return new Date(r.getTime()-60*(u+60*l+d)*1e3)},e.trimToYearMonthDuration=function(t){return{year:t.year,month:t.month}},e.trimToDayTimeDuration=function(t){return{day:t.day,hours:t.hours,minutes:t.minutes,seconds:t.seconds}},e.yearMonthDurationsToMonths=function(t){return 12*t.year+t.month},e.dayTimeDurationsToSeconds=function(t){return 60*(60*(24*t.day+t.hours)+t.minutes)+t.seconds},e.extractRawTimeZone=function(t){return/(Z|([+-]\d\d:\d\d))?$/u.exec(t)[0]},e.extractTimeZone=function(t){return{zoneHours:t.getTimezoneOffset()/60,zoneMinutes:t.getTimezoneOffset()%60}}},31348:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(2693),e)},31399:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(43120),e)},31425:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.updateV1State=void 0;const c=s(52291),a=s(76011),o={};function i(n,r,u){return n.msecs??=-1/0,n.nsecs??=0,r===n.msecs?(n.nsecs++,n.nsecs>=1e4&&(n.node=void 0,n.nsecs=0)):r>n.msecs?n.nsecs=0:r<n.msecs&&(n.node=void 0),n.node||(n.node=u.slice(10,16),n.node[0]|=1,n.clockseq=16383&(u[8]<<8|u[9])),n.msecs=r,n}function t(n,r,u,l,d,p,f=0){if(n.length<16)throw new Error("Random bytes length must be >= 16");if(p){if(f<0||f+16>p.length)throw new RangeError(`UUID byte range ${f}:${f+15} is out of buffer bounds`)}else p=new Uint8Array(16),f=0;r??=Date.now(),u??=0,l??=16383&(n[8]<<8|n[9]),d??=n.slice(10,16);const h=(1e4*(268435455&(r+=122192928e5))+u)%4294967296;p[f++]=h>>>24&255,p[f++]=h>>>16&255,p[f++]=h>>>8&255,p[f++]=255&h;const y=r/4294967296*1e4&268435455;p[f++]=y>>>8&255,p[f++]=255&y,p[f++]=y>>>24&15|16,p[f++]=y>>>16&255,p[f++]=l>>>8|128,p[f++]=255&l;for(let m=0;m<6;++m)p[f++]=d[m];return p}e.updateV1State=i,e.default=function(n,r,u){let l;const d=n?._v6??!1;if(n){const p=Object.keys(n);p.length===1&&p[0]==="_v6"&&(n=void 0)}if(n)l=t(n.random??n.rng?.()??(0,c.default)(),n.msecs,n.nsecs,n.clockseq,n.node,r,u);else{const p=Date.now(),f=(0,c.default)();i(o,p,f),l=t(f,o.msecs,o.nsecs,d?void 0:o.clockseq,d?void 0:o.node,r,u)}return r??(0,a.unsafeStringify)(l)}},31487:(g,e)=>{function s(c){return c>=65&&c<=90||c>=97&&c<=122||c===58||c===95||c===8204||c===8205||c>=192&&c<=214||c>=216&&c<=246||c>=248&&c<=767||c>=880&&c<=893||c>=895&&c<=8191||c>=8304&&c<=8591||c>=11264&&c<=12271||c>=12289&&c<=55295||c>=63744&&c<=64975||c>=65008&&c<=65533||c>=65536&&c<=983039}Object.defineProperty(e,"__esModule",{value:!0}),e.CHAR=`	
\r ---`,e.S=` 	\r
`,e.NAME_START_CHAR=":A-Z_a-z-----------",e.NAME_CHAR="-"+e.NAME_START_CHAR+".0-9--",e.CHAR_RE=new RegExp("^["+e.CHAR+"]$","u"),e.S_RE=new RegExp("^["+e.S+"]+$","u"),e.NAME_START_CHAR_RE=new RegExp("^["+e.NAME_START_CHAR+"]$","u"),e.NAME_CHAR_RE=new RegExp("^["+e.NAME_CHAR+"]$","u"),e.NAME_RE=new RegExp("^["+e.NAME_START_CHAR+"]["+e.NAME_CHAR+"]*$","u"),e.NMTOKEN_RE=new RegExp("^["+e.NAME_CHAR+"]+$","u"),e.S_LIST=[32,10,13,9],e.isChar=function(c){return c>=32&&c<=55295||c===10||c===13||c===9||c>=57344&&c<=65533||c>=65536&&c<=1114111},e.isS=function(c){return c===32||c===10||c===13||c===9},e.isNameStartChar=s,e.isNameChar=function(c){return s(c)||c>=48&&c<=57||c===45||c===46||c===183||c>=768&&c<=879||c>=8255&&c<=8256}},31513:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},31523:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfJoinNestedLoop=void 0;const c=s(95445),a=s(90412),o=s(25579);class i extends c.ActorRdfJoin{constructor(n){super(n,{logicalType:"inner",physicalName:"nested-loop",limitEntries:2,canHandleUndefs:!0})}async getOutput(n){return{result:{type:"bindings",bindingsStream:new o.NestedLoopJoin(n.entries[0].output.bindingsStream,n.entries[1].output.bindingsStream,c.ActorRdfJoin.joinBindings,{autoStart:!1}),metadata:async()=>await this.constructResultMetadata(n.entries,await c.ActorRdfJoin.getMetadatas(n.entries),n.context)}}}async getJoinCoefficients(n,r){const{metadatas:u}=r,l=c.ActorRdfJoin.getRequestInitialTimes(u),d=c.ActorRdfJoin.getRequestItemTimes(u);return(0,a.passTestWithSideData)({iterations:u[0].cardinality.value*u[1].cardinality.value,persistedItems:0,blockingItems:0,requestTime:l[0]+u[0].cardinality.value*d[0]+l[1]+u[1].cardinality.value*d[1]},r)}}e.ActorRdfJoinNestedLoop=i},31588:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(18202),e)},31660:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryOperationUnion=void 0;const c=s(66490),a=s(90412),o=s(99214),i=s(67021),t=s(75627);class n extends c.ActorQueryOperationTypedMediated{constructor(u){super(u,"union")}static unionVariables(u){const l={};for(const d of u)for(const p of d){l[p.variable.value]||(l[p.variable.value]={variable:p.variable,canBeUndef:p.canBeUndef,occurrences:0});const f=l[p.variable.value];f.canBeUndef=f.canBeUndef||p.canBeUndef,f.occurrences++}return Object.values(l).map(d=>d.occurrences===u.length?{variable:d.variable,canBeUndef:d.canBeUndef}:{variable:d.variable,canBeUndef:!0})}static async unionMetadata(u,l,d,p){let f=(await p.mediate({mode:"initialize",context:d})).metadata;for(const y of u)f={...y,...(await p.mediate({mode:"append",accumulatedMetadata:f,appendingMetadata:y,context:d})).metadata};f.state=new o.MetadataValidationState;const h=()=>f.state.invalidate();for(const y of u)y.state.addInvalidateListener(h);if(l){const y=u.map(m=>m.variables);f.variables=n.unionVariables(y)}return f}async testOperation(u,l){return(0,a.passTestVoid)()}async runOperation(u,l){const d=await Promise.all(u.input.map(f=>this.mediatorQueryOperation.mediate({operation:f,context:l})));let p;for(const f of d)if(p===void 0)p=f.type;else if(p!==f.type)throw new Error(`Unable to union ${p} and ${f.type}`);if(p==="bindings"||u.input.length===0){const f=d.map(i.getSafeBindings);return{type:"bindings",bindingsStream:new t.UnionIterator(f.map(h=>h.bindingsStream),{autoStart:!1}),metadata:()=>Promise.all(f.map(h=>h.metadata())).then(h=>n.unionMetadata(h,!0,l,this.mediatorRdfMetadataAccumulate))}}if(p==="quads"){const f=d.map(i.getSafeQuads);return{type:"quads",quadStream:new t.UnionIterator(f.map(h=>h.quadStream),{autoStart:!1}),metadata:()=>Promise.all(f.map(h=>h.metadata())).then(h=>n.unionMetadata(h,!1,l,this.mediatorRdfMetadataAccumulate))}}throw new Error(`Unable to union ${p}`)}}e.ActorQueryOperationUnion=n},31797:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0});const c=s(59746);e.default=function(a){if(!(0,c.default)(a))throw TypeError("Invalid UUID");let o;return Uint8Array.of((o=parseInt(a.slice(0,8),16))>>>24,o>>>16&255,o>>>8&255,255&o,(o=parseInt(a.slice(9,13),16))>>>8,255&o,(o=parseInt(a.slice(14,18),16))>>>8,255&o,(o=parseInt(a.slice(19,23),16))>>>8,255&o,(o=parseInt(a.slice(24,36),16))/1099511627776&255,o/4294967296&255,o>>>24&255,o>>>16&255,o>>>8&255,255&o)}},31994:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},32106:(g,e,s)=>{let c=s(75627).AsyncIterator;g.exports=class extends c{constructor(a){super(),Array.isArray(a)||(a=Array.prototype.slice.call(arguments)),this.streams=a;for(let o of a)o.on("readable",()=>this.emit("readable")),o.on("end",()=>this._removeStream(o));this.streams.length===0&&this.close(),this.idx=this.streams.length-1}_removeStream(a){let o=this.streams.indexOf(a);o<0||(this.streams.splice(o,1),this.idx>=this.streams.length&&--this.idx,this.streams.length===0&&this._end())}close(){super.close();for(let a of this.streams)a.close()}read(){for(let a=0;a<this.streams.length;++a){this.idx=(this.idx+1)%this.streams.length;let o=this.streams[this.idx].read();if(o!==null)return o}return null}}},32300:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.validateIri=e.IriValidationStrategy=void 0;const s=function(){const o="[!$&'()*+,;=]",i="%[a-fA-F0-9]{2}",t="([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",n=`${t}\\.${t}\\.${t}\\.${t}`,r="[a-fA-F0-9]{1,4}",u=`(${r}:${r}|${n})`,l="[a-zA-Z0-9\\-._~-----------------]",d=`(${l}|${i}|${o}|[:@])*`,p=`(${d})+`,f=`(${d})*`;return new RegExp(`^[a-zA-Z][a-zA-Z0-9+\\-.]*:(\\/\\/((${l}|${i}|${o}|:)*@)?(\\[(((${r}:){6}${u}|::(${r}:){5}${u}|(${r})?::(${r}:){4}${u}|((${r}:){0,1}${r})?::(${r}:){3}${u}|((${r}:){0,2}${r})?::(${r}:){2}${u}|((${r}:){0,3}${r})?::${r}:${u}|((${r}:){0,4}${r})?::${u}|((${r}:){0,5}${r})?::${r}|((${r}:){0,6}${r})?::)|v[a-fA-F0-9]+\\.(${o}|${o}|":)+)\\]|${n}|(${l}|${i}|${o})*)(:[0-9]*)?(\\/${f})*|\\/(${p}(\\/${f})*)?|${p}(\\/${f})*|)(\\?(${d}|[---]|[\\/?])*)?(#(${d}|[\\/?])*)?$`,"u")}(),c=/^[A-Za-z][\d+-.A-Za-z]*:[^\u0000-\u0020"<>\\^`{|}]*$/u;var a;(function(o){o.Strict="strict",o.Pragmatic="pragmatic",o.None="none"})(a=e.IriValidationStrategy||(e.IriValidationStrategy={})),e.validateIri=function(o,i=a.Strict){switch(i){case a.Strict:return s.test(o)?void 0:new Error(`Invalid IRI according to RFC 3987: '${o}'`);case a.Pragmatic:return c.test(o)?void 0:new Error(`Invalid IRI according to RDF Turtle: '${o}'`);case a.None:return;default:return new Error(`Not supported validation strategy "${i}"`)}}},32310:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(62489),e)},32549:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MetadataValidationState=void 0,e.MetadataValidationState=class{constructor(){this.invalidateListeners=[],this.valid=!0}addInvalidateListener(s){this.invalidateListeners.push(s)}invalidate(){if(this.valid){this.valid=!1;for(const s of this.invalidateListeners)s()}}}},32834:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionStr=void 0;const c=s(77617),a=s(77545);class o extends c.TermFunctionBase{constructor(){super({arity:1,operator:a.SparqlOperator.STR,overloads:(0,a.declare)(a.SparqlOperator.STR).onTerm1(()=>t=>(0,a.string)(t.str())).collect()})}}e.TermFunctionStr=o},32988:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.URL=e.DNS=e.stringToBytes=void 0;const c=s(31797),a=s(76011);function o(i){i=unescape(encodeURIComponent(i));const t=new Uint8Array(i.length);for(let n=0;n<i.length;++n)t[n]=i.charCodeAt(n);return t}e.stringToBytes=o,e.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",e.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",e.default=function(i,t,n,r,u,l){const d=typeof n=="string"?o(n):n,p=typeof r=="string"?(0,c.default)(r):r;if(typeof r=="string"&&(r=(0,c.default)(r)),r?.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let f=new Uint8Array(16+d.length);if(f.set(p),f.set(d,p.length),f=t(f),f[6]=15&f[6]|i,f[8]=63&f[8]|128,u){l=l||0;for(let h=0;h<16;++h)u[l+h]=f[h];return u}return(0,a.unsafeStringify)(f)}},33032:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(25337),e)},33152:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryResultSerializeFixedMediaTypes=void 0;const c=s(48092),a=s(90412);class o extends c.ActorAbstractMediaTypedFixed{constructor(t){super(t)}async testHandleChecked(t,n){return(0,a.passTestVoid)()}}e.ActorQueryResultSerializeFixedMediaTypes=o},33163:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(11930),e)},33181:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(5008),e)},33275:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(98027),e)},33283:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerKeywordValue=void 0;const c=s(1548);class a extends c.EntryHandlerKeyword{constructor(){super("@value")}async validate(i,t,n,r,u){const l=n[r];return l&&!i.literalStack[r]&&await this.test(i,t,l,n,r)&&(i.literalStack[r]=!0),super.validate(i,t,n,r,u)}async test(i,t,n,r,u){return await t.unaliasKeyword(r[u],r.slice(0,r.length-1),u-1,!0)==="@value"}async handle(i,t,n,r,u,l){i.literalStack[l]=!0,delete i.unidentifiedValuesBuffer[l],delete i.unidentifiedGraphsBuffer[l],i.emittedStack[l]=!1}}e.EntryHandlerKeywordValue=a},33369:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Variable=void 0;const c=s(42996);e.Variable=class{constructor(a){this.expressionType=c.ExpressionType.Variable,this.name=a}}},33381:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryOperationTypedMediated=void 0;const c=s(95816);class a extends c.ActorQueryOperationTyped{constructor(i,t){super(i,t)}}e.ActorQueryOperationTypedMediated=a},33384:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Variable=void 0,e.Variable=class{constructor(s){this.termType="Variable",this.value=s}equals(s){return!!s&&s.termType==="Variable"&&s.value===this.value}}},33386:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.filterMatchingQuotedQuads=e.quadsOrderToBindingsOrder=e.quadsMetadataToBindingsMetadata=e.setMetadata=e.getDuplicateElementLinks=e.getVariables=e.isTermVariable=e.quadsToBindings=void 0;const c=s(4809),a=s(99214),o=s(51905),i=s(3285),t=s(64232);function n(f){return f.termType==="Variable"}function r(f){return(0,i.uniqTerms)((0,i.getTermsNested)(f).filter(n))}function u(f){const h={};let y=!1;if((0,i.forEachTermsNested)(f,(b,v)=>{if(b.termType==="Variable"){const _=(0,o.termToString)(b),w=(h[_]||(h[_]=[])).push(v);y=y||w>1}}),!y)return;const m={};for(const b in h){const v=h[b],_=v.slice(1);_.length>0&&(m[v[0].join("_")]=_)}return m}function l(f,h,y,m,b,v){const _=O=>{v&&(O.cardinality.type="estimate"),h.setProperty("metadata",d(f,(0,a.validateMetadataQuads)(O),m,b)),O.state&&O.state.addInvalidateListener(()=>{l(f,h,y,m,b,v)})},w=y.getProperty("metadata");w?_(w):y.getProperty("metadata",_)}function d(f,h,y,m){return{...h,order:h.order?p(f,h.order,y):void 0,availableOrders:h.availableOrders?h.availableOrders.map(b=>({cost:b.cost,terms:p(f,b.terms,y)})):void 0,variables:m.map(b=>({variable:b,canBeUndef:!1}))}}function p(f,h,y){const m={};return h.map(b=>{const v=y[b.term];if(v&&!m[v])return m[v]=!0,{term:f.variable(v),direction:b.direction}}).filter(Boolean)}e.quadsToBindings=function(f,h,y,m,b){const v=r(h),_=h.graph.termType==="Variable"&&!b,w=u(h),O=(0,i.reduceTermsNested)(h,(S,E,D)=>(E.termType==="Variable"&&(S[D.join("_")]=E.value),S),{});let A=f;_&&(A=A.filter(S=>S.graph.termType!=="DefaultGraph")),w&&(A=A.filter(S=>{for(const E in w){const D=E.split("_"),I=(0,i.getValueNestedPath)(S,D);for(const V of w[E])if(!I.equals((0,i.getValueNestedPath)(S,V)))return!1}return!0}));const T=new c.ClosableIterator(A.map(S=>m.bindings(Object.keys(O).map(E=>{const D=E.split("_"),I=O[E],V=(0,i.getValueNestedPath)(S,D);return[y.variable(I),V]}))),{onClose:()=>f.destroy()});return l(y,T,f,O,v,_||!!w),T},e.isTermVariable=n,e.getVariables=r,e.getDuplicateElementLinks=u,e.setMetadata=l,e.quadsMetadataToBindingsMetadata=d,e.quadsOrderToBindingsOrder=p,e.filterMatchingQuotedQuads=function(f,h){return(0,i.someTerms)(f,y=>y.termType==="Quad")&&(h=h.filter(y=>(0,t.matchPatternMappings)(y,f))),h}},33401:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(45122),e)},33657:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfParseHtmlRdfa=void 0;const c=s(66882),a=s(90711),o=s(90412),i=s(69749);class t extends c.ActorRdfParseHtml{constructor(r){super(r)}async test(r){return(0,o.passTestVoid)()}async run(r){const u=r.context.getSafe(a.KeysInitQuery.dataFactory),l=r.headers?r.headers.get("content-type"):null,d=(r.headers&&r.headers.get("content-language"))??void 0,p=l&&l.includes("xml")?"xhtml":"html",f=new i.RdfaParser({dataFactory:u,baseIRI:r.baseIRI,profile:p,language:d});f.on("error",r.error),f.on("data",r.emit);const h=f.onEnd;return f.onEnd=()=>{h.call(f),r.end()},{htmlParseListener:f}}}e.ActorRdfParseHtmlRdfa=t},33688:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryOperationCreate=void 0;const c=s(66490),a=s(67021);class o extends c.ActorQueryOperationTypedMediated{constructor(t){super(t,"create")}async testOperation(t,n){return(0,a.testReadOnly)(n)}async runOperation(t,n){const{execute:r}=await this.mediatorUpdateQuads.mediate({createGraphs:{graphs:[t.source],requireNonExistence:!t.silent},context:n});return{type:"void",execute:r}}}e.ActorQueryOperationCreate=o},33704:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorOptimizeQueryOperationFilterPushdown=void 0;const c=s(38912),a=s(90711),o=s(90412),i=s(67021),t=s(3285),n=s(96331);class r extends c.ActorOptimizeQueryOperation{constructor(l){super(l)}async test(l){return(0,o.passTestVoid)()}async run(l){const d=l.context.getSafe(a.KeysInitQuery.dataFactory),p=new n.Factory(d);let f=l.operation;const h=this;this.splitConjunctive&&(f=n.Util.mapOperation(f,{filter:(_,w)=>_.expression.expressionType===n.Algebra.expressionTypes.OPERATOR&&_.expression.operator==="&&"?(h.logDebug(l.context,`Split conjunctive filter into ${_.expression.args.length} nested filters`),{recurse:!0,result:_.expression.args.reduce((O,A)=>w.createFilter(O,A),_.input)}):{recurse:!0,result:_}},p));const y=this.getSources(f),m=new Map(await Promise.all(y.map(async _=>[_,await _.source.getSelectorShape(l.context)])));let b=!0,v=0;for(;b&&v<this.maxIterations;)b=!1,f=n.Util.mapOperation(f,{filter(_,w){if(!h.shouldAttemptPushDown(_,y,m))return{recurse:!0,result:_};const O=h.getExpressionVariables(_.expression),[A,T]=h.filterPushdown(_.expression,O,_.input,w,l.context);return A&&(b=!0),{recurse:!0,result:T}}}),v++;return v>1&&h.logDebug(l.context,`Pushed down filters in ${v} iterations`),this.mergeConjunctive&&(f=n.Util.mapOperation(f,{filter(_,w){if(_.input.type===n.Algebra.types.FILTER){const{nestedExpressions:O,input:A}=h.getNestedFilterExpressions(_);return h.logDebug(l.context,`Merge ${O.length} nested filters into conjunctive filter`),{recurse:!0,result:w.createFilter(A,O.slice(1).reduce((T,S)=>w.createOperatorExpression("&&",[T,S]),O[0]))}}return{recurse:!0,result:_}}})),{operation:f,context:l.context}}shouldAttemptPushDown(l,d,p){if(this.aggressivePushdown)return!0;const f=l.expression;return f.expressionType===n.Algebra.expressionTypes.OPERATOR&&f.operator==="="&&(f.args[0].expressionType==="term"&&f.args[0].term.termType!=="Variable"&&f.args[1].expressionType==="term"&&f.args[1].term.termType==="Variable"||f.args[0].expressionType==="term"&&f.args[0].term.termType==="Variable"&&f.args[1].expressionType==="term"&&f.args[1].term.termType!=="Variable")||!!d.some(h=>(0,i.doesShapeAcceptOperation)(p.get(h),l))}getSources(l){const d=new Set,p=f=>{const h=(0,i.getOperationSource)(f);return h&&d.add(h),!1};return n.Util.recurseOperation(l,{[n.Algebra.types.PATTERN]:p,[n.Algebra.types.LINK]:p,[n.Algebra.types.NPS]:p,[n.Algebra.types.SERVICE]:p}),[...d]}getExpressionVariables(l){switch(l.expressionType){case n.Algebra.expressionTypes.AGGREGATE:case n.Algebra.expressionTypes.WILDCARD:throw new Error(`Getting expression variables is not supported for ${l.expressionType}`);case n.Algebra.expressionTypes.EXISTENCE:return n.Util.inScopeVariables(l.input);case n.Algebra.expressionTypes.NAMED:return[];case n.Algebra.expressionTypes.OPERATOR:return(0,t.uniqTerms)(l.args.flatMap(d=>this.getExpressionVariables(d)));case n.Algebra.expressionTypes.TERM:return l.term.termType==="Variable"?[l.term]:[]}}getOverlappingOperations(l,d){const p=[],f=[],h=[];for(const y of l.input){const m=n.Util.inScopeVariables(y);this.variablesSubSetOf(d,m)?p.push(y):this.variablesIntersect(d,m)?f.push(y):h.push(y)}return{fullyOverlapping:p,partiallyOverlapping:f,notOverlapping:h}}filterPushdown(l,d,p,f,h){if(this.isExpressionFalse(l))return[!0,f.createUnion([])];if(l.type===n.Algebra.types.EXPRESSION&&l.expressionType===n.Algebra.expressionTypes.EXISTENCE)return[!1,f.createFilter(p,l)];switch(p.type){case n.Algebra.types.EXTEND:return this.variablesIntersect([p.variable],d)?[!1,f.createFilter(p,l)]:[!0,f.createExtend(this.filterPushdown(l,d,p.input,f,h)[1],p.variable,p.expression)];case n.Algebra.types.FILTER:{const[y,m]=this.filterPushdown(l,d,p.input,f,h);return[y,f.createFilter(m,p.expression)]}case n.Algebra.types.JOIN:{if(p.input.length===0)return[!1,f.createFilter(p,l)];const{fullyOverlapping:y,partiallyOverlapping:m,notOverlapping:b}=this.getOverlappingOperations(p,d),v=[];let _=!1;return y.length>0&&(_=!0,v.push(f.createJoin(y.map(w=>this.filterPushdown(l,d,w,f,h)[1])))),m.length>0&&v.push(f.createFilter(f.createJoin(m,!1),l)),b.length>0&&v.push(...b),v.length>1&&(_=!0),_&&this.logDebug(h,`Push down filter across join entries with ${y.length} fully overlapping, ${m.length} partially overlapping, and ${b.length} not overlapping`),[_,v.length===1?v[0]:f.createJoin(v)]}case n.Algebra.types.NOP:return[!0,p];case n.Algebra.types.PROJECT:return this.variablesIntersect(p.variables,d)?[!0,f.createProject(this.filterPushdown(l,d,p.input,f,h)[1],p.variables)]:[!0,p];case n.Algebra.types.UNION:{const{fullyOverlapping:y,partiallyOverlapping:m,notOverlapping:b}=this.getOverlappingOperations(p,d),v=[];let _=!1;return y.length>0&&(_=!0,v.push(f.createUnion(y.map(w=>this.filterPushdown(l,d,w,f,h)[1])))),m.length>0&&v.push(f.createFilter(f.createUnion(m,!1),l)),b.length>0&&v.push(...b),v.length>1&&(_=!0),_&&this.logDebug(h,`Push down filter across union entries with ${y.length} fully overlapping, ${m.length} partially overlapping, and ${b.length} not overlapping`),[_,v.length===1?v[0]:f.createUnion(v)]}case n.Algebra.types.VALUES:return this.variablesIntersect(p.variables,d)?[!1,f.createFilter(p,l)]:[!0,p];case n.Algebra.types.LEFT_JOIN:if(this.pushIntoLeftJoins){const y=n.Util.inScopeVariables(p.input[1]);if(!this.variablesIntersect(d,y))return this.logDebug(h,"Push down filter into left join"),[!0,f.createLeftJoin(this.filterPushdown(l,d,p.input[0],f,h)[1],p.input[1],p.expression)]}return[!1,f.createFilter(p,l)];case n.Algebra.types.PATTERN:if(this.pushEqualityIntoPatterns){const y=this.getEqualityExpressionPushableIntoPattern(l);if(y){let m=!1;const b=p.metadata;if((p=(0,t.mapTermsNested)(p,v=>v.equals(y.variable)?(m=!0,y.term):v)).type=n.Algebra.types.PATTERN,p.metadata=b,m)return this.logDebug(h,`Push down filter into pattern for ?${y.variable.value}`),[!0,f.createJoin([p,f.createValues([y.variable],[{[`?${y.variable.value}`]:y.term}])])]}}return[!1,f.createFilter(p,l)];case n.Algebra.types.PATH:if(this.pushEqualityIntoPatterns){const y=this.getEqualityExpressionPushableIntoPattern(l);if(y&&(p.subject.equals(y.variable)||p.object.equals(y.variable))){this.logDebug(h,`Push down filter into path for ?${y.variable.value}`);const m=p.metadata;return(p=f.createPath(p.subject.equals(y.variable)?y.term:p.subject,p.predicate,p.object.equals(y.variable)?y.term:p.object)).metadata=m,[!0,f.createJoin([p,f.createValues([y.variable],[{[`?${y.variable.value}`]:y.term}])])]}}return[!1,f.createFilter(p,l)];case n.Algebra.types.MINUS:case n.Algebra.types.ALT:case n.Algebra.types.ASK:case n.Algebra.types.BGP:case n.Algebra.types.CONSTRUCT:case n.Algebra.types.DESCRIBE:case n.Algebra.types.DISTINCT:case n.Algebra.types.EXPRESSION:case n.Algebra.types.FROM:case n.Algebra.types.GRAPH:case n.Algebra.types.GROUP:case n.Algebra.types.INV:case n.Algebra.types.LINK:case n.Algebra.types.NPS:case n.Algebra.types.ONE_OR_MORE_PATH:case n.Algebra.types.ORDER_BY:case n.Algebra.types.REDUCED:case n.Algebra.types.SEQ:case n.Algebra.types.SERVICE:case n.Algebra.types.SLICE:case n.Algebra.types.ZERO_OR_MORE_PATH:case n.Algebra.types.ZERO_OR_ONE_PATH:case n.Algebra.types.COMPOSITE_UPDATE:case n.Algebra.types.DELETE_INSERT:case n.Algebra.types.LOAD:case n.Algebra.types.CLEAR:case n.Algebra.types.CREATE:case n.Algebra.types.DROP:case n.Algebra.types.ADD:case n.Algebra.types.MOVE:case n.Algebra.types.COPY:return[!1,f.createFilter(p,l)]}}getEqualityExpressionPushableIntoPattern(l){if(l.expressionType===n.Algebra.expressionTypes.OPERATOR&&l.operator==="="){if(l.args[0].expressionType==="term"&&l.args[0].term.termType!=="Variable"&&(l.args[0].term.termType!=="Literal"||this.isLiteralWithCanonicalLexicalForm(l.args[0].term))&&l.args[1].expressionType==="term"&&l.args[1].term.termType==="Variable")return{variable:l.args[1].term,term:l.args[0].term};if(l.args[0].expressionType==="term"&&l.args[0].term.termType==="Variable"&&l.args[1].expressionType==="term"&&l.args[1].term.termType!=="Variable"&&(l.args[1].term.termType!=="Literal"||this.isLiteralWithCanonicalLexicalForm(l.args[1].term)))return{variable:l.args[0].term,term:l.args[1].term}}}isLiteralWithCanonicalLexicalForm(l){if(l.termType==="Literal")switch(l.datatype.value){case"http://www.w3.org/2001/XMLSchema#string":case"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":case"http://www.w3.org/2001/XMLSchema#normalizedString":case"http://www.w3.org/2001/XMLSchema#anyURI":case"http://www.w3.org/2001/XMLSchema#base64Binary":case"http://www.w3.org/2001/XMLSchema#language":case"http://www.w3.org/2001/XMLSchema#Name":case"http://www.w3.org/2001/XMLSchema#NCName":case"http://www.w3.org/2001/XMLSchema#NMTOKEN":case"http://www.w3.org/2001/XMLSchema#token":case"http://www.w3.org/2001/XMLSchema#hexBinary":return!0}return!1}variablesIntersect(l,d){return l.some(p=>d.some(f=>p.equals(f)))}variablesSubSetOf(l,d){return l.length<=d.length&&l.every(p=>d.some(f=>p.equals(f)))}isExpressionFalse(l){return l.term&&l.term.termType==="Literal"&&l.term.value==="false"}getNestedFilterExpressions(l){if(l.input.type===n.Algebra.types.FILTER){const d=this.getNestedFilterExpressions(l.input);return{nestedExpressions:[l.expression,...d.nestedExpressions],input:d.input}}return{nestedExpressions:[l.expression],input:l.input}}}e.ActorOptimizeQueryOperationFilterPushdown=r},33778:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermStrAfter=void 0;const c=s(77617),a=s(77545),o=s(79011);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.SparqlOperator.STRAFTER],termFunction:!0})}async run(n){return new o.TermFunctionStrAfter}}e.ActorFunctionFactoryTermStrAfter=i},33823:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermGreaterThanEqual=void 0;const c=s(77617),a=s(77545),o=s(40178);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.SparqlOperator.GTE],termFunction:!0}),this.mediatorFunctionFactory=n.mediatorFunctionFactory}async run(n){const r=await this.mediatorFunctionFactory.mediate({functionName:a.SparqlOperator.LTE,requireTermExpression:!0,context:n.context,arguments:n.arguments});return new o.TermFunctionGreaterThanEqual(r)}}e.ActorFunctionFactoryTermGreaterThanEqual=i},33826:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(70297),e),a(s(3062),e),a(s(65183),e),a(s(91475),e),a(s(97480),e)},34023:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorBindingsAggregatorFactoryAverage=void 0;const c=s(86581),a=s(90711),o=s(90412),i=s(77545),t=s(23786);class n extends c.ActorBindingsAggregatorFactory{constructor(u){super(u),this.mediatorFunctionFactory=u.mediatorFunctionFactory}async test(u){return u.expr.aggregator!=="avg"?(0,o.failTest)("This actor only supports the 'avg' aggregator."):(0,o.passTestVoid)()}async run({context:u,expr:l}){return new t.AverageAggregator(await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:l.expression,context:u}),l.distinct,u.getSafe(a.KeysInitQuery.dataFactory),await this.mediatorFunctionFactory.mediate({functionName:i.SparqlOperator.ADDITION,context:u,requireTermExpression:!0}),await this.mediatorFunctionFactory.mediate({functionName:i.SparqlOperator.DIVISION,context:u,requireTermExpression:!0}))}}e.ActorBindingsAggregatorFactoryAverage=n},34069:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.termToString=e.stringToTerm=e.stringQuadToQuad=e.quadToStringQuad=e.getLiteralValue=e.getLiteralType=e.getLiteralLanguage=void 0;const c=s(42135);Object.defineProperty(e,"getLiteralLanguage",{enumerable:!0,get:function(){return c.getLiteralLanguage}}),Object.defineProperty(e,"getLiteralType",{enumerable:!0,get:function(){return c.getLiteralType}}),Object.defineProperty(e,"getLiteralValue",{enumerable:!0,get:function(){return c.getLiteralValue}}),Object.defineProperty(e,"quadToStringQuad",{enumerable:!0,get:function(){return c.quadToStringQuad}}),Object.defineProperty(e,"stringQuadToQuad",{enumerable:!0,get:function(){return c.stringQuadToQuad}}),Object.defineProperty(e,"stringToTerm",{enumerable:!0,get:function(){return c.stringToTerm}}),Object.defineProperty(e,"termToString",{enumerable:!0,get:function(){return c.termToString}})},34121:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(26336),e)},34169:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermXsdToString=void 0;const c=s(77617),a=s(77545),o=s(62082);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.TypeURL.XSD_STRING],termFunction:!0})}async run(n){return new o.TermFunctionXsdToString}}e.ActorFunctionFactoryTermXsdToString=i},34247:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorHttpInvalidateListenable=void 0;const c=s(90412),a=s(4996);class o extends a.ActorHttpInvalidate{constructor(t){super(t),this.invalidateListeners=[],this.invalidateListeners=[]}addInvalidateListener(t){this.invalidateListeners.push(t)}async test(t){return(0,c.passTestVoid)()}async run(t){for(const n of this.invalidateListeners)n(t);return{}}}e.ActorHttpInvalidateListenable=o},34262:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermDictionaryNumberMap=void 0;const c=s(28664),a=s(43347);e.TermDictionaryNumberMap=class{constructor(o=new c.DataFactory){this.lastId=0,this.dictionary=new Map,this.reverseDictionary=new Map,this.features={quotedTriples:!1},this.dataFactory=o}encode(o){const i=(0,a.termToString)(o);let t=this.dictionary.get(i);return t===void 0&&(t=this.lastId++,this.dictionary.set(i,t),this.reverseDictionary.set(t,i)),t}encodeOptional(o){const i=(0,a.termToString)(o);return this.dictionary.get(i)}decode(o){const i=this.reverseDictionary.get(o);if(i===void 0)throw new Error(`The value ${o} is not present in this dictionary`);return(0,a.stringToTerm)(i,this.dataFactory)}encodings(){return this.reverseDictionary.keys()}findQuotedTriples(o){throw new Error("findQuotedTriples is not supported")}findQuotedTriplesEncoded(o){throw new Error("findQuotedTriplesEncoded is not supported")}}},34304:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(13574),e)},34358:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.stringQuadToQuad=e.quadToStringQuad=e.stringToTerm=e.getLiteralLanguage=e.getLiteralType=e.getLiteralValue=e.termToString=void 0;const c=new(s(47793)).DataFactory;function a(r){if(r)switch(r.termType){case"NamedNode":case"DefaultGraph":return r.value;case"BlankNode":return"_:"+r.value;case"Literal":const u=r;return'"'+u.value+'"'+(u.datatype&&u.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&u.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?"^^"+u.datatype.value:"")+(u.language?"@"+u.language:"");case"Quad":return`<<${a(r.subject)} ${a(r.predicate)} ${a(r.object)}${r.graph.termType==="DefaultGraph"?"":" "+a(r.graph)}>>`;case"Variable":return"?"+r.value}}function o(r){const u=/^"([^]*)"/.exec(r);if(!u)throw new Error(r+" is not a literal");return u[1]}function i(r){const u=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(r);if(!u)throw new Error(r+" is not a literal");return u[1]||(u[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}function t(r){const u=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(r);if(!u)throw new Error(r+" is not a literal");return u[1]?u[1].toLowerCase():""}function n(r,u){if(u=u||c,!r||!r.length)return u.defaultGraph();switch(r[0]){case"_":return u.blankNode(r.substr(2));case"?":if(!u.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return u.variable(r.substr(1));case'"':const l=t(r),d=u.namedNode(i(r));return u.literal(o(r),l||d);default:if(r[0]==="<"&&r.length>4&&r[1]==="<"&&r[r.length-1]===">"&&r[r.length-2]===">"){const p=r.slice(2,-2).trim();let f=[],h=0,y=0,m=!1;for(let b=0;b<p.length;b++){const v=p[b];if(v==="<"&&h++,v===">"){if(h===0)throw new Error("Found closing tag without opening tag in "+r);h--}if(v==='"'){let _=!1,w=b;for(;w-- >0&&p[w]==="\\";)_=!_;_||(m=!m)}if(v===" "&&!m&&h===0){for(f.push(p.slice(y,b));p[b+1]===" ";)b+=1;y=b+1}}if(h!==0)throw new Error("Found opening tag without closing tag in "+r);if(f.push(p.slice(y,p.length)),f.length!==3&&f.length!==4)throw new Error("Nested quad syntax error "+r);return f=f.map(b=>b.startsWith("<")&&!b.includes(" ")?b.slice(1,-1):b),u.quad(n(f[0]),n(f[1]),n(f[2]),f[3]?n(f[3]):void 0)}return u.namedNode(r)}}e.termToString=a,e.getLiteralValue=o,e.getLiteralType=i,e.getLiteralLanguage=t,e.stringToTerm=n,e.quadToStringQuad=function(r){return{subject:a(r.subject),predicate:a(r.predicate),object:a(r.object),graph:a(r.graph)}},e.stringQuadToQuad=function(r,u){return(u=u||c).quad(n(r.subject,u),n(r.predicate,u),n(r.object,u),n(r.graph,u))}},34406:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(83658),e)},34554:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.storeStream=function(a){const o=c.RdfStore.createDefault();return new Promise((i,t)=>o.import(a).on("error",t).once("end",()=>i(o)))};const c=s(61428)},34585:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(5336),e),a(s(77654),e)},34641:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.OverloadTree=void 0;const c=s(54833),a=s(86273);class o{constructor(t,n){this.identifier=t,this.implementation=void 0,this.generalOverloads=Object.create(null),this.literalOverLoads=[],this.depth=n??0,this.promotionCount=void 0}getSubtree(t){const n=(0,a.asGeneralType)(t);if(n)return this.generalOverloads[n];for(const[r,u]of this.literalOverLoads)if(t===r)return u}getImplementationExact(t){let n=this;for(const r of t)if(n=n.getSubtree(r),!n)return;return n.implementation}search(t,n,r){let u=r[this.identifier],l=0;for(;l<t.length&&u?.cache;){const p=t[l],f=(0,c.isLiteralTermExpression)(p);u=u.cache[f?f.dataType:p.termType],l++}if(l===t.length&&u?.func)return u.func;const d=[];if(t.length===0)return this.implementation;for(d.push(...this.getSubTreeWithArg(t[0],n).map(p=>({node:p,index:1})));d.length>0;){const{index:p,node:f}=d.pop();if(p===t.length&&f.implementation)return this.addToCache(r,t,f.implementation),f.implementation;d.push(...f.getSubTreeWithArg(t[p],n).map(h=>({node:h,index:p+1})))}}addToCache(t,n,r){function u(d,p){return p in d||(d[p]={}),d[p]}let l=u(t,this.identifier);for(const d of n){const p=(0,c.isLiteralTermExpression)(d),f=p?p.dataType:d.termType;l.cache=l.cache??{},l=u(l.cache,f)}l.func=r}addOverload(t,n){this._addOverload([...t],n,0)}_addOverload(t,n,r){const[u,...l]=t;if(!u)return void((this.promotionCount===void 0||r<=this.promotionCount)&&(this.promotionCount=r,this.implementation=n));let d=this.getSubtree(u);if(!d){const p=new o(this.identifier,this.depth+1),f=(0,a.asGeneralType)(u);f&&(this.generalOverloads[f]=p);const h=(0,a.asOverrideType)(u);h&&this.literalOverLoads.push([h,p]),d=p}if(d._addOverload(l,n,r),a.typePromotion[u])for(const p of a.typePromotion[u])this.addPromotedOverload(p.typeToPromote,n,p.conversionFunction,l,r)}addPromotedOverload(t,n,r,u,l){let d=this.getSubtree(t);if(!d){const p=new o(this.identifier,this.depth+1);this.literalOverLoads.push([t,p]),d=p}d._addOverload(u,p=>f=>n(p)([...f.slice(0,this.depth),r(f[this.depth]),...f.slice(this.depth+1,f.length)]),l+1)}getSubTreeWithArg(t,n){const r=[],u=(0,c.isLiteralTermExpression)(t);if(this.generalOverloads.term&&r.push(this.generalOverloads.term),this.generalOverloads[t.termType]&&r.push(this.generalOverloads[t.termType]),u){const l=(0,a.asKnownLiteralType)(u.dataType);let d;d=l?a.superTypeDictTable[l]:(0,a.getSuperTypes)(u.dataType,n);const p=this.literalOverLoads.filter(([f,h])=>f in d).map(([f,h])=>[d[f],h]);p.sort(([f,h],[y,m])=>f-y),r.push(...p.map(([f,h])=>h))}return r}}e.OverloadTree=o},34683:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createTaskScheduler=void 0;const s=Promise.resolve(void 0);e.createTaskScheduler=function(){const c=typeof queueMicrotask=="function"?queueMicrotask:t=>s.then(t),a=typeof setImmediate=="function"?setImmediate:t=>setTimeout(t,0);let o=0,i=null;return t=>{i!==null?i.push(t):++o<100?c(t):(i=[t],a(()=>{for(const n of i)c(n);i=null,o=0}))}}},34864:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TERM_TYPES=void 0,e.uniqTerms=function(o){const i={};return o.filter(t=>{const n=(0,c.termToString)(t);return!(n in i)&&(i[n]=!0)})},e.getTermsOfType=a,e.getNamedNodes=function(o){return a(o,"NamedNode")},e.getBlankNodes=function(o){return a(o,"BlankNode")},e.getLiterals=function(o){return a(o,"Literal")},e.getVariables=function(o){return a(o,"Variable")},e.getDefaultGraphs=function(o){return a(o,"DefaultGraph")},e.getQuads=function(o){return a(o,"Quad")};const c=s(43347);function a(o,i){return o.filter(t=>t.termType===i)}e.TERM_TYPES=["NamedNode","BlankNode","Literal","Variable","DefaultGraph","Quad"]},34905:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(15825),e)},35030:function(g,e,s){var c=this&&this.__awaiter||function(t,n,r,u){return new(r||(r=Promise))(function(l,d){function p(y){try{h(u.next(y))}catch(m){d(m)}}function f(y){try{h(u.throw(y))}catch(m){d(m)}}function h(y){var m;y.done?l(y.value):(m=y.value,m instanceof r?m:new r(function(b){b(m)})).then(p,f)}h((u=u.apply(t,n||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.lookupAllPrefixes=e.prefixToUri=e.uriToPrefix=void 0;const a=s(62620),o=s(88993);e.uriToPrefix=function(t,n){return c(this,void 0,void 0,function*(){let r;try{r=yield(0,o.lookupPrefix)(t,n)}catch{n?.mintOnUnknown&&(r=(0,a.fragment)(t).slice(0,4))}if(r!==void 0&&typeof n?.existingPrefixes=="object"&&r in n.existingPrefixes){let u=0;for(;`${r}${u}`in n.existingPrefixes;)u+=1;r=`${r}${u}`}return r})},e.prefixToUri=function(t,n){return c(this,void 0,void 0,function*(){try{return yield(0,o.lookupUri)(t,n)}catch{return}})};var i=s(88993);Object.defineProperty(e,"lookupAllPrefixes",{enumerable:!0,get:function(){return i.lookupAllPrefixes}})},35191:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(86173),e),a(s(93974),e)},35276:g=>{g.exports=function(e){if(!g.exports.WEBSTREAM_SUPPORT)throw new Error("No web ReadableStream support");var s=!1,c={};return new ReadableStream({start:function(a){for(var o in c.data=i,c.end=i,c.end=t,c.close=t,c.error=t,c)e.on(o,c[o]);function i(n){s||(a.enqueue(n),e.pause())}function t(n){if(!s){for(var r in s=!0,c)e.removeListener(r,c[r]);n?a.error(n):a.close()}}e.pause()},pull:function(){s||e.resume()},cancel:function(){for(var a in s=!0,c)e.removeListener(a,c[a]);e.push(null),e.pause(),e.destroy?e.destroy():e.close&&e.close()}})},g.exports.WEBSTREAM_SUPPORT=typeof ReadableStream<"u"},35392:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryOperationLoad=void 0;const c=s(66490),a=s(90711),o=s(67021),i=s(96331);class t extends c.ActorQueryOperationTypedMediated{constructor(r){super(r,"load")}async testOperation(r,u){return(0,o.testReadOnly)(u)}async runOperation(r,u){const l=u.getSafe(a.KeysInitQuery.dataFactory),d=new i.Factory(l);let p=u;r.silent&&(p=p.set(a.KeysInitQuery.lenient,!0));const{querySource:f}=await this.mediatorQuerySourceIdentify.mediate({querySourceUnidentified:{value:r.source.value},context:p});let h=(0,o.getSafeQuads)(await this.mediatorQueryOperation.mediate({operation:d.createConstruct((0,o.assignOperationSource)(d.createPattern(l.variable("s"),l.variable("p"),l.variable("o")),f),[d.createPattern(l.variable("s"),l.variable("p"),l.variable("o"))]),context:p})).quadStream;r.destination&&(h=h.map(m=>l.quad(m.subject,m.predicate,m.object,r.destination)));const{execute:y}=await this.mediatorUpdateQuads.mediate({quadStreamInsert:h,context:u});return{type:"void",execute:y}}}e.ActorQueryOperationLoad=t},35504:(g,e)=>{function s(c){for(var a=1;a<c.length;a++)c[a][0]+=c[a-1][0]+1;return c}Object.defineProperty(e,"__esModule",{value:!0}),e.default=new Map(s([[9,"&Tab;"],[0,"&NewLine;"],[22,"&excl;"],[0,"&quot;"],[0,"&num;"],[0,"&dollar;"],[0,"&percnt;"],[0,"&amp;"],[0,"&apos;"],[0,"&lpar;"],[0,"&rpar;"],[0,"&ast;"],[0,"&plus;"],[0,"&comma;"],[1,"&period;"],[0,"&sol;"],[10,"&colon;"],[0,"&semi;"],[0,{v:"&lt;",n:8402,o:"&nvlt;"}],[0,{v:"&equals;",n:8421,o:"&bne;"}],[0,{v:"&gt;",n:8402,o:"&nvgt;"}],[0,"&quest;"],[0,"&commat;"],[26,"&lbrack;"],[0,"&bsol;"],[0,"&rbrack;"],[0,"&Hat;"],[0,"&lowbar;"],[0,"&DiacriticalGrave;"],[5,{n:106,o:"&fjlig;"}],[20,"&lbrace;"],[0,"&verbar;"],[0,"&rbrace;"],[34,"&nbsp;"],[0,"&iexcl;"],[0,"&cent;"],[0,"&pound;"],[0,"&curren;"],[0,"&yen;"],[0,"&brvbar;"],[0,"&sect;"],[0,"&die;"],[0,"&copy;"],[0,"&ordf;"],[0,"&laquo;"],[0,"&not;"],[0,"&shy;"],[0,"&circledR;"],[0,"&macr;"],[0,"&deg;"],[0,"&PlusMinus;"],[0,"&sup2;"],[0,"&sup3;"],[0,"&acute;"],[0,"&micro;"],[0,"&para;"],[0,"&centerdot;"],[0,"&cedil;"],[0,"&sup1;"],[0,"&ordm;"],[0,"&raquo;"],[0,"&frac14;"],[0,"&frac12;"],[0,"&frac34;"],[0,"&iquest;"],[0,"&Agrave;"],[0,"&Aacute;"],[0,"&Acirc;"],[0,"&Atilde;"],[0,"&Auml;"],[0,"&angst;"],[0,"&AElig;"],[0,"&Ccedil;"],[0,"&Egrave;"],[0,"&Eacute;"],[0,"&Ecirc;"],[0,"&Euml;"],[0,"&Igrave;"],[0,"&Iacute;"],[0,"&Icirc;"],[0,"&Iuml;"],[0,"&ETH;"],[0,"&Ntilde;"],[0,"&Ograve;"],[0,"&Oacute;"],[0,"&Ocirc;"],[0,"&Otilde;"],[0,"&Ouml;"],[0,"&times;"],[0,"&Oslash;"],[0,"&Ugrave;"],[0,"&Uacute;"],[0,"&Ucirc;"],[0,"&Uuml;"],[0,"&Yacute;"],[0,"&THORN;"],[0,"&szlig;"],[0,"&agrave;"],[0,"&aacute;"],[0,"&acirc;"],[0,"&atilde;"],[0,"&auml;"],[0,"&aring;"],[0,"&aelig;"],[0,"&ccedil;"],[0,"&egrave;"],[0,"&eacute;"],[0,"&ecirc;"],[0,"&euml;"],[0,"&igrave;"],[0,"&iacute;"],[0,"&icirc;"],[0,"&iuml;"],[0,"&eth;"],[0,"&ntilde;"],[0,"&ograve;"],[0,"&oacute;"],[0,"&ocirc;"],[0,"&otilde;"],[0,"&ouml;"],[0,"&div;"],[0,"&oslash;"],[0,"&ugrave;"],[0,"&uacute;"],[0,"&ucirc;"],[0,"&uuml;"],[0,"&yacute;"],[0,"&thorn;"],[0,"&yuml;"],[0,"&Amacr;"],[0,"&amacr;"],[0,"&Abreve;"],[0,"&abreve;"],[0,"&Aogon;"],[0,"&aogon;"],[0,"&Cacute;"],[0,"&cacute;"],[0,"&Ccirc;"],[0,"&ccirc;"],[0,"&Cdot;"],[0,"&cdot;"],[0,"&Ccaron;"],[0,"&ccaron;"],[0,"&Dcaron;"],[0,"&dcaron;"],[0,"&Dstrok;"],[0,"&dstrok;"],[0,"&Emacr;"],[0,"&emacr;"],[2,"&Edot;"],[0,"&edot;"],[0,"&Eogon;"],[0,"&eogon;"],[0,"&Ecaron;"],[0,"&ecaron;"],[0,"&Gcirc;"],[0,"&gcirc;"],[0,"&Gbreve;"],[0,"&gbreve;"],[0,"&Gdot;"],[0,"&gdot;"],[0,"&Gcedil;"],[1,"&Hcirc;"],[0,"&hcirc;"],[0,"&Hstrok;"],[0,"&hstrok;"],[0,"&Itilde;"],[0,"&itilde;"],[0,"&Imacr;"],[0,"&imacr;"],[2,"&Iogon;"],[0,"&iogon;"],[0,"&Idot;"],[0,"&imath;"],[0,"&IJlig;"],[0,"&ijlig;"],[0,"&Jcirc;"],[0,"&jcirc;"],[0,"&Kcedil;"],[0,"&kcedil;"],[0,"&kgreen;"],[0,"&Lacute;"],[0,"&lacute;"],[0,"&Lcedil;"],[0,"&lcedil;"],[0,"&Lcaron;"],[0,"&lcaron;"],[0,"&Lmidot;"],[0,"&lmidot;"],[0,"&Lstrok;"],[0,"&lstrok;"],[0,"&Nacute;"],[0,"&nacute;"],[0,"&Ncedil;"],[0,"&ncedil;"],[0,"&Ncaron;"],[0,"&ncaron;"],[0,"&napos;"],[0,"&ENG;"],[0,"&eng;"],[0,"&Omacr;"],[0,"&omacr;"],[2,"&Odblac;"],[0,"&odblac;"],[0,"&OElig;"],[0,"&oelig;"],[0,"&Racute;"],[0,"&racute;"],[0,"&Rcedil;"],[0,"&rcedil;"],[0,"&Rcaron;"],[0,"&rcaron;"],[0,"&Sacute;"],[0,"&sacute;"],[0,"&Scirc;"],[0,"&scirc;"],[0,"&Scedil;"],[0,"&scedil;"],[0,"&Scaron;"],[0,"&scaron;"],[0,"&Tcedil;"],[0,"&tcedil;"],[0,"&Tcaron;"],[0,"&tcaron;"],[0,"&Tstrok;"],[0,"&tstrok;"],[0,"&Utilde;"],[0,"&utilde;"],[0,"&Umacr;"],[0,"&umacr;"],[0,"&Ubreve;"],[0,"&ubreve;"],[0,"&Uring;"],[0,"&uring;"],[0,"&Udblac;"],[0,"&udblac;"],[0,"&Uogon;"],[0,"&uogon;"],[0,"&Wcirc;"],[0,"&wcirc;"],[0,"&Ycirc;"],[0,"&ycirc;"],[0,"&Yuml;"],[0,"&Zacute;"],[0,"&zacute;"],[0,"&Zdot;"],[0,"&zdot;"],[0,"&Zcaron;"],[0,"&zcaron;"],[19,"&fnof;"],[34,"&imped;"],[63,"&gacute;"],[65,"&jmath;"],[142,"&circ;"],[0,"&caron;"],[16,"&breve;"],[0,"&DiacriticalDot;"],[0,"&ring;"],[0,"&ogon;"],[0,"&DiacriticalTilde;"],[0,"&dblac;"],[51,"&DownBreve;"],[127,"&Alpha;"],[0,"&Beta;"],[0,"&Gamma;"],[0,"&Delta;"],[0,"&Epsilon;"],[0,"&Zeta;"],[0,"&Eta;"],[0,"&Theta;"],[0,"&Iota;"],[0,"&Kappa;"],[0,"&Lambda;"],[0,"&Mu;"],[0,"&Nu;"],[0,"&Xi;"],[0,"&Omicron;"],[0,"&Pi;"],[0,"&Rho;"],[1,"&Sigma;"],[0,"&Tau;"],[0,"&Upsilon;"],[0,"&Phi;"],[0,"&Chi;"],[0,"&Psi;"],[0,"&ohm;"],[7,"&alpha;"],[0,"&beta;"],[0,"&gamma;"],[0,"&delta;"],[0,"&epsi;"],[0,"&zeta;"],[0,"&eta;"],[0,"&theta;"],[0,"&iota;"],[0,"&kappa;"],[0,"&lambda;"],[0,"&mu;"],[0,"&nu;"],[0,"&xi;"],[0,"&omicron;"],[0,"&pi;"],[0,"&rho;"],[0,"&sigmaf;"],[0,"&sigma;"],[0,"&tau;"],[0,"&upsi;"],[0,"&phi;"],[0,"&chi;"],[0,"&psi;"],[0,"&omega;"],[7,"&thetasym;"],[0,"&Upsi;"],[2,"&phiv;"],[0,"&piv;"],[5,"&Gammad;"],[0,"&digamma;"],[18,"&kappav;"],[0,"&rhov;"],[3,"&epsiv;"],[0,"&backepsilon;"],[10,"&IOcy;"],[0,"&DJcy;"],[0,"&GJcy;"],[0,"&Jukcy;"],[0,"&DScy;"],[0,"&Iukcy;"],[0,"&YIcy;"],[0,"&Jsercy;"],[0,"&LJcy;"],[0,"&NJcy;"],[0,"&TSHcy;"],[0,"&KJcy;"],[1,"&Ubrcy;"],[0,"&DZcy;"],[0,"&Acy;"],[0,"&Bcy;"],[0,"&Vcy;"],[0,"&Gcy;"],[0,"&Dcy;"],[0,"&IEcy;"],[0,"&ZHcy;"],[0,"&Zcy;"],[0,"&Icy;"],[0,"&Jcy;"],[0,"&Kcy;"],[0,"&Lcy;"],[0,"&Mcy;"],[0,"&Ncy;"],[0,"&Ocy;"],[0,"&Pcy;"],[0,"&Rcy;"],[0,"&Scy;"],[0,"&Tcy;"],[0,"&Ucy;"],[0,"&Fcy;"],[0,"&KHcy;"],[0,"&TScy;"],[0,"&CHcy;"],[0,"&SHcy;"],[0,"&SHCHcy;"],[0,"&HARDcy;"],[0,"&Ycy;"],[0,"&SOFTcy;"],[0,"&Ecy;"],[0,"&YUcy;"],[0,"&YAcy;"],[0,"&acy;"],[0,"&bcy;"],[0,"&vcy;"],[0,"&gcy;"],[0,"&dcy;"],[0,"&iecy;"],[0,"&zhcy;"],[0,"&zcy;"],[0,"&icy;"],[0,"&jcy;"],[0,"&kcy;"],[0,"&lcy;"],[0,"&mcy;"],[0,"&ncy;"],[0,"&ocy;"],[0,"&pcy;"],[0,"&rcy;"],[0,"&scy;"],[0,"&tcy;"],[0,"&ucy;"],[0,"&fcy;"],[0,"&khcy;"],[0,"&tscy;"],[0,"&chcy;"],[0,"&shcy;"],[0,"&shchcy;"],[0,"&hardcy;"],[0,"&ycy;"],[0,"&softcy;"],[0,"&ecy;"],[0,"&yucy;"],[0,"&yacy;"],[1,"&iocy;"],[0,"&djcy;"],[0,"&gjcy;"],[0,"&jukcy;"],[0,"&dscy;"],[0,"&iukcy;"],[0,"&yicy;"],[0,"&jsercy;"],[0,"&ljcy;"],[0,"&njcy;"],[0,"&tshcy;"],[0,"&kjcy;"],[1,"&ubrcy;"],[0,"&dzcy;"],[7074,"&ensp;"],[0,"&emsp;"],[0,"&emsp13;"],[0,"&emsp14;"],[1,"&numsp;"],[0,"&puncsp;"],[0,"&ThinSpace;"],[0,"&hairsp;"],[0,"&NegativeMediumSpace;"],[0,"&zwnj;"],[0,"&zwj;"],[0,"&lrm;"],[0,"&rlm;"],[0,"&dash;"],[2,"&ndash;"],[0,"&mdash;"],[0,"&horbar;"],[0,"&Verbar;"],[1,"&lsquo;"],[0,"&CloseCurlyQuote;"],[0,"&lsquor;"],[1,"&ldquo;"],[0,"&CloseCurlyDoubleQuote;"],[0,"&bdquo;"],[1,"&dagger;"],[0,"&Dagger;"],[0,"&bull;"],[2,"&nldr;"],[0,"&hellip;"],[9,"&permil;"],[0,"&pertenk;"],[0,"&prime;"],[0,"&Prime;"],[0,"&tprime;"],[0,"&backprime;"],[3,"&lsaquo;"],[0,"&rsaquo;"],[3,"&oline;"],[2,"&caret;"],[1,"&hybull;"],[0,"&frasl;"],[10,"&bsemi;"],[7,"&qprime;"],[7,{v:"&MediumSpace;",n:8202,o:"&ThickSpace;"}],[0,"&NoBreak;"],[0,"&af;"],[0,"&InvisibleTimes;"],[0,"&ic;"],[72,"&euro;"],[46,"&tdot;"],[0,"&DotDot;"],[37,"&complexes;"],[2,"&incare;"],[4,"&gscr;"],[0,"&hamilt;"],[0,"&Hfr;"],[0,"&Hopf;"],[0,"&planckh;"],[0,"&hbar;"],[0,"&imagline;"],[0,"&Ifr;"],[0,"&lagran;"],[0,"&ell;"],[1,"&naturals;"],[0,"&numero;"],[0,"&copysr;"],[0,"&weierp;"],[0,"&Popf;"],[0,"&Qopf;"],[0,"&realine;"],[0,"&real;"],[0,"&reals;"],[0,"&rx;"],[3,"&trade;"],[1,"&integers;"],[2,"&mho;"],[0,"&zeetrf;"],[0,"&iiota;"],[2,"&bernou;"],[0,"&Cayleys;"],[1,"&escr;"],[0,"&Escr;"],[0,"&Fouriertrf;"],[1,"&Mellintrf;"],[0,"&order;"],[0,"&alefsym;"],[0,"&beth;"],[0,"&gimel;"],[0,"&daleth;"],[12,"&CapitalDifferentialD;"],[0,"&dd;"],[0,"&ee;"],[0,"&ii;"],[10,"&frac13;"],[0,"&frac23;"],[0,"&frac15;"],[0,"&frac25;"],[0,"&frac35;"],[0,"&frac45;"],[0,"&frac16;"],[0,"&frac56;"],[0,"&frac18;"],[0,"&frac38;"],[0,"&frac58;"],[0,"&frac78;"],[49,"&larr;"],[0,"&ShortUpArrow;"],[0,"&rarr;"],[0,"&darr;"],[0,"&harr;"],[0,"&updownarrow;"],[0,"&nwarr;"],[0,"&nearr;"],[0,"&LowerRightArrow;"],[0,"&LowerLeftArrow;"],[0,"&nlarr;"],[0,"&nrarr;"],[1,{v:"&rarrw;",n:824,o:"&nrarrw;"}],[0,"&Larr;"],[0,"&Uarr;"],[0,"&Rarr;"],[0,"&Darr;"],[0,"&larrtl;"],[0,"&rarrtl;"],[0,"&LeftTeeArrow;"],[0,"&mapstoup;"],[0,"&map;"],[0,"&DownTeeArrow;"],[1,"&hookleftarrow;"],[0,"&hookrightarrow;"],[0,"&larrlp;"],[0,"&looparrowright;"],[0,"&harrw;"],[0,"&nharr;"],[1,"&lsh;"],[0,"&rsh;"],[0,"&ldsh;"],[0,"&rdsh;"],[1,"&crarr;"],[0,"&cularr;"],[0,"&curarr;"],[2,"&circlearrowleft;"],[0,"&circlearrowright;"],[0,"&leftharpoonup;"],[0,"&DownLeftVector;"],[0,"&RightUpVector;"],[0,"&LeftUpVector;"],[0,"&rharu;"],[0,"&DownRightVector;"],[0,"&dharr;"],[0,"&dharl;"],[0,"&RightArrowLeftArrow;"],[0,"&udarr;"],[0,"&LeftArrowRightArrow;"],[0,"&leftleftarrows;"],[0,"&upuparrows;"],[0,"&rightrightarrows;"],[0,"&ddarr;"],[0,"&leftrightharpoons;"],[0,"&Equilibrium;"],[0,"&nlArr;"],[0,"&nhArr;"],[0,"&nrArr;"],[0,"&DoubleLeftArrow;"],[0,"&DoubleUpArrow;"],[0,"&DoubleRightArrow;"],[0,"&dArr;"],[0,"&DoubleLeftRightArrow;"],[0,"&DoubleUpDownArrow;"],[0,"&nwArr;"],[0,"&neArr;"],[0,"&seArr;"],[0,"&swArr;"],[0,"&lAarr;"],[0,"&rAarr;"],[1,"&zigrarr;"],[6,"&larrb;"],[0,"&rarrb;"],[15,"&DownArrowUpArrow;"],[7,"&loarr;"],[0,"&roarr;"],[0,"&hoarr;"],[0,"&forall;"],[0,"&comp;"],[0,{v:"&part;",n:824,o:"&npart;"}],[0,"&exist;"],[0,"&nexist;"],[0,"&empty;"],[1,"&Del;"],[0,"&Element;"],[0,"&NotElement;"],[1,"&ni;"],[0,"&notni;"],[2,"&prod;"],[0,"&coprod;"],[0,"&sum;"],[0,"&minus;"],[0,"&MinusPlus;"],[0,"&dotplus;"],[1,"&Backslash;"],[0,"&lowast;"],[0,"&compfn;"],[1,"&radic;"],[2,"&prop;"],[0,"&infin;"],[0,"&angrt;"],[0,{v:"&ang;",n:8402,o:"&nang;"}],[0,"&angmsd;"],[0,"&angsph;"],[0,"&mid;"],[0,"&nmid;"],[0,"&DoubleVerticalBar;"],[0,"&NotDoubleVerticalBar;"],[0,"&and;"],[0,"&or;"],[0,{v:"&cap;",n:65024,o:"&caps;"}],[0,{v:"&cup;",n:65024,o:"&cups;"}],[0,"&int;"],[0,"&Int;"],[0,"&iiint;"],[0,"&conint;"],[0,"&Conint;"],[0,"&Cconint;"],[0,"&cwint;"],[0,"&ClockwiseContourIntegral;"],[0,"&awconint;"],[0,"&there4;"],[0,"&becaus;"],[0,"&ratio;"],[0,"&Colon;"],[0,"&dotminus;"],[1,"&mDDot;"],[0,"&homtht;"],[0,{v:"&sim;",n:8402,o:"&nvsim;"}],[0,{v:"&backsim;",n:817,o:"&race;"}],[0,{v:"&ac;",n:819,o:"&acE;"}],[0,"&acd;"],[0,"&VerticalTilde;"],[0,"&NotTilde;"],[0,{v:"&eqsim;",n:824,o:"&nesim;"}],[0,"&sime;"],[0,"&NotTildeEqual;"],[0,"&cong;"],[0,"&simne;"],[0,"&ncong;"],[0,"&ap;"],[0,"&nap;"],[0,"&ape;"],[0,{v:"&apid;",n:824,o:"&napid;"}],[0,"&backcong;"],[0,{v:"&asympeq;",n:8402,o:"&nvap;"}],[0,{v:"&bump;",n:824,o:"&nbump;"}],[0,{v:"&bumpe;",n:824,o:"&nbumpe;"}],[0,{v:"&doteq;",n:824,o:"&nedot;"}],[0,"&doteqdot;"],[0,"&efDot;"],[0,"&erDot;"],[0,"&Assign;"],[0,"&ecolon;"],[0,"&ecir;"],[0,"&circeq;"],[1,"&wedgeq;"],[0,"&veeeq;"],[1,"&triangleq;"],[2,"&equest;"],[0,"&ne;"],[0,{v:"&Congruent;",n:8421,o:"&bnequiv;"}],[0,"&nequiv;"],[1,{v:"&le;",n:8402,o:"&nvle;"}],[0,{v:"&ge;",n:8402,o:"&nvge;"}],[0,{v:"&lE;",n:824,o:"&nlE;"}],[0,{v:"&gE;",n:824,o:"&ngE;"}],[0,{v:"&lnE;",n:65024,o:"&lvertneqq;"}],[0,{v:"&gnE;",n:65024,o:"&gvertneqq;"}],[0,{v:"&ll;",n:new Map(s([[824,"&nLtv;"],[7577,"&nLt;"]]))}],[0,{v:"&gg;",n:new Map(s([[824,"&nGtv;"],[7577,"&nGt;"]]))}],[0,"&between;"],[0,"&NotCupCap;"],[0,"&nless;"],[0,"&ngt;"],[0,"&nle;"],[0,"&nge;"],[0,"&lesssim;"],[0,"&GreaterTilde;"],[0,"&nlsim;"],[0,"&ngsim;"],[0,"&LessGreater;"],[0,"&gl;"],[0,"&NotLessGreater;"],[0,"&NotGreaterLess;"],[0,"&pr;"],[0,"&sc;"],[0,"&prcue;"],[0,"&sccue;"],[0,"&PrecedesTilde;"],[0,{v:"&scsim;",n:824,o:"&NotSucceedsTilde;"}],[0,"&NotPrecedes;"],[0,"&NotSucceeds;"],[0,{v:"&sub;",n:8402,o:"&NotSubset;"}],[0,{v:"&sup;",n:8402,o:"&NotSuperset;"}],[0,"&nsub;"],[0,"&nsup;"],[0,"&sube;"],[0,"&supe;"],[0,"&NotSubsetEqual;"],[0,"&NotSupersetEqual;"],[0,{v:"&subne;",n:65024,o:"&varsubsetneq;"}],[0,{v:"&supne;",n:65024,o:"&varsupsetneq;"}],[1,"&cupdot;"],[0,"&UnionPlus;"],[0,{v:"&sqsub;",n:824,o:"&NotSquareSubset;"}],[0,{v:"&sqsup;",n:824,o:"&NotSquareSuperset;"}],[0,"&sqsube;"],[0,"&sqsupe;"],[0,{v:"&sqcap;",n:65024,o:"&sqcaps;"}],[0,{v:"&sqcup;",n:65024,o:"&sqcups;"}],[0,"&CirclePlus;"],[0,"&CircleMinus;"],[0,"&CircleTimes;"],[0,"&osol;"],[0,"&CircleDot;"],[0,"&circledcirc;"],[0,"&circledast;"],[1,"&circleddash;"],[0,"&boxplus;"],[0,"&boxminus;"],[0,"&boxtimes;"],[0,"&dotsquare;"],[0,"&RightTee;"],[0,"&dashv;"],[0,"&DownTee;"],[0,"&bot;"],[1,"&models;"],[0,"&DoubleRightTee;"],[0,"&Vdash;"],[0,"&Vvdash;"],[0,"&VDash;"],[0,"&nvdash;"],[0,"&nvDash;"],[0,"&nVdash;"],[0,"&nVDash;"],[0,"&prurel;"],[1,"&LeftTriangle;"],[0,"&RightTriangle;"],[0,{v:"&LeftTriangleEqual;",n:8402,o:"&nvltrie;"}],[0,{v:"&RightTriangleEqual;",n:8402,o:"&nvrtrie;"}],[0,"&origof;"],[0,"&imof;"],[0,"&multimap;"],[0,"&hercon;"],[0,"&intcal;"],[0,"&veebar;"],[1,"&barvee;"],[0,"&angrtvb;"],[0,"&lrtri;"],[0,"&bigwedge;"],[0,"&bigvee;"],[0,"&bigcap;"],[0,"&bigcup;"],[0,"&diam;"],[0,"&sdot;"],[0,"&sstarf;"],[0,"&divideontimes;"],[0,"&bowtie;"],[0,"&ltimes;"],[0,"&rtimes;"],[0,"&leftthreetimes;"],[0,"&rightthreetimes;"],[0,"&backsimeq;"],[0,"&curlyvee;"],[0,"&curlywedge;"],[0,"&Sub;"],[0,"&Sup;"],[0,"&Cap;"],[0,"&Cup;"],[0,"&fork;"],[0,"&epar;"],[0,"&lessdot;"],[0,"&gtdot;"],[0,{v:"&Ll;",n:824,o:"&nLl;"}],[0,{v:"&Gg;",n:824,o:"&nGg;"}],[0,{v:"&leg;",n:65024,o:"&lesg;"}],[0,{v:"&gel;",n:65024,o:"&gesl;"}],[2,"&cuepr;"],[0,"&cuesc;"],[0,"&NotPrecedesSlantEqual;"],[0,"&NotSucceedsSlantEqual;"],[0,"&NotSquareSubsetEqual;"],[0,"&NotSquareSupersetEqual;"],[2,"&lnsim;"],[0,"&gnsim;"],[0,"&precnsim;"],[0,"&scnsim;"],[0,"&nltri;"],[0,"&NotRightTriangle;"],[0,"&nltrie;"],[0,"&NotRightTriangleEqual;"],[0,"&vellip;"],[0,"&ctdot;"],[0,"&utdot;"],[0,"&dtdot;"],[0,"&disin;"],[0,"&isinsv;"],[0,"&isins;"],[0,{v:"&isindot;",n:824,o:"&notindot;"}],[0,"&notinvc;"],[0,"&notinvb;"],[1,{v:"&isinE;",n:824,o:"&notinE;"}],[0,"&nisd;"],[0,"&xnis;"],[0,"&nis;"],[0,"&notnivc;"],[0,"&notnivb;"],[6,"&barwed;"],[0,"&Barwed;"],[1,"&lceil;"],[0,"&rceil;"],[0,"&LeftFloor;"],[0,"&rfloor;"],[0,"&drcrop;"],[0,"&dlcrop;"],[0,"&urcrop;"],[0,"&ulcrop;"],[0,"&bnot;"],[1,"&profline;"],[0,"&profsurf;"],[1,"&telrec;"],[0,"&target;"],[5,"&ulcorn;"],[0,"&urcorn;"],[0,"&dlcorn;"],[0,"&drcorn;"],[2,"&frown;"],[0,"&smile;"],[9,"&cylcty;"],[0,"&profalar;"],[7,"&topbot;"],[6,"&ovbar;"],[1,"&solbar;"],[60,"&angzarr;"],[51,"&lmoustache;"],[0,"&rmoustache;"],[2,"&OverBracket;"],[0,"&bbrk;"],[0,"&bbrktbrk;"],[37,"&OverParenthesis;"],[0,"&UnderParenthesis;"],[0,"&OverBrace;"],[0,"&UnderBrace;"],[2,"&trpezium;"],[4,"&elinters;"],[59,"&blank;"],[164,"&circledS;"],[55,"&boxh;"],[1,"&boxv;"],[9,"&boxdr;"],[3,"&boxdl;"],[3,"&boxur;"],[3,"&boxul;"],[3,"&boxvr;"],[7,"&boxvl;"],[7,"&boxhd;"],[7,"&boxhu;"],[7,"&boxvh;"],[19,"&boxH;"],[0,"&boxV;"],[0,"&boxdR;"],[0,"&boxDr;"],[0,"&boxDR;"],[0,"&boxdL;"],[0,"&boxDl;"],[0,"&boxDL;"],[0,"&boxuR;"],[0,"&boxUr;"],[0,"&boxUR;"],[0,"&boxuL;"],[0,"&boxUl;"],[0,"&boxUL;"],[0,"&boxvR;"],[0,"&boxVr;"],[0,"&boxVR;"],[0,"&boxvL;"],[0,"&boxVl;"],[0,"&boxVL;"],[0,"&boxHd;"],[0,"&boxhD;"],[0,"&boxHD;"],[0,"&boxHu;"],[0,"&boxhU;"],[0,"&boxHU;"],[0,"&boxvH;"],[0,"&boxVh;"],[0,"&boxVH;"],[19,"&uhblk;"],[3,"&lhblk;"],[3,"&block;"],[8,"&blk14;"],[0,"&blk12;"],[0,"&blk34;"],[13,"&square;"],[8,"&blacksquare;"],[0,"&EmptyVerySmallSquare;"],[1,"&rect;"],[0,"&marker;"],[2,"&fltns;"],[1,"&bigtriangleup;"],[0,"&blacktriangle;"],[0,"&triangle;"],[2,"&blacktriangleright;"],[0,"&rtri;"],[3,"&bigtriangledown;"],[0,"&blacktriangledown;"],[0,"&dtri;"],[2,"&blacktriangleleft;"],[0,"&ltri;"],[6,"&loz;"],[0,"&cir;"],[32,"&tridot;"],[2,"&bigcirc;"],[8,"&ultri;"],[0,"&urtri;"],[0,"&lltri;"],[0,"&EmptySmallSquare;"],[0,"&FilledSmallSquare;"],[8,"&bigstar;"],[0,"&star;"],[7,"&phone;"],[49,"&female;"],[1,"&male;"],[29,"&spades;"],[2,"&clubs;"],[1,"&hearts;"],[0,"&diamondsuit;"],[3,"&sung;"],[2,"&flat;"],[0,"&natural;"],[0,"&sharp;"],[163,"&check;"],[3,"&cross;"],[8,"&malt;"],[21,"&sext;"],[33,"&VerticalSeparator;"],[25,"&lbbrk;"],[0,"&rbbrk;"],[84,"&bsolhsub;"],[0,"&suphsol;"],[28,"&LeftDoubleBracket;"],[0,"&RightDoubleBracket;"],[0,"&lang;"],[0,"&rang;"],[0,"&Lang;"],[0,"&Rang;"],[0,"&loang;"],[0,"&roang;"],[7,"&longleftarrow;"],[0,"&longrightarrow;"],[0,"&longleftrightarrow;"],[0,"&DoubleLongLeftArrow;"],[0,"&DoubleLongRightArrow;"],[0,"&DoubleLongLeftRightArrow;"],[1,"&longmapsto;"],[2,"&dzigrarr;"],[258,"&nvlArr;"],[0,"&nvrArr;"],[0,"&nvHarr;"],[0,"&Map;"],[6,"&lbarr;"],[0,"&bkarow;"],[0,"&lBarr;"],[0,"&dbkarow;"],[0,"&drbkarow;"],[0,"&DDotrahd;"],[0,"&UpArrowBar;"],[0,"&DownArrowBar;"],[2,"&Rarrtl;"],[2,"&latail;"],[0,"&ratail;"],[0,"&lAtail;"],[0,"&rAtail;"],[0,"&larrfs;"],[0,"&rarrfs;"],[0,"&larrbfs;"],[0,"&rarrbfs;"],[2,"&nwarhk;"],[0,"&nearhk;"],[0,"&hksearow;"],[0,"&hkswarow;"],[0,"&nwnear;"],[0,"&nesear;"],[0,"&seswar;"],[0,"&swnwar;"],[8,{v:"&rarrc;",n:824,o:"&nrarrc;"}],[1,"&cudarrr;"],[0,"&ldca;"],[0,"&rdca;"],[0,"&cudarrl;"],[0,"&larrpl;"],[2,"&curarrm;"],[0,"&cularrp;"],[7,"&rarrpl;"],[2,"&harrcir;"],[0,"&Uarrocir;"],[0,"&lurdshar;"],[0,"&ldrushar;"],[2,"&LeftRightVector;"],[0,"&RightUpDownVector;"],[0,"&DownLeftRightVector;"],[0,"&LeftUpDownVector;"],[0,"&LeftVectorBar;"],[0,"&RightVectorBar;"],[0,"&RightUpVectorBar;"],[0,"&RightDownVectorBar;"],[0,"&DownLeftVectorBar;"],[0,"&DownRightVectorBar;"],[0,"&LeftUpVectorBar;"],[0,"&LeftDownVectorBar;"],[0,"&LeftTeeVector;"],[0,"&RightTeeVector;"],[0,"&RightUpTeeVector;"],[0,"&RightDownTeeVector;"],[0,"&DownLeftTeeVector;"],[0,"&DownRightTeeVector;"],[0,"&LeftUpTeeVector;"],[0,"&LeftDownTeeVector;"],[0,"&lHar;"],[0,"&uHar;"],[0,"&rHar;"],[0,"&dHar;"],[0,"&luruhar;"],[0,"&ldrdhar;"],[0,"&ruluhar;"],[0,"&rdldhar;"],[0,"&lharul;"],[0,"&llhard;"],[0,"&rharul;"],[0,"&lrhard;"],[0,"&udhar;"],[0,"&duhar;"],[0,"&RoundImplies;"],[0,"&erarr;"],[0,"&simrarr;"],[0,"&larrsim;"],[0,"&rarrsim;"],[0,"&rarrap;"],[0,"&ltlarr;"],[1,"&gtrarr;"],[0,"&subrarr;"],[1,"&suplarr;"],[0,"&lfisht;"],[0,"&rfisht;"],[0,"&ufisht;"],[0,"&dfisht;"],[5,"&lopar;"],[0,"&ropar;"],[4,"&lbrke;"],[0,"&rbrke;"],[0,"&lbrkslu;"],[0,"&rbrksld;"],[0,"&lbrksld;"],[0,"&rbrkslu;"],[0,"&langd;"],[0,"&rangd;"],[0,"&lparlt;"],[0,"&rpargt;"],[0,"&gtlPar;"],[0,"&ltrPar;"],[3,"&vzigzag;"],[1,"&vangrt;"],[0,"&angrtvbd;"],[6,"&ange;"],[0,"&range;"],[0,"&dwangle;"],[0,"&uwangle;"],[0,"&angmsdaa;"],[0,"&angmsdab;"],[0,"&angmsdac;"],[0,"&angmsdad;"],[0,"&angmsdae;"],[0,"&angmsdaf;"],[0,"&angmsdag;"],[0,"&angmsdah;"],[0,"&bemptyv;"],[0,"&demptyv;"],[0,"&cemptyv;"],[0,"&raemptyv;"],[0,"&laemptyv;"],[0,"&ohbar;"],[0,"&omid;"],[0,"&opar;"],[1,"&operp;"],[1,"&olcross;"],[0,"&odsold;"],[1,"&olcir;"],[0,"&ofcir;"],[0,"&olt;"],[0,"&ogt;"],[0,"&cirscir;"],[0,"&cirE;"],[0,"&solb;"],[0,"&bsolb;"],[3,"&boxbox;"],[3,"&trisb;"],[0,"&rtriltri;"],[0,{v:"&LeftTriangleBar;",n:824,o:"&NotLeftTriangleBar;"}],[0,{v:"&RightTriangleBar;",n:824,o:"&NotRightTriangleBar;"}],[11,"&iinfin;"],[0,"&infintie;"],[0,"&nvinfin;"],[4,"&eparsl;"],[0,"&smeparsl;"],[0,"&eqvparsl;"],[5,"&blacklozenge;"],[8,"&RuleDelayed;"],[1,"&dsol;"],[9,"&bigodot;"],[0,"&bigoplus;"],[0,"&bigotimes;"],[1,"&biguplus;"],[1,"&bigsqcup;"],[5,"&iiiint;"],[0,"&fpartint;"],[2,"&cirfnint;"],[0,"&awint;"],[0,"&rppolint;"],[0,"&scpolint;"],[0,"&npolint;"],[0,"&pointint;"],[0,"&quatint;"],[0,"&intlarhk;"],[10,"&pluscir;"],[0,"&plusacir;"],[0,"&simplus;"],[0,"&plusdu;"],[0,"&plussim;"],[0,"&plustwo;"],[1,"&mcomma;"],[0,"&minusdu;"],[2,"&loplus;"],[0,"&roplus;"],[0,"&Cross;"],[0,"&timesd;"],[0,"&timesbar;"],[1,"&smashp;"],[0,"&lotimes;"],[0,"&rotimes;"],[0,"&otimesas;"],[0,"&Otimes;"],[0,"&odiv;"],[0,"&triplus;"],[0,"&triminus;"],[0,"&tritime;"],[0,"&intprod;"],[2,"&amalg;"],[0,"&capdot;"],[1,"&ncup;"],[0,"&ncap;"],[0,"&capand;"],[0,"&cupor;"],[0,"&cupcap;"],[0,"&capcup;"],[0,"&cupbrcap;"],[0,"&capbrcup;"],[0,"&cupcup;"],[0,"&capcap;"],[0,"&ccups;"],[0,"&ccaps;"],[2,"&ccupssm;"],[2,"&And;"],[0,"&Or;"],[0,"&andand;"],[0,"&oror;"],[0,"&orslope;"],[0,"&andslope;"],[1,"&andv;"],[0,"&orv;"],[0,"&andd;"],[0,"&ord;"],[1,"&wedbar;"],[6,"&sdote;"],[3,"&simdot;"],[2,{v:"&congdot;",n:824,o:"&ncongdot;"}],[0,"&easter;"],[0,"&apacir;"],[0,{v:"&apE;",n:824,o:"&napE;"}],[0,"&eplus;"],[0,"&pluse;"],[0,"&Esim;"],[0,"&Colone;"],[0,"&Equal;"],[1,"&ddotseq;"],[0,"&equivDD;"],[0,"&ltcir;"],[0,"&gtcir;"],[0,"&ltquest;"],[0,"&gtquest;"],[0,{v:"&leqslant;",n:824,o:"&nleqslant;"}],[0,{v:"&geqslant;",n:824,o:"&ngeqslant;"}],[0,"&lesdot;"],[0,"&gesdot;"],[0,"&lesdoto;"],[0,"&gesdoto;"],[0,"&lesdotor;"],[0,"&gesdotol;"],[0,"&lap;"],[0,"&gap;"],[0,"&lne;"],[0,"&gne;"],[0,"&lnap;"],[0,"&gnap;"],[0,"&lEg;"],[0,"&gEl;"],[0,"&lsime;"],[0,"&gsime;"],[0,"&lsimg;"],[0,"&gsiml;"],[0,"&lgE;"],[0,"&glE;"],[0,"&lesges;"],[0,"&gesles;"],[0,"&els;"],[0,"&egs;"],[0,"&elsdot;"],[0,"&egsdot;"],[0,"&el;"],[0,"&eg;"],[2,"&siml;"],[0,"&simg;"],[0,"&simlE;"],[0,"&simgE;"],[0,{v:"&LessLess;",n:824,o:"&NotNestedLessLess;"}],[0,{v:"&GreaterGreater;",n:824,o:"&NotNestedGreaterGreater;"}],[1,"&glj;"],[0,"&gla;"],[0,"&ltcc;"],[0,"&gtcc;"],[0,"&lescc;"],[0,"&gescc;"],[0,"&smt;"],[0,"&lat;"],[0,{v:"&smte;",n:65024,o:"&smtes;"}],[0,{v:"&late;",n:65024,o:"&lates;"}],[0,"&bumpE;"],[0,{v:"&PrecedesEqual;",n:824,o:"&NotPrecedesEqual;"}],[0,{v:"&sce;",n:824,o:"&NotSucceedsEqual;"}],[2,"&prE;"],[0,"&scE;"],[0,"&precneqq;"],[0,"&scnE;"],[0,"&prap;"],[0,"&scap;"],[0,"&precnapprox;"],[0,"&scnap;"],[0,"&Pr;"],[0,"&Sc;"],[0,"&subdot;"],[0,"&supdot;"],[0,"&subplus;"],[0,"&supplus;"],[0,"&submult;"],[0,"&supmult;"],[0,"&subedot;"],[0,"&supedot;"],[0,{v:"&subE;",n:824,o:"&nsubE;"}],[0,{v:"&supE;",n:824,o:"&nsupE;"}],[0,"&subsim;"],[0,"&supsim;"],[2,{v:"&subnE;",n:65024,o:"&varsubsetneqq;"}],[0,{v:"&supnE;",n:65024,o:"&varsupsetneqq;"}],[2,"&csub;"],[0,"&csup;"],[0,"&csube;"],[0,"&csupe;"],[0,"&subsup;"],[0,"&supsub;"],[0,"&subsub;"],[0,"&supsup;"],[0,"&suphsub;"],[0,"&supdsub;"],[0,"&forkv;"],[0,"&topfork;"],[0,"&mlcp;"],[8,"&Dashv;"],[1,"&Vdashl;"],[0,"&Barv;"],[0,"&vBar;"],[0,"&vBarv;"],[1,"&Vbar;"],[0,"&Not;"],[0,"&bNot;"],[0,"&rnmid;"],[0,"&cirmid;"],[0,"&midcir;"],[0,"&topcir;"],[0,"&nhpar;"],[0,"&parsim;"],[9,{v:"&parsl;",n:8421,o:"&nparsl;"}],[44343,{n:new Map(s([[56476,"&Ascr;"],[1,"&Cscr;"],[0,"&Dscr;"],[2,"&Gscr;"],[2,"&Jscr;"],[0,"&Kscr;"],[2,"&Nscr;"],[0,"&Oscr;"],[0,"&Pscr;"],[0,"&Qscr;"],[1,"&Sscr;"],[0,"&Tscr;"],[0,"&Uscr;"],[0,"&Vscr;"],[0,"&Wscr;"],[0,"&Xscr;"],[0,"&Yscr;"],[0,"&Zscr;"],[0,"&ascr;"],[0,"&bscr;"],[0,"&cscr;"],[0,"&dscr;"],[1,"&fscr;"],[1,"&hscr;"],[0,"&iscr;"],[0,"&jscr;"],[0,"&kscr;"],[0,"&lscr;"],[0,"&mscr;"],[0,"&nscr;"],[1,"&pscr;"],[0,"&qscr;"],[0,"&rscr;"],[0,"&sscr;"],[0,"&tscr;"],[0,"&uscr;"],[0,"&vscr;"],[0,"&wscr;"],[0,"&xscr;"],[0,"&yscr;"],[0,"&zscr;"],[52,"&Afr;"],[0,"&Bfr;"],[1,"&Dfr;"],[0,"&Efr;"],[0,"&Ffr;"],[0,"&Gfr;"],[2,"&Jfr;"],[0,"&Kfr;"],[0,"&Lfr;"],[0,"&Mfr;"],[0,"&Nfr;"],[0,"&Ofr;"],[0,"&Pfr;"],[0,"&Qfr;"],[1,"&Sfr;"],[0,"&Tfr;"],[0,"&Ufr;"],[0,"&Vfr;"],[0,"&Wfr;"],[0,"&Xfr;"],[0,"&Yfr;"],[1,"&afr;"],[0,"&bfr;"],[0,"&cfr;"],[0,"&dfr;"],[0,"&efr;"],[0,"&ffr;"],[0,"&gfr;"],[0,"&hfr;"],[0,"&ifr;"],[0,"&jfr;"],[0,"&kfr;"],[0,"&lfr;"],[0,"&mfr;"],[0,"&nfr;"],[0,"&ofr;"],[0,"&pfr;"],[0,"&qfr;"],[0,"&rfr;"],[0,"&sfr;"],[0,"&tfr;"],[0,"&ufr;"],[0,"&vfr;"],[0,"&wfr;"],[0,"&xfr;"],[0,"&yfr;"],[0,"&zfr;"],[0,"&Aopf;"],[0,"&Bopf;"],[1,"&Dopf;"],[0,"&Eopf;"],[0,"&Fopf;"],[0,"&Gopf;"],[1,"&Iopf;"],[0,"&Jopf;"],[0,"&Kopf;"],[0,"&Lopf;"],[0,"&Mopf;"],[1,"&Oopf;"],[3,"&Sopf;"],[0,"&Topf;"],[0,"&Uopf;"],[0,"&Vopf;"],[0,"&Wopf;"],[0,"&Xopf;"],[0,"&Yopf;"],[1,"&aopf;"],[0,"&bopf;"],[0,"&copf;"],[0,"&dopf;"],[0,"&eopf;"],[0,"&fopf;"],[0,"&gopf;"],[0,"&hopf;"],[0,"&iopf;"],[0,"&jopf;"],[0,"&kopf;"],[0,"&lopf;"],[0,"&mopf;"],[0,"&nopf;"],[0,"&oopf;"],[0,"&popf;"],[0,"&qopf;"],[0,"&ropf;"],[0,"&sopf;"],[0,"&topf;"],[0,"&uopf;"],[0,"&vopf;"],[0,"&wopf;"],[0,"&xopf;"],[0,"&yopf;"],[0,"&zopf;"]]))}],[8906,"&fflig;"],[0,"&filig;"],[0,"&fllig;"],[0,"&ffilig;"],[0,"&ffllig;"]]))},35529:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(29111),e)},35535:function(g,e,s){var c=this&&this.__awaiter||function(o,i,t,n){return new(t||(t=Promise))(function(r,u){function l(f){try{p(n.next(f))}catch(h){u(h)}}function d(f){try{p(n.throw(f))}catch(h){u(h)}}function p(f){var h;f.done?r(f.value):(h=f.value,h instanceof t?h:new t(function(y){y(h)})).then(l,d)}p((n=n.apply(o,i||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.lookupPrefix=void 0;const a=s(37338);e.lookupPrefix=function(o,i){return c(this,void 0,void 0,function*(){const t=new URL("https://prefix.cc/reverse");t.searchParams.append("uri",o),t.searchParams.append("format","jsonld");const n=Object.keys(yield(0,a.fetchContext)(t,i));if(n.length===0)throw new Error("No prefixes returned");return n[0]})}},35694:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isTermGrounded=e.termToSignature=e.quadToSignature=e.sha1hex=e.hashTerm=e.hashTerms=e.getGraphBlankNodes=e.uniqGraph=e.deindexGraph=e.indexGraph=e.getQuadsWithoutBlankNodes=e.getQuadsWithBlankNodes=e.hasValue=e.hashValues=e.getBijectionInner=e.getBijection=e.isomorphic=void 0;const c=s(77952),a=s(30197),o=s(3285);function i(A,T){const S=p(d(A)),E=p(d(T));if(Object.keys(S).length!==Object.keys(E).length)return null;for(const D in S)if(S[D]!==E[D])return null;return t(h(l(A)),h(l(T)),y(A),y(T))}function t(A,T,S,E,D,I){D||(D={}),I||(I={});const[V,K]=m(A,S,D),[B,$]=m(T,E,I);if(Object.keys(V).length!==Object.keys(B).length)return null;for(const U in V)if(!u(B,V[U]))return null;let G={};for(const U of S){const W=a.termToString(U),ye=K[W];for(const ve in $)if($[ve]===ye){G[W]=ve,delete $[ve];break}}if(!n(Object.keys(G).sort(),S.map(a.termToString).sort())||!n(r(G).sort(),E.map(a.termToString).sort())){G=null;for(const U of S){const W=a.termToString(U);if(!V[W])for(const ye of E){const ve=a.termToString(ye);if(!B[ve]&&K[W]===$[ve]){const he=v(W);G=t(A,T,S,E,Object.assign(Object.assign({},V),{[W]:he}),Object.assign(Object.assign({},B),{[ve]:he}))}}}}return G}function n(A,T){if(A.length!==T.length)return!1;for(let S=A.length;S--;)if(A[S]!==T[S])return!1;return!0}function r(A){const T=[];for(const S in A)T.push(A[S]);return T}function u(A,T){for(const S in A)if(A[S]===T)return!0;return!1}function l(A){return A.filter(T=>o.someTerms(T,S=>S.termType==="BlankNode"||S.termType==="Quad"&&o.getTermsNested(S).some(E=>E.termType==="BlankNode")))}function d(A){return A.filter(T=>o.everyTerms(T,S=>S.termType!=="BlankNode"&&!(S.termType==="Quad"&&o.getTermsNested(S).some(E=>E.termType==="BlankNode"))))}function p(A){const T={};for(const S of A)T[JSON.stringify(a.quadToStringQuad(S))]=!0;return T}function f(A){return Object.keys(A).map(T=>a.stringQuadToQuad(JSON.parse(T)))}function h(A){return f(p(A))}function y(A){return o.uniqTerms(A.map(T=>o.getBlankNodes(o.getTermsNested(T))).reduce((T,S)=>T.concat(S),[]))}function m(A,T,S){const E=Object.assign({},S),D={};let I=!0;for(;I;){const V=Object.keys(E).length;for(const B of T){const $=a.termToString(B);if(!E[$]){const[G,U]=b(B,A,E);G&&(E[$]=U),D[$]=U}}const K={};for(const B in D){const $=D[B];K[$]===void 0?K[$]=B:K[$]=!1}for(const B in K){const $=K[B];$&&(E[$]=B)}I=V!==Object.keys(E).length}return[E,D]}function b(A,T,S){const E=[];let D=!0;for(const I of T){const V=o.getTermsNested(I);if(V.some(K=>K.equals(A))){E.push(_(I,S,A));for(const K of V)O(K,S)||K.equals(A)||(D=!1)}}return[D,v(E.sort().join(""))]}function v(A){return c.sha1().update(A).digest("hex")}function _(A,T,S){return o.getTerms(A).map(E=>w(E,T,S)).join("|")}function w(A,T,S){return A.equals(S)?"@self":A.termType==="BlankNode"?T[a.termToString(A)]||"@blank":A.termType==="Quad"?`<${_(A,T,S)}>`:a.termToString(A)}function O(A,T){return A.termType!=="BlankNode"&&!(A.termType==="Quad"&&o.getTermsNested(A).some(S=>!O(S,T)))||!!T[a.termToString(A)]}e.isomorphic=function(A,T){return!!i(A,T)},e.getBijection=i,e.getBijectionInner=t,e.hashValues=r,e.hasValue=u,e.getQuadsWithBlankNodes=l,e.getQuadsWithoutBlankNodes=d,e.indexGraph=p,e.deindexGraph=f,e.uniqGraph=h,e.getGraphBlankNodes=y,e.hashTerms=m,e.hashTerm=b,e.sha1hex=v,e.quadToSignature=_,e.termToSignature=w,e.isTermGrounded=O},35716:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryOperationLeftJoin=void 0;const c=s(66490),a=s(90412),o=s(81926),i=s(77545),t=s(67021);class n extends c.ActorQueryOperationTypedMediated{constructor(u){super(u,"leftjoin"),this.mediatorExpressionEvaluatorFactory=u.mediatorExpressionEvaluatorFactory}async testOperation(u,l){return(0,a.passTestVoid)()}async runOperation(u,l){const d=(await Promise.all(u.input.map(async f=>({output:await this.mediatorQueryOperation.mediate({operation:f,context:l}),operation:f})))).map(({output:f,operation:h})=>({output:(0,t.getSafeBindings)(f),operation:h})),p=await this.mediatorJoin.mediate({type:"optional",entries:d,context:l});if(u.expression){const f=(await d[1].output.metadata()).variables,h=await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:u.expression,context:l}),y=p.bindingsStream.transform({autoStart:!1,transform:async(m,b,v)=>{if(!f.every(_=>m.has(_.variable.value)))return v(m),b();try{await h.evaluateAsEBV(m)&&v(m)}catch(_){(0,i.isExpressionError)(_)?this.logWarn(l,"Error occurred while filtering.",()=>({error:_,bindings:(0,o.bindingsToString)(m)})):y.emit("error",_)}b()}});p.bindingsStream=y}return p}}e.ActorQueryOperationLeftJoin=n},35738:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.stringQuadToQuad=e.quadToStringQuad=e.stringToTerm=e.getLiteralLanguage=e.getLiteralType=e.getLiteralValue=e.termToString=void 0;const c=new(s(47793)).DataFactory;function a(r){if(r)switch(r.termType){case"NamedNode":case"DefaultGraph":return r.value;case"BlankNode":return"_:"+r.value;case"Literal":const u=r;return'"'+u.value+'"'+(u.datatype&&u.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&u.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?"^^"+u.datatype.value:"")+(u.language?"@"+u.language:"");case"Quad":return`<<${a(r.subject)} ${a(r.predicate)} ${a(r.object)}${r.graph.termType==="DefaultGraph"?"":" "+a(r.graph)}>>`;case"Variable":return"?"+r.value}}function o(r){const u=/^"([^]*)"/.exec(r);if(!u)throw new Error(r+" is not a literal");return u[1]}function i(r){const u=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(r);if(!u)throw new Error(r+" is not a literal");return u[1]||(u[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}function t(r){const u=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(r);if(!u)throw new Error(r+" is not a literal");return u[1]?u[1].toLowerCase():""}function n(r,u){if(u=u||c,!r||!r.length)return u.defaultGraph();switch(r[0]){case"_":return u.blankNode(r.substr(2));case"?":if(!u.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return u.variable(r.substr(1));case'"':const l=t(r),d=u.namedNode(i(r));return u.literal(o(r),l||d);default:if(r[0]==="<"&&r.length>4&&r[1]==="<"&&r[r.length-1]===">"&&r[r.length-2]===">"){const p=r.slice(2,-2).trim();let f=[],h=0,y=0,m=!1;for(let b=0;b<p.length;b++){const v=p[b];if(v==="<"&&h++,v===">"){if(h===0)throw new Error("Found closing tag without opening tag in "+r);h--}if(v==='"'){let _=!1,w=b;for(;w-- >0&&p[w]==="\\";)_=!_;_||(m=!m)}if(v===" "&&!m&&h===0){for(f.push(p.slice(y,b));p[b+1]===" ";)b+=1;y=b+1}}if(h!==0)throw new Error("Found opening tag without closing tag in "+r);if(f.push(p.slice(y,p.length)),f.length!==3&&f.length!==4)throw new Error("Nested quad syntax error "+r);return f=f.map(b=>b.startsWith("<")&&!b.includes(" ")?b.slice(1,-1):b),u.quad(n(f[0]),n(f[1]),n(f[2]),f[3]?n(f[3]):void 0)}return u.namedNode(r)}}e.termToString=a,e.getLiteralValue=o,e.getLiteralType=i,e.getLiteralLanguage=t,e.stringToTerm=n,e.quadToStringQuad=function(r){return{subject:a(r.subject),predicate:a(r.predicate),object:a(r.object),graph:a(r.graph)}},e.stringQuadToQuad=function(r,u){return(u=u||c).quad(n(r.subject,u),n(r.predicate,u),n(r.object,u),n(r.graph,u))}},35943:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermRand=void 0;const c=s(77617),a=s(77545),o=s(48430);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.SparqlOperator.RAND],termFunction:!0})}async run(n){return new o.TermFunctionRand}}e.ActorFunctionFactoryTermRand=i},36057:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryResultSerializeSimple=void 0;const c=s(58871),a=s(90412),o=s(75627),i=s(17173),t=s(19198);class n extends c.ActorQueryResultSerializeFixedMediaTypes{constructor(u){super(u)}async testHandleChecked(u,l){return["bindings","quads","boolean","void"].includes(u.type)?(0,a.passTestVoid)():(0,a.failTest)("This actor can only handle bindings streams, quad streams, booleans, or updates.")}static termToString(u){return u.termType==="Quad"?(0,i.termToString)(u):u.value}async runHandle(u,l,d){const p=new t.Readable;return u.type==="bindings"?p.wrap(u.bindingsStream.map(f=>`${[...f].map(([h,y])=>`?${h.value}: ${n.termToString(y)}`).join(`
`)}

`)):u.type==="quads"?p.wrap(u.quadStream.map(f=>`subject: ${n.termToString(f.subject)}
predicate: ${n.termToString(f.predicate)}
object: ${n.termToString(f.object)}
graph: ${n.termToString(f.graph)}

`)):p.wrap((0,o.wrap)(u.type==="boolean"?u.execute().then(f=>[`${f}
`]):u.execute().then(()=>[`ok
`]))),{data:p}}}e.ActorQueryResultSerializeSimple=n},36093:g=>{(function(){var e=function(){function h(y){this.options=y}return h.prototype.toString=function(){return JSON&&JSON.stringify?JSON.stringify(this.options):this.options},h}(),s={isArray:function(h){return Object.prototype.toString.apply(h)==="[object Array]"},isString:function(h){return Object.prototype.toString.apply(h)==="[object String]"},isNumber:function(h){return Object.prototype.toString.apply(h)==="[object Number]"},isBoolean:function(h){return Object.prototype.toString.apply(h)==="[object Boolean]"},join:function(h,y){var m,b="",v=!0;for(m=0;m<h.length;m+=1)v?v=!1:b+=y,b+=h[m];return b},map:function(h,y){for(var m=[],b=0;b<h.length;b+=1)m.push(y(h[b]));return m},filter:function(h,y){for(var m=[],b=0;b<h.length;b+=1)y(h[b])&&m.push(h[b]);return m},deepFreeze:function h(y){return typeof Object.freeze=="function"?function(m){if(typeof m!="object"||m===null)return m;var b,v;for(v in Object.freeze(m),m)m.hasOwnProperty(v)&&typeof(b=m[v])=="object"&&h(b);return m}(y):y}},c=function(){function h(y){return y>="0"&&y<="9"}return{isAlpha:function(y){return y>="a"&&y<="z"||y>="A"&&y<="Z"},isDigit:h,isHexDigit:function(y){return h(y)||y>="a"&&y<="f"||y>="A"&&y<="F"}}}(),a=function(){var h=function(v){return v<=127?1:194<=v&&v<=223?2:224<=v&&v<=239?3:240<=v&&v<=244?4:0},y=function(v){return 128<=v&&v<=191};function m(v,_){return v.charAt(_)==="%"&&c.isHexDigit(v.charAt(_+1))&&c.isHexDigit(v.charAt(_+2))}function b(v,_){return parseInt(v.substr(_,2),16)}return{encodeCharacter:function(v){var _,w,O="",A=function(T){return unescape(encodeURIComponent(T))}(v);for(w=0;w<A.length;w+=1)O+="%"+((_=A.charCodeAt(w))<16?"0":"")+_.toString(16).toUpperCase();return O},isPctEncoded:function(v){if(!m(v,0))return!1;var _=b(v,1),w=h(_);if(w===0)return!1;for(var O=1;O<w;O+=1)if(!m(v,3*O)||!y(b(v,3*O+1)))return!1;return!0},pctCharAt:function(v,_){var w=v.charAt(_);if(!m(v,_))return w;var O=b(v,_+1),A=h(O);if(A===0)return w;for(var T=1;T<A;T+=1)if(!m(v,_+3*T)||!y(b(v,_+3*T+1)))return w;return v.substr(_,3*A)}}}(),o=function(h){return c.isAlpha(h)||c.isDigit(h)||h==="_"||a.isPctEncoded(h)},i=function(h){return c.isAlpha(h)||c.isDigit(h)||h==="-"||h==="."||h==="_"||h==="~"},t=function(h){return h===":"||h==="/"||h==="?"||h==="#"||h==="["||h==="]"||h==="@"||h==="!"||h==="$"||h==="&"||h==="("||h===")"||h==="*"||h==="+"||h===","||h===";"||h==="="||h==="'"},n=function(){function h(y,m){var b,v="",_="";for(typeof y!="number"&&typeof y!="boolean"||(y=y.toString()),b=0;b<y.length;b+=_.length)_=y.charAt(b),v+=i(_)||m&&t(_)?_:a.encodeCharacter(_);return v}return{encode:h,encodePassReserved:function(y){return h(y,!0)},encodeLiteral:function(y){var m,b="",v="";for(m=0;m<y.length;m+=v.length)(v=a.pctCharAt(y,m)).length>1?b+=v:b+=t(v)||i(v)?v:a.encodeCharacter(v);return b},encodeLiteralCharacter:function(y,m){var b=a.pctCharAt(y,m);return b.length>1||t(b)||i(b)?b:a.encodeCharacter(b)}}}(),r=function(){var h={};function y(m){h[m]={symbol:m,separator:m==="?"?"&":m===""||m==="+"||m==="#"?",":m,named:m===";"||m==="&"||m==="?",ifEmpty:m==="&"||m==="?"?"=":"",first:m==="+"?"":m,encode:m==="+"||m==="#"?n.encodePassReserved:n.encode,toString:function(){return this.symbol}}}return y(""),y("+"),y("#"),y("."),y("/"),y(";"),y("?"),y("&"),{valueOf:function(m){return h[m]?h[m]:"=,!@|".indexOf(m)>=0?null:h[""]}}}();function u(h){var y;if(h==null)return!1;if(s.isArray(h))return h.length>0;if(typeof h=="string"||typeof h=="number"||typeof h=="boolean")return!0;for(y in h)if(h.hasOwnProperty(y)&&u(h[y]))return!0;return!1}var l=function(){function h(y){this.literal=n.encodeLiteral(y)}return h.prototype.expand=function(){return this.literal},h.prototype.toString=h.prototype.expand,h}(),d=function(){function h(y){var m,b,v=[],_=null,w=null,O=null,A="";function T(){var E=y.substring(w,b);if(E.length===0)throw new e({expressionText:y,message:"a varname must be specified",position:b});_={varname:E,exploded:!1,maxLength:null},w=null}function S(){if(O===b)throw new e({expressionText:y,message:"after a ':' you have to specify the length",position:b});_.maxLength=parseInt(y.substring(O,b),10),O=null}for(m=function(E){var D=r.valueOf(E);if(D===null)throw new e({expressionText:y,message:"illegal use of reserved operator",position:b,operator:E});return D}(y.charAt(0)),b=m.symbol.length,w=b;b<y.length;b+=A.length){if(A=a.pctCharAt(y,b),w!==null){if(A==="."){if(w===b)throw new e({expressionText:y,message:"a varname MUST NOT start with a dot",position:b});continue}if(o(A))continue;T()}if(O!==null){if(b===O&&A==="0")throw new e({expressionText:y,message:"A :prefix must not start with digit 0",position:b});if(c.isDigit(A)){if(b-O>=4)throw new e({expressionText:y,message:"A :prefix must have max 4 digits",position:b});continue}S()}if(A!==":")if(A!=="*"){if(A!==",")throw new e({expressionText:y,message:"illegal character",character:A,position:b});v.push(_),_=null,w=b+1}else{if(_===null)throw new e({expressionText:y,message:"exploded without varspec",position:b});if(_.exploded)throw new e({expressionText:y,message:"exploded twice",position:b});if(_.maxLength)throw new e({expressionText:y,message:"an explode (*) MUST NOT follow to a prefix",position:b});_.exploded=!0}else{if(_.maxLength!==null)throw new e({expressionText:y,message:"only one :maxLength is allowed per varspec",position:b});if(_.exploded)throw new e({expressionText:y,message:"an exploeded varspec MUST NOT be varspeced",position:b});O=b+1}}return w!==null&&T(),O!==null&&S(),v.push(_),new p(y,m,v)}return function(y){var m,b,v=[],_=null,w=0;for(m=0;m<y.length;m+=1)if(b=y.charAt(m),w===null){if(_===null)throw new Error("reached unreachable code");if(b==="{")throw new e({templateText:y,message:"brace already opened",position:m});if(b==="}"){if(_+1===m)throw new e({templateText:y,message:"empty braces",position:_});try{v.push(h(y.substring(_+1,m)))}catch(O){throw O.prototype===e.prototype?new e({templateText:y,message:O.options.message,position:_+O.options.position,details:O.options}):O}_=null,w=m+1}}else{if(b==="}")throw new e({templateText:y,message:"unopened brace closed",position:m});b==="{"&&(w<m&&v.push(new l(y.substring(w,m))),w=null,_=m)}if(_!==null)throw new e({templateText:y,message:"unclosed brace",position:_});return w<y.length&&v.push(new l(y.substr(w))),new f(y,v)}}(),p=function(){function h(T){return JSON&&JSON.stringify?JSON.stringify(T):T}function y(T){if(!u(T))return!0;if(s.isString(T))return T==="";if(s.isNumber(T)||s.isBoolean(T))return!1;if(s.isArray(T))return T.length===0;for(var S in T)if(T.hasOwnProperty(S))return!1;return!0}function m(T){var S,E=[];for(S in T)T.hasOwnProperty(S)&&E.push({name:S,value:T[S]});return E}function b(T,S,E){this.templateText=T,this.operator=S,this.varspecs=E}function v(T,S,E){var D="";if(E=E.toString(),S.named){if(D+=n.encodeLiteral(T.varname),E==="")return D+S.ifEmpty;D+="="}return T.maxLength!==null&&(E=E.substr(0,T.maxLength)),D+S.encode(E)}function _(T){return u(T.value)}function w(T,S,E){var D=[],I="";if(S.named){if(I+=n.encodeLiteral(T.varname),y(E))return I+S.ifEmpty;I+="="}return s.isArray(E)?(D=E,D=s.filter(D,u),D=s.map(D,S.encode),I+=s.join(D,",")):(D=m(E),D=s.filter(D,_),D=s.map(D,function(V){return S.encode(V.name)+","+S.encode(V.value)}),I+=s.join(D,",")),I}function O(T,S,E){var D=[];return s.isArray(E)?(D=E,D=s.filter(D,u),D=s.map(D,function(I){var V=n.encodeLiteral(T.varname);return y(I)?V+=S.ifEmpty:V+="="+S.encode(I),V})):(D=m(E),D=s.filter(D,_),D=s.map(D,function(I){var V=n.encodeLiteral(I.name);return y(I.value)?V+=S.ifEmpty:V+="="+S.encode(I.value),V})),s.join(D,S.separator)}function A(T,S){var E=[],D="";return s.isArray(S)?(E=S,E=s.filter(E,u),E=s.map(E,T.encode),D+=s.join(E,T.separator)):(E=m(S),E=s.filter(E,function(I){return u(I.value)}),E=s.map(E,function(I){return T.encode(I.name)+"="+T.encode(I.value)}),D+=s.join(E,T.separator)),D}return b.prototype.toString=function(){return this.templateText},b.prototype.expand=function(T){var S,E,D,I=[],V=this.operator;for(S=0;S<this.varspecs.length;S+=1)if((D=T[(E=this.varspecs[S]).varname])!=null)if(E.exploded,s.isArray(D),typeof D=="string"||typeof D=="number"||typeof D=="boolean")I.push(v(E,V,D));else{if(E.maxLength&&u(D))throw new Error("Prefix modifiers are not applicable to variables that have composite values. You tried to expand "+this+" with "+h(D));E.exploded?u(D)&&(V.named?I.push(O(E,V,D)):I.push(A(V,D))):!V.named&&y(D)||I.push(w(E,V,D))}return I.length===0?"":V.first+s.join(I,V.separator)},b}(),f=function(){function h(y,m){this.templateText=y,this.expressions=m,s.deepFreeze(this)}return h.prototype.toString=function(){return this.templateText},h.prototype.expand=function(y){var m,b="";for(m=0;m<this.expressions.length;m+=1)b+=this.expressions[m].expand(y);return b},h.parse=d,h.UriTemplateError=e,h}();(function(h){g.exports=h})(f)})()},36229:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(31523),e)},36235:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(81789),e),a(s(23686),e)},36273:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DataFactory=void 0;const c=s(11725),a=s(97460),o=s(86020),i=s(56662),t=s(46388),n=s(42439);let r=0;e.DataFactory=class{constructor(u){this.blankNodeCounter=0,u=u||{},this.blankNodePrefix=u.blankNodePrefix||`df_${r++}_`}namedNode(u){return new i.NamedNode(u)}blankNode(u){return new c.BlankNode(u||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(u,l){return new o.Literal(u,l)}variable(u){return new n.Variable(u)}defaultGraph(){return a.DefaultGraph.INSTANCE}quad(u,l,d,p){return new t.Quad(u,l,d,p||this.defaultGraph())}fromTerm(u){switch(u.termType){case"NamedNode":return this.namedNode(u.value);case"BlankNode":return this.blankNode(u.value);case"Literal":return u.language?this.literal(u.value,u.language):u.datatype.equals(o.Literal.XSD_STRING)?this.literal(u.value):this.literal(u.value,this.fromTerm(u.datatype));case"Variable":return this.variable(u.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(u.subject),this.fromTerm(u.predicate),this.fromTerm(u.object),this.fromTerm(u.graph))}}fromQuad(u){return this.fromTerm(u)}resetBlankNodeCounter(){this.blankNodeCounter=0}}},36339:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.validateAndCloseHttpResponse=void 0;const c=s(52728),a=s(91295);e.validateAndCloseHttpResponse=async function(o,i){if(i.status>=400){let t="empty response";if(i.body){const n=a.ActorHttp.toNodeReadable(i.body);t=await(0,c.stringify)(n)}throw new Error(`Could not update ${o} (HTTP status ${i.status}):
${t}`)}await i.body?.cancel()}},36356:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorContextPreprocessSourceToDestination=void 0;const c=s(98926),a=s(90711),o=s(90412);class i extends c.ActorContextPreprocess{constructor(n){super(n)}async test(n){return(0,o.passTestVoid)()}async run(n){if(n.context.get(a.KeysInitQuery.querySourcesUnidentified)&&!n.context.get(a.KeysRdfUpdateQuads.destination)){const r=n.context.get(a.KeysInitQuery.querySourcesUnidentified);if(r.length===1)return{context:n.context.set(a.KeysRdfUpdateQuads.destination,r[0])}}return n}}e.ActorContextPreprocessSourceToDestination=i},36413:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.termToString=e.stringToTerm=e.stringQuadToQuad=e.quadToStringQuad=e.getLiteralValue=e.getLiteralType=e.getLiteralLanguage=void 0;const c=s(70047);Object.defineProperty(e,"getLiteralLanguage",{enumerable:!0,get:function(){return c.getLiteralLanguage}}),Object.defineProperty(e,"getLiteralType",{enumerable:!0,get:function(){return c.getLiteralType}}),Object.defineProperty(e,"getLiteralValue",{enumerable:!0,get:function(){return c.getLiteralValue}}),Object.defineProperty(e,"quadToStringQuad",{enumerable:!0,get:function(){return c.quadToStringQuad}}),Object.defineProperty(e,"stringQuadToQuad",{enumerable:!0,get:function(){return c.stringQuadToQuad}}),Object.defineProperty(e,"stringToTerm",{enumerable:!0,get:function(){return c.stringToTerm}}),Object.defineProperty(e,"termToString",{enumerable:!0,get:function(){return c.termToString}})},36424:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionXsdToBoolean=void 0;const c=s(77617),a=s(77545);class o extends c.TermFunctionBase{constructor(){super({arity:1,operator:a.TypeURL.XSD_BOOLEAN,overloads:(0,a.declare)(a.TypeURL.XSD_BOOLEAN).onNumeric1(()=>t=>(0,a.bool)(t.coerceEBV()),!0).onUnary(a.TypeURL.XSD_BOOLEAN,()=>t=>(0,a.bool)(t.coerceEBV()),!0).onUnary(a.TypeURL.XSD_STRING,()=>t=>{switch(t.str()){case"true":case"1":return(0,a.bool)(!0);case"false":case"0":return(0,a.bool)(!1);default:throw new a.CastError(t,a.TypeURL.XSD_BOOLEAN)}},!1).collect()})}}e.TermFunctionXsdToBoolean=o},36458:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ItemPropertyHandlerTime=void 0;const c=s(73153);class a{canHandle(i,t){return i==="time"&&"datetime"in t}getObject(i,t,n){const r=i.datetime;let u;for(const l of a.TIME_REGEXES)if(l.regex.test(r)){u=t.dataFactory.namedNode(c.Util.XSD+l.type);break}return t.dataFactory.literal(r,u)}}e.ItemPropertyHandlerTime=a,a.TIME_REGEXES=[{regex:/^-?P(\d+Y)?(\d+M)?(\d+D)?(T(\d+H)?(\d+M)?(\d+(\.\d)?S)?)?$/u,type:"duration"},{regex:/^\d+-\d\d-\d\dT\d\d:\d\d:\d\d((Z?)|([+-]\d\d:\d\d))$/u,type:"dateTime"},{regex:/^\d+-\d\d-\d\dZ?$/u,type:"date"},{regex:/^\d\d:\d\d:\d\d((Z?)|([+-]\d\d:\d\d))$/u,type:"time"},{regex:/^\d+-\d\d$/u,type:"gYearMonth"},{regex:/^\d+$/u,type:"gYear"}]},36666:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermUnaryMinus=void 0;const c=s(77617),a=s(77545),o=s(85959);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.SparqlOperator.UMINUS],termFunction:!0})}async run(n){return new o.TermFunctionUnaryMinus}}e.ActorFunctionFactoryTermUnaryMinus=i},36706:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionSha256=void 0;const c=s(77617),a=s(77545),o=s(77952);class i extends c.TermFunctionBase{constructor(){super({arity:1,operator:a.SparqlOperator.SHA256,overloads:(0,a.declare)(a.SparqlOperator.SHA256).onString1Typed(()=>n=>(0,a.string)((0,o.sha256)().update(n).digest("hex"))).collect()})}}e.TermFunctionSha256=i},36750:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.JoinTypes=e.ActorRdfJoinSelectivityVariableCounting=void 0;const c=s(95705),a=s(90412),o=s(96331);class i extends c.ActorRdfJoinSelectivity{constructor(r){super(r)}async test(r){return(0,a.passTest)({accuracy:.5})}static getPatternCost(r){let u=1;return r.subject.termType==="Variable"&&(u+=4),r.predicate.termType!=="Variable"&&r.type!==o.Algebra.types.PATH||(u+=1),r.object.termType==="Variable"&&(u+=2),r.graph.termType==="Variable"&&(u+=1),u/9}static getJoinTypes(r,u){const l=[];return r.subject.termType==="Variable"?(r.subject.equals(u.subject)&&l.push(t.unboundSS),u.type==="pattern"&&r.subject.equals(u.predicate)&&l.push(t.unboundSP),r.subject.equals(u.object)&&l.push(t.unboundSO),r.subject.equals(u.graph)&&l.push(t.unboundSG)):(r.subject.equals(u.subject)&&l.push(t.boundSS),u.type==="pattern"&&r.subject.equals(u.predicate)&&l.push(t.boundSP),r.subject.equals(u.object)&&l.push(t.boundSO),r.subject.equals(u.graph)&&l.push(t.boundSG)),r.type==="pattern"&&(r.predicate.termType==="Variable"?(r.predicate.equals(u.subject)&&l.push(t.unboundPS),u.type==="pattern"&&r.predicate.equals(u.predicate)&&l.push(t.unboundPP),r.predicate.equals(u.object)&&l.push(t.unboundPO),r.predicate.equals(u.graph)&&l.push(t.unboundPG)):(r.predicate.equals(u.subject)&&l.push(t.boundPS),u.type==="pattern"&&r.predicate.equals(u.predicate)&&l.push(t.boundPP),r.predicate.equals(u.object)&&l.push(t.boundPO),r.predicate.equals(u.graph)&&l.push(t.boundPG))),r.object.termType==="Variable"?(r.object.equals(u.subject)&&l.push(t.unboundOS),u.type==="pattern"&&r.object.equals(u.predicate)&&l.push(t.unboundOP),r.object.equals(u.object)&&l.push(t.unboundOO),r.object.equals(u.graph)&&l.push(t.unboundOG)):(r.object.equals(u.subject)&&l.push(t.boundOS),u.type==="pattern"&&r.object.equals(u.predicate)&&l.push(t.boundOP),r.object.equals(u.object)&&l.push(t.boundOO),r.object.equals(u.graph)&&l.push(t.boundOG)),r.graph.termType==="Variable"?(r.graph.equals(u.subject)&&l.push(t.unboundGS),u.type==="pattern"&&r.graph.equals(u.predicate)&&l.push(t.unboundGP),r.graph.equals(u.object)&&l.push(t.unboundGO),r.graph.equals(u.graph)&&l.push(t.unboundGG)):(r.graph.equals(u.subject)&&l.push(t.boundGS),u.type==="pattern"&&r.graph.equals(u.predicate)&&l.push(t.boundGP),r.graph.equals(u.object)&&l.push(t.boundGO),r.graph.equals(u.graph)&&l.push(t.boundGG)),l}static getOperationsPairwiseJoinCost(r,u){let l=i.MAX_PAIRWISE_COST;for(const d of i.getJoinTypes(r,u))switch(d){case t.boundSS:l-=4;break;case t.boundSP:l-=6;break;case t.boundSO:l-=2;break;case t.boundSG:case t.boundPS:l-=6;break;case t.boundPP:return 1;case t.boundPO:case t.boundPG:l-=6;break;case t.boundOS:l-=2;break;case t.boundOP:l-=6;break;case t.boundOO:l-=2;break;case t.boundOG:case t.boundGS:case t.boundGP:case t.boundGO:case t.boundGG:l-=6;break;case t.unboundSS:l-=2;break;case t.unboundSP:l-=3;break;case t.unboundSO:l-=1;break;case t.unboundSG:case t.unboundPS:case t.unboundPP:case t.unboundPO:case t.unboundPG:l-=3;break;case t.unboundOS:l-=1;break;case t.unboundOP:l-=3;break;case t.unboundOO:l-=1;break;case t.unboundOG:case t.unboundGS:case t.unboundGP:case t.unboundGO:case t.unboundGG:l-=3}return l/i.MAX_PAIRWISE_COST}static getOperationsJoinCost(r){const u=[];for(const p of r)o.Util.recurseOperation(p,{[o.Algebra.types.PATTERN]:f=>(u.push(f),!1),[o.Algebra.types.PATH]:f=>(u.push(f),!1)});let l=0,d=0;for(const p of u)for(const f of u)p!==f&&(l+=i.getOperationsPairwiseJoinCost(p,f),d++);return d===0?1:l/d*u.reduce((p,f)=>p*i.getPatternCost(f),1)}async run(r){return r.entries.length<=1?{selectivity:1}:{selectivity:i.getOperationsJoinCost(r.entries.map(u=>u.operation))}}}var t;e.ActorRdfJoinSelectivityVariableCounting=i,i.MAX_PAIRWISE_COST=82,function(n){n[n.boundSS=0]="boundSS",n[n.boundSP=1]="boundSP",n[n.boundSO=2]="boundSO",n[n.boundSG=3]="boundSG",n[n.boundPS=4]="boundPS",n[n.boundPP=5]="boundPP",n[n.boundPO=6]="boundPO",n[n.boundPG=7]="boundPG",n[n.boundOS=8]="boundOS",n[n.boundOP=9]="boundOP",n[n.boundOO=10]="boundOO",n[n.boundOG=11]="boundOG",n[n.boundGS=12]="boundGS",n[n.boundGP=13]="boundGP",n[n.boundGO=14]="boundGO",n[n.boundGG=15]="boundGG",n[n.unboundSS=16]="unboundSS",n[n.unboundSP=17]="unboundSP",n[n.unboundSO=18]="unboundSO",n[n.unboundSG=19]="unboundSG",n[n.unboundPS=20]="unboundPS",n[n.unboundPP=21]="unboundPP",n[n.unboundPO=22]="unboundPO",n[n.unboundPG=23]="unboundPG",n[n.unboundOS=24]="unboundOS",n[n.unboundOP=25]="unboundOP",n[n.unboundOO=26]="unboundOO",n[n.unboundOG=27]="unboundOG",n[n.unboundGS=28]="unboundGS",n[n.unboundGP=29]="unboundGP",n[n.unboundGO=30]="unboundGO",n[n.unboundGG=31]="unboundGG"}(t||(e.JoinTypes=t={}))},36754:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Quad=void 0,e.Quad=class{constructor(s,c,a,o){this.termType="Quad",this.value="",this.subject=s,this.predicate=c,this.object=a,this.graph=o}equals(s){return!!s&&(s.termType==="Quad"||!s.termType)&&this.subject.equals(s.subject)&&this.predicate.equals(s.predicate)&&this.object.equals(s.object)&&this.graph.equals(s.graph)}}},36957:function(g,e,s){var c,a=this&&this.__extends||(c=function(T,S){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,D){E.__proto__=D}||function(E,D){for(var I in D)Object.prototype.hasOwnProperty.call(D,I)&&(E[I]=D[I])},c(T,S)},function(T,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");function E(){this.constructor=T}c(T,S),T.prototype=S===null?Object.create(S):(E.prototype=S.prototype,new E)}),o=this&&this.__assign||function(){return o=Object.assign||function(T){for(var S,E=1,D=arguments.length;E<D;E++)for(var I in S=arguments[E])Object.prototype.hasOwnProperty.call(S,I)&&(T[I]=S[I]);return T},o.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.cloneNode=e.hasChildren=e.isDocument=e.isDirective=e.isComment=e.isText=e.isCDATA=e.isTag=e.Element=e.Document=e.CDATA=e.NodeWithChildren=e.ProcessingInstruction=e.Comment=e.Text=e.DataNode=e.Node=void 0;var i=s(45413),t=function(){function T(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(T.prototype,"parentNode",{get:function(){return this.parent},set:function(S){this.parent=S},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"previousSibling",{get:function(){return this.prev},set:function(S){this.prev=S},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"nextSibling",{get:function(){return this.next},set:function(S){this.next=S},enumerable:!1,configurable:!0}),T.prototype.cloneNode=function(S){return S===void 0&&(S=!1),O(this,S)},T}();e.Node=t;var n=function(T){function S(E){var D=T.call(this)||this;return D.data=E,D}return a(S,T),Object.defineProperty(S.prototype,"nodeValue",{get:function(){return this.data},set:function(E){this.data=E},enumerable:!1,configurable:!0}),S}(t);e.DataNode=n;var r=function(T){function S(){var E=T!==null&&T.apply(this,arguments)||this;return E.type=i.ElementType.Text,E}return a(S,T),Object.defineProperty(S.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),S}(n);e.Text=r;var u=function(T){function S(){var E=T!==null&&T.apply(this,arguments)||this;return E.type=i.ElementType.Comment,E}return a(S,T),Object.defineProperty(S.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),S}(n);e.Comment=u;var l=function(T){function S(E,D){var I=T.call(this,D)||this;return I.name=E,I.type=i.ElementType.Directive,I}return a(S,T),Object.defineProperty(S.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),S}(n);e.ProcessingInstruction=l;var d=function(T){function S(E){var D=T.call(this)||this;return D.children=E,D}return a(S,T),Object.defineProperty(S.prototype,"firstChild",{get:function(){var E;return(E=this.children[0])!==null&&E!==void 0?E:null},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"childNodes",{get:function(){return this.children},set:function(E){this.children=E},enumerable:!1,configurable:!0}),S}(t);e.NodeWithChildren=d;var p=function(T){function S(){var E=T!==null&&T.apply(this,arguments)||this;return E.type=i.ElementType.CDATA,E}return a(S,T),Object.defineProperty(S.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),S}(d);e.CDATA=p;var f=function(T){function S(){var E=T!==null&&T.apply(this,arguments)||this;return E.type=i.ElementType.Root,E}return a(S,T),Object.defineProperty(S.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),S}(d);e.Document=f;var h=function(T){function S(E,D,I,V){I===void 0&&(I=[]),V===void 0&&(V=E==="script"?i.ElementType.Script:E==="style"?i.ElementType.Style:i.ElementType.Tag);var K=T.call(this,I)||this;return K.name=E,K.attribs=D,K.type=V,K}return a(S,T),Object.defineProperty(S.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"tagName",{get:function(){return this.name},set:function(E){this.name=E},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"attributes",{get:function(){var E=this;return Object.keys(this.attribs).map(function(D){var I,V;return{name:D,value:E.attribs[D],namespace:(I=E["x-attribsNamespace"])===null||I===void 0?void 0:I[D],prefix:(V=E["x-attribsPrefix"])===null||V===void 0?void 0:V[D]}})},enumerable:!1,configurable:!0}),S}(d);function y(T){return(0,i.isTag)(T)}function m(T){return T.type===i.ElementType.CDATA}function b(T){return T.type===i.ElementType.Text}function v(T){return T.type===i.ElementType.Comment}function _(T){return T.type===i.ElementType.Directive}function w(T){return T.type===i.ElementType.Root}function O(T,S){var E;if(S===void 0&&(S=!1),b(T))E=new r(T.data);else if(v(T))E=new u(T.data);else if(y(T)){var D=S?A(T.children):[],I=new h(T.name,o({},T.attribs),D);D.forEach(function($){return $.parent=I}),T.namespace!=null&&(I.namespace=T.namespace),T["x-attribsNamespace"]&&(I["x-attribsNamespace"]=o({},T["x-attribsNamespace"])),T["x-attribsPrefix"]&&(I["x-attribsPrefix"]=o({},T["x-attribsPrefix"])),E=I}else if(m(T)){D=S?A(T.children):[];var V=new p(D);D.forEach(function($){return $.parent=V}),E=V}else if(w(T)){D=S?A(T.children):[];var K=new f(D);D.forEach(function($){return $.parent=K}),T["x-mode"]&&(K["x-mode"]=T["x-mode"]),E=K}else{if(!_(T))throw new Error("Not implemented yet: ".concat(T.type));var B=new l(T.name,T.data);T["x-name"]!=null&&(B["x-name"]=T["x-name"],B["x-publicId"]=T["x-publicId"],B["x-systemId"]=T["x-systemId"]),E=B}return E.startIndex=T.startIndex,E.endIndex=T.endIndex,T.sourceCodeLocation!=null&&(E.sourceCodeLocation=T.sourceCodeLocation),E}function A(T){for(var S=T.map(function(D){return O(D,!0)}),E=1;E<S.length;E++)S[E].prev=S[E-1],S[E-1].next=S[E];return S}e.Element=h,e.isTag=y,e.isCDATA=m,e.isText=b,e.isComment=v,e.isDirective=_,e.isDocument=w,e.hasChildren=function(T){return Object.prototype.hasOwnProperty.call(T,"children")},e.cloneNode=O},37007:g=>{var e,s=typeof Reflect=="object"?Reflect:null,c=s&&typeof s.apply=="function"?s.apply:function(y,m,b){return Function.prototype.apply.call(y,m,b)};e=s&&typeof s.ownKeys=="function"?s.ownKeys:Object.getOwnPropertySymbols?function(y){return Object.getOwnPropertyNames(y).concat(Object.getOwnPropertySymbols(y))}:function(y){return Object.getOwnPropertyNames(y)};var a=Number.isNaN||function(y){return y!=y};function o(){o.init.call(this)}g.exports=o,g.exports.once=function(y,m){return new Promise(function(b,v){function _(O){y.removeListener(m,w),v(O)}function w(){typeof y.removeListener=="function"&&y.removeListener("error",_),b([].slice.call(arguments))}h(y,m,w,{once:!0}),m!=="error"&&function(O,A){typeof O.on=="function"&&h(O,"error",A,{once:!0})}(y,_)})},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var i=10;function t(y){if(typeof y!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof y)}function n(y){return y._maxListeners===void 0?o.defaultMaxListeners:y._maxListeners}function r(y,m,b,v){var _,w,O,A;if(t(b),(w=y._events)===void 0?(w=y._events=Object.create(null),y._eventsCount=0):(w.newListener!==void 0&&(y.emit("newListener",m,b.listener?b.listener:b),w=y._events),O=w[m]),O===void 0)O=w[m]=b,++y._eventsCount;else if(typeof O=="function"?O=w[m]=v?[b,O]:[O,b]:v?O.unshift(b):O.push(b),(_=n(y))>0&&O.length>_&&!O.warned){O.warned=!0;var T=new Error("Possible EventEmitter memory leak detected. "+O.length+" "+String(m)+" listeners added. Use emitter.setMaxListeners() to increase limit");T.name="MaxListenersExceededWarning",T.emitter=y,T.type=m,T.count=O.length,A=T,console&&console.warn&&console.warn(A)}return y}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function l(y,m,b){var v={fired:!1,wrapFn:void 0,target:y,type:m,listener:b},_=u.bind(v);return _.listener=b,v.wrapFn=_,_}function d(y,m,b){var v=y._events;if(v===void 0)return[];var _=v[m];return _===void 0?[]:typeof _=="function"?b?[_.listener||_]:[_]:b?function(w){for(var O=new Array(w.length),A=0;A<O.length;++A)O[A]=w[A].listener||w[A];return O}(_):f(_,_.length)}function p(y){var m=this._events;if(m!==void 0){var b=m[y];if(typeof b=="function")return 1;if(b!==void 0)return b.length}return 0}function f(y,m){for(var b=new Array(m),v=0;v<m;++v)b[v]=y[v];return b}function h(y,m,b,v){if(typeof y.on=="function")v.once?y.once(m,b):y.on(m,b);else{if(typeof y.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof y);y.addEventListener(m,function _(w){v.once&&y.removeEventListener(m,_),b(w)})}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return i},set:function(y){if(typeof y!="number"||y<0||a(y))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+y+".");i=y}}),o.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(y){if(typeof y!="number"||y<0||a(y))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+y+".");return this._maxListeners=y,this},o.prototype.getMaxListeners=function(){return n(this)},o.prototype.emit=function(y){for(var m=[],b=1;b<arguments.length;b++)m.push(arguments[b]);var v=y==="error",_=this._events;if(_!==void 0)v=v&&_.error===void 0;else if(!v)return!1;if(v){var w;if(m.length>0&&(w=m[0]),w instanceof Error)throw w;var O=new Error("Unhandled error."+(w?" ("+w.message+")":""));throw O.context=w,O}var A=_[y];if(A===void 0)return!1;if(typeof A=="function")c(A,this,m);else{var T=A.length,S=f(A,T);for(b=0;b<T;++b)c(S[b],this,m)}return!0},o.prototype.addListener=function(y,m){return r(this,y,m,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(y,m){return r(this,y,m,!0)},o.prototype.once=function(y,m){return t(m),this.on(y,l(this,y,m)),this},o.prototype.prependOnceListener=function(y,m){return t(m),this.prependListener(y,l(this,y,m)),this},o.prototype.removeListener=function(y,m){var b,v,_,w,O;if(t(m),(v=this._events)===void 0)return this;if((b=v[y])===void 0)return this;if(b===m||b.listener===m)--this._eventsCount===0?this._events=Object.create(null):(delete v[y],v.removeListener&&this.emit("removeListener",y,b.listener||m));else if(typeof b!="function"){for(_=-1,w=b.length-1;w>=0;w--)if(b[w]===m||b[w].listener===m){O=b[w].listener,_=w;break}if(_<0)return this;_===0?b.shift():function(A,T){for(;T+1<A.length;T++)A[T]=A[T+1];A.pop()}(b,_),b.length===1&&(v[y]=b[0]),v.removeListener!==void 0&&this.emit("removeListener",y,O||m)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(y){var m,b,v;if((b=this._events)===void 0)return this;if(b.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):b[y]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete b[y]),this;if(arguments.length===0){var _,w=Object.keys(b);for(v=0;v<w.length;++v)(_=w[v])!=="removeListener"&&this.removeAllListeners(_);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(m=b[y])=="function")this.removeListener(y,m);else if(m!==void 0)for(v=m.length-1;v>=0;v--)this.removeListener(y,m[v]);return this},o.prototype.listeners=function(y){return d(this,y,!0)},o.prototype.rawListeners=function(y){return d(this,y,!1)},o.listenerCount=function(y,m){return typeof y.listenerCount=="function"?y.listenerCount(m):p.call(y,m)},o.prototype.listenerCount=p,o.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}},37141:(g,e,s)=>{const c=s(5148).Parser,a=s(25828);class o{constructor(){}parse(t,{extendedSyntax:n,baseIRI:r}={}){this._parser=new c,this._parser.Parser.factory=a.DataFactory,this._parser.Parser.base=a.DataFactory.namedNode(r||"urn:x-base:default"),this._parser.Parser.extended=n===!0,this._parser.Parser.prefixes={rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",sh:"http://www.w3.org/ns/shacl#",xsd:"http://www.w3.org/2001/XMLSchema#",owl:"http://www.w3.org/2002/07/owl#"},this._parser.Parser.currentNodeShape=void 0,this._parser.Parser.currentPropertyNode=void 0,this._parser.Parser.nodeShapeStack=[],this._parser.Parser.tempCurrentNodeShape=void 0,this._parser.Parser.n3Parser=new a.Parser({baseIRI:r||"urn:x-base:default"});const u=[];return this._parser.Parser.onQuad=l=>{u.push(l)},this._parser.parse(t),u.prefixes=this._parser.Parser.prefixes,u}}g.exports.Parser=o,g.exports.parse=function(i,t){return new o().parse(i,t)}},37143:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(76063),e)},37185:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermSubtraction=void 0;const c=s(77617),a=s(77545),o=s(47074);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.SparqlOperator.SUBTRACTION],termFunction:!0})}async run(n){return new o.TermFunctionSubtraction}}e.ActorFunctionFactoryTermSubtraction=i},37258:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TypeHandlerDate=void 0;const c=s(30103);class a{fromRdf(i,t){switch(t&&!i.value.match(a.VALIDATORS[i.datatype.value.substr(33,i.datatype.value.length)])&&c.Translator.incorrectRdfDataType(i),i.datatype.value){case"http://www.w3.org/2001/XMLSchema#gDay":return new Date(0,0,parseInt(i.value,10));case"http://www.w3.org/2001/XMLSchema#gMonthDay":const n=i.value.split("-");return new Date(0,parseInt(n[0],10)-1,parseInt(n[1],10));case"http://www.w3.org/2001/XMLSchema#gYear":return new Date(i.value+"-01-01");case"http://www.w3.org/2001/XMLSchema#gYearMonth":return new Date(i.value+"-01");default:return new Date(i.value)}}toRdf(i,{datatype:t,dataFactory:n}){if(t=t||n.namedNode(a.TYPES[0]),!(i instanceof Date))return null;const r=i;let u;switch(t.value){case"http://www.w3.org/2001/XMLSchema#gDay":u=String(r.getUTCDate());break;case"http://www.w3.org/2001/XMLSchema#gMonthDay":u=r.getUTCMonth()+1+"-"+r.getUTCDate();break;case"http://www.w3.org/2001/XMLSchema#gYear":u=String(r.getUTCFullYear());break;case"http://www.w3.org/2001/XMLSchema#gYearMonth":u=r.getUTCFullYear()+"-"+(r.getUTCMonth()+1);break;case"http://www.w3.org/2001/XMLSchema#date":u=r.toISOString().replace(/T.*$/,"");break;default:u=r.toISOString()}return n.literal(u,t)}}a.TYPES=["http://www.w3.org/2001/XMLSchema#dateTime","http://www.w3.org/2001/XMLSchema#date","http://www.w3.org/2001/XMLSchema#gDay","http://www.w3.org/2001/XMLSchema#gMonthDay","http://www.w3.org/2001/XMLSchema#gYear","http://www.w3.org/2001/XMLSchema#gYearMonth"],a.VALIDATORS={date:/^[0-9]+-[0-9][0-9]-[0-9][0-9]Z?$/,dateTime:/^[0-9]+-[0-9][0-9]-[0-9][0-9]T[0-9][0-9]:[0-9][0-9]:[0-9][0-9](\.[0-9][0-9][0-9])?((Z?)|([\+-][0-9][0-9]:[0-9][0-9]))$/,gDay:/^[0-9]+$/,gMonthDay:/^[0-9]+-[0-9][0-9]$/,gYear:/^[0-9]+$/,gYearMonth:/^[0-9]+-[0-9][0-9]$/},e.TypeHandlerDate=a},37338:function(g,e,s){var c=this&&this.__awaiter||function(i,t,n,r){return new(n||(n=Promise))(function(u,l){function d(h){try{f(r.next(h))}catch(y){l(y)}}function p(h){try{f(r.throw(h))}catch(y){l(y)}}function f(h){var y;h.done?u(h.value):(y=h.value,y instanceof n?y:new n(function(m){m(y)})).then(d,p)}f((r=r.apply(i,t||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.fetchContext=e.fetchJson=void 0;const a=s(74945);function o(i,t){var n;return c(this,void 0,void 0,function*(){return(yield((n=t?.fetch)!==null&&n!==void 0?n:a.fetch)(i)).json()})}e.fetchJson=o,e.fetchContext=function(i,t){return c(this,void 0,void 0,function*(){return(yield o(i,t))["@context"]})}},37515:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(38300),e)},37630:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(37701),e)},37701:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfParseHtmlMicrodata=void 0;const c=s(92973),a=s(90711),o=s(90412),i=s(51009);class t extends c.ActorRdfParseHtml{constructor(r){super(r)}async test(r){return(0,o.passTestVoid)()}async run(r){const u=r.context.getSafe(a.KeysInitQuery.dataFactory),l=r.headers?r.headers.get("content-type"):null,d=l?.includes("xml"),p=new i.MicrodataRdfParser({dataFactory:u,baseIRI:r.baseIRI,xmlMode:d});p.on("error",r.error),p.on("data",r.emit);const f=p.onEnd;return p.onEnd=()=>{f.call(p),r.end()},{htmlParseListener:p}}}e.ActorRdfParseHtmlMicrodata=t},37747:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermDictionaryNumberRecordFullTerms=void 0;const c=s(28664),a=s(43347);e.TermDictionaryNumberRecordFullTerms=class{constructor(o=new c.DataFactory){this.lastId=0,this.dictionary={},this.reverseDictionary={},this.features={quotedTriples:!1},this.dataFactory=o}encode(o){const i=(0,a.termToString)(o);let t=this.dictionary[i];return t===void 0&&(t=this.lastId++,this.dictionary[i]=t,this.reverseDictionary[t]=o),t}encodeOptional(o){const i=(0,a.termToString)(o);return this.dictionary[i]}decode(o){const i=this.reverseDictionary[o];if(i===void 0)throw new Error(`The value ${o} is not present in this dictionary`);return i}*encodings(){for(const o of Object.keys(this.reverseDictionary))yield Number.parseInt(o,10)}findQuotedTriples(o){throw new Error("findQuotedTriples is not supported")}findQuotedTriplesEncoded(o){throw new Error("findQuotedTriplesEncoded is not supported")}}},37779:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(50776),e),a(s(52573),e)},37811:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(23069),e)},37822:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.estimateNpsCardinality=e.estimateJoinCardinality=e.estimateUnionCardinality=e.estimateSliceCardinality=e.estimateMinusCardinality=e.estimateCardinality=void 0;const c=s(47793),a=s(96331),o=new c.DataFactory,i=new a.Factory(o);function t(p,f){const h=f.getCardinality(p);if(h)return h;switch(p.type){case a.Algebra.types.ASK:return{type:"exact",value:1,dataset:f.uri};case a.Algebra.types.LOAD:case a.Algebra.types.DELETE_INSERT:case a.Algebra.types.ADD:case a.Algebra.types.COMPOSITE_UPDATE:case a.Algebra.types.CLEAR:case a.Algebra.types.NOP:case a.Algebra.types.DROP:case a.Algebra.types.CREATE:case a.Algebra.types.MOVE:case a.Algebra.types.COPY:return{type:"exact",value:0,dataset:f.uri};case a.Algebra.types.PROJECT:case a.Algebra.types.FILTER:case a.Algebra.types.ORDER_BY:case a.Algebra.types.GROUP:case a.Algebra.types.CONSTRUCT:case a.Algebra.types.DISTINCT:case a.Algebra.types.REDUCED:case a.Algebra.types.EXTEND:case a.Algebra.types.FROM:case a.Algebra.types.GRAPH:return t(p.input,f);case a.Algebra.types.ZERO_OR_ONE_PATH:case a.Algebra.types.ZERO_OR_MORE_PATH:case a.Algebra.types.ONE_OR_MORE_PATH:case a.Algebra.types.INV:return t(p.path,f);case a.Algebra.types.PATH:return t(p.predicate,f);case a.Algebra.types.NPS:return d(p,f);case a.Algebra.types.LINK:return t(i.createPattern(o.variable("s"),p.iri,o.variable("o")),f);case a.Algebra.types.UNION:case a.Algebra.types.SEQ:case a.Algebra.types.ALT:return u(p.input,f);case a.Algebra.types.BGP:return l(p.patterns,f);case a.Algebra.types.JOIN:case a.Algebra.types.LEFT_JOIN:return l(p.input,f);case a.Algebra.types.SLICE:return r(p,f);case a.Algebra.types.MINUS:return n(p,f);case a.Algebra.types.VALUES:return{type:"exact",value:p.bindings.length,dataset:f.uri};case a.Algebra.types.SERVICE:case a.Algebra.types.DESCRIBE:case a.Algebra.types.EXPRESSION:case a.Algebra.types.PATTERN:return{type:"estimate",value:Number.POSITIVE_INFINITY,dataset:f.uri}}}function n(p,f){const h=t(p.input[0],f),y=t(p.input[1],f);return{type:"estimate",value:Math.max(h.value-y.value,0),dataset:f.uri}}function r(p,f){const h=t(p.input,f);return h.value>0&&(h.value=Math.max(h.value-p.start,0),p.length!==void 0&&(h.value=Math.min(h.value,p.length))),h}function u(p,f){const h={type:"exact",value:0,dataset:f.uri};for(const y of p){const m=t(y,f);m.type==="estimate"&&h.type==="exact"&&(h.type=m.type),m.value>0&&(h.value+=m.value)}return h}function l(p,f){const h=[];for(const y of p){const m=a.Util.inScopeVariables(y).map(v=>v.value),b=h.find(v=>m.some(_=>v.vars.has(_)));if(b){b.ops.push(y);for(const v of m)b.vars.add(v)}else h.push({ops:[y],vars:new Set(m)})}return{type:"estimate",value:h.map(y=>Math.min(...y.ops.map(m=>t(m,f).value))).reduce((y,m)=>y*m,1),dataset:f.uri}}function d(p,f){const h=t(i.createSeq([...p.iris].reverse().map(m=>i.createLink(m))),f),y=t(i.createPattern(o.variable("s"),o.variable("p"),o.variable("o")),f);return{type:"estimate",value:Math.max(0,y.value-h.value),dataset:f.uri}}e.estimateCardinality=t,e.estimateMinusCardinality=n,e.estimateSliceCardinality=r,e.estimateUnionCardinality=u,e.estimateJoinCardinality=l,e.estimateNpsCardinality=d},37859:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQuerySourceIdentifyRdfJs=void 0;const c=s(559),a=s(90711),o=s(90412),i=s(81926),t=s(70020);class n extends c.ActorQuerySourceIdentify{constructor(u){super(u)}async test(u){const l=u.querySourceUnidentified;return l.type!==void 0&&l.type!=="rdfjs"?(0,o.failTest)(`${this.name} requires a single query source with rdfjs type to be present in the context.`):typeof l.value!="string"&&"match"in l.value?(0,o.passTestVoid)():(0,o.failTest)(`${this.name} received an invalid rdfjs query source.`)}async run(u){const l=u.context.getSafe(a.KeysInitQuery.dataFactory);return{querySource:{source:new t.QuerySourceRdfJs(u.querySourceUnidentified.value,l,await i.BindingsFactory.create(this.mediatorMergeBindingsContext,u.context,l)),context:u.querySourceUnidentified.context??new o.ActionContext}}}}e.ActorQuerySourceIdentifyRdfJs=n},38020:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorBindingsAggregatorFactoryWildcardCount=void 0;const c=s(86581),a=s(90412),o=s(60801);class i extends c.ActorBindingsAggregatorFactory{constructor(n){super(n)}async test(n){return n.expr.aggregator!=="count"||n.expr.expression.expressionType!=="wildcard"?(0,a.failTest)("This actor only supports the 'count' aggregator with wildcard."):(0,a.passTestVoid)()}async run({context:n,expr:r}){return new o.WildcardCountAggregator(await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:r.expression,context:n}),r.distinct)}}e.ActorBindingsAggregatorFactoryWildcardCount=i},38235:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(90284),e)},38274:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionTimezone=void 0;const c=s(77617),a=s(77545);class o extends c.TermFunctionBase{constructor(){super({arity:1,operator:a.SparqlOperator.TIMEZONE,overloads:(0,a.declare)(a.SparqlOperator.TIMEZONE).onDateTime1(()=>t=>{const n={hours:t.typedValue.zoneHours,minutes:t.typedValue.zoneMinutes};if(n.hours===void 0&&n.minutes===void 0)throw new a.InvalidTimezoneCall(t.str());return new a.DayTimeDurationLiteral(n)}).copy({from:[a.TypeURL.XSD_DATE_TIME],to:[a.TypeURL.XSD_DATE]}).copy({from:[a.TypeURL.XSD_DATE_TIME],to:[a.TypeURL.XSD_TIME]}).collect()})}}e.TermFunctionTimezone=o},38291:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfUpdateQuads=void 0;const c=s(90412);class a extends c.Actor{constructor(i){super(i)}}e.ActorRdfUpdateQuads=a},38300:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryOperationGroup=void 0;const c=s(66490),a=s(90711),o=s(90412),i=s(81926),t=s(67021),n=s(75627),r=s(8902);class u extends c.ActorQueryOperationTypedMediated{constructor(d){super(d,"group"),this.mediatorBindingsAggregatorFactory=d.mediatorBindingsAggregatorFactory}async testOperation(){return(0,o.passTestVoid)()}async runOperation(d,p){const f=p.getSafe(a.KeysInitQuery.dataFactory),h=await i.BindingsFactory.create(this.mediatorMergeBindingsContext,p,f),{input:y,aggregates:m}=d,b=await this.mediatorQueryOperation.mediate({operation:y,context:p}),v=(0,t.getSafeBindings)(b),_=[...d.variables,...m.map(O=>O.variable)].map(O=>({variable:O,canBeUndef:!1})),w=(await v.metadata()).variables.map(O=>O.variable);return{type:"bindings",bindingsStream:new n.TransformIterator(()=>new Promise((O,A)=>{const T=new r.GroupsState(d,this.mediatorBindingsAggregatorFactory,p,h,w);v.bindingsStream.on("end",async()=>{try{const S=new n.ArrayIterator(await T.collectResults(),{autoStart:!1});O(S)}catch(S){A(S)}}),v.bindingsStream.on("error",A),v.bindingsStream.on("data",S=>{T.consumeBindings(S).catch(A)})}),{autoStart:!1}),metadata:async()=>({...await v.metadata(),variables:_})}}}e.ActorQueryOperationGroup=u},38392:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(35392),e)},38505:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(79813),e)},38507:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(89),e)},38522:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfSerializeN3=void 0;const c=s(81261),a=s(25828);class o extends c.ActorRdfSerializeFixedMediaTypes{constructor(t){super(t)}async runHandle(t,n){const r=new a.StreamWriter({format:n});let u;return"pipe"in t.quadStream?(t.quadStream.on("error",l=>r.emit("error",l)),u=t.quadStream.pipe(r)):u=r.import(t.quadStream),{data:u,triples:n==="text/turtle"||n==="application/n-triples"||n==="text/n3"}}}e.ActorRdfSerializeN3=o},38690:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(52277),e)},38729:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfJoinMinusHash=void 0;const c=s(95445),a=s(90412),o=s(81926),i=s(18888),t=s(4809),n=s(46746);class r extends c.ActorRdfJoin{constructor(l){super(l,{logicalType:"minus",physicalName:"hash-"+(l.canHandleUndefs?"undef":"def"),limitEntries:2,canHandleUndefs:l.canHandleUndefs})}static constructIndex(l,d){return l?new i.BindingsIndexUndef(d,p=>p&&p.termType!=="Variable"?(0,n.termToString)(p):"",!1):new i.BindingsIndexDef(d,o.bindingsToCompactString)}async getOutput(l){const d=l.entries[1].output,p=l.entries[0].output,f=await c.ActorRdfJoin.getMetadatas(l.entries),h=c.ActorRdfJoin.overlappingVariables(f);if(h.length===0)return d.bindingsStream.destroy(),{result:p};const y=new t.ClosableTransformIterator(async()=>{const m=r.constructIndex(this.canHandleUndefs,h);return await new Promise(b=>{d.bindingsStream.on("data",v=>m.put(v,!0)),d.bindingsStream.on("end",b),d.bindingsStream.on("error",v=>y.emit("error",v))}),p.bindingsStream.filter(b=>!m.getFirst(b,!0))},{autoStart:!1,onClose(){d.bindingsStream.destroy(),p.bindingsStream.destroy()}});return{result:{type:"bindings",bindingsStream:y,metadata:p.metadata}}}async getJoinCoefficients(l,d){const{metadatas:p}=d,f=c.ActorRdfJoin.getRequestInitialTimes(p),h=c.ActorRdfJoin.getRequestItemTimes(p);let y=p[0].cardinality.value+p[1].cardinality.value;return this.canHandleUndefs||(y*=.8),(0,a.passTestWithSideData)({iterations:y,persistedItems:p[0].cardinality.value,blockingItems:p[0].cardinality.value,requestTime:f[0]+p[0].cardinality.value*h[0]+f[1]+p[1].cardinality.value*h[1]},d)}}e.ActorRdfJoinMinusHash=r},38820:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(12167),e)},38912:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(27984),e)},38951:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorHttpFetch=void 0;const c=s(70322),a=s(90711),o=s(90412),i=s(48393),t=s(57006);class n extends c.ActorHttp{constructor(u){super(u),this.fetchInitPreprocessor=new t.FetchInitPreprocessor(u.agentOptions)}async test(u){return(0,o.passTest)({time:Number.POSITIVE_INFINITY})}async run(u){const l=this.prepareRequestHeaders(u),d={method:"GET",...u.init,headers:l};this.logInfo(u.context,`Requesting ${c.ActorHttp.getInputUrl(u.input).href}`,()=>({headers:c.ActorHttp.headersToHash(l),method:d.method})),u.context.has(a.KeysHttp.fetch)&&(d.headers=c.ActorHttp.headersToHash(l)),u.context.get(a.KeysHttp.includeCredentials)&&(d.credentials="include");const p=u.context.get(a.KeysHttp.httpTimeout),f=u.context.get(a.KeysHttp.httpBodyTimeout),h=u.context.get(a.KeysHttp.fetch)??fetch,y=await this.fetchInitPreprocessor.handle(d);let m,b;if(p){const _=new AbortController;y.signal=_.signal,m=()=>_.abort(new Error(`Fetch timed out for ${c.ActorHttp.getInputUrl(u.input).href} after ${p} ms`)),b=setTimeout(()=>m(),p)}const v=await h(u.input,y);return!p||f&&v.body||clearTimeout(b),v}prepareRequestHeaders(u){const l=new Headers(u.init?.headers);c.ActorHttp.isBrowser()?l.delete("user-agent"):l.has("user-agent")||l.set("user-agent",n.userAgent);const d=u.context.get(a.KeysHttp.auth);return d&&l.set("Authorization",`Basic ${n.stringToBase64(d)}`),l}static stringToBase64(u){const l=new TextEncoder().encode(u),d=Array.from(l,p=>String.fromCodePoint(p)).join("");return btoa(d)}}e.ActorHttpFetch=n,n.userAgent=c.ActorHttp.createUserAgent("ActorHttpFetch",i.version)},39187:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isDefinitionNode=function(r){return a(r)||o(r)||t(r)},e.isExecutableDefinitionNode=a,e.isSelectionNode=function(r){return r.kind===c.Kind.FIELD||r.kind===c.Kind.FRAGMENT_SPREAD||r.kind===c.Kind.INLINE_FRAGMENT},e.isValueNode=function(r){return r.kind===c.Kind.VARIABLE||r.kind===c.Kind.INT||r.kind===c.Kind.FLOAT||r.kind===c.Kind.STRING||r.kind===c.Kind.BOOLEAN||r.kind===c.Kind.NULL||r.kind===c.Kind.ENUM||r.kind===c.Kind.LIST||r.kind===c.Kind.OBJECT},e.isTypeNode=function(r){return r.kind===c.Kind.NAMED_TYPE||r.kind===c.Kind.LIST_TYPE||r.kind===c.Kind.NON_NULL_TYPE},e.isTypeSystemDefinitionNode=o,e.isTypeDefinitionNode=i,e.isTypeSystemExtensionNode=t,e.isTypeExtensionNode=n;var c=s(7030);function a(r){return r.kind===c.Kind.OPERATION_DEFINITION||r.kind===c.Kind.FRAGMENT_DEFINITION}function o(r){return r.kind===c.Kind.SCHEMA_DEFINITION||i(r)||r.kind===c.Kind.DIRECTIVE_DEFINITION}function i(r){return r.kind===c.Kind.SCALAR_TYPE_DEFINITION||r.kind===c.Kind.OBJECT_TYPE_DEFINITION||r.kind===c.Kind.INTERFACE_TYPE_DEFINITION||r.kind===c.Kind.UNION_TYPE_DEFINITION||r.kind===c.Kind.ENUM_TYPE_DEFINITION||r.kind===c.Kind.INPUT_OBJECT_TYPE_DEFINITION}function t(r){return r.kind===c.Kind.SCHEMA_EXTENSION||n(r)}function n(r){return r.kind===c.Kind.SCALAR_TYPE_EXTENSION||r.kind===c.Kind.OBJECT_TYPE_EXTENSION||r.kind===c.Kind.INTERFACE_TYPE_EXTENSION||r.kind===c.Kind.UNION_TYPE_EXTENSION||r.kind===c.Kind.ENUM_TYPE_EXTENSION||r.kind===c.Kind.INPUT_OBJECT_TYPE_EXTENSION}},39195:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(39582),e)},39417:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermSha512=void 0;const c=s(77617),a=s(77545),o=s(17796);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.SparqlOperator.SHA512],termFunction:!0})}async run(n){return new o.TermFunctionSha512}}e.ActorFunctionFactoryTermSha512=i},39479:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},39582:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfJoinEntriesSort=void 0;const c=s(90412);class a extends c.Actor{constructor(i){super(i)}}e.ActorRdfJoinEntriesSort=a},39614:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},39693:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerArrayValue=void 0;const c=s(10888),a=s(42395);e.EntryHandlerArrayValue=class{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(o,i,t,n,r){return this.test(o,i,null,t,n)}async test(o,i,t,n,r){return typeof n[r]=="number"}async handle(o,i,t,n,r,u){let l=await i.unaliasKeywordParent(n,u);if(l==="@list"){let d=null,p=0;for(let f=u-2;f>0;f--){const h=n[f];if(typeof h=="string"||typeof h=="number"){p=f,d=h;break}}if(d!==null){const f=await i.valueToTerm(await o.getContext(n),d,r,u,n);for(const h of f)await this.handleListElement(o,i,h,r,u,n.slice(0,p),p);f.length===0&&await this.handleListElement(o,i,null,r,u,n.slice(0,p),p)}}else if(l==="@set")await o.newOnValueJob(n.slice(0,-2),r,u-2,!1);else if(l!==void 0&&l!=="@type"){for(let p=u-1;p>0;p--)if(typeof n[p]!="number"){l=await i.unaliasKeyword(n[p],n,p);break}const d=await o.getContext(n.slice(0,-1));if("@list"in c.Util.getContextValueContainer(d,l)){o.emittedStack[u+1]=!0;const p=await i.valueToTerm(await o.getContext(n),l,r,u,n);for(const f of p)await this.handleListElement(o,i,f,r,u,n.slice(0,-1),u-1);p.length===0&&await this.handleListElement(o,i,null,r,u,n.slice(0,-1),u-1)}else o.shiftStack(u,1),await o.newOnValueJob(n.slice(0,-1),r,u-1,!1),o.contextTree.removeContext(n.slice(0,-1))}}async handleListElement(o,i,t,n,r,u,l){let d=o.listPointerStack[r];if(n!==null&&(await i.unaliasKeywords(n,u,r))["@value"]!==null){if(d&&d.value){const p=i.dataFactory.blankNode();o.emitQuad(r,i.dataFactory.quad(d.value,i.rdfRest,p,i.getDefaultGraph())),d.value=p}else{const p=i.dataFactory.blankNode();d={value:p,listRootDepth:l,listId:p}}t&&o.emitQuad(r,i.dataFactory.quad(d.value,i.rdfFirst,t,i.getDefaultGraph()))}else d||(d={listRootDepth:l,listId:i.rdfNil});o.listPointerStack[r]=d,o.rdfstar&&o.annotationsBuffer[r]&&o.emitError(new a.ErrorCoded("Found an illegal annotation inside a list",a.ERROR_CODES.INVALID_ANNOTATION))}}},39830:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryParse=void 0;const c=s(90412);class a extends c.Actor{constructor(i){super(i)}}e.ActorQueryParse=a},39878:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionDivision=void 0;const c=s(77617),a=s(77545),o=s(61594);class i extends c.TermFunctionBase{constructor(){super({arity:2,operator:a.SparqlOperator.DIVISION,overloads:(0,a.declare)(a.SparqlOperator.DIVISION).arithmetic(()=>(n,r)=>new o.BigNumber(n).div(r).toNumber()).onBinaryTyped([a.TypeURL.XSD_INTEGER,a.TypeURL.XSD_INTEGER],()=>(n,r)=>{if(r===0)throw new a.ExpressionError("Integer division by 0");return(0,a.decimal)(new o.BigNumber(n).div(r).toNumber())}).collect()})}}e.TermFunctionDivision=i},4e4:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionTz=void 0;const c=s(77617),a=s(77545);class o extends c.TermFunctionBase{constructor(){super({arity:1,operator:a.SparqlOperator.TZ,overloads:(0,a.declare)(a.SparqlOperator.TZ).onDateTime1(()=>t=>(0,a.string)((0,a.extractRawTimeZone)(t.str()))).copy({from:[a.TypeURL.XSD_DATE_TIME],to:[a.TypeURL.XSD_DATE]}).copy({from:[a.TypeURL.XSD_DATE_TIME],to:[a.TypeURL.XSD_TIME]}).collect()})}}e.TermFunctionTz=o},40178:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionGreaterThanEqual=void 0;const c=s(77617),a=s(77545);class o extends c.TermFunctionBase{constructor(t){super({arity:2,operator:a.SparqlOperator.GTE,overloads:(0,a.declare)(a.SparqlOperator.GTE).set(["term","term"],n=>([r,u])=>this.lessThanEqualFunction.applyOnTerms([u,r],n)).collect()}),this.lessThanEqualFunction=t}}e.TermFunctionGreaterThanEqual=o},40182:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.version=e.validate=e.v7=e.v6ToV1=e.v6=e.v5=e.v4=e.v3=e.v1ToV6=e.v1=e.stringify=e.parse=e.NIL=e.MAX=void 0;var c=s(62196);Object.defineProperty(e,"MAX",{enumerable:!0,get:function(){return c.default}});var a=s(63465);Object.defineProperty(e,"NIL",{enumerable:!0,get:function(){return a.default}});var o=s(31797);Object.defineProperty(e,"parse",{enumerable:!0,get:function(){return o.default}});var i=s(76011);Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return i.default}});var t=s(31425);Object.defineProperty(e,"v1",{enumerable:!0,get:function(){return t.default}});var n=s(96568);Object.defineProperty(e,"v1ToV6",{enumerable:!0,get:function(){return n.default}});var r=s(70591);Object.defineProperty(e,"v3",{enumerable:!0,get:function(){return r.default}});var u=s(48286);Object.defineProperty(e,"v4",{enumerable:!0,get:function(){return u.default}});var l=s(74557);Object.defineProperty(e,"v5",{enumerable:!0,get:function(){return l.default}});var d=s(46356);Object.defineProperty(e,"v6",{enumerable:!0,get:function(){return d.default}});var p=s(60268);Object.defineProperty(e,"v6ToV1",{enumerable:!0,get:function(){return p.default}});var f=s(94299);Object.defineProperty(e,"v7",{enumerable:!0,get:function(){return f.default}});var h=s(59746);Object.defineProperty(e,"validate",{enumerable:!0,get:function(){return h.default}});var y=s(72770);Object.defineProperty(e,"version",{enumerable:!0,get:function(){return y.default}})},40196:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryOperationClear=void 0;const c=s(66490),a=s(90711),o=s(67021);class i extends c.ActorQueryOperationTypedMediated{constructor(n){super(n,"clear")}async testOperation(n,r){return(0,o.testReadOnly)(r)}async runOperation(n,r){const u=r.getSafe(a.KeysInitQuery.dataFactory);let l;l=n.source==="DEFAULT"?u.defaultGraph():typeof n.source=="string"?n.source:[n.source];const{execute:d}=await this.mediatorUpdateQuads.mediate({deleteGraphs:{graphs:l,requireExistence:!n.silent,dropGraphs:!1},context:r});return{type:"void",execute:d}}}e.ActorQueryOperationClear=i},40229:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.QuerySourceSparql=void 0;const c=s(90711),a=s(90412),o=s(99214),i=s(67021),t=s(75627),n=s(92603),r=s(89096),u=s(3285),l=s(96331);class d{constructor(f,h,y,m,b,v,_,w,O,A,T,S,E,D,I){this.referenceValue=f,this.url=f,this.context=h,this.mediatorHttp=y,this.bindMethod=m,this.dataFactory=b,this.algebraFactory=v,this.bindingsFactory=_,this.endpointFetcher=new n.SparqlEndpointFetcher({method:w?"GET":"POST",fetch:(V,K)=>this.mediatorHttp.mediate({input:V,init:K,context:this.lastSourceContext}),prefixVariableQuestionMark:!0,dataFactory:b}),this.cache=O>0?new r.LRUCache({max:O}):void 0,this.countTimeout=A,this.cardinalityCountQueries=T,this.cardinalityEstimateConstruction=S,this.defaultGraph=E,this.unionDefaultGraph=D??!1,this.datasets=I}async getSelectorShape(){return d.SELECTOR_SHAPE}queryBindings(f,h,y){let m;m=y?.joinBindings?d.addBindingsToOperation(this.algebraFactory,this.bindMethod,f,y.joinBindings):Promise.resolve(f);const b=new t.TransformIterator(async()=>{const v=await m,_=l.Util.inScopeVariables(v),w=h.get(c.KeysInitQuery.queryString),O=h.getSafe(c.KeysInitQuery.queryFormat),A=!y?.joinBindings&&w&&O.language==="sparql"?w:d.operationToSelectQuery(this.algebraFactory,v,_),T=d.getOperationUndefs(v);return this.queryBindingsRemote(this.url,A,_,h,T)},{autoStart:!1});return this.attachMetadata(b,h,m),b}queryQuads(f,h){this.lastSourceContext=this.context.merge(h);const y=this.endpointFetcher.fetchTriples(this.url,h.get(c.KeysInitQuery.queryString)??d.operationToQuery(f));this.lastSourceContext=void 0;const m=(0,t.wrap)(y,{autoStart:!1,maxBufferSize:Number.POSITIVE_INFINITY});return this.attachMetadata(m,h,Promise.resolve(f.input)),m}queryBoolean(f,h){this.lastSourceContext=this.context.merge(h);const y=this.endpointFetcher.fetchAsk(this.url,h.get(c.KeysInitQuery.queryString)??d.operationToQuery(f));return this.lastSourceContext=void 0,y}queryVoid(f,h){this.lastSourceContext=this.context.merge(h);const y=this.endpointFetcher.fetchUpdate(this.url,h.get(c.KeysInitQuery.queryString)??d.operationToQuery(f));return this.lastSourceContext=void 0,y}attachMetadata(f,h,y){let m=[];new Promise(async(b,v)=>{try{const _=await y,w=l.Util.inScopeVariables(_),O=this.operationToNormalizedCountQuery(_),A=d.getOperationUndefs(_);m=w.map(I=>({variable:I,canBeUndef:A.some(V=>V.equals(I))}));const T=this.cache?.get(O);if(T)return b(T);if(this.cardinalityEstimateConstruction){const I=await this.estimateOperationCardinality(_);if(Number.isFinite(I.value))return this.cache?.set(O,I),b(I)}if(!this.cardinalityCountQueries)return b({type:"estimate",value:Number.POSITIVE_INFINITY,dataset:this.url});const S=setTimeout(()=>b({type:"estimate",value:Number.POSITIVE_INFINITY,dataset:this.url}),this.countTimeout),E=this.dataFactory.variable("count"),D=await this.queryBindingsRemote(this.url,O,[E],h,[]);D.on("data",I=>{clearTimeout(S);const V=I.get(E),K={type:"estimate",value:Number.POSITIVE_INFINITY,dataset:this.url};if(V){const B=Number.parseInt(V.value,10);Number.isNaN(B)||(K.type="exact",K.value=B,this.cache?.set(O,K))}return b(K)}),D.on("error",()=>{clearTimeout(S),b({type:"estimate",value:Number.POSITIVE_INFINITY,dataset:this.url})}),D.on("end",()=>{clearTimeout(S),b({type:"estimate",value:Number.POSITIVE_INFINITY,dataset:this.url})})}catch(_){return v(_)}}).then(b=>{f.setProperty("metadata",{state:new o.MetadataValidationState,cardinality:b,variables:m})}).catch(()=>f.setProperty("metadata",{state:new o.MetadataValidationState,cardinality:{type:"estimate",value:Number.POSITIVE_INFINITY,dataset:this.url},variables:m}))}operationToNormalizedCountQuery(f){const h=f.type===l.Algebra.types.PATTERN?this.algebraFactory.createPattern(f.subject.termType==="Variable"?this.dataFactory.variable("s"):f.subject,f.predicate.termType==="Variable"?this.dataFactory.variable("p"):f.predicate,f.object.termType==="Variable"?this.dataFactory.variable("o"):f.object):f;return d.operationToCountQuery(this.dataFactory,this.algebraFactory,h)}async estimateOperationCardinality(f){const h={getCardinality:y=>{const m=this.operationToNormalizedCountQuery(y),b=this.cache?.get(m);if(b)return b;if(this.datasets){const v=this.datasets.filter(_=>this.unionDefaultGraph||this.defaultGraph&&_.uri.endsWith(this.defaultGraph)).map(_=>(0,i.estimateCardinality)(y,_));return{type:v.some(_=>_.type==="estimate")?"estimate":"exact",value:v.length>0?v.reduce((_,w)=>_+w.value,0):0,dataset:this.url}}},source:this.url,uri:this.url};return(0,i.estimateCardinality)(f,h)}static async addBindingsToOperation(f,h,y,m){const b=await m.bindings.toArray();switch(h){case"values":return f.createJoin([f.createValues(m.metadata.variables.map(v=>v.variable),b.map(v=>Object.fromEntries([...v].map(([_,w])=>[`?${_.value}`,w])))),y],!1);case"union":throw new Error('Not implemented yet: "union" case');case"filter":throw new Error('Not implemented yet: "filter" case')}}static operationToSelectQuery(f,h,y){return d.operationToQuery(f.createProject(h,y))}static operationToCountQuery(f,h,y){return d.operationToQuery(h.createProject(h.createExtend(h.createGroup(y,[],[h.createBoundAggregate(f.variable("var0"),"count",h.createWildcardExpression(),!1)]),f.variable("count"),h.createTermExpression(f.variable("var0"))),[f.variable("count")]))}static operationToQuery(f){return(0,l.toSparql)(f,{sparqlStar:!0})}static getOperationUndefs(f){const h=[];return l.Util.recurseOperation(f,{leftjoin(y){const m=l.Util.inScopeVariables(y.input[0]),b=l.Util.inScopeVariables(y.input[1]);for(const v of b)m.some(_=>_.equals(v))||h.push(v);return!1},values(y){for(const m of y.variables)y.bindings.some(b=>!(`?${m.value}`in b))&&h.push(m);return!1},union(y){const m=y.input.map(l.Util.inScopeVariables);for(const b of(0,u.uniqTerms)(m.flat()))m.every(v=>v.some(_=>_.equals(b)))||h.push(b);return!0}}),(0,u.uniqTerms)(h)}async queryBindingsRemote(f,h,y,m,b){const v=new Set;for(const w of b)v.add(w.value);this.lastSourceContext=this.context.merge(m);const _=await this.endpointFetcher.fetchBindings(f,h);return this.lastSourceContext=void 0,(0,t.wrap)(_,{autoStart:!1,maxBufferSize:Number.POSITIVE_INFINITY}).map(w=>this.bindingsFactory.bindings(y.map(O=>{const A=w[`?${O.value}`];return v.has(O.value)||A||a.Actor.getContextLogger(this.context)?.warn(`The endpoint ${f} failed to provide a binding for ${O.value}.`),[O,A]}).filter(([O,A])=>!!A)))}toString(){return`QuerySourceSparql(${this.url})`}}e.QuerySourceSparql=d,d.SELECTOR_SHAPE={type:"disjunction",children:[{type:"operation",operation:{operationType:"wildcard"},joinBindings:!0}]}},40236:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermIsLiteral=void 0;const c=s(77617),a=s(77545),o=s(92615);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.SparqlOperator.IS_LITERAL],termFunction:!0})}async run(n){return new o.TermFunctionIsLiteral}}e.ActorFunctionFactoryTermIsLiteral=i},40274:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ClosableIterator=void 0;const c=s(75627);class a extends c.AsyncIterator{constructor(r,u){super(),this.onClose=u.onClose,this._source=r,this._source[c.DESTINATION]=this,this._source.on("end",t),this._source.on("error",i),this._source.on("readable",o),this.readable=this._source.readable}read(){const r=this._source.read();return r||(this.readable=!1,this._source.done&&this.close()),r}_end(r){this.onClose(),this._source.removeListener("end",t),this._source.removeListener("error",i),this._source.removeListener("readable",o),delete this._source[c.DESTINATION],this._source.destroy(),super._end(r)}}function o(){this[c.DESTINATION].readable=!0}function i(n){this[c.DESTINATION].emit("error",n)}function t(){this[c.DESTINATION].close()}e.ClosableIterator=a},40288:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.LinkedList=void 0,e.LinkedList=class{constructor(){this._length=0,this._head=null,this._tail=null}get length(){return this._length}get first(){var s;return(s=this._head)===null||s===void 0?void 0:s.value}get last(){var s;return(s=this._tail)===null||s===void 0?void 0:s.value}get empty(){return this._head===null}push(s){const c={value:s,next:null};this._tail===null?this._head=this._tail=c:this._tail.next=this._tail=c,this._length++}shift(){if(this._head===null)return;const{value:s,next:c}=this._head;return this._head=c,c===null&&(this._tail=null),this._length--,s}clear(){this._length=0,this._head=this._tail=null}}},40332:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(4996),e),a(s(34247),e)},40338:(g,e)=>{function s(r){return 14+(r+64>>>9<<4)+1}function c(r,u){const l=(65535&r)+(65535&u);return(r>>16)+(u>>16)+(l>>16)<<16|65535&l}function a(r,u,l,d,p,f){return c((h=c(c(u,r),c(d,f)))<<(y=p)|h>>>32-y,l);var h,y}function o(r,u,l,d,p,f,h){return a(u&l|~u&d,r,u,p,f,h)}function i(r,u,l,d,p,f,h){return a(u&d|l&~d,r,u,p,f,h)}function t(r,u,l,d,p,f,h){return a(u^l^d,r,u,p,f,h)}function n(r,u,l,d,p,f,h){return a(l^(u|~d),r,u,p,f,h)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(r){return function(u){const l=new Uint8Array(4*u.length);for(let d=0;d<4*u.length;d++)l[d]=u[d>>2]>>>d%4*8&255;return l}(function(u,l){const d=new Uint32Array(s(l)).fill(0);d.set(u),d[l>>5]|=128<<l%32,d[d.length-1]=l,u=d;let p=1732584193,f=-271733879,h=-1732584194,y=271733878;for(let m=0;m<u.length;m+=16){const b=p,v=f,_=h,w=y;p=o(p,f,h,y,u[m],7,-680876936),y=o(y,p,f,h,u[m+1],12,-389564586),h=o(h,y,p,f,u[m+2],17,606105819),f=o(f,h,y,p,u[m+3],22,-1044525330),p=o(p,f,h,y,u[m+4],7,-176418897),y=o(y,p,f,h,u[m+5],12,1200080426),h=o(h,y,p,f,u[m+6],17,-1473231341),f=o(f,h,y,p,u[m+7],22,-45705983),p=o(p,f,h,y,u[m+8],7,1770035416),y=o(y,p,f,h,u[m+9],12,-1958414417),h=o(h,y,p,f,u[m+10],17,-42063),f=o(f,h,y,p,u[m+11],22,-1990404162),p=o(p,f,h,y,u[m+12],7,1804603682),y=o(y,p,f,h,u[m+13],12,-40341101),h=o(h,y,p,f,u[m+14],17,-1502002290),f=o(f,h,y,p,u[m+15],22,1236535329),p=i(p,f,h,y,u[m+1],5,-165796510),y=i(y,p,f,h,u[m+6],9,-1069501632),h=i(h,y,p,f,u[m+11],14,643717713),f=i(f,h,y,p,u[m],20,-373897302),p=i(p,f,h,y,u[m+5],5,-701558691),y=i(y,p,f,h,u[m+10],9,38016083),h=i(h,y,p,f,u[m+15],14,-660478335),f=i(f,h,y,p,u[m+4],20,-405537848),p=i(p,f,h,y,u[m+9],5,568446438),y=i(y,p,f,h,u[m+14],9,-1019803690),h=i(h,y,p,f,u[m+3],14,-187363961),f=i(f,h,y,p,u[m+8],20,1163531501),p=i(p,f,h,y,u[m+13],5,-1444681467),y=i(y,p,f,h,u[m+2],9,-51403784),h=i(h,y,p,f,u[m+7],14,1735328473),f=i(f,h,y,p,u[m+12],20,-1926607734),p=t(p,f,h,y,u[m+5],4,-378558),y=t(y,p,f,h,u[m+8],11,-2022574463),h=t(h,y,p,f,u[m+11],16,1839030562),f=t(f,h,y,p,u[m+14],23,-35309556),p=t(p,f,h,y,u[m+1],4,-1530992060),y=t(y,p,f,h,u[m+4],11,1272893353),h=t(h,y,p,f,u[m+7],16,-155497632),f=t(f,h,y,p,u[m+10],23,-1094730640),p=t(p,f,h,y,u[m+13],4,681279174),y=t(y,p,f,h,u[m],11,-358537222),h=t(h,y,p,f,u[m+3],16,-722521979),f=t(f,h,y,p,u[m+6],23,76029189),p=t(p,f,h,y,u[m+9],4,-640364487),y=t(y,p,f,h,u[m+12],11,-421815835),h=t(h,y,p,f,u[m+15],16,530742520),f=t(f,h,y,p,u[m+2],23,-995338651),p=n(p,f,h,y,u[m],6,-198630844),y=n(y,p,f,h,u[m+7],10,1126891415),h=n(h,y,p,f,u[m+14],15,-1416354905),f=n(f,h,y,p,u[m+5],21,-57434055),p=n(p,f,h,y,u[m+12],6,1700485571),y=n(y,p,f,h,u[m+3],10,-1894986606),h=n(h,y,p,f,u[m+10],15,-1051523),f=n(f,h,y,p,u[m+1],21,-2054922799),p=n(p,f,h,y,u[m+8],6,1873313359),y=n(y,p,f,h,u[m+15],10,-30611744),h=n(h,y,p,f,u[m+6],15,-1560198380),f=n(f,h,y,p,u[m+13],21,1309151649),p=n(p,f,h,y,u[m+4],6,-145523070),y=n(y,p,f,h,u[m+11],10,-1120210379),h=n(h,y,p,f,u[m+2],15,718787259),f=n(f,h,y,p,u[m+9],21,-343485551),p=c(p,b),f=c(f,v),h=c(h,_),y=c(y,w)}return Uint32Array.of(p,f,h,y)}(function(u){if(u.length===0)return new Uint32Array;const l=new Uint32Array(s(8*u.length)).fill(0);for(let d=0;d<u.length;d++)l[d>>2]|=(255&u[d])<<d%4*8;return l}(r),8*r.length))}},40366:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfMetadataExtractHydraControls=void 0;const c=s(18412),a=s(90412),o=s(36093);class i extends c.ActorRdfMetadataExtract{constructor(n){super(n),this.parsedUriTemplateCache={}}async test(n){return(0,a.passTestVoid)()}getLinks(n,r){return Object.fromEntries(i.LINK_TYPES.map(u=>{const l=r[u]||r[`${u}Page`],d=l&&l[n];return[u,d&&d.length>0?[d[0]]:[]]}))}parseUriTemplateCached(n){return this.parsedUriTemplateCache[n]||(this.parsedUriTemplateCache[n]=(0,o.parse)(n))}getSearchForms(n){const r=n.search,u=[];if(r)for(const l in r)for(const d of r[l]){const p=(n.template||{})[d]||[];if(p.length!==1)throw new Error(`Expected 1 hydra:template for ${d}`);const f=p[0],h=this.parseUriTemplateCached(f),y=Object.fromEntries(((n.mapping||{})[d]||[]).map(b=>{const v=((n.variable||{})[b]||[])[0],_=((n.property||{})[b]||[])[0];if(!v)throw new Error(`Expected a hydra:variable for ${b}`);if(!_)throw new Error(`Expected a hydra:property for ${b}`);return[_,v]})),m=b=>h.expand(Object.fromEntries(Object.keys(b).map(v=>[y[v],b[v]])));u.push({dataset:l,template:f,mappings:y,getUri:m})}return{values:u}}getHydraProperties(n){return new Promise((r,u)=>{n.on("error",u);const l={};n.on("data",d=>{if(d.predicate.value.startsWith(i.HYDRA)){const p=d.predicate.value.slice(i.HYDRA.length),f=l[p]||(l[p]={});(f[d.subject.value]||(f[d.subject.value]=[])).push(d.object.value)}}),n.on("end",()=>r(l))})}async run(n){const r={},u=await this.getHydraProperties(n.metadata);return Object.assign(r,this.getLinks(n.url,u)),r.searchForms=this.getSearchForms(u),{metadata:r}}}e.ActorRdfMetadataExtractHydraControls=i,i.HYDRA="http://www.w3.org/ns/hydra/core#",i.LINK_TYPES=["first","next","previous","last"]},40409:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActionObserverHttp=void 0;const c=s(90412);class a extends c.ActionObserver{constructor(i){super(i),this.requests=0,this.bus.subscribeObserver(this),this.httpInvalidator.addInvalidateListener(()=>{this.requests=0})}onRun(i,t,n){this.observedActors.includes(i.name)&&this.requests++}}e.ActionObserverHttp=a},40589:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryExpressionExtensions=void 0;const c=s(77617),a=s(90711),o=s(90412),i=s(47793),t=s(71742);class n extends c.ActorFunctionFactory{constructor(u){super(u)}async test({context:u,functionName:l}){return await u.getSafe(a.KeysExpressionEvaluator.extensionFunctionCreator)(new i.DataFactory().namedNode(l))?(0,o.passTestVoid)():(0,o.failTest)(`Actor ${this.name} can only provide non-termExpression implementations for functions that are provided through config entries like: ${a.KeysInitQuery.extensionFunctionCreator.name} or ${a.KeysInitQuery.extensionFunctions.name}`)}async run({context:u,functionName:l}){const d=u.getSafe(a.KeysExpressionEvaluator.extensionFunctionCreator),p=await d(new i.DataFactory().namedNode(l));return new t.NamedExtension({operator:l,functionDefinition:p})}}e.ActorFunctionFactoryExpressionExtensions=n},40611:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.stringQuadToQuad=e.quadToStringQuad=e.stringToTerm=e.getLiteralLanguage=e.getLiteralType=e.getLiteralValue=e.termToString=void 0;const c=new(s(47793)).DataFactory;function a(r){if(r)switch(r.termType){case"NamedNode":case"DefaultGraph":return r.value;case"BlankNode":return"_:"+r.value;case"Literal":const u=r;return'"'+u.value+'"'+(u.datatype&&u.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&u.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?"^^"+u.datatype.value:"")+(u.language?"@"+u.language:"");case"Quad":return`<<${a(r.subject)} ${a(r.predicate)} ${a(r.object)}${r.graph.termType==="DefaultGraph"?"":" "+a(r.graph)}>>`;case"Variable":return"?"+r.value}}function o(r){const u=/^"([^]*)"/.exec(r);if(!u)throw new Error(r+" is not a literal");return u[1]}function i(r){const u=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(r);if(!u)throw new Error(r+" is not a literal");return u[1]||(u[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}function t(r){const u=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(r);if(!u)throw new Error(r+" is not a literal");return u[1]?u[1].toLowerCase():""}function n(r,u){if(u=u||c,!r||!r.length)return u.defaultGraph();switch(r[0]){case"_":return u.blankNode(r.substr(2));case"?":if(!u.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return u.variable(r.substr(1));case'"':const l=t(r),d=u.namedNode(i(r));return u.literal(o(r),l||d);default:if(r[0]==="<"&&r.length>4&&r[1]==="<"&&r[r.length-1]===">"&&r[r.length-2]===">"){const p=r.slice(2,-2).trim();let f=[],h=0,y=0,m=!1;for(let b=0;b<p.length;b++){const v=p[b];if(v==="<"&&h++,v===">"){if(h===0)throw new Error("Found closing tag without opening tag in "+r);h--}if(v==='"'){let _=!1,w=b;for(;w-- >0&&p[w]==="\\";)_=!_;_||(m=!m)}if(v===" "&&!m&&h===0){for(f.push(p.slice(y,b));p[b+1]===" ";)b+=1;y=b+1}}if(h!==0)throw new Error("Found opening tag without closing tag in "+r);if(f.push(p.slice(y,p.length)),f.length!==3&&f.length!==4)throw new Error("Nested quad syntax error "+r);return f=f.map(b=>b.startsWith("<")&&!b.includes(" ")?b.slice(1,-1):b),u.quad(n(f[0]),n(f[1]),n(f[2]),f[3]?n(f[3]):void 0)}return u.namedNode(r)}}e.termToString=a,e.getLiteralValue=o,e.getLiteralType=i,e.getLiteralLanguage=t,e.stringToTerm=n,e.quadToStringQuad=function(r){return{subject:a(r.subject),predicate:a(r.predicate),object:a(r.object),graph:a(r.graph)}},e.stringQuadToQuad=function(r,u){return(u=u||c).quad(n(r.subject,u),n(r.predicate,u),n(r.object,u),n(r.graph,u))}},40671:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorDereference=void 0;const c=s(79806);class a extends c.ActorDereferenceBase{constructor(i){super(i)}async handleDereferenceErrors(i,t,n,r=0){return this.dereferenceErrorHandler(i,t,{url:i.url,exists:!1,headers:n,requestTime:r})}}e.ActorDereference=a},40721:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfJoinSingle=void 0;const c=s(95445),a=s(90412);class o extends c.ActorRdfJoin{constructor(t){super(t,{logicalType:"inner",physicalName:"single",limitEntries:1}),this.includeInLogs=!1}async test(t){return t.entries.length!==1?(0,a.failTest)(`Actor ${this.name} can only join a single entry`):await this.getJoinCoefficients(t,void 0)}async getOutput(t){return{result:t.entries[0].output}}async getJoinCoefficients(t,n){return(0,a.passTestWithSideData)({iterations:0,persistedItems:0,blockingItems:0,requestTime:0},n)}}e.ActorRdfJoinSingle=o},40767:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(68435),e)},40825:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.printLocation=function(t){return a(t.source,(0,c.getLocation)(t.source,t.start))},e.printSourceLocation=a;var c=s(99530);function a(t,n){var r=t.locationOffset.column-1,u=i(r)+t.body,l=n.line-1,d=t.locationOffset.line-1,p=n.line+d,f=n.line===1?r:0,h=n.column+f,y="".concat(t.name,":").concat(p,":").concat(h,`
`),m=u.split(/\r\n|[\n\r]/g),b=m[l];if(b.length>120){for(var v=Math.floor(h/80),_=h%80,w=[],O=0;O<b.length;O+=80)w.push(b.slice(O,O+80));return y+o([["".concat(p),w[0]]].concat(w.slice(1,v+1).map(function(A){return["",A]}),[[" ",i(_-1)+"^"],["",w[v+1]]]))}return y+o([["".concat(p-1),m[l-1]],["".concat(p),b],["",i(h-1)+"^"],["".concat(p+1),m[l+1]]])}function o(t){var n=t.filter(function(u){return u[0],u[1]!==void 0}),r=Math.max.apply(Math,n.map(function(u){return u[0].length}));return n.map(function(u){var l,d=u[0],p=u[1];return i(r-(l=d).length)+l+(p?" | "+p:" |")}).join(`
`)}function i(t){return Array(t+1).join(" ")}},40883:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ExpressionFunctionLogicalOr=void 0;const c=s(77617),a=s(77545);class o extends c.ExpressionFunctionBase{constructor(){super({arity:2,operator:a.SparqlOperator.LOGICAL_OR,apply:async({args:t,mapping:n,exprEval:r})=>{const[u,l]=t;try{if((await r.evaluatorExpressionEvaluation(u,n)).coerceEBV())return(0,a.bool)(!0);const d=(await r.evaluatorExpressionEvaluation(l,n)).coerceEBV();return(0,a.bool)(d)}catch(d){if(!(await r.evaluatorExpressionEvaluation(l,n)).coerceEBV())throw d;return(0,a.bool)(!0)}}})}}e.ExpressionFunctionLogicalOr=o},40916:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermStrDt=void 0;const c=s(77617),a=s(77545),o=s(27403);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.SparqlOperator.STRDT],termFunction:!0})}async run(n){return new o.TermFunctionStrDt}}e.ActorFunctionFactoryTermStrDt=i},40932:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.LoggerVoid=void 0;const c=s(42996);class a extends c.Logger{debug(){}error(){}fatal(){}info(){}trace(){}warn(){}}e.LoggerVoid=a},40972:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},41141:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(r,u,l,d){d===void 0&&(d=l);var p=Object.getOwnPropertyDescriptor(u,l);p&&!("get"in p?!u.__esModule:p.writable||p.configurable)||(p={enumerable:!0,get:function(){return u[l]}}),Object.defineProperty(r,d,p)}:function(r,u,l,d){d===void 0&&(d=l),r[d]=u[l]}),a=this&&this.__exportStar||function(r,u){for(var l in r)l==="default"||Object.prototype.hasOwnProperty.call(u,l)||c(u,r,l)};Object.defineProperty(e,"__esModule",{value:!0}),e.DomHandler=void 0;var o=s(45413),i=s(36957);a(s(36957),e);var t={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},n=function(){function r(u,l,d){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof l=="function"&&(d=l,l=t),typeof u=="object"&&(l=u,u=void 0),this.callback=u??null,this.options=l??t,this.elementCB=d??null}return r.prototype.onparserinit=function(u){this.parser=u},r.prototype.onreset=function(){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},r.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},r.prototype.onerror=function(u){this.handleCallback(u)},r.prototype.onclosetag=function(){this.lastNode=null;var u=this.tagStack.pop();this.options.withEndIndices&&(u.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(u)},r.prototype.onopentag=function(u,l){var d=this.options.xmlMode?o.ElementType.Tag:void 0,p=new i.Element(u,l,void 0,d);this.addNode(p),this.tagStack.push(p)},r.prototype.ontext=function(u){var l=this.lastNode;if(l&&l.type===o.ElementType.Text)l.data+=u,this.options.withEndIndices&&(l.endIndex=this.parser.endIndex);else{var d=new i.Text(u);this.addNode(d),this.lastNode=d}},r.prototype.oncomment=function(u){if(this.lastNode&&this.lastNode.type===o.ElementType.Comment)this.lastNode.data+=u;else{var l=new i.Comment(u);this.addNode(l),this.lastNode=l}},r.prototype.oncommentend=function(){this.lastNode=null},r.prototype.oncdatastart=function(){var u=new i.Text(""),l=new i.CDATA([u]);this.addNode(l),u.parent=l,this.lastNode=u},r.prototype.oncdataend=function(){this.lastNode=null},r.prototype.onprocessinginstruction=function(u,l){var d=new i.ProcessingInstruction(u,l);this.addNode(d)},r.prototype.handleCallback=function(u){if(typeof this.callback=="function")this.callback(u,this.dom);else if(u)throw u},r.prototype.addNode=function(u){var l=this.tagStack[this.tagStack.length-1],d=l.children[l.children.length-1];this.options.withStartIndices&&(u.startIndex=this.parser.startIndex),this.options.withEndIndices&&(u.endIndex=this.parser.endIndex),l.children.push(u),d&&(u.prev=d,d.next=u),u.parent=l,this.lastNode=null},r}();e.DomHandler=n,e.default=n},41142:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermLesserThan=void 0;const c=s(77617),a=s(77545),o=s(95199);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.SparqlOperator.LT],termFunction:!0}),this.mediatorFunctionFactory=n.mediatorFunctionFactory}async run(n){const r=await this.mediatorFunctionFactory.mediate({functionName:a.SparqlOperator.EQUAL,requireTermExpression:!0,context:n.context,arguments:n.arguments});return new o.TermFunctionLesserThan(r)}}e.ActorFunctionFactoryTermLesserThan=i},41291:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermSha384=void 0;const c=s(77617),a=s(77545),o=s(29814);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.SparqlOperator.SHA384],termFunction:!0})}async run(n){return new o.TermFunctionSha384}}e.ActorFunctionFactoryTermSha384=i},41363:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(81096),e),a(s(78877),e)},41388:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},41420:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionLang=void 0;const c=s(77617),a=s(77545);class o extends c.TermFunctionBase{constructor(){super({arity:1,operator:a.SparqlOperator.LANG,overloads:(0,a.declare)(a.SparqlOperator.LANG).onLiteral1(()=>t=>(0,a.string)(t.language??"")).collect()})}}e.TermFunctionLang=o},41845:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.stringQuadToQuad=e.quadToStringQuad=e.stringToTerm=e.getLiteralLanguage=e.getLiteralType=e.getLiteralValue=e.termToString=void 0;const c=new(s(47793)).DataFactory;function a(r){if(r)switch(r.termType){case"NamedNode":case"DefaultGraph":return r.value;case"BlankNode":return"_:"+r.value;case"Literal":const u=r;return'"'+u.value+'"'+(u.datatype&&u.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&u.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?"^^"+u.datatype.value:"")+(u.language?"@"+u.language:"");case"Quad":return`<<${a(r.subject)} ${a(r.predicate)} ${a(r.object)}${r.graph.termType==="DefaultGraph"?"":" "+a(r.graph)}>>`;case"Variable":return"?"+r.value}}function o(r){const u=/^"([^]*)"/.exec(r);if(!u)throw new Error(r+" is not a literal");return u[1]}function i(r){const u=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(r);if(!u)throw new Error(r+" is not a literal");return u[1]||(u[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}function t(r){const u=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(r);if(!u)throw new Error(r+" is not a literal");return u[1]?u[1].toLowerCase():""}function n(r,u){if(u=u||c,!r||!r.length)return u.defaultGraph();switch(r[0]){case"_":return u.blankNode(r.substr(2));case"?":if(!u.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return u.variable(r.substr(1));case'"':const l=t(r),d=u.namedNode(i(r));return u.literal(o(r),l||d);default:if(r[0]==="<"&&r.length>4&&r[1]==="<"&&r[r.length-1]===">"&&r[r.length-2]===">"){const p=r.slice(2,-2).trim();let f=[],h=0,y=0,m=!1;for(let b=0;b<p.length;b++){const v=p[b];if(v==="<"&&h++,v===">"){if(h===0)throw new Error("Found closing tag without opening tag in "+r);h--}if(v==='"'){let _=!1,w=b;for(;w-- >0&&p[w]==="\\";)_=!_;_||(m=!m)}if(v===" "&&!m&&h===0){for(f.push(p.slice(y,b));p[b+1]===" ";)b+=1;y=b+1}}if(h!==0)throw new Error("Found opening tag without closing tag in "+r);if(f.push(p.slice(y,p.length)),f.length!==3&&f.length!==4)throw new Error("Nested quad syntax error "+r);return f=f.map(b=>b.startsWith("<")&&!b.includes(" ")?b.slice(1,-1):b),u.quad(n(f[0]),n(f[1]),n(f[2]),f[3]?n(f[3]):void 0)}return u.namedNode(r)}}e.termToString=a,e.getLiteralValue=o,e.getLiteralType=i,e.getLiteralLanguage=t,e.stringToTerm=n,e.quadToStringQuad=function(r){return{subject:a(r.subject),predicate:a(r.predicate),object:a(r.object),graph:a(r.graph)}},e.stringQuadToQuad=function(r,u){return(u=u||c).quad(n(r.subject,u),n(r.predicate,u),n(r.object,u),n(r.graph,u))}},41937:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},42004:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(38729),e)},42135:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.stringQuadToQuad=e.quadToStringQuad=e.stringToTerm=e.getLiteralLanguage=e.getLiteralType=e.getLiteralValue=e.termToString=void 0;const c=new(s(47793)).DataFactory;function a(r){if(r)switch(r.termType){case"NamedNode":case"DefaultGraph":return r.value;case"BlankNode":return"_:"+r.value;case"Literal":const u=r;return'"'+u.value+'"'+(u.datatype&&u.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&u.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?"^^"+u.datatype.value:"")+(u.language?"@"+u.language:"");case"Quad":return`<<${a(r.subject)} ${a(r.predicate)} ${a(r.object)}${r.graph.termType==="DefaultGraph"?"":" "+a(r.graph)}>>`;case"Variable":return"?"+r.value}}function o(r){const u=/^"([^]*)"/.exec(r);if(!u)throw new Error(r+" is not a literal");return u[1]}function i(r){const u=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(r);if(!u)throw new Error(r+" is not a literal");return u[1]||(u[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}function t(r){const u=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(r);if(!u)throw new Error(r+" is not a literal");return u[1]?u[1].toLowerCase():""}function n(r,u){if(u=u||c,!r||!r.length)return u.defaultGraph();switch(r[0]){case"_":return u.blankNode(r.substr(2));case"?":if(!u.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return u.variable(r.substr(1));case'"':const l=t(r),d=u.namedNode(i(r));return u.literal(o(r),l||d);default:if(r[0]==="<"&&r.length>4&&r[1]==="<"&&r[r.length-1]===">"&&r[r.length-2]===">"){const p=r.slice(2,-2).trim();let f=[],h=0,y=0,m=!1;for(let b=0;b<p.length;b++){const v=p[b];if(v==="<"&&h++,v===">"){if(h===0)throw new Error("Found closing tag without opening tag in "+r);h--}if(v==='"'){let _=!1,w=b;for(;w-- >0&&p[w]==="\\";)_=!_;_||(m=!m)}if(v===" "&&!m&&h===0){for(f.push(p.slice(y,b));p[b+1]===" ";)b+=1;y=b+1}}if(h!==0)throw new Error("Found opening tag without closing tag in "+r);if(f.push(p.slice(y,p.length)),f.length!==3&&f.length!==4)throw new Error("Nested quad syntax error "+r);return f=f.map(b=>b.startsWith("<")&&!b.includes(" ")?b.slice(1,-1):b),u.quad(n(f[0]),n(f[1]),n(f[2]),f[3]?n(f[3]):void 0)}return u.namedNode(r)}}e.termToString=a,e.getLiteralValue=o,e.getLiteralType=i,e.getLiteralLanguage=t,e.stringToTerm=n,e.quadToStringQuad=function(r){return{subject:a(r.subject),predicate:a(r.predicate),object:a(r.object),graph:a(r.graph)}},e.stringQuadToQuad=function(r,u){return(u=u||c).quad(n(r.subject,u),n(r.predicate,u),n(r.object,u),n(r.graph,u))}},42149:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfJoinSymmetricHash=void 0;const c=s(95445),a=s(90412),o=s(25579);class i extends c.ActorRdfJoin{constructor(n){super(n,{logicalType:"inner",physicalName:"symmetric-hash",limitEntries:2,requiresVariableOverlap:!0})}async getOutput(n){const r=await c.ActorRdfJoin.getMetadatas(n.entries),u=c.ActorRdfJoin.overlappingVariables(r),{hashFunction:l}=await this.mediatorHashBindings.mediate({context:n.context}),d=u.map(p=>p.variable);return{result:{type:"bindings",bindingsStream:new o.SymmetricHashJoin(n.entries[0].output.bindingsStream,n.entries[1].output.bindingsStream,p=>l(p,d),c.ActorRdfJoin.joinBindings),metadata:async()=>await this.constructResultMetadata(n.entries,r,n.context)}}}async getJoinCoefficients(n,r){const{metadatas:u}=r,l=c.ActorRdfJoin.getRequestInitialTimes(u),d=c.ActorRdfJoin.getRequestItemTimes(u);return(0,a.passTestWithSideData)({iterations:u[0].cardinality.value+u[1].cardinality.value,persistedItems:u[0].cardinality.value+u[1].cardinality.value,blockingItems:0,requestTime:l[0]+u[0].cardinality.value*d[0]+l[1]+u[1].cardinality.value*d[1]},r)}}e.ActorRdfJoinSymmetricHash=i},42274:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(38522),e)},42281:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(53819),e)},42395:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(72803),e),a(s(75094),e),a(s(60585),e),a(s(29146),e),a(s(45086),e),a(s(85215),e),a(s(94931),e)},42439:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Variable=void 0,e.Variable=class{constructor(s){this.termType="Variable",this.value=s}equals(s){return!!s&&s.termType==="Variable"&&s.value===this.value}}},42449:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.RdfStoreIndexNestedMap=void 0;const c=s(95439);e.RdfStoreIndexNestedMap=class{constructor(a){this.features={quotedTripleFiltering:!1},this.dictionary=a.dictionary,this.nestedMap=new Map}set(a,o){const i=this.nestedMap;let t=i.get(a[0]);t||(t=new Map,i.set(a[0],t));let n=t.get(a[1]);n||(n=new Map,t.set(a[1],n));let r=n.get(a[2]);r||(r=new Map,n.set(a[2],r));const u=r.has(a[3]);return u||r.set(a[3],o),!u}remove(a){const o=this.nestedMap,i=o.get(a[0]);if(!i)return!1;const t=i.get(a[1]);if(!t)return!1;const n=t.get(a[2]);if(!n)return!1;const r=n.delete(a[3]);return r&&n.size===0&&(t.delete(a[2]),t.size===0&&(i.delete(a[1]),i.size===0&&o.delete(a[0]))),r}get(a){const o=(0,c.encodeOptionalTerms)(a,this.dictionary);if(o&&!o.includes(void 0))return this.getEncoded(o)}getEncoded(a){const o=this.nestedMap.get(a[0]);if(!o)return;const i=o.get(a[1]);if(!i)return;const t=i.get(a[2]);return t?t.get(a[3]):void 0}*find(a){const o=(0,c.encodeOptionalTerms)(a,this.dictionary);if(!o)return;const[i,t,n,r]=o,[u,l,d,p]=a;let f,h,y,m,b,v,_;const w=this.nestedMap,O=i!==void 0?w.has(i)?[i]:[]:w.keys();for(const A of O){b=w.get(A),f=u||this.dictionary.decode(A);const T=t!==void 0?b.has(t)?[t]:[]:b.keys();for(const S of T){v=b.get(S),h=l||this.dictionary.decode(S);const E=n!==void 0?v.has(n)?[n]:[]:v.keys();for(const D of E){_=v.get(D),y=d||this.dictionary.decode(D);const I=r!==void 0?_.has(r)?[r]:[]:_.keys();for(const V of I)m=p||this.dictionary.decode(V),yield[f,h,y,m]}}}}*findEncoded(a,o){const[i,t,n,r]=a;let u,l,d;const p=this.nestedMap,f=i!==void 0?p.has(i)?[i]:[]:p.keys();for(const h of f){u=p.get(h);const y=t!==void 0?u.has(t)?[t]:[]:u.keys();for(const m of y){l=u.get(m);const b=n!==void 0?l.has(n)?[n]:[]:l.keys();for(const v of b){d=l.get(v);const _=r!==void 0?d.has(r)?[r]:[]:d.keys();for(const w of _)yield[h,m,v,w]}}}}count(a){let o=0;const i=(0,c.encodeOptionalTerms)(a,this.dictionary);if(!i)return 0;const t=i[0],n=i[1],r=i[2],u=i[3];let l,d,p;const f=this.nestedMap,h=t!==void 0?f.has(t)?[t]:[]:f.keys();for(const y of h){l=f.get(y);const m=n!==void 0?l.has(n)?[n]:[]:l.keys();for(const b of m){d=l.get(b);const v=r!==void 0?d.has(r)?[r]:[]:d.keys();for(const _ of v)p=d.get(_),u!==void 0?p.has(u)&&o++:o+=p.size}}return o}}},42512:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorOptimizeQueryOperationRewriteCopy=void 0;const c=s(38912),a=s(90711),o=s(90412),i=s(96331);class t extends c.ActorOptimizeQueryOperation{constructor(r){super(r)}async test(r){return(0,o.passTestVoid)()}async run(r){const u=r.context.getSafe(a.KeysInitQuery.dataFactory),l=new i.Factory(u);return{operation:i.Util.mapOperation(r.operation,{[i.Algebra.types.COPY](d,p){let f;return f=typeof d.destination=="string"&&typeof d.source=="string"&&d.destination===d.source||typeof d.destination!="string"&&typeof d.source!="string"&&d.destination.equals(d.source)?p.createCompositeUpdate([]):p.createCompositeUpdate([p.createDrop(d.destination,!0),p.createAdd(d.source,d.destination,d.silent)]),{result:f,recurse:!1}}},l),context:r.context}}}e.ActorOptimizeQueryOperationRewriteCopy=t},42586:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionLangmatches=void 0;const c=s(77617),a=s(77545);class o extends c.TermFunctionBase{constructor(){super({arity:2,operator:a.SparqlOperator.LANG_MATCHES,overloads:(0,a.declare)(a.SparqlOperator.LANG_MATCHES).onBinaryTyped([a.TypeURL.XSD_STRING,a.TypeURL.XSD_STRING],()=>(t,n)=>(0,a.bool)(o.langMatches(t,n))).collect()})}static langMatches(t,n){const r=t.split("-"),u=n.split("-");if(!o.matchLangTag(u[0],r[0])&&!o.isWildCard(r[0]))return!1;let l=1,d=1;for(;d<u.length;)if(o.isWildCard(u[d]))d++;else{if(l===r.length)return!1;if(o.matchLangTag(u[d],r[l]))l++,d++;else{if(r[l].length===1)return!1;l++}}return!0}static isWildCard(t){return t==="*"}static matchLangTag(t,n){return new RegExp(`/${t}/`,"iu").test(`/${n}/`)}}e.TermFunctionLangmatches=o},42651:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryOperationPathInv=void 0;const c=s(97091),a=s(90711),o=s(96331);class i extends c.ActorAbstractPath{constructor(n){super(n,o.Algebra.types.INV)}async runOperation(n,r){const u=r.getSafe(a.KeysInitQuery.dataFactory),l=new o.Factory(u),d=n.predicate,p=l.createPath(n.object,d.path,n.subject,n.graph);return this.mediatorQueryOperation.mediate({operation:p,context:r})}}e.ActorQueryOperationPathInv=i},42815:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(14652),e)},42890:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(40671),e),a(s(12476),e),a(s(79806),e)},42996:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(41388),e),a(s(22545),e),a(s(65358),e),a(s(17169),e),a(s(53846),e),a(s(19383),e),a(s(13679),e),a(s(85947),e),a(s(10766),e),a(s(63599),e),a(s(57755),e),a(s(80220),e),a(s(6841),e),a(s(9243),e),a(s(51690),e),a(s(39614),e),a(s(88680),e),a(s(95025),e),a(s(46671),e),a(s(90602),e),a(s(1707),e)},43095:(g,e,s)=>{const{ArrayPrototypePop:c,Promise:a}=s(24134),{isIterable:o,isNodeStream:i,isWebStream:t}=s(16115),{pipelineImpl:n}=s(57758),{finished:r}=s(86238);s(63125),g.exports={finished:r,pipeline:function(...u){return new a((l,d)=>{let p,f;const h=u[u.length-1];if(h&&typeof h=="object"&&!i(h)&&!o(h)&&!t(h)){const y=c(u);p=y.signal,f=y.end}n(u,(y,m)=>{y?d(y):l(m)},{signal:p,end:f})})}}},43120:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorOptimizeQueryOperationDescribeToConstructsSubject=void 0;const c=s(38912),a=s(90711),o=s(90412),i=s(96331);class t extends c.ActorOptimizeQueryOperation{constructor(r){super(r)}async test(r){return r.operation.type!==i.Algebra.types.DESCRIBE?(0,o.failTest)(`Actor ${this.name} only supports describe operations, but got ${r.operation.type}`):(0,o.passTest)(!0)}async run(r){const u=r.context.getSafe(a.KeysInitQuery.dataFactory),l=new i.Factory(u),d=r.operation,p=d.terms.filter(f=>f.termType!=="Variable").map(f=>{const h=[u.quad(f,u.variable("__predicate"),u.variable("__object"))];return h.forEach(y=>y.type="pattern"),{input:{type:i.Algebra.types.BGP,patterns:h},template:h,type:"construct"}});if(p.length!==d.terms.length){let f=[];d.terms.filter(h=>h.termType==="Variable").forEach((h,y)=>{const m=[u.quad(h,u.variable(`__predicate${y}`),u.variable(`__object${y}`))];m.forEach(b=>b.type="pattern"),f=[...f,...m]}),p.push({input:{type:i.Algebra.types.JOIN,input:[d.input,{type:i.Algebra.types.BGP,patterns:f}]},template:f,type:i.Algebra.types.CONSTRUCT})}return{operation:l.createUnion(p,!1),context:r.context}}}e.ActorOptimizeQueryOperationDescribeToConstructsSubject=t},43209:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.testElement=function(r,u){var l=n(r);return!l||l(u)},e.getElements=function(r,u,l,d){d===void 0&&(d=1/0);var p=n(r);return p?(0,a.filter)(p,u,l,d):[]},e.getElementById=function(r,u,l){return l===void 0&&(l=!0),Array.isArray(u)||(u=[u]),(0,a.findOne)(i("id",r),u,l)},e.getElementsByTagName=function(r,u,l,d){return l===void 0&&(l=!0),d===void 0&&(d=1/0),(0,a.filter)(o.tag_name(r),u,l,d)},e.getElementsByClassName=function(r,u,l,d){return l===void 0&&(l=!0),d===void 0&&(d=1/0),(0,a.filter)(i("class",r),u,l,d)},e.getElementsByTagType=function(r,u,l,d){return l===void 0&&(l=!0),d===void 0&&(d=1/0),(0,a.filter)(o.tag_type(r),u,l,d)};var c=s(41141),a=s(90718),o={tag_name:function(r){return typeof r=="function"?function(u){return(0,c.isTag)(u)&&r(u.name)}:r==="*"?c.isTag:function(u){return(0,c.isTag)(u)&&u.name===r}},tag_type:function(r){return typeof r=="function"?function(u){return r(u.type)}:function(u){return u.type===r}},tag_contains:function(r){return typeof r=="function"?function(u){return(0,c.isText)(u)&&r(u.data)}:function(u){return(0,c.isText)(u)&&u.data===r}}};function i(r,u){return typeof u=="function"?function(l){return(0,c.isTag)(l)&&u(l.attribs[r])}:function(l){return(0,c.isTag)(l)&&l.attribs[r]===u}}function t(r,u){return function(l){return r(l)||u(l)}}function n(r){var u=Object.keys(r).map(function(l){var d=r[l];return Object.prototype.hasOwnProperty.call(o,l)?o[l](d):i(l,d)});return u.length===0?null:u.reduce(t)}},43347:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.termToString=e.stringToTerm=e.stringQuadToQuad=e.quadToStringQuad=e.getLiteralValue=e.getLiteralType=e.getLiteralDirection=e.getLiteralLanguage=void 0;const c=s(23585);Object.defineProperty(e,"getLiteralLanguage",{enumerable:!0,get:function(){return c.getLiteralLanguage}}),Object.defineProperty(e,"getLiteralDirection",{enumerable:!0,get:function(){return c.getLiteralDirection}}),Object.defineProperty(e,"getLiteralType",{enumerable:!0,get:function(){return c.getLiteralType}}),Object.defineProperty(e,"getLiteralValue",{enumerable:!0,get:function(){return c.getLiteralValue}}),Object.defineProperty(e,"quadToStringQuad",{enumerable:!0,get:function(){return c.quadToStringQuad}}),Object.defineProperty(e,"stringQuadToQuad",{enumerable:!0,get:function(){return c.stringQuadToQuad}}),Object.defineProperty(e,"stringToTerm",{enumerable:!0,get:function(){return c.stringToTerm}}),Object.defineProperty(e,"termToString",{enumerable:!0,get:function(){return c.termToString}})},43349:g=>{function e(s,c){if(!s)throw new Error(c||"Assertion failed")}g.exports=e,e.equal=function(s,c,a){if(s!=c)throw new Error(a||"Assertion failed: "+s+" != "+c)}},43392:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},43406:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(79217),e)},43415:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(31660),e)},43549:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(77843),e),a(s(23317),e)},43750:(g,e,s)=>{function c(T){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},c(T)}function a(T,S){return function(E){if(Array.isArray(E))return E}(T)||function(E,D){var I=E==null?null:typeof Symbol<"u"&&E[Symbol.iterator]||E["@@iterator"];if(I!=null){var V,K,B,$,G=[],U=!0,W=!1;try{if(B=(I=I.call(E)).next,D!==0)for(;!(U=(V=B.call(I)).done)&&(G.push(V.value),G.length!==D);U=!0);}catch(ye){W=!0,K=ye}finally{try{if(!U&&I.return!=null&&($=I.return(),Object($)!==$))return}finally{if(W)throw K}}return G}}(T,S)||i(T,S)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function o(T,S){var E=typeof Symbol<"u"&&T[Symbol.iterator]||T["@@iterator"];if(!E){if(Array.isArray(T)||(E=i(T))||S){E&&(T=E);var D=0,I=function(){};return{s:I,n:function(){return D>=T.length?{done:!0}:{done:!1,value:T[D++]}},e:function($){throw $},f:I}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var V,K=!0,B=!1;return{s:function(){E=E.call(T)},n:function(){var $=E.next();return K=$.done,$},e:function($){B=!0,V=$},f:function(){try{K||E.return==null||E.return()}finally{if(B)throw V}}}}function i(T,S){if(T){if(typeof T=="string")return t(T,S);var E={}.toString.call(T).slice(8,-1);return E==="Object"&&T.constructor&&(E=T.constructor.name),E==="Map"||E==="Set"?Array.from(T):E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E)?t(T,S):void 0}}function t(T,S){(S==null||S>T.length)&&(S=T.length);for(var E=0,D=Array(S);E<S;E++)D[E]=T[E];return D}function n(){var T,S,E=typeof Symbol=="function"?Symbol:{},D=E.iterator||"@@iterator",I=E.toStringTag||"@@toStringTag";function V(ve,he,q,L){var R=he&&he.prototype instanceof B?he:B,k=Object.create(R.prototype);return r(k,"_invoke",function(X,oe,ee){var me,de,xe,ne=0,be=ee||[],ie=!1,ge={p:0,n:0,v:T,a:Ee,f:Ee.bind(T,4),d:function(M,P){return me=M,de=0,xe=T,ge.n=P,K}};function Ee(M,P){for(de=M,xe=P,S=0;!ie&&ne&&!C&&S<be.length;S++){var C,z=be[S],te=ge.p,re=z[2];M>3?(C=re===P)&&(xe=z[(de=z[4])?5:(de=3,3)],z[4]=z[5]=T):z[0]<=te&&((C=M<2&&te<z[1])?(de=0,ge.v=P,ge.n=z[1]):te<re&&(C=M<3||z[0]>P||P>re)&&(z[4]=M,z[5]=P,ge.n=re,de=0))}if(C||M>1)return K;throw ie=!0,P}return function(M,P,C){if(ne>1)throw TypeError("Generator is already running");for(ie&&P===1&&Ee(P,C),de=P,xe=C;(S=de<2?T:xe)||!ie;){me||(de?de<3?(de>1&&(ge.n=-1),Ee(de,xe)):ge.n=xe:ge.v=xe);try{if(ne=2,me){if(de||(M="next"),S=me[M]){if(!(S=S.call(me,xe)))throw TypeError("iterator result is not an object");if(!S.done)return S;xe=S.value,de<2&&(de=0)}else de===1&&(S=me.return)&&S.call(me),de<2&&(xe=TypeError("The iterator does not provide a '"+M+"' method"),de=1);me=T}else if((S=(ie=ge.n<0)?xe:X.call(oe,ge))!==K)break}catch(z){me=T,de=1,xe=z}finally{ne=1}}return{value:S,done:ie}}}(ve,q,L),!0),k}var K={};function B(){}function $(){}function G(){}S=Object.getPrototypeOf;var U=[][D]?S(S([][D]())):(r(S={},D,function(){return this}),S),W=G.prototype=B.prototype=Object.create(U);function ye(ve){return Object.setPrototypeOf?Object.setPrototypeOf(ve,G):(ve.__proto__=G,r(ve,I,"GeneratorFunction")),ve.prototype=Object.create(W),ve}return $.prototype=G,r(W,"constructor",G),r(G,"constructor",$),$.displayName="GeneratorFunction",r(G,I,"GeneratorFunction"),r(W),r(W,I,"Generator"),r(W,D,function(){return this}),r(W,"toString",function(){return"[object Generator]"}),(n=function(){return{w:V,m:ye}})()}function r(T,S,E,D){var I=Object.defineProperty;try{I({},"",{})}catch{I=0}r=function(V,K,B,$){function G(U,W){r(V,U,function(ye){return this._invoke(U,W,ye)})}K?I?I(V,K,{value:B,enumerable:!$,configurable:!$,writable:!$}):V[K]=B:(G("next",0),G("throw",1),G("return",2))},r(T,S,E,D)}function u(T,S,E,D,I,V,K){try{var B=T[V](K),$=B.value}catch(G){return void E(G)}B.done?S($):Promise.resolve($).then(D,I)}function l(T){return function(){var S=this,E=arguments;return new Promise(function(D,I){var V=T.apply(S,E);function K($){u(V,D,I,K,B,"next",$)}function B($){u(V,D,I,K,B,"throw",$)}K(void 0)})}}function d(T,S){for(var E=0;E<S.length;E++){var D=S[E];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(T,p(D.key),D)}}function p(T){var S=function(E){if(c(E)!="object"||!E)return E;var D=E[Symbol.toPrimitive];if(D!==void 0){var I=D.call(E,"string");if(c(I)!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(E)}(T);return c(S)=="symbol"?S:S+""}Object.defineProperty(e,"__esModule",{value:!0}),e.QuerySourcePassage=void 0;var f=s(90711),h=s(90412),y=s(99214),m=s(75627),b=s(92603),v=s(89096),_=s(96331),w=s(83101),O=s(1039),A=function(){function T(K,B,$,G,U,W,ye,ve,he,q,L){var R=this;(function(k,X){if(!(k instanceof X))throw new TypeError("Cannot call a class as a function")})(this,T),this.mediatorQueryProcess=L,this.referenceValue=K,this.url=K,this.context=B,this.mediatorHttp=$,this.bindMethod=G,this.dataFactory=U,this.algebraFactory=W,this.bindingsFactory=ye,this.endpointFetcher=new b.SparqlEndpointFetcher({method:ve?"GET":"POST",fetch:function(k,X){return R.mediatorHttp.mediate({input:k,init:X,context:R.lastSourceContext})},defaultHeaders:this.context.get(new h.ActionContextKey("headers")),prefixVariableQuestionMark:!0,dataFactory:U}),this.cache=he>0?new v.LRUCache({max:he}):void 0,this.countTimeout=q}return S=T,E=[{key:"getSelectorShape",value:(V=l(n().m(function K(){return n().w(function(B){for(;;)if(B.n===0)return B.a(2,this.context.get(new h.ActionContextKey("shape"))||T.SELECTOR_SHAPE)},K,this)})),function(){return V.apply(this,arguments)})},{key:"queryBindings",value:function(K,B,$){var G,U=this;G=$!=null&&$.joinBindings?w.QuerySourceSparql.addBindingsToOperation(this.algebraFactory,this.bindMethod,K,$.joinBindings):Promise.resolve(K);var W=new m.TransformIterator(l(n().m(function ye(){var ve,he,q,L,R;return n().w(function(k){for(;;)switch(k.n){case 0:return k.n=1,G;case 1:return he=k.v,q=T.toSelectQuery(B,he,U.algebraFactory,$),L=_.Util.inScopeVariables(he),R=w.QuerySourceSparql.getOperationUndefs(he),(ve=h.Actor.getContextLogger(B))===null||ve===void 0||ve.info(`Asking for:
`.concat(q)),k.a(2,U.queryBindingsRemote(he,U.url,q,L,B,R))}},ye)})),{autoStart:!1});return this.attachMetadata(W,B,G,$),W}},{key:"attachMetadata",value:function(K,B,$,G){var U=this,W=[];new Promise(function(){var ye=l(n().m(function ve(he,q){var L,R,k;return n().w(function(X){for(;;)switch(X.n){case 0:return X.n=1,$;case 1:return L=X.v,R=w.QuerySourceSparql.getOperationUndefs(L),k=_.Util.inScopeVariables(L),W=k.map(function(oe){return{variable:oe,canBeUndef:R.some(function(ee){return ee.equals(oe)})}}),X.a(2,he(L))}},ve)}));return function(ve,he){return ye.apply(this,arguments)}}()).then(function(ye){var ve=T.toSelectQuery(B,ye,U.algebraFactory,G),he={state:new y.MetadataValidationState,cardinality:{type:"estimate",value:Number.POSITIVE_INFINITY},variables:W,query:ve};K.setProperty("metadata",he),T.initializeLogger(B,ye,ve),B=B.set(f.KeysInitQuery.physicalQueryPlanNode,ye)})}},{key:"queryBindingsRemote",value:(I=l(n().m(function K(B,$,G,U,W,ye){var ve,he,q,L,R,k,X,oe,ee,me=this;return n().w(function(de){for(;;)switch(de.n){case 0:T.updateStartTime(W,B),ve=new Set,he=o(ye);try{for(he.s();!(q=he.n()).done;)L=q.value,ve.add(L.value)}catch(xe){he.e(xe)}finally{he.f()}if(!(R=W.get(new h.ActionContextKey("abort")))||!R.value){de.n=1;break}return T.logError(W,B,"The query has been aborted early."),de.a(2,(0,m.wrap)(new m.EmptyIterator));case 1:return this.lastSourceContext=this.context.merge(W),de.n=2,this.endpointFetcher.fetchBindings($,G).then(function(xe){return T.updateFirstResultTime(W,B),Promise.resolve(xe)}).catch(function(xe){T.logError(W,B,xe.message)});case 2:if(k=de.v,this.lastSourceContext=void 0,k){de.n=3;break}return de.a(2,Promise.resolve(new m.EmptyIterator));case 3:return X=(0,m.wrap)(k,{autoStart:!1,maxBufferSize:Number.POSITIVE_INFINITY}).map(function(xe){var ne=X.getProperty("nbResults")||0;return X.setProperty("nbResults",ne+1),me.bindingsFactory.bindings(U.map(function(be){var ie,ge=xe["?".concat(be.value)];return ve.has(be.value)||ge||(ie=h.Actor.getContextLogger(me.context))===null||ie===void 0||ie.warn("The endpoint ".concat($," failed to provide a binding for ").concat(be.value,".")),[be,ge]}).filter(function(be){var ie=a(be,2),ge=(ie[0],ie[1]);return!!ge}))}),oe=new Promise(function(xe){k.on("metadata",function(){var ne=l(n().m(function be(ie){var ge;return n().w(function(Ee){for(;;)switch(Ee.n){case 0:(ge=h.Actor.getContextLogger(me.context))===null||ge===void 0||ge.info(`Next query to get complete result:
`.concat(ie.next)),xe(ie.next);case 1:return Ee.a(2)}},be)}));return function(be){return ne.apply(this,arguments)}}()),k.on("end",function(){var ne=l(n().m(function be(ie){return n().w(function(ge){for(;;)switch(ge.n){case 0:xe();case 1:return ge.a(2)}},be)}));return function(be){return ne.apply(this,arguments)}}()),X.on("error",function(){var ne=l(n().m(function be(ie){return n().w(function(ge){for(;;)switch(ge.n){case 0:T.logError(W,B,ie.message),xe();case 1:return ge.a(2)}},be)}));return function(be){return ne.apply(this,arguments)}}()),X.on("end",function(){var ne=l(n().m(function be(ie){return n().w(function(ge){for(;;)switch(ge.n){case 0:T.updateDoneTime(W,B),T.updateNbResults(W,B,X.getProperty("nbResults")||0);case 1:return ge.a(2)}},be)}));return function(be){return ne.apply(this,arguments)}}())}),ee=(0,m.wrap)(oe.then(function(xe){if(!xe)return ee.close(),new m.EmptyIterator;var ne=me.algebraFactory.createService(B,me.dataFactory.namedNode($),!1);T.initializeLogger(W,ne,xe);var be=W.get(new h.ActionContextKey("abort"));return be&&be.value?(T.logError(W,ne,"The query has been aborted early."),ee.close(),new m.EmptyIterator):me.queryBindingsRemote(ne,$,xe,U,W,ye)})),de.a(2,X.append(ee))}},K,this)})),function(K,B,$,G,U,W){return I.apply(this,arguments)})},{key:"queryQuads",value:function(K,B){throw new Error("queryQuads is not implemented in QuerySourcePassage.")}},{key:"queryBoolean",value:function(K,B){throw new Error("queryBoolean is not implemented in QuerySourcePassage.")}},{key:"queryVoid",value:function(K,B){throw new Error("queryVoid is not implemented in QuerySourcePassage.")}},{key:"toString",value:function(){return"QuerySourcePassage(".concat(this.url,")")}}],D=[{key:"toSelectQuery",value:function(K,B,$,G){var U=_.Util.inScopeVariables(B),W=K.get(f.KeysInitQuery.queryString);return G!=null&&G.joinBindings||!W?B.type===_.Algebra.types.PROJECT||B.type===_.Algebra.types.SLICE?w.QuerySourceSparql.operationToQuery(B):w.QuerySourceSparql.operationToSelectQuery($,B,U):W}},{key:"initializeLogger",value:function(K,B,$){var G=K.get(f.KeysInitQuery.physicalQueryPlanLogger);if(G){var U={variables:_.Util.inScopeVariables(B).map(function(W){return W.value}),query:$};G.logOperation(_.Algebra.types.SERVICE,void 0,B,K.get(f.KeysInitQuery.physicalQueryPlanNode),"passage",U)}}},{key:"updateStartTime",value:function(K,B){var $=K.get(f.KeysInitQuery.physicalQueryPlanLogger)||K.get(new h.ActionContextKey("physicalQueryPlanLogger"));$&&(B.startAt=Date.now(),$.appendMetadata(B,{startAt:B.startAt}))}},{key:"updateFirstResultTime",value:function(K,B){var $=K.get(f.KeysInitQuery.physicalQueryPlanLogger)||K.get(new h.ActionContextKey("physicalQueryPlanLogger"));$&&(B.firstResultAt=Date.now(),B.timeFirstResult=B.firstResultAt-B.startAt,$.appendMetadata(B,{firstResultAt:B.firstResultAt}),$.appendMetadata(B,{timeFirstResult:B.timeFirstResult}))}},{key:"updateDoneTime",value:function(K,B){var $=K.get(f.KeysInitQuery.physicalQueryPlanLogger)||K.get(new h.ActionContextKey("physicalQueryPlanLogger"));$&&(B.doneAt=Date.now(),B.timeLife=B.doneAt-B.startAt,$.appendMetadata(B,{doneAt:B.doneAt}),$.appendMetadata(B,{timeLife:B.timeLife}))}},{key:"updateNbResults",value:function(K,B,$){var G=K.get(f.KeysInitQuery.physicalQueryPlanLogger)||K.get(new h.ActionContextKey("physicalQueryPlanLogger"));G&&(B.cardinalityReal=$,G.appendMetadata(B,{cardinalityReal:$}))}},{key:"logError",value:function(K,B,$){var G=K.get(f.KeysInitQuery.physicalQueryPlanLogger)||K.get(new h.ActionContextKey("physicalQueryPlanLogger"));G&&G.appendMetadata(B,{status:"error",message:$})}}],E&&d(S.prototype,E),D&&d(S,D),Object.defineProperty(S,"prototype",{writable:!1}),S;var S,E,D,I,V}();e.QuerySourcePassage=A,A.SELECTOR_SHAPE=Ui.SHAPE&&Ui.SHAPE==="tpf"?O.Shapes.TPF:Ui.SHAPE&&Ui.SHAPE==="brtpf"?O.Shapes.BRTPF:Ui.SHAPE&&Ui.SHAPE==="no-union"?O.Shapes.PASSAGE_NO_UNION:O.Shapes.PASSAGE},43789:(g,e,s)=>{var c=s(13559);g.exports=function(a,o,i){typeof o=="function"&&(i=o,o=null);var t="",n=new c(function(r,u){a.on("data",function(l){t+=typeof o=="string"?l.toString(o):l.toString()}),a.on("end",function(){r(t)}),a.on("error",u)});return i&&n.then(function(r){i(null,r)},i),n}},43917:(g,e,s)=>{var c=s(67426),a=s(66166),o=s(66225),i=c.rotl32,t=c.sum32,n=c.sum32_5,r=o.ft_1,u=a.BlockHash,l=[1518500249,1859775393,2400959708,3395469782];function d(){if(!(this instanceof d))return new d;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}c.inherits(d,u),g.exports=d,d.blockSize=512,d.outSize=160,d.hmacStrength=80,d.padLength=64,d.prototype._update=function(p,f){for(var h=this.W,y=0;y<16;y++)h[y]=p[f+y];for(;y<h.length;y++)h[y]=i(h[y-3]^h[y-8]^h[y-14]^h[y-16],1);var m=this.h[0],b=this.h[1],v=this.h[2],_=this.h[3],w=this.h[4];for(y=0;y<h.length;y++){var O=~~(y/20),A=n(i(m,5),r(O,b,v,_),w,h[y],l[O]);w=_,_=v,v=i(b,30),b=m,m=A}this.h[0]=t(this.h[0],m),this.h[1]=t(this.h[1],b),this.h[2]=t(this.h[2],v),this.h[3]=t(this.h[3],_),this.h[4]=t(this.h[4],w)},d.prototype._digest=function(p){return p==="hex"?c.toHex32(this.h,"big"):c.split32(this.h,"big")}},43988:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NamedNode=void 0,e.NamedNode=class{constructor(s){this.termType="NamedNode",this.value=s}equals(s){return!!s&&s.termType==="NamedNode"&&s.value===this.value}}},44063:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ERROR_CODES=e.ErrorCoded=void 0;class s extends Error{constructor(o,i){super(o),this.code=i}}var c;e.ErrorCoded=s,(c=e.ERROR_CODES||(e.ERROR_CODES={})).COLLIDING_KEYWORDS="colliding keywords",c.CONFLICTING_INDEXES="conflicting indexes",c.CYCLIC_IRI_MAPPING="cyclic IRI mapping",c.INVALID_ID_VALUE="invalid @id value",c.INVALID_INDEX_VALUE="invalid @index value",c.INVALID_NEST_VALUE="invalid @nest value",c.INVALID_PREFIX_VALUE="invalid @prefix value",c.INVALID_PROPAGATE_VALUE="invalid @propagate value",c.INVALID_REVERSE_VALUE="invalid @reverse value",c.INVALID_IMPORT_VALUE="invalid @import value",c.INVALID_VERSION_VALUE="invalid @version value",c.INVALID_BASE_IRI="invalid base IRI",c.INVALID_CONTAINER_MAPPING="invalid container mapping",c.INVALID_CONTEXT_ENTRY="invalid context entry",c.INVALID_CONTEXT_NULLIFICATION="invalid context nullification",c.INVALID_DEFAULT_LANGUAGE="invalid default language",c.INVALID_INCLUDED_VALUE="invalid @included value",c.INVALID_IRI_MAPPING="invalid IRI mapping",c.INVALID_JSON_LITERAL="invalid JSON literal",c.INVALID_KEYWORD_ALIAS="invalid keyword alias",c.INVALID_LANGUAGE_MAP_VALUE="invalid language map value",c.INVALID_LANGUAGE_MAPPING="invalid language mapping",c.INVALID_LANGUAGE_TAGGED_STRING="invalid language-tagged string",c.INVALID_LANGUAGE_TAGGED_VALUE="invalid language-tagged value",c.INVALID_LOCAL_CONTEXT="invalid local context",c.INVALID_REMOTE_CONTEXT="invalid remote context",c.INVALID_REVERSE_PROPERTY="invalid reverse property",c.INVALID_REVERSE_PROPERTY_MAP="invalid reverse property map",c.INVALID_REVERSE_PROPERTY_VALUE="invalid reverse property value",c.INVALID_SCOPED_CONTEXT="invalid scoped context",c.INVALID_SCRIPT_ELEMENT="invalid script element",c.INVALID_SET_OR_LIST_OBJECT="invalid set or list object",c.INVALID_TERM_DEFINITION="invalid term definition",c.INVALID_TYPE_MAPPING="invalid type mapping",c.INVALID_TYPE_VALUE="invalid type value",c.INVALID_TYPED_VALUE="invalid typed value",c.INVALID_VALUE_OBJECT="invalid value object",c.INVALID_VALUE_OBJECT_VALUE="invalid value object value",c.INVALID_VOCAB_MAPPING="invalid vocab mapping",c.IRI_CONFUSED_WITH_PREFIX="IRI confused with prefix",c.KEYWORD_REDEFINITION="keyword redefinition",c.LOADING_DOCUMENT_FAILED="loading document failed",c.LOADING_REMOTE_CONTEXT_FAILED="loading remote context failed",c.MULTIPLE_CONTEXT_LINK_HEADERS="multiple context link headers",c.PROCESSING_MODE_CONFLICT="processing mode conflict",c.PROTECTED_TERM_REDEFINITION="protected term redefinition",c.CONTEXT_OVERFLOW="context overflow",c.INVALID_BASE_DIRECTION="invalid base direction",c.RECURSIVE_CONTEXT_INCLUSION="recursive context inclusion",c.INVALID_STREAMING_KEY_ORDER="invalid streaming key order",c.INVALID_EMBEDDED_NODE="invalid embedded node",c.INVALID_ANNOTATION="invalid annotation"},44407:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorHttpProxy=void 0;const c=s(70322),a=s(90711),o=s(90412);class i extends c.ActorHttp{constructor(n){super(n)}async test(n){const r=n.context.get(a.KeysHttpProxy.httpProxyHandler);return r?await r.getProxy(n)?(0,o.passTest)({time:Number.POSITIVE_INFINITY}):(0,o.failTest)(`Actor ${this.name} could not determine a proxy for the given request.`):(0,o.failTest)(`Actor ${this.name} could not find a proxy handler in the context.`)}async run(n){const r=typeof n.input=="string"?n.input:n.input.url,u=n.context.get(a.KeysHttpProxy.httpProxyHandler),l=await this.mediatorHttp.mediate({...await u.getProxy(n),context:n.context.delete(a.KeysHttpProxy.httpProxyHandler)});return Object.defineProperty(l,"url",{configurable:!0,enumerable:!0,get:()=>l.headers.get("x-final-url")??r}),l}}e.ActorHttpProxy=i},44609:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfResolveHypermediaLinksQueue=void 0;const c=s(90412);class a extends c.Actor{constructor(i){super(i)}}e.ActorRdfResolveHypermediaLinksQueue=a},44680:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PrefixWrappingIterator=void 0;const c=s(75627);class a extends c.WrappingIterator{constructor(i){super(i?.then(t=>(this.prefixes=t.prefixes,t)))}read(){if(this.prefixes){for(const i of Object.entries(this.prefixes))this.emit("prefix",...i);delete this.prefixes}return super.read()}}e.PrefixWrappingIterator=a},44858:(g,e)=>{function s(c,a,o){if(!("_profileInstrumented"in c)){if(c._profileInstrumented=!0,"_read"in c){const i=c._read;c._read=(t,n)=>{const r=performance.now();i.call(c,t,()=>{a.timeSelf+=performance.now()-r,n()})}}if("read"in c){const i=c.read;c.read=()=>{const t=performance.now(),n=i.call(c);return o&&n&&a.count++,a.timeSelf+=performance.now()-t,n}}if(o){const i=performance.now();c.on("end",()=>{a.timeLife=performance.now()-i})}"_source"in c&&s(c._source,a,!1)}}Object.defineProperty(e,"__esModule",{value:!0}),e.instrumentIterator=void 0,e.instrumentIterator=function(c){const a={count:0,timeSelf:0,timeLife:0};return s(c,a,!0),new Promise(o=>{c.on("end",()=>{o(a)})})}},44936:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionMultiplication=void 0;const c=s(77617),a=s(77545),o=s(61594);class i extends c.TermFunctionBase{constructor(){super({arity:2,operator:a.SparqlOperator.MULTIPLICATION,overloads:(0,a.declare)(a.SparqlOperator.MULTIPLICATION).arithmetic(()=>(n,r)=>new o.BigNumber(n).times(r).toNumber()).collect()})}}e.TermFunctionMultiplication=i},45086:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},45109:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(98603),e),a(s(88052),e)},45122:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorHashQuadsMurmur=void 0;const c=s(65239),a=s(90412),o=s(24799);class i extends c.ActorHashQuads{async test(n){return(0,a.passTestVoid)()}async run(n){return{hashFunction:r=>{const u=o(r.subject.value);return u.hash(r.predicate.value),u.hash(r.object.value),u.hash(r.graph.value),u.result()}}}}e.ActorHashQuadsMurmur=i},45144:function(g,e,s){var c=this&&this.__awaiter||function(o,i,t,n){return new(t||(t=Promise))(function(r,u){function l(f){try{p(n.next(f))}catch(h){u(h)}}function d(f){try{p(n.throw(f))}catch(h){u(h)}}function p(f){var h;f.done?r(f.value):(h=f.value,h instanceof t?h:new t(function(y){y(h)})).then(l,d)}p((n=n.apply(o,i||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.lookupAllPrefixes=void 0;const a=s(37338);e.lookupAllPrefixes=function(o){return c(this,void 0,void 0,function*(){return(0,a.fetchContext)("https://prefix.cc/context",o)})}},45183:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.stringQuadToQuad=e.quadToStringQuad=e.stringToTerm=e.getLiteralLanguage=e.getLiteralType=e.getLiteralValue=e.termToString=void 0;const c=new(s(47793)).DataFactory;function a(r){if(r)switch(r.termType){case"NamedNode":case"DefaultGraph":return r.value;case"BlankNode":return"_:"+r.value;case"Literal":const u=r;return'"'+u.value+'"'+(u.datatype&&u.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&u.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?"^^"+u.datatype.value:"")+(u.language?"@"+u.language:"");case"Quad":return`<<${a(r.subject)} ${a(r.predicate)} ${a(r.object)}${r.graph.termType==="DefaultGraph"?"":" "+a(r.graph)}>>`;case"Variable":return"?"+r.value}}function o(r){const u=/^"([^]*)"/.exec(r);if(!u)throw new Error(r+" is not a literal");return u[1]}function i(r){const u=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(r);if(!u)throw new Error(r+" is not a literal");return u[1]||(u[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}function t(r){const u=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(r);if(!u)throw new Error(r+" is not a literal");return u[1]?u[1].toLowerCase():""}function n(r,u){if(u=u||c,!r||!r.length)return u.defaultGraph();switch(r[0]){case"_":return u.blankNode(r.substr(2));case"?":if(!u.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return u.variable(r.substr(1));case'"':const l=t(r),d=u.namedNode(i(r));return u.literal(o(r),l||d);default:if(r[0]==="<"&&r.length>4&&r[1]==="<"&&r[r.length-1]===">"&&r[r.length-2]===">"){const p=r.slice(2,-2).trim();let f=[],h=0,y=0,m=!1;for(let b=0;b<p.length;b++){const v=p[b];if(v==="<"&&h++,v===">"){if(h===0)throw new Error("Found closing tag without opening tag in "+r);h--}if(v==='"'){let _=!1,w=b;for(;w-- >0&&p[w]==="\\";)_=!_;_||(m=!m)}if(v===" "&&!m&&h===0){for(f.push(p.slice(y,b));p[b+1]===" ";)b+=1;y=b+1}}if(h!==0)throw new Error("Found opening tag without closing tag in "+r);if(f.push(p.slice(y,p.length)),f.length!==3&&f.length!==4)throw new Error("Nested quad syntax error "+r);return f=f.map(b=>b.startsWith("<")&&!b.includes(" ")?b.slice(1,-1):b),u.quad(n(f[0]),n(f[1]),n(f[2]),f[3]?n(f[3]):void 0)}return u.namedNode(r)}}e.termToString=a,e.getLiteralValue=o,e.getLiteralType=i,e.getLiteralLanguage=t,e.stringToTerm=n,e.quadToStringQuad=function(r){return{subject:a(r.subject),predicate:a(r.predicate),object:a(r.object),graph:a(r.graph)}},e.stringQuadToQuad=function(r,u){return(u=u||c).quad(n(r.subject,u),n(r.predicate,u),n(r.object,u),n(r.graph,u))}},45397:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DocumentPosition=void 0,e.removeSubsets=function(i){for(var t=i.length;--t>=0;){var n=i[t];if(t>0&&i.lastIndexOf(n,t-1)>=0)i.splice(t,1);else for(var r=n.parent;r;r=r.parent)if(i.includes(r)){i.splice(t,1);break}}return i},e.compareDocumentPosition=o,e.uniqueSort=function(i){return(i=i.filter(function(t,n,r){return!r.includes(t,n+1)})).sort(function(t,n){var r=o(t,n);return r&c.PRECEDING?-1:r&c.FOLLOWING?1:0}),i};var c,a=s(41141);function o(i,t){var n=[],r=[];if(i===t)return 0;for(var u=(0,a.hasChildren)(i)?i:i.parent;u;)n.unshift(u),u=u.parent;for(u=(0,a.hasChildren)(t)?t:t.parent;u;)r.unshift(u),u=u.parent;for(var l=Math.min(n.length,r.length),d=0;d<l&&n[d]===r[d];)d++;if(d===0)return c.DISCONNECTED;var p=n[d-1],f=p.children,h=n[d],y=r[d];return f.indexOf(h)>f.indexOf(y)?p===t?c.FOLLOWING|c.CONTAINED_BY:c.FOLLOWING:p===i?c.PRECEDING|c.CONTAINS:c.PRECEDING}(function(i){i[i.DISCONNECTED=1]="DISCONNECTED",i[i.PRECEDING=2]="PRECEDING",i[i.FOLLOWING=4]="FOLLOWING",i[i.CONTAINS=8]="CONTAINS",i[i.CONTAINED_BY=16]="CONTAINED_BY"})(c||(e.DocumentPosition=c={}))},45413:(g,e)=>{var s;Object.defineProperty(e,"__esModule",{value:!0}),e.Doctype=e.CDATA=e.Tag=e.Style=e.Script=e.Comment=e.Directive=e.Text=e.Root=e.isTag=e.ElementType=void 0,function(c){c.Root="root",c.Text="text",c.Directive="directive",c.Comment="comment",c.Script="script",c.Style="style",c.Tag="tag",c.CDATA="cdata",c.Doctype="doctype"}(s=e.ElementType||(e.ElementType={})),e.isTag=function(c){return c.type===s.Tag||c.type===s.Script||c.type===s.Style},e.Root=s.Root,e.Text=s.Text,e.Directive=s.Directive,e.Comment=s.Comment,e.Script=s.Script,e.Style=s.Style,e.Tag=s.Tag,e.CDATA=s.CDATA,e.Doctype=s.Doctype},45510:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermStr=void 0;const c=s(77617),a=s(77545),o=s(32834);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.SparqlOperator.STR],termFunction:!0})}async run(n){return new o.TermFunctionStr}}e.ActorFunctionFactoryTermStr=i},45513:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryOperationPathLink=void 0;const c=s(97091),a=s(90711),o=s(96331);class i extends c.ActorAbstractPath{constructor(n){super(n,o.Algebra.types.LINK)}async runOperation(n,r){const u=r.getSafe(a.KeysInitQuery.dataFactory),l=new o.Factory(u),d=n.predicate,p=Object.assign(l.createPattern(n.subject,d.iri,n.object,n.graph),{metadata:d.metadata});return this.mediatorQueryOperation.mediate({operation:p,context:r})}}e.ActorQueryOperationPathLink=i},45534:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.materializeOperation=e.materializeTerm=void 0;const c=s(90691),a=s(3285),o=s(96331);function i(n,r){if(n.termType==="Variable"){const u=r.get(n);if(u)return u}return n.termType==="Quad"&&(0,a.someTermsNested)(n,u=>u.termType==="Variable")?(0,a.mapTermsNested)(n,u=>i(u,r)):n}function t(n,r,u){const l=[];for(const[d,p]of r)if(!u||u.some(f=>f.equals(d))){const f={[(0,c.termToString)(d)]:p};l.push(n.createValues([d],[f]))}return l}e.materializeTerm=i,e.materializeOperation=function n(r,u,l,d,p={}){return p={strictTargetVariables:"strictTargetVariables"in p&&p.strictTargetVariables,bindFilter:!("bindFilter"in p)||p.bindFilter,originalBindings:"originalBindings"in p?p.originalBindings:u},o.Util.mapOperation(r,{path:(f,h)=>({recurse:!1,result:Object.assign(h.createPath(i(f.subject,u),f.predicate,i(f.object,u),i(f.graph,u)),{metadata:f.metadata})}),pattern:(f,h)=>({recurse:!1,result:Object.assign(h.createPattern(i(f.subject,u),i(f.predicate,u),i(f.object,u),i(f.graph,u)),{metadata:f.metadata})}),join:(f,h)=>({recurse:!1,result:h.createJoin(f.input.map(y=>n(y,u,l,d,p)),f.input.every(y=>!y.metadata))}),extend(f){if(u.has(f.variable)){if(p.strictTargetVariables)throw new Error(`Tried to bind variable ${(0,c.termToString)(f.variable)} in a BIND operator.`);return{recurse:!0,result:n(f.input,u,l,d,p)}}return{recurse:!0,result:f}},group(f,h){if(p.strictTargetVariables){for(const m of f.variables)if(u.has(m))throw new Error(`Tried to bind variable ${(0,c.termToString)(m)} in a GROUP BY operator.`);return{recurse:!0,result:f}}const y=f.variables.filter(m=>!u.has(m));return{recurse:!0,result:h.createGroup(f.input,y,f.aggregates)}},filter(f,h){const y=p.originalBindings;if(f.expression.expressionType!=="operator"||y.size===0)return{recurse:!1,result:f};const m=t(h,y),b=n(f.expression,u,l,d,p);let v=n(f.input,u,l,d,p);return m.length>0&&(v=h.createJoin([...m,v])),{recurse:!1,result:h.createFilter(v,b)}},project(f,h){const y=t(h,p.originalBindings,f.variables);let m=n(f.input,u,l,d,p);return y.length>0&&(m=h.createJoin([...y,m])),{recurse:!1,result:h.createProject(m,f.variables)}},values(f,h){if(!p.strictTargetVariables){const y=f.variables.filter(b=>!u.has(b)),m=f.bindings.map(b=>{const v={...b};let _=!0;return u.forEach((w,O)=>{const A=(0,c.termToString)(O);A in v&&(w.equals(v[A])||(_=!1),delete v[A])}),_?v:void 0}).filter(Boolean);return{recurse:!0,result:h.createValues(y,m)}}for(const y of f.variables)if(u.has(y))throw new Error(`Tried to bind variable ${(0,c.termToString)(y)} in a VALUES operator.`);return{recurse:!1,result:f}},expression(f,h){if(!p.bindFilter)return{recurse:!1,result:f};if(f.expressionType==="term")return{recurse:!1,result:h.createTermExpression(i(f.term,u))};if(f.expressionType==="operator")return f.operator==="bound"&&f.args.length===1&&f.args[0].expressionType==="term"&&[...u.keys()].some(y=>f.args[0].term.equals(y))?{recurse:!1,result:h.createTermExpression(h.dataFactory.literal("true",h.dataFactory.namedNode("http://www.w3.org/2001/XMLSchema#boolean")))}:{recurse:!0,result:f};if(f.expressionType==="aggregate"&&"variable"in f&&u.has(f.variable)){if(p.strictTargetVariables)throw new Error(`Tried to bind ${(0,c.termToString)(f.variable)} in a ${f.aggregator} aggregate.`);return{recurse:!0,result:f}}return{recurse:!0,result:f}}},l)}},45548:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.stringQuadToQuad=e.quadToStringQuad=e.stringToTerm=e.getLiteralLanguage=e.getLiteralType=e.getLiteralValue=e.termToString=void 0;const c=new(s(47793)).DataFactory;function a(r){if(r)switch(r.termType){case"NamedNode":case"DefaultGraph":return r.value;case"BlankNode":return"_:"+r.value;case"Literal":const u=r;return'"'+u.value+'"'+(u.datatype&&u.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&u.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?"^^"+u.datatype.value:"")+(u.language?"@"+u.language:"");case"Quad":return`<<${a(r.subject)} ${a(r.predicate)} ${a(r.object)}${r.graph.termType==="DefaultGraph"?"":" "+a(r.graph)}>>`;case"Variable":return"?"+r.value}}function o(r){const u=/^"([^]*)"/.exec(r);if(!u)throw new Error(r+" is not a literal");return u[1]}function i(r){const u=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(r);if(!u)throw new Error(r+" is not a literal");return u[1]||(u[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}function t(r){const u=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(r);if(!u)throw new Error(r+" is not a literal");return u[1]?u[1].toLowerCase():""}function n(r,u){if(u=u||c,!r||!r.length)return u.defaultGraph();switch(r[0]){case"_":return u.blankNode(r.substr(2));case"?":if(!u.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return u.variable(r.substr(1));case'"':const l=t(r),d=u.namedNode(i(r));return u.literal(o(r),l||d);default:if(r[0]==="<"&&r.length>4&&r[1]==="<"&&r[r.length-1]===">"&&r[r.length-2]===">"){const p=r.slice(2,-2).trim();let f=[],h=0,y=0,m=!1;for(let b=0;b<p.length;b++){const v=p[b];if(v==="<"&&h++,v===">"){if(h===0)throw new Error("Found closing tag without opening tag in "+r);h--}if(v==='"'){let _=!1,w=b;for(;w-- >0&&p[w]==="\\";)_=!_;_||(m=!m)}if(v===" "&&!m&&h===0){for(f.push(p.slice(y,b));p[b+1]===" ";)b+=1;y=b+1}}if(h!==0)throw new Error("Found opening tag without closing tag in "+r);if(f.push(p.slice(y,p.length)),f.length!==3&&f.length!==4)throw new Error("Nested quad syntax error "+r);return f=f.map(b=>b.startsWith("<")&&!b.includes(" ")?b.slice(1,-1):b),u.quad(n(f[0]),n(f[1]),n(f[2]),f[3]?n(f[3]):void 0)}return u.namedNode(r)}}e.termToString=a,e.getLiteralValue=o,e.getLiteralType=i,e.getLiteralLanguage=t,e.stringToTerm=n,e.quadToStringQuad=function(r){return{subject:a(r.subject),predicate:a(r.predicate),object:a(r.object),graph:a(r.graph)}},e.stringQuadToQuad=function(r,u){return(u=u||c).quad(n(r.subject,u),n(r.predicate,u),n(r.object,u),n(r.graph,u))}},45757:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfUpdateQuadsHypermedia=void 0;const c=s(16657),a=s(90412),o=s(89096);class i extends c.ActorRdfUpdateQuadsDestination{constructor(n){super(n),this.cache=this.cacheSize?new o.LRUCache({max:this.cacheSize}):void 0;const r=this.cache;r&&this.httpInvalidator.addInvalidateListener(({url:u})=>u?r.delete(u):r.clear())}async test(n){return(0,c.getContextDestinationUrl)((0,c.getContextDestination)(n.context))?(0,a.passTestVoid)():(0,a.failTest)(`Actor ${this.name} can only update quads against a single destination URL.`)}getDestination(n){const r=(0,c.getContextDestination)(n);let u=(0,c.getContextDestinationUrl)(r);if(this.cache&&this.cache.has(u))return this.cache.get(u);const l=(async()=>{let d,p;try{const h=await this.mediatorDereferenceRdf.mediate({context:n,url:u,acceptErrors:!0});p=h.exists,u=h.url;const y=await this.mediatorMetadata.mediate({context:n,url:u,quads:h.data,triples:h.metadata?.triples});d=(await this.mediatorMetadataExtract.mediate({context:n,url:u,metadata:y.metadata,headers:h.headers,requestTime:h.requestTime})).metadata}catch{d={},p=!1}const{destination:f}=await this.mediatorRdfUpdateHypermedia.mediate({context:n,url:u,metadata:d,exists:p,forceDestinationType:(0,c.getDataDestinationType)(r)});return f})();return this.cache&&this.cache.set(u,l),l}}e.ActorRdfUpdateQuadsHypermedia=i},45762:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfMetadataAll=void 0;const c=s(14752),a=s(90412),o=s(19198);class i extends c.ActorRdfMetadata{constructor(n){super(n)}async test(n){return(0,a.passTestVoid)()}async run(n){const r=new o.Readable({objectMode:!0}),u=new o.Readable({objectMode:!0});n.quads.on("error",d=>{r.emit("error",d),u.emit("error",d)}),n.quads.on("end",()=>{r.push(null),u.push(null)});const l=r._read=u._read=d=>{for(;d>0;){const p=n.quads.read();if(p===null)return n.quads.once("readable",()=>l(d));d--,r.push(p),u.push(p)}};return{data:r,metadata:u}}}e.ActorRdfMetadataAll=i},45845:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(28223),e)},46083:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isPunctuatorTokenKind=function(v){return v===o.TokenKind.BANG||v===o.TokenKind.DOLLAR||v===o.TokenKind.AMP||v===o.TokenKind.PAREN_L||v===o.TokenKind.PAREN_R||v===o.TokenKind.SPREAD||v===o.TokenKind.COLON||v===o.TokenKind.EQUALS||v===o.TokenKind.AT||v===o.TokenKind.BRACKET_L||v===o.TokenKind.BRACKET_R||v===o.TokenKind.BRACE_L||v===o.TokenKind.PIPE||v===o.TokenKind.BRACE_R},e.Lexer=void 0;var c=s(51352),a=s(76257),o=s(73038),i=s(69165),t=function(){function v(w){var O=new a.Token(o.TokenKind.SOF,0,0,0,0,null);this.source=w,this.lastToken=O,this.token=O,this.line=1,this.lineStart=0}var _=v.prototype;return _.advance=function(){return this.lastToken=this.token,this.token=this.lookahead()},_.lookahead=function(){var w=this.token;if(w.kind!==o.TokenKind.EOF)do{var O;w=(O=w.next)!==null&&O!==void 0?O:w.next=r(this,w)}while(w.kind===o.TokenKind.COMMENT);return w},v}();function n(v){return isNaN(v)?o.TokenKind.EOF:v<127?JSON.stringify(String.fromCharCode(v)):'"\\u'.concat(("00"+v.toString(16).toUpperCase()).slice(-4),'"')}function r(v,_){for(var w=v.source,O=w.body,A=O.length,T=_.end;T<A;){var S=O.charCodeAt(T),E=v.line,D=1+T-v.lineStart;switch(S){case 65279:case 9:case 32:case 44:++T;continue;case 10:++T,++v.line,v.lineStart=T;continue;case 13:O.charCodeAt(T+1)===10?T+=2:++T,++v.line,v.lineStart=T;continue;case 33:return new a.Token(o.TokenKind.BANG,T,T+1,E,D,_);case 35:return l(w,T,E,D,_);case 36:return new a.Token(o.TokenKind.DOLLAR,T,T+1,E,D,_);case 38:return new a.Token(o.TokenKind.AMP,T,T+1,E,D,_);case 40:return new a.Token(o.TokenKind.PAREN_L,T,T+1,E,D,_);case 41:return new a.Token(o.TokenKind.PAREN_R,T,T+1,E,D,_);case 46:if(O.charCodeAt(T+1)===46&&O.charCodeAt(T+2)===46)return new a.Token(o.TokenKind.SPREAD,T,T+3,E,D,_);break;case 58:return new a.Token(o.TokenKind.COLON,T,T+1,E,D,_);case 61:return new a.Token(o.TokenKind.EQUALS,T,T+1,E,D,_);case 64:return new a.Token(o.TokenKind.AT,T,T+1,E,D,_);case 91:return new a.Token(o.TokenKind.BRACKET_L,T,T+1,E,D,_);case 93:return new a.Token(o.TokenKind.BRACKET_R,T,T+1,E,D,_);case 123:return new a.Token(o.TokenKind.BRACE_L,T,T+1,E,D,_);case 124:return new a.Token(o.TokenKind.PIPE,T,T+1,E,D,_);case 125:return new a.Token(o.TokenKind.BRACE_R,T,T+1,E,D,_);case 34:return O.charCodeAt(T+1)===34&&O.charCodeAt(T+2)===34?h(w,T,E,D,_,v):f(w,T,E,D,_);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return d(w,T,S,E,D,_);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return b(w,T,E,D,_)}throw(0,c.syntaxError)(w,T,u(S))}var I=v.line,V=1+T-v.lineStart;return new a.Token(o.TokenKind.EOF,A,A,I,V,_)}function u(v){return v<32&&v!==9&&v!==10&&v!==13?"Cannot contain the invalid character ".concat(n(v),"."):v===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:"Cannot parse the unexpected character ".concat(n(v),".")}function l(v,_,w,O,A){var T,S=v.body,E=_;do T=S.charCodeAt(++E);while(!isNaN(T)&&(T>31||T===9));return new a.Token(o.TokenKind.COMMENT,_,E,w,O,A,S.slice(_+1,E))}function d(v,_,w,O,A,T){var S=v.body,E=w,D=_,I=!1;if(E===45&&(E=S.charCodeAt(++D)),E===48){if((E=S.charCodeAt(++D))>=48&&E<=57)throw(0,c.syntaxError)(v,D,"Invalid number, unexpected digit after 0: ".concat(n(E),"."))}else D=p(v,D,E),E=S.charCodeAt(D);if(E===46&&(I=!0,E=S.charCodeAt(++D),D=p(v,D,E),E=S.charCodeAt(D)),E!==69&&E!==101||(I=!0,(E=S.charCodeAt(++D))!==43&&E!==45||(E=S.charCodeAt(++D)),D=p(v,D,E),E=S.charCodeAt(D)),E===46||function(V){return V===95||V>=65&&V<=90||V>=97&&V<=122}(E))throw(0,c.syntaxError)(v,D,"Invalid number, expected digit but got: ".concat(n(E),"."));return new a.Token(I?o.TokenKind.FLOAT:o.TokenKind.INT,_,D,O,A,T,S.slice(_,D))}function p(v,_,w){var O=v.body,A=_,T=w;if(T>=48&&T<=57){do T=O.charCodeAt(++A);while(T>=48&&T<=57);return A}throw(0,c.syntaxError)(v,A,"Invalid number, expected digit but got: ".concat(n(T),"."))}function f(v,_,w,O,A){for(var T=v.body,S=_+1,E=S,D=0,I="";S<T.length&&!isNaN(D=T.charCodeAt(S))&&D!==10&&D!==13;){if(D===34)return I+=T.slice(E,S),new a.Token(o.TokenKind.STRING,_,S+1,w,O,A,I);if(D<32&&D!==9)throw(0,c.syntaxError)(v,S,"Invalid character within String: ".concat(n(D),"."));if(++S,D===92){switch(I+=T.slice(E,S-1),D=T.charCodeAt(S)){case 34:I+='"';break;case 47:I+="/";break;case 92:I+="\\";break;case 98:I+="\b";break;case 102:I+="\f";break;case 110:I+=`
`;break;case 114:I+="\r";break;case 116:I+="	";break;case 117:var V=y(T.charCodeAt(S+1),T.charCodeAt(S+2),T.charCodeAt(S+3),T.charCodeAt(S+4));if(V<0){var K=T.slice(S+1,S+5);throw(0,c.syntaxError)(v,S,"Invalid character escape sequence: \\u".concat(K,"."))}I+=String.fromCharCode(V),S+=4;break;default:throw(0,c.syntaxError)(v,S,"Invalid character escape sequence: \\".concat(String.fromCharCode(D),"."))}E=++S}}throw(0,c.syntaxError)(v,S,"Unterminated string.")}function h(v,_,w,O,A,T){for(var S=v.body,E=_+3,D=E,I=0,V="";E<S.length&&!isNaN(I=S.charCodeAt(E));){if(I===34&&S.charCodeAt(E+1)===34&&S.charCodeAt(E+2)===34)return V+=S.slice(D,E),new a.Token(o.TokenKind.BLOCK_STRING,_,E+3,w,O,A,(0,i.dedentBlockStringValue)(V));if(I<32&&I!==9&&I!==10&&I!==13)throw(0,c.syntaxError)(v,E,"Invalid character within String: ".concat(n(I),"."));I===10?(++E,++T.line,T.lineStart=E):I===13?(S.charCodeAt(E+1)===10?E+=2:++E,++T.line,T.lineStart=E):I===92&&S.charCodeAt(E+1)===34&&S.charCodeAt(E+2)===34&&S.charCodeAt(E+3)===34?(V+=S.slice(D,E)+'"""',D=E+=4):++E}throw(0,c.syntaxError)(v,E,"Unterminated string.")}function y(v,_,w,O){return m(v)<<12|m(_)<<8|m(w)<<4|m(O)}function m(v){return v>=48&&v<=57?v-48:v>=65&&v<=70?v-55:v>=97&&v<=102?v-87:-1}function b(v,_,w,O,A){for(var T=v.body,S=T.length,E=_+1,D=0;E!==S&&!isNaN(D=T.charCodeAt(E))&&(D===95||D>=48&&D<=57||D>=65&&D<=90||D>=97&&D<=122);)++E;return new a.Token(o.TokenKind.NAME,_,E,w,O,A,T.slice(_,E))}e.Lexer=t},46229:(g,e,s)=>{e.sha1=s(43917),e.sha224=s(47714),e.sha256=s(2287),e.sha384=s(21911),e.sha512=s(57766)},46271:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryOperationDistinctHash=void 0;const c=s(66490),a=s(90412),o=s(67021);class i extends c.ActorQueryOperationTypedMediated{constructor(n){super(n,"distinct")}async testOperation(n,r){return(0,a.passTestVoid)()}async runOperation(n,r){const u=await this.mediatorQueryOperation.mediate({operation:n.input,context:r});if(u.type==="quads"){const p=(0,o.getSafeQuads)(u);return{type:"quads",quadStream:p.quadStream.filter(await this.newHashFilterQuads(r)),metadata:p.metadata}}const l=(0,o.getSafeBindings)(u),d=(await l.metadata()).variables.map(p=>p.variable);return{type:"bindings",bindingsStream:l.bindingsStream.filter(await this.newHashFilter(r,d)),metadata:l.metadata}}async newHashFilter(n,r){const{hashFunction:u}=await this.mediatorHashBindings.mediate({context:n}),l={};return d=>{const p=u(d,r);return!(p in l)&&(l[p]=!0)}}async newHashFilterQuads(n){const{hashFunction:r}=await this.mediatorHashQuads.mediate({context:n}),u={};return l=>{const d=r(l);return!(d in u)&&(u[d]=!0)}}}e.ActorQueryOperationDistinctHash=i},46293:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermSubject=void 0;const c=s(77617),a=s(77545),o=s(12922);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.SparqlOperator.SUBJECT],termFunction:!0})}async run(n){return new o.TermFunctionSubject}}e.ActorFunctionFactoryTermSubject=i},46342:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryOperationSlice=void 0;const c=s(66490),a=s(90711),o=s(90412);class i extends c.ActorQueryOperationTypedMediated{constructor(n){super(n,"slice")}async testOperation(n,r){return(0,o.passTestVoid)()}async runOperation(n,r){n.length&&(r=r.set(a.KeysQueryOperation.limitIndicator,n.length));const u=await this.mediatorQueryOperation.mediate({operation:n.input,context:r});return u.type==="bindings"?{type:"bindings",bindingsStream:this.sliceStream(u.bindingsStream,n),metadata:this.sliceMetadata(u,n)}:u.type==="quads"?{type:"quads",quadStream:this.sliceStream(u.quadStream,n),metadata:this.sliceMetadata(u,n)}:u}sliceStream(n,r){const u=!!r.length||r.length===0,{start:l}=r,d=u?r.start+r.length-1:Number.POSITIVE_INFINITY;return n.transform({offset:l,limit:Math.max(d-l+1,0),autoStart:!1})}sliceMetadata(n,r){const u=!!r.length||r.length===0;return()=>n.metadata().then(l=>{const d={...l.cardinality};return Number.isFinite(d.value)&&(d.value=Math.max(0,d.value-r.start),u&&(d.value=Math.min(d.value,r.length))),{...l,cardinality:d}})}}e.ActorQueryOperationSlice=i},46356:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0});const c=s(76011),a=s(31425),o=s(96568);e.default=function(i,t,n){i??={},n??=0;let r=(0,a.default)({...i,_v6:!0},new Uint8Array(16));if(r=(0,o.default)(r),t){for(let u=0;u<16;u++)t[n+u]=r[u];return t}return(0,c.unsafeStringify)(r)}},46388:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Quad=void 0,e.Quad=class{constructor(s,c,a,o){this.termType="Quad",this.value="",this.subject=s,this.predicate=c,this.object=a,this.graph=o}equals(s){return!!s&&(s.termType==="Quad"||!s.termType)&&this.subject.equals(s.subject)&&this.predicate.equals(s.predicate)&&this.object.equals(s.object)&&this.graph.equals(s.graph)}}},46645:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermAbs=void 0;const c=s(77617),a=s(77545),o=s(54502);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.SparqlOperator.ABS],termFunction:!0})}async run(n){return new o.TermFunctionAbs}}e.ActorFunctionFactoryTermAbs=i},46671:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},46691:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfParseFixedMediaTypes=void 0;const c=s(48092),a=s(90412);class o extends c.ActorAbstractMediaTypedFixed{constructor(t){super(t)}async testHandleChecked(t){return(0,a.passTestVoid)()}}e.ActorRdfParseFixedMediaTypes=o},46706:(g,e,s)=>{const c=s(65606),a=s(48287),{isReadable:o,isWritable:i,isIterable:t,isNodeStream:n,isReadableNodeStream:r,isWritableNodeStream:u,isDuplexNodeStream:l,isReadableStream:d,isWritableStream:p}=s(16115),f=s(86238),{AbortError:h,codes:{ERR_INVALID_ARG_TYPE:y,ERR_INVALID_RETURN_VALUE:m}}=s(76371),{destroyer:b}=s(75896),v=s(93370),_=s(57576),w=s(78584),{createDeferredPromise:O}=s(57760),A=s(96532),T=globalThis.Blob||a.Blob,S=T!==void 0?function(K){return K instanceof T}:function(K){return!1},E=globalThis.AbortController||s(25568).AbortController,{FunctionPrototypeCall:D}=s(24134);class I extends v{constructor(B){super(B),B?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),B?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function V(K){const B=K.readable&&typeof K.readable.read!="function"?_.wrap(K.readable):K.readable,$=K.writable;let G,U,W,ye,ve,he=!!o(B),q=!!i($);function L(R){const k=ye;ye=null,k?k(R):R&&ve.destroy(R)}return ve=new I({readableObjectMode:!(B==null||!B.readableObjectMode),writableObjectMode:!($==null||!$.writableObjectMode),readable:he,writable:q}),q&&(f($,R=>{q=!1,R&&b(B,R),L(R)}),ve._write=function(R,k,X){$.write(R,k)?X():G=X},ve._final=function(R){$.end(),U=R},$.on("drain",function(){if(G){const R=G;G=null,R()}}),$.on("finish",function(){if(U){const R=U;U=null,R()}})),he&&(f(B,R=>{he=!1,R&&b(B,R),L(R)}),B.on("readable",function(){if(W){const R=W;W=null,R()}}),B.on("end",function(){ve.push(null)}),ve._read=function(){for(;;){const R=B.read();if(R===null)return void(W=ve._read);if(!ve.push(R))return}}),ve._destroy=function(R,k){R||ye===null||(R=new h),W=null,G=null,U=null,ye===null?k(R):(ye=k,b($,R),b(B,R))},ve}g.exports=function K(B,$){if(l(B))return B;if(r(B))return V({readable:B});if(u(B))return V({writable:B});if(n(B))return V({writable:!1,readable:!1});if(d(B))return V({readable:_.fromWeb(B)});if(p(B))return V({writable:w.fromWeb(B)});if(typeof B=="function"){const{value:U,write:W,final:ye,destroy:ve}=function(q){let{promise:L,resolve:R}=O();const k=new E,X=k.signal;return{value:q(async function*(){for(;;){const oe=L;L=null;const{chunk:ee,done:me,cb:de}=await oe;if(c.nextTick(de),me)return;if(X.aborted)throw new h(void 0,{cause:X.reason});({promise:L,resolve:R}=O()),yield ee}}(),{signal:X}),write(oe,ee,me){const de=R;R=null,de({chunk:oe,done:!1,cb:me})},final(oe){const ee=R;R=null,ee({done:!0,cb:oe})},destroy(oe,ee){k.abort(),ee(oe)}}}(B);if(t(U))return A(I,U,{objectMode:!0,write:W,final:ye,destroy:ve});const he=U?.then;if(typeof he=="function"){let q;const L=D(he,U,R=>{if(R!=null)throw new m("nully","body",R)},R=>{b(q,R)});return q=new I({objectMode:!0,readable:!1,write:W,final(R){ye(async()=>{try{await L,c.nextTick(R,null)}catch(k){c.nextTick(R,k)}})},destroy:ve})}throw new m("Iterable, AsyncIterable or AsyncFunction",$,U)}if(S(B))return K(B.arrayBuffer());if(t(B))return A(I,B,{objectMode:!0,writable:!1});if(d(B?.readable)&&p(B?.writable))return I.fromWeb(B);if(typeof B?.writable=="object"||typeof B?.readable=="object")return V({readable:B!=null&&B.readable?r(B?.readable)?B?.readable:K(B.readable):void 0,writable:B!=null&&B.writable?u(B?.writable)?B?.writable:K(B.writable):void 0});const G=B?.then;if(typeof G=="function"){let U;return D(G,B,W=>{W!=null&&U.push(W),U.push(null)},W=>{b(U,W)}),U=new I({objectMode:!0,writable:!1,read(){}})}throw new y($,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],B)}},46746:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.termToString=e.stringToTerm=e.stringQuadToQuad=e.quadToStringQuad=e.getLiteralValue=e.getLiteralType=e.getLiteralLanguage=void 0;const c=s(35738);Object.defineProperty(e,"getLiteralLanguage",{enumerable:!0,get:function(){return c.getLiteralLanguage}}),Object.defineProperty(e,"getLiteralType",{enumerable:!0,get:function(){return c.getLiteralType}}),Object.defineProperty(e,"getLiteralValue",{enumerable:!0,get:function(){return c.getLiteralValue}}),Object.defineProperty(e,"quadToStringQuad",{enumerable:!0,get:function(){return c.quadToStringQuad}}),Object.defineProperty(e,"stringQuadToQuad",{enumerable:!0,get:function(){return c.stringQuadToQuad}}),Object.defineProperty(e,"stringToTerm",{enumerable:!0,get:function(){return c.stringToTerm}}),Object.defineProperty(e,"termToString",{enumerable:!0,get:function(){return c.termToString}})},46784:(g,e,s)=>{var c=s(67426),a=s(66166),o=c.rotl32,i=c.sum32,t=c.sum32_3,n=c.sum32_4,r=a.BlockHash;function u(){if(!(this instanceof u))return new u;r.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function l(b,v,_,w){return b<=15?v^_^w:b<=31?v&_|~v&w:b<=47?(v|~_)^w:b<=63?v&w|_&~w:v^(_|~w)}function d(b){return b<=15?0:b<=31?1518500249:b<=47?1859775393:b<=63?2400959708:2840853838}function p(b){return b<=15?1352829926:b<=31?1548603684:b<=47?1836072691:b<=63?2053994217:0}c.inherits(u,r),e.ripemd160=u,u.blockSize=512,u.outSize=160,u.hmacStrength=192,u.padLength=64,u.prototype._update=function(b,v){for(var _=this.h[0],w=this.h[1],O=this.h[2],A=this.h[3],T=this.h[4],S=_,E=w,D=O,I=A,V=T,K=0;K<80;K++){var B=i(o(n(_,l(K,w,O,A),b[f[K]+v],d(K)),y[K]),T);_=T,T=A,A=o(O,10),O=w,w=B,B=i(o(n(S,l(79-K,E,D,I),b[h[K]+v],p(K)),m[K]),V),S=V,V=I,I=o(D,10),D=E,E=B}B=t(this.h[1],O,I),this.h[1]=t(this.h[2],A,V),this.h[2]=t(this.h[3],T,S),this.h[3]=t(this.h[4],_,E),this.h[4]=t(this.h[0],w,D),this.h[0]=B},u.prototype._digest=function(b){return b==="hex"?c.toHex32(this.h,"little"):c.split32(this.h,"little")};var f=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],h=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],y=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],m=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},46876:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isSource=function(u){return(0,i.default)(u,r)},e.Source=void 0;var c=s(25888),a=t(s(29657)),o=t(s(93028)),i=t(s(79527));function t(u){return u&&u.__esModule?u:{default:u}}function n(u,l){for(var d=0;d<l.length;d++){var p=l[d];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(u,p.key,p)}}var r=function(){function u(p){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"GraphQL request",h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{line:1,column:1};typeof p=="string"||(0,o.default)(0,"Body must be a string. Received: ".concat((0,a.default)(p),".")),this.body=p,this.name=f,this.locationOffset=h,this.locationOffset.line>0||(0,o.default)(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||(0,o.default)(0,"column in locationOffset is 1-indexed and must be positive.")}var l,d;return l=u,(d=[{key:c.SYMBOL_TO_STRING_TAG,get:function(){return"Source"}}])&&n(l.prototype,d),u}();e.Source=r},46898:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.termToString=e.stringToTerm=e.stringQuadToQuad=e.quadToStringQuad=e.getLiteralValue=e.getLiteralType=e.getLiteralLanguage=void 0;const c=s(19858);Object.defineProperty(e,"getLiteralLanguage",{enumerable:!0,get:function(){return c.getLiteralLanguage}}),Object.defineProperty(e,"getLiteralType",{enumerable:!0,get:function(){return c.getLiteralType}}),Object.defineProperty(e,"getLiteralValue",{enumerable:!0,get:function(){return c.getLiteralValue}}),Object.defineProperty(e,"quadToStringQuad",{enumerable:!0,get:function(){return c.quadToStringQuad}}),Object.defineProperty(e,"stringQuadToQuad",{enumerable:!0,get:function(){return c.stringQuadToQuad}}),Object.defineProperty(e,"stringToTerm",{enumerable:!0,get:function(){return c.stringToTerm}}),Object.defineProperty(e,"termToString",{enumerable:!0,get:function(){return c.termToString}})},47062:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfParse=void 0;const c=s(48092);class a extends c.ActorAbstractMediaTyped{constructor(i){super(i)}}e.ActorRdfParse=a},47074:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionSubtraction=void 0;const c=s(77617),a=s(90711),o=s(77545),i=s(61594);class t extends c.TermFunctionBase{constructor(){super({arity:2,operator:o.SparqlOperator.SUBTRACTION,overloads:(0,o.declare)(o.SparqlOperator.SUBTRACTION).arithmetic(()=>(r,u)=>new i.BigNumber(r).minus(u).toNumber()).set([o.TypeURL.XSD_DATE_TIME,o.TypeURL.XSD_DATE_TIME],r=>([u,l])=>new o.DayTimeDurationLiteral((0,o.elapsedDuration)(u.typedValue,l.typedValue,r.context.getSafe(a.KeysExpressionEvaluator.defaultTimeZone)))).copy({from:[o.TypeURL.XSD_DATE_TIME,o.TypeURL.XSD_DATE_TIME],to:[o.TypeURL.XSD_DATE,o.TypeURL.XSD_DATE]}).copy({from:[o.TypeURL.XSD_DATE_TIME,o.TypeURL.XSD_DATE_TIME],to:[o.TypeURL.XSD_TIME,o.TypeURL.XSD_TIME]}).set([o.TypeURL.XSD_DATE_TIME,o.TypeURL.XSD_DAY_TIME_DURATION],()=>([r,u])=>new o.DateTimeLiteral((0,o.addDurationToDateTime)(r.typedValue,(0,o.defaultedDurationRepresentation)((0,o.negateDuration)(u.typedValue))))).copy({from:[o.TypeURL.XSD_DATE_TIME,o.TypeURL.XSD_DAY_TIME_DURATION],to:[o.TypeURL.XSD_DATE_TIME,o.TypeURL.XSD_YEAR_MONTH_DURATION]}).set([o.TypeURL.XSD_DATE,o.TypeURL.XSD_DAY_TIME_DURATION],()=>([r,u])=>new o.DateLiteral((0,o.addDurationToDateTime)((0,o.defaultedDateTimeRepresentation)(r.typedValue),(0,o.defaultedDurationRepresentation)((0,o.negateDuration)(u.typedValue))))).copy({from:[o.TypeURL.XSD_DATE,o.TypeURL.XSD_DAY_TIME_DURATION],to:[o.TypeURL.XSD_DATE,o.TypeURL.XSD_YEAR_MONTH_DURATION]}).set([o.TypeURL.XSD_TIME,o.TypeURL.XSD_DAY_TIME_DURATION],()=>([r,u])=>new o.TimeLiteral((0,o.addDurationToDateTime)((0,o.defaultedDateTimeRepresentation)(r.typedValue),(0,o.defaultedDurationRepresentation)((0,o.negateDuration)(u.typedValue))))).collect()})}}e.TermFunctionSubtraction=t},47111:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(29856),e)},47113:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryOperationUpdateCompositeUpdate=void 0;const c=s(66490),a=s(67021);class o extends c.ActorQueryOperationTypedMediated{constructor(t){super(t,"compositeupdate")}async testOperation(t,n){return(0,a.testReadOnly)(n)}async runOperation(t,n){return{type:"void",execute:()=>(async()=>{for(const r of t.updates)await(0,a.getSafeVoid)(await this.mediatorQueryOperation.mediate({operation:r,context:n})).execute()})()}}}e.ActorQueryOperationUpdateCompositeUpdate=o},47194:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ItemPropertyHandlerNumber=void 0;const c=s(73153);e.ItemPropertyHandlerNumber=class{constructor(a,o){this.tagName=a,this.attributeName=o}canHandle(a,o){return this.tagName===a&&this.attributeName in o}getObject(a,o,i){const t=a[this.attributeName];let n;return Number.isNaN(Number.parseInt(t,10))||t.includes(".")?Number.isNaN(Number.parseFloat(t))||(n=`${c.Util.XSD}double`):n=`${c.Util.XSD}integer`,o.dataFactory.literal(t,n&&o.dataFactory.namedNode(n))}}},47229:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ContainerHandlerType=void 0;const c=s(76970),a=s(10888);e.ContainerHandlerType=class{canCombineWithGraph(){return!1}async handle(o,i,t,n,r,u){if(!Array.isArray(r)){if(typeof r=="string"){const p=await i.getContext(n),f=a.Util.getContextValueType(p,n[u-1])==="@vocab"?await t.createVocabOrBaseTerm(p,r):await t.resourceToTerm(p,r);if(f){const h={"@id":f.termType==="NamedNode"?f.value:r};await i.newOnValueJob(n.slice(0,n.length-1),h,u-1,!0),i.idStack[u+1]=[f]}}else{const p=!!i.idStack[u+1];p||delete i.idStack[u],await i.newOnValueJob(n.slice(0,n.length-1),r,u-1,!0),p||(i.idStack[u+1]=i.idStack[u])}const l=await t.getContainerKey(n[u],n,u),d=l!==null?t.createVocabOrBaseTerm(await i.getContext(n),l):null;d&&await c.EntryHandlerPredicate.handlePredicateObject(i,t,n,u+1,t.rdfType,d,!1,!1,!1),await i.handlePendingContainerFlushBuffers()}i.emittedStack[u]=!1}}},47633:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(12278),e)},47714:(g,e,s)=>{var c=s(67426),a=s(2287);function o(){if(!(this instanceof o))return new o;a.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}c.inherits(o,a),g.exports=o,o.blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(i){return i==="hex"?c.toHex32(this.h.slice(0,7),"big"):c.split32(this.h.slice(0,7),"big")}},47793:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(49931),e),a(s(88483),e),a(s(92142),e),a(s(62426),e),a(s(43988),e),a(s(36754),e),a(s(88401),e)},47830:(g,e,s)=>{const{pipeline:c}=s(57758),a=s(93370),{destroyer:o}=s(75896),{isNodeStream:i,isReadable:t,isWritable:n,isWebStream:r,isTransformStream:u,isWritableStream:l,isReadableStream:d}=s(16115),{AbortError:p,codes:{ERR_INVALID_ARG_VALUE:f,ERR_MISSING_ARGS:h}}=s(76371),y=s(86238);g.exports=function(...m){if(m.length===0)throw new h("streams");if(m.length===1)return a.from(m[0]);const b=[...m];if(typeof m[0]=="function"&&(m[0]=a.from(m[0])),typeof m[m.length-1]=="function"){const I=m.length-1;m[I]=a.from(m[I])}for(let I=0;I<m.length;++I)if(i(m[I])||r(m[I])){if(I<m.length-1&&!(t(m[I])||d(m[I])||u(m[I])))throw new f(`streams[${I}]`,b[I],"must be readable");if(I>0&&!(n(m[I])||l(m[I])||u(m[I])))throw new f(`streams[${I}]`,b[I],"must be writable")}let v,_,w,O,A;const T=m[0],S=c(m,function(I){const V=O;O=null,V?V(I):I?A.destroy(I):D||E||A.destroy()}),E=!!(n(T)||l(T)||u(T)),D=!!(t(S)||d(S)||u(S));if(A=new a({writableObjectMode:!(T==null||!T.writableObjectMode),readableObjectMode:!(S==null||!S.readableObjectMode),writable:E,readable:D}),E){if(i(T))A._write=function(V,K,B){T.write(V,K)?B():v=B},A._final=function(V){T.end(),_=V},T.on("drain",function(){if(v){const V=v;v=null,V()}});else if(r(T)){const V=(u(T)?T.writable:T).getWriter();A._write=async function(K,B,$){try{await V.ready,V.write(K).catch(()=>{}),$()}catch(G){$(G)}},A._final=async function(K){try{await V.ready,V.close().catch(()=>{}),_=K}catch(B){K(B)}}}const I=u(S)?S.readable:S;y(I,()=>{if(_){const V=_;_=null,V()}})}if(D){if(i(S))S.on("readable",function(){if(w){const I=w;w=null,I()}}),S.on("end",function(){A.push(null)}),A._read=function(){for(;;){const I=S.read();if(I===null)return void(w=A._read);if(!A.push(I))return}};else if(r(S)){const I=(u(S)?S.readable:S).getReader();A._read=async function(){for(;;)try{const{value:V,done:K}=await I.read();if(!A.push(V))return;if(K)return void A.push(null)}catch{return}}}}return A._destroy=function(I,V){I||O===null||(I=new p),w=null,v=null,_=null,O===null?V(I):(O=V,i(S)&&o(S,I))},A}},47882:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionCeil=void 0;const c=s(77617),a=s(77545);class o extends c.TermFunctionBase{constructor(){super({arity:1,operator:a.SparqlOperator.CEIL,overloads:(0,a.declare)(a.SparqlOperator.CEIL).numericConverter(()=>t=>Math.ceil(t)).collect()})}}e.TermFunctionCeil=o},48061:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BusFunctionFactory=void 0;const c=s(90412);class a extends c.BusIndexed{constructor(i){super({...i,actorIdentifierFields:["functionNames"],actionIdentifierFields:["functionName"]})}}e.BusFunctionFactory=a},48062:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TERM_TYPES=void 0,e.uniqTerms=function(o){const i={};return o.filter(t=>{const n=(0,c.termToString)(t);return!(n in i)&&(i[n]=!0)})},e.getTermsOfType=a,e.getNamedNodes=function(o){return a(o,"NamedNode")},e.getBlankNodes=function(o){return a(o,"BlankNode")},e.getLiterals=function(o){return a(o,"Literal")},e.getVariables=function(o){return a(o,"Variable")},e.getDefaultGraphs=function(o){return a(o,"DefaultGraph")},e.getQuads=function(o){return a(o,"Quad")};const c=s(43347);function a(o,i){return o.filter(t=>t.termType===i)}e.TERM_TYPES=["NamedNode","BlankNode","Literal","Variable","DefaultGraph","Quad"]},48073:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},48092:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(78563),e),a(s(17633),e)},48169:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(7020),e)},48260:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionXsdToFloat=void 0;const c=s(77617),a=s(77545);class o extends c.TermFunctionBase{constructor(){super({arity:1,operator:a.TypeURL.XSD_FLOAT,overloads:(0,a.declare)(a.TypeURL.XSD_FLOAT).onNumeric1(()=>t=>(0,a.float)(t.typedValue)).onBoolean1Typed(()=>t=>(0,a.float)(t?1:0)).onUnary(a.TypeURL.XSD_STRING,()=>t=>{const n=(0,a.parseXSDFloat)(t.str());if(n===void 0)throw new a.CastError(t,a.TypeURL.XSD_FLOAT);return(0,a.float)(n)},!1).collect()})}}e.TermFunctionXsdToFloat=o},48286:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0});const c=s(73779),a=s(52291),o=s(76011);e.default=function(i,t,n){if(c.default.randomUUID&&!t&&!i)return c.default.randomUUID();const r=(i=i||{}).random??i.rng?.()??(0,a.default)();if(r.length<16)throw new Error("Random bytes length must be >= 16");if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){if((n=n||0)<0||n+16>t.length)throw new RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);for(let u=0;u<16;++u)t[n+u]=r[u];return t}return(0,o.unsafeStringify)(r)}},48287:(g,e,s)=>{const c=s(67526),a=s(251),o=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=n,e.SlowBuffer=function(M){return+M!=M&&(M=0),n.alloc(+M)},e.INSPECT_MAX_BYTES=50;const i=2147483647;function t(M){if(M>i)throw new RangeError('The value "'+M+'" is invalid for option "size"');const P=new Uint8Array(M);return Object.setPrototypeOf(P,n.prototype),P}function n(M,P,C){if(typeof M=="number"){if(typeof P=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return l(M)}return r(M,P,C)}function r(M,P,C){if(typeof M=="string")return function(re,le){if(typeof le=="string"&&le!==""||(le="utf8"),!n.isEncoding(le))throw new TypeError("Unknown encoding: "+le);const _e=0|h(re,le);let we=t(_e);const Se=we.write(re,le);return Se!==_e&&(we=we.slice(0,Se)),we}(M,P);if(ArrayBuffer.isView(M))return function(re){if(ne(re,Uint8Array)){const le=new Uint8Array(re);return p(le.buffer,le.byteOffset,le.byteLength)}return d(re)}(M);if(M==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof M);if(ne(M,ArrayBuffer)||M&&ne(M.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ne(M,SharedArrayBuffer)||M&&ne(M.buffer,SharedArrayBuffer)))return p(M,P,C);if(typeof M=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const z=M.valueOf&&M.valueOf();if(z!=null&&z!==M)return n.from(z,P,C);const te=function(re){if(n.isBuffer(re)){const le=0|f(re.length),_e=t(le);return _e.length===0||re.copy(_e,0,0,le),_e}return re.length!==void 0?typeof re.length!="number"||be(re.length)?t(0):d(re):re.type==="Buffer"&&Array.isArray(re.data)?d(re.data):void 0}(M);if(te)return te;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof M[Symbol.toPrimitive]=="function")return n.from(M[Symbol.toPrimitive]("string"),P,C);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof M)}function u(M){if(typeof M!="number")throw new TypeError('"size" argument must be of type number');if(M<0)throw new RangeError('The value "'+M+'" is invalid for option "size"')}function l(M){return u(M),t(M<0?0:0|f(M))}function d(M){const P=M.length<0?0:0|f(M.length),C=t(P);for(let z=0;z<P;z+=1)C[z]=255&M[z];return C}function p(M,P,C){if(P<0||M.byteLength<P)throw new RangeError('"offset" is outside of buffer bounds');if(M.byteLength<P+(C||0))throw new RangeError('"length" is outside of buffer bounds');let z;return z=P===void 0&&C===void 0?new Uint8Array(M):C===void 0?new Uint8Array(M,P):new Uint8Array(M,P,C),Object.setPrototypeOf(z,n.prototype),z}function f(M){if(M>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|M}function h(M,P){if(n.isBuffer(M))return M.length;if(ArrayBuffer.isView(M)||ne(M,ArrayBuffer))return M.byteLength;if(typeof M!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof M);const C=M.length,z=arguments.length>2&&arguments[2]===!0;if(!z&&C===0)return 0;let te=!1;for(;;)switch(P){case"ascii":case"latin1":case"binary":return C;case"utf8":case"utf-8":return me(M).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*C;case"hex":return C>>>1;case"base64":return de(M).length;default:if(te)return z?-1:me(M).length;P=(""+P).toLowerCase(),te=!0}}function y(M,P,C){let z=!1;if((P===void 0||P<0)&&(P=0),P>this.length||((C===void 0||C>this.length)&&(C=this.length),C<=0)||(C>>>=0)<=(P>>>=0))return"";for(M||(M="utf8");;)switch(M){case"hex":return K(this,P,C);case"utf8":case"utf-8":return E(this,P,C);case"ascii":return I(this,P,C);case"latin1":case"binary":return V(this,P,C);case"base64":return S(this,P,C);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,P,C);default:if(z)throw new TypeError("Unknown encoding: "+M);M=(M+"").toLowerCase(),z=!0}}function m(M,P,C){const z=M[P];M[P]=M[C],M[C]=z}function b(M,P,C,z,te){if(M.length===0)return-1;if(typeof C=="string"?(z=C,C=0):C>2147483647?C=2147483647:C<-2147483648&&(C=-2147483648),be(C=+C)&&(C=te?0:M.length-1),C<0&&(C=M.length+C),C>=M.length){if(te)return-1;C=M.length-1}else if(C<0){if(!te)return-1;C=0}if(typeof P=="string"&&(P=n.from(P,z)),n.isBuffer(P))return P.length===0?-1:v(M,P,C,z,te);if(typeof P=="number")return P&=255,typeof Uint8Array.prototype.indexOf=="function"?te?Uint8Array.prototype.indexOf.call(M,P,C):Uint8Array.prototype.lastIndexOf.call(M,P,C):v(M,[P],C,z,te);throw new TypeError("val must be string, number or Buffer")}function v(M,P,C,z,te){let re,le=1,_e=M.length,we=P.length;if(z!==void 0&&((z=String(z).toLowerCase())==="ucs2"||z==="ucs-2"||z==="utf16le"||z==="utf-16le")){if(M.length<2||P.length<2)return-1;le=2,_e/=2,we/=2,C/=2}function Se(Pe,je){return le===1?Pe[je]:Pe.readUInt16BE(je*le)}if(te){let Pe=-1;for(re=C;re<_e;re++)if(Se(M,re)===Se(P,Pe===-1?0:re-Pe)){if(Pe===-1&&(Pe=re),re-Pe+1===we)return Pe*le}else Pe!==-1&&(re-=re-Pe),Pe=-1}else for(C+we>_e&&(C=_e-we),re=C;re>=0;re--){let Pe=!0;for(let je=0;je<we;je++)if(Se(M,re+je)!==Se(P,je)){Pe=!1;break}if(Pe)return re}return-1}function _(M,P,C,z){C=Number(C)||0;const te=M.length-C;z?(z=Number(z))>te&&(z=te):z=te;const re=P.length;let le;for(z>re/2&&(z=re/2),le=0;le<z;++le){const _e=parseInt(P.substr(2*le,2),16);if(be(_e))return le;M[C+le]=_e}return le}function w(M,P,C,z){return xe(me(P,M.length-C),M,C,z)}function O(M,P,C,z){return xe(function(te){const re=[];for(let le=0;le<te.length;++le)re.push(255&te.charCodeAt(le));return re}(P),M,C,z)}function A(M,P,C,z){return xe(de(P),M,C,z)}function T(M,P,C,z){return xe(function(te,re){let le,_e,we;const Se=[];for(let Pe=0;Pe<te.length&&!((re-=2)<0);++Pe)le=te.charCodeAt(Pe),_e=le>>8,we=le%256,Se.push(we),Se.push(_e);return Se}(P,M.length-C),M,C,z)}function S(M,P,C){return P===0&&C===M.length?c.fromByteArray(M):c.fromByteArray(M.slice(P,C))}function E(M,P,C){C=Math.min(M.length,C);const z=[];let te=P;for(;te<C;){const re=M[te];let le=null,_e=re>239?4:re>223?3:re>191?2:1;if(te+_e<=C){let we,Se,Pe,je;switch(_e){case 1:re<128&&(le=re);break;case 2:we=M[te+1],(192&we)==128&&(je=(31&re)<<6|63&we,je>127&&(le=je));break;case 3:we=M[te+1],Se=M[te+2],(192&we)==128&&(192&Se)==128&&(je=(15&re)<<12|(63&we)<<6|63&Se,je>2047&&(je<55296||je>57343)&&(le=je));break;case 4:we=M[te+1],Se=M[te+2],Pe=M[te+3],(192&we)==128&&(192&Se)==128&&(192&Pe)==128&&(je=(15&re)<<18|(63&we)<<12|(63&Se)<<6|63&Pe,je>65535&&je<1114112&&(le=je))}}le===null?(le=65533,_e=1):le>65535&&(le-=65536,z.push(le>>>10&1023|55296),le=56320|1023&le),z.push(le),te+=_e}return function(re){const le=re.length;if(le<=D)return String.fromCharCode.apply(String,re);let _e="",we=0;for(;we<le;)_e+=String.fromCharCode.apply(String,re.slice(we,we+=D));return _e}(z)}e.kMaxLength=i,n.TYPED_ARRAY_SUPPORT=function(){try{const M=new Uint8Array(1),P={foo:function(){return 42}};return Object.setPrototypeOf(P,Uint8Array.prototype),Object.setPrototypeOf(M,P),M.foo()===42}catch{return!1}}(),n.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(n.prototype,"parent",{enumerable:!0,get:function(){if(n.isBuffer(this))return this.buffer}}),Object.defineProperty(n.prototype,"offset",{enumerable:!0,get:function(){if(n.isBuffer(this))return this.byteOffset}}),n.poolSize=8192,n.from=function(M,P,C){return r(M,P,C)},Object.setPrototypeOf(n.prototype,Uint8Array.prototype),Object.setPrototypeOf(n,Uint8Array),n.alloc=function(M,P,C){return function(z,te,re){return u(z),z<=0?t(z):te!==void 0?typeof re=="string"?t(z).fill(te,re):t(z).fill(te):t(z)}(M,P,C)},n.allocUnsafe=function(M){return l(M)},n.allocUnsafeSlow=function(M){return l(M)},n.isBuffer=function(M){return M!=null&&M._isBuffer===!0&&M!==n.prototype},n.compare=function(M,P){if(ne(M,Uint8Array)&&(M=n.from(M,M.offset,M.byteLength)),ne(P,Uint8Array)&&(P=n.from(P,P.offset,P.byteLength)),!n.isBuffer(M)||!n.isBuffer(P))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(M===P)return 0;let C=M.length,z=P.length;for(let te=0,re=Math.min(C,z);te<re;++te)if(M[te]!==P[te]){C=M[te],z=P[te];break}return C<z?-1:z<C?1:0},n.isEncoding=function(M){switch(String(M).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},n.concat=function(M,P){if(!Array.isArray(M))throw new TypeError('"list" argument must be an Array of Buffers');if(M.length===0)return n.alloc(0);let C;if(P===void 0)for(P=0,C=0;C<M.length;++C)P+=M[C].length;const z=n.allocUnsafe(P);let te=0;for(C=0;C<M.length;++C){let re=M[C];if(ne(re,Uint8Array))te+re.length>z.length?(n.isBuffer(re)||(re=n.from(re)),re.copy(z,te)):Uint8Array.prototype.set.call(z,re,te);else{if(!n.isBuffer(re))throw new TypeError('"list" argument must be an Array of Buffers');re.copy(z,te)}te+=re.length}return z},n.byteLength=h,n.prototype._isBuffer=!0,n.prototype.swap16=function(){const M=this.length;if(M%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let P=0;P<M;P+=2)m(this,P,P+1);return this},n.prototype.swap32=function(){const M=this.length;if(M%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let P=0;P<M;P+=4)m(this,P,P+3),m(this,P+1,P+2);return this},n.prototype.swap64=function(){const M=this.length;if(M%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let P=0;P<M;P+=8)m(this,P,P+7),m(this,P+1,P+6),m(this,P+2,P+5),m(this,P+3,P+4);return this},n.prototype.toString=function(){const M=this.length;return M===0?"":arguments.length===0?E(this,0,M):y.apply(this,arguments)},n.prototype.toLocaleString=n.prototype.toString,n.prototype.equals=function(M){if(!n.isBuffer(M))throw new TypeError("Argument must be a Buffer");return this===M||n.compare(this,M)===0},n.prototype.inspect=function(){let M="";const P=e.INSPECT_MAX_BYTES;return M=this.toString("hex",0,P).replace(/(.{2})/g,"$1 ").trim(),this.length>P&&(M+=" ... "),"<Buffer "+M+">"},o&&(n.prototype[o]=n.prototype.inspect),n.prototype.compare=function(M,P,C,z,te){if(ne(M,Uint8Array)&&(M=n.from(M,M.offset,M.byteLength)),!n.isBuffer(M))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof M);if(P===void 0&&(P=0),C===void 0&&(C=M?M.length:0),z===void 0&&(z=0),te===void 0&&(te=this.length),P<0||C>M.length||z<0||te>this.length)throw new RangeError("out of range index");if(z>=te&&P>=C)return 0;if(z>=te)return-1;if(P>=C)return 1;if(this===M)return 0;let re=(te>>>=0)-(z>>>=0),le=(C>>>=0)-(P>>>=0);const _e=Math.min(re,le),we=this.slice(z,te),Se=M.slice(P,C);for(let Pe=0;Pe<_e;++Pe)if(we[Pe]!==Se[Pe]){re=we[Pe],le=Se[Pe];break}return re<le?-1:le<re?1:0},n.prototype.includes=function(M,P,C){return this.indexOf(M,P,C)!==-1},n.prototype.indexOf=function(M,P,C){return b(this,M,P,C,!0)},n.prototype.lastIndexOf=function(M,P,C){return b(this,M,P,C,!1)},n.prototype.write=function(M,P,C,z){if(P===void 0)z="utf8",C=this.length,P=0;else if(C===void 0&&typeof P=="string")z=P,C=this.length,P=0;else{if(!isFinite(P))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");P>>>=0,isFinite(C)?(C>>>=0,z===void 0&&(z="utf8")):(z=C,C=void 0)}const te=this.length-P;if((C===void 0||C>te)&&(C=te),M.length>0&&(C<0||P<0)||P>this.length)throw new RangeError("Attempt to write outside buffer bounds");z||(z="utf8");let re=!1;for(;;)switch(z){case"hex":return _(this,M,P,C);case"utf8":case"utf-8":return w(this,M,P,C);case"ascii":case"latin1":case"binary":return O(this,M,P,C);case"base64":return A(this,M,P,C);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,M,P,C);default:if(re)throw new TypeError("Unknown encoding: "+z);z=(""+z).toLowerCase(),re=!0}},n.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const D=4096;function I(M,P,C){let z="";C=Math.min(M.length,C);for(let te=P;te<C;++te)z+=String.fromCharCode(127&M[te]);return z}function V(M,P,C){let z="";C=Math.min(M.length,C);for(let te=P;te<C;++te)z+=String.fromCharCode(M[te]);return z}function K(M,P,C){const z=M.length;(!P||P<0)&&(P=0),(!C||C<0||C>z)&&(C=z);let te="";for(let re=P;re<C;++re)te+=ie[M[re]];return te}function B(M,P,C){const z=M.slice(P,C);let te="";for(let re=0;re<z.length-1;re+=2)te+=String.fromCharCode(z[re]+256*z[re+1]);return te}function $(M,P,C){if(M%1!=0||M<0)throw new RangeError("offset is not uint");if(M+P>C)throw new RangeError("Trying to access beyond buffer length")}function G(M,P,C,z,te,re){if(!n.isBuffer(M))throw new TypeError('"buffer" argument must be a Buffer instance');if(P>te||P<re)throw new RangeError('"value" argument is out of bounds');if(C+z>M.length)throw new RangeError("Index out of range")}function U(M,P,C,z,te){k(P,z,te,M,C,7);let re=Number(P&BigInt(4294967295));M[C++]=re,re>>=8,M[C++]=re,re>>=8,M[C++]=re,re>>=8,M[C++]=re;let le=Number(P>>BigInt(32)&BigInt(4294967295));return M[C++]=le,le>>=8,M[C++]=le,le>>=8,M[C++]=le,le>>=8,M[C++]=le,C}function W(M,P,C,z,te){k(P,z,te,M,C,7);let re=Number(P&BigInt(4294967295));M[C+7]=re,re>>=8,M[C+6]=re,re>>=8,M[C+5]=re,re>>=8,M[C+4]=re;let le=Number(P>>BigInt(32)&BigInt(4294967295));return M[C+3]=le,le>>=8,M[C+2]=le,le>>=8,M[C+1]=le,le>>=8,M[C]=le,C+8}function ye(M,P,C,z,te,re){if(C+z>M.length)throw new RangeError("Index out of range");if(C<0)throw new RangeError("Index out of range")}function ve(M,P,C,z,te){return P=+P,C>>>=0,te||ye(M,0,C,4),a.write(M,P,C,z,23,4),C+4}function he(M,P,C,z,te){return P=+P,C>>>=0,te||ye(M,0,C,8),a.write(M,P,C,z,52,8),C+8}n.prototype.slice=function(M,P){const C=this.length;(M=~~M)<0?(M+=C)<0&&(M=0):M>C&&(M=C),(P=P===void 0?C:~~P)<0?(P+=C)<0&&(P=0):P>C&&(P=C),P<M&&(P=M);const z=this.subarray(M,P);return Object.setPrototypeOf(z,n.prototype),z},n.prototype.readUintLE=n.prototype.readUIntLE=function(M,P,C){M>>>=0,P>>>=0,C||$(M,P,this.length);let z=this[M],te=1,re=0;for(;++re<P&&(te*=256);)z+=this[M+re]*te;return z},n.prototype.readUintBE=n.prototype.readUIntBE=function(M,P,C){M>>>=0,P>>>=0,C||$(M,P,this.length);let z=this[M+--P],te=1;for(;P>0&&(te*=256);)z+=this[M+--P]*te;return z},n.prototype.readUint8=n.prototype.readUInt8=function(M,P){return M>>>=0,P||$(M,1,this.length),this[M]},n.prototype.readUint16LE=n.prototype.readUInt16LE=function(M,P){return M>>>=0,P||$(M,2,this.length),this[M]|this[M+1]<<8},n.prototype.readUint16BE=n.prototype.readUInt16BE=function(M,P){return M>>>=0,P||$(M,2,this.length),this[M]<<8|this[M+1]},n.prototype.readUint32LE=n.prototype.readUInt32LE=function(M,P){return M>>>=0,P||$(M,4,this.length),(this[M]|this[M+1]<<8|this[M+2]<<16)+16777216*this[M+3]},n.prototype.readUint32BE=n.prototype.readUInt32BE=function(M,P){return M>>>=0,P||$(M,4,this.length),16777216*this[M]+(this[M+1]<<16|this[M+2]<<8|this[M+3])},n.prototype.readBigUInt64LE=ge(function(M){X(M>>>=0,"offset");const P=this[M],C=this[M+7];P!==void 0&&C!==void 0||oe(M,this.length-8);const z=P+256*this[++M]+65536*this[++M]+this[++M]*2**24,te=this[++M]+256*this[++M]+65536*this[++M]+C*2**24;return BigInt(z)+(BigInt(te)<<BigInt(32))}),n.prototype.readBigUInt64BE=ge(function(M){X(M>>>=0,"offset");const P=this[M],C=this[M+7];P!==void 0&&C!==void 0||oe(M,this.length-8);const z=P*2**24+65536*this[++M]+256*this[++M]+this[++M],te=this[++M]*2**24+65536*this[++M]+256*this[++M]+C;return(BigInt(z)<<BigInt(32))+BigInt(te)}),n.prototype.readIntLE=function(M,P,C){M>>>=0,P>>>=0,C||$(M,P,this.length);let z=this[M],te=1,re=0;for(;++re<P&&(te*=256);)z+=this[M+re]*te;return te*=128,z>=te&&(z-=Math.pow(2,8*P)),z},n.prototype.readIntBE=function(M,P,C){M>>>=0,P>>>=0,C||$(M,P,this.length);let z=P,te=1,re=this[M+--z];for(;z>0&&(te*=256);)re+=this[M+--z]*te;return te*=128,re>=te&&(re-=Math.pow(2,8*P)),re},n.prototype.readInt8=function(M,P){return M>>>=0,P||$(M,1,this.length),128&this[M]?-1*(255-this[M]+1):this[M]},n.prototype.readInt16LE=function(M,P){M>>>=0,P||$(M,2,this.length);const C=this[M]|this[M+1]<<8;return 32768&C?4294901760|C:C},n.prototype.readInt16BE=function(M,P){M>>>=0,P||$(M,2,this.length);const C=this[M+1]|this[M]<<8;return 32768&C?4294901760|C:C},n.prototype.readInt32LE=function(M,P){return M>>>=0,P||$(M,4,this.length),this[M]|this[M+1]<<8|this[M+2]<<16|this[M+3]<<24},n.prototype.readInt32BE=function(M,P){return M>>>=0,P||$(M,4,this.length),this[M]<<24|this[M+1]<<16|this[M+2]<<8|this[M+3]},n.prototype.readBigInt64LE=ge(function(M){X(M>>>=0,"offset");const P=this[M],C=this[M+7];P!==void 0&&C!==void 0||oe(M,this.length-8);const z=this[M+4]+256*this[M+5]+65536*this[M+6]+(C<<24);return(BigInt(z)<<BigInt(32))+BigInt(P+256*this[++M]+65536*this[++M]+this[++M]*2**24)}),n.prototype.readBigInt64BE=ge(function(M){X(M>>>=0,"offset");const P=this[M],C=this[M+7];P!==void 0&&C!==void 0||oe(M,this.length-8);const z=(P<<24)+65536*this[++M]+256*this[++M]+this[++M];return(BigInt(z)<<BigInt(32))+BigInt(this[++M]*2**24+65536*this[++M]+256*this[++M]+C)}),n.prototype.readFloatLE=function(M,P){return M>>>=0,P||$(M,4,this.length),a.read(this,M,!0,23,4)},n.prototype.readFloatBE=function(M,P){return M>>>=0,P||$(M,4,this.length),a.read(this,M,!1,23,4)},n.prototype.readDoubleLE=function(M,P){return M>>>=0,P||$(M,8,this.length),a.read(this,M,!0,52,8)},n.prototype.readDoubleBE=function(M,P){return M>>>=0,P||$(M,8,this.length),a.read(this,M,!1,52,8)},n.prototype.writeUintLE=n.prototype.writeUIntLE=function(M,P,C,z){M=+M,P>>>=0,C>>>=0,z||G(this,M,P,C,Math.pow(2,8*C)-1,0);let te=1,re=0;for(this[P]=255&M;++re<C&&(te*=256);)this[P+re]=M/te&255;return P+C},n.prototype.writeUintBE=n.prototype.writeUIntBE=function(M,P,C,z){M=+M,P>>>=0,C>>>=0,z||G(this,M,P,C,Math.pow(2,8*C)-1,0);let te=C-1,re=1;for(this[P+te]=255&M;--te>=0&&(re*=256);)this[P+te]=M/re&255;return P+C},n.prototype.writeUint8=n.prototype.writeUInt8=function(M,P,C){return M=+M,P>>>=0,C||G(this,M,P,1,255,0),this[P]=255&M,P+1},n.prototype.writeUint16LE=n.prototype.writeUInt16LE=function(M,P,C){return M=+M,P>>>=0,C||G(this,M,P,2,65535,0),this[P]=255&M,this[P+1]=M>>>8,P+2},n.prototype.writeUint16BE=n.prototype.writeUInt16BE=function(M,P,C){return M=+M,P>>>=0,C||G(this,M,P,2,65535,0),this[P]=M>>>8,this[P+1]=255&M,P+2},n.prototype.writeUint32LE=n.prototype.writeUInt32LE=function(M,P,C){return M=+M,P>>>=0,C||G(this,M,P,4,4294967295,0),this[P+3]=M>>>24,this[P+2]=M>>>16,this[P+1]=M>>>8,this[P]=255&M,P+4},n.prototype.writeUint32BE=n.prototype.writeUInt32BE=function(M,P,C){return M=+M,P>>>=0,C||G(this,M,P,4,4294967295,0),this[P]=M>>>24,this[P+1]=M>>>16,this[P+2]=M>>>8,this[P+3]=255&M,P+4},n.prototype.writeBigUInt64LE=ge(function(M,P=0){return U(this,M,P,BigInt(0),BigInt("0xffffffffffffffff"))}),n.prototype.writeBigUInt64BE=ge(function(M,P=0){return W(this,M,P,BigInt(0),BigInt("0xffffffffffffffff"))}),n.prototype.writeIntLE=function(M,P,C,z){if(M=+M,P>>>=0,!z){const _e=Math.pow(2,8*C-1);G(this,M,P,C,_e-1,-_e)}let te=0,re=1,le=0;for(this[P]=255&M;++te<C&&(re*=256);)M<0&&le===0&&this[P+te-1]!==0&&(le=1),this[P+te]=(M/re|0)-le&255;return P+C},n.prototype.writeIntBE=function(M,P,C,z){if(M=+M,P>>>=0,!z){const _e=Math.pow(2,8*C-1);G(this,M,P,C,_e-1,-_e)}let te=C-1,re=1,le=0;for(this[P+te]=255&M;--te>=0&&(re*=256);)M<0&&le===0&&this[P+te+1]!==0&&(le=1),this[P+te]=(M/re|0)-le&255;return P+C},n.prototype.writeInt8=function(M,P,C){return M=+M,P>>>=0,C||G(this,M,P,1,127,-128),M<0&&(M=255+M+1),this[P]=255&M,P+1},n.prototype.writeInt16LE=function(M,P,C){return M=+M,P>>>=0,C||G(this,M,P,2,32767,-32768),this[P]=255&M,this[P+1]=M>>>8,P+2},n.prototype.writeInt16BE=function(M,P,C){return M=+M,P>>>=0,C||G(this,M,P,2,32767,-32768),this[P]=M>>>8,this[P+1]=255&M,P+2},n.prototype.writeInt32LE=function(M,P,C){return M=+M,P>>>=0,C||G(this,M,P,4,2147483647,-2147483648),this[P]=255&M,this[P+1]=M>>>8,this[P+2]=M>>>16,this[P+3]=M>>>24,P+4},n.prototype.writeInt32BE=function(M,P,C){return M=+M,P>>>=0,C||G(this,M,P,4,2147483647,-2147483648),M<0&&(M=4294967295+M+1),this[P]=M>>>24,this[P+1]=M>>>16,this[P+2]=M>>>8,this[P+3]=255&M,P+4},n.prototype.writeBigInt64LE=ge(function(M,P=0){return U(this,M,P,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),n.prototype.writeBigInt64BE=ge(function(M,P=0){return W(this,M,P,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),n.prototype.writeFloatLE=function(M,P,C){return ve(this,M,P,!0,C)},n.prototype.writeFloatBE=function(M,P,C){return ve(this,M,P,!1,C)},n.prototype.writeDoubleLE=function(M,P,C){return he(this,M,P,!0,C)},n.prototype.writeDoubleBE=function(M,P,C){return he(this,M,P,!1,C)},n.prototype.copy=function(M,P,C,z){if(!n.isBuffer(M))throw new TypeError("argument should be a Buffer");if(C||(C=0),z||z===0||(z=this.length),P>=M.length&&(P=M.length),P||(P=0),z>0&&z<C&&(z=C),z===C||M.length===0||this.length===0)return 0;if(P<0)throw new RangeError("targetStart out of bounds");if(C<0||C>=this.length)throw new RangeError("Index out of range");if(z<0)throw new RangeError("sourceEnd out of bounds");z>this.length&&(z=this.length),M.length-P<z-C&&(z=M.length-P+C);const te=z-C;return this===M&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(P,C,z):Uint8Array.prototype.set.call(M,this.subarray(C,z),P),te},n.prototype.fill=function(M,P,C,z){if(typeof M=="string"){if(typeof P=="string"?(z=P,P=0,C=this.length):typeof C=="string"&&(z=C,C=this.length),z!==void 0&&typeof z!="string")throw new TypeError("encoding must be a string");if(typeof z=="string"&&!n.isEncoding(z))throw new TypeError("Unknown encoding: "+z);if(M.length===1){const re=M.charCodeAt(0);(z==="utf8"&&re<128||z==="latin1")&&(M=re)}}else typeof M=="number"?M&=255:typeof M=="boolean"&&(M=Number(M));if(P<0||this.length<P||this.length<C)throw new RangeError("Out of range index");if(C<=P)return this;let te;if(P>>>=0,C=C===void 0?this.length:C>>>0,M||(M=0),typeof M=="number")for(te=P;te<C;++te)this[te]=M;else{const re=n.isBuffer(M)?M:n.from(M,z),le=re.length;if(le===0)throw new TypeError('The value "'+M+'" is invalid for argument "value"');for(te=0;te<C-P;++te)this[te+P]=re[te%le]}return this};const q={};function L(M,P,C){q[M]=class extends C{constructor(){super(),Object.defineProperty(this,"message",{value:P.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${M}]`,this.stack,delete this.name}get code(){return M}set code(z){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:z,writable:!0})}toString(){return`${this.name} [${M}]: ${this.message}`}}}function R(M){let P="",C=M.length;const z=M[0]==="-"?1:0;for(;C>=z+4;C-=3)P=`_${M.slice(C-3,C)}${P}`;return`${M.slice(0,C)}${P}`}function k(M,P,C,z,te,re){if(M>C||M<P){const le=typeof P=="bigint"?"n":"";let _e;throw _e=P===0||P===BigInt(0)?`>= 0${le} and < 2${le} ** ${8*(re+1)}${le}`:`>= -(2${le} ** ${8*(re+1)-1}${le}) and < 2 ** ${8*(re+1)-1}${le}`,new q.ERR_OUT_OF_RANGE("value",_e,M)}(function(le,_e,we){X(_e,"offset"),le[_e]!==void 0&&le[_e+we]!==void 0||oe(_e,le.length-(we+1))})(z,te,re)}function X(M,P){if(typeof M!="number")throw new q.ERR_INVALID_ARG_TYPE(P,"number",M)}function oe(M,P,C){throw Math.floor(M)!==M?(X(M,C),new q.ERR_OUT_OF_RANGE("offset","an integer",M)):P<0?new q.ERR_BUFFER_OUT_OF_BOUNDS:new q.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${P}`,M)}L("ERR_BUFFER_OUT_OF_BOUNDS",function(M){return M?`${M} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),L("ERR_INVALID_ARG_TYPE",function(M,P){return`The "${M}" argument must be of type number. Received type ${typeof P}`},TypeError),L("ERR_OUT_OF_RANGE",function(M,P,C){let z=`The value of "${M}" is out of range.`,te=C;return Number.isInteger(C)&&Math.abs(C)>2**32?te=R(String(C)):typeof C=="bigint"&&(te=String(C),(C>BigInt(2)**BigInt(32)||C<-(BigInt(2)**BigInt(32)))&&(te=R(te)),te+="n"),z+=` It must be ${P}. Received ${te}`,z},RangeError);const ee=/[^+/0-9A-Za-z-_]/g;function me(M,P){let C;P=P||1/0;const z=M.length;let te=null;const re=[];for(let le=0;le<z;++le){if(C=M.charCodeAt(le),C>55295&&C<57344){if(!te){if(C>56319){(P-=3)>-1&&re.push(239,191,189);continue}if(le+1===z){(P-=3)>-1&&re.push(239,191,189);continue}te=C;continue}if(C<56320){(P-=3)>-1&&re.push(239,191,189),te=C;continue}C=65536+(te-55296<<10|C-56320)}else te&&(P-=3)>-1&&re.push(239,191,189);if(te=null,C<128){if((P-=1)<0)break;re.push(C)}else if(C<2048){if((P-=2)<0)break;re.push(C>>6|192,63&C|128)}else if(C<65536){if((P-=3)<0)break;re.push(C>>12|224,C>>6&63|128,63&C|128)}else{if(!(C<1114112))throw new Error("Invalid code point");if((P-=4)<0)break;re.push(C>>18|240,C>>12&63|128,C>>6&63|128,63&C|128)}}return re}function de(M){return c.toByteArray(function(P){if((P=(P=P.split("=")[0]).trim().replace(ee,"")).length<2)return"";for(;P.length%4!=0;)P+="=";return P}(M))}function xe(M,P,C,z){let te;for(te=0;te<z&&!(te+C>=P.length||te>=M.length);++te)P[te+C]=M[te];return te}function ne(M,P){return M instanceof P||M!=null&&M.constructor!=null&&M.constructor.name!=null&&M.constructor.name===P.name}function be(M){return M!=M}const ie=function(){const M="0123456789abcdef",P=new Array(256);for(let C=0;C<16;++C){const z=16*C;for(let te=0;te<16;++te)P[z+te]=M[C]+M[te]}return P}();function ge(M){return typeof BigInt>"u"?Ee:M}function Ee(){throw new Error("BigInt not supported")}},48293:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermXsdToDouble=void 0;const c=s(77617),a=s(77545),o=s(92810);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.TypeURL.XSD_DOUBLE],termFunction:!0})}async run(n){return new o.TermFunctionXsdToDouble}}e.ActorFunctionFactoryTermXsdToDouble=i},48393:g=>{g.exports=JSON.parse('{"name":"@comunica/actor-http-fetch","version":"4.2.0","description":"A fetch http actor","lsd:module":true,"license":"MIT","funding":{"type":"opencollective","url":"https://opencollective.com/comunica-association"},"homepage":"https://comunica.dev/","repository":{"type":"git","url":"https://github.com/comunica/comunica.git","directory":"packages/actor-http-fetch"},"bugs":{"url":"https://github.com/comunica/comunica/issues"},"keywords":["comunica","runner"],"sideEffects":false,"main":"lib/index.js","typings":"lib/index","publishConfig":{"access":"public"},"files":["components","lib/**/*.d.ts","lib/**/*.js","lib/**/*.js.map"],"scripts":{"build":"yarn run build:ts && yarn run build:components","build:ts":"node \\"../../node_modules/typescript/bin/tsc\\"","build:components":"componentsjs-generator"},"dependencies":{"@comunica/bus-http":"^4.2.0","@comunica/context-entries":"^4.2.0","@comunica/core":"^4.2.0","@comunica/mediatortype-time":"^4.2.0"},"browser":{"./lib/FetchInitPreprocessor.js":"./lib/FetchInitPreprocessor-browser.js"},"gitHead":"94e1eacab069551590cc250074b36bce08720c4c"}')},48430:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionRand=void 0;const c=s(77617),a=s(77545);class o extends c.TermFunctionBase{constructor(){super({arity:0,operator:a.SparqlOperator.RAND,overloads:(0,a.declare)(a.SparqlOperator.RAND).set([],()=>()=>(0,a.double)(Math.random())).collect()})}}e.TermFunctionRand=o},48642:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SparqlXmlParser=void 0;const c=s(47793),a=s(55201),o=s(19198);e.SparqlXmlParser=class{constructor(i){i=i||{},this.dataFactory=i.dataFactory||new c.DataFactory,this.prefixVariableQuestionMark=!!i.prefixVariableQuestionMark}parseXmlResultsStream(i){const t=_=>v.emit("error",_);i.on("error",t);const n=new a.SaxesParser,r=[];let u=!1,l=!1;const d=[];let p,f={},h="",y="",m="",b=[];n.on("error",t),n.on("opentag",_=>{_.name==="variable"&&this.stackEquals(r,["sparql","head"])?d.push(this.dataFactory.variable(_.attributes.name)):_.name==="results"&&this.stackEquals(r,["sparql"])?l=!0:_.name==="result"&&this.stackEquals(r,["sparql","results"])?f={}:_.name==="binding"&&this.stackEquals(r,["sparql","results","result"])?(h=_.attributes.name||"",y="",p="",m="",b=[]):_.name==="triple"&&this.stackBeginsWith(r,["sparql","results","result"])?b.push({components:{}}):r[r.length-1]==="triple"&&this.stackBeginsWith(r,["sparql","results","result","binding"])?(y="",p="",m="",["subject","predicate","object"].includes(_.name)?b[b.length-1].currentComponent=_.name:t(new Error(`Illegal quoted triple component '${_.name}' found on line ${n.line+1}`))):this.stackBeginsWith(r,["sparql","results","result","binding"])&&(y=_.name,p="xml:lang"in _.attributes?_.attributes["xml:lang"]:"datatype"in _.attributes?this.dataFactory.namedNode(_.attributes.datatype):void 0),r.push(_.name)}),n.on("closetag",_=>{if(this.stackEquals(r,["sparql","head"])&&(v.emit("variables",d),u=!0),this.stackEquals(r,["sparql","results","result"])&&v.push(f),this.stackBeginsWith(r,["sparql","results","result","binding"])){let w;if(!h&&y)t(new Error(`Terms should have a name on line ${n.line+1}`));else if(y==="uri")w=this.dataFactory.namedNode(m);else if(y==="bnode")w=this.dataFactory.blankNode(m);else if(y==="literal")w=this.dataFactory.literal(m,p);else if(r[r.length-1]==="triple"){const O=b.pop();O&&O.components.subject&&O.components.predicate&&O.components.object?w=this.dataFactory.quad(O.components.subject,O.components.predicate,O.components.object):t(new Error(`Incomplete quoted triple on line ${n.line+1}`))}else y&&t(new Error(`Invalid term type '${y}' on line ${n.line+1}`));if(w)if(b.length>0){const O=b[b.length-1];O.components[O.currentComponent]&&t(new Error(`The ${O.currentComponent} in a quoted triple on line ${n.line+1} was already defined before`)),O.components[O.currentComponent]=w}else{const O=this.prefixVariableQuestionMark?"?"+h:h;f[O]=w}y=void 0}r.pop()}),n.on("text",_=>{this.stackBeginsWith(r,["sparql","results","result","binding"])&&r[r.length-1]===y&&(m=_)});const v=i.on("end",_=>{l?u||v.emit("variables",[]):v.emit("error",new Error("No valid SPARQL query results were found."))}).pipe(new o.Transform({objectMode:!0,transform(_,w,O){n.write(_),O()}}));return v}parseXmlBooleanStream(i){return new Promise((t,n)=>{const r=new a.SaxesParser,u=[];r.on("error",n),r.on("opentag",l=>{u.push(l.name)}),r.on("closetag",l=>{u.pop()}),r.on("text",l=>{this.stackEquals(u,["sparql","boolean"])&&t(l==="true")}),i.on("error",n).on("data",l=>r.write(l)).on("end",()=>n(new Error("No valid ASK response was found.")))})}stackEquals(i,t){return i.length===t.length&&i.every((n,r)=>t[r]===n)}stackBeginsWith(i,t){return i.length>=t.length&&t.every((n,r)=>i[r]===n)}}},48758:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(97969),e)},48767:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermSha256=void 0;const c=s(77617),a=s(77545),o=s(36706);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.SparqlOperator.SHA256],termFunction:!0})}async run(n){return new o.TermFunctionSha256}}e.ActorFunctionFactoryTermSha256=i},48904:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermStrLang=void 0;const c=s(77617),a=s(77545),o=s(21115);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.SparqlOperator.STRLANG],termFunction:!0})}async run(n){return new o.TermFunctionStrLang}}e.ActorFunctionFactoryTermStrLang=i},48952:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(30626),e)},49060:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(64212),e)},49176:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermStrBefore=void 0;const c=s(77617),a=s(77545),o=s(19831);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.SparqlOperator.STRBEFORE],termFunction:!0})}async run(n){return new o.TermFunctionStrBefore}}e.ActorFunctionFactoryTermStrBefore=i},49251:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.stringQuadToQuad=e.quadToStringQuad=e.stringToTerm=e.getLiteralLanguage=e.getLiteralType=e.getLiteralValue=e.termToString=void 0;const c=new(s(47793)).DataFactory;function a(r){if(r)switch(r.termType){case"NamedNode":case"DefaultGraph":return r.value;case"BlankNode":return"_:"+r.value;case"Literal":const u=r;return'"'+u.value+'"'+(u.datatype&&u.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&u.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?"^^"+u.datatype.value:"")+(u.language?"@"+u.language:"");case"Quad":return`<<${a(r.subject)} ${a(r.predicate)} ${a(r.object)}${r.graph.termType==="DefaultGraph"?"":" "+a(r.graph)}>>`;case"Variable":return"?"+r.value}}function o(r){const u=/^"([^]*)"/.exec(r);if(!u)throw new Error(r+" is not a literal");return u[1]}function i(r){const u=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(r);if(!u)throw new Error(r+" is not a literal");return u[1]||(u[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}function t(r){const u=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(r);if(!u)throw new Error(r+" is not a literal");return u[1]?u[1].toLowerCase():""}function n(r,u){if(u=u||c,!r||!r.length)return u.defaultGraph();switch(r[0]){case"_":return u.blankNode(r.substr(2));case"?":if(!u.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return u.variable(r.substr(1));case'"':const l=t(r),d=u.namedNode(i(r));return u.literal(o(r),l||d);default:if(r[0]==="<"&&r.length>4&&r[1]==="<"&&r[r.length-1]===">"&&r[r.length-2]===">"){const p=r.slice(2,-2).trim();let f=[],h=0,y=0,m=!1;for(let b=0;b<p.length;b++){const v=p[b];if(v==="<"&&h++,v===">"){if(h===0)throw new Error("Found closing tag without opening tag in "+r);h--}if(v==='"'){let _=!1,w=b;for(;w-- >0&&p[w]==="\\";)_=!_;_||(m=!m)}if(v===" "&&!m&&h===0){for(f.push(p.slice(y,b));p[b+1]===" ";)b+=1;y=b+1}}if(h!==0)throw new Error("Found opening tag without closing tag in "+r);if(f.push(p.slice(y,p.length)),f.length!==3&&f.length!==4)throw new Error("Nested quad syntax error "+r);return f=f.map(b=>b.startsWith("<")&&!b.includes(" ")?b.slice(1,-1):b),u.quad(n(f[0]),n(f[1]),n(f[2]),f[3]?n(f[3]):void 0)}return u.namedNode(r)}}e.termToString=a,e.getLiteralValue=o,e.getLiteralType=i,e.getLiteralLanguage=t,e.stringToTerm=n,e.quadToStringQuad=function(r){return{subject:a(r.subject),predicate:a(r.predicate),object:a(r.object),graph:a(r.graph)}},e.stringQuadToQuad=function(r,u){return(u=u||c).quad(n(r.subject,u),n(r.predicate,u),n(r.object,u),n(r.graph,u))}},49562:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionYear=void 0;const c=s(77617),a=s(77545);class o extends c.TermFunctionBase{constructor(){super({arity:1,operator:a.SparqlOperator.YEAR,overloads:(0,a.declare)(a.SparqlOperator.YEAR).onDateTime1(()=>t=>(0,a.integer)(t.typedValue.year)).set([a.TypeURL.XSD_DATE],()=>([t])=>(0,a.integer)(t.typedValue.year)).collect()})}}e.TermFunctionYear=o},49568:(g,e,s)=>{s.r(e),s.d(e,{Collection:()=>T,Iterable:()=>Kt,List:()=>jn,Map:()=>nn,OrderedMap:()=>br,OrderedSet:()=>Fn,PairSorting:()=>nt,Range:()=>ao,Record:()=>et,Repeat:()=>fe,Seq:()=>de,Set:()=>jr,Stack:()=>Pr,default:()=>Zn,fromJS:()=>Nr,get:()=>qr,getIn:()=>Yi,has:()=>Jt,hasIn:()=>wi,hash:()=>ce,is:()=>Se,isAssociative:()=>A,isCollection:()=>b,isImmutable:()=>$,isIndexed:()=>O,isKeyed:()=>_,isList:()=>mr,isMap:()=>le,isOrdered:()=>U,isOrderedMap:()=>_e,isOrderedSet:()=>un,isPlainObject:()=>Gt,isRecord:()=>B,isSeq:()=>V,isSet:()=>kt,isStack:()=>Ut,isValueObject:()=>we,merge:()=>Ct,mergeDeep:()=>Gi,mergeDeepWith:()=>rn,mergeWith:()=>$i,remove:()=>fn,removeIn:()=>Qi,set:()=>Wt,setIn:()=>hn,update:()=>Ur,updateIn:()=>qt,version:()=>Oi});var c="delete",a=32,o=31,i={};function t(x){x&&(x.value=!0)}function n(){}function r(x){return x.size===void 0&&(x.size=x.__iterate(l)),x.size}function u(x,N){if(typeof N!="number"){var F=N>>>0;if(""+F!==N||F===4294967295)return NaN;N=F}return N<0?r(x)+N:N}function l(){return!0}function d(x,N,F){return(x===0&&!y(x)||F!==void 0&&x<=-F)&&(N===void 0||F!==void 0&&N>=F)}function p(x,N){return h(x,N,0)}function f(x,N){return h(x,N,N)}function h(x,N,F){return x===void 0?F:y(x)?N===1/0?N:0|Math.max(0,N+x):N===void 0||N===x?x:0|Math.min(N,x)}function y(x){return x<0||x===0&&1/x==-1/0}var m="@@__IMMUTABLE_ITERABLE__@@";function b(x){return!!(x&&x[m])}var v="@@__IMMUTABLE_KEYED__@@";function _(x){return!!(x&&x[v])}var w="@@__IMMUTABLE_INDEXED__@@";function O(x){return!!(x&&x[w])}function A(x){return _(x)||O(x)}var T=function(x){return b(x)?x:de(x)},S=function(x){function N(F){return _(F)?F:xe(F)}return x&&(N.__proto__=x),N.prototype=Object.create(x&&x.prototype),N.prototype.constructor=N,N}(T),E=function(x){function N(F){return O(F)?F:ne(F)}return x&&(N.__proto__=x),N.prototype=Object.create(x&&x.prototype),N.prototype.constructor=N,N}(T),D=function(x){function N(F){return b(F)&&!A(F)?F:be(F)}return x&&(N.__proto__=x),N.prototype=Object.create(x&&x.prototype),N.prototype.constructor=N,N}(T);T.Keyed=S,T.Indexed=E,T.Set=D;var I="@@__IMMUTABLE_SEQ__@@";function V(x){return!!(x&&x[I])}var K="@@__IMMUTABLE_RECORD__@@";function B(x){return!!(x&&x[K])}function $(x){return b(x)||B(x)}var G="@@__IMMUTABLE_ORDERED__@@";function U(x){return!!(x&&x[G])}var W=typeof Symbol=="function"&&Symbol.iterator,ye="@@iterator",ve=W||ye,he=function(x){this.next=x};function q(x,N,F,Q){var H=x===0?N:x===1?F:[N,F];return Q?Q.value=H:Q={value:H,done:!1},Q}function L(){return{value:void 0,done:!0}}function R(x){return!!Array.isArray(x)||!!oe(x)}function k(x){return x&&typeof x.next=="function"}function X(x){var N=oe(x);return N&&N.call(x)}function oe(x){var N=x&&(W&&x[W]||x[ye]);if(typeof N=="function")return N}he.prototype.toString=function(){return"[Iterator]"},he.KEYS=0,he.VALUES=1,he.ENTRIES=2,he.prototype.inspect=he.prototype.toSource=function(){return this.toString()},he.prototype[ve]=function(){return this};var ee=Object.prototype.hasOwnProperty;function me(x){return!(!Array.isArray(x)&&typeof x!="string")||x&&typeof x=="object"&&Number.isInteger(x.length)&&x.length>=0&&(x.length===0?Object.keys(x).length===1:x.hasOwnProperty(x.length-1))}var de=function(x){function N(F){return F==null?P():$(F)?F.toSeq():function(Q){var H,Z,ue=te(Q);if(ue)return(Z=oe(H=Q))&&Z===H.entries?ue.fromEntrySeq():function(Ie){var Me=oe(Ie);return Me&&Me===Ie.keys}(Q)?ue.toSetSeq():ue;if(typeof Q=="object")return new ge(Q);throw new TypeError("Expected Array or collection object of values, or keyed object: "+Q)}(F)}return x&&(N.__proto__=x),N.prototype=Object.create(x&&x.prototype),N.prototype.constructor=N,N.prototype.toSeq=function(){return this},N.prototype.toString=function(){return this.__toString("Seq {","}")},N.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},N.prototype.__iterate=function(F,Q){var H=this._cache;if(H){for(var Z=H.length,ue=0;ue!==Z;){var Ie=H[Q?Z-++ue:ue++];if(F(Ie[1],Ie[0],this)===!1)break}return ue}return this.__iterateUncached(F,Q)},N.prototype.__iterator=function(F,Q){var H=this._cache;if(H){var Z=H.length,ue=0;return new he(function(){if(ue===Z)return{value:void 0,done:!0};var Ie=H[Q?Z-++ue:ue++];return q(F,Ie[0],Ie[1])})}return this.__iteratorUncached(F,Q)},N}(T),xe=function(x){function N(F){return F==null?P().toKeyedSeq():b(F)?_(F)?F.toSeq():F.fromEntrySeq():B(F)?F.toSeq():C(F)}return x&&(N.__proto__=x),N.prototype=Object.create(x&&x.prototype),N.prototype.constructor=N,N.prototype.toKeyedSeq=function(){return this},N}(de),ne=function(x){function N(F){return F==null?P():b(F)?_(F)?F.entrySeq():F.toIndexedSeq():B(F)?F.toSeq().entrySeq():z(F)}return x&&(N.__proto__=x),N.prototype=Object.create(x&&x.prototype),N.prototype.constructor=N,N.of=function(){return N(arguments)},N.prototype.toIndexedSeq=function(){return this},N.prototype.toString=function(){return this.__toString("Seq [","]")},N}(de),be=function(x){function N(F){return(b(F)&&!A(F)?F:ne(F)).toSetSeq()}return x&&(N.__proto__=x),N.prototype=Object.create(x&&x.prototype),N.prototype.constructor=N,N.of=function(){return N(arguments)},N.prototype.toSetSeq=function(){return this},N}(de);de.isSeq=V,de.Keyed=xe,de.Set=be,de.Indexed=ne,de.prototype[I]=!0;var ie=function(x){function N(F){this._array=F,this.size=F.length}return x&&(N.__proto__=x),N.prototype=Object.create(x&&x.prototype),N.prototype.constructor=N,N.prototype.get=function(F,Q){return this.has(F)?this._array[u(this,F)]:Q},N.prototype.__iterate=function(F,Q){for(var H=this._array,Z=H.length,ue=0;ue!==Z;){var Ie=Q?Z-++ue:ue++;if(F(H[Ie],Ie,this)===!1)break}return ue},N.prototype.__iterator=function(F,Q){var H=this._array,Z=H.length,ue=0;return new he(function(){if(ue===Z)return{value:void 0,done:!0};var Ie=Q?Z-++ue:ue++;return q(F,Ie,H[Ie])})},N}(ne),ge=function(x){function N(F){var Q=Object.keys(F).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(F):[]);this._object=F,this._keys=Q,this.size=Q.length}return x&&(N.__proto__=x),N.prototype=Object.create(x&&x.prototype),N.prototype.constructor=N,N.prototype.get=function(F,Q){return Q===void 0||this.has(F)?this._object[F]:Q},N.prototype.has=function(F){return ee.call(this._object,F)},N.prototype.__iterate=function(F,Q){for(var H=this._object,Z=this._keys,ue=Z.length,Ie=0;Ie!==ue;){var Me=Z[Q?ue-++Ie:Ie++];if(F(H[Me],Me,this)===!1)break}return Ie},N.prototype.__iterator=function(F,Q){var H=this._object,Z=this._keys,ue=Z.length,Ie=0;return new he(function(){if(Ie===ue)return{value:void 0,done:!0};var Me=Z[Q?ue-++Ie:Ie++];return q(F,Me,H[Me])})},N}(xe);ge.prototype[G]=!0;var Ee,M=function(x){function N(F){this._collection=F,this.size=F.length||F.size}return x&&(N.__proto__=x),N.prototype=Object.create(x&&x.prototype),N.prototype.constructor=N,N.prototype.__iterateUncached=function(F,Q){if(Q)return this.cacheResult().__iterate(F,Q);var H=X(this._collection),Z=0;if(k(H))for(var ue;!(ue=H.next()).done&&F(ue.value,Z++,this)!==!1;);return Z},N.prototype.__iteratorUncached=function(F,Q){if(Q)return this.cacheResult().__iterator(F,Q);var H=X(this._collection);if(!k(H))return new he(L);var Z=0;return new he(function(){var ue=H.next();return ue.done?ue:q(F,Z++,ue.value)})},N}(ne);function P(){return Ee||(Ee=new ie([]))}function C(x){var N=te(x);if(N)return N.fromEntrySeq();if(typeof x=="object")return new ge(x);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+x)}function z(x){var N=te(x);if(N)return N;throw new TypeError("Expected Array or collection object of values: "+x)}function te(x){return me(x)?new ie(x):R(x)?new M(x):void 0}var re="@@__IMMUTABLE_MAP__@@";function le(x){return!!(x&&x[re])}function _e(x){return le(x)&&U(x)}function we(x){return!!(x&&typeof x.equals=="function"&&typeof x.hashCode=="function")}function Se(x,N){if(x===N||x!=x&&N!=N)return!0;if(!x||!N)return!1;if(typeof x.valueOf=="function"&&typeof N.valueOf=="function"){if((x=x.valueOf())===(N=N.valueOf())||x!=x&&N!=N)return!0;if(!x||!N)return!1}return!!(we(x)&&we(N)&&x.equals(N))}var Pe=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(x,N){var F=65535&(x|=0),Q=65535&(N|=0);return F*Q+((x>>>16)*Q+F*(N>>>16)<<16>>>0)|0};function je(x){return x>>>1&1073741824|3221225471&x}var ae=Object.prototype.valueOf;function ce(x){if(x==null)return Le(x);if(typeof x.hashCode=="function")return je(x.hashCode(x));var N,F,Q,H=(N=x).valueOf!==ae&&typeof N.valueOf=="function"?N.valueOf(N):N;if(H==null)return Le(H);switch(typeof H){case"boolean":return H?1108378657:1108378656;case"number":return function(Z){if(Z!=Z||Z===1/0)return 0;var ue=0|Z;for(ue!==Z&&(ue^=4294967295*Z);Z>4294967295;)ue^=Z/=4294967295;return je(ue)}(H);case"string":return H.length>ht?((Q=Ne[F=H])===void 0&&(Q=ke(F),at===vt&&(at=0,Ne={}),at++,Ne[F]=Q),Q):ke(H);case"object":case"function":return function(Z){var ue;if(Ke&&(ue=Te.get(Z))!==void 0||(ue=Z[tt])!==void 0||!He&&((ue=Z.propertyIsEnumerable&&Z.propertyIsEnumerable[tt])!==void 0||(ue=function(Ie){if(Ie&&Ie.nodeType>0)switch(Ie.nodeType){case 1:return Ie.uniqueID;case 9:return Ie.documentElement&&Ie.documentElement.uniqueID}}(Z))!==void 0))return ue;if(ue=Ae(),Ke)Te.set(Z,ue);else{if(qe!==void 0&&qe(Z)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(He)Object.defineProperty(Z,tt,{enumerable:!1,configurable:!1,writable:!1,value:ue});else if(Z.propertyIsEnumerable!==void 0&&Z.propertyIsEnumerable===Z.constructor.prototype.propertyIsEnumerable)Z.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},Z.propertyIsEnumerable[tt]=ue;else{if(Z.nodeType===void 0)throw new Error("Unable to set a non-enumerable property on object.");Z[tt]=ue}}return ue}(H);case"symbol":return function(Z){var ue=it[Z];return ue!==void 0||(ue=Ae(),it[Z]=ue),ue}(H);default:if(typeof H.toString=="function")return ke(H.toString());throw new Error("Value type "+typeof H+" cannot be hashed.")}}function Le(x){return x===null?1108378658:1108378659}function ke(x){for(var N=0,F=0;F<x.length;F++)N=31*N+x.charCodeAt(F)|0;return je(N)}var qe=Object.isExtensible,He=function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}}();function Ae(){var x=++ut;return 1073741824&ut&&(ut=0),x}var Te,Ke=typeof WeakMap=="function";Ke&&(Te=new WeakMap);var it=Object.create(null),ut=0,tt="__immutablehash__";typeof Symbol=="function"&&(tt=Symbol(tt));var ht=16,vt=255,at=0,Ne={},j=function(x){function N(F,Q){this._iter=F,this._useKeys=Q,this.size=F.size}return x&&(N.__proto__=x),N.prototype=Object.create(x&&x.prototype),N.prototype.constructor=N,N.prototype.get=function(F,Q){return this._iter.get(F,Q)},N.prototype.has=function(F){return this._iter.has(F)},N.prototype.valueSeq=function(){return this._iter.valueSeq()},N.prototype.reverse=function(){var F=this,Q=Oe(this,!0);return this._useKeys||(Q.valueSeq=function(){return F._iter.toSeq().reverse()}),Q},N.prototype.map=function(F,Q){var H=this,Z=Fe(this,F,Q);return this._useKeys||(Z.valueSeq=function(){return H._iter.toSeq().map(F,Q)}),Z},N.prototype.__iterate=function(F,Q){var H=this;return this._iter.__iterate(function(Z,ue){return F(Z,ue,H)},Q)},N.prototype.__iterator=function(F,Q){return this._iter.__iterator(F,Q)},N}(xe);j.prototype[G]=!0;var Y=function(x){function N(F){this._iter=F,this.size=F.size}return x&&(N.__proto__=x),N.prototype=Object.create(x&&x.prototype),N.prototype.constructor=N,N.prototype.includes=function(F){return this._iter.includes(F)},N.prototype.__iterate=function(F,Q){var H=this,Z=0;return Q&&r(this),this._iter.__iterate(function(ue){return F(ue,Q?H.size-++Z:Z++,H)},Q)},N.prototype.__iterator=function(F,Q){var H=this,Z=this._iter.__iterator(1,Q),ue=0;return Q&&r(this),new he(function(){var Ie=Z.next();return Ie.done?Ie:q(F,Q?H.size-++ue:ue++,Ie.value,Ie)})},N}(ne),J=function(x){function N(F){this._iter=F,this.size=F.size}return x&&(N.__proto__=x),N.prototype=Object.create(x&&x.prototype),N.prototype.constructor=N,N.prototype.has=function(F){return this._iter.includes(F)},N.prototype.__iterate=function(F,Q){var H=this;return this._iter.__iterate(function(Z){return F(Z,Z,H)},Q)},N.prototype.__iterator=function(F,Q){var H=this._iter.__iterator(1,Q);return new he(function(){var Z=H.next();return Z.done?Z:q(F,Z.value,Z.value,Z)})},N}(be),pe=function(x){function N(F){this._iter=F,this.size=F.size}return x&&(N.__proto__=x),N.prototype=Object.create(x&&x.prototype),N.prototype.constructor=N,N.prototype.entrySeq=function(){return this._iter.toSeq()},N.prototype.__iterate=function(F,Q){var H=this;return this._iter.__iterate(function(Z){if(Z){Ye(Z);var ue=b(Z);return F(ue?Z.get(1):Z[1],ue?Z.get(0):Z[0],H)}},Q)},N.prototype.__iterator=function(F,Q){var H=this._iter.__iterator(1,Q);return new he(function(){for(;;){var Z=H.next();if(Z.done)return Z;var ue=Z.value;if(ue){Ye(ue);var Ie=b(ue);return q(F,Ie?ue.get(0):ue[0],Ie?ue.get(1):ue[1],Z)}}})},N}(xe);function Re(x){var N=dt(x);return N._iter=x,N.size=x.size,N.flip=function(){return x},N.reverse=function(){var F=x.reverse.apply(this);return F.flip=function(){return x.reverse()},F},N.has=function(F){return x.includes(F)},N.includes=function(F){return x.has(F)},N.cacheResult=pt,N.__iterateUncached=function(F,Q){var H=this;return x.__iterate(function(Z,ue){return F(ue,Z,H)!==!1},Q)},N.__iteratorUncached=function(F,Q){if(F===2){var H=x.__iterator(F,Q);return new he(function(){var Z=H.next();if(!Z.done){var ue=Z.value[0];Z.value[0]=Z.value[1],Z.value[1]=ue}return Z})}return x.__iterator(F===1?0:1,Q)},N}function Fe(x,N,F){var Q=dt(x);return Q.size=x.size,Q.has=function(H){return x.has(H)},Q.get=function(H,Z){var ue=x.get(H,i);return ue===i?Z:N.call(F,ue,H,x)},Q.__iterateUncached=function(H,Z){var ue=this;return x.__iterate(function(Ie,Me,Be){return H(N.call(F,Ie,Me,Be),Me,ue)!==!1},Z)},Q.__iteratorUncached=function(H,Z){var ue=x.__iterator(2,Z);return new he(function(){var Ie=ue.next();if(Ie.done)return Ie;var Me=Ie.value,Be=Me[0];return q(H,Be,N.call(F,Me[1],Be,x),Ie)})},Q}function Oe(x,N){var F=this,Q=dt(x);return Q._iter=x,Q.size=x.size,Q.reverse=function(){return x},x.flip&&(Q.flip=function(){var H=Re(x);return H.reverse=function(){return x.flip()},H}),Q.get=function(H,Z){return x.get(N?H:-1-H,Z)},Q.has=function(H){return x.has(N?H:-1-H)},Q.includes=function(H){return x.includes(H)},Q.cacheResult=pt,Q.__iterate=function(H,Z){var ue=this,Ie=0;return Z&&r(x),x.__iterate(function(Me,Be){return H(Me,N?Be:Z?ue.size-++Ie:Ie++,ue)},!Z)},Q.__iterator=function(H,Z){var ue=0;Z&&r(x);var Ie=x.__iterator(2,!Z);return new he(function(){var Me=Ie.next();if(Me.done)return Me;var Be=Me.value;return q(H,N?Be[0]:Z?F.size-++ue:ue++,Be[1],Me)})},Q}function De(x,N,F,Q){var H=dt(x);return Q&&(H.has=function(Z){var ue=x.get(Z,i);return ue!==i&&!!N.call(F,ue,Z,x)},H.get=function(Z,ue){var Ie=x.get(Z,i);return Ie!==i&&N.call(F,Ie,Z,x)?Ie:ue}),H.__iterateUncached=function(Z,ue){var Ie=this,Me=0;return x.__iterate(function(Be,Qe,We){if(N.call(F,Be,Qe,We))return Me++,Z(Be,Q?Qe:Me-1,Ie)},ue),Me},H.__iteratorUncached=function(Z,ue){var Ie=x.__iterator(2,ue),Me=0;return new he(function(){for(;;){var Be=Ie.next();if(Be.done)return Be;var Qe=Be.value,We=Qe[0],rt=Qe[1];if(N.call(F,rt,We,x))return q(Z,Q?We:Me++,rt,Be)}})},H}function Ue(x,N,F,Q){var H=x.size;if(d(N,F,H))return x;if(H===void 0&&(N<0||F<0))return Ue(x.toSeq().cacheResult(),N,F,Q);var Z,ue=p(N,H),Ie=f(F,H)-ue;Ie==Ie&&(Z=Ie<0?0:Ie);var Me=dt(x);return Me.size=Z===0?Z:x.size&&Z||void 0,!Q&&V(x)&&Z>=0&&(Me.get=function(Be,Qe){return(Be=u(this,Be))>=0&&Be<Z?x.get(Be+ue,Qe):Qe}),Me.__iterateUncached=function(Be,Qe){var We=this;if(Z===0)return 0;if(Qe)return this.cacheResult().__iterate(Be,Qe);var rt=0,lt=!0,ct=0;return x.__iterate(function(Qt,Xt){if(!lt||!(lt=rt++<ue))return ct++,Be(Qt,Q?Xt:ct-1,We)!==!1&&ct!==Z}),ct},Me.__iteratorUncached=function(Be,Qe){if(Z!==0&&Qe)return this.cacheResult().__iterator(Be,Qe);if(Z===0)return new he(L);var We=x.__iterator(Be,Qe),rt=0,lt=0;return new he(function(){for(;rt++<ue;)We.next();if(++lt>Z)return{value:void 0,done:!0};var ct=We.next();return Q||Be===1||ct.done?ct:q(Be,lt-1,Be===0?void 0:ct.value[1],ct)})},Me}function $e(x,N,F,Q){var H=dt(x);return H.__iterateUncached=function(Z,ue){var Ie=this;if(ue)return this.cacheResult().__iterate(Z,ue);var Me=!0,Be=0;return x.__iterate(function(Qe,We,rt){if(!Me||!(Me=N.call(F,Qe,We,rt)))return Be++,Z(Qe,Q?We:Be-1,Ie)}),Be},H.__iteratorUncached=function(Z,ue){var Ie=this;if(ue)return this.cacheResult().__iterator(Z,ue);var Me=x.__iterator(2,ue),Be=!0,Qe=0;return new he(function(){var We,rt,lt;do{if((We=Me.next()).done)return Q||Z===1?We:q(Z,Qe++,Z===0?void 0:We.value[1],We);var ct=We.value;rt=ct[0],lt=ct[1],Be&&(Be=N.call(F,lt,rt,Ie))}while(Be);return Z===2?We:q(Z,rt,lt,We)})},H}function Ge(x,N,F){var Q=dt(x);return Q.__iterateUncached=function(H,Z){if(Z)return this.cacheResult().__iterate(H,Z);var ue=0,Ie=!1;return function Me(Be,Qe){Be.__iterate(function(We,rt){return(!N||Qe<N)&&b(We)?Me(We,Qe+1):(ue++,H(We,F?rt:ue-1,Q)===!1&&(Ie=!0)),!Ie},Z)}(x,0),ue},Q.__iteratorUncached=function(H,Z){if(Z)return this.cacheResult().__iterator(H,Z);var ue=x.__iterator(H,Z),Ie=[],Me=0;return new he(function(){for(;ue;){var Be=ue.next();if(Be.done===!1){var Qe=Be.value;if(H===2&&(Qe=Qe[1]),N&&!(Ie.length<N)||!b(Qe))return F?Be:q(H,Me++,Qe,Be);Ie.push(ue),ue=Qe.__iterator(H,Z)}else ue=Ie.pop()}return{value:void 0,done:!0}})},Q}function Je(x,N,F){N||(N=Ot);var Q=_(x),H=0,Z=x.toSeq().map(function(ue,Ie){return[Ie,ue,H++,F?F(ue,Ie,x):ue]}).valueSeq().toArray();return Z.sort(function(ue,Ie){return N(ue[3],Ie[3])||ue[2]-Ie[2]}).forEach(Q?function(ue,Ie){Z[Ie].length=2}:function(ue,Ie){Z[Ie]=ue[1]}),Q?xe(Z):O(x)?ne(Z):be(Z)}function Ve(x,N,F){if(N||(N=Ot),F){var Q=x.toSeq().map(function(H,Z){return[H,F(H,Z,x)]}).reduce(function(H,Z){return Ze(N,H[1],Z[1])?Z:H});return Q&&Q[0]}return x.reduce(function(H,Z){return Ze(N,H,Z)?Z:H})}function Ze(x,N,F){var Q=x(F,N);return Q===0&&F!==N&&(F==null||F!=F)||Q>0}function st(x,N,F,Q){var H=dt(x),Z=new ie(F).map(function(ue){return ue.size});return H.size=Q?Z.max():Z.min(),H.__iterate=function(ue,Ie){for(var Me,Be=this.__iterator(1,Ie),Qe=0;!(Me=Be.next()).done&&ue(Me.value,Qe++,this)!==!1;);return Qe},H.__iteratorUncached=function(ue,Ie){var Me=F.map(function(We){return We=T(We),X(Ie?We.reverse():We)}),Be=0,Qe=!1;return new he(function(){var We;return Qe||(We=Me.map(function(rt){return rt.next()}),Qe=Q?We.every(function(rt){return rt.done}):We.some(function(rt){return rt.done})),Qe?{value:void 0,done:!0}:q(ue,Be++,N.apply(null,We.map(function(rt){return rt.value})))})},H}function ot(x,N){return x===N?x:V(x)?N:x.constructor(N)}function Ye(x){if(x!==Object(x))throw new TypeError("Expected [K, V] tuple: "+x)}function Lt(x){return _(x)?S:O(x)?E:D}function dt(x){return Object.create((_(x)?xe:O(x)?ne:be).prototype)}function pt(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):de.prototype.cacheResult.call(this)}function Ot(x,N){return x===void 0&&N===void 0?0:x===void 0?1:N===void 0?-1:x>N?1:x<N?-1:0}function yt(x,N){N=N||0;for(var F=Math.max(0,x.length-N),Q=new Array(F),H=0;H<F;H++)Q[H]=x[H+N];return Q}function hr(x,N){if(!x)throw new Error(N)}function Tt(x){hr(x!==1/0,"Cannot perform this action with an infinite size.")}function At(x){if(me(x)&&typeof x!="string")return x;if(U(x))return x.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+x)}Y.prototype.cacheResult=j.prototype.cacheResult=J.prototype.cacheResult=pe.prototype.cacheResult=pt;var Br=Object.prototype.toString;function Gt(x){if(!x||typeof x!="object"||Br.call(x)!=="[object Object]")return!1;var N=Object.getPrototypeOf(x);if(N===null)return!0;for(var F=N,Q=Object.getPrototypeOf(N);Q!==null;)F=Q,Q=Object.getPrototypeOf(F);return F===N}function It(x){return typeof x=="object"&&($(x)||Array.isArray(x)||Gt(x))}function or(x){try{return typeof x=="string"?JSON.stringify(x):String(x)}catch{return JSON.stringify(x)}}function Jt(x,N){return $(x)?x.has(N):It(x)&&ee.call(x,N)}function qr(x,N,F){return $(x)?x.get(N,F):Jt(x,N)?typeof x.get=="function"?x.get(N):x[N]:F}function yr(x){if(Array.isArray(x))return yt(x);var N={};for(var F in x)ee.call(x,F)&&(N[F]=x[F]);return N}function fn(x,N){if(!It(x))throw new TypeError("Cannot update non-data-structure value: "+x);if($(x)){if(!x.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+x);return x.remove(N)}if(!ee.call(x,N))return x;var F=yr(x);return Array.isArray(F)?F.splice(N,1):delete F[N],F}function Wt(x,N,F){if(!It(x))throw new TypeError("Cannot update non-data-structure value: "+x);if($(x)){if(!x.set)throw new TypeError("Cannot update immutable value without .set() method: "+x);return x.set(N,F)}if(ee.call(x,N)&&F===x[N])return x;var Q=yr(x);return Q[N]=F,Q}function qt(x,N,F,Q){Q||(Q=F,F=void 0);var H=tn($(x),x,At(N),0,F,Q);return H===i?F:H}function tn(x,N,F,Q,H,Z){var ue=N===i;if(Q===F.length){var Ie=ue?H:N,Me=Z(Ie);return Me===Ie?N:Me}if(!ue&&!It(N))throw new TypeError("Cannot update within non-data-structure value in path ["+F.slice(0,Q).map(or)+"]: "+N);var Be=F[Q],Qe=ue?i:qr(N,Be,i),We=tn(Qe===i?x:$(Qe),Qe,F,Q+1,H,Z);return We===Qe?N:We===i?fn(N,Be):Wt(ue?x?gr():{}:N,Be,We)}function hn(x,N,F){return qt(x,N,i,function(){return F})}function yi(x,N){return hn(this,x,N)}function Qi(x,N){return qt(x,N,function(){return i})}function Sr(x){return Qi(this,x)}function Ur(x,N,F,Q){return qt(x,[N],F,Q)}function xn(x,N,F){return arguments.length===1?x(this):Ur(this,x,N,F)}function Er(x,N,F){return qt(this,x,N,F)}function Vi(){for(var x=[],N=arguments.length;N--;)x[N]=arguments[N];return yn(this,x)}function Ha(x){for(var N=[],F=arguments.length-1;F-- >0;)N[F]=arguments[F+1];if(typeof x!="function")throw new TypeError("Invalid merger function: "+x);return yn(this,N,x)}function yn(x,N,F){for(var Q=[],H=0;H<N.length;H++){var Z=S(N[H]);Z.size!==0&&Q.push(Z)}return Q.length===0?x:x.toSeq().size!==0||x.__ownerID||Q.length!==1?x.withMutations(function(ue){for(var Ie=F?function(Be,Qe){Ur(ue,Qe,i,function(We){return We===i?Be:F(We,Be,Qe)})}:function(Be,Qe){ue.set(Qe,Be)},Me=0;Me<Q.length;Me++)Q[Me].forEach(Ie)}):x.constructor(Q[0])}function Ct(x){for(var N=[],F=arguments.length-1;F-- >0;)N[F]=arguments[F+1];return gn(x,N)}function $i(x,N){for(var F=[],Q=arguments.length-2;Q-- >0;)F[Q]=arguments[Q+2];return gn(N,F,x)}function Gi(x){for(var N=[],F=arguments.length-1;F-- >0;)N[F]=arguments[F+1];return Gn(x,N)}function rn(x,N){for(var F=[],Q=arguments.length-2;Q-- >0;)F[Q]=arguments[Q+2];return Gn(N,F,x)}function Gn(x,N,F){return gn(x,N,function(Q){return function H(Z,ue,Ie){return It(Z)&&It(ue)&&(Me=ue,Be=de(Z),Qe=de(Me),O(Be)===O(Qe)&&_(Be)===_(Qe))?gn(Z,[ue],H):Q?Q(Z,ue,Ie):ue;var Me,Be,Qe}}(F))}function gn(x,N,F){if(!It(x))throw new TypeError("Cannot merge into non-data-structure value: "+x);if($(x))return typeof F=="function"&&x.mergeWith?x.mergeWith.apply(x,[F].concat(N)):x.merge?x.merge.apply(x,N):x.concat.apply(x,N);for(var Q=Array.isArray(x),H=x,Z=Q?E:S,ue=Q?function(Me){H===x&&(H=yr(H)),H.push(Me)}:function(Me,Be){var Qe=ee.call(H,Be),We=Qe&&F?F(H[Be],Me,Be):Me;Qe&&We===H[Be]||(H===x&&(H=yr(H)),H[Be]=We)},Ie=0;Ie<N.length;Ie++)Z(N[Ie]).forEach(ue);return H}function gi(){for(var x=[],N=arguments.length;N--;)x[N]=arguments[N];return Gn(this,x)}function za(x){for(var N=[],F=arguments.length-1;F-- >0;)N[F]=arguments[F+1];return Gn(this,N,x)}function Qr(x){for(var N=[],F=arguments.length-1;F-- >0;)N[F]=arguments[F+1];return qt(this,x,gr(),function(Q){return gn(Q,N)})}function Hi(x){for(var N=[],F=arguments.length-1;F-- >0;)N[F]=arguments[F+1];return qt(this,x,gr(),function(Q){return Gn(Q,N)})}function An(x){var N=this.asMutable();return x(N),N.wasAltered()?N.__ensureOwner(this.__ownerID):this}function xr(){return this.__ownerID?this:this.__ensureOwner(new n)}function mn(){return this.__ensureOwner()}function Hn(){return this.__altered}var nn=function(x){function N(F){return F==null?gr():le(F)&&!U(F)?F:gr().withMutations(function(Q){var H=x(F);Tt(H.size),H.forEach(function(Z,ue){return Q.set(ue,Z)})})}return x&&(N.__proto__=x),N.prototype=Object.create(x&&x.prototype),N.prototype.constructor=N,N.of=function(){for(var F=[],Q=arguments.length;Q--;)F[Q]=arguments[Q];return gr().withMutations(function(H){for(var Z=0;Z<F.length;Z+=2){if(Z+1>=F.length)throw new Error("Missing value for key: "+F[Z]);H.set(F[Z],F[Z+1])}})},N.prototype.toString=function(){return this.__toString("Map {","}")},N.prototype.get=function(F,Q){return this._root?this._root.get(0,void 0,F,Q):Q},N.prototype.set=function(F,Q){return Xa(this,F,Q)},N.prototype.remove=function(F){return Xa(this,F,i)},N.prototype.deleteAll=function(F){var Q=T(F);return Q.size===0?this:this.withMutations(function(H){Q.forEach(function(Z){return H.remove(Z)})})},N.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):gr()},N.prototype.sort=function(F){return br(Je(this,F))},N.prototype.sortBy=function(F,Q){return br(Je(this,Q,F))},N.prototype.map=function(F,Q){var H=this;return this.withMutations(function(Z){Z.forEach(function(ue,Ie){Z.set(Ie,F.call(Q,ue,Ie,H))})})},N.prototype.__iterator=function(F,Q){return new Do(this,F,Q)},N.prototype.__iterate=function(F,Q){var H=this,Z=0;return this._root&&this._root.iterate(function(ue){return Z++,F(ue[1],ue[0],H)},Q),Z},N.prototype.__ensureOwner=function(F){return F===this.__ownerID?this:F?an(this.size,this._root,F,this.__hash):this.size===0?gr():(this.__ownerID=F,this.__altered=!1,this)},N}(S);nn.isMap=le;var _t=nn.prototype;_t[re]=!0,_t[c]=_t.remove,_t.removeAll=_t.deleteAll,_t.setIn=yi,_t.removeIn=_t.deleteIn=Sr,_t.update=xn,_t.updateIn=Er,_t.merge=_t.concat=Vi,_t.mergeWith=Ha,_t.mergeDeep=gi,_t.mergeDeepWith=za,_t.mergeIn=Qr,_t.mergeDeepIn=Hi,_t.withMutations=An,_t.wasAltered=Hn,_t.asImmutable=mn,_t["@@transducer/init"]=_t.asMutable=xr,_t["@@transducer/step"]=function(x,N){return x.set(N[0],N[1])},_t["@@transducer/result"]=function(x){return x.asImmutable()};var bn=function(x,N){this.ownerID=x,this.entries=N};bn.prototype.get=function(x,N,F,Q){for(var H=this.entries,Z=0,ue=H.length;Z<ue;Z++)if(Se(F,H[Z][0]))return H[Z][1];return Q},bn.prototype.update=function(x,N,F,Q,H,Z,ue){for(var Ie=H===i,Me=this.entries,Be=0,Qe=Me.length;Be<Qe&&!Se(Q,Me[Be][0]);Be++);var We=Be<Qe;if(We?Me[Be][1]===H:Ie)return this;if(t(ue),(Ie||!We)&&t(Z),!Ie||Me.length!==1){if(!We&&!Ie&&Me.length>=Fo)return function(ct,Qt,Xt,Xr){ct||(ct=new n);for(var Mt=new pr(ct,ce(Xt),[Xt,Xr]),fr=0;fr<Qt.length;fr++){var Rr=Qt[fr];Mt=Mt.update(ct,0,void 0,Rr[0],Rr[1])}return Mt}(x,Me,Q,H);var rt=x&&x===this.ownerID,lt=rt?Me:yt(Me);return We?Ie?Be===Qe-1?lt.pop():lt[Be]=lt.pop():lt[Be]=[Q,H]:lt.push([Q,H]),rt?(this.entries=lt,this):new bn(x,lt)}};var In=function(x,N,F){this.ownerID=x,this.bitmap=N,this.nodes=F};In.prototype.get=function(x,N,F,Q){N===void 0&&(N=ce(F));var H=1<<((x===0?N:N>>>x)&o),Z=this.bitmap;return(Z&H)===0?Q:this.nodes[Wa(Z&H-1)].get(x+5,N,F,Q)},In.prototype.update=function(x,N,F,Q,H,Z,ue){F===void 0&&(F=ce(Q));var Ie=(N===0?F:F>>>N)&o,Me=1<<Ie,Be=this.bitmap,Qe=(Be&Me)!==0;if(!Qe&&H===i)return this;var We=Wa(Be&Me-1),rt=this.nodes,lt=Qe?rt[We]:void 0,ct=bi(lt,x,N+5,F,Q,H,Z,ue);if(ct===lt)return this;if(!Qe&&ct&&rt.length>=on)return function(Mt,fr,Rr,Sn,Dr){for(var Jr=0,vr=new Array(a),Wr=0;Rr!==0;Wr++,Rr>>>=1)vr[Wr]=1&Rr?fr[Jr++]:void 0;return vr[Sn]=Dr,new Pn(Mt,Jr+1,vr)}(x,rt,Be,Ie,ct);if(Qe&&!ct&&rt.length===2&&Ja(rt[1^We]))return rt[1^We];if(Qe&&ct&&rt.length===1&&Ja(ct))return ct;var Qt=x&&x===this.ownerID,Xt=Qe?ct?Be:Be^Me:Be|Me,Xr=Qe?ct?$r(rt,We,ct,Qt):function(Mt,fr,Rr){var Sn=Mt.length-1;if(Rr&&fr===Sn)return Mt.pop(),Mt;for(var Dr=new Array(Sn),Jr=0,vr=0;vr<Sn;vr++)vr===fr&&(Jr=1),Dr[vr]=Mt[vr+Jr];return Dr}(rt,We,Qt):function(Mt,fr,Rr,Sn){var Dr=Mt.length+1;if(Sn&&fr+1===Dr)return Mt[fr]=Rr,Mt;for(var Jr=new Array(Dr),vr=0,Wr=0;Wr<Dr;Wr++)Wr===fr?(Jr[Wr]=Rr,vr=-1):Jr[Wr]=Mt[Wr+vr];return Jr}(rt,We,ct,Qt);return Qt?(this.bitmap=Xt,this.nodes=Xr,this):new In(x,Xt,Xr)};var Pn=function(x,N,F){this.ownerID=x,this.count=N,this.nodes=F};Pn.prototype.get=function(x,N,F,Q){N===void 0&&(N=ce(F));var H=(x===0?N:N>>>x)&o,Z=this.nodes[H];return Z?Z.get(x+5,N,F,Q):Q},Pn.prototype.update=function(x,N,F,Q,H,Z,ue){F===void 0&&(F=ce(Q));var Ie=(N===0?F:F>>>N)&o,Me=H===i,Be=this.nodes,Qe=Be[Ie];if(Me&&!Qe)return this;var We=bi(Qe,x,N+5,F,Q,H,Z,ue);if(We===Qe)return this;var rt=this.count;if(Qe){if(!We&&--rt<zn)return function(Qt,Xt,Xr,Mt){for(var fr=0,Rr=0,Sn=new Array(Xr),Dr=0,Jr=1,vr=Xt.length;Dr<vr;Dr++,Jr<<=1){var Wr=Xt[Dr];Wr!==void 0&&Dr!==Mt&&(fr|=Jr,Sn[Rr++]=Wr)}return new In(Qt,fr,Sn)}(x,Be,rt,Ie)}else rt++;var lt=x&&x===this.ownerID,ct=$r(Be,Ie,We,lt);return lt?(this.count=rt,this.nodes=ct,this):new Pn(x,rt,ct)};var Vr=function(x,N,F){this.ownerID=x,this.keyHash=N,this.entries=F};Vr.prototype.get=function(x,N,F,Q){for(var H=this.entries,Z=0,ue=H.length;Z<ue;Z++)if(Se(F,H[Z][0]))return H[Z][1];return Q},Vr.prototype.update=function(x,N,F,Q,H,Z,ue){F===void 0&&(F=ce(Q));var Ie=H===i;if(F!==this.keyHash)return Ie?this:(t(ue),t(Z),vn(this,x,N,F,[Q,H]));for(var Me=this.entries,Be=0,Qe=Me.length;Be<Qe&&!Se(Q,Me[Be][0]);Be++);var We=Be<Qe;if(We?Me[Be][1]===H:Ie)return this;if(t(ue),(Ie||!We)&&t(Z),Ie&&Qe===2)return new pr(x,this.keyHash,Me[1^Be]);var rt=x&&x===this.ownerID,lt=rt?Me:yt(Me);return We?Ie?Be===Qe-1?lt.pop():lt[Be]=lt.pop():lt[Be]=[Q,H]:lt.push([Q,H]),rt?(this.entries=lt,this):new Vr(x,this.keyHash,lt)};var pr=function(x,N,F){this.ownerID=x,this.keyHash=N,this.entry=F};pr.prototype.get=function(x,N,F,Q){return Se(F,this.entry[0])?this.entry[1]:Q},pr.prototype.update=function(x,N,F,Q,H,Z,ue){var Ie=H===i,Me=Se(Q,this.entry[0]);return(Me?H===this.entry[1]:Ie)?this:(t(ue),Ie?void t(Z):Me?x&&x===this.ownerID?(this.entry[1]=H,this):new pr(x,this.keyHash,[Q,H]):(t(Z),vn(this,x,N,ce(Q),[Q,H])))},bn.prototype.iterate=Vr.prototype.iterate=function(x,N){for(var F=this.entries,Q=0,H=F.length-1;Q<=H;Q++)if(x(F[N?H-Q:Q])===!1)return!1},In.prototype.iterate=Pn.prototype.iterate=function(x,N){for(var F=this.nodes,Q=0,H=F.length-1;Q<=H;Q++){var Z=F[N?H-Q:Q];if(Z&&Z.iterate(x,N)===!1)return!1}},pr.prototype.iterate=function(x,N){return x(this.entry)};var Ka,Do=function(x){function N(F,Q,H){this._type=Q,this._reverse=H,this._stack=F._root&&mi(F._root)}return x&&(N.__proto__=x),N.prototype=Object.create(x&&x.prototype),N.prototype.constructor=N,N.prototype.next=function(){for(var F=this._type,Q=this._stack;Q;){var H=Q.node,Z=Q.index++,ue=void 0;if(H.entry){if(Z===0)return zi(F,H.entry)}else if(H.entries){if(Z<=(ue=H.entries.length-1))return zi(F,H.entries[this._reverse?ue-Z:Z])}else if(Z<=(ue=H.nodes.length-1)){var Ie=H.nodes[this._reverse?ue-Z:Z];if(Ie){if(Ie.entry)return zi(F,Ie.entry);Q=this._stack=mi(Ie,Q)}continue}Q=this._stack=this._stack.__prev}return{value:void 0,done:!0}},N}(he);function zi(x,N){return q(x,N[0],N[1])}function mi(x,N){return{node:x,index:0,__prev:N}}function an(x,N,F,Q){var H=Object.create(_t);return H.size=x,H._root=N,H.__ownerID=F,H.__hash=Q,H.__altered=!1,H}function gr(){return Ka||(Ka=an(0))}function Xa(x,N,F){var Q,H;if(x._root){var Z={value:!1},ue={value:!1};if(Q=bi(x._root,x.__ownerID,0,void 0,N,F,Z,ue),!ue.value)return x;H=x.size+(Z.value?F===i?-1:1:0)}else{if(F===i)return x;H=1,Q=new bn(x.__ownerID,[[N,F]])}return x.__ownerID?(x.size=H,x._root=Q,x.__hash=void 0,x.__altered=!0,x):Q?an(H,Q):gr()}function bi(x,N,F,Q,H,Z,ue,Ie){return x?x.update(N,F,Q,H,Z,ue,Ie):Z===i?x:(t(Ie),t(ue),new pr(N,Q,[H,Z]))}function Ja(x){return x.constructor===pr||x.constructor===Vr}function vn(x,N,F,Q,H){if(x.keyHash===Q)return new Vr(N,Q,[x.entry,H]);var Z,ue=(F===0?x.keyHash:x.keyHash>>>F)&o,Ie=(F===0?Q:Q>>>F)&o,Me=ue===Ie?[vn(x,N,F+5,Q,H)]:(Z=new pr(N,Q,H),ue<Ie?[x,Z]:[Z,x]);return new In(N,1<<ue|1<<Ie,Me)}function Wa(x){return x=(x=(858993459&(x-=x>>1&1431655765))+(x>>2&858993459))+(x>>4)&252645135,127&(x+=x>>8)+(x>>16)}function $r(x,N,F,Q){var H=Q?x:yt(x);return H[N]=F,H}var Fo=8,on=16,zn=8,vi="@@__IMMUTABLE_LIST__@@";function mr(x){return!!(x&&x[vi])}var jn=function(x){function N(F){var Q=Ki();if(F==null)return Q;if(mr(F))return F;var H=x(F),Z=H.size;return Z===0?Q:(Tt(Z),Z>0&&Z<a?_n(0,Z,5,null,new sn(H.toArray())):Q.withMutations(function(ue){ue.setSize(Z),H.forEach(function(Ie,Me){return ue.set(Me,Ie)})}))}return x&&(N.__proto__=x),N.prototype=Object.create(x&&x.prototype),N.prototype.constructor=N,N.of=function(){return this(arguments)},N.prototype.toString=function(){return this.__toString("List [","]")},N.prototype.get=function(F,Q){if((F=u(this,F))>=0&&F<this.size){var H=eo(this,F+=this._origin);return H&&H.array[F&o]}return Q},N.prototype.set=function(F,Q){return function(H,Z,ue){if((Z=u(H,Z))!=Z)return H;if(Z>=H.size||Z<0)return H.withMutations(function(Qe){Z<0?Ar(Qe,Z).set(0,ue):Ar(Qe,0,Z+1).set(Z,ue)});Z+=H._origin;var Ie=H._tail,Me=H._root,Be={value:!1};return Z>=Xn(H._capacity)?Ie=Za(Ie,H.__ownerID,0,Z,ue,Be):Me=Za(Me,H.__ownerID,H._level,Z,ue,Be),Be.value?H.__ownerID?(H._root=Me,H._tail=Ie,H.__hash=void 0,H.__altered=!0,H):_n(H._origin,H._capacity,H._level,Me,Ie):H}(this,F,Q)},N.prototype.remove=function(F){return this.has(F)?F===0?this.shift():F===this.size-1?this.pop():this.splice(F,1):this},N.prototype.insert=function(F,Q){return this.splice(F,0,Q)},N.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=5,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):Ki()},N.prototype.push=function(){var F=arguments,Q=this.size;return this.withMutations(function(H){Ar(H,0,Q+F.length);for(var Z=0;Z<F.length;Z++)H.set(Q+Z,F[Z])})},N.prototype.pop=function(){return Ar(this,0,-1)},N.prototype.unshift=function(){var F=arguments;return this.withMutations(function(Q){Ar(Q,-F.length);for(var H=0;H<F.length;H++)Q.set(H,F[H])})},N.prototype.shift=function(){return Ar(this,1)},N.prototype.concat=function(){for(var F=arguments,Q=[],H=0;H<arguments.length;H++){var Z=F[H],ue=x(typeof Z!="string"&&R(Z)?Z:[Z]);ue.size!==0&&Q.push(ue)}return Q.length===0?this:this.size!==0||this.__ownerID||Q.length!==1?this.withMutations(function(Ie){Q.forEach(function(Me){return Me.forEach(function(Be){return Ie.push(Be)})})}):this.constructor(Q[0])},N.prototype.setSize=function(F){return Ar(this,0,F)},N.prototype.map=function(F,Q){var H=this;return this.withMutations(function(Z){for(var ue=0;ue<H.size;ue++)Z.set(ue,F.call(Q,Z.get(ue),ue,H))})},N.prototype.slice=function(F,Q){var H=this.size;return d(F,Q,H)?this:Ar(this,p(F,H),f(Q,H))},N.prototype.__iterator=function(F,Q){var H=Q?this.size:0,Z=_i(this,Q);return new he(function(){var ue=Z();return ue===Nn?{value:void 0,done:!0}:q(F,Q?--H:H++,ue)})},N.prototype.__iterate=function(F,Q){for(var H,Z=Q?this.size:0,ue=_i(this,Q);(H=ue())!==Nn&&F(H,Q?--Z:Z++,this)!==!1;);return Z},N.prototype.__ensureOwner=function(F){return F===this.__ownerID?this:F?_n(this._origin,this._capacity,this._level,this._root,this._tail,F,this.__hash):this.size===0?Ki():(this.__ownerID=F,this.__altered=!1,this)},N}(E);jn.isList=mr;var Ft=jn.prototype;Ft[vi]=!0,Ft[c]=Ft.remove,Ft.merge=Ft.concat,Ft.setIn=yi,Ft.deleteIn=Ft.removeIn=Sr,Ft.update=xn,Ft.updateIn=Er,Ft.mergeIn=Qr,Ft.mergeDeepIn=Hi,Ft.withMutations=An,Ft.wasAltered=Hn,Ft.asImmutable=mn,Ft["@@transducer/init"]=Ft.asMutable=xr,Ft["@@transducer/step"]=function(x,N){return x.push(N)},Ft["@@transducer/result"]=function(x){return x.asImmutable()};var sn=function(x,N){this.array=x,this.ownerID=N};sn.prototype.removeBefore=function(x,N,F){if(F===N?1<<N:this.array.length===0)return this;var Q=F>>>N&o;if(Q>=this.array.length)return new sn([],x);var H,Z=Q===0;if(N>0){var ue=this.array[Q];if((H=ue&&ue.removeBefore(x,N-5,F))===ue&&Z)return this}if(Z&&!H)return this;var Ie=Kn(this,x);if(!Z)for(var Me=0;Me<Q;Me++)Ie.array[Me]=void 0;return H&&(Ie.array[Q]=H),Ie},sn.prototype.removeAfter=function(x,N,F){if(F===(N?1<<N:0)||this.array.length===0)return this;var Q,H=F-1>>>N&o;if(H>=this.array.length)return this;if(N>0){var Z=this.array[H];if((Q=Z&&Z.removeAfter(x,N-5,F))===Z&&H===this.array.length-1)return this}var ue=Kn(this,x);return ue.array.splice(H+1),Q&&(ue.array[H]=Q),ue};var Ya,Nn={};function _i(x,N){var F=x._origin,Q=x._capacity,H=Xn(Q),Z=x._tail;return function ue(Ie,Me,Be){return Me===0?function(Qe,We){var rt=We===H?Z&&Z.array:Qe&&Qe.array,lt=We>F?0:F-We,ct=Q-We;return ct>a&&(ct=a),function(){if(lt===ct)return Nn;var Qt=N?--ct:lt++;return rt&&rt[Qt]}}(Ie,Be):function(Qe,We,rt){var lt,ct=Qe&&Qe.array,Qt=rt>F?0:F-rt>>We,Xt=1+(Q-rt>>We);return Xt>a&&(Xt=a),function(){for(;;){if(lt){var Xr=lt();if(Xr!==Nn)return Xr;lt=null}if(Qt===Xt)return Nn;var Mt=N?--Xt:Qt++;lt=ue(ct&&ct[Mt],We-5,rt+(Mt<<We))}}}(Ie,Me,Be)}(x._root,x._level,0)}function _n(x,N,F,Q,H,Z,ue){var Ie=Object.create(Ft);return Ie.size=N-x,Ie._origin=x,Ie._capacity=N,Ie._level=F,Ie._root=Q,Ie._tail=H,Ie.__ownerID=Z,Ie.__hash=ue,Ie.__altered=!1,Ie}function Ki(){return Ya||(Ya=_n(0,0,5))}function Za(x,N,F,Q,H,Z){var ue,Ie=Q>>>F&o,Me=x&&Ie<x.array.length;if(!Me&&H===void 0)return x;if(F>0){var Be=x&&x.array[Ie],Qe=Za(Be,N,F-5,Q,H,Z);return Qe===Be?x:((ue=Kn(x,N)).array[Ie]=Qe,ue)}return Me&&x.array[Ie]===H?x:(Z&&t(Z),ue=Kn(x,N),H===void 0&&Ie===ue.array.length-1?ue.array.pop():ue.array[Ie]=H,ue)}function Kn(x,N){return N&&x&&N===x.ownerID?x:new sn(x?x.array.slice():[],N)}function eo(x,N){if(N>=Xn(x._capacity))return x._tail;if(N<1<<x._level+5){for(var F=x._root,Q=x._level;F&&Q>0;)F=F.array[N>>>Q&o],Q-=5;return F}}function Ar(x,N,F){N!==void 0&&(N|=0),F!==void 0&&(F|=0);var Q=x.__ownerID||new n,H=x._origin,Z=x._capacity,ue=H+N,Ie=F===void 0?Z:F<0?Z+F:H+F;if(ue===H&&Ie===Z)return x;if(ue>=Ie)return x.clear();for(var Me=x._level,Be=x._root,Qe=0;ue+Qe<0;)Be=new sn(Be&&Be.array.length?[void 0,Be]:[],Q),Qe+=1<<(Me+=5);Qe&&(ue+=Qe,H+=Qe,Ie+=Qe,Z+=Qe);for(var We=Xn(Z),rt=Xn(Ie);rt>=1<<Me+5;)Be=new sn(Be&&Be.array.length?[Be]:[],Q),Me+=5;var lt=x._tail,ct=rt<We?eo(x,Ie-1):rt>We?new sn([],Q):lt;if(lt&&rt>We&&ue<Z&&lt.array.length){for(var Qt=Be=Kn(Be,Q),Xt=Me;Xt>5;Xt-=5){var Xr=We>>>Xt&o;Qt=Qt.array[Xr]=Kn(Qt.array[Xr],Q)}Qt.array[We>>>5&o]=lt}if(Ie<Z&&(ct=ct&&ct.removeAfter(Q,0,Ie)),ue>=rt)ue-=rt,Ie-=rt,Me=5,Be=null,ct=ct&&ct.removeBefore(Q,0,ue);else if(ue>H||rt<We){for(Qe=0;Be;){var Mt=ue>>>Me&o;if(Mt!==rt>>>Me&o)break;Mt&&(Qe+=(1<<Me)*Mt),Me-=5,Be=Be.array[Mt]}Be&&ue>H&&(Be=Be.removeBefore(Q,Me,ue-Qe)),Be&&rt<We&&(Be=Be.removeAfter(Q,Me,rt-Qe)),Qe&&(ue-=Qe,Ie-=Qe)}return x.__ownerID?(x.size=Ie-ue,x._origin=ue,x._capacity=Ie,x._level=Me,x._root=Be,x._tail=ct,x.__hash=void 0,x.__altered=!0,x):_n(ue,Ie,Me,Be,ct)}function Xn(x){return x<a?0:x-1>>>5<<5}var to,br=function(x){function N(F){return F==null?Ir():_e(F)?F:Ir().withMutations(function(Q){var H=S(F);Tt(H.size),H.forEach(function(Z,ue){return Q.set(ue,Z)})})}return x&&(N.__proto__=x),N.prototype=Object.create(x&&x.prototype),N.prototype.constructor=N,N.of=function(){return this(arguments)},N.prototype.toString=function(){return this.__toString("OrderedMap {","}")},N.prototype.get=function(F,Q){var H=this._map.get(F);return H!==void 0?this._list.get(H)[1]:Q},N.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):Ir()},N.prototype.set=function(F,Q){return no(this,F,Q)},N.prototype.remove=function(F){return no(this,F,i)},N.prototype.__iterate=function(F,Q){var H=this;return this._list.__iterate(function(Z){return Z&&F(Z[1],Z[0],H)},Q)},N.prototype.__iterator=function(F,Q){return this._list.fromEntrySeq().__iterator(F,Q)},N.prototype.__ensureOwner=function(F){if(F===this.__ownerID)return this;var Q=this._map.__ensureOwner(F),H=this._list.__ensureOwner(F);return F?ro(Q,H,F,this.__hash):this.size===0?Ir():(this.__ownerID=F,this.__altered=!1,this._map=Q,this._list=H,this)},N}(nn);function ro(x,N,F,Q){var H=Object.create(br.prototype);return H.size=x?x.size:0,H._map=x,H._list=N,H.__ownerID=F,H.__hash=Q,H.__altered=!1,H}function Ir(){return to||(to=ro(gr(),Ki()))}function no(x,N,F){var Q,H,Z=x._map,ue=x._list,Ie=Z.get(N),Me=Ie!==void 0;if(F===i){if(!Me)return x;ue.size>=a&&ue.size>=2*Z.size?(Q=(H=ue.filter(function(Be,Qe){return Be!==void 0&&Ie!==Qe})).toKeyedSeq().map(function(Be){return Be[0]}).flip().toMap(),x.__ownerID&&(Q.__ownerID=H.__ownerID=x.__ownerID)):(Q=Z.remove(N),H=Ie===ue.size-1?ue.pop():ue.set(Ie,void 0))}else if(Me){if(F===ue.get(Ie)[1])return x;Q=Z,H=ue.set(Ie,[N,F])}else Q=Z.set(N,ue.size),H=ue.set(ue.size,[N,F]);return x.__ownerID?(x.size=Q.size,x._map=Q,x._list=H,x.__hash=void 0,x.__altered=!0,x):ro(Q,H)}br.isOrderedMap=_e,br.prototype[G]=!0,br.prototype[c]=br.prototype.remove;var io="@@__IMMUTABLE_STACK__@@";function Ut(x){return!!(x&&x[io])}var Pr=function(x){function N(F){return F==null?wn():Ut(F)?F:wn().pushAll(F)}return x&&(N.__proto__=x),N.prototype=Object.create(x&&x.prototype),N.prototype.constructor=N,N.of=function(){return this(arguments)},N.prototype.toString=function(){return this.__toString("Stack [","]")},N.prototype.get=function(F,Q){var H=this._head;for(F=u(this,F);H&&F--;)H=H.next;return H?H.value:Q},N.prototype.peek=function(){return this._head&&this._head.value},N.prototype.push=function(){var F=arguments;if(arguments.length===0)return this;for(var Q=this.size+arguments.length,H=this._head,Z=arguments.length-1;Z>=0;Z--)H={value:F[Z],next:H};return this.__ownerID?(this.size=Q,this._head=H,this.__hash=void 0,this.__altered=!0,this):sr(Q,H)},N.prototype.pushAll=function(F){if((F=x(F)).size===0)return this;if(this.size===0&&Ut(F))return F;Tt(F.size);var Q=this.size,H=this._head;return F.__iterate(function(Z){Q++,H={value:Z,next:H}},!0),this.__ownerID?(this.size=Q,this._head=H,this.__hash=void 0,this.__altered=!0,this):sr(Q,H)},N.prototype.pop=function(){return this.slice(1)},N.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):wn()},N.prototype.slice=function(F,Q){if(d(F,Q,this.size))return this;var H=p(F,this.size);if(f(Q,this.size)!==this.size)return x.prototype.slice.call(this,F,Q);for(var Z=this.size-H,ue=this._head;H--;)ue=ue.next;return this.__ownerID?(this.size=Z,this._head=ue,this.__hash=void 0,this.__altered=!0,this):sr(Z,ue)},N.prototype.__ensureOwner=function(F){return F===this.__ownerID?this:F?sr(this.size,this._head,F,this.__hash):this.size===0?wn():(this.__ownerID=F,this.__altered=!1,this)},N.prototype.__iterate=function(F,Q){var H=this;if(Q)return new ie(this.toArray()).__iterate(function(Ie,Me){return F(Ie,Me,H)},Q);for(var Z=0,ue=this._head;ue&&F(ue.value,Z++,this)!==!1;)ue=ue.next;return Z},N.prototype.__iterator=function(F,Q){if(Q)return new ie(this.toArray()).__iterator(F,Q);var H=0,Z=this._head;return new he(function(){if(Z){var ue=Z.value;return Z=Z.next,q(F,H++,ue)}return{value:void 0,done:!0}})},N}(E);Pr.isStack=Ut;var Rn,gt=Pr.prototype;function sr(x,N,F,Q){var H=Object.create(gt);return H.size=x,H._head=N,H.__ownerID=F,H.__hash=Q,H.__altered=!1,H}function wn(){return Rn||(Rn=sr(0))}gt[io]=!0,gt.shift=gt.pop,gt.unshift=gt.push,gt.unshiftAll=gt.pushAll,gt.withMutations=An,gt.wasAltered=Hn,gt.asImmutable=mn,gt["@@transducer/init"]=gt.asMutable=xr,gt["@@transducer/step"]=function(x,N){return x.unshift(N)},gt["@@transducer/result"]=function(x){return x.asImmutable()};var Xi="@@__IMMUTABLE_SET__@@";function kt(x){return!!(x&&x[Xi])}function un(x){return kt(x)&&U(x)}function Tn(x,N){if(x===N)return!0;if(!b(N)||x.size!==void 0&&N.size!==void 0&&x.size!==N.size||x.__hash!==void 0&&N.__hash!==void 0&&x.__hash!==N.__hash||_(x)!==_(N)||O(x)!==O(N)||U(x)!==U(N))return!1;if(x.size===0&&N.size===0)return!0;var F=!A(x);if(U(x)){var Q=x.entries();return N.every(function(Me,Be){var Qe=Q.next().value;return Qe&&Se(Qe[1],Me)&&(F||Se(Qe[0],Be))})&&Q.next().done}var H=!1;if(x.size===void 0)if(N.size===void 0)typeof x.cacheResult=="function"&&x.cacheResult();else{H=!0;var Z=x;x=N,N=Z}var ue=!0,Ie=N.__iterate(function(Me,Be){if(F?!x.has(Me):H?!Se(Me,x.get(Be,i)):!Se(x.get(Be,i),Me))return ue=!1,!1});return ue&&x.size===Ie}function cn(x,N){var F=function(Q){x.prototype[Q]=N[Q]};return Object.keys(N).forEach(F),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(N).forEach(F),x}function Gr(x){if(!x||typeof x!="object")return x;if(!b(x)){if(!It(x))return x;x=de(x)}if(_(x)){var N={};return x.__iterate(function(Q,H){N[H]=Gr(Q)}),N}var F=[];return x.__iterate(function(Q){F.push(Gr(Q))}),F}var jr=function(x){function N(F){return F==null?ln():kt(F)&&!U(F)?F:ln().withMutations(function(Q){var H=x(F);Tt(H.size),H.forEach(function(Z){return Q.add(Z)})})}return x&&(N.__proto__=x),N.prototype=Object.create(x&&x.prototype),N.prototype.constructor=N,N.of=function(){return this(arguments)},N.fromKeys=function(F){return this(S(F).keySeq())},N.intersect=function(F){return(F=T(F).toArray()).length?St.intersect.apply(N(F.pop()),F):ln()},N.union=function(F){return(F=T(F).toArray()).length?St.union.apply(N(F.pop()),F):ln()},N.prototype.toString=function(){return this.__toString("Set {","}")},N.prototype.has=function(F){return this._map.has(F)},N.prototype.add=function(F){return Jn(this,this._map.set(F,F))},N.prototype.remove=function(F){return Jn(this,this._map.remove(F))},N.prototype.clear=function(){return Jn(this,this._map.clear())},N.prototype.map=function(F,Q){var H=this,Z=!1,ue=Jn(this,this._map.mapEntries(function(Ie){var Me=Ie[1],Be=F.call(Q,Me,Me,H);return Be!==Me&&(Z=!0),[Be,Be]},Q));return Z?ue:this},N.prototype.union=function(){for(var F=[],Q=arguments.length;Q--;)F[Q]=arguments[Q];return(F=F.filter(function(H){return H.size!==0})).length===0?this:this.size!==0||this.__ownerID||F.length!==1?this.withMutations(function(H){for(var Z=0;Z<F.length;Z++)typeof F[Z]=="string"?H.add(F[Z]):x(F[Z]).forEach(function(ue){return H.add(ue)})}):this.constructor(F[0])},N.prototype.intersect=function(){for(var F=[],Q=arguments.length;Q--;)F[Q]=arguments[Q];if(F.length===0)return this;F=F.map(function(Z){return x(Z)});var H=[];return this.forEach(function(Z){F.every(function(ue){return ue.includes(Z)})||H.push(Z)}),this.withMutations(function(Z){H.forEach(function(ue){Z.remove(ue)})})},N.prototype.subtract=function(){for(var F=[],Q=arguments.length;Q--;)F[Q]=arguments[Q];if(F.length===0)return this;F=F.map(function(Z){return x(Z)});var H=[];return this.forEach(function(Z){F.some(function(ue){return ue.includes(Z)})&&H.push(Z)}),this.withMutations(function(Z){H.forEach(function(ue){Z.remove(ue)})})},N.prototype.sort=function(F){return Fn(Je(this,F))},N.prototype.sortBy=function(F,Q){return Fn(Je(this,Q,F))},N.prototype.wasAltered=function(){return this._map.wasAltered()},N.prototype.__iterate=function(F,Q){var H=this;return this._map.__iterate(function(Z){return F(Z,Z,H)},Q)},N.prototype.__iterator=function(F,Q){return this._map.__iterator(F,Q)},N.prototype.__ensureOwner=function(F){if(F===this.__ownerID)return this;var Q=this._map.__ensureOwner(F);return F?this.__make(Q,F):this.size===0?this.__empty():(this.__ownerID=F,this._map=Q,this)},N}(D);jr.isSet=kt;var Ji,St=jr.prototype;function Jn(x,N){return x.__ownerID?(x.size=N.size,x._map=N,x):N===x._map?x:N.size===0?x.__empty():x.__make(N)}function Hr(x,N){var F=Object.create(St);return F.size=x?x.size:0,F._map=x,F.__ownerID=N,F}function ln(){return Ji||(Ji=Hr(gr()))}St[Xi]=!0,St[c]=St.remove,St.merge=St.concat=St.union,St.withMutations=An,St.asImmutable=mn,St["@@transducer/init"]=St.asMutable=xr,St["@@transducer/step"]=function(x,N){return x.add(N)},St["@@transducer/result"]=function(x){return x.asImmutable()},St.__empty=ln,St.__make=Hr;var Wi,ao=function(x){function N(F,Q,H){if(!(this instanceof N))return new N(F,Q,H);if(hr(H!==0,"Cannot step a Range by 0"),F=F||0,Q===void 0&&(Q=1/0),H=H===void 0?1:Math.abs(H),Q<F&&(H=-H),this._start=F,this._end=Q,this._step=H,this.size=Math.max(0,Math.ceil((Q-F)/H-1)+1),this.size===0){if(Wi)return Wi;Wi=this}}return x&&(N.__proto__=x),N.prototype=Object.create(x&&x.prototype),N.prototype.constructor=N,N.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"},N.prototype.get=function(F,Q){return this.has(F)?this._start+u(this,F)*this._step:Q},N.prototype.includes=function(F){var Q=(F-this._start)/this._step;return Q>=0&&Q<this.size&&Q===Math.floor(Q)},N.prototype.slice=function(F,Q){return d(F,Q,this.size)?this:(F=p(F,this.size),(Q=f(Q,this.size))<=F?new N(0,0):new N(this.get(F,this._end),this.get(Q,this._end),this._step))},N.prototype.indexOf=function(F){var Q=F-this._start;if(Q%this._step===0){var H=Q/this._step;if(H>=0&&H<this.size)return H}return-1},N.prototype.lastIndexOf=function(F){return this.indexOf(F)},N.prototype.__iterate=function(F,Q){for(var H=this.size,Z=this._step,ue=Q?this._start+(H-1)*Z:this._start,Ie=0;Ie!==H&&F(ue,Q?H-++Ie:Ie++,this)!==!1;)ue+=Q?-Z:Z;return Ie},N.prototype.__iterator=function(F,Q){var H=this.size,Z=this._step,ue=Q?this._start+(H-1)*Z:this._start,Ie=0;return new he(function(){if(Ie===H)return{value:void 0,done:!0};var Me=ue;return ue+=Q?-Z:Z,q(F,Q?H-++Ie:Ie++,Me)})},N.prototype.equals=function(F){return F instanceof N?this._start===F._start&&this._end===F._end&&this._step===F._step:Tn(this,F)},N}(ne);function Yi(x,N,F){for(var Q=At(N),H=0;H!==Q.length;)if((x=qr(x,Q[H++],i))===i)return F;return x}function Mo(x,N){return Yi(this,x,N)}function wi(x,N){return Yi(x,N,i)!==i}function oo(){Tt(this.size);var x={};return this.__iterate(function(N,F){x[F]=N}),x}T.isIterable=b,T.isKeyed=_,T.isIndexed=O,T.isAssociative=A,T.isOrdered=U,T.Iterator=he,cn(T,{toArray:function(){Tt(this.size);var x=new Array(this.size||0),N=_(this),F=0;return this.__iterate(function(Q,H){x[F++]=N?[H,Q]:Q}),x},toIndexedSeq:function(){return new Y(this)},toJS:function(){return Gr(this)},toKeyedSeq:function(){return new j(this,!0)},toMap:function(){return nn(this.toKeyedSeq())},toObject:oo,toOrderedMap:function(){return br(this.toKeyedSeq())},toOrderedSet:function(){return Fn(_(this)?this.valueSeq():this)},toSet:function(){return jr(_(this)?this.valueSeq():this)},toSetSeq:function(){return new J(this)},toSeq:function(){return O(this)?this.toIndexedSeq():_(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Pr(_(this)?this.valueSeq():this)},toList:function(){return jn(_(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(x,N){return this.size===0?x+N:x+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+N},concat:function(){for(var x=[],N=arguments.length;N--;)x[N]=arguments[N];return ot(this,function(F,Q){var H=_(F),Z=[F].concat(Q).map(function(Me){return b(Me)?H&&(Me=S(Me)):Me=H?C(Me):z(Array.isArray(Me)?Me:[Me]),Me}).filter(function(Me){return Me.size!==0});if(Z.length===0)return F;if(Z.length===1){var ue=Z[0];if(ue===F||H&&_(ue)||O(F)&&O(ue))return ue}var Ie=new ie(Z);return H?Ie=Ie.toKeyedSeq():O(F)||(Ie=Ie.toSetSeq()),(Ie=Ie.flatten(!0)).size=Z.reduce(function(Me,Be){if(Me!==void 0){var Qe=Be.size;if(Qe!==void 0)return Me+Qe}},0),Ie}(this,x))},includes:function(x){return this.some(function(N){return Se(N,x)})},entries:function(){return this.__iterator(2)},every:function(x,N){Tt(this.size);var F=!0;return this.__iterate(function(Q,H,Z){if(!x.call(N,Q,H,Z))return F=!1,!1}),F},filter:function(x,N){return ot(this,De(this,x,N,!0))},partition:function(x,N){return function(F,Q,H){var Z=_(F),ue=[[],[]];F.__iterate(function(Me,Be){ue[Q.call(H,Me,Be,F)?1:0].push(Z?[Be,Me]:Me)});var Ie=Lt(F);return ue.map(function(Me){return ot(F,Ie(Me))})}(this,x,N)},find:function(x,N,F){var Q=this.findEntry(x,N);return Q?Q[1]:F},forEach:function(x,N){return Tt(this.size),this.__iterate(N?x.bind(N):x)},join:function(x){Tt(this.size),x=x!==void 0?""+x:",";var N="",F=!0;return this.__iterate(function(Q){F?F=!1:N+=x,N+=Q!=null?Q.toString():""}),N},keys:function(){return this.__iterator(0)},map:function(x,N){return ot(this,Fe(this,x,N))},reduce:function(x,N,F){return Zi(this,x,N,F,arguments.length<2,!1)},reduceRight:function(x,N,F){return Zi(this,x,N,F,arguments.length<2,!0)},reverse:function(){return ot(this,Oe(this,!0))},slice:function(x,N){return ot(this,Ue(this,x,N,!0))},some:function(x,N){Tt(this.size);var F=!1;return this.__iterate(function(Q,H,Z){if(x.call(N,Q,H,Z))return F=!0,!1}),F},sort:function(x){return ot(this,Je(this,x))},values:function(){return this.__iterator(1)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(x,N){return r(x?this.toSeq().filter(x,N):this)},countBy:function(x,N){return function(F,Q,H){var Z=nn().asMutable();return F.__iterate(function(ue,Ie){Z.update(Q.call(H,ue,Ie,F),0,function(Me){return Me+1})}),Z.asImmutable()}(this,x,N)},equals:function(x){return Tn(this,x)},entrySeq:function(){var x=this;if(x._cache)return new ie(x._cache);var N=x.toSeq().map(Lo).toIndexedSeq();return N.fromEntrySeq=function(){return x.toSeq()},N},filterNot:function(x,N){return this.filter(Dn(x),N)},findEntry:function(x,N,F){var Q=F;return this.__iterate(function(H,Z,ue){if(x.call(N,H,Z,ue))return Q=[Z,H],!1}),Q},findKey:function(x,N){var F=this.findEntry(x,N);return F&&F[0]},findLast:function(x,N,F){return this.toKeyedSeq().reverse().find(x,N,F)},findLastEntry:function(x,N,F){return this.toKeyedSeq().reverse().findEntry(x,N,F)},findLastKey:function(x,N){return this.toKeyedSeq().reverse().findKey(x,N)},first:function(x){return this.find(l,null,x)},flatMap:function(x,N){return ot(this,function(F,Q,H){var Z=Lt(F);return F.toSeq().map(function(ue,Ie){return Z(Q.call(H,ue,Ie,F))}).flatten(!0)}(this,x,N))},flatten:function(x){return ot(this,Ge(this,x,!0))},fromEntrySeq:function(){return new pe(this)},get:function(x,N){return this.find(function(F,Q){return Se(Q,x)},void 0,N)},getIn:Mo,groupBy:function(x,N){return function(F,Q,H){var Z=_(F),ue=(U(F)?br():nn()).asMutable();F.__iterate(function(Me,Be){ue.update(Q.call(H,Me,Be,F),function(Qe){return(Qe=Qe||[]).push(Z?[Be,Me]:Me),Qe})});var Ie=Lt(F);return ue.map(function(Me){return ot(F,Ie(Me))}).asImmutable()}(this,x,N)},has:function(x){return this.get(x,i)!==i},hasIn:function(x){return wi(this,x)},isSubset:function(x){return x=typeof x.includes=="function"?x:T(x),this.every(function(N){return x.includes(N)})},isSuperset:function(x){return(x=typeof x.isSubset=="function"?x:T(x)).isSubset(this)},keyOf:function(x){return this.findKey(function(N){return Se(N,x)})},keySeq:function(){return this.toSeq().map(so).toIndexedSeq()},last:function(x){return this.toSeq().reverse().first(x)},lastKeyOf:function(x){return this.toKeyedSeq().reverse().keyOf(x)},max:function(x){return Ve(this,x)},maxBy:function(x,N){return Ve(this,N,x)},min:function(x){return Ve(this,x?uo(x):co)},minBy:function(x,N){return Ve(this,N?uo(N):co,x)},rest:function(){return this.slice(1)},skip:function(x){return x===0?this:this.slice(Math.max(0,x))},skipLast:function(x){return x===0?this:this.slice(0,-Math.max(0,x))},skipWhile:function(x,N){return ot(this,$e(this,x,N,!0))},skipUntil:function(x,N){return this.skipWhile(Dn(x),N)},sortBy:function(x,N){return ot(this,Je(this,N,x))},take:function(x){return this.slice(0,Math.max(0,x))},takeLast:function(x){return this.slice(-Math.max(0,x))},takeWhile:function(x,N){return ot(this,function(F,Q,H){var Z=dt(F);return Z.__iterateUncached=function(ue,Ie){var Me=this;if(Ie)return this.cacheResult().__iterate(ue,Ie);var Be=0;return F.__iterate(function(Qe,We,rt){return Q.call(H,Qe,We,rt)&&++Be&&ue(Qe,We,Me)}),Be},Z.__iteratorUncached=function(ue,Ie){var Me=this;if(Ie)return this.cacheResult().__iterator(ue,Ie);var Be=F.__iterator(2,Ie),Qe=!0;return new he(function(){if(!Qe)return{value:void 0,done:!0};var We=Be.next();if(We.done)return We;var rt=We.value,lt=rt[0],ct=rt[1];return Q.call(H,ct,lt,Me)?ue===2?We:q(ue,lt,ct,We):(Qe=!1,{value:void 0,done:!0})})},Z}(this,x,N))},takeUntil:function(x,N){return this.takeWhile(Dn(x),N)},update:function(x){return x(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(x){if(x.size===1/0)return 0;var N=U(x),F=_(x),Q=N?1:0;return function(H,Z){return Z=Pe(Z,3432918353),Z=Pe(Z<<15|Z>>>-15,461845907),Z=Pe(Z<<13|Z>>>-13,5),Z=Pe((Z=(Z+3864292196|0)^H)^Z>>>16,2246822507),Z=je((Z=Pe(Z^Z>>>13,3266489909))^Z>>>16)}(x.__iterate(F?N?function(H,Z){Q=31*Q+ta(ce(H),ce(Z))|0}:function(H,Z){Q=Q+ta(ce(H),ce(Z))|0}:N?function(H){Q=31*Q+ce(H)|0}:function(H){Q=Q+ce(H)|0}),Q)}(this))}});var Ht=T.prototype;Ht[m]=!0,Ht[ve]=Ht.values,Ht.toJSON=Ht.toArray,Ht.__toStringMapper=or,Ht.inspect=Ht.toSource=function(){return this.toString()},Ht.chain=Ht.flatMap,Ht.contains=Ht.includes,cn(S,{flip:function(){return ot(this,Re(this))},mapEntries:function(x,N){var F=this,Q=0;return ot(this,this.toSeq().map(function(H,Z){return x.call(N,[Z,H],Q++,F)}).fromEntrySeq())},mapKeys:function(x,N){var F=this;return ot(this,this.toSeq().flip().map(function(Q,H){return x.call(N,Q,H,F)}).flip())}});var zr=S.prototype;zr[v]=!0,zr[ve]=Ht.entries,zr.toJSON=oo,zr.__toStringMapper=function(x,N){return or(N)+": "+or(x)},cn(E,{toKeyedSeq:function(){return new j(this,!1)},filter:function(x,N){return ot(this,De(this,x,N,!1))},findIndex:function(x,N){var F=this.findEntry(x,N);return F?F[0]:-1},indexOf:function(x){var N=this.keyOf(x);return N===void 0?-1:N},lastIndexOf:function(x){var N=this.lastKeyOf(x);return N===void 0?-1:N},reverse:function(){return ot(this,Oe(this,!1))},slice:function(x,N){return ot(this,Ue(this,x,N,!1))},splice:function(x,N){var F=arguments.length;if(N=Math.max(N||0,0),F===0||F===2&&!N)return this;x=p(x,x<0?this.count():this.size);var Q=this.slice(0,x);return ot(this,F===1?Q:Q.concat(yt(arguments,2),this.slice(x+N)))},findLastIndex:function(x,N){var F=this.findLastEntry(x,N);return F?F[0]:-1},first:function(x){return this.get(0,x)},flatten:function(x){return ot(this,Ge(this,x,!1))},get:function(x,N){return(x=u(this,x))<0||this.size===1/0||this.size!==void 0&&x>this.size?N:this.find(function(F,Q){return Q===x},void 0,N)},has:function(x){return(x=u(this,x))>=0&&(this.size!==void 0?this.size===1/0||x<this.size:this.indexOf(x)!==-1)},interpose:function(x){return ot(this,function(N,F){var Q=dt(N);return Q.size=N.size&&2*N.size-1,Q.__iterateUncached=function(H,Z){var ue=this,Ie=0;return N.__iterate(function(Me){return(!Ie||H(F,Ie++,ue)!==!1)&&H(Me,Ie++,ue)!==!1},Z),Ie},Q.__iteratorUncached=function(H,Z){var ue,Ie=N.__iterator(1,Z),Me=0;return new he(function(){return(!ue||Me%2)&&(ue=Ie.next()).done?ue:Me%2?q(H,Me++,F):q(H,Me++,ue.value,ue)})},Q}(this,x))},interleave:function(){var x=[this].concat(yt(arguments)),N=st(this.toSeq(),ne.of,x),F=N.flatten(!0);return N.size&&(F.size=N.size*x.length),ot(this,F)},keySeq:function(){return ao(0,this.size)},last:function(x){return this.get(-1,x)},skipWhile:function(x,N){return ot(this,$e(this,x,N,!1))},zip:function(){return ot(this,st(this,ea,[this].concat(yt(arguments))))},zipAll:function(){return ot(this,st(this,ea,[this].concat(yt(arguments)),!0))},zipWith:function(x){var N=yt(arguments);return N[0]=this,ot(this,st(this,x,N))}});var On=E.prototype;On[w]=!0,On[G]=!0,cn(D,{get:function(x,N){return this.has(x)?x:N},includes:function(x){return this.has(x)},keySeq:function(){return this.valueSeq()}});var Wn=D.prototype;function Zi(x,N,F,Q,H,Z){return Tt(x.size),x.__iterate(function(ue,Ie,Me){H?(H=!1,F=ue):F=N.call(Q,F,ue,Ie,Me)},Z),F}function so(x,N){return N}function Lo(x,N){return[N,x]}function Dn(x){return function(){return!x.apply(this,arguments)}}function uo(x){return function(){return-x.apply(this,arguments)}}function ea(){return yt(arguments)}function co(x,N){return x<N?1:x>N?-1:0}function ta(x,N){return x^N+2654435769+(x<<6)+(x>>2)|0}Wn.has=Ht.includes,Wn.contains=Wn.includes,Wn.keys=Wn.values,cn(xe,zr),cn(ne,On),cn(be,Wn);var Fn=function(x){function N(F){return F==null?Xe():un(F)?F:Xe().withMutations(function(Q){var H=D(F);Tt(H.size),H.forEach(function(Z){return Q.add(Z)})})}return x&&(N.__proto__=x),N.prototype=Object.create(x&&x.prototype),N.prototype.constructor=N,N.of=function(){return this(arguments)},N.fromKeys=function(F){return this(S(F).keySeq())},N.prototype.toString=function(){return this.__toString("OrderedSet {","}")},N}(jr);Fn.isOrderedSet=un;var ft,Ce=Fn.prototype;function ze(x,N){var F=Object.create(Ce);return F.size=x?x.size:0,F._map=x,F.__ownerID=N,F}function Xe(){return ft||(ft=ze(Ir()))}Ce[G]=!0,Ce.zip=On.zip,Ce.zipWith=On.zipWith,Ce.zipAll=On.zipAll,Ce.__empty=Xe,Ce.__make=ze;var nt={LeftThenRight:-1,RightThenLeft:1},et=function(x,N){var F;(function(Z){if(B(Z))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if($(Z))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(Z===null||typeof Z!="object")throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")})(x);var Q=function(Z){var ue=this;if(Z instanceof Q)return Z;if(!(this instanceof Q))return new Q(Z);if(!F){F=!0;var Ie=Object.keys(x),Me=H._indices={};H._name=N,H._keys=Ie,H._defaultValues=x;for(var Be=0;Be<Ie.length;Be++){var Qe=Ie[Be];Me[Qe]=Be,H[Qe]?typeof console=="object"&&console.warn&&console.warn("Cannot define "+Yt(this)+' with property "'+Qe+'" since that property name is part of the Record API.'):ra(H,Qe)}}return this.__ownerID=void 0,this._values=jn().withMutations(function(We){We.setSize(ue._keys.length),S(Z).forEach(function(rt,lt){We.set(ue._indices[lt],rt===ue._defaultValues[lt]?void 0:rt)})}),this},H=Q.prototype=Object.create(se);return H.constructor=Q,N&&(Q.displayName=N),Q};et.prototype.toString=function(){for(var x,N=Yt(this)+" { ",F=this._keys,Q=0,H=F.length;Q!==H;Q++)N+=(Q?", ":"")+(x=F[Q])+": "+or(this.get(x));return N+" }"},et.prototype.equals=function(x){return this===x||B(x)&&Kr(this).equals(Kr(x))},et.prototype.hashCode=function(){return Kr(this).hashCode()},et.prototype.has=function(x){return this._indices.hasOwnProperty(x)},et.prototype.get=function(x,N){if(!this.has(x))return N;var F=this._indices[x],Q=this._values.get(F);return Q===void 0?this._defaultValues[x]:Q},et.prototype.set=function(x,N){if(this.has(x)){var F=this._values.set(this._indices[x],N===this._defaultValues[x]?void 0:N);if(F!==this._values&&!this.__ownerID)return Bt(this,F)}return this},et.prototype.remove=function(x){return this.set(x)},et.prototype.clear=function(){var x=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:Bt(this,x)},et.prototype.wasAltered=function(){return this._values.wasAltered()},et.prototype.toSeq=function(){return Kr(this)},et.prototype.toJS=function(){return Gr(this)},et.prototype.entries=function(){return this.__iterator(2)},et.prototype.__iterator=function(x,N){return Kr(this).__iterator(x,N)},et.prototype.__iterate=function(x,N){return Kr(this).__iterate(x,N)},et.prototype.__ensureOwner=function(x){if(x===this.__ownerID)return this;var N=this._values.__ensureOwner(x);return x?Bt(this,N,x):(this.__ownerID=x,this._values=N,this)},et.isRecord=B,et.getDescriptiveName=Yt;var se=et.prototype;function Bt(x,N,F){var Q=Object.create(Object.getPrototypeOf(x));return Q._values=N,Q.__ownerID=F,Q}function Yt(x){return x.constructor.displayName||x.constructor.name||"Record"}function Kr(x){return C(x._keys.map(function(N){return[N,x.get(N)]}))}function ra(x,N){try{Object.defineProperty(x,N,{get:function(){return this.get(N)},set:function(F){hr(this.__ownerID,"Cannot set on an immutable record."),this.set(N,F)}})}catch{}}se[K]=!0,se[c]=se.remove,se.deleteIn=se.removeIn=Sr,se.getIn=Mo,se.hasIn=Ht.hasIn,se.merge=Vi,se.mergeWith=Ha,se.mergeIn=Qr,se.mergeDeep=gi,se.mergeDeepWith=za,se.mergeDeepIn=Hi,se.setIn=yi,se.update=xn,se.updateIn=Er,se.withMutations=An,se.asMutable=xr,se.asImmutable=mn,se[ve]=se.entries,se.toJSON=se.toObject=Ht.toObject,se.inspect=se.toSource=function(){return this.toString()};var Yn,fe=function(x){function N(F,Q){if(!(this instanceof N))return new N(F,Q);if(this._value=F,this.size=Q===void 0?1/0:Math.max(0,Q),this.size===0){if(Yn)return Yn;Yn=this}}return x&&(N.__proto__=x),N.prototype=Object.create(x&&x.prototype),N.prototype.constructor=N,N.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},N.prototype.get=function(F,Q){return this.has(F)?this._value:Q},N.prototype.includes=function(F){return Se(this._value,F)},N.prototype.slice=function(F,Q){var H=this.size;return d(F,Q,H)?this:new N(this._value,f(Q,H)-p(F,H))},N.prototype.reverse=function(){return this},N.prototype.indexOf=function(F){return Se(this._value,F)?0:-1},N.prototype.lastIndexOf=function(F){return Se(this._value,F)?this.size:-1},N.prototype.__iterate=function(F,Q){for(var H=this.size,Z=0;Z!==H&&F(this._value,Q?H-++Z:Z++,this)!==!1;);return Z},N.prototype.__iterator=function(F,Q){var H=this,Z=this.size,ue=0;return new he(function(){return ue===Z?{value:void 0,done:!0}:q(F,Q?Z-++ue:ue++,H._value)})},N.prototype.equals=function(F){return F instanceof N?Se(this._value,F._value):Tn(this,F)},N}(ne);function Nr(x,N){return Mn([],N||Ti,x,"",N&&N.length>2?[]:void 0,{"":x})}function Mn(x,N,F,Q,H,Z){if(typeof F!="string"&&!$(F)&&(me(F)||R(F)||Gt(F))){if(~x.indexOf(F))throw new TypeError("Cannot convert circular structure to Immutable");x.push(F),H&&Q!==""&&H.push(Q);var ue=N.call(Z,Q,de(F).map(function(Ie,Me){return Mn(x,N,Ie,Me,H,F)}),H&&H.slice());return x.pop(),H&&H.pop(),ue}return F}function Ti(x,N){return O(N)?N.toList():_(N)?N.toMap():N.toSet()}var Oi="4.3.7",Kt=T;const Zn={version:Oi,Collection:T,Iterable:T,Seq:de,Map:nn,OrderedMap:br,List:jn,Stack:Pr,Set:jr,OrderedSet:Fn,PairSorting:nt,Record:et,Range:ao,Repeat:fe,is:Se,fromJS:Nr,hash:ce,isImmutable:$,isCollection:b,isKeyed:_,isIndexed:O,isAssociative:A,isOrdered:U,isValueObject:we,isPlainObject:Gt,isSeq:V,isList:mr,isMap:le,isOrderedMap:_e,isStack:Ut,isSet:kt,isOrderedSet:un,isRecord:B,get:qr,getIn:Yi,has:Jt,hasIn:wi,merge:Ct,mergeDeep:Gi,mergeWith:$i,mergeDeepWith:rn,remove:fn,removeIn:Qi,set:Wt,setIn:hn,update:Ur,updateIn:qt}},49931:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BlankNode=void 0,e.BlankNode=class{constructor(s){this.termType="BlankNode",this.value=s}equals(s){return!!s&&s.termType==="BlankNode"&&s.value===this.value}}},50246:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.parse=function(p,f){return new u(p,f).parseDocument()},e.parseValue=function(p,f){var h=new u(p,f);h.expectToken(i.TokenKind.SOF);var y=h.parseValueLiteral(!1);return h.expectToken(i.TokenKind.EOF),y},e.parseType=function(p,f){var h=new u(p,f);h.expectToken(i.TokenKind.SOF);var y=h.parseTypeReference();return h.expectToken(i.TokenKind.EOF),y},e.Parser=void 0;var c=s(51352),a=s(7030),o=s(76257),i=s(73038),t=s(46876),n=s(5919),r=s(46083),u=function(){function p(h,y){var m=(0,t.isSource)(h)?h:new t.Source(h);this._lexer=new r.Lexer(m),this._options=y}var f=p.prototype;return f.parseName=function(){var h=this.expectToken(i.TokenKind.NAME);return{kind:a.Kind.NAME,value:h.value,loc:this.loc(h)}},f.parseDocument=function(){var h=this._lexer.token;return{kind:a.Kind.DOCUMENT,definitions:this.many(i.TokenKind.SOF,this.parseDefinition,i.TokenKind.EOF),loc:this.loc(h)}},f.parseDefinition=function(){if(this.peek(i.TokenKind.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(i.TokenKind.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},f.parseOperationDefinition=function(){var h=this._lexer.token;if(this.peek(i.TokenKind.BRACE_L))return{kind:a.Kind.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(h)};var y,m=this.parseOperationType();return this.peek(i.TokenKind.NAME)&&(y=this.parseName()),{kind:a.Kind.OPERATION_DEFINITION,operation:m,name:y,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(h)}},f.parseOperationType=function(){var h=this.expectToken(i.TokenKind.NAME);switch(h.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(h)},f.parseVariableDefinitions=function(){return this.optionalMany(i.TokenKind.PAREN_L,this.parseVariableDefinition,i.TokenKind.PAREN_R)},f.parseVariableDefinition=function(){var h=this._lexer.token;return{kind:a.Kind.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(i.TokenKind.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(i.TokenKind.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(h)}},f.parseVariable=function(){var h=this._lexer.token;return this.expectToken(i.TokenKind.DOLLAR),{kind:a.Kind.VARIABLE,name:this.parseName(),loc:this.loc(h)}},f.parseSelectionSet=function(){var h=this._lexer.token;return{kind:a.Kind.SELECTION_SET,selections:this.many(i.TokenKind.BRACE_L,this.parseSelection,i.TokenKind.BRACE_R),loc:this.loc(h)}},f.parseSelection=function(){return this.peek(i.TokenKind.SPREAD)?this.parseFragment():this.parseField()},f.parseField=function(){var h,y,m=this._lexer.token,b=this.parseName();return this.expectOptionalToken(i.TokenKind.COLON)?(h=b,y=this.parseName()):y=b,{kind:a.Kind.FIELD,alias:h,name:y,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(i.TokenKind.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(m)}},f.parseArguments=function(h){var y=h?this.parseConstArgument:this.parseArgument;return this.optionalMany(i.TokenKind.PAREN_L,y,i.TokenKind.PAREN_R)},f.parseArgument=function(){var h=this._lexer.token,y=this.parseName();return this.expectToken(i.TokenKind.COLON),{kind:a.Kind.ARGUMENT,name:y,value:this.parseValueLiteral(!1),loc:this.loc(h)}},f.parseConstArgument=function(){var h=this._lexer.token;return{kind:a.Kind.ARGUMENT,name:this.parseName(),value:(this.expectToken(i.TokenKind.COLON),this.parseValueLiteral(!0)),loc:this.loc(h)}},f.parseFragment=function(){var h=this._lexer.token;this.expectToken(i.TokenKind.SPREAD);var y=this.expectOptionalKeyword("on");return!y&&this.peek(i.TokenKind.NAME)?{kind:a.Kind.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(h)}:{kind:a.Kind.INLINE_FRAGMENT,typeCondition:y?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(h)}},f.parseFragmentDefinition=function(){var h,y=this._lexer.token;return this.expectKeyword("fragment"),((h=this._options)===null||h===void 0?void 0:h.experimentalFragmentVariables)===!0?{kind:a.Kind.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(y)}:{kind:a.Kind.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(y)}},f.parseFragmentName=function(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()},f.parseValueLiteral=function(h){var y=this._lexer.token;switch(y.kind){case i.TokenKind.BRACKET_L:return this.parseList(h);case i.TokenKind.BRACE_L:return this.parseObject(h);case i.TokenKind.INT:return this._lexer.advance(),{kind:a.Kind.INT,value:y.value,loc:this.loc(y)};case i.TokenKind.FLOAT:return this._lexer.advance(),{kind:a.Kind.FLOAT,value:y.value,loc:this.loc(y)};case i.TokenKind.STRING:case i.TokenKind.BLOCK_STRING:return this.parseStringLiteral();case i.TokenKind.NAME:switch(this._lexer.advance(),y.value){case"true":return{kind:a.Kind.BOOLEAN,value:!0,loc:this.loc(y)};case"false":return{kind:a.Kind.BOOLEAN,value:!1,loc:this.loc(y)};case"null":return{kind:a.Kind.NULL,loc:this.loc(y)};default:return{kind:a.Kind.ENUM,value:y.value,loc:this.loc(y)}}case i.TokenKind.DOLLAR:if(!h)return this.parseVariable()}throw this.unexpected()},f.parseStringLiteral=function(){var h=this._lexer.token;return this._lexer.advance(),{kind:a.Kind.STRING,value:h.value,block:h.kind===i.TokenKind.BLOCK_STRING,loc:this.loc(h)}},f.parseList=function(h){var y=this,m=this._lexer.token;return{kind:a.Kind.LIST,values:this.any(i.TokenKind.BRACKET_L,function(){return y.parseValueLiteral(h)},i.TokenKind.BRACKET_R),loc:this.loc(m)}},f.parseObject=function(h){var y=this,m=this._lexer.token;return{kind:a.Kind.OBJECT,fields:this.any(i.TokenKind.BRACE_L,function(){return y.parseObjectField(h)},i.TokenKind.BRACE_R),loc:this.loc(m)}},f.parseObjectField=function(h){var y=this._lexer.token,m=this.parseName();return this.expectToken(i.TokenKind.COLON),{kind:a.Kind.OBJECT_FIELD,name:m,value:this.parseValueLiteral(h),loc:this.loc(y)}},f.parseDirectives=function(h){for(var y=[];this.peek(i.TokenKind.AT);)y.push(this.parseDirective(h));return y},f.parseDirective=function(h){var y=this._lexer.token;return this.expectToken(i.TokenKind.AT),{kind:a.Kind.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(h),loc:this.loc(y)}},f.parseTypeReference=function(){var h,y=this._lexer.token;return this.expectOptionalToken(i.TokenKind.BRACKET_L)?(h=this.parseTypeReference(),this.expectToken(i.TokenKind.BRACKET_R),h={kind:a.Kind.LIST_TYPE,type:h,loc:this.loc(y)}):h=this.parseNamedType(),this.expectOptionalToken(i.TokenKind.BANG)?{kind:a.Kind.NON_NULL_TYPE,type:h,loc:this.loc(y)}:h},f.parseNamedType=function(){var h=this._lexer.token;return{kind:a.Kind.NAMED_TYPE,name:this.parseName(),loc:this.loc(h)}},f.parseTypeSystemDefinition=function(){var h=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(h.kind===i.TokenKind.NAME)switch(h.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(h)},f.peekDescription=function(){return this.peek(i.TokenKind.STRING)||this.peek(i.TokenKind.BLOCK_STRING)},f.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},f.parseSchemaDefinition=function(){var h=this._lexer.token,y=this.parseDescription();this.expectKeyword("schema");var m=this.parseDirectives(!0),b=this.many(i.TokenKind.BRACE_L,this.parseOperationTypeDefinition,i.TokenKind.BRACE_R);return{kind:a.Kind.SCHEMA_DEFINITION,description:y,directives:m,operationTypes:b,loc:this.loc(h)}},f.parseOperationTypeDefinition=function(){var h=this._lexer.token,y=this.parseOperationType();this.expectToken(i.TokenKind.COLON);var m=this.parseNamedType();return{kind:a.Kind.OPERATION_TYPE_DEFINITION,operation:y,type:m,loc:this.loc(h)}},f.parseScalarTypeDefinition=function(){var h=this._lexer.token,y=this.parseDescription();this.expectKeyword("scalar");var m=this.parseName(),b=this.parseDirectives(!0);return{kind:a.Kind.SCALAR_TYPE_DEFINITION,description:y,name:m,directives:b,loc:this.loc(h)}},f.parseObjectTypeDefinition=function(){var h=this._lexer.token,y=this.parseDescription();this.expectKeyword("type");var m=this.parseName(),b=this.parseImplementsInterfaces(),v=this.parseDirectives(!0),_=this.parseFieldsDefinition();return{kind:a.Kind.OBJECT_TYPE_DEFINITION,description:y,name:m,interfaces:b,directives:v,fields:_,loc:this.loc(h)}},f.parseImplementsInterfaces=function(){var h;if(!this.expectOptionalKeyword("implements"))return[];if(((h=this._options)===null||h===void 0?void 0:h.allowLegacySDLImplementsInterfaces)===!0){var y=[];this.expectOptionalToken(i.TokenKind.AMP);do y.push(this.parseNamedType());while(this.expectOptionalToken(i.TokenKind.AMP)||this.peek(i.TokenKind.NAME));return y}return this.delimitedMany(i.TokenKind.AMP,this.parseNamedType)},f.parseFieldsDefinition=function(){var h;return((h=this._options)===null||h===void 0?void 0:h.allowLegacySDLEmptyFields)===!0&&this.peek(i.TokenKind.BRACE_L)&&this._lexer.lookahead().kind===i.TokenKind.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(i.TokenKind.BRACE_L,this.parseFieldDefinition,i.TokenKind.BRACE_R)},f.parseFieldDefinition=function(){var h=this._lexer.token,y=this.parseDescription(),m=this.parseName(),b=this.parseArgumentDefs();this.expectToken(i.TokenKind.COLON);var v=this.parseTypeReference(),_=this.parseDirectives(!0);return{kind:a.Kind.FIELD_DEFINITION,description:y,name:m,arguments:b,type:v,directives:_,loc:this.loc(h)}},f.parseArgumentDefs=function(){return this.optionalMany(i.TokenKind.PAREN_L,this.parseInputValueDef,i.TokenKind.PAREN_R)},f.parseInputValueDef=function(){var h=this._lexer.token,y=this.parseDescription(),m=this.parseName();this.expectToken(i.TokenKind.COLON);var b,v=this.parseTypeReference();this.expectOptionalToken(i.TokenKind.EQUALS)&&(b=this.parseValueLiteral(!0));var _=this.parseDirectives(!0);return{kind:a.Kind.INPUT_VALUE_DEFINITION,description:y,name:m,type:v,defaultValue:b,directives:_,loc:this.loc(h)}},f.parseInterfaceTypeDefinition=function(){var h=this._lexer.token,y=this.parseDescription();this.expectKeyword("interface");var m=this.parseName(),b=this.parseImplementsInterfaces(),v=this.parseDirectives(!0),_=this.parseFieldsDefinition();return{kind:a.Kind.INTERFACE_TYPE_DEFINITION,description:y,name:m,interfaces:b,directives:v,fields:_,loc:this.loc(h)}},f.parseUnionTypeDefinition=function(){var h=this._lexer.token,y=this.parseDescription();this.expectKeyword("union");var m=this.parseName(),b=this.parseDirectives(!0),v=this.parseUnionMemberTypes();return{kind:a.Kind.UNION_TYPE_DEFINITION,description:y,name:m,directives:b,types:v,loc:this.loc(h)}},f.parseUnionMemberTypes=function(){return this.expectOptionalToken(i.TokenKind.EQUALS)?this.delimitedMany(i.TokenKind.PIPE,this.parseNamedType):[]},f.parseEnumTypeDefinition=function(){var h=this._lexer.token,y=this.parseDescription();this.expectKeyword("enum");var m=this.parseName(),b=this.parseDirectives(!0),v=this.parseEnumValuesDefinition();return{kind:a.Kind.ENUM_TYPE_DEFINITION,description:y,name:m,directives:b,values:v,loc:this.loc(h)}},f.parseEnumValuesDefinition=function(){return this.optionalMany(i.TokenKind.BRACE_L,this.parseEnumValueDefinition,i.TokenKind.BRACE_R)},f.parseEnumValueDefinition=function(){var h=this._lexer.token,y=this.parseDescription(),m=this.parseName(),b=this.parseDirectives(!0);return{kind:a.Kind.ENUM_VALUE_DEFINITION,description:y,name:m,directives:b,loc:this.loc(h)}},f.parseInputObjectTypeDefinition=function(){var h=this._lexer.token,y=this.parseDescription();this.expectKeyword("input");var m=this.parseName(),b=this.parseDirectives(!0),v=this.parseInputFieldsDefinition();return{kind:a.Kind.INPUT_OBJECT_TYPE_DEFINITION,description:y,name:m,directives:b,fields:v,loc:this.loc(h)}},f.parseInputFieldsDefinition=function(){return this.optionalMany(i.TokenKind.BRACE_L,this.parseInputValueDef,i.TokenKind.BRACE_R)},f.parseTypeSystemExtension=function(){var h=this._lexer.lookahead();if(h.kind===i.TokenKind.NAME)switch(h.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(h)},f.parseSchemaExtension=function(){var h=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var y=this.parseDirectives(!0),m=this.optionalMany(i.TokenKind.BRACE_L,this.parseOperationTypeDefinition,i.TokenKind.BRACE_R);if(y.length===0&&m.length===0)throw this.unexpected();return{kind:a.Kind.SCHEMA_EXTENSION,directives:y,operationTypes:m,loc:this.loc(h)}},f.parseScalarTypeExtension=function(){var h=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var y=this.parseName(),m=this.parseDirectives(!0);if(m.length===0)throw this.unexpected();return{kind:a.Kind.SCALAR_TYPE_EXTENSION,name:y,directives:m,loc:this.loc(h)}},f.parseObjectTypeExtension=function(){var h=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var y=this.parseName(),m=this.parseImplementsInterfaces(),b=this.parseDirectives(!0),v=this.parseFieldsDefinition();if(m.length===0&&b.length===0&&v.length===0)throw this.unexpected();return{kind:a.Kind.OBJECT_TYPE_EXTENSION,name:y,interfaces:m,directives:b,fields:v,loc:this.loc(h)}},f.parseInterfaceTypeExtension=function(){var h=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var y=this.parseName(),m=this.parseImplementsInterfaces(),b=this.parseDirectives(!0),v=this.parseFieldsDefinition();if(m.length===0&&b.length===0&&v.length===0)throw this.unexpected();return{kind:a.Kind.INTERFACE_TYPE_EXTENSION,name:y,interfaces:m,directives:b,fields:v,loc:this.loc(h)}},f.parseUnionTypeExtension=function(){var h=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var y=this.parseName(),m=this.parseDirectives(!0),b=this.parseUnionMemberTypes();if(m.length===0&&b.length===0)throw this.unexpected();return{kind:a.Kind.UNION_TYPE_EXTENSION,name:y,directives:m,types:b,loc:this.loc(h)}},f.parseEnumTypeExtension=function(){var h=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var y=this.parseName(),m=this.parseDirectives(!0),b=this.parseEnumValuesDefinition();if(m.length===0&&b.length===0)throw this.unexpected();return{kind:a.Kind.ENUM_TYPE_EXTENSION,name:y,directives:m,values:b,loc:this.loc(h)}},f.parseInputObjectTypeExtension=function(){var h=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var y=this.parseName(),m=this.parseDirectives(!0),b=this.parseInputFieldsDefinition();if(m.length===0&&b.length===0)throw this.unexpected();return{kind:a.Kind.INPUT_OBJECT_TYPE_EXTENSION,name:y,directives:m,fields:b,loc:this.loc(h)}},f.parseDirectiveDefinition=function(){var h=this._lexer.token,y=this.parseDescription();this.expectKeyword("directive"),this.expectToken(i.TokenKind.AT);var m=this.parseName(),b=this.parseArgumentDefs(),v=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var _=this.parseDirectiveLocations();return{kind:a.Kind.DIRECTIVE_DEFINITION,description:y,name:m,arguments:b,repeatable:v,locations:_,loc:this.loc(h)}},f.parseDirectiveLocations=function(){return this.delimitedMany(i.TokenKind.PIPE,this.parseDirectiveLocation)},f.parseDirectiveLocation=function(){var h=this._lexer.token,y=this.parseName();if(n.DirectiveLocation[y.value]!==void 0)return y;throw this.unexpected(h)},f.loc=function(h){var y;if(((y=this._options)===null||y===void 0?void 0:y.noLocation)!==!0)return new o.Location(h,this._lexer.lastToken,this._lexer.source)},f.peek=function(h){return this._lexer.token.kind===h},f.expectToken=function(h){var y=this._lexer.token;if(y.kind===h)return this._lexer.advance(),y;throw(0,c.syntaxError)(this._lexer.source,y.start,"Expected ".concat(d(h),", found ").concat(l(y),"."))},f.expectOptionalToken=function(h){var y=this._lexer.token;if(y.kind===h)return this._lexer.advance(),y},f.expectKeyword=function(h){var y=this._lexer.token;if(y.kind!==i.TokenKind.NAME||y.value!==h)throw(0,c.syntaxError)(this._lexer.source,y.start,'Expected "'.concat(h,'", found ').concat(l(y),"."));this._lexer.advance()},f.expectOptionalKeyword=function(h){var y=this._lexer.token;return y.kind===i.TokenKind.NAME&&y.value===h&&(this._lexer.advance(),!0)},f.unexpected=function(h){var y=h??this._lexer.token;return(0,c.syntaxError)(this._lexer.source,y.start,"Unexpected ".concat(l(y),"."))},f.any=function(h,y,m){this.expectToken(h);for(var b=[];!this.expectOptionalToken(m);)b.push(y.call(this));return b},f.optionalMany=function(h,y,m){if(this.expectOptionalToken(h)){var b=[];do b.push(y.call(this));while(!this.expectOptionalToken(m));return b}return[]},f.many=function(h,y,m){this.expectToken(h);var b=[];do b.push(y.call(this));while(!this.expectOptionalToken(m));return b},f.delimitedMany=function(h,y){this.expectOptionalToken(h);var m=[];do m.push(y.call(this));while(this.expectOptionalToken(h));return m},p}();function l(p){var f=p.value;return d(p.kind)+(f!=null?' "'.concat(f,'"'):"")}function d(p){return(0,r.isPunctuatorTokenKind)(p)?'"'.concat(p,'"'):p}e.Parser=u},50311:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorHttpWayback=void 0;const c=s(70322),a=s(90711),o=s(90412),i=s(52728);function t(u){const l=new Request(u.input,u.init);return{input:new Request(new URL(`/${l.url}`,"http://wayback.archive-it.org/"),l)}}function n(u){const l=u.get(a.KeysHttpProxy.httpProxyHandler);return l?d=>l.getProxy(t(d)):d=>Promise.resolve(t(d))}class r extends c.ActorHttp{constructor(l){super(l)}async test(l){return(0,o.passTestVoid)()}async run(l){let d=await this.mediatorHttp.mediate(l);if(d.status===404&&l.context.get(a.KeysHttpWayback.recoverBrokenLinks)){let p=await this.mediatorHttp.mediate({...l,context:l.context.set(a.KeysHttpWayback.recoverBrokenLinks,!1).set(a.KeysHttpProxy.httpProxyHandler,{getProxy:n(l.context)})});p.status===200&&([d,p]=[p,d]);const{body:f}=p;f&&("cancel"in f&&typeof f.cancel=="function"?await f.cancel():"destroy"in f&&typeof f.destroy=="function"?f.destroy():await(0,i.stringify)(c.ActorHttp.toNodeReadable(f)))}return d}}e.ActorHttpWayback=r},50433:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(12957),e)},50583:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.stringQuadToQuad=e.quadToStringQuad=e.stringToTerm=e.getLiteralLanguage=e.getLiteralType=e.getLiteralValue=e.termToString=void 0;const c=new(s(47793)).DataFactory;function a(r){if(r)switch(r.termType){case"NamedNode":case"DefaultGraph":return r.value;case"BlankNode":return"_:"+r.value;case"Literal":const u=r;return'"'+u.value+'"'+(u.datatype&&u.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&u.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?"^^"+u.datatype.value:"")+(u.language?"@"+u.language:"");case"Quad":return`<<${a(r.subject)} ${a(r.predicate)} ${a(r.object)}${r.graph.termType==="DefaultGraph"?"":" "+a(r.graph)}>>`;case"Variable":return"?"+r.value}}function o(r){const u=/^"([^]*)"/.exec(r);if(!u)throw new Error(r+" is not a literal");return u[1]}function i(r){const u=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(r);if(!u)throw new Error(r+" is not a literal");return u[1]||(u[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}function t(r){const u=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(r);if(!u)throw new Error(r+" is not a literal");return u[1]?u[1].toLowerCase():""}function n(r,u){if(u=u||c,!r||!r.length)return u.defaultGraph();switch(r[0]){case"_":return u.blankNode(r.substr(2));case"?":if(!u.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return u.variable(r.substr(1));case'"':const l=t(r),d=u.namedNode(i(r));return u.literal(o(r),l||d);default:if(r[0]==="<"&&r.length>4&&r[1]==="<"&&r[r.length-1]===">"&&r[r.length-2]===">"){const p=r.slice(2,-2).trim();let f=[],h=0,y=0,m=!1;for(let b=0;b<p.length;b++){const v=p[b];if(v==="<"&&h++,v===">"){if(h===0)throw new Error("Found closing tag without opening tag in "+r);h--}if(v==='"'){let _=!1,w=b;for(;w-- >0&&p[w]==="\\";)_=!_;_||(m=!m)}if(v===" "&&!m&&h===0){for(f.push(p.slice(y,b));p[b+1]===" ";)b+=1;y=b+1}}if(h!==0)throw new Error("Found opening tag without closing tag in "+r);if(f.push(p.slice(y,p.length)),f.length!==3&&f.length!==4)throw new Error("Nested quad syntax error "+r);return f=f.map(b=>b.startsWith("<")&&!b.includes(" ")?b.slice(1,-1):b),u.quad(n(f[0]),n(f[1]),n(f[2]),f[3]?n(f[3]):void 0)}return u.namedNode(r)}}e.termToString=a,e.getLiteralValue=o,e.getLiteralType=i,e.getLiteralLanguage=t,e.stringToTerm=n,e.quadToStringQuad=function(r){return{subject:a(r.subject),predicate:a(r.predicate),object:a(r.object),graph:a(r.graph)}},e.stringQuadToQuad=function(r,u){return(u=u||c).quad(n(r.subject,u),n(r.predicate,u),n(r.object,u),n(r.graph,u))}},50608:(g,e,s)=>{var{Buffer:c}=s(48287),a={},o=a.LEFT_BRACE=1,i=a.RIGHT_BRACE=2,t=a.LEFT_BRACKET=3,n=a.RIGHT_BRACKET=4,r=a.COLON=5,u=a.COMMA=6,l=a.TRUE=7,d=a.FALSE=8,p=a.NULL=9,f=a.STRING=10,h=a.NUMBER=11,y=a.START=17,m=a.STOP=18,b=a.TRUE1=33,v=a.TRUE2=34,_=a.TRUE3=35,w=a.FALSE1=49,O=a.FALSE2=50,A=a.FALSE3=51,T=a.FALSE4=52,S=a.NULL1=65,E=a.NULL2=66,D=a.NULL3=67,I=a.NUMBER1=81,V=a.NUMBER3=83,K=a.STRING1=97,B=a.STRING2=98,$=a.STRING3=99,G=a.STRING4=100,U=a.STRING5=101,W=a.STRING6=102,ye=a.VALUE=113,ve=a.KEY=114,he=a.OBJECT=129,q=a.ARRAY=130,L=92,R=47,k=8,X=12,oe=10,ee=13,me=9,de=65536;function xe(ie){return c.alloc?c.alloc(ie):new c(ie)}function ne(){this.tState=y,this.value=void 0,this.string=void 0,this.stringBuffer=xe(de),this.stringBufferOffset=0,this.unicode=void 0,this.highSurrogate=void 0,this.key=void 0,this.mode=void 0,this.stack=[],this.state=ye,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:xe(2),3:xe(3),4:xe(4)},this.offset=-1}ne.toknam=function(ie){for(var ge=Object.keys(a),Ee=0,M=ge.length;Ee<M;Ee++){var P=ge[Ee];if(a[P]===ie)return P}return ie&&"0x"+ie.toString(16)};var be=ne.prototype;be.onError=function(ie){throw ie},be.charError=function(ie,ge){this.tState=m,this.onError(new Error("Unexpected "+JSON.stringify(String.fromCharCode(ie[ge]))+" at position "+ge+" in state "+ne.toknam(this.tState)))},be.appendStringChar=function(ie){this.stringBufferOffset>=de&&(this.string+=this.stringBuffer.toString("utf8"),this.stringBufferOffset=0),this.stringBuffer[this.stringBufferOffset++]=ie},be.appendStringBuf=function(ie,ge,Ee){var M=ie.length;typeof ge=="number"&&(M=typeof Ee=="number"?Ee<0?ie.length-ge+Ee:Ee-ge:ie.length-ge),M<0&&(M=0),this.stringBufferOffset+M>de&&(this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0),ie.copy(this.stringBuffer,this.stringBufferOffset,ge,Ee),this.stringBufferOffset+=M},be.write=function(ie){var ge;typeof ie=="string"&&(ie=new c(ie));for(var Ee=0,M=ie.length;Ee<M;Ee++)if(this.tState===y){if(ge=ie[Ee],this.offset++,ge===123)this.onToken(o,"{");else if(ge===125)this.onToken(i,"}");else if(ge===91)this.onToken(t,"[");else if(ge===93)this.onToken(n,"]");else if(ge===58)this.onToken(r,":");else if(ge===44)this.onToken(u,",");else if(ge===116)this.tState=b;else if(ge===102)this.tState=w;else if(ge===110)this.tState=S;else if(ge===34)this.string="",this.stringBufferOffset=0,this.tState=K;else if(ge===45)this.string="-",this.tState=I;else if(ge>=48&&ge<64)this.string=String.fromCharCode(ge),this.tState=V;else if(ge!==32&&ge!==9&&ge!==10&&ge!==13)return this.charError(ie,Ee)}else if(this.tState===K)if(ge=ie[Ee],this.bytes_remaining>0){for(var P=0;P<this.bytes_remaining;P++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+P]=ie[P];this.appendStringBuf(this.temp_buffs[this.bytes_in_sequence]),this.bytes_in_sequence=this.bytes_remaining=0,Ee=Ee+P-1}else if(this.bytes_remaining===0&&ge>=128){if(ge<=193||ge>244)return this.onError(new Error("Invalid UTF-8 character at position "+Ee+" in state "+ne.toknam(this.tState)));if(ge>=194&&ge<=223&&(this.bytes_in_sequence=2),ge>=224&&ge<=239&&(this.bytes_in_sequence=3),ge>=240&&ge<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+Ee>ie.length){for(var C=0;C<=ie.length-1-Ee;C++)this.temp_buffs[this.bytes_in_sequence][C]=ie[Ee+C];this.bytes_remaining=Ee+this.bytes_in_sequence-ie.length,Ee=ie.length-1}else this.appendStringBuf(ie,Ee,Ee+this.bytes_in_sequence),Ee=Ee+this.bytes_in_sequence-1}else if(ge===34)this.tState=y,this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0,this.onToken(f,this.string),this.offset+=c.byteLength(this.string,"utf8")+1,this.string=void 0;else if(ge===92)this.tState=B;else{if(!(ge>=32))return this.charError(ie,Ee);this.appendStringChar(ge)}else if(this.tState===B)if((ge=ie[Ee])===34)this.appendStringChar(ge),this.tState=K;else if(ge===92)this.appendStringChar(L),this.tState=K;else if(ge===47)this.appendStringChar(R),this.tState=K;else if(ge===98)this.appendStringChar(k),this.tState=K;else if(ge===102)this.appendStringChar(X),this.tState=K;else if(ge===110)this.appendStringChar(oe),this.tState=K;else if(ge===114)this.appendStringChar(ee),this.tState=K;else if(ge===116)this.appendStringChar(me),this.tState=K;else{if(ge!==117)return this.charError(ie,Ee);this.unicode="",this.tState=$}else if(this.tState===$||this.tState===G||this.tState===U||this.tState===W){if(!((ge=ie[Ee])>=48&&ge<64||ge>64&&ge<=70||ge>96&&ge<=102))return this.charError(ie,Ee);if(this.unicode+=String.fromCharCode(ge),this.tState++===W){var z=parseInt(this.unicode,16);this.unicode=void 0,this.highSurrogate!==void 0&&z>=56320&&z<57344?(this.appendStringBuf(new c(String.fromCharCode(this.highSurrogate,z))),this.highSurrogate=void 0):this.highSurrogate===void 0&&z>=55296&&z<56320?this.highSurrogate=z:(this.highSurrogate!==void 0&&(this.appendStringBuf(new c(String.fromCharCode(this.highSurrogate))),this.highSurrogate=void 0),this.appendStringBuf(new c(String.fromCharCode(z)))),this.tState=K}}else if(this.tState===I||this.tState===V)switch(ge=ie[Ee]){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 46:case 101:case 69:case 43:case 45:this.string+=String.fromCharCode(ge),this.tState=V;break;default:this.tState=y;var te=this.numberReviver(this.string,ie,Ee);if(te)return te;this.offset+=this.string.length-1,this.string=void 0,Ee--}else if(this.tState===b){if(ie[Ee]!==114)return this.charError(ie,Ee);this.tState=v}else if(this.tState===v){if(ie[Ee]!==117)return this.charError(ie,Ee);this.tState=_}else if(this.tState===_){if(ie[Ee]!==101)return this.charError(ie,Ee);this.tState=y,this.onToken(l,!0),this.offset+=3}else if(this.tState===w){if(ie[Ee]!==97)return this.charError(ie,Ee);this.tState=O}else if(this.tState===O){if(ie[Ee]!==108)return this.charError(ie,Ee);this.tState=A}else if(this.tState===A){if(ie[Ee]!==115)return this.charError(ie,Ee);this.tState=T}else if(this.tState===T){if(ie[Ee]!==101)return this.charError(ie,Ee);this.tState=y,this.onToken(d,!1),this.offset+=4}else if(this.tState===S){if(ie[Ee]!==117)return this.charError(ie,Ee);this.tState=E}else if(this.tState===E){if(ie[Ee]!==108)return this.charError(ie,Ee);this.tState=D}else if(this.tState===D){if(ie[Ee]!==108)return this.charError(ie,Ee);this.tState=y,this.onToken(p,null),this.offset+=3}},be.onToken=function(ie,ge){},be.parseError=function(ie,ge){this.tState=m,this.onError(new Error("Unexpected "+ne.toknam(ie)+(ge?"("+JSON.stringify(ge)+")":"")+" in state "+ne.toknam(this.state)))},be.push=function(){this.stack.push({value:this.value,key:this.key,mode:this.mode})},be.pop=function(){var ie=this.value,ge=this.stack.pop();this.value=ge.value,this.key=ge.key,this.mode=ge.mode,this.emit(ie),this.mode||(this.state=ye)},be.emit=function(ie){this.mode&&(this.state=u),this.onValue(ie)},be.onValue=function(ie){},be.onToken=function(ie,ge){if(this.state===ye)if(ie===f||ie===h||ie===l||ie===d||ie===p)this.value&&(this.value[this.key]=ge),this.emit(ge);else if(ie===o)this.push(),this.value?this.value=this.value[this.key]={}:this.value={},this.key=void 0,this.state=ve,this.mode=he;else if(ie===t)this.push(),this.value?this.value=this.value[this.key]=[]:this.value=[],this.key=0,this.mode=q,this.state=ye;else if(ie===i){if(this.mode!==he)return this.parseError(ie,ge);this.pop()}else{if(ie!==n)return this.parseError(ie,ge);if(this.mode!==q)return this.parseError(ie,ge);this.pop()}else if(this.state===ve)if(ie===f)this.key=ge,this.state=r;else{if(ie!==i)return this.parseError(ie,ge);this.pop()}else if(this.state===r){if(ie!==r)return this.parseError(ie,ge);this.state=ye}else{if(this.state!==u)return this.parseError(ie,ge);if(ie===u)this.mode===q?(this.key++,this.state=ye):this.mode===he&&(this.state=ve);else{if(!(ie===n&&this.mode===q||ie===i&&this.mode===he))return this.parseError(ie,ge);this.pop()}}},be.numberReviver=function(ie,ge,Ee){var M=Number(ie);if(isNaN(M))return this.charError(ge,Ee);ie.match(/[0-9]+/)==ie&&M.toString()!=ie?this.onToken(f,ie):this.onToken(h,M)},ne.C=a,g.exports=ne},50620:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermIsNumeric=void 0;const c=s(77617),a=s(77545),o=s(77415);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.SparqlOperator.IS_NUMERIC],termFunction:!0})}async run(n){return new o.TermFunctionIsNumeric}}e.ActorFunctionFactoryTermIsNumeric=i},50632:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(9159),e),a(s(27368),e)},50673:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Literal=void 0;const c=s(58283);class a{constructor(i,t){this.termType="Literal",this.value=i,typeof t=="string"?(this.language=t,this.datatype=a.RDF_LANGUAGE_STRING,this.direction=""):t?"termType"in t?(this.language="",this.datatype=t,this.direction=""):(this.language=t.language,this.datatype=t.direction?a.RDF_DIRECTIONAL_LANGUAGE_STRING:a.RDF_LANGUAGE_STRING,this.direction=t.direction||""):(this.language="",this.datatype=a.XSD_STRING,this.direction="")}equals(i){return!!i&&i.termType==="Literal"&&i.value===this.value&&i.language===this.language&&(i.direction===this.direction||!i.direction&&this.direction==="")&&this.datatype.equals(i.datatype)}}e.Literal=a,a.RDF_LANGUAGE_STRING=new c.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),a.RDF_DIRECTIONAL_LANGUAGE_STRING=new c.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#dirLangString"),a.XSD_STRING=new c.NamedNode("http://www.w3.org/2001/XMLSchema#string")},50776:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorBindingsAggregatorFactoryGroupConcat=void 0;const c=s(86581),a=s(90711),o=s(90412),i=s(52573);class t extends c.ActorBindingsAggregatorFactory{constructor(r){super(r)}async test(r){return r.expr.aggregator!=="group_concat"?(0,o.failTest)("This actor only supports the 'group_concat' aggregator."):(0,o.passTestVoid)()}async run({context:r,expr:u}){return new i.GroupConcatAggregator(await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:u.expression,context:r}),u.distinct,r.getSafe(a.KeysInitQuery.dataFactory),u.separator)}}e.ActorBindingsAggregatorFactoryGroupConcat=t},50789:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfMetadataPrimaryTopic=void 0;const c=s(14752),a=s(90412),o=s(19198);class i extends c.ActorRdfMetadata{constructor(n){super(n)}async test(n){return n.triples?(0,a.failTest)("This actor only supports non-triple quad streams."):(0,a.passTestVoid)()}async run(n){const r=new o.Readable({objectMode:!0}),u=new o.Readable({objectMode:!0}),l=()=>{r._read=u._read=()=>{},n.quads.on("error",h=>{r.emit("error",h),u.emit("error",h)});const d={};let p;const f={};n.quads.on("data",h=>{h.predicate.value==="http://rdfs.org/ns/void#subset"&&h.object.value===n.url?p=h.subject.value:h.predicate.value==="http://xmlns.com/foaf/0.1/primaryTopic"&&(f[h.object.value]=h.subject.value);let y=d[h.graph.value];y||(y=d[h.graph.value]=[]),y.push(h)}),n.quads.on("end",()=>{const h=p?f[p]:void 0;for(const y in d)if(y===h){for(const m of d[y])u.push(m);if(this.metadataToData)for(const m of d[y])r.push(m)}else{for(const m of d[y])r.push(m);if(!h&&this.dataToMetadataOnInvalidMetadataGraph)for(const m of d[y])u.push(m)}r.push(null),u.push(null)})};return r._read=u._read=()=>{l()},{data:r,metadata:u}}}e.ActorRdfMetadataPrimaryTopic=i},50952:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.readableFromWeb=e.ReadableFromWeb=void 0;const c=s(19198);class a extends c.Readable{constructor(i,t){super(t),this.reader=i.getReader(),this.readerClosed=!1,this.reader.closed.then(()=>{this.readerClosed=!0}).catch(n=>{this.readerClosed=!0,this.destroy(n)})}_read(){this.reader.read().then(i=>this.push(i.done?null:i.value)).catch(i=>this.destroy(i))}destroy(i){return this.readerClosed||this.reader.cancel(i).then().catch(()=>{}),super.destroy(i)}}e.ReadableFromWeb=a,e.readableFromWeb=function(o,i){return new a(o,i)}},51009:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(3170),e),a(s(68686),e),a(s(47194),e),a(s(36458),e),a(s(8770),e),a(s(43392),e),a(s(48073),e),a(s(75636),e),a(s(86126),e),a(s(73153),e)},51038:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.termToString=e.stringToTerm=e.stringQuadToQuad=e.quadToStringQuad=e.getLiteralValue=e.getLiteralType=e.getLiteralLanguage=void 0;const c=s(3038);Object.defineProperty(e,"getLiteralLanguage",{enumerable:!0,get:function(){return c.getLiteralLanguage}}),Object.defineProperty(e,"getLiteralType",{enumerable:!0,get:function(){return c.getLiteralType}}),Object.defineProperty(e,"getLiteralValue",{enumerable:!0,get:function(){return c.getLiteralValue}}),Object.defineProperty(e,"quadToStringQuad",{enumerable:!0,get:function(){return c.quadToStringQuad}}),Object.defineProperty(e,"stringQuadToQuad",{enumerable:!0,get:function(){return c.stringQuadToQuad}}),Object.defineProperty(e,"stringToTerm",{enumerable:!0,get:function(){return c.stringToTerm}}),Object.defineProperty(e,"termToString",{enumerable:!0,get:function(){return c.termToString}})},51060:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(46293),e)},51167:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{constructor(s){this.indents=0,this.write=s.write,this.end=s.end}indent(){return this.indents+=1,this}deindent(){if(this.indents<1)throw new Error(`Trying to deindent when indent is only ${this.indents}`);return this.indents-=1,this}add(s,c=!1){return this.write(c?`
${"	".repeat(this.indents)}${s}`:s,"utf-8"),this}newLine(s=2){return this.write(`
`.repeat(s)+"	".repeat(this.indents),"utf-8"),this}}},51192:function(g,e,s){var c=this&&this.__awaiter||function(o,i,t,n){return new(t||(t=Promise))(function(r,u){function l(f){try{p(n.next(f))}catch(h){u(h)}}function d(f){try{p(n.throw(f))}catch(h){u(h)}}function p(f){var h;f.done?r(f.value):(h=f.value,h instanceof t?h:new t(function(y){y(h)})).then(l,d)}p((n=n.apply(o,i||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.lookupUri=void 0;const a=s(37338);e.lookupUri=function(o,i){return c(this,void 0,void 0,function*(){const t=(yield(0,a.fetchContext)(`https://prefix.cc/${o}.file.jsonld`,i))[o];if(typeof t!="string")throw new Error(`Expected uri to be a string, received: ${t} of type ${typeof t}`);return t})}},51237:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(58959),e),a(s(7394),e)},51296:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(4450),e),a(s(11752),e)},51352:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.syntaxError=function(a,o,i){return new c.GraphQLError("Syntax Error: ".concat(i),void 0,a,[o])};var c=s(61702)},51690:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},51905:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.termToString=e.stringToTerm=e.stringQuadToQuad=e.quadToStringQuad=e.getLiteralValue=e.getLiteralType=e.getLiteralLanguage=void 0;const c=s(49251);Object.defineProperty(e,"getLiteralLanguage",{enumerable:!0,get:function(){return c.getLiteralLanguage}}),Object.defineProperty(e,"getLiteralType",{enumerable:!0,get:function(){return c.getLiteralType}}),Object.defineProperty(e,"getLiteralValue",{enumerable:!0,get:function(){return c.getLiteralValue}}),Object.defineProperty(e,"quadToStringQuad",{enumerable:!0,get:function(){return c.quadToStringQuad}}),Object.defineProperty(e,"stringQuadToQuad",{enumerable:!0,get:function(){return c.stringQuadToQuad}}),Object.defineProperty(e,"stringToTerm",{enumerable:!0,get:function(){return c.stringToTerm}}),Object.defineProperty(e,"termToString",{enumerable:!0,get:function(){return c.termToString}})},51941:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermNot=void 0;const c=s(77617),a=s(77545),o=s(97274);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.SparqlOperator.NOT],termFunction:!0})}async run(n){return new o.TermFunctionNot}}e.ActorFunctionFactoryTermNot=i},52161:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermUcase=void 0;const c=s(77617),a=s(77545),o=s(19722);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.SparqlOperator.UCASE],termFunction:!0})}async run(n){return new o.TermFunctionUcase}}e.ActorFunctionFactoryTermUcase=i},52277:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.JsonLdParser=void 0;const c=s(50608),a=s(42395),o=s(19198),i=s(39693),t=s(64860),n=s(22386),r=s(76970),u=s(23809),l=s(55998),d=s(15517),p=s(70736),f=s(24910),h=s(62036),y=s(86454),m=s(33283),b=s(93099),v=s(10888),_=s(2384),w=s(86105);class O extends o.Transform{constructor(T){super({readableObjectMode:!0}),T=T||{},this.options=T,this.parsingContext=new b.ParsingContext(Object.assign({parser:this},T)),this.util=new v.Util({dataFactory:T.dataFactory,parsingContext:this.parsingContext}),this.jsonParser=new c,this.contextJobs=[],this.typeJobs=[],this.contextAwaitingJobs=[],this.lastDepth=0,this.lastKeys=[],this.lastOnValueJob=Promise.resolve(),this.attachJsonParserListeners(),this.on("end",()=>{this.jsonParser.mode!==void 0&&this.emit("error",new Error("Unclosed document"))})}static fromHttpResponse(T,S,E,D){let I,V,K=["application/activity+json"];if(D&&D.wellKnownMediaTypes&&(K=D.wellKnownMediaTypes),S!=="application/ld+json"&&!K.includes(S)){if(S!=="application/json"&&!S.endsWith("+json"))throw new a.ErrorCoded(`Unsupported JSON-LD media type ${S}`,a.ERROR_CODES.LOADING_DOCUMENT_FAILED);if(E&&E.has("Link")&&E.forEach((B,$)=>{if($==="link"){const G=(0,_.parse)(B);for(const U of G.get("rel","http://www.w3.org/ns/json-ld#context")){if(I)throw new a.ErrorCoded("Multiple JSON-LD context link headers were found on "+T,a.ERROR_CODES.MULTIPLE_CONTEXT_LINK_HEADERS);I=U.uri}}}),!I&&!D?.ignoreMissingContextLinkHeader)throw new a.ErrorCoded(`Missing context link header for media type ${S} on ${T}`,a.ERROR_CODES.LOADING_DOCUMENT_FAILED)}if(E&&E.has("Content-Type")){const B=E.get("Content-Type"),$=/; *profile=([^"]*)/.exec(B);$&&$[1]==="http://www.w3.org/ns/json-ld#streaming"&&(V=!0)}return new O(Object.assign({baseIRI:T,context:I,streamingProfile:V},D||{}))}import(T){if("pipe"in T){T.on("error",E=>S.emit("error",E));const S=T.pipe(new O(this.options));return S}{const S=new o.PassThrough({readableObjectMode:!0});T.on("error",D=>E.emit("error",D)),T.on("data",D=>S.push(D)),T.on("end",()=>S.push(null));const E=S.pipe(new O(this.options));return E}}_transform(T,S,E){this.jsonParser.write(T),this.lastOnValueJob.then(()=>E(),D=>E(D))}async newOnValueJob(T,S,E,D){let I=!0;if(D&&E<this.lastDepth){const G=this.parsingContext.listPointerStack[this.lastDepth];G&&(G.value&&this.push(this.util.dataFactory.quad(G.value,this.util.rdfRest,this.util.rdfNil,this.util.getDefaultGraph())),G.listId.listHead=!0,this.parsingContext.idStack[G.listRootDepth+1]=[G.listId],this.parsingContext.listPointerStack.splice(this.lastDepth,1)),await t.EntryHandlerContainer.isBufferableContainerHandler(this.parsingContext,this.lastKeys,this.lastDepth)?(this.parsingContext.pendingContainerFlushBuffers.push({depth:this.lastDepth,keys:this.lastKeys.slice(0,this.lastKeys.length)}),I=!1):await this.flushBuffer(this.lastDepth,this.lastKeys)}const V=await this.util.unaliasKeyword(T[E],T,E),K=await this.util.unaliasKeywordParent(T,E);this.parsingContext.emittedStack[E]=!0;let B=!0;a.Util.isValidKeyword(V)&&K==="@reverse"&&V!=="@context"&&this.emit("error",new a.ErrorCoded(`Found the @id '${S}' inside an @reverse property`,a.ERROR_CODES.INVALID_REVERSE_PROPERTY_MAP));let $=!1;this.parsingContext.validationStack.length>1&&($=this.parsingContext.validationStack[this.parsingContext.validationStack.length-1].property);for(let G=Math.max(1,this.parsingContext.validationStack.length-1);G<T.length-1;G++){const U=this.parsingContext.validationStack[G]||(this.parsingContext.validationStack[G]=await this.validateKey(T.slice(0,G+1),G,$));if(!U.valid){this.parsingContext.emittedStack[E]=!1,B=!1;break}!$&&U.property&&($=!0)}if(await this.util.isLiteral(T,E)&&(B=!1),B)for(const G of O.ENTRY_HANDLERS){const U=await G.test(this.parsingContext,this.util,V,T,E);if(U){await G.handle(this.parsingContext,this.util,V,T,S,E,U),G.isStackProcessor()&&(this.parsingContext.processingStack[E]=!0);break}}E===0&&Array.isArray(S)&&await this.util.validateValueIndexes(S),I&&E<this.lastDepth&&this.flushStacks(this.lastDepth),this.lastDepth=E,this.lastKeys=T,this.parsingContext.unaliasedKeywordCacheStack.splice(E-1)}flushStacks(T){this.parsingContext.processingStack.splice(T,1),this.parsingContext.processingType.splice(T,1),this.parsingContext.emittedStack.splice(T,1),this.parsingContext.idStack.splice(T,1),this.parsingContext.graphStack.splice(T+1,1),this.parsingContext.graphContainerTermStack.splice(T,1),this.parsingContext.jsonLiteralStack.splice(T,1),this.parsingContext.validationStack.splice(T-1,2),this.parsingContext.literalStack.splice(T,this.parsingContext.literalStack.length-T),this.parsingContext.annotationsBuffer.splice(T,1)}async flushBuffer(T,S){let E=this.parsingContext.idStack[T];E||(E=this.parsingContext.idStack[T]=[this.util.dataFactory.blankNode()]);const D=this.parsingContext.unidentifiedValuesBuffer[T];if(D){for(const K of E){const B=await this.util.getDepthOffsetGraph(T,S),$=this.parsingContext.graphStack[T]||B>=0?this.parsingContext.idStack[T-B-1]:[await this.util.getGraphContainerValue(S,T)];if($)for(const G of $){this.parsingContext.emittedStack[T]=!0;for(const U of D)this.util.emitQuadChecked(T,K,U.predicate,U.object,G,U.reverse,U.isEmbedded)}else{const G=this.parsingContext.getUnidentifiedGraphBufferSafe(T-await this.util.getDepthOffsetGraph(T,S)-1);for(const U of D)U.reverse?G.push({object:K,predicate:U.predicate,subject:U.object,isEmbedded:U.isEmbedded}):G.push({object:U.object,predicate:U.predicate,subject:K,isEmbedded:U.isEmbedded})}}this.parsingContext.unidentifiedValuesBuffer.splice(T,1),this.parsingContext.literalStack.splice(T,1),this.parsingContext.jsonLiteralStack.splice(T,1)}const I=this.parsingContext.unidentifiedGraphsBuffer[T];if(I){for(const K of E){const B=T!==1||K.termType!=="BlankNode"||this.parsingContext.topLevelProperties?K:this.util.getDefaultGraph();this.parsingContext.emittedStack[T]=!0;for(const $ of I)this.parsingContext.emitQuad(T,this.util.dataFactory.quad($.subject,$.predicate,$.object,B))}this.parsingContext.unidentifiedGraphsBuffer.splice(T,1)}const V=this.parsingContext.annotationsBuffer[T];if(V){V.length>0&&T===1&&this.parsingContext.emitError(new a.ErrorCoded("Annotations can not be made on top-level nodes",a.ERROR_CODES.INVALID_ANNOTATION));const K=this.parsingContext.getAnnotationsBufferSafe(T-1);for(const B of V)K.push(B);delete this.parsingContext.annotationsBuffer[T]}}async validateKey(T,S,E){for(const D of O.ENTRY_HANDLERS)if(await D.validate(this.parsingContext,this.util,T,S,E))return{valid:!0,property:E||D.isPropertyHandler()};return{valid:!1,property:!1}}attachJsonParserListeners(){this.jsonParser.onValue=T=>{const S=this.jsonParser.stack.length,E=new Array(S+1).fill(0).map((D,I)=>I===S?this.jsonParser.key:this.jsonParser.stack[I].key);if(!this.isParsingContextInner(S)){const D=()=>this.newOnValueJob(E,T,S,!0);if(this.parsingContext.streamingProfile||this.parsingContext.contextTree.getContext(E.slice(0,-1)))this.lastOnValueJob=this.lastOnValueJob.then(D);else if(E[S]==="@context"){let I=this.contextJobs[S];I||(I=this.contextJobs[S]=[]),I.push(D)}else this.contextAwaitingJobs.push({job:D,keys:E,depth:S});this.parsingContext.streamingProfile||S!==0||(this.lastOnValueJob=this.lastOnValueJob.then(()=>this.executeBufferedJobs()))}},this.jsonParser.onError=T=>{this.emit("error",T)}}isParsingContextInner(T){for(let S=T;S>0;S--)if(this.jsonParser.stack[S-1].key==="@context")return!0;return!1}async executeBufferedJobs(){for(const S of this.contextJobs)if(S)for(const E of S)await E();this.parsingContext.unaliasedKeywordCacheStack.splice(0);const T=[];for(const S of this.contextAwaitingJobs)await this.util.unaliasKeyword(S.keys[S.depth],S.keys,S.depth,!0)==="@type"||typeof S.keys[S.depth]=="number"&&await this.util.unaliasKeyword(S.keys[S.depth-1],S.keys,S.depth-1,!0)==="@type"?this.typeJobs.push({job:S.job,keys:S.keys.slice(0,S.keys.length-1)}):T.push(S);for(const S of T){if(this.typeJobs.length>0){const E=[],D=[];for(let K=0;K<this.typeJobs.length;K++){const B=this.typeJobs[K];v.Util.isPrefixArray(B.keys,S.keys)&&(E.push(B),D.push(K))}const I=E.sort((K,B)=>K.keys.length-B.keys.length);for(const K of I)await K.job();const V=D.sort().reverse();for(const K of V)this.typeJobs.splice(K,1)}await S.job()}}}O.DEFAULT_PROCESSING_MODE="1.1",O.ENTRY_HANDLERS=[new i.EntryHandlerArrayValue,new u.EntryHandlerKeywordContext,new d.EntryHandlerKeywordId,new p.EntryHandlerKeywordIncluded,new l.EntryHandlerKeywordGraph,new f.EntryHandlerKeywordNest,new h.EntryHandlerKeywordType,new m.EntryHandlerKeywordValue,new w.EntryHandlerKeywordAnnotation,new t.EntryHandlerContainer,new y.EntryHandlerKeywordUnknownFallback,new r.EntryHandlerPredicate,new n.EntryHandlerInvalidFallback],e.JsonLdParser=O},52291:(g,e)=>{let s;Object.defineProperty(e,"__esModule",{value:!0});const c=new Uint8Array(16);e.default=function(){if(!s){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");s=crypto.getRandomValues.bind(crypto)}return s(c)}},52452:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(98349),e)},52505:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(51941),e)},52573:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GroupConcatAggregator=void 0;const c=s(86581),a=s(77545);class o extends c.AggregateEvaluator{constructor(t,n,r,u,l){super(t,n,l),this.dataFactory=r,this.state=void 0,this.lastLanguageValid=!0,this.lastLanguage=void 0,this.separator=u??" "}emptyValueTerm(){return a.typedLiteral("",a.TypeURL.XSD_STRING)}putTerm(t){this.state===void 0?(this.state=t.value,t.termType==="Literal"&&(this.lastLanguage=t.language)):(this.state+=this.separator+t.value,this.lastLanguageValid&&t.termType==="Literal"&&this.lastLanguage!==t.language&&(this.lastLanguageValid=!1,this.lastLanguage=void 0))}termResult(){return this.state===void 0?this.emptyValue():this.lastLanguageValid&&this.lastLanguage?a.langString(this.state,this.lastLanguage).toRDF(this.dataFactory):a.typedLiteral(this.state,a.TypeURL.XSD_STRING)}}e.GroupConcatAggregator=o},52598:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(69909),e)},52604:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getContextDestinationUrl=e.getContextDestination=e.getDataDestinationContext=e.getDataDestinationValue=e.getDataDestinationType=e.isDataDestinationRawType=void 0;const c=s(90711);function a(i){return typeof i=="string"||"remove"in i}function o(i){return a(i)?i:i.value}e.isDataDestinationRawType=a,e.getDataDestinationType=function(i){return typeof i=="string"?"":"remove"in i?"rdfjsStore":i.type},e.getDataDestinationValue=o,e.getDataDestinationContext=function(i,t){return typeof i=="string"||"remove"in i||!i.context?t:t.merge(i.context)},e.getContextDestination=function(i){return i.get(c.KeysRdfUpdateQuads.destination)},e.getContextDestinationUrl=function(i){if(i){let t=o(i);if(typeof t=="string"){const n=t.indexOf("#");return n>=0&&(t=t.slice(0,n)),t}}}},52728:function(g,e,s){var c=this&&this.__awaiter||function(o,i,t,n){return new(t||(t=Promise))(function(r,u){function l(f){try{p(n.next(f))}catch(h){u(h)}}function d(f){try{p(n.throw(f))}catch(h){u(h)}}function p(f){var h;f.done?r(f.value):(h=f.value,h instanceof t?h:new t(function(y){y(h)})).then(l,d)}p((n=n.apply(o,i||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.stringify=function(o){return c(this,void 0,void 0,function*(){let i="";return o.on("data",t=>{i+=t}),yield(0,a.promisifyEventEmitter)(o),i})};const a=s(66486)},52729:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfJoinNone=void 0;const c=s(95445),a=s(90711),o=s(90412),i=s(81926),t=s(99214),n=s(75627);class r extends c.ActorRdfJoin{constructor(l){super(l,{logicalType:"inner",physicalName:"none",limitEntries:0})}async test(l){return l.entries.length>0?(0,o.failTest)(`Actor ${this.name} can only join zero entries`):await this.getJoinCoefficients(l,void 0)}async getOutput(l){const d=l.context.getSafe(a.KeysInitQuery.dataFactory),p=await i.BindingsFactory.create(this.mediatorMergeBindingsContext,l.context,d);return{result:{bindingsStream:new n.ArrayIterator([p.bindings()],{autoStart:!1}),metadata:()=>Promise.resolve({state:new t.MetadataValidationState,cardinality:{type:"exact",value:1},variables:[]}),type:"bindings"}}}async getJoinCoefficients(l,d){return(0,o.passTestWithSideData)({iterations:0,persistedItems:0,blockingItems:0,requestTime:0},d)}}e.ActorRdfJoinNone=r},52875:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Converter=void 0;const c=s(99349),a=s(916);class o{constructor(t){(t=t||{delimiter:"_"}).prefixVariableQuestionMark=!1,this.delimiter=t.delimiter||"_",this.parser=new a.SparqlJsonParser(t),this.materializeRdfJsTerms=t.materializeRdfJsTerms}static addValueToTree(t,n,r,u,l,d){const p=n[0],f=u?u+d+p:p,h=l.singularizeVariables[f];if(n.length===1)h?t[p]||(t[p]=r):(t[p]||(t[p]=[]),t[p].push(r));else{let y;h?(t[p]||(t[p]={}),y=t[p]):(t[p]||(t[p]=[{}]),y=t[p][0]),o.addValueToTree(y,n.slice(1),r,f,l,d)}}static mergeTrees(t,n){if(typeof t!=typeof n)throw new Error(`Two incompatible tree nodes were found: ${typeof t} and ${typeof n}`);if(Array.isArray(t)!==Array.isArray(n))throw new Error(`Two incompatible tree nodes were found: Array?${Array.isArray(t)} and Array?${Array.isArray(n)}`);if(typeof t=="object"&&typeof n=="object"){if(t.termType&&n.termType)return t.equals(n)?{valid:!0,result:t}:{valid:!1,result:t};if(Array.isArray(t)&&Array.isArray(n)){if(t.length>0){const r=[];let u=!1;for(const l of t){const d=o.mergeTrees(l,n[0]);d.valid?(u=!0,r.push(d.result)):r.push(l)}if(u)return{valid:!0,result:r}}return{valid:!0,result:t.concat(n)}}{const r={};for(const u in n)r[u]=n[u];for(const u in t)if(r[u]){const l=o.mergeTrees(t[u],r[u]);if(!l.valid)return{valid:!1,result:t};r[u]=l.result}else r[u]=t[u];return{valid:!0,result:r}}}throw new Error(`Unmergable tree types: ${typeof t} and ${typeof n}`)}static materializeTree(t){if(t.termType)return(0,c.getTermRaw)(t);if(Array.isArray(t))return t.map(o.materializeTree);{const n={};for(const r in t)n[r]=o.materializeTree(t[r]);return n}}sparqlJsonResultsToTree(t,n){return this.bindingsToTree(this.parser.parseJsonResults(t),n||{singularizeVariables:{}})}bindingsToTree(t,n){const r=n&&n.singularizeVariables[""];let u=r?{}:[];for(const l of t){const d=r?{}:[{}];for(const p in l){const f=p.split(this.delimiter),h=l[p];o.addValueToTree(r?d:d[0],f,h,"",n,this.delimiter)}u=o.mergeTrees(u,d).result}return this.materializeRdfJsTerms&&(u=o.materializeTree(u)),u}}e.Converter=o},53119:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermTransformer=void 0;const c=s(73143),a=s(96331),o=s(54833),i=s(64900),t=s(98575),n=s(98575),r=s(29658),u=s(29658),l=s(86273);e.TermTransformer=class{constructor(d){this.superTypeProvider=d}transformRDFTermUnsafe(d){return this.transformTerm({term:d,type:a.Algebra.types.EXPRESSION,expressionType:a.Algebra.expressionTypes.TERM})}transformTerm(d){if(!d.term)throw new t.InvalidExpression(d);switch(d.term.termType){case"Variable":return new o.Variable(c.termToString(d.term));case"Literal":return this.transformLiteral(d.term);case"NamedNode":return new o.NamedNode(d.term.value);case"BlankNode":return new o.BlankNode(d.term.value);case"Quad":return new o.Quad(this.transformRDFTermUnsafe(d.term.subject),this.transformRDFTermUnsafe(d.term.predicate),this.transformRDFTermUnsafe(d.term.object),this.transformRDFTermUnsafe(d.term.graph));case"DefaultGraph":return new o.DefaultGraph}}transformLiteral(d){if(!d.datatype||[null,void 0,""].includes(d.datatype.value))return d.language?new o.LangStringLiteral(d.value,d.language):new o.StringLiteral(d.value);const p=d.datatype.value,f=(0,l.getSuperTypeDict)(p,this.superTypeProvider);try{if(i.TypeURL.XSD_STRING in f)return new o.StringLiteral(d.value,p);if(i.TypeURL.RDF_LANG_STRING in f)return new o.LangStringLiteral(d.value,d.language);if(i.TypeURL.XSD_YEAR_MONTH_DURATION in f)return new o.YearMonthDurationLiteral((0,r.parseYearMonthDuration)(d.value),d.value,p);if(i.TypeURL.XSD_DAY_TIME_DURATION in f)return new o.DayTimeDurationLiteral((0,r.parseDayTimeDuration)(d.value),d.value,p);if(i.TypeURL.XSD_DURATION in f)return new o.DurationLiteral((0,r.parseDuration)(d.value),d.value,p);if(i.TypeURL.XSD_DATE_TIME in f){const m=new Date(d.value);return Number.isNaN(m.getTime())?new o.NonLexicalLiteral(void 0,p,this.superTypeProvider,d.value):new o.DateTimeLiteral((0,r.parseDateTime)(d.value),d.value,p)}if(i.TypeURL.XSD_DATE in f)return new o.DateLiteral((0,r.parseDate)(d.value),d.value,p);if(i.TypeURL.XSD_TIME in f)return new o.TimeLiteral((0,r.parseTime)(d.value),d.value,p);if(i.TypeURL.XSD_BOOLEAN in f)return d.value!=="true"&&d.value!=="false"&&d.value!=="1"&&d.value!=="0"?new o.NonLexicalLiteral(void 0,p,this.superTypeProvider,d.value):new o.BooleanLiteral(d.value==="true"||d.value==="1",d.value);if(i.TypeURL.XSD_DECIMAL in f){const m=u.parseXSDDecimal(d.value);return m===void 0?new o.NonLexicalLiteral(void 0,p,this.superTypeProvider,d.value):i.TypeURL.XSD_INTEGER in f?new o.IntegerLiteral(m,p,d.value):new o.DecimalLiteral(m,p,d.value)}const h=i.TypeURL.XSD_FLOAT in f,y=i.TypeURL.XSD_DOUBLE in f;if(h||y){const m=u.parseXSDFloat(d.value);return m===void 0?new o.NonLexicalLiteral(void 0,p,this.superTypeProvider,d.value):h?new o.FloatLiteral(m,p,d.value):new o.DoubleLiteral(m,p,d.value)}return new o.Literal(d.value,p,d.value)}catch(h){if((0,n.isExpressionError)(h))return new o.NonLexicalLiteral(void 0,p,this.superTypeProvider,d.value);throw h}}}},53261:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.RdfStoreIndexNestedMapRecursive=void 0;const c=s(95439);e.RdfStoreIndexNestedMapRecursive=class{constructor(a){this.features={quotedTripleFiltering:!1},this.dictionary=a.dictionary,this.nestedMap=new Map}set(a,o){let i=this.nestedMap,t=!1;for(const[n,r]of a.entries()){const u=i;let l=u.get(r);l?n===a.length-1&&(t=!0):(l=n===a.length-1?o:new Map,u.set(r,l)),i=l}return!t}remove(a){const o=this.nestedMap,i=o.get(a[0]);if(!i)return!1;const t=i.get(a[1]);if(!t)return!1;const n=t.get(a[2]);if(!n)return!1;const r=n.delete(a[3]);return r&&n.size===0&&(t.delete(a[2]),t.size===0&&(i.delete(a[1]),i.size===0&&o.delete(a[0]))),r}get(a){const o=(0,c.encodeOptionalTerms)(a,this.dictionary);if(o&&!o.includes(void 0))return this.getEncoded(o)}getEncoded(a){const o=this.nestedMap.get(a[0]);if(!o)return;const i=o.get(a[1]);if(!i)return;const t=i.get(a[2]);return t?t.get(a[3]):void 0}*find(a){const o=(0,c.encodeOptionalTerms)(a,this.dictionary);if(o)for(const i of this.findEncoded(o,a))yield[o[0]!==void 0?a[0]:this.dictionary.decode(i[0]),o[1]!==void 0?a[1]:this.dictionary.decode(i[1]),o[2]!==void 0?a[2]:this.dictionary.decode(i[2]),o[3]!==void 0?a[3]:this.dictionary.decode(i[3])]}*findEncoded(a,o){return yield*this.findEncodedInner(0,a,o,this.nestedMap,[])}*findEncodedInner(a,o,i,t,n){if(a===o.length)yield[...n];else{const r=o[a];if(i[a]){const u=r;if(u!==void 0){const l=t.get(u);l&&(n[a]=r,yield*this.findEncodedInner(a+1,o,i,l,n))}}else for(const[u,l]of t.entries())n[a]=u,yield*this.findEncodedInner(a+1,o,i,l,n)}}count(a){return this.countInner(0,a,this.nestedMap)}countInner(a,o,i){const t=o[a];let n=0;if(t){const r=this.dictionary.encodeOptional(t);if(r!==void 0){if(a===o.length-1)return i.has(r)?1:0;const u=i.get(r);u&&(n+=this.countInner(a+1,o,u))}}else{if(a===o.length-1)return i.size;for(const r of i.values())n+=this.countInner(a+1,o,r)}return n}}},53284:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeHandlerSelectionAdapter=void 0;const c=s(96331),a=s(65183),o=s(75566);class i extends o.NodeHandlerAdapter{constructor(n,r,u){super(n,r,u)}getNodeQuadContextFieldNode(n,r,u){return this.getNodeQuadContextSelectionSet(n.selectionSet,r,Object.assign(Object.assign({},u),{path:this.util.appendFieldToPath(u.path,r)}))}fieldToOperation(n,r,u,l){const d=u;let p,f=0;if((r.name.value==="id"||r.name.value==="graph")&&(u=!1,r.arguments))for(const T of r.arguments)T.name.value==="_"&&this.util.handleNodeValue(T.value,r.name.value,n);const h=this.util.getFieldLabel(r);if(n.singularizeState===a.SingularizeState.SINGLE&&(n.singularizeVariables[this.util.nameToVariable(h,n).value]=!0),u){const T=this.handleMetaField(n,h,l);if(T)return T}const y=l?[this.util.operationFactory.createBgp(l)]:[],m=this.getNodeQuadContextFieldNode(r,h,n);let b=m.subject||this.util.nameToVariable(h,n),v=m.graph||n.graph;m.auxiliaryPatterns&&y.push(this.util.operationFactory.createBgp(m.auxiliaryPatterns));let _=!0,w=null;if(u&&r.arguments&&r.arguments.length)for(const T of r.arguments){if(T.name.value==="_"){const S=this.util.handleNodeValue(T.value,r.name.value,n);w=S.terms,y.push(this.util.operationFactory.createBgp(S.terms.map(E=>this.util.createQuadPattern(n.subject,r.name,E,n.graph,n.context)))),S.auxiliaryPatterns&&y.push(this.util.operationFactory.createBgp(S.auxiliaryPatterns)),u=!1;break}if(T.name.value==="graph"){const S=this.util.handleNodeValue(T.value,r.name.value,n);if(S.terms.length!==1)throw new Error(`Only single values can be set as graph, but got ${S.terms.length} at ${r.name.value}`);v=S.terms[0],n=Object.assign(Object.assign({},n),{graph:v}),S.auxiliaryPatterns&&y.push(this.util.operationFactory.createBgp(S.auxiliaryPatterns));break}if(T.name.value==="alt"){let S=T.value;S.kind!=="ListValue"&&(S={kind:"ListValue",values:[S]}),y.push(this.util.createQuadPath(n.subject,r.name,S,b,n.graph,n.context)),_=!1;break}}if(u&&_&&y.push(this.util.operationFactory.createBgp([this.util.createQuadPattern(n.subject,r.name,b,n.graph,n.context)])),r.arguments&&r.arguments.length){for(const T of r.arguments)if(!(T.name.value==="_"||T.name.value==="graph"||T.name.value==="alt"))if(T.name.value==="first"){if(T.value.kind!=="IntValue")throw new Error("Invalid value type for 'first' argument: "+T.value.kind);p=parseInt(T.value.value,10)}else if(T.name.value==="offset"){if(T.value.kind!=="IntValue")throw new Error("Invalid value type for 'offset' argument: "+T.value.kind);f=parseInt(T.value.value,10)}else{const S=this.util.handleNodeValue(T.value,T.name.value,n);y.push(this.util.operationFactory.createBgp(S.terms.map(E=>this.util.createQuadPattern(b,T.name,E,n.graph,n.context)))),S.auxiliaryPatterns&&y.push(this.util.operationFactory.createBgp(S.auxiliaryPatterns))}}const O=this.getDirectiveOutputs(r.directives,h,n);if(!O)return this.util.operationFactory.createBgp([]);let A=this.util.joinOperations(y);if(r.selectionSet&&r.selectionSet.selections.length){if(w){if(w.length!==1)throw new Error(`Only single values can be set as id, but got ${w.length} at ${r.name.value}`);b=w[0]}const T=Object.assign(Object.assign(Object.assign({},n),d?{path:this.util.appendFieldToPath(n.path,h)}:{}),{graph:v,subject:d?b:n.subject});let S=!1;const E=r.selectionSet.selections.filter(I=>I.kind!=="Field"||I.name.value!=="totalCount"||(S=!0,!1));let D=this.util.joinOperations(y.concat(E.map(I=>this.util.handleNode(I,T))));if(S){const I=this.util.dataFactory.variable("var"+this.settings.expressionVariableCounter++),V=this.util.dataFactory.variable(b.value+this.settings.variableDelimiter+"totalCount"),K=this.util.operationFactory.createBoundAggregate(I,"count",this.util.operationFactory.createTermExpression(b),!1),B=this.util.operationFactory.createProject(this.util.operationFactory.createExtend(this.util.operationFactory.createGroup(A,[],[K]),V,this.util.operationFactory.createTermExpression(I)),[V]);n.terminalVariables.push(V),D=E.length?this.util.operationFactory.createJoin([this.util.operationFactory.createProject(D,[]),B]):B}A=D}else u&&b.termType==="Variable"&&n.terminalVariables.push(b);return(f||p)&&(A=this.util.operationFactory.createSlice(this.util.operationFactory.createProject(A,c.Util.inScopeVariables(A)),f,p)),this.handleDirectiveOutputs(O,A)}handleMetaField(n,r,u){if(r==="__typename"){const l=this.util.nameToVariable(r,n);return n.terminalVariables.push(l),this.util.operationFactory.createBgp([this.util.operationFactory.createPattern(n.subject,this.util.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),this.util.nameToVariable(r,n),n.graph)].concat(u||[]))}}}e.NodeHandlerSelectionAdapter=i},53417:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(60808),e)},53550:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(69160),e)},53638:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorInitQueryBase=void 0;const c=s(6180),a=s(90412);class o extends c.ActorInit{async test(t){return(0,a.passTestVoid)()}async run(t){throw new Error("ActorInitSparql#run is not supported in the browser.")}}e.ActorInitQueryBase=o},53801:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfParseHtml=void 0;const c=s(90412);class a extends c.Actor{constructor(i){super(i)}}e.ActorRdfParseHtml=a},53806:function(g,e,s){var c=this&&this.__assign||function(){return c=Object.assign||function(m){for(var b,v=1,_=arguments.length;v<_;v++)for(var w in b=arguments[v])Object.prototype.hasOwnProperty.call(b,w)&&(m[w]=b[w]);return m},c.apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(m,b,v,_){_===void 0&&(_=v);var w=Object.getOwnPropertyDescriptor(b,v);w&&!("get"in w?!b.__esModule:w.writable||w.configurable)||(w={enumerable:!0,get:function(){return b[v]}}),Object.defineProperty(m,_,w)}:function(m,b,v,_){_===void 0&&(_=v),m[_]=b[v]}),o=this&&this.__setModuleDefault||(Object.create?function(m,b){Object.defineProperty(m,"default",{enumerable:!0,value:b})}:function(m,b){m.default=b}),i=this&&this.__importStar||function(m){if(m&&m.__esModule)return m;var b={};if(m!=null)for(var v in m)v!=="default"&&Object.prototype.hasOwnProperty.call(m,v)&&a(b,m,v);return o(b,m),b};Object.defineProperty(e,"__esModule",{value:!0}),e.render=void 0;var t=i(s(45413)),n=s(72730),r=s(94460),u=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function l(m){return m.replace(/"/g,"&quot;")}var d=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function p(m,b){b===void 0&&(b={});for(var v=("length"in m)?m:[m],_="",w=0;w<v.length;w++)_+=f(v[w],b);return _}function f(m,b){switch(m.type){case t.Root:return p(m.children,b);case t.Doctype:case t.Directive:return"<".concat(m.data,">");case t.Comment:return"<!--".concat(m.data,"-->");case t.CDATA:return function(v){return"<![CDATA[".concat(v.children[0].data,"]]>")}(m);case t.Script:case t.Style:case t.Tag:return function(v,_){var w;_.xmlMode==="foreign"&&(v.name=(w=r.elementNames.get(v.name))!==null&&w!==void 0?w:v.name,v.parent&&h.has(v.parent.name)&&(_=c(c({},_),{xmlMode:!1}))),!_.xmlMode&&y.has(v.name)&&(_=c(c({},_),{xmlMode:"foreign"}));var O="<".concat(v.name),A=function(T,S){var E;if(T){var D=((E=S.encodeEntities)!==null&&E!==void 0?E:S.decodeEntities)===!1?l:S.xmlMode||S.encodeEntities!=="utf8"?n.encodeXML:n.escapeAttribute;return Object.keys(T).map(function(I){var V,K,B=(V=T[I])!==null&&V!==void 0?V:"";return S.xmlMode==="foreign"&&(I=(K=r.attributeNames.get(I))!==null&&K!==void 0?K:I),S.emptyAttrs||S.xmlMode||B!==""?"".concat(I,'="').concat(D(B),'"'):I}).join(" ")}}(v.attribs,_);return A&&(O+=" ".concat(A)),v.children.length===0&&(_.xmlMode?_.selfClosingTags!==!1:_.selfClosingTags&&d.has(v.name))?(_.xmlMode||(O+=" "),O+="/>"):(O+=">",v.children.length>0&&(O+=p(v.children,_)),!_.xmlMode&&d.has(v.name)||(O+="</".concat(v.name,">"))),O}(m,b);case t.Text:return function(v,_){var w,O=v.data||"";return((w=_.encodeEntities)!==null&&w!==void 0?w:_.decodeEntities)===!1||!_.xmlMode&&v.parent&&u.has(v.parent.name)||(O=_.xmlMode||_.encodeEntities!=="utf8"?(0,n.encodeXML)(O):(0,n.escapeText)(O)),O}(m,b)}}e.render=p,e.default=p;var h=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),y=new Set(["svg","math"])},53819:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryProcessExplainLogical=void 0;const c=s(59478),a=s(90711),o=s(90412);class i extends c.ActorQueryProcess{constructor(n){super(n)}async test(n){return(n.context.get(a.KeysInitQuery.explain)??n.context.get(new o.ActionContextKey("explain")))!=="logical"?(0,o.failTest)(`${this.name} can only explain in 'logical' mode.`):(0,o.passTestVoid)()}async run(n){let{operation:r,context:u}=await this.queryProcessor.parse(n.query,n.context);return{operation:r,context:u}=await this.queryProcessor.optimize(r,u),{result:{explain:!0,type:"logical",data:r}}}}e.ActorQueryProcessExplainLogical=i},53846:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},53930:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CountAggregator=void 0;const c=s(86581),a=s(77545);class o extends c.AggregateEvaluator{constructor(t,n,r){super(t,n,r),this.state=void 0}emptyValueTerm(){return(0,a.typedLiteral)("0",a.TypeURL.XSD_INTEGER)}putTerm(t){this.state===void 0&&(this.state=0),this.state++}termResult(){return this.state===void 0?this.emptyValue():(0,a.typedLiteral)(String(this.state),a.TypeURL.XSD_INTEGER)}}e.CountAggregator=o},53992:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DirectiveNodeHandlerOptional=void 0;const c=s(67797);class a extends c.DirectiveNodeHandlerAdapter{constructor(i,t){super("optional",i,t)}handle(i,t){return{operationOverrider:n=>this.util.operationFactory.createLeftJoin(this.util.operationFactory.createBgp([]),n)}}}e.DirectiveNodeHandlerOptional=a},54064:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryOperationOrderBy=void 0;const c=s(66490),a=s(90412),o=s(77545),i=s(67021),t=s(96331),n=s(14639);class r extends c.ActorQueryOperationTypedMediated{constructor(l){super(l,"orderby"),this.window=l.window??Number.POSITIVE_INFINITY,this.mediatorExpressionEvaluatorFactory=l.mediatorExpressionEvaluatorFactory,this.mediatorTermComparatorFactory=l.mediatorTermComparatorFactory}async testOperation(){return(0,a.passTestVoid)()}async runOperation(l,d){const p=await this.mediatorQueryOperation.mediate({operation:l.input,context:d}),f=(0,i.getSafeBindings)(p),h={window:this.window};let{bindingsStream:y}=f;const m=await this.mediatorTermComparatorFactory.mediate({context:d});for(let b=l.expressions.length-1;b>=0;b--){let v=l.expressions[b];const _=this.isAscending(v);v=this.extractSortExpression(v);const w=await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:v,context:d}),O=async(S,E,D)=>{try{D({bindings:S,result:await w.evaluate(S)})}catch(I){(0,o.isExpressionError)(I)||y.emit("error",I),D({bindings:S,result:void 0})}E()},A=y.transform({transform:O});y=new n.SortIterator(A,(S,E)=>{let D=m.orderTypes(S.result,E.result);return _||(D*=-1),D},h).map(({bindings:S})=>S)}return{type:"bindings",bindingsStream:y,metadata:f.metadata}}extractSortExpression(l){const{expressionType:d,operator:p}=l;return d!==t.Algebra.expressionTypes.OPERATOR?l:p==="desc"?l.args[0]:l}isAscending(l){const{expressionType:d,operator:p}=l;return d!==t.Algebra.expressionTypes.OPERATOR||p!=="desc"}}e.ActorQueryOperationOrderBy=r},54068:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfMetadataExtractPutAccepted=void 0;const c=s(18412),a=s(90412);class o extends c.ActorRdfMetadataExtract{constructor(t){super(t)}async test(t){return(0,a.passTestVoid)()}async run(t){const n={};return t.headers?.get("accept-put")&&(n.putAccepted=t.headers.get("accept-put")?.split(/, */u)),{metadata:n}}}e.ActorRdfMetadataExtractPutAccepted=o},54236:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ClosableTransformIterator=void 0;const c=s(75627);class a extends c.TransformIterator{constructor(i,t){super(i,t),this.onClose=t.onClose}_end(i){this.onClose(),super._end(i)}}e.ClosableTransformIterator=a},54309:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(59383),e)},54392:function(g,e,s){var c,a=this&&this.__createBinding||(Object.create?function(b,v,_,w){w===void 0&&(w=_);var O=Object.getOwnPropertyDescriptor(v,_);O&&!("get"in O?!v.__esModule:O.writable||O.configurable)||(O={enumerable:!0,get:function(){return v[_]}}),Object.defineProperty(b,w,O)}:function(b,v,_,w){w===void 0&&(w=_),b[w]=v[_]}),o=this&&this.__setModuleDefault||(Object.create?function(b,v){Object.defineProperty(b,"default",{enumerable:!0,value:v})}:function(b,v){b.default=v}),i=this&&this.__importStar||(c=function(b){return c=Object.getOwnPropertyNames||function(v){var _=[];for(var w in v)Object.prototype.hasOwnProperty.call(v,w)&&(_[_.length]=w);return _},c(b)},function(b){if(b&&b.__esModule)return b;var v={};if(b!=null)for(var _=c(b),w=0;w<_.length;w++)_[w]!=="default"&&a(v,b,_[w]);return o(v,b),v}),t=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(e,"__esModule",{value:!0}),e.DomUtils=e.getFeed=e.ElementType=e.QuoteType=e.Tokenizer=e.DefaultHandler=e.DomHandler=e.Parser=void 0,e.parseDocument=d,e.parseDOM=p,e.createDocumentStream=function(b,v,_){const w=new u.DomHandler(O=>b(O,w.root),v,_);return new n.Parser(w,v)},e.createDomStream=function(b,v,_){const w=new u.DomHandler(b,v,_);return new n.Parser(w,v)},e.parseFeed=function(b,v=m){return(0,h.getFeed)(p(b,v))};const n=s(72157);var r=s(72157);Object.defineProperty(e,"Parser",{enumerable:!0,get:function(){return r.Parser}});const u=s(41141);var l=s(41141);function d(b,v){const _=new u.DomHandler(void 0,v);return new n.Parser(_,v).end(b),_.root}function p(b,v){return d(b,v).children}Object.defineProperty(e,"DomHandler",{enumerable:!0,get:function(){return l.DomHandler}}),Object.defineProperty(e,"DefaultHandler",{enumerable:!0,get:function(){return l.DomHandler}});var f=s(14709);Object.defineProperty(e,"Tokenizer",{enumerable:!0,get:function(){return t(f).default}}),Object.defineProperty(e,"QuoteType",{enumerable:!0,get:function(){return f.QuoteType}}),e.ElementType=i(s(45413));const h=s(98888);var y=s(98888);Object.defineProperty(e,"getFeed",{enumerable:!0,get:function(){return y.getFeed}});const m={xmlMode:!0};e.DomUtils=i(s(98888))},54437:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getFeed=function(d){var p=n(l,d);return p?p.name==="feed"?function(f){var h,y=f.children,m={type:"atom",items:(0,a.getElementsByTagName)("entry",y).map(function(_){var w,O=_.children,A={media:t(O)};u(A,"id","id",O),u(A,"title","title",O);var T=(w=n("link",O))===null||w===void 0?void 0:w.attribs.href;T&&(A.link=T);var S=r("summary",O)||r("content",O);S&&(A.description=S);var E=r("updated",O);return E&&(A.pubDate=new Date(E)),A})};u(m,"id","id",y),u(m,"title","title",y);var b=(h=n("link",y))===null||h===void 0?void 0:h.attribs.href;b&&(m.link=b),u(m,"description","subtitle",y);var v=r("updated",y);return v&&(m.updated=new Date(v)),u(m,"author","email",y,!0),m}(p):function(f){var h,y,m=(y=(h=n("channel",f.children))===null||h===void 0?void 0:h.children)!==null&&y!==void 0?y:[],b={type:f.name.substr(0,3),id:"",items:(0,a.getElementsByTagName)("item",f.children).map(function(_){var w=_.children,O={media:t(w)};u(O,"id","guid",w),u(O,"title","title",w),u(O,"link","link",w),u(O,"description","description",w);var A=r("pubDate",w)||r("dc:date",w);return A&&(O.pubDate=new Date(A)),O})};u(b,"title","title",m),u(b,"link","link",m),u(b,"description","description",m);var v=r("lastBuildDate",m);return v&&(b.updated=new Date(v)),u(b,"author","managingEditor",m,!0),b}(p):null};var c=s(76037),a=s(43209),o=["url","type","lang"],i=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function t(d){return(0,a.getElementsByTagName)("media:content",d).map(function(p){for(var f=p.attribs,h={medium:f.medium,isDefault:!!f.isDefault},y=0,m=o;y<m.length;y++)f[_=m[y]]&&(h[_]=f[_]);for(var b=0,v=i;b<v.length;b++){var _;f[_=v[b]]&&(h[_]=parseInt(f[_],10))}return f.expression&&(h.expression=f.expression),h})}function n(d,p){return(0,a.getElementsByTagName)(d,p,!0,1)[0]}function r(d,p,f){return f===void 0&&(f=!1),(0,c.textContent)((0,a.getElementsByTagName)(d,p,f,1)).trim()}function u(d,p,f,h,y){y===void 0&&(y=!1);var m=r(f,h,y);m&&(d[p]=m)}function l(d){return d==="rss"||d==="feed"||d==="rdf:RDF"}},54502:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionAbs=void 0;const c=s(77617),a=s(77545);class o extends c.TermFunctionBase{constructor(){super({arity:1,operator:a.SparqlOperator.ABS,overloads:(0,a.declare)(a.SparqlOperator.ABS).numericConverter(()=>t=>Math.abs(t)).collect()})}}e.TermFunctionAbs=o},54531:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(60385),e)},54560:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(1667),e)},54645:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(57489),e),a(s(43750),e)},54672:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(33688),e)},54833:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(79434),e),a(s(33369),e),a(s(81791),e),a(s(54853),e),a(s(80722),e),a(s(61013),e)},54853:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Operator=void 0;const c=s(42996);e.Operator=class{constructor(a,o,i){this.name=a,this.args=o,this.apply=i,this.expressionType=c.ExpressionType.Operator}}},55009:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeValueHandlerAdapter=void 0,e.NodeValueHandlerAdapter=class{constructor(s,c,a){this.targetKind=s,this.util=c,this.settings=a}}},55010:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(37185),e)},55096:(g,e)=>{var s;Object.defineProperty(e,"__esModule",{value:!0}),e.replaceCodePoint=e.fromCodePoint=void 0;var c=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function a(o){var i;return o>=55296&&o<=57343||o>1114111?65533:(i=c.get(o))!==null&&i!==void 0?i:o}e.fromCodePoint=(s=String.fromCodePoint)!==null&&s!==void 0?s:function(o){var i="";return o>65535&&(o-=65536,i+=String.fromCharCode(o>>>10&1023|55296),o=56320|1023&o),i+String.fromCharCode(o)},e.replaceCodePoint=a,e.default=function(o){return(0,e.fromCodePoint)(a(o))}},55180:g=>{g.exports=JSON.parse('{"@context":{"alternate":"http://www.w3.org/1999/xhtml/vocab#alternate","appendix":"http://www.w3.org/1999/xhtml/vocab#appendix","cite":"http://www.w3.org/1999/xhtml/vocab#cite","bookmark":"http://www.w3.org/1999/xhtml/vocab#bookmark","contents":"http://www.w3.org/1999/xhtml/vocab#contents","chapter":"http://www.w3.org/1999/xhtml/vocab#chapter","copyright":"http://www.w3.org/1999/xhtml/vocab#copyright","first":"http://www.w3.org/1999/xhtml/vocab#first","glossary":"http://www.w3.org/1999/xhtml/vocab#glossary","help":"http://www.w3.org/1999/xhtml/vocab#help","icon":"http://www.w3.org/1999/xhtml/vocab#icon","index":"http://www.w3.org/1999/xhtml/vocab#index","last":"http://www.w3.org/1999/xhtml/vocab#last","license":"http://www.w3.org/1999/xhtml/vocab#license","meta":"http://www.w3.org/1999/xhtml/vocab#meta","next":"http://www.w3.org/1999/xhtml/vocab#next","prev":"http://www.w3.org/1999/xhtml/vocab#prev","previous":"http://www.w3.org/1999/xhtml/vocab#previous","section":"http://www.w3.org/1999/xhtml/vocab#section","start":"http://www.w3.org/1999/xhtml/vocab#start","stylesheet":"http://www.w3.org/1999/xhtml/vocab#stylesheet","subsection":"http://www.w3.org/1999/xhtml/vocab#subsection","top":"http://www.w3.org/1999/xhtml/vocab#top","up":"http://www.w3.org/1999/xhtml/vocab#up","p3pv1":"http://www.w3.org/1999/xhtml/vocab#p3pv1"}}')},55201:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SaxesParser=e.EVENTS=void 0;const c=s(31487),a=s(84797),o=s(60446);var i=c.isS,t=c.isChar,n=c.isNameStartChar,r=c.isNameChar,u=c.S_LIST,l=c.NAME_RE,d=a.isChar,p=o.isNCNameStartChar,f=o.isNCNameChar,h=o.NC_NAME_RE;const y="http://www.w3.org/XML/1998/namespace",m="http://www.w3.org/2000/xmlns/",b={__proto__:null,xml:y,xmlns:m},v={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},_=-1,w=-2,O=13,A=33,T=10,S=60,E=61,D=62,I=63,V=93,K=L=>L===34||L===39,B=[34,39],$=[...B,91,D],G=[...B,S,V],U=[E,I,...u],W=[...u,D,38,S];function ye(L,R,k){switch(R){case"xml":k!==y&&L.fail(`xml prefix must be bound to ${y}.`);break;case"xmlns":k!==m&&L.fail(`xmlns prefix must be bound to ${m}.`)}switch(k){case m:L.fail(R===""?`the default namespace may not be set to ${k}.`:`may not assign a prefix (even "xmlns") to the URI ${m}.`);break;case y:switch(R){case"xml":break;case"":L.fail(`the default namespace may not be set to ${k}.`);break;default:L.fail("may not assign the xml namespace to another prefix.")}}}const ve=L=>h.test(L),he=L=>l.test(L);e.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const q={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};e.SaxesParser=class{get closed(){return this._closed}constructor(L){this.opt=L??{},this.fragmentOpt=!!this.opt.fragment;const R=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,R){this.nameStartCheck=p,this.nameCheck=f,this.isName=ve,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},b);const k=this.opt.additionalNamespaces;k!=null&&(function(X,oe){for(const ee of Object.keys(oe))ye(X,ee,oe[ee])}(this,k),Object.assign(this.ns,k))}else this.nameStartCheck=n,this.nameCheck=r,this.isName=he,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}_init(){var L;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];const{fragmentOpt:R}=this;this.state=R?O:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=R,this.xmlDeclPossible=!R,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:k}=this.opt;if(k===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");k="1.0"}this.setXMLVersion(k),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(v),(L=this.readyHandler)===null||L===void 0||L.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(L,R){this[q[L]]=R}off(L){this[q[L]]=void 0}makeError(L){var R;let k=(R=this.fileName)!==null&&R!==void 0?R:"";return this.trackPosition&&(k.length>0&&(k+=":"),k+=`${this.line}:${this.column}`),k.length>0&&(k+=": "),new Error(k+L)}fail(L){const R=this.makeError(L),k=this.errorHandler;if(k===void 0)throw R;return k(R),this}write(L){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let R=!1;L===null?(R=!0,L=""):typeof L=="object"&&(L=L.toString()),this.carriedFromPrevious!==void 0&&(L=`${this.carriedFromPrevious}${L}`,this.carriedFromPrevious=void 0);let k=L.length;const X=L.charCodeAt(k-1);!R&&(X===13||X>=55296&&X<=56319)&&(this.carriedFromPrevious=L[k-1],k--,L=L.slice(0,k));const{stateTable:oe}=this;for(this.chunk=L,this.i=0;this.i<k;)oe[this.state].call(this);return this.chunkPosition+=k,R?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:L,i:R}=this;if(this.prevI=R,this.i=R+1,R>=L.length)return _;const k=L.charCodeAt(R);if(this.column++,k<55296){if(k>=32||k===9)return k;switch(k){case T:return this.line++,this.column=0,this.positionAtNewLine=this.position,T;case 13:return L.charCodeAt(R+1)===T&&(this.i=R+2),this.line++,this.column=0,this.positionAtNewLine=this.position,w;default:return this.fail("disallowed character."),k}}if(k>56319)return k>=57344&&k<=65533||this.fail("disallowed character."),k;const X=65536+1024*(k-55296)+(L.charCodeAt(R+1)-56320);return this.i=R+2,X>1114111&&this.fail("disallowed character."),X}getCode11(){const{chunk:L,i:R}=this;if(this.prevI=R,this.i=R+1,R>=L.length)return _;const k=L.charCodeAt(R);if(this.column++,k<55296){if(k>31&&k<127||k>159&&k!==8232||k===9)return k;switch(k){case T:return this.line++,this.column=0,this.positionAtNewLine=this.position,T;case 13:{const oe=L.charCodeAt(R+1);oe!==T&&oe!==133||(this.i=R+2)}case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,w;default:return this.fail("disallowed character."),k}}if(k>56319)return k>=57344&&k<=65533||this.fail("disallowed character."),k;const X=65536+1024*(k-55296)+(L.charCodeAt(R+1)-56320);return this.i=R+2,X>1114111&&this.fail("disallowed character."),X}getCodeNorm(){const L=this.getCode();return L===w?T:L}unget(){this.i=this.prevI,this.column--}captureTo(L){let{i:R}=this;const{chunk:k}=this;for(;;){const X=this.getCode(),oe=X===w,ee=oe?T:X;if(ee===_||L.includes(ee))return this.text+=k.slice(R,this.prevI),ee;oe&&(this.text+=`${k.slice(R,this.prevI)}
`,R=this.i)}}captureToChar(L){let{i:R}=this;const{chunk:k}=this;for(;;){let X=this.getCode();switch(X){case w:this.text+=`${k.slice(R,this.prevI)}
`,R=this.i,X=T;break;case _:return this.text+=k.slice(R),!1}if(X===L)return this.text+=k.slice(R,this.prevI),!0}}captureNameChars(){const{chunk:L,i:R}=this;for(;;){const k=this.getCode();if(k===_)return this.name+=L.slice(R),_;if(!r(k))return this.name+=L.slice(R,this.prevI),k===w?T:k}}skipSpaces(){for(;;){const L=this.getCodeNorm();if(L===_||!i(L))return L}}setXMLVersion(L){this.currentXMLVersion=L,L==="1.0"?(this.isChar=t,this.getCode=this.getCode10):(this.isChar=d,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=1}sBeginWhitespace(){const L=this.i,R=this.skipSpaces();switch(this.prevI!==L&&(this.xmlDeclPossible=!1),R){case S:if(this.state=15,this.text.length!==0)throw new Error("no-empty text at start");break;case _:break;default:this.unget(),this.state=O,this.xmlDeclPossible=!1}}sDoctype(){var L;const R=this.captureTo($);switch(R){case D:(L=this.doctypeHandler)===null||L===void 0||L.call(this,this.text),this.text="",this.state=O,this.doctype=!0;break;case _:break;default:this.text+=String.fromCodePoint(R),R===91?this.state=4:K(R)&&(this.state=3,this.q=R)}}sDoctypeQuote(){const L=this.q;this.captureToChar(L)&&(this.text+=String.fromCodePoint(L),this.q=null,this.state=2)}sDTD(){const L=this.captureTo(G);L!==_&&(this.text+=String.fromCodePoint(L),L===V?this.state=2:L===S?this.state=6:K(L)&&(this.state=5,this.q=L))}sDTDQuoted(){const L=this.q;this.captureToChar(L)&&(this.text+=String.fromCodePoint(L),this.state=4,this.q=null)}sDTDOpenWaka(){const L=this.getCodeNorm();switch(this.text+=String.fromCodePoint(L),L){case 33:this.state=7,this.openWakaBang="";break;case I:this.state=11;break;default:this.state=4}}sDTDOpenWakaBang(){const L=String.fromCodePoint(this.getCodeNorm()),R=this.openWakaBang+=L;this.text+=L,R!=="-"&&(this.state=R==="--"?8:4,this.openWakaBang="")}sDTDComment(){this.captureToChar(45)&&(this.text+="-",this.state=9)}sDTDCommentEnding(){const L=this.getCodeNorm();this.text+=String.fromCodePoint(L),this.state=L===45?10:8}sDTDCommentEnded(){const L=this.getCodeNorm();this.text+=String.fromCodePoint(L),L===D?this.state=4:(this.fail("malformed comment."),this.state=8)}sDTDPI(){this.captureToChar(I)&&(this.text+="?",this.state=12)}sDTDPIEnding(){const L=this.getCodeNorm();this.text+=String.fromCodePoint(L),L===D&&(this.state=4)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:L}=this;const{chunk:R}=this;e:for(;;)switch(this.getCode()){case w:this.entity+=`${R.slice(L,this.prevI)}
`,L=this.i;break;case 59:{const{entityReturnState:k}=this,X=this.entity+R.slice(L,this.prevI);let oe;this.state=k,X===""?(this.fail("empty entity name."),oe="&;"):(oe=this.parseEntity(X),this.entity=""),k===O&&this.textHandler===void 0||(this.text+=oe);break e}case _:this.entity+=R.slice(L);break e}}sOpenWaka(){const L=this.getCode();if(n(L))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(L){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case I:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=O,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(45)&&(this.state=18)}sCommentEnding(){var L;const R=this.getCodeNorm();R===45?(this.state=19,(L=this.commentHandler)===null||L===void 0||L.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(R)}`,this.state=17)}sCommentEnded(){const L=this.getCodeNorm();L!==D?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(L)}`,this.state=17):this.state=O}sCData(){this.captureToChar(V)&&(this.state=21)}sCDataEnding(){const L=this.getCodeNorm();L===V?this.state=22:(this.text+=`]${String.fromCodePoint(L)}`,this.state=20)}sCDataEnding2(){var L;const R=this.getCodeNorm();switch(R){case D:(L=this.cdataHandler)===null||L===void 0||L.call(this,this.text),this.text="",this.state=O;break;case V:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(R)}`,this.state=20}}sPIFirstChar(){const L=this.getCodeNorm();this.nameStartCheck(L)?(this.piTarget+=String.fromCodePoint(L),this.state=24):L===I||i(L)?(this.fail("processing instruction without a target."),this.state=L===I?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(L),this.state=24)}sPIRest(){const{chunk:L,i:R}=this;for(;;){const k=this.getCodeNorm();if(k===_)return void(this.piTarget+=L.slice(R));if(!this.nameCheck(k)){this.piTarget+=L.slice(R,this.prevI);const X=k===I;X||i(k)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=X?A:27):this.state=X?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(k));break}}}sPIBody(){if(this.text.length===0){const L=this.getCodeNorm();L===I?this.state=26:i(L)||(this.text=String.fromCodePoint(L))}else this.captureToChar(I)&&(this.state=26)}sPIEnding(){var L;const R=this.getCodeNorm();if(R===D){const{piTarget:k}=this;k.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(L=this.piHandler)===null||L===void 0||L.call(this,{target:k,body:this.text}),this.piTarget=this.text="",this.state=O}else R===I?this.text+="?":(this.text+=`?${String.fromCodePoint(R)}`,this.state=25);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const L=this.skipSpaces();L!==I?L!==_&&(this.state=28,this.name=String.fromCodePoint(L)):this.state=A}sXMLDeclName(){const L=this.captureTo(U);if(L===I)return this.state=A,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(i(L)||L===E){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=L===E?30:29}}sXMLDeclEq(){const L=this.getCodeNorm();if(L===I)return this.state=A,void this.fail("XML declaration is incomplete.");i(L)||(L!==E&&this.fail("value required."),this.state=30)}sXMLDeclValueStart(){const L=this.getCodeNorm();if(L===I)return this.state=A,void this.fail("XML declaration is incomplete.");i(L)||(K(L)?this.q=L:(this.fail("value must be quoted."),this.q=32),this.state=31)}sXMLDeclValue(){const L=this.captureTo([this.q,I]);if(L===I)return this.state=A,this.text="",void this.fail("XML declaration is incomplete.");if(L===_)return;const R=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const k=R;this.xmlDecl.version=k,/^1\.[0-9]+$/.test(k)?this.opt.forceXMLVersion||this.setXMLVersion(k):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(R)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=R;break;case"standalone":R!=="yes"&&R!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=R}this.name="",this.state=32}sXMLDeclSeparator(){const L=this.getCodeNorm();L!==I?(i(L)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=A}sXMLDeclEnding(){var L;this.getCodeNorm()===D?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(L=this.xmldeclHandler)===null||L===void 0||L.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=O):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var L;const R=this.captureNameChars();if(R===_)return;const k=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=k.ns=Object.create(null)),(L=this.openTagStartHandler)===null||L===void 0||L.call(this,k),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),R){case D:this.openTag();break;case 47:this.state=35;break;default:i(R)||this.fail("disallowed character in tag name."),this.state=36}}sOpenTagSlash(){this.getCode()===D?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}sAttrib(){const L=this.skipSpaces();L!==_&&(n(L)?(this.unget(),this.state=37):L===D?this.openTag():L===47?this.state=35:this.fail("disallowed character in attribute name."))}sAttribName(){const L=this.captureNameChars();L===E?this.state=39:i(L)?this.state=38:L===D?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):L!==_&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const L=this.skipSpaces();switch(L){case _:return;case E:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",L===D?this.openTag():n(L)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}sAttribValue(){const L=this.getCodeNorm();K(L)?(this.q=L,this.state=40):i(L)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}sAttribValueQuoted(){const{q:L,chunk:R}=this;let{i:k}=this;for(;;)switch(this.getCode()){case L:return this.pushAttrib(this.name,this.text+R.slice(k,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=R.slice(k,this.prevI),this.state=14,void(this.entityReturnState=40);case T:case w:case 9:this.text+=`${R.slice(k,this.prevI)} `,k=this.i;break;case S:return this.text+=R.slice(k,this.prevI),void this.fail("disallowed character.");case _:return void(this.text+=R.slice(k))}}sAttribValueClosed(){const L=this.getCodeNorm();i(L)?this.state=36:L===D?this.openTag():L===47?this.state=35:n(L)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const L=this.captureTo(W);switch(L){case 38:this.state=14,this.entityReturnState=42;break;case S:this.fail("disallowed character.");break;case _:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",L===D?this.openTag():this.state=36}}sCloseTag(){const L=this.captureNameChars();L===D?this.closeTag():i(L)?this.state=44:L!==_&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case D:this.closeTag();break;case _:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:L,forbiddenState:R}=this;const{chunk:k,textHandler:X}=this;e:for(;;)switch(this.getCode()){case S:if(this.state=15,X!==void 0){const{text:oe}=this,ee=k.slice(L,this.prevI);oe.length!==0?(X(oe+ee),this.text=""):ee.length!==0&&X(ee)}R=0;break e;case 38:this.state=14,this.entityReturnState=O,X!==void 0&&(this.text+=k.slice(L,this.prevI)),R=0;break e;case V:switch(R){case 0:R=1;break;case 1:R=2;break;case 2:break;default:throw new Error("impossible state")}break;case D:R===2&&this.fail('the string "]]>" is disallowed in char data.'),R=0;break;case w:X!==void 0&&(this.text+=`${k.slice(L,this.prevI)}
`),L=this.i,R=0;break;case _:X!==void 0&&(this.text+=k.slice(L));break e;default:R=0}this.forbiddenState=R}handleTextOutsideRoot(){let{i:L}=this;const{chunk:R,textHandler:k}=this;let X=!1;e:for(;;){const oe=this.getCode();switch(oe){case S:if(this.state=15,k!==void 0){const{text:ee}=this,me=R.slice(L,this.prevI);ee.length!==0?(k(ee+me),this.text=""):me.length!==0&&k(me)}break e;case 38:this.state=14,this.entityReturnState=O,k!==void 0&&(this.text+=R.slice(L,this.prevI)),X=!0;break e;case w:k!==void 0&&(this.text+=`${R.slice(L,this.prevI)}
`),L=this.i;break;case _:k!==void 0&&(this.text+=R.slice(L));break e;default:i(oe)||(X=!0)}}X&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(L,R){var k;const{prefix:X,local:oe}=this.qname(L),ee={name:L,prefix:X,local:oe,value:R};if(this.attribList.push(ee),(k=this.attributeHandler)===null||k===void 0||k.call(this,ee),X==="xmlns"){const me=R.trim();this.currentXMLVersion==="1.0"&&me===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[oe]=me,ye(this,oe,me)}else if(L==="xmlns"){const me=R.trim();this.topNS[""]=me,ye(this,"",me)}}pushAttribPlain(L,R){var k;const X={name:L,value:R};this.attribList.push(X),(k=this.attributeHandler)===null||k===void 0||k.call(this,X)}end(){var L,R;this.sawRoot||this.fail("document must contain a root element.");const{tags:k}=this;for(;k.length>0;){const oe=k.pop();this.fail(`unclosed tag: ${oe.name}`)}this.state!==0&&this.state!==O&&this.fail("unexpected end.");const{text:X}=this;return X.length!==0&&((L=this.textHandler)===null||L===void 0||L.call(this,X),this.text=""),this._closed=!0,(R=this.endHandler)===null||R===void 0||R.call(this),this._init(),this}resolve(L){var R,k;let X=this.topNS[L];if(X!==void 0)return X;const{tags:oe}=this;for(let ee=oe.length-1;ee>=0;ee--)if(X=oe[ee].ns[L],X!==void 0)return X;return X=this.ns[L],X!==void 0?X:(k=(R=this.opt).resolvePrefix)===null||k===void 0?void 0:k.call(R,L)}qname(L){const R=L.indexOf(":");if(R===-1)return{prefix:"",local:L};const k=L.slice(R+1),X=L.slice(0,R);return(X===""||k===""||k.includes(":"))&&this.fail(`malformed name: ${L}.`),{prefix:X,local:k}}processAttribsNS(){var L;const{attribList:R}=this,k=this.tag;{const{prefix:ee,local:me}=this.qname(k.name);k.prefix=ee,k.local=me;const de=k.uri=(L=this.resolve(ee))!==null&&L!==void 0?L:"";ee!==""&&(ee==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),de===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(ee)}.`),k.uri=ee))}if(R.length===0)return;const{attributes:X}=k,oe=new Set;for(const ee of R){const{name:me,prefix:de,local:xe}=ee;let ne,be;de===""?(ne=me==="xmlns"?m:"",be=me):(ne=this.resolve(de),ne===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(de)}.`),ne=de),be=`{${ne}}${xe}`),oe.has(be)&&this.fail(`duplicate attribute: ${be}.`),oe.add(be),ee.uri=ne,X[me]=ee}this.attribList=[]}processAttribsPlain(){const{attribList:L}=this,R=this.tag.attributes;for(const{name:k,value:X}of L)R[k]!==void 0&&this.fail(`duplicate attribute: ${k}.`),R[k]=X;this.attribList=[]}openTag(){var L;this.processAttribs();const{tags:R}=this,k=this.tag;k.isSelfClosing=!1,(L=this.openTagHandler)===null||L===void 0||L.call(this,k),R.push(k),this.state=O,this.name=""}openSelfClosingTag(){var L,R,k;this.processAttribs();const{tags:X}=this,oe=this.tag;oe.isSelfClosing=!0,(L=this.openTagHandler)===null||L===void 0||L.call(this,oe),(R=this.closeTagHandler)===null||R===void 0||R.call(this,oe),(this.tag=(k=X[X.length-1])!==null&&k!==void 0?k:null)===null&&(this.closedRoot=!0),this.state=O,this.name=""}closeTag(){const{tags:L,name:R}=this;if(this.state=O,this.name="",R==="")return this.fail("weird empty close tag."),void(this.text+="</>");const k=this.closeTagHandler;let X=L.length;for(;X-- >0;){const oe=this.tag=L.pop();if(this.topNS=oe.ns,k?.(oe),oe.name===R)break;this.fail("unexpected close tag.")}X===0?this.closedRoot=!0:X<0&&(this.fail(`unmatched closing tag: ${R}.`),this.text+=`</${R}>`)}parseEntity(L){if(L[0]!=="#"){const k=this.ENTITIES[L];return k!==void 0?k:(this.fail(this.isName(L)?"undefined entity.":"disallowed character in entity name."),`&${L};`)}let R=NaN;return L[1]==="x"&&/^#x[0-9a-f]+$/i.test(L)?R=parseInt(L.slice(2),16):/^#[0-9]+$/.test(L)&&(R=parseInt(L.slice(1),10)),this.isChar(R)?String.fromCodePoint(R):(this.fail("malformed character entity."),`&${L};`)}}},55282:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionRound=void 0;const c=s(77617),a=s(77545);class o extends c.TermFunctionBase{constructor(){super({arity:1,operator:a.SparqlOperator.ROUND,overloads:(0,a.declare)(a.SparqlOperator.ROUND).numericConverter(()=>t=>Math.round(t)).collect()})}}e.TermFunctionRound=o},55312:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfParseJsonLd=void 0;const c=s(95124),a=s(90711),o=s(90412),i=s(38690),t=s(84333);class n extends c.ActorRdfParseFixedMediaTypes{constructor(u){super(u)}async testHandle(u,l,d){return d.has(a.KeysRdfParseHtmlScript.processingHtmlScript)&&l!=="application/ld+json"?(0,o.failTest)("JSON-LD in script tags can only have media type 'application/ld+json'"):l&&(l in this.mediaTypePriorities||l.endsWith("+json"))?await this.testHandleChecked(u):(0,o.failTest)(`Unrecognized media type: ${l}`)}async runHandle(u,l,d){const p=u.context.getSafe(a.KeysInitQuery.dataFactory);return{data:i.JsonLdParser.fromHttpResponse(u.metadata?.baseIRI??"",l,u.headers,{dataFactory:p,documentLoader:d.get(a.KeysRdfParseJsonLd.documentLoader)??new t.DocumentLoaderMediated(this.mediatorHttp,d),strictValues:d.get(a.KeysRdfParseJsonLd.strictValues),...d.get(a.KeysRdfParseJsonLd.parserOptions)}).import(u.data)}}}e.ActorRdfParseJsonLd=n},55569:(g,e)=>{function s(c){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},s(c)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(c){return s(c)=="object"&&c!==null}},55711:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(52161),e)},55940:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionAddition=void 0;const c=s(77617),a=s(77545),o=s(61594);class i extends c.TermFunctionBase{constructor(){super({arity:2,operator:a.SparqlOperator.ADDITION,overloads:(0,a.declare)(a.SparqlOperator.ADDITION).arithmetic(()=>(n,r)=>new o.BigNumber(n).plus(r).toNumber()).set([a.TypeURL.XSD_DATE_TIME,a.TypeURL.XSD_DAY_TIME_DURATION],()=>([n,r])=>new a.DateTimeLiteral((0,a.addDurationToDateTime)(n.typedValue,(0,a.defaultedDurationRepresentation)(r.typedValue)))).copy({from:[a.TypeURL.XSD_DATE_TIME,a.TypeURL.XSD_DAY_TIME_DURATION],to:[a.TypeURL.XSD_DATE_TIME,a.TypeURL.XSD_YEAR_MONTH_DURATION]}).set([a.TypeURL.XSD_DATE,a.TypeURL.XSD_DAY_TIME_DURATION],()=>([n,r])=>new a.DateLiteral((0,a.addDurationToDateTime)((0,a.defaultedDateTimeRepresentation)(n.typedValue),(0,a.defaultedDurationRepresentation)(r.typedValue)))).copy({from:[a.TypeURL.XSD_DATE,a.TypeURL.XSD_DAY_TIME_DURATION],to:[a.TypeURL.XSD_DATE,a.TypeURL.XSD_YEAR_MONTH_DURATION]}).set([a.TypeURL.XSD_TIME,a.TypeURL.XSD_DAY_TIME_DURATION],()=>([n,r])=>new a.TimeLiteral((0,a.addDurationToDateTime)((0,a.defaultedDateTimeRepresentation)(n.typedValue),(0,a.defaultedDurationRepresentation)(r.typedValue)))).copy({from:[a.TypeURL.XSD_TIME,a.TypeURL.XSD_DAY_TIME_DURATION],to:[a.TypeURL.XSD_TIME,a.TypeURL.XSD_YEAR_MONTH_DURATION]}).collect()})}}e.TermFunctionAddition=i},55977:function(g,e,s){var c=this&&this.__awaiter||function(h,y,m,b){return new(m||(m=Promise))(function(v,_){function w(T){try{A(b.next(T))}catch(S){_(S)}}function O(T){try{A(b.throw(T))}catch(S){_(S)}}function A(T){var S;T.done?v(T.value):(S=T.value,S instanceof m?S:new m(function(E){E(S)})).then(w,O)}A((b=b.apply(h,y||[])).next())})},a=this&&this.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(e,"__esModule",{value:!0});const o=s(25828),i=s(35030),t=s(46898),n=s(73423),r=a(s(11501)),u=a(s(28630)),l=a(s(76588));function d(h){var y;return(y=/^[^]*[#/]/.exec(h))===null||y===void 0?void 0:y[0]}const p={"http://www.w3.org/1999/02/22-rdf-syntax-ns#":"rdf","http://www.w3.org/2000/01/rdf-schema#":"rdfs","http://www.w3.org/ns/shacl#":"sh","http://www.w3.org/2001/XMLSchema#":"xsd"},f={rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",sh:"http://www.w3.org/ns/shacl#",xsd:"http://www.w3.org/2001/XMLSchema#"};e.default=class{constructor(h,y,m={},b=void 0,v=!0,_=!1,w,O=!1,A=!0){this.store=h,this.base=b,this.errorOnExtraQuads=v,this.mintUnspecifiedPrefixes=_,this.fetch=w,this.extendedSyntax=O,this.requireBase=A,this.prefixes={},this.prefixRev={};for(const T of Object.keys(m)){const S=m[T],E=typeof S=="string"?S:S.value;E in p||T in f||(this.prefixRev[E]=T,this.prefixes[T]=E)}this.writer=y,this.requireBase=A}write(){return c(this,void 0,void 0,function*(){const h=this.store.getQuads(null,"http://www.w3.org/1999/02/22-rdf-syntax-ns#type","http://www.w3.org/2002/07/owl#Ontology",null);if(h.length===1&&h[0].subject.termType==="NamedNode"){const m=h[0].subject;this.store.removeQuads(h),m.equals(new o.NamedNode("urn:x-base:default"))||this.writer.add(`BASE ${(0,t.termToString)(m)}`),yield this.writeImports(m)}else if(this.requireBase)throw new Error("Base expected");if(this.mintUnspecifiedPrefixes){const m=new Set;for(const v of[...this.store.getSubjects(null,null,null),...this.store.getPredicates(null,null,null),...this.store.getObjects(null,null,null)])if(v.termType==="NamedNode"){const _=d(v.value);!_||_ in this.prefixRev||_ in p||m.add(_)}const b=Object.assign(Object.assign({},this.prefixes),f);yield Promise.all([...m].map(v=>(0,i.uriToPrefix)(v,{fetch:this.fetch,mintOnUnknown:!0,existingPrefixes:b}).then(_=>{this.prefixes[_]=v,b[_]=v,this.prefixRev[v]=_})))}const y=new Set([...this.store.getSubjects(null,null,null),...this.store.getPredicates(null,null,null),...this.store.getObjects(null,null,null)].filter(m=>m.termType==="NamedNode").map(m=>d(m.value)).filter(m=>typeof m=="string"));for(const m in this.prefixRev)y.has(m)||(delete this.prefixes[this.prefixRev[m]],delete this.prefixRev[m]);if(yield this.writePrefixes(),this.prefixes=Object.assign(Object.assign({},this.prefixes),f),this.prefixRev=Object.assign(Object.assign({},this.prefixRev),p),this.writer.newLine(),yield this.writeShapes(),this.extendedSyntax){const m=this.store.getSubjects(null,null,null);m.length>0&&this.writer.newLine(1);for(const b of m)this.writer.add(yield this.termToString(b,!0,!0)),this.writer.add(" "),this.writer.indent(),yield this.writeTurtlePredicates(b),this.writer.deindent();m.length>0&&(this.writer.add(" ."),this.writer.newLine())}if(this.errorOnExtraQuads&&this.store.size>0)throw new Error(`Dataset contains quads that cannot be written in SHACLC [
${new o.Writer({prefixes:this.prefixes}).quadsToString(this.store.getQuads(null,null,null,null))}]`);this.writer.end()})}writeImports(h){return c(this,void 0,void 0,function*(){const y=this.store.getObjectsOnce(h,new o.NamedNode("http://www.w3.org/2002/07/owl#imports"),null);if(y.length>0)for(const m of y)this.writer.add(`IMPORTS <${m.value}>`,!0)})}writePrefixes(){return c(this,void 0,void 0,function*(){const h=Object.keys(this.prefixes).filter(y=>!(y in u.default)).sort();if(h.length>0)for(const y of h)this.writer.add(`PREFIX ${y}: <${this.prefixes[y]}>`,!0)})}termToString(h,y=!1,m=!1){return c(this,void 0,void 0,function*(){try{if(y)throw new Error("Shacl name disabled");return(0,n.getShaclName)(h)}catch{}if(h.termType==="NamedNode"){const b=d(h.value);return b&&b in this.prefixRev&&b in this.prefixRev?`${this.prefixRev[b]}:${h.value.slice(b.length)}`:(0,t.termToString)(h)}if(h.termType==="Literal")return h.datatypeString==="http://www.w3.org/2001/XMLSchema#integer"||h.datatypeString==="http://www.w3.org/2001/XMLSchema#boolean"?h.value:(0,t.termToString)(h);throw h.termType==="BlankNode"&&m&&(0,t.termToString)(h),new Error(`Invalid term type for extra statement ${h.value} (${h.termType})`)})}writeShapes(){return c(this,void 0,void 0,function*(){for(const h of this.store.getSubjectsOnce(new o.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),new o.NamedNode("http://www.w3.org/ns/shacl#NodeShape"),null)){this.store.getQuadsOnce(h,new o.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),new o.NamedNode("http://www.w3.org/2000/01/rdf-schema#Class"),null).length>0?this.writer.add("shapeClass "):this.writer.add("shape "),this.writer.add(yield this.termToString(h)),this.writer.add(" ");const y=this.store.getObjectsOnce(h,new o.NamedNode("http://www.w3.org/ns/shacl#targetClass"),null);if(y.length>0){this.writer.add("-> ");for(const b of y)b.termType==="NamedNode"?this.writer.add(yield this.termToString(b)):(this.writer.add("!"),this.writer.add(yield this.termToString(this.singleObject(b,new o.NamedNode("http://www.w3.org/ns/shacl#not"),!0)))),this.writer.add(" ")}const m=this.store.getPredicates(h,null,null).filter(b=>[new o.NamedNode("http://www.w3.org/ns/shacl#targetClass"),new o.NamedNode("http://www.w3.org/ns/shacl#property"),new o.NamedNode("http://www.w3.org/ns/shacl#or"),...Object.keys(l.default).map(v=>new o.NamedNode("http://www.w3.org/ns/shacl#"+v))].every(v=>!b.equals(v)));m.length>0&&(this.writer.add(";"),this.writer.indent(),this.writer.newLine(1)),this.extendedSyntax&&(yield this.writeGivenTurtlePredicates(h,m)),m.length>0&&(this.writer.add(" "),this.writer.deindent()),yield this.writeShapeBody(h,!1)}})}getSingleProperty(h,y){let m=[h];try{let b=(0,n.getShaclName)(h.predicate),v="pred";if(b==="not"){const _=this.store.getQuadsOnce(h.object,null,null,null);if(m=m.concat(_),_.length!==1)throw new Error("Can only handle having one predicate of 'not'");[h]=_,b=(0,n.getShaclName)(h.predicate),v="not"}if(!(b in y))throw new Error(`${b} is not allowed`);return{name:b,type:v,object:h.object}}catch{this.store.addQuads(m)}}singleLayerPropertiesList(h,y){const m=[];for(const b of this.store.getQuadsOnce(h,null,null,null)){const v=this.getSingleProperty(b,y);v&&m.push(v)}return m}expectOneProperty(h,y){const m=this.store.getQuadsOnce(h,null,null,null);if(m.length===1){const b=this.getSingleProperty(m[0],y);if(b)return b}this.store.addQuads(m)}orProperties(h,y){const m=[];for(const b of this.store.getQuadsOnce(h,new o.NamedNode("http://www.w3.org/ns/shacl#or"),null,null)){const v=[];for(const _ of this.getList(b.object)){const w=this.expectOneProperty(_,y);if(!w)throw this.store.addQuad(b),new Error("Each entry of the 'or' statement must declare exactly one property");v.push(w)}m.push(v)}return m}getList(h){let y=h;const m=[];for(;!y.equals(new o.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"));)m.push(this.singleObject(y,new o.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#first"),!0)),y=this.singleObject(y,new o.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"),!0);return m}writeIriLiteralOrArray(h){return c(this,void 0,void 0,function*(){if(h.termType==="BlankNode"){this.writer.add("[");let y=!0;for(const m of this.getList(h))y?y=!1:this.writer.add(" "),this.writer.add(yield this.termToString(m));this.writer.add("]")}else this.writer.add(yield this.termToString(h))})}singleObject(h,y,m){var b;return(b=this.singleQuad(h,y,m))===null||b===void 0?void 0:b.object}singleQuad(h,y,m=!1){const b=this.store.getQuadsOnce(h,y,null,null);if(m&&b.length!==1)throw this.store.addQuads(b),new Error(`The subject and predicate ${h?.value} ${y?.value} must have exactly one object. Instead has ${b.length}`);if(b.length>1)throw this.store.addQuads(b),new Error(`The subject and predicate ${h?.value} ${y?.value} can have at most one object. Instead has ${b.length}`);return b.length===1?b[0]:void 0}writeAssigment({name:h,type:y,object:m}){return c(this,void 0,void 0,function*(){y==="not"&&this.writer.add("!"),this.writer.add(h),this.writer.add("="),yield this.writeIriLiteralOrArray(m)})}writeAtom({name:h,type:y,object:m}){return c(this,void 0,void 0,function*(){switch(y==="not"&&this.writer.add("!"),h){case"node":if(m.termType==="NamedNode")this.writer.add(`@${yield this.termToString(m)}`);else{if(m.termType!=="BlankNode")throw new Error("Invalid nested shape, must be blank node or IRI");yield this.writeShapeBody(m)}return;case"nodeKind":return void this.writer.add((0,n.getShaclName)(m));case"class":case"datatype":return void this.writer.add(yield this.termToString(m));default:this.writer.add(h),this.writer.add("="),yield this.writeIriLiteralOrArray(m)}})}writeAssigments(h,y=" ",m=!0,b){return c(this,void 0,void 0,function*(){for(const v of h)m?m=!1:this.writer.add(y),b?yield this.writeAtom(v):yield this.writeAssigment(v)})}writeParams(h,y=!0,m,b=!1,v=!1){return c(this,void 0,void 0,function*(){const _=this.orProperties(h,m),w=this.singleLayerPropertiesList(h,m);v&&(_.length>0||w.length>0)&&this.writer.newLine(1);for(const O of _)y?y=!1:this.writer.add(" "),yield this.writeAssigments(O,"|",!0,b);yield this.writeAssigments(w," ",y,b),v&&(_.length>0||w.length>0)&&this.writer.add(" .")})}writeShapeBody(h,y=!0){return c(this,void 0,void 0,function*(){this.writer.add("{").indent();const m=this.store.getObjectsOnce(h,new o.NamedNode("http://www.w3.org/ns/shacl#property"),null);yield this.writeParams(h,!0,l.default,!1,!0);for(const b of m)this.writer.newLine(1),yield this.writeProperty(b);this.writer.deindent().newLine(1),y?this.writer.add("} ."):this.writer.add("}").newLine(1)})}writeProperty(h){return c(this,void 0,void 0,function*(){yield this.writePath(this.singleObject(h,new o.NamedNode("http://www.w3.org/ns/shacl#path"),!0));const y=this.singleObject(h,new o.NamedNode("http://www.w3.org/ns/shacl#minCount")),m=this.singleObject(h,new o.NamedNode("http://www.w3.org/ns/shacl#maxCount")),b=this.singleObject(h,new o.NamedNode("http://www.w3.org/ns/shacl#nodeKind")),v=this.singleObject(h,new o.NamedNode("http://www.w3.org/ns/shacl#class")),_=this.singleObject(h,new o.NamedNode("http://www.w3.org/ns/shacl#datatype")),w=this.store.getObjectsOnce(h,new o.NamedNode("http://www.w3.org/ns/shacl#node"),null);if(b&&(this.writer.add(" "),this.writer.add((0,n.getShaclName)(b))),v&&(this.writer.add(" "),this.writer.add(yield this.termToString(v))),_&&(this.writer.add(" "),this.writer.add(yield this.termToString(_))),y!==void 0||m!==void 0){if(this.writer.add(" ["),y){if(y.termType!=="Literal"||y.datatypeString!=="http://www.w3.org/2001/XMLSchema#integer")throw new Error("Invalid min value, must me an integer literal");this.writer.add(y.value)}else this.writer.add("0");if(this.writer.add(".."),m){if(m.termType!=="Literal"||m.datatypeString!=="http://www.w3.org/2001/XMLSchema#integer")throw new Error("Invalid max value, must me an integer literal");this.store.removeMatches(h,new o.NamedNode("http://www.w3.org/ns/shacl#maxCount"),void 0,void 0),this.writer.add(m.value)}else this.writer.add("*");this.writer.add("]")}yield this.writeParams(h,!1,r.default,!0);const O=[];for(const A of w)if(A.termType==="NamedNode")this.writer.add(" "),this.writer.add(`@${yield this.termToString(A)}`);else{if(A.termType!=="BlankNode")throw new Error("Invalid nested shape, must be blank node or IRI");O.push(A)}for(const A of O)this.writer.add(" "),yield this.writeShapeBody(A);this.extendedSyntax&&this.store.getQuads(h,null,null,null).length>0&&(this.writer.add(" %"),this.writer.indent(),this.writer.newLine(1),yield this.writeTurtlePredicates(h),this.writer.deindent(),this.writer.newLine(1),this.writer.add("%")),O.length===0&&this.writer.add(" .")})}writeTurtlePredicates(h){return c(this,void 0,void 0,function*(){return this.writeGivenTurtlePredicates(h,this.store.getPredicates(h,null,null))})}writeGivenTurtlePredicates(h,y){return c(this,void 0,void 0,function*(){let m=!1;if(y.some(b=>b.equals(o.DataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type")))){const b=this.store.getObjectsOnce(h,o.DataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),null);b.length>0&&(m=!0,this.writer.add("a "),yield this.writeTurtleObjects(b))}for(const b of y)b.equals(o.DataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"))||(m?(this.writer.add(" ;"),this.writer.newLine(1)):m=!0,this.writer.add(yield this.termToString(b,!0)),this.writer.add(" "),yield this.writeTurtleObjects(this.store.getObjectsOnce(h,b,null)))})}writeTurtleObjects(h){return c(this,void 0,void 0,function*(){const y=[],m=[];for(const v of h)v.termType==="BlankNode"&&[...this.store.match(null,null,v),...this.store.match(null,v,null)].length===0?y.push(v):m.push(v);this.writer.add((yield Promise.all(m.map(v=>this.termToString(v,!0,!0)))).join(", "));let b=m.length>0;if(y.length>0)for(const v of y)b?this.writer.add(", "):b=!0,(yield this.writeList(v))||(this.writer.add("["),this.writer.indent(),this.writer.newLine(1),yield this.writeTurtlePredicates(v),this.writer.deindent(),this.writer.newLine(1),this.writer.add("]"))})}writeList(h){return c(this,void 0,void 0,function*(){let y=h;const m=[],b=[];for(;!y.equals(o.DataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"));){const _=this.store.getQuadsOnce(y,o.DataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#first"),null,null),w=this.store.getQuadsOnce(y,o.DataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"),null,null);if(b.push(..._,...w),_.length!==1||w.length!==1||this.store.getQuads(y,null,null,null).length!==0)return this.store.addQuads(b),!1;m.push(_[0].object),y=w[0].object}let v=!1;this.writer.add("(");for(const _ of m)v?this.writer.add(" "):v=!0,yield this.writeTurtleObjects([_]);return this.writer.add(")"),!0})}writePath(h,y=!1){return c(this,void 0,void 0,function*(){if(h.termType==="NamedNode")this.writer.add(yield this.termToString(h));else{if(h.termType!=="BlankNode")throw new Error("Path should be named node or blank node");{const m=this.store.getQuadsOnce(h,null,null,null);if(m.length===1){const{predicate:b,object:v}=m[0];switch(b.value){case"http://www.w3.org/ns/shacl#inversePath":return this.writer.add("^"),void(yield this.writePath(v,!0));case"http://www.w3.org/ns/shacl#alternativePath":{const _=this.getList(v);if(_.length===0)throw new Error("Invalid Alternative Path - no options");if(_.length===1)yield this.writePath(_[0]);else{y&&this.writer.add("(");let w=!0;for(const O of _)w?w=!1:this.writer.add("|"),yield this.writePath(O,!0);y&&this.writer.add(")")}return}case"http://www.w3.org/ns/shacl#zeroOrMorePath":return yield this.writePath(v,!0),void this.writer.add("*");case"http://www.w3.org/ns/shacl#oneOrMorePath":return yield this.writePath(v,!0),void this.writer.add("+");case"http://www.w3.org/ns/shacl#zeroOrOnePath":return yield this.writePath(v,!0),void this.writer.add("?");default:throw new Error(`Invalid path type ${h.value}`)}}else{this.store.addQuads(m);const b=this.getList(h);if(b.length===0)throw new Error("Invalid Path");{y&&this.writer.add("(");let v=!0;for(const _ of b)v?v=!1:this.writer.add("/"),yield this.writePath(_,!0);y&&this.writer.add(")")}}}}})}}},55998:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerKeywordGraph=void 0;const c=s(1548);class a extends c.EntryHandlerKeyword{constructor(){super("@graph")}async handle(i,t,n,r,u,l){i.graphStack[l+1]=!0}}e.EntryHandlerKeywordGraph=a},56361:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(10448),e)},56662:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NamedNode=void 0,e.NamedNode=class{constructor(s){this.termType="NamedNode",this.value=s}equals(s){return!!s&&s.termType==="NamedNode"&&s.value===this.value}}},56697:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i},56698:g=>{typeof Object.create=="function"?g.exports=function(e,s){s&&(e.super_=s,e.prototype=Object.create(s.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:g.exports=function(e,s){if(s){e.super_=s;var c=function(){};c.prototype=s.prototype,e.prototype=new c,e.prototype.constructor=e}}},56718:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(3129),e)},57006:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FetchInitPreprocessor=void 0,e.FetchInitPreprocessor=class{async handle(s){if(s.body&&typeof s.body!="string"&&"getReader"in s.body){const c=s.body.getReader(),a=[];for(;;){const{done:o,value:i}=await c.read();if(o)break;a.push(i)}s.body=a.join("")}return{...s,keepalive:!s.body}}}},57042:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfJoin=void 0;const c=s(90711),a=s(90412),o=s(4809),i=s(99214);class t extends a.Actor{constructor(r,u){super(r),this.includeInLogs=!0,this.logicalType=u.logicalType,this.physicalName=u.physicalName,this.limitEntries=u.limitEntries??Number.POSITIVE_INFINITY,this.limitEntriesMin=u.limitEntriesMin??!1,this.canHandleUndefs=u.canHandleUndefs??!1,this.isLeaf=u.isLeaf??!0,this.requiresVariableOverlap=u.requiresVariableOverlap??!1}static overlappingVariables(r){const u={};for(const l of r)for(const d of l.variables){u[d.variable.value]||(u[d.variable.value]={variable:d.variable,canBeUndef:d.canBeUndef,occurrences:0});const p=u[d.variable.value];p.canBeUndef=p.canBeUndef||d.canBeUndef,p.occurrences++}return Object.values(u).filter(l=>l.occurrences===r.length).map(l=>({variable:l.variable,canBeUndef:l.canBeUndef}))}static joinVariables(r,u,l=!1){const d={};let p=!0;for(const f of u){for(const h of f.variables)d[h.variable.value]=d[h.variable.value]||h.canBeUndef||!p&&l&&!(h.variable.value in d);p=!1}return Object.entries(d).map(([f,h])=>({variable:r.variable(f),canBeUndef:h}))}static joinBindings(...r){if(r.length===0)return null;if(r.length===1)return r[0];let u=r[0];for(const l of r.slice(1)){const d=u.merge(l);if(!d)return null;u=d}return u}static getCardinality(r){return r.cardinality}static async getMetadatas(r){return await Promise.all(r.map(u=>u.output.metadata()))}static async getEntriesWithMetadatas(r){const u=await t.getMetadatas(r);return r.map((l,d)=>({...l,metadata:u[d]}))}static getRequestInitialTimes(r){return r.map(u=>u.pageSize?0:u.requestTime??0)}static getRequestItemTimes(r){return r.map(u=>u.pageSize?(u.requestTime??0)/u.pageSize:0)}constructState(r){const u=new i.MetadataValidationState,l=()=>u.invalidate();for(const d of r)d.state.addInvalidateListener(l);return u}async constructResultMetadata(r,u,l,d={},p=!1){let f;if(d.cardinality)f=d.cardinality;else{let h=!1;f=u.reduce((y,m)=>{const b=t.getCardinality(m);return b.value===0&&(h=!0),{type:b.type==="estimate"?"estimate":y.type,value:y.value*(p?Math.max(1,b.value):b.value)}},{type:"exact",value:1}),h&&!p||(f.value*=(await this.mediatorJoinSelectivity.mediate({entries:r,context:l})).selectivity,f.value===0&&(f.value=Number.MIN_VALUE))}return{state:this.constructState(u),...d,cardinality:{type:f.type,value:f.value},variables:t.joinVariables(l.getSafe(c.KeysInitQuery.dataFactory),u,p)}}static async sortJoinEntries(r,u,l){if(u.some(f=>f.metadata.variables.some(h=>h.canBeUndef)))return(0,a.passTest)(u);const d={};for(const f of u)for(const h of f.metadata.variables){let y=d[h.variable.value];y||(y=0),d[h.variable.value]=++y}const p=[];for(const[f,h]of Object.entries(d))h>=2&&p.push(f);return p.length===0?(0,a.failTest)("Bind join can only join entries with at least one common variable"):(0,a.passTest)((await r.mediate({entries:u,context:l})).entries)}async test(r){if(r.type!==this.logicalType)return(0,a.failTest)(`${this.name} can only handle logical joins of type '${this.logicalType}', while '${r.type}' was given.`);if(r.entries.length<=1)return(0,a.failTest)(`${this.name} requires at least two join entries.`);if(this.limitEntriesMin?r.entries.length<this.limitEntries:r.entries.length>this.limitEntries)return(0,a.failTest)(`${this.name} requires ${this.limitEntries} join entries at ${this.limitEntriesMin?"least":"most"}. The input contained ${r.entries.length}.`);for(const d of r.entries)if(d.output.type!=="bindings")return(0,a.failTest)(`Invalid type of a join entry: Expected 'bindings' but got '${d.output.type}'`);const u=await t.getMetadatas(r.entries);let l;return!this.canHandleUndefs&&(l=t.overlappingVariables(u),l.some(d=>d.canBeUndef))?(0,a.failTest)(`Actor ${this.name} can not join streams containing undefs`):this.requiresVariableOverlap&&(l??t.overlappingVariables(u)).length===0?(0,a.failTest)(`Actor ${this.name} can only join entries with at least one common variable`):await this.getJoinCoefficients(r,{metadatas:u})}async run(r,u){let l;r.context.has(c.KeysInitQuery.physicalQueryPlanLogger)&&(l=r.context.get(c.KeysInitQuery.physicalQueryPlanNode),r.context=r.context.set(c.KeysInitQuery.physicalQueryPlanNode,r));const d=r.context.get(c.KeysInitQuery.physicalQueryPlanLogger);let p;this.includeInLogs&&d&&(p={},d.stashChildren(l,y=>y.logicalOperator.startsWith("join")),d.logOperation(`join-${this.logicalType}`,this.physicalName,r,l,this.name,p));const{result:f,physicalPlanMetadata:h}=await this.getOutput(r,u);if(p){(0,o.instrumentIterator)(f.bindingsStream).then(m=>{d.appendMetadata(r,{cardinalityReal:m.count,timeSelf:m.timeSelf,timeLife:m.timeLife})}),Object.assign(p,h);const y=u.metadatas.map(t.getCardinality);if(p.cardinalities=y,p.joinCoefficients=(await this.getJoinCoefficients(r,u)).getOrThrow(),this.isLeaf)for(let m=0;m<r.entries.length;m++){const b=r.entries[m];d.unstashChild(b.operation,r),d.appendMetadata(b.operation,{cardinality:y[m]})}}return f.metadata=(0,i.cachifyMetadata)(f.metadata),f}}e.ActorRdfJoin=t},57044:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeValueHandlerList=void 0;const c=s(55009);class a extends c.NodeValueHandlerAdapter{constructor(i,t){super("ListValue",i,t),this.nodeFirst=this.util.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#first"),this.nodeRest=this.util.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"),this.nodeNil=this.util.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#nil")}handle(i,t,n){const r=[];let u=[];for(const l of i.values){const d=this.util.handleNodeValue(l,t,n);for(const p of d.terms)r.push(p);d.auxiliaryPatterns&&(u=u.concat(d.auxiliaryPatterns))}if(this.settings.arraysToRdfLists){const l=this.util.dataFactory.blankNode();let d=l,p=r.length;for(const f of r){u.push(this.util.operationFactory.createPattern(d,this.nodeFirst,f,n.graph));const h=--p===0?this.nodeNil:this.util.dataFactory.blankNode();u.push(this.util.operationFactory.createPattern(d,this.nodeRest,h,n.graph)),d=h}return{terms:[l],auxiliaryPatterns:u}}return{terms:r,auxiliaryPatterns:u}}}e.NodeValueHandlerList=a},57489:(g,e,s)=>{function c(_){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},c(_)}function a(){var _,w,O=typeof Symbol=="function"?Symbol:{},A=O.iterator||"@@iterator",T=O.toStringTag||"@@toStringTag";function S(G,U,W,ye){var ve=U&&U.prototype instanceof D?U:D,he=Object.create(ve.prototype);return o(he,"_invoke",function(q,L,R){var k,X,oe,ee=0,me=R||[],de=!1,xe={p:0,n:0,v:_,a:ne,f:ne.bind(_,4),d:function(be,ie){return k=be,X=0,oe=_,xe.n=ie,E}};function ne(be,ie){for(X=be,oe=ie,w=0;!de&&ee&&!ge&&w<me.length;w++){var ge,Ee=me[w],M=xe.p,P=Ee[2];be>3?(ge=P===ie)&&(oe=Ee[(X=Ee[4])?5:(X=3,3)],Ee[4]=Ee[5]=_):Ee[0]<=M&&((ge=be<2&&M<Ee[1])?(X=0,xe.v=ie,xe.n=Ee[1]):M<P&&(ge=be<3||Ee[0]>ie||ie>P)&&(Ee[4]=be,Ee[5]=ie,xe.n=P,X=0))}if(ge||be>1)return E;throw de=!0,ie}return function(be,ie,ge){if(ee>1)throw TypeError("Generator is already running");for(de&&ie===1&&ne(ie,ge),X=ie,oe=ge;(w=X<2?_:oe)||!de;){k||(X?X<3?(X>1&&(xe.n=-1),ne(X,oe)):xe.n=oe:xe.v=oe);try{if(ee=2,k){if(X||(be="next"),w=k[be]){if(!(w=w.call(k,oe)))throw TypeError("iterator result is not an object");if(!w.done)return w;oe=w.value,X<2&&(X=0)}else X===1&&(w=k.return)&&w.call(k),X<2&&(oe=TypeError("The iterator does not provide a '"+be+"' method"),X=1);k=_}else if((w=(de=xe.n<0)?oe:q.call(L,xe))!==E)break}catch(Ee){k=_,X=1,oe=Ee}finally{ee=1}}return{value:w,done:de}}}(G,W,ye),!0),he}var E={};function D(){}function I(){}function V(){}w=Object.getPrototypeOf;var K=[][A]?w(w([][A]())):(o(w={},A,function(){return this}),w),B=V.prototype=D.prototype=Object.create(K);function $(G){return Object.setPrototypeOf?Object.setPrototypeOf(G,V):(G.__proto__=V,o(G,T,"GeneratorFunction")),G.prototype=Object.create(B),G}return I.prototype=V,o(B,"constructor",V),o(V,"constructor",I),I.displayName="GeneratorFunction",o(V,T,"GeneratorFunction"),o(B),o(B,T,"Generator"),o(B,A,function(){return this}),o(B,"toString",function(){return"[object Generator]"}),(a=function(){return{w:S,m:$}})()}function o(_,w,O,A){var T=Object.defineProperty;try{T({},"",{})}catch{T=0}o=function(S,E,D,I){function V(K,B){o(S,K,function($){return this._invoke(K,B,$)})}E?T?T(S,E,{value:D,enumerable:!I,configurable:!I,writable:!I}):S[E]=D:(V("next",0),V("throw",1),V("return",2))},o(_,w,O,A)}function i(_,w,O,A,T,S,E){try{var D=_[S](E),I=D.value}catch(V){return void O(V)}D.done?w(I):Promise.resolve(I).then(A,T)}function t(_){return function(){var w=this,O=arguments;return new Promise(function(A,T){var S=_.apply(w,O);function E(I){i(S,A,T,E,D,"next",I)}function D(I){i(S,A,T,E,D,"throw",I)}E(void 0)})}}function n(_,w){for(var O=0;O<w.length;O++){var A=w[O];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(_,r(A.key),A)}}function r(_){var w=function(O){if(c(O)!="object"||!O)return O;var A=O[Symbol.toPrimitive];if(A!==void 0){var T=A.call(O,"string");if(c(T)!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(O)}(_);return c(w)=="symbol"?w:w+""}function u(){try{var _=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u=function(){return!!_})()}function l(_){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(w){return w.__proto__||Object.getPrototypeOf(w)},l(_)}function d(_,w){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(O,A){return O.__proto__=A,O},d(_,w)}Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQuerySourceIdentifyHypermediaPassage=void 0;var p=s(81926),f=s(62100),h=s(43750),y=s(90412),m=s(96331),b=s(90711),v=function(_){function w(E){return function(D,I){if(!(D instanceof I))throw new TypeError("Cannot call a class as a function")}(this,w),function(D,I,V){return I=l(I),function(K,B){if(B&&(c(B)=="object"||typeof B=="function"))return B;if(B!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function($){if($===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $}(K)}(D,u()?Reflect.construct(I,V||[],l(D).constructor):I.apply(D,V))}(this,w,[E,"passage"])}return function(E,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(D&&D.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),Object.defineProperty(E,"prototype",{writable:!1}),D&&d(E,D)}(w,_),O=w,A=[{key:"testMetadata",value:(S=t(a().m(function E(D){return a().w(function(I){for(;;)switch(I.n){case 0:if(D.forceSourceType||D.metadata.sparqlService||this.checkUrlSuffix&&D.url.endsWith("/passage")){I.n=1;break}return I.a(2,(0,y.failTest)("Actor ".concat(this.name," could not detect a passage service description or URL ending on /passage.")));case 1:return I.a(2,(0,y.passTest)({filterFactor:1}))}},E,this)})),function(E){return S.apply(this,arguments)})},{key:"run",value:(T=t(a().m(function E(D){var I,V,K,B,$,G,U,W,ye,ve,he,q,L,R,k;return a().w(function(X){for(;;)switch(X.n){case 0:return this.logInfo(D.context,"Identified ".concat(D.url," as passage source with service URL: ").concat(D.metadata.sparqlService||D.url)),I=D.context.getSafe(b.KeysInitQuery.dataFactory),V=new m.Factory(I),B=h.QuerySourcePassage,$=D.forceSourceType?D.url:D.metadata.sparqlService||D.url,G=D.context,U=this.mediatorHttp,W=this.bindMethod,ye=I,ve=V,X.n=1,p.BindingsFactory.create(this.mediatorMergeBindingsContext,D.context,I);case 1:return he=X.v,q=this.forceHttpGet,L=this.cacheSize,R=this.countTimeout,k=this.mediatorQueryProcess,K=new B($,G,U,W,ye,ve,he,q,L,R,k),X.a(2,{source:K})}},E,this)})),function(E){return T.apply(this,arguments)})}],A&&n(O.prototype,A),Object.defineProperty(O,"prototype",{writable:!1}),O;var O,A,T,S}(f.ActorQuerySourceIdentifyHypermedia);e.ActorQuerySourceIdentifyHypermediaPassage=v},57576:(g,e,s)=>{const c=s(65606),{ArrayPrototypeIndexOf:a,NumberIsInteger:o,NumberIsNaN:i,NumberParseInt:t,ObjectDefineProperties:n,ObjectKeys:r,ObjectSetPrototypeOf:u,Promise:l,SafeSet:d,SymbolAsyncDispose:p,SymbolAsyncIterator:f,Symbol:h}=s(24134);g.exports=de,de.ReadableState=me;const{EventEmitter:y}=s(37007),{Stream:m,prependListener:b}=s(94259),{Buffer:v}=s(48287),{addAbortSignal:_}=s(4147),w=s(86238);let O=s(57760).debuglog("stream",ae=>{O=ae});const A=s(80345),T=s(75896),{getHighWaterMark:S,getDefaultHighWaterMark:E}=s(65291),{aggregateTwoErrors:D,codes:{ERR_INVALID_ARG_TYPE:I,ERR_METHOD_NOT_IMPLEMENTED:V,ERR_OUT_OF_RANGE:K,ERR_STREAM_PUSH_AFTER_EOF:B,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:$},AbortError:G}=s(76371),{validateObject:U}=s(277),W=h("kPaused"),{StringDecoder:ye}=s(83141),ve=s(96532);u(de.prototype,m.prototype),u(de,m);const he=()=>{},{errorOrDestroy:q}=T,L=1,R=16,k=32,X=2048,oe=4096;function ee(ae){return{enumerable:!1,get(){return(this.state&ae)!==0},set(ce){ce?this.state|=ae:this.state&=~ae}}}function me(ae,ce,Le){typeof Le!="boolean"&&(Le=ce instanceof s(93370)),this.state=X|oe|R|k,ae&&ae.objectMode&&(this.state|=L),Le&&ae&&ae.readableObjectMode&&(this.state|=L),this.highWaterMark=ae?S(this,ae,"readableHighWaterMark",Le):E(!1),this.buffer=new A,this.length=0,this.pipes=[],this.flowing=null,this[W]=null,ae&&ae.emitClose===!1&&(this.state&=~X),ae&&ae.autoDestroy===!1&&(this.state&=~oe),this.errored=null,this.defaultEncoding=ae&&ae.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,ae&&ae.encoding&&(this.decoder=new ye(ae.encoding),this.encoding=ae.encoding)}function de(ae){if(!(this instanceof de))return new de(ae);const ce=this instanceof s(93370);this._readableState=new me(ae,this,ce),ae&&(typeof ae.read=="function"&&(this._read=ae.read),typeof ae.destroy=="function"&&(this._destroy=ae.destroy),typeof ae.construct=="function"&&(this._construct=ae.construct),ae.signal&&!ce&&_(ae.signal,this)),m.call(this,ae),T.construct(this,()=>{this._readableState.needReadable&&Ee(this,this._readableState)})}function xe(ae,ce,Le,ke){O("readableAddChunk",ce);const qe=ae._readableState;let He;if((qe.state&L)===0&&(typeof ce=="string"?(Le=Le||qe.defaultEncoding,qe.encoding!==Le&&(ke&&qe.encoding?ce=v.from(ce,Le).toString(qe.encoding):(ce=v.from(ce,Le),Le=""))):ce instanceof v?Le="":m._isUint8Array(ce)?(ce=m._uint8ArrayToBuffer(ce),Le=""):ce!=null&&(He=new I("chunk",["string","Buffer","Uint8Array"],ce))),He)q(ae,He);else if(ce===null)qe.state&=-9,function(Ae,Te){if(O("onEofChunk"),!Te.ended){if(Te.decoder){const Ke=Te.decoder.end();Ke&&Ke.length&&(Te.buffer.push(Ke),Te.length+=Te.objectMode?1:Ke.length)}Te.ended=!0,Te.sync?ie(Ae):(Te.needReadable=!1,Te.emittedReadable=!0,ge(Ae))}}(ae,qe);else if((qe.state&L)!==0||ce&&ce.length>0)if(ke)if(4&qe.state)q(ae,new $);else{if(qe.destroyed||qe.errored)return!1;ne(ae,qe,ce,!0)}else if(qe.ended)q(ae,new B);else{if(qe.destroyed||qe.errored)return!1;qe.state&=-9,qe.decoder&&!Le?(ce=qe.decoder.write(ce),qe.objectMode||ce.length!==0?ne(ae,qe,ce,!1):Ee(ae,qe)):ne(ae,qe,ce,!1)}else ke||(qe.state&=-9,Ee(ae,qe));return!qe.ended&&(qe.length<qe.highWaterMark||qe.length===0)}function ne(ae,ce,Le,ke){ce.flowing&&ce.length===0&&!ce.sync&&ae.listenerCount("data")>0?(65536&ce.state?ce.awaitDrainWriters.clear():ce.awaitDrainWriters=null,ce.dataEmitted=!0,ae.emit("data",Le)):(ce.length+=ce.objectMode?1:Le.length,ke?ce.buffer.unshift(Le):ce.buffer.push(Le),64&ce.state&&ie(ae)),Ee(ae,ce)}function be(ae,ce){return ae<=0||ce.length===0&&ce.ended?0:(ce.state&L)!==0?1:i(ae)?ce.flowing&&ce.length?ce.buffer.first().length:ce.length:ae<=ce.length?ae:ce.ended?ce.length:0}function ie(ae){const ce=ae._readableState;O("emitReadable",ce.needReadable,ce.emittedReadable),ce.needReadable=!1,ce.emittedReadable||(O("emitReadable",ce.flowing),ce.emittedReadable=!0,c.nextTick(ge,ae))}function ge(ae){const ce=ae._readableState;O("emitReadable_",ce.destroyed,ce.length,ce.ended),ce.destroyed||ce.errored||!ce.length&&!ce.ended||(ae.emit("readable"),ce.emittedReadable=!1),ce.needReadable=!ce.flowing&&!ce.ended&&ce.length<=ce.highWaterMark,te(ae)}function Ee(ae,ce){!ce.readingMore&&ce.constructed&&(ce.readingMore=!0,c.nextTick(M,ae,ce))}function M(ae,ce){for(;!ce.reading&&!ce.ended&&(ce.length<ce.highWaterMark||ce.flowing&&ce.length===0);){const Le=ce.length;if(O("maybeReadMore read 0"),ae.read(0),Le===ce.length)break}ce.readingMore=!1}function P(ae){const ce=ae._readableState;ce.readableListening=ae.listenerCount("readable")>0,ce.resumeScheduled&&ce[W]===!1?ce.flowing=!0:ae.listenerCount("data")>0?ae.resume():ce.readableListening||(ce.flowing=null)}function C(ae){O("readable nexttick read 0"),ae.read(0)}function z(ae,ce){O("resume",ce.reading),ce.reading||ae.read(0),ce.resumeScheduled=!1,ae.emit("resume"),te(ae),ce.flowing&&!ce.reading&&ae.read(0)}function te(ae){const ce=ae._readableState;for(O("flow",ce.flowing);ce.flowing&&ae.read()!==null;);}function re(ae,ce){typeof ae.read!="function"&&(ae=de.wrap(ae,{objectMode:!0}));const Le=async function*(ke,qe){let He,Ae=he;function Te(it){this===ke?(Ae(),Ae=he):Ae=it}ke.on("readable",Te);const Ke=w(ke,{writable:!1},it=>{He=it?D(He,it):null,Ae(),Ae=he});try{for(;;){const it=ke.destroyed?null:ke.read();if(it!==null)yield it;else{if(He)throw He;if(He===null)return;await new l(Te)}}}catch(it){throw He=D(He,it),He}finally{!He&&qe?.destroyOnReturn===!1||He!==void 0&&!ke._readableState.autoDestroy?(ke.off("readable",Te),Ke()):T.destroyer(ke,null)}}(ae,ce);return Le.stream=ae,Le}function le(ae,ce){if(ce.length===0)return null;let Le;return ce.objectMode?Le=ce.buffer.shift():!ae||ae>=ce.length?(Le=ce.decoder?ce.buffer.join(""):ce.buffer.length===1?ce.buffer.first():ce.buffer.concat(ce.length),ce.buffer.clear()):Le=ce.buffer.consume(ae,ce.decoder),Le}function _e(ae){const ce=ae._readableState;O("endReadable",ce.endEmitted),ce.endEmitted||(ce.ended=!0,c.nextTick(we,ce,ae))}function we(ae,ce){if(O("endReadableNT",ae.endEmitted,ae.length),!ae.errored&&!ae.closeEmitted&&!ae.endEmitted&&ae.length===0){if(ae.endEmitted=!0,ce.emit("end"),ce.writable&&ce.allowHalfOpen===!1)c.nextTick(Se,ce);else if(ae.autoDestroy){const Le=ce._writableState;(!Le||Le.autoDestroy&&(Le.finished||Le.writable===!1))&&ce.destroy()}}}function Se(ae){ae.writable&&!ae.writableEnded&&!ae.destroyed&&ae.end()}let Pe;function je(){return Pe===void 0&&(Pe={}),Pe}n(me.prototype,{objectMode:ee(L),ended:ee(2),endEmitted:ee(4),reading:ee(8),constructed:ee(R),sync:ee(k),needReadable:ee(64),emittedReadable:ee(128),readableListening:ee(256),resumeScheduled:ee(512),errorEmitted:ee(1024),emitClose:ee(X),autoDestroy:ee(oe),destroyed:ee(8192),closed:ee(16384),closeEmitted:ee(32768),multiAwaitDrain:ee(65536),readingMore:ee(1<<17),dataEmitted:ee(1<<18)}),de.prototype.destroy=T.destroy,de.prototype._undestroy=T.undestroy,de.prototype._destroy=function(ae,ce){ce(ae)},de.prototype[y.captureRejectionSymbol]=function(ae){this.destroy(ae)},de.prototype[p]=function(){let ae;return this.destroyed||(ae=this.readableEnded?null:new G,this.destroy(ae)),new l((ce,Le)=>w(this,ke=>ke&&ke!==ae?Le(ke):ce(null)))},de.prototype.push=function(ae,ce){return xe(this,ae,ce,!1)},de.prototype.unshift=function(ae,ce){return xe(this,ae,ce,!0)},de.prototype.isPaused=function(){const ae=this._readableState;return ae[W]===!0||ae.flowing===!1},de.prototype.setEncoding=function(ae){const ce=new ye(ae);this._readableState.decoder=ce,this._readableState.encoding=this._readableState.decoder.encoding;const Le=this._readableState.buffer;let ke="";for(const qe of Le)ke+=ce.write(qe);return Le.clear(),ke!==""&&Le.push(ke),this._readableState.length=ke.length,this},de.prototype.read=function(ae){O("read",ae),ae===void 0?ae=NaN:o(ae)||(ae=t(ae,10));const ce=this._readableState,Le=ae;if(ae>ce.highWaterMark&&(ce.highWaterMark=function(He){if(He>1073741824)throw new K("size","<= 1GiB",He);return He--,He|=He>>>1,He|=He>>>2,He|=He>>>4,He|=He>>>8,He|=He>>>16,++He}(ae)),ae!==0&&(ce.state&=-129),ae===0&&ce.needReadable&&((ce.highWaterMark!==0?ce.length>=ce.highWaterMark:ce.length>0)||ce.ended))return O("read: emitReadable",ce.length,ce.ended),ce.length===0&&ce.ended?_e(this):ie(this),null;if((ae=be(ae,ce))===0&&ce.ended)return ce.length===0&&_e(this),null;let ke,qe=!!(64&ce.state);if(O("need readable",qe),(ce.length===0||ce.length-ae<ce.highWaterMark)&&(qe=!0,O("length less than watermark",qe)),ce.ended||ce.reading||ce.destroyed||ce.errored||!ce.constructed)qe=!1,O("reading, ended or constructing",qe);else if(qe){O("do read"),ce.state|=8|k,ce.length===0&&(ce.state|=64);try{this._read(ce.highWaterMark)}catch(He){q(this,He)}ce.state&=~k,ce.reading||(ae=be(Le,ce))}return ke=ae>0?le(ae,ce):null,ke===null?(ce.needReadable=ce.length<=ce.highWaterMark,ae=0):(ce.length-=ae,ce.multiAwaitDrain?ce.awaitDrainWriters.clear():ce.awaitDrainWriters=null),ce.length===0&&(ce.ended||(ce.needReadable=!0),Le!==ae&&ce.ended&&_e(this)),ke===null||ce.errorEmitted||ce.closeEmitted||(ce.dataEmitted=!0,this.emit("data",ke)),ke},de.prototype._read=function(ae){throw new V("_read()")},de.prototype.pipe=function(ae,ce){const Le=this,ke=this._readableState;ke.pipes.length===1&&(ke.multiAwaitDrain||(ke.multiAwaitDrain=!0,ke.awaitDrainWriters=new d(ke.awaitDrainWriters?[ke.awaitDrainWriters]:[]))),ke.pipes.push(ae),O("pipe count=%d opts=%j",ke.pipes.length,ce);const qe=ce&&ce.end===!1||ae===c.stdout||ae===c.stderr?vt:He;function He(){O("onend"),ae.end()}let Ae;ke.endEmitted?c.nextTick(qe):Le.once("end",qe),ae.on("unpipe",function at(Ne,j){O("onunpipe"),Ne===Le&&j&&j.hasUnpiped===!1&&(j.hasUnpiped=!0,O("cleanup"),ae.removeListener("close",tt),ae.removeListener("finish",ht),Ae&&ae.removeListener("drain",Ae),ae.removeListener("error",ut),ae.removeListener("unpipe",at),Le.removeListener("end",He),Le.removeListener("end",vt),Le.removeListener("data",it),Te=!0,Ae&&ke.awaitDrainWriters&&(!ae._writableState||ae._writableState.needDrain)&&Ae())});let Te=!1;function Ke(){Te||(ke.pipes.length===1&&ke.pipes[0]===ae?(O("false write response, pause",0),ke.awaitDrainWriters=ae,ke.multiAwaitDrain=!1):ke.pipes.length>1&&ke.pipes.includes(ae)&&(O("false write response, pause",ke.awaitDrainWriters.size),ke.awaitDrainWriters.add(ae)),Le.pause()),Ae||(Ae=function(at,Ne){return function(){const j=at._readableState;j.awaitDrainWriters===Ne?(O("pipeOnDrain",1),j.awaitDrainWriters=null):j.multiAwaitDrain&&(O("pipeOnDrain",j.awaitDrainWriters.size),j.awaitDrainWriters.delete(Ne)),j.awaitDrainWriters&&j.awaitDrainWriters.size!==0||!at.listenerCount("data")||at.resume()}}(Le,ae),ae.on("drain",Ae))}function it(at){O("ondata");const Ne=ae.write(at);O("dest.write",Ne),Ne===!1&&Ke()}function ut(at){if(O("onerror",at),vt(),ae.removeListener("error",ut),ae.listenerCount("error")===0){const Ne=ae._writableState||ae._readableState;Ne&&!Ne.errorEmitted?q(ae,at):ae.emit("error",at)}}function tt(){ae.removeListener("finish",ht),vt()}function ht(){O("onfinish"),ae.removeListener("close",tt),vt()}function vt(){O("unpipe"),Le.unpipe(ae)}return Le.on("data",it),b(ae,"error",ut),ae.once("close",tt),ae.once("finish",ht),ae.emit("pipe",Le),ae.writableNeedDrain===!0?Ke():ke.flowing||(O("pipe resume"),Le.resume()),ae},de.prototype.unpipe=function(ae){const ce=this._readableState;if(ce.pipes.length===0)return this;if(!ae){const ke=ce.pipes;ce.pipes=[],this.pause();for(let qe=0;qe<ke.length;qe++)ke[qe].emit("unpipe",this,{hasUnpiped:!1});return this}const Le=a(ce.pipes,ae);return Le===-1||(ce.pipes.splice(Le,1),ce.pipes.length===0&&this.pause(),ae.emit("unpipe",this,{hasUnpiped:!1})),this},de.prototype.on=function(ae,ce){const Le=m.prototype.on.call(this,ae,ce),ke=this._readableState;return ae==="data"?(ke.readableListening=this.listenerCount("readable")>0,ke.flowing!==!1&&this.resume()):ae==="readable"&&(ke.endEmitted||ke.readableListening||(ke.readableListening=ke.needReadable=!0,ke.flowing=!1,ke.emittedReadable=!1,O("on readable",ke.length,ke.reading),ke.length?ie(this):ke.reading||c.nextTick(C,this))),Le},de.prototype.addListener=de.prototype.on,de.prototype.removeListener=function(ae,ce){const Le=m.prototype.removeListener.call(this,ae,ce);return ae==="readable"&&c.nextTick(P,this),Le},de.prototype.off=de.prototype.removeListener,de.prototype.removeAllListeners=function(ae){const ce=m.prototype.removeAllListeners.apply(this,arguments);return ae!=="readable"&&ae!==void 0||c.nextTick(P,this),ce},de.prototype.resume=function(){const ae=this._readableState;return ae.flowing||(O("resume"),ae.flowing=!ae.readableListening,function(ce,Le){Le.resumeScheduled||(Le.resumeScheduled=!0,c.nextTick(z,ce,Le))}(this,ae)),ae[W]=!1,this},de.prototype.pause=function(){return O("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(O("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[W]=!0,this},de.prototype.wrap=function(ae){let ce=!1;ae.on("data",ke=>{!this.push(ke)&&ae.pause&&(ce=!0,ae.pause())}),ae.on("end",()=>{this.push(null)}),ae.on("error",ke=>{q(this,ke)}),ae.on("close",()=>{this.destroy()}),ae.on("destroy",()=>{this.destroy()}),this._read=()=>{ce&&ae.resume&&(ce=!1,ae.resume())};const Le=r(ae);for(let ke=1;ke<Le.length;ke++){const qe=Le[ke];this[qe]===void 0&&typeof ae[qe]=="function"&&(this[qe]=ae[qe].bind(ae))}return this},de.prototype[f]=function(){return re(this)},de.prototype.iterator=function(ae){return ae!==void 0&&U(ae,"options"),re(this,ae)},n(de.prototype,{readable:{__proto__:null,get(){const ae=this._readableState;return!(!ae||ae.readable===!1||ae.destroyed||ae.errorEmitted||ae.endEmitted)},set(ae){this._readableState&&(this._readableState.readable=!!ae)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(this._readableState.readable===!1||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(ae){this._readableState&&(this._readableState.flowing=ae)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(ae){this._readableState&&(this._readableState.destroyed=ae)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),n(me.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[W]!==!1},set(ae){this[W]=!!ae}}}),de._fromList=le,de.from=function(ae,ce){return ve(de,ae,ce)},de.fromWeb=function(ae,ce){return je().newStreamReadableFromReadableStream(ae,ce)},de.toWeb=function(ae,ce){return je().newReadableStreamFromStreamReadable(ae,ce)},de.wrap=function(ae,ce){var Le,ke;return new de({objectMode:(Le=(ke=ae.readableObjectMode)!==null&&ke!==void 0?ke:ae.objectMode)===null||Le===void 0||Le,...ce,destroy(qe,He){T.destroyer(ae,qe),He(qe)}}).wrap(ae)}},57755:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},57758:(g,e,s)=>{const c=s(65606),{ArrayIsArray:a,Promise:o,SymbolAsyncIterator:i,SymbolDispose:t}=s(24134),n=s(86238),{once:r}=s(57760),u=s(75896),l=s(93370),{aggregateTwoErrors:d,codes:{ERR_INVALID_ARG_TYPE:p,ERR_INVALID_RETURN_VALUE:f,ERR_MISSING_ARGS:h,ERR_STREAM_DESTROYED:y,ERR_STREAM_PREMATURE_CLOSE:m},AbortError:b}=s(76371),{validateFunction:v,validateAbortSignal:_}=s(277),{isIterable:w,isReadable:O,isReadableNodeStream:A,isNodeStream:T,isTransformStream:S,isWebStream:E,isReadableStream:D,isReadableFinished:I}=s(16115),V=globalThis.AbortController||s(25568).AbortController;let K,B,$;function G(q,L,R){let k=!1;return q.on("close",()=>{k=!0}),{destroy:X=>{k||(k=!0,u.destroyer(q,X||new y("pipe")))},cleanup:n(q,{readable:L,writable:R},X=>{k=!X})}}function U(q){if(w(q))return q;if(A(q))return async function*(L){B||(B=s(57576)),yield*B.prototype[i].call(L)}(q);throw new p("val",["Readable","Iterable","AsyncIterable"],q)}async function W(q,L,R,{end:k}){let X,oe=null;const ee=xe=>{if(xe&&(X=xe),oe){const ne=oe;oe=null,ne()}},me=()=>new o((xe,ne)=>{X?ne(X):oe=()=>{X?ne(X):xe()}});L.on("drain",ee);const de=n(L,{readable:!1},ee);try{L.writableNeedDrain&&await me();for await(const xe of q)L.write(xe)||await me();k&&(L.end(),await me()),R()}catch(xe){R(X!==xe?d(X,xe):xe)}finally{de(),L.off("drain",ee)}}async function ye(q,L,R,{end:k}){S(L)&&(L=L.writable);const X=L.getWriter();try{for await(const oe of q)await X.ready,X.write(oe).catch(()=>{});await X.ready,k&&await X.close(),R()}catch(oe){try{await X.abort(oe),R(oe)}catch(ee){R(ee)}}}function ve(q,L,R){if(q.length===1&&a(q[0])&&(q=q[0]),q.length<2)throw new h("streams");const k=new V,X=k.signal,oe=R?.signal,ee=[];function me(){M(new b)}let de,xe,ne;_(oe,"options.signal"),$=$||s(57760).addAbortListener,oe&&(de=$(oe,me));const be=[];let ie,ge=0;function Ee(z){M(z,--ge===0)}function M(z,te){var re;if(!z||xe&&xe.code!=="ERR_STREAM_PREMATURE_CLOSE"||(xe=z),xe||te){for(;be.length;)be.shift()(xe);(re=de)===null||re===void 0||re[t](),k.abort(),te&&(xe||ee.forEach(le=>le()),c.nextTick(L,xe,ne))}}for(let z=0;z<q.length;z++){const te=q[z],re=z<q.length-1,le=z>0,_e=re||R?.end!==!1,we=z===q.length-1;if(T(te)){let Se=function(Pe){Pe&&Pe.name!=="AbortError"&&Pe.code!=="ERR_STREAM_PREMATURE_CLOSE"&&Ee(Pe)};if(_e){const{destroy:Pe,cleanup:je}=G(te,re,le);be.push(Pe),O(te)&&we&&ee.push(je)}te.on("error",Se),O(te)&&we&&ee.push(()=>{te.removeListener("error",Se)})}if(z===0)if(typeof te=="function"){if(ie=te({signal:X}),!w(ie))throw new f("Iterable, AsyncIterable or Stream","source",ie)}else ie=w(te)||A(te)||S(te)?te:l.from(te);else if(typeof te=="function"){var P;if(ie=S(ie)?U((P=ie)===null||P===void 0?void 0:P.readable):U(ie),ie=te(ie,{signal:X}),re){if(!w(ie,!0))throw new f("AsyncIterable",`transform[${z-1}]`,ie)}else{var C;K||(K=s(86524));const Se=new K({objectMode:!0}),Pe=(C=ie)===null||C===void 0?void 0:C.then;if(typeof Pe=="function")ge++,Pe.call(ie,ce=>{ne=ce,ce!=null&&Se.write(ce),_e&&Se.end(),c.nextTick(Ee)},ce=>{Se.destroy(ce),c.nextTick(Ee,ce)});else if(w(ie,!0))ge++,W(ie,Se,Ee,{end:_e});else{if(!D(ie)&&!S(ie))throw new f("AsyncIterable or Promise","destination",ie);{const ce=ie.readable||ie;ge++,W(ce,Se,Ee,{end:_e})}}ie=Se;const{destroy:je,cleanup:ae}=G(ie,!1,!0);be.push(je),we&&ee.push(ae)}}else if(T(te)){if(A(ie)){ge+=2;const Se=he(ie,te,Ee,{end:_e});O(te)&&we&&ee.push(Se)}else if(S(ie)||D(ie)){const Se=ie.readable||ie;ge++,W(Se,te,Ee,{end:_e})}else{if(!w(ie))throw new p("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],ie);ge++,W(ie,te,Ee,{end:_e})}ie=te}else if(E(te)){if(A(ie))ge++,ye(U(ie),te,Ee,{end:_e});else if(D(ie)||w(ie))ge++,ye(ie,te,Ee,{end:_e});else{if(!S(ie))throw new p("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],ie);ge++,ye(ie.readable,te,Ee,{end:_e})}ie=te}else ie=l.from(te)}return(X!=null&&X.aborted||oe!=null&&oe.aborted)&&c.nextTick(me),ie}function he(q,L,R,{end:k}){let X=!1;if(L.on("close",()=>{X||R(new m)}),q.pipe(L,{end:!1}),k){let oe=function(){X=!0,L.end()};I(q)?c.nextTick(oe):q.once("end",oe)}else R();return n(q,{readable:!0,writable:!1},oe=>{const ee=q._readableState;oe&&oe.code==="ERR_STREAM_PREMATURE_CLOSE"&&ee&&ee.ended&&!ee.errored&&!ee.errorEmitted?q.once("end",R).once("error",R):R(oe)}),n(L,{readable:!1,writable:!0},R)}g.exports={pipelineImpl:ve,pipeline:function(...q){return ve(q,r(function(L){return v(L[L.length-1],"streams[stream.length - 1]"),L.pop()}(q)))}}},57760:(g,e,s)=>{const c=s(48287),{format:a,inspect:o}=s(79231),{codes:{ERR_INVALID_ARG_TYPE:i}}=s(76371),{kResistStopPropagation:t,AggregateError:n,SymbolDispose:r}=s(24134),u=globalThis.AbortSignal||s(25568).AbortSignal,l=globalThis.AbortController||s(25568).AbortController,d=Object.getPrototypeOf(async function(){}).constructor,p=globalThis.Blob||c.Blob,f=p!==void 0?function(y){return y instanceof p}:function(y){return!1},h=(y,m)=>{if(y!==void 0&&(y===null||typeof y!="object"||!("aborted"in y)))throw new i(m,"AbortSignal",y)};g.exports={AggregateError:n,kEmptyObject:Object.freeze({}),once(y){let m=!1;return function(...b){m||(m=!0,y.apply(this,b))}},createDeferredPromise:function(){let y,m;return{promise:new Promise((b,v)=>{y=b,m=v}),resolve:y,reject:m}},promisify:y=>new Promise((m,b)=>{y((v,..._)=>v?b(v):m(..._))}),debuglog:()=>function(){},format:a,inspect:o,types:{isAsyncFunction:y=>y instanceof d,isArrayBufferView:y=>ArrayBuffer.isView(y)},isBlob:f,deprecate:(y,m)=>y,addAbortListener:s(37007).addAbortListener||function(y,m){if(y===void 0)throw new i("signal","AbortSignal",y);let b;return h(y,"signal"),(v=>{if(typeof v!="function")throw new i("listener","Function",v)})(m),y.aborted?queueMicrotask(()=>m()):(y.addEventListener("abort",m,{__proto__:null,once:!0,[t]:!0}),b=()=>{y.removeEventListener("abort",m)}),{__proto__:null,[r](){var v;(v=b)===null||v===void 0||v()}}},AbortSignalAny:u.any||function(y){if(y.length===1)return y[0];const m=new l,b=()=>m.abort();return y.forEach(v=>{h(v,"signals"),v.addEventListener("abort",b,{once:!0})}),m.signal.addEventListener("abort",()=>{y.forEach(v=>v.removeEventListener("abort",b))},{once:!0}),m.signal}},g.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},57766:(g,e,s)=>{var c=s(67426),a=s(66166),o=s(43349),i=c.rotr64_hi,t=c.rotr64_lo,n=c.shr64_hi,r=c.shr64_lo,u=c.sum64,l=c.sum64_hi,d=c.sum64_lo,p=c.sum64_4_hi,f=c.sum64_4_lo,h=c.sum64_5_hi,y=c.sum64_5_lo,m=a.BlockHash,b=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function v(){if(!(this instanceof v))return new v;m.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=b,this.W=new Array(160)}function _($,G,U,W,ye){var ve=$&U^~$&ye;return ve<0&&(ve+=4294967296),ve}function w($,G,U,W,ye,ve){var he=G&W^~G&ve;return he<0&&(he+=4294967296),he}function O($,G,U,W,ye){var ve=$&U^$&ye^U&ye;return ve<0&&(ve+=4294967296),ve}function A($,G,U,W,ye,ve){var he=G&W^G&ve^W&ve;return he<0&&(he+=4294967296),he}function T($,G){var U=i($,G,28)^i(G,$,2)^i(G,$,7);return U<0&&(U+=4294967296),U}function S($,G){var U=t($,G,28)^t(G,$,2)^t(G,$,7);return U<0&&(U+=4294967296),U}function E($,G){var U=i($,G,14)^i($,G,18)^i(G,$,9);return U<0&&(U+=4294967296),U}function D($,G){var U=t($,G,14)^t($,G,18)^t(G,$,9);return U<0&&(U+=4294967296),U}function I($,G){var U=i($,G,1)^i($,G,8)^n($,G,7);return U<0&&(U+=4294967296),U}function V($,G){var U=t($,G,1)^t($,G,8)^r($,G,7);return U<0&&(U+=4294967296),U}function K($,G){var U=i($,G,19)^i(G,$,29)^n($,G,6);return U<0&&(U+=4294967296),U}function B($,G){var U=t($,G,19)^t(G,$,29)^r($,G,6);return U<0&&(U+=4294967296),U}c.inherits(v,m),g.exports=v,v.blockSize=1024,v.outSize=512,v.hmacStrength=192,v.padLength=128,v.prototype._prepareBlock=function($,G){for(var U=this.W,W=0;W<32;W++)U[W]=$[G+W];for(;W<U.length;W+=2){var ye=K(U[W-4],U[W-3]),ve=B(U[W-4],U[W-3]),he=U[W-14],q=U[W-13],L=I(U[W-30],U[W-29]),R=V(U[W-30],U[W-29]),k=U[W-32],X=U[W-31];U[W]=p(ye,ve,he,q,L,R,k,X),U[W+1]=f(ye,ve,he,q,L,R,k,X)}},v.prototype._update=function($,G){this._prepareBlock($,G);var U=this.W,W=this.h[0],ye=this.h[1],ve=this.h[2],he=this.h[3],q=this.h[4],L=this.h[5],R=this.h[6],k=this.h[7],X=this.h[8],oe=this.h[9],ee=this.h[10],me=this.h[11],de=this.h[12],xe=this.h[13],ne=this.h[14],be=this.h[15];o(this.k.length===U.length);for(var ie=0;ie<U.length;ie+=2){var ge=ne,Ee=be,M=E(X,oe),P=D(X,oe),C=_(X,0,ee,0,de),z=w(0,oe,0,me,0,xe),te=this.k[ie],re=this.k[ie+1],le=U[ie],_e=U[ie+1],we=h(ge,Ee,M,P,C,z,te,re,le,_e),Se=y(ge,Ee,M,P,C,z,te,re,le,_e);ge=T(W,ye),Ee=S(W,ye),M=O(W,0,ve,0,q),P=A(0,ye,0,he,0,L);var Pe=l(ge,Ee,M,P),je=d(ge,Ee,M,P);ne=de,be=xe,de=ee,xe=me,ee=X,me=oe,X=l(R,k,we,Se),oe=d(k,k,we,Se),R=q,k=L,q=ve,L=he,ve=W,he=ye,W=l(we,Se,Pe,je),ye=d(we,Se,Pe,je)}u(this.h,0,W,ye),u(this.h,2,ve,he),u(this.h,4,q,L),u(this.h,6,R,k),u(this.h,8,X,oe),u(this.h,10,ee,me),u(this.h,12,de,xe),u(this.h,14,ne,be)},v.prototype._digest=function($){return $==="hex"?c.toHex32(this.h,"big"):c.split32(this.h,"big")}},57805:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermXsdToTime=void 0;const c=s(77617),a=s(77545),o=s(29754);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.TypeURL.XSD_TIME],termFunction:!0})}async run(n){return new o.TermFunctionXsdToTime}}e.ActorFunctionFactoryTermXsdToTime=i},57834:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionFloor=void 0;const c=s(77617),a=s(77545);class o extends c.TermFunctionBase{constructor(){super({arity:1,operator:a.SparqlOperator.FLOOR,overloads:(0,a.declare)(a.SparqlOperator.FLOOR).numericConverter(()=>t=>Math.floor(t)).collect()})}}e.TermFunctionFloor=o},57918:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.QuoteType=void 0;var c,a,o,i=s(79878);function t(d){return d===c.Space||d===c.NewLine||d===c.Tab||d===c.FormFeed||d===c.CarriageReturn}function n(d){return d===c.Slash||d===c.Gt||t(d)}function r(d){return d>=c.Zero&&d<=c.Nine}(function(d){d[d.Tab=9]="Tab",d[d.NewLine=10]="NewLine",d[d.FormFeed=12]="FormFeed",d[d.CarriageReturn=13]="CarriageReturn",d[d.Space=32]="Space",d[d.ExclamationMark=33]="ExclamationMark",d[d.Number=35]="Number",d[d.Amp=38]="Amp",d[d.SingleQuote=39]="SingleQuote",d[d.DoubleQuote=34]="DoubleQuote",d[d.Dash=45]="Dash",d[d.Slash=47]="Slash",d[d.Zero=48]="Zero",d[d.Nine=57]="Nine",d[d.Semi=59]="Semi",d[d.Lt=60]="Lt",d[d.Eq=61]="Eq",d[d.Gt=62]="Gt",d[d.Questionmark=63]="Questionmark",d[d.UpperA=65]="UpperA",d[d.LowerA=97]="LowerA",d[d.UpperF=70]="UpperF",d[d.LowerF=102]="LowerF",d[d.UpperZ=90]="UpperZ",d[d.LowerZ=122]="LowerZ",d[d.LowerX=120]="LowerX",d[d.OpeningSquareBracket=91]="OpeningSquareBracket"})(c||(c={})),function(d){d[d.Text=1]="Text",d[d.BeforeTagName=2]="BeforeTagName",d[d.InTagName=3]="InTagName",d[d.InSelfClosingTag=4]="InSelfClosingTag",d[d.BeforeClosingTagName=5]="BeforeClosingTagName",d[d.InClosingTagName=6]="InClosingTagName",d[d.AfterClosingTagName=7]="AfterClosingTagName",d[d.BeforeAttributeName=8]="BeforeAttributeName",d[d.InAttributeName=9]="InAttributeName",d[d.AfterAttributeName=10]="AfterAttributeName",d[d.BeforeAttributeValue=11]="BeforeAttributeValue",d[d.InAttributeValueDq=12]="InAttributeValueDq",d[d.InAttributeValueSq=13]="InAttributeValueSq",d[d.InAttributeValueNq=14]="InAttributeValueNq",d[d.BeforeDeclaration=15]="BeforeDeclaration",d[d.InDeclaration=16]="InDeclaration",d[d.InProcessingInstruction=17]="InProcessingInstruction",d[d.BeforeComment=18]="BeforeComment",d[d.CDATASequence=19]="CDATASequence",d[d.InSpecialComment=20]="InSpecialComment",d[d.InCommentLike=21]="InCommentLike",d[d.BeforeSpecialS=22]="BeforeSpecialS",d[d.SpecialStartSequence=23]="SpecialStartSequence",d[d.InSpecialTag=24]="InSpecialTag",d[d.BeforeEntity=25]="BeforeEntity",d[d.BeforeNumericEntity=26]="BeforeNumericEntity",d[d.InNamedEntity=27]="InNamedEntity",d[d.InNumericEntity=28]="InNumericEntity",d[d.InHexEntity=29]="InHexEntity"}(a||(a={})),function(d){d[d.NoValue=0]="NoValue",d[d.Unquoted=1]="Unquoted",d[d.Single=2]="Single",d[d.Double=3]="Double"}(o=e.QuoteType||(e.QuoteType={}));var u={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101])},l=function(){function d(p,f){var h=p.xmlMode,y=h!==void 0&&h,m=p.decodeEntities,b=m===void 0||m;this.cbs=f,this.state=a.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=a.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.trieIndex=0,this.trieCurrent=0,this.entityResult=0,this.entityExcess=0,this.xmlMode=y,this.decodeEntities=b,this.entityTrie=y?i.xmlDecodeTree:i.htmlDecodeTree}return d.prototype.reset=function(){this.state=a.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=a.Text,this.currentSequence=void 0,this.running=!0,this.offset=0},d.prototype.write=function(p){this.offset+=this.buffer.length,this.buffer=p,this.parse()},d.prototype.end=function(){this.running&&this.finish()},d.prototype.pause=function(){this.running=!1},d.prototype.resume=function(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()},d.prototype.getIndex=function(){return this.index},d.prototype.getSectionStart=function(){return this.sectionStart},d.prototype.stateText=function(p){p===c.Lt||!this.decodeEntities&&this.fastForwardTo(c.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=a.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&p===c.Amp&&(this.state=a.BeforeEntity)},d.prototype.stateSpecialStartSequence=function(p){var f=this.sequenceIndex===this.currentSequence.length;if(f?n(p):(32|p)===this.currentSequence[this.sequenceIndex]){if(!f)return void this.sequenceIndex++}else this.isSpecial=!1;this.sequenceIndex=0,this.state=a.InTagName,this.stateInTagName(p)},d.prototype.stateInSpecialTag=function(p){if(this.sequenceIndex===this.currentSequence.length){if(p===c.Gt||t(p)){var f=this.index-this.currentSequence.length;if(this.sectionStart<f){var h=this.index;this.index=f,this.cbs.ontext(this.sectionStart,f),this.index=h}return this.isSpecial=!1,this.sectionStart=f+2,void this.stateInClosingTagName(p)}this.sequenceIndex=0}(32|p)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===u.TitleEnd?this.decodeEntities&&p===c.Amp&&(this.state=a.BeforeEntity):this.fastForwardTo(c.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(p===c.Lt)},d.prototype.stateCDATASequence=function(p){p===u.Cdata[this.sequenceIndex]?++this.sequenceIndex===u.Cdata.length&&(this.state=a.InCommentLike,this.currentSequence=u.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=a.InDeclaration,this.stateInDeclaration(p))},d.prototype.fastForwardTo=function(p){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===p)return!0;return this.index=this.buffer.length+this.offset-1,!1},d.prototype.stateInCommentLike=function(p){p===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===u.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=a.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):p!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)},d.prototype.isTagStartChar=function(p){return this.xmlMode?!n(p):function(f){return f>=c.LowerA&&f<=c.LowerZ||f>=c.UpperA&&f<=c.UpperZ}(p)},d.prototype.startSpecial=function(p,f){this.isSpecial=!0,this.currentSequence=p,this.sequenceIndex=f,this.state=a.SpecialStartSequence},d.prototype.stateBeforeTagName=function(p){if(p===c.ExclamationMark)this.state=a.BeforeDeclaration,this.sectionStart=this.index+1;else if(p===c.Questionmark)this.state=a.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(p)){var f=32|p;this.sectionStart=this.index,this.xmlMode||f!==u.TitleEnd[2]?this.state=this.xmlMode||f!==u.ScriptEnd[2]?a.InTagName:a.BeforeSpecialS:this.startSpecial(u.TitleEnd,3)}else p===c.Slash?this.state=a.BeforeClosingTagName:(this.state=a.Text,this.stateText(p))},d.prototype.stateInTagName=function(p){n(p)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=a.BeforeAttributeName,this.stateBeforeAttributeName(p))},d.prototype.stateBeforeClosingTagName=function(p){t(p)||(p===c.Gt?this.state=a.Text:(this.state=this.isTagStartChar(p)?a.InClosingTagName:a.InSpecialComment,this.sectionStart=this.index))},d.prototype.stateInClosingTagName=function(p){(p===c.Gt||t(p))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=a.AfterClosingTagName,this.stateAfterClosingTagName(p))},d.prototype.stateAfterClosingTagName=function(p){(p===c.Gt||this.fastForwardTo(c.Gt))&&(this.state=a.Text,this.baseState=a.Text,this.sectionStart=this.index+1)},d.prototype.stateBeforeAttributeName=function(p){p===c.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=a.InSpecialTag,this.sequenceIndex=0):this.state=a.Text,this.baseState=this.state,this.sectionStart=this.index+1):p===c.Slash?this.state=a.InSelfClosingTag:t(p)||(this.state=a.InAttributeName,this.sectionStart=this.index)},d.prototype.stateInSelfClosingTag=function(p){p===c.Gt?(this.cbs.onselfclosingtag(this.index),this.state=a.Text,this.baseState=a.Text,this.sectionStart=this.index+1,this.isSpecial=!1):t(p)||(this.state=a.BeforeAttributeName,this.stateBeforeAttributeName(p))},d.prototype.stateInAttributeName=function(p){(p===c.Eq||n(p))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=-1,this.state=a.AfterAttributeName,this.stateAfterAttributeName(p))},d.prototype.stateAfterAttributeName=function(p){p===c.Eq?this.state=a.BeforeAttributeValue:p===c.Slash||p===c.Gt?(this.cbs.onattribend(o.NoValue,this.index),this.state=a.BeforeAttributeName,this.stateBeforeAttributeName(p)):t(p)||(this.cbs.onattribend(o.NoValue,this.index),this.state=a.InAttributeName,this.sectionStart=this.index)},d.prototype.stateBeforeAttributeValue=function(p){p===c.DoubleQuote?(this.state=a.InAttributeValueDq,this.sectionStart=this.index+1):p===c.SingleQuote?(this.state=a.InAttributeValueSq,this.sectionStart=this.index+1):t(p)||(this.sectionStart=this.index,this.state=a.InAttributeValueNq,this.stateInAttributeValueNoQuotes(p))},d.prototype.handleInAttributeValue=function(p,f){p===f||!this.decodeEntities&&this.fastForwardTo(f)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(f===c.DoubleQuote?o.Double:o.Single,this.index),this.state=a.BeforeAttributeName):this.decodeEntities&&p===c.Amp&&(this.baseState=this.state,this.state=a.BeforeEntity)},d.prototype.stateInAttributeValueDoubleQuotes=function(p){this.handleInAttributeValue(p,c.DoubleQuote)},d.prototype.stateInAttributeValueSingleQuotes=function(p){this.handleInAttributeValue(p,c.SingleQuote)},d.prototype.stateInAttributeValueNoQuotes=function(p){t(p)||p===c.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(o.Unquoted,this.index),this.state=a.BeforeAttributeName,this.stateBeforeAttributeName(p)):this.decodeEntities&&p===c.Amp&&(this.baseState=this.state,this.state=a.BeforeEntity)},d.prototype.stateBeforeDeclaration=function(p){p===c.OpeningSquareBracket?(this.state=a.CDATASequence,this.sequenceIndex=0):this.state=p===c.Dash?a.BeforeComment:a.InDeclaration},d.prototype.stateInDeclaration=function(p){(p===c.Gt||this.fastForwardTo(c.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=a.Text,this.sectionStart=this.index+1)},d.prototype.stateInProcessingInstruction=function(p){(p===c.Gt||this.fastForwardTo(c.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=a.Text,this.sectionStart=this.index+1)},d.prototype.stateBeforeComment=function(p){p===c.Dash?(this.state=a.InCommentLike,this.currentSequence=u.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=a.InDeclaration},d.prototype.stateInSpecialComment=function(p){(p===c.Gt||this.fastForwardTo(c.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=a.Text,this.sectionStart=this.index+1)},d.prototype.stateBeforeSpecialS=function(p){var f=32|p;f===u.ScriptEnd[3]?this.startSpecial(u.ScriptEnd,4):f===u.StyleEnd[3]?this.startSpecial(u.StyleEnd,4):(this.state=a.InTagName,this.stateInTagName(p))},d.prototype.stateBeforeEntity=function(p){this.entityExcess=1,this.entityResult=0,p===c.Number?this.state=a.BeforeNumericEntity:p===c.Amp||(this.trieIndex=0,this.trieCurrent=this.entityTrie[0],this.state=a.InNamedEntity,this.stateInNamedEntity(p))},d.prototype.stateInNamedEntity=function(p){if(this.entityExcess+=1,this.trieIndex=(0,i.determineBranch)(this.entityTrie,this.trieCurrent,this.trieIndex+1,p),this.trieIndex<0)return this.emitNamedEntity(),void this.index--;this.trieCurrent=this.entityTrie[this.trieIndex];var f=this.trieCurrent&i.BinTrieFlags.VALUE_LENGTH;if(f){var h=(f>>14)-1;if(this.allowLegacyEntity()||p===c.Semi){var y=this.index-this.entityExcess+1;y>this.sectionStart&&this.emitPartial(this.sectionStart,y),this.entityResult=this.trieIndex,this.trieIndex+=h,this.entityExcess=0,this.sectionStart=this.index+1,h===0&&this.emitNamedEntity()}else this.trieIndex+=h}},d.prototype.emitNamedEntity=function(){if(this.state=this.baseState,this.entityResult!==0)switch((this.entityTrie[this.entityResult]&i.BinTrieFlags.VALUE_LENGTH)>>14){case 1:this.emitCodePoint(this.entityTrie[this.entityResult]&~i.BinTrieFlags.VALUE_LENGTH);break;case 2:this.emitCodePoint(this.entityTrie[this.entityResult+1]);break;case 3:this.emitCodePoint(this.entityTrie[this.entityResult+1]),this.emitCodePoint(this.entityTrie[this.entityResult+2])}},d.prototype.stateBeforeNumericEntity=function(p){(32|p)===c.LowerX?(this.entityExcess++,this.state=a.InHexEntity):(this.state=a.InNumericEntity,this.stateInNumericEntity(p))},d.prototype.emitNumericEntity=function(p){var f=this.index-this.entityExcess-1;f+2+ +(this.state===a.InHexEntity)!==this.index&&(f>this.sectionStart&&this.emitPartial(this.sectionStart,f),this.sectionStart=this.index+Number(p),this.emitCodePoint((0,i.replaceCodePoint)(this.entityResult))),this.state=this.baseState},d.prototype.stateInNumericEntity=function(p){p===c.Semi?this.emitNumericEntity(!0):r(p)?(this.entityResult=10*this.entityResult+(p-c.Zero),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},d.prototype.stateInHexEntity=function(p){p===c.Semi?this.emitNumericEntity(!0):r(p)?(this.entityResult=16*this.entityResult+(p-c.Zero),this.entityExcess++):function(f){return f>=c.UpperA&&f<=c.UpperF||f>=c.LowerA&&f<=c.LowerF}(p)?(this.entityResult=16*this.entityResult+((32|p)-c.LowerA+10),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},d.prototype.allowLegacyEntity=function(){return!this.xmlMode&&(this.baseState===a.Text||this.baseState===a.InSpecialTag)},d.prototype.cleanup=function(){this.running&&this.sectionStart!==this.index&&(this.state===a.Text||this.state===a.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):this.state!==a.InAttributeValueDq&&this.state!==a.InAttributeValueSq&&this.state!==a.InAttributeValueNq||(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))},d.prototype.shouldContinue=function(){return this.index<this.buffer.length+this.offset&&this.running},d.prototype.parse=function(){for(;this.shouldContinue();){var p=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case a.Text:this.stateText(p);break;case a.SpecialStartSequence:this.stateSpecialStartSequence(p);break;case a.InSpecialTag:this.stateInSpecialTag(p);break;case a.CDATASequence:this.stateCDATASequence(p);break;case a.InAttributeValueDq:this.stateInAttributeValueDoubleQuotes(p);break;case a.InAttributeName:this.stateInAttributeName(p);break;case a.InCommentLike:this.stateInCommentLike(p);break;case a.InSpecialComment:this.stateInSpecialComment(p);break;case a.BeforeAttributeName:this.stateBeforeAttributeName(p);break;case a.InTagName:this.stateInTagName(p);break;case a.InClosingTagName:this.stateInClosingTagName(p);break;case a.BeforeTagName:this.stateBeforeTagName(p);break;case a.AfterAttributeName:this.stateAfterAttributeName(p);break;case a.InAttributeValueSq:this.stateInAttributeValueSingleQuotes(p);break;case a.BeforeAttributeValue:this.stateBeforeAttributeValue(p);break;case a.BeforeClosingTagName:this.stateBeforeClosingTagName(p);break;case a.AfterClosingTagName:this.stateAfterClosingTagName(p);break;case a.BeforeSpecialS:this.stateBeforeSpecialS(p);break;case a.InAttributeValueNq:this.stateInAttributeValueNoQuotes(p);break;case a.InSelfClosingTag:this.stateInSelfClosingTag(p);break;case a.InDeclaration:this.stateInDeclaration(p);break;case a.BeforeDeclaration:this.stateBeforeDeclaration(p);break;case a.BeforeComment:this.stateBeforeComment(p);break;case a.InProcessingInstruction:this.stateInProcessingInstruction(p);break;case a.InNamedEntity:this.stateInNamedEntity(p);break;case a.BeforeEntity:this.stateBeforeEntity(p);break;case a.InHexEntity:this.stateInHexEntity(p);break;case a.InNumericEntity:this.stateInNumericEntity(p);break;default:this.stateBeforeNumericEntity(p)}this.index++}this.cleanup()},d.prototype.finish=function(){this.state===a.InNamedEntity&&this.emitNamedEntity(),this.sectionStart<this.index&&this.handleTrailingData(),this.cbs.onend()},d.prototype.handleTrailingData=function(){var p=this.buffer.length+this.offset;this.state===a.InCommentLike?this.currentSequence===u.CdataEnd?this.cbs.oncdata(this.sectionStart,p,0):this.cbs.oncomment(this.sectionStart,p,0):this.state===a.InNumericEntity&&this.allowLegacyEntity()||this.state===a.InHexEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===a.InTagName||this.state===a.BeforeAttributeName||this.state===a.BeforeAttributeValue||this.state===a.AfterAttributeName||this.state===a.InAttributeName||this.state===a.InAttributeValueSq||this.state===a.InAttributeValueDq||this.state===a.InAttributeValueNq||this.state===a.InClosingTagName||this.cbs.ontext(this.sectionStart,p)},d.prototype.emitPartial=function(p,f){this.baseState!==a.Text&&this.baseState!==a.InSpecialTag?this.cbs.onattribdata(p,f):this.cbs.ontext(p,f)},d.prototype.emitCodePoint=function(p){this.baseState!==a.Text&&this.baseState!==a.InSpecialTag?this.cbs.onattribentity(p):this.cbs.ontextentity(p)},d}();e.default=l},58006:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionIri=void 0;const c=s(77617),a=s(90711),o=s(77545),i=s(70742);class t extends c.TermFunctionBase{constructor(){super({arity:1,operator:o.SparqlOperator.IRI,overloads:(0,o.declare)(o.SparqlOperator.IRI).set(["namedNode"],r=>u=>{const l=u[0],d=(0,i.resolve)(l.str(),r.context.get(a.KeysInitQuery.baseIRI)??"");return new o.NamedNode(d)}).onString1(r=>u=>{const l=(0,i.resolve)(u.str(),r.context.get(a.KeysInitQuery.baseIRI)??"");return new o.NamedNode(l)}).collect()})}}e.TermFunctionIri=t},58283:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NamedNode=void 0,e.NamedNode=class{constructor(s){this.termType="NamedNode",this.value=s}equals(s){return!!s&&s.termType==="NamedNode"&&s.value===this.value}}},58481:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryProcessExplainParsed=void 0;const c=s(59478),a=s(90711),o=s(90412);class i extends c.ActorQueryProcess{constructor(n){super(n)}async test(n){return(n.context.get(a.KeysInitQuery.explain)??n.context.get(new o.ActionContextKey("explain")))!=="parsed"?(0,o.failTest)(`${this.name} can only explain in 'parsed' mode.`):(0,o.passTestVoid)()}async run(n){const{operation:r}=await this.queryProcessor.parse(n.query,n.context);return{result:{explain:!0,type:"parsed",data:r}}}}e.ActorQueryProcessExplainParsed=i},58871:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(74871),e),a(s(33152),e)},58959:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorBindingsAggregatorFactoryMax=void 0;const c=s(86581),a=s(90412),o=s(7394);class i extends c.ActorBindingsAggregatorFactory{constructor(n){super(n),this.mediatorTermComparatorFactory=n.mediatorTermComparatorFactory}async test(n){return n.expr.aggregator!=="max"?(0,a.failTest)("This actor only supports the 'max' aggregator."):(0,a.passTestVoid)()}async run({expr:n,context:r}){return new o.MaxAggregator(await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:n.expression,context:r}),n.distinct,await this.mediatorTermComparatorFactory.mediate({context:r}))}}e.ActorBindingsAggregatorFactoryMax=i},59075:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(16851),e)},59200:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.termToString=e.stringToTerm=e.stringQuadToQuad=e.quadToStringQuad=e.getLiteralValue=e.getLiteralType=e.getLiteralLanguage=void 0;const c=s(6068);Object.defineProperty(e,"getLiteralLanguage",{enumerable:!0,get:function(){return c.getLiteralLanguage}}),Object.defineProperty(e,"getLiteralType",{enumerable:!0,get:function(){return c.getLiteralType}}),Object.defineProperty(e,"getLiteralValue",{enumerable:!0,get:function(){return c.getLiteralValue}}),Object.defineProperty(e,"quadToStringQuad",{enumerable:!0,get:function(){return c.quadToStringQuad}}),Object.defineProperty(e,"stringQuadToQuad",{enumerable:!0,get:function(){return c.stringQuadToQuad}}),Object.defineProperty(e,"stringToTerm",{enumerable:!0,get:function(){return c.stringToTerm}}),Object.defineProperty(e,"termToString",{enumerable:!0,get:function(){return c.termToString}})},59257:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NamedNode=void 0,e.NamedNode=class{constructor(s){this.termType="NamedNode",this.value=s}equals(s){return!!s&&s.termType==="NamedNode"&&s.value===this.value}}},59311:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.HtmlScriptListener=void 0;const c=s(90711),a=s(19198),o=s(70742);class i{constructor(n,r,u,l,d,p,f,h){this.textChunksJsonLd=[],this.endBarrier=1,this.passedScripts=0,this.isFinalJsonLdProcessing=!1,this.mediatorRdfParseHandle=n,this.cbQuad=r,this.cbError=u,this.cbEnd=l,this.supportedTypes=d,this.context=p.set(c.KeysRdfParseHtmlScript.processingHtmlScript,!0),this.baseIRI=f,this.headers=h,this.onlyFirstScript=p.get(c.KeysRdfParseHtmlScript.extractAllScripts)===!1;const y=this.baseIRI.indexOf("#");this.targetScriptId=y>0?this.baseIRI.slice(y+1,this.baseIRI.length):null}static newErrorCoded(n,r){const u=new Error(n);return u.code=r,u}onEnd(){--this.endBarrier===0&&(this.textChunksJsonLd.length>0?(this.handleMediaType="application/ld+json",this.textChunks=this.textChunksJsonLd,this.textChunks.push("]"),this.textChunksJsonLd=[],this.isFinalJsonLdProcessing=!0,this.endBarrier++,this.onTagClose()):(this.passedScripts===0&&this.targetScriptId&&this.cbError(i.newErrorCoded(`Failed to find targeted script id "${this.targetScriptId}"`,"loading document failed")),this.cbEnd()),this.isFinalJsonLdProcessing=!1)}onTagClose(){if(this.handleMediaType)if(this.requiresCustomJsonLdHandling(this.handleMediaType)&&!this.isFinalJsonLdProcessing)this.handleMediaType=void 0,this.textChunks=void 0,this.onEnd();else{const n=new a.Readable({objectMode:!0});n._read=()=>{};const r=this.textChunks,u={context:this.context,handle:{metadata:{baseIRI:this.baseIRI},data:n,headers:this.headers,context:this.context},handleMediaType:this.handleMediaType};this.mediatorRdfParseHandle.mediate(u).then(({handle:l})=>{l.data.on("error",d=>this.cbError(i.newErrorCoded(d.message,"invalid script element"))).on("data",this.cbQuad).on("end",()=>this.onEnd());for(const d of r)n.push(d);n.push(null)}).catch(l=>{this.targetScriptId?this.cbError(i.newErrorCoded(l.message,"loading document failed")):this.onEnd()}),this.handleMediaType=void 0,this.textChunks=void 0}}onTagOpen(n,r){n==="base"&&r.href&&(this.baseIRI=(0,o.resolve)(r.href,this.baseIRI)),n!=="script"||this.targetScriptId&&r.id!==this.targetScriptId?this.handleMediaType=void 0:this.supportedTypes[r.type]?this.onlyFirstScript&&this.passedScripts>0?this.handleMediaType=void 0:(this.passedScripts++,this.handleMediaType=r.type,this.endBarrier++,this.requiresCustomJsonLdHandling(this.handleMediaType)?(this.textChunks=this.textChunksJsonLd,this.textChunks.push(this.textChunks.length===0?"[":",")):this.textChunks=[]):this.targetScriptId&&this.cbError(i.newErrorCoded(`Targeted script "${this.targetScriptId}" does not have a supported type`,"loading document failed"))}onText(n){this.handleMediaType&&this.textChunks.push(n)}requiresCustomJsonLdHandling(n){return!this.onlyFirstScript&&!this.targetScriptId&&n==="application/ld+json"}}e.HtmlScriptListener=i},59340:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(50789),e)},59383:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryOperationPathNps=void 0;const c=s(97091),a=s(90711),o=s(67021),i=s(96331);class t extends c.ActorAbstractPath{constructor(r){super(r,i.Algebra.types.NPS)}async runOperation(r,u){const l=u.getSafe(a.KeysInitQuery.dataFactory),d=new i.Factory(l),p=r.predicate,f=this.generateVariable(l,r),h=Object.assign(d.createPattern(r.subject,f,r.object,r.graph),{metadata:p.metadata}),y=(0,o.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:h,context:u}));return{type:"bindings",bindingsStream:y.bindingsStream.map(m=>p.iris.some(b=>b.equals(m.get(f)))?null:m.delete(f)),metadata:y.metadata}}}e.ActorQueryOperationPathNps=t},59453:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(33657),e)},59478:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(60622),e)},59636:function(g,e,s){var c=this&&this.__awaiter||function(d,p,f,h){return new(f||(f=Promise))(function(y,m){function b(w){try{_(h.next(w))}catch(O){m(O)}}function v(w){try{_(h.throw(w))}catch(O){m(O)}}function _(w){var O;w.done?y(w.value):(O=w.value,O instanceof f?O:new f(function(A){A(O)})).then(b,v)}_((h=h.apply(d,p||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.SparqlEndpointFetcher=void 0;const a=s(31232),o=s(25828),i=s(65806),t=s(98082),n=s(916),r=s(75295),u=s(43789);class l{constructor(p){var f,h,y;this.method=(f=p?.method)!==null&&f!==void 0?f:"POST",this.timeout=p?.timeout,this.additionalUrlParams=(h=p?.additionalUrlParams)!==null&&h!==void 0?h:new URLSearchParams,this.defaultHeaders=(y=p?.defaultHeaders)!==null&&y!==void 0?y:new Headers,this.fetchCb=p?.fetch,this.sparqlJsonParser=new n.SparqlJsonParser(p),this.sparqlXmlParser=new r.SparqlXmlParser(p),this.sparqlParsers={[l.CONTENTTYPE_SPARQL_JSON]:{parseBooleanStream:m=>this.sparqlJsonParser.parseJsonBooleanStream(m),parseResultsStream:m=>this.sparqlJsonParser.parseJsonResultsStream(m)},[l.CONTENTTYPE_SPARQL_XML]:{parseBooleanStream:m=>this.sparqlXmlParser.parseXmlBooleanStream(m),parseResultsStream:m=>this.sparqlXmlParser.parseXmlResultsStream(m)}}}getQueryType(p){const f=new t.Parser({sparqlStar:!0}).parse(p);return f.type==="query"?f.queryType==="DESCRIBE"?"CONSTRUCT":f.queryType:"UNKNOWN"}getUpdateTypes(p){const f=new t.Parser({sparqlStar:!0}).parse(p);if(f.type==="update"){const h={};for(const y of f.updates)"type"in y?h[y.type]=!0:h[y.updateType]=!0;return h}return"UNKNOWN"}fetchBindings(p,f){return c(this,void 0,void 0,function*(){const[h,y]=yield this.fetchRawStream(p,f,l.CONTENTTYPE_SPARQL),m=this.sparqlParsers[h];if(!m)throw new Error(`Unknown SPARQL results content type: ${h}`);return m.parseResultsStream(y)})}fetchAsk(p,f){return c(this,void 0,void 0,function*(){const[h,y]=yield this.fetchRawStream(p,f,l.CONTENTTYPE_SPARQL),m=this.sparqlParsers[h];if(!m)throw new Error(`Unknown SPARQL results content type: ${h}`);return m.parseBooleanStream(y)})}fetchTriples(p,f){return c(this,void 0,void 0,function*(){const[h,y]=yield this.fetchRawStream(p,f,l.CONTENTTYPE_TURTLE);return y.pipe(new o.StreamParser({format:h}))})}fetchUpdate(p,f){return c(this,void 0,void 0,function*(){const h=new AbortController,y={};this.defaultHeaders.forEach((b,v)=>{y[v]=b});const m={method:"POST",headers:Object.assign(Object.assign({},y),{"content-type":"application/sparql-update"}),body:f,signal:h.signal};yield this.handleFetchCall(p,m,{ignoreBody:!0}),h.abort()})}fetchRawStream(p,f,h){return c(this,void 0,void 0,function*(){let y,m=this.method==="POST"?p:`${p}?query=${encodeURIComponent(f)}`;const b=new Headers(this.defaultHeaders);if(b.append("Accept",h),this.method==="POST"){b.append("Content-Type","application/x-www-form-urlencoded"),y=new URLSearchParams,y.set("query",f);for(const[v,_]of this.additionalUrlParams.entries())y.set(v,_);b.append("Content-Length",y.toString().length.toString())}else this.additionalUrlParams.toString().length>0&&(m+=`&${this.additionalUrlParams.toString()}`);return this.handleFetchCall(m,{headers:b,method:this.method,body:y})})}handleFetchCall(p,f,h){return c(this,void 0,void 0,function*(){var y,m,b;let v,_;if(this.timeout){const O=new AbortController;f.signal=O.signal,v=setTimeout(()=>O.abort(),this.timeout)}const w=yield((y=this.fetchCb)!==null&&y!==void 0?y:fetch)(p,f);if(clearTimeout(v),!h?.ignoreBody&&w.body&&(_=a(w.body)?w.body:(0,i.readableFromWeb)(w.body)),!w.ok||!_&&!h?.ignoreBody){const O=p.split("?").at(0),A=_?yield u(_):"empty response";throw new Error(`Invalid SPARQL endpoint response from ${O} (HTTP status ${w.status}):
${A}`)}return[(b=(m=w.headers.get("Content-Type"))===null||m===void 0?void 0:m.split(";").at(0))!==null&&b!==void 0?b:"",_]})}}e.SparqlEndpointFetcher=l,l.CONTENTTYPE_SPARQL_JSON="application/sparql-results+json",l.CONTENTTYPE_SPARQL_XML="application/sparql-results+xml",l.CONTENTTYPE_TURTLE="text/turtle",l.CONTENTTYPE_SPARQL=`${l.CONTENTTYPE_SPARQL_JSON};q=1.0,${l.CONTENTTYPE_SPARQL_XML};q=0.7`},59746:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0});const c=s(56697);e.default=function(a){return typeof a=="string"&&c.default.test(a)}},59812:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(46645),e)},60004:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MediatorAll=void 0;const c=s(90412);class a extends c.Mediator{constructor(i){super(i)}async mediate(i){const t=[];let n;try{n=this.publish(i)}catch{n=[]}for(const r of n){const u=await r.reply;u.isPassed()&&t.push({actor:r.actor,sideData:u.getSideData()})}return(await Promise.all(t.map(r=>r.actor.runObservable(i,r.sideData))))[0]}async mediateWith(){throw new Error("Unsupported operation: MediatorAll#mediateWith")}}e.MediatorAll=a},60146:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(71923),e)},60192:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(68219),e)},60268:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0});const c=s(31797),a=s(76011);e.default=function(o){const i=(t=typeof o=="string"?(0,c.default)(o):o,Uint8Array.of((15&t[3])<<4|t[4]>>4&15,(15&t[4])<<4|(240&t[5])>>4,(15&t[5])<<4|15&t[6],t[7],(15&t[1])<<4|(240&t[2])>>4,(15&t[2])<<4|(240&t[3])>>4,16|(240&t[0])>>4,(15&t[0])<<4|(240&t[1])>>4,t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]));var t;return typeof o=="string"?(0,a.unsafeStringify)(i):i}},60385:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermHours=void 0;const c=s(77617),a=s(77545),o=s(74230);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.SparqlOperator.HOURS],termFunction:!0})}async run(n){return new o.TermFunctionHours}}e.ActorFunctionFactoryTermHours=i},60446:(g,e)=>{function s(c){return c>=65&&c<=90||c===95||c>=97&&c<=122||c>=192&&c<=214||c>=216&&c<=246||c>=248&&c<=767||c>=880&&c<=893||c>=895&&c<=8191||c>=8204&&c<=8205||c>=8304&&c<=8591||c>=11264&&c<=12271||c>=12289&&c<=55295||c>=63744&&c<=64975||c>=65008&&c<=65533||c>=65536&&c<=983039}Object.defineProperty(e,"__esModule",{value:!0}),e.NC_NAME_START_CHAR="A-Z_a-z------------",e.NC_NAME_CHAR="-"+e.NC_NAME_START_CHAR+".0-9--",e.NC_NAME_START_CHAR_RE=new RegExp("^["+e.NC_NAME_START_CHAR+"]$","u"),e.NC_NAME_CHAR_RE=new RegExp("^["+e.NC_NAME_CHAR+"]$","u"),e.NC_NAME_RE=new RegExp("^["+e.NC_NAME_START_CHAR+"]["+e.NC_NAME_CHAR+"]*$","u"),e.isNCNameStartChar=s,e.isNCNameChar=function(c){return s(c)||c===45||c===46||c>=48&&c<=57||c===183||c>=768&&c<=879||c>=8255&&c<=8256}},60504:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(60004),e)},60585:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FetchDocumentLoader=void 0;const c=s(75094),a=s(2384),o=s(70742);e.FetchDocumentLoader=class{constructor(i){this.fetcher=i}async load(i){const t=await(this.fetcher||fetch)(i,{headers:new Headers({accept:"application/ld+json"})});if(t.ok&&t.headers){let n=t.headers.get("Content-Type");if(n){const r=n.indexOf(";");r>0&&(n=n.substr(0,r))}if(n==="application/ld+json")return await t.json();if(t.headers.has("Link")){let r;if(t.headers.forEach((u,l)=>{if(l==="link"){const d=(0,a.parse)(u);for(const p of d.get("type","application/ld+json"))if(p.rel==="alternate"){if(r)throw new Error("Multiple JSON-LD alternate links were found on "+i);r=(0,o.resolve)(p.uri,i)}}}),r)return this.load(r)}throw new c.ErrorCoded(`Unsupported JSON-LD media type ${n}`,c.ERROR_CODES.LOADING_DOCUMENT_FAILED)}throw new Error(t.statusText||`Status code: ${t.status}`)}}},60622:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryProcess=void 0;const c=s(90412);class a extends c.Actor{constructor(i){super(i)}}e.ActorQueryProcess=a},60649:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(49176),e)},60677:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ExpressionFunctionLogicalAnd=void 0;const c=s(77617),a=s(77545);class o extends c.ExpressionFunctionBase{constructor(){super({arity:2,operator:a.SparqlOperator.LOGICAL_AND,apply:async({args:t,mapping:n,exprEval:r})=>{const[u,l]=t;try{if(!(await r.evaluatorExpressionEvaluation(u,n)).coerceEBV())return(0,a.bool)(!1);const d=(await r.evaluatorExpressionEvaluation(l,n)).coerceEBV();return(0,a.bool)(d)}catch(d){if((await r.evaluatorExpressionEvaluation(l,n)).coerceEBV())throw d;return(0,a.bool)(!1)}}})}}e.ExpressionFunctionLogicalAnd=o},60770:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionLcase=void 0;const c=s(77617),a=s(77545);class o extends c.TermFunctionBase{constructor(){super({arity:1,operator:a.SparqlOperator.LCASE,overloads:(0,a.declare)(a.SparqlOperator.LCASE).onString1Typed(()=>t=>(0,a.string)(t.toLowerCase())).onLangString1(()=>t=>(0,a.langString)(t.typedValue.toLowerCase(),t.language)).collect()})}}e.TermFunctionLcase=o},60801:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.WildcardCountAggregator=void 0;const c=s(86581),a=s(77545),o=s(30199);class i extends c.AggregateEvaluator{constructor(n,r,u){super(n,r,u),this.bindingValues=new Map,this.state=void 0}putTerm(n){}async putBindings(n){this.handleDistinct(n)||(this.state===void 0&&(this.state=0),this.state+=1)}emptyValueTerm(){return(0,a.typedLiteral)("0",a.TypeURL.XSD_INTEGER)}termResult(){return this.state===void 0?this.emptyValue():(0,a.typedLiteral)(String(this.state),a.TypeURL.XSD_INTEGER)}handleDistinct(n){if(this.distinct){const r=[...n];r.sort((f,h)=>f[0].value.localeCompare(h[0].value));const u=r.map(([f])=>f.value).join(","),l=r.map(([,f])=>o.termToString(f)).join(","),d=this.bindingValues.get(u),p=d!==void 0&&d.has(l);return d||this.bindingValues.set(u,new Set),this.bindingValues.get(u).add(l),p}return!1}}e.WildcardCountAggregator=i},60808:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermStrUuid=void 0;const c=s(77617),a=s(77545),o=s(12147);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.SparqlOperator.STRUUID],termFunction:!0})}async run(n){return new o.TermFunctionStrUuid}}e.ActorFunctionFactoryTermStrUuid=i},60823:(g,e,s)=>{const c=globalThis.AbortController||s(25568).AbortController,{codes:{ERR_INVALID_ARG_VALUE:a,ERR_INVALID_ARG_TYPE:o,ERR_MISSING_ARGS:i,ERR_OUT_OF_RANGE:t},AbortError:n}=s(76371),{validateAbortSignal:r,validateInteger:u,validateObject:l}=s(277),d=s(24134).Symbol("kWeak"),p=s(24134).Symbol("kResistStopPropagation"),{finished:f}=s(86238),h=s(47830),{addAbortSignalNoValidate:y}=s(4147),{isWritable:m,isNodeStream:b}=s(16115),{deprecate:v}=s(57760),{ArrayPrototypePush:_,Boolean:w,MathFloor:O,Number:A,NumberIsNaN:T,Promise:S,PromiseReject:E,PromiseResolve:D,PromisePrototypeThen:I,Symbol:V}=s(24134),K=V("kEmpty"),B=V("kEof");function $(ve,he){if(typeof ve!="function")throw new o("fn",["Function","AsyncFunction"],ve);he!=null&&l(he,"options"),he?.signal!=null&&r(he.signal,"options.signal");let q=1;he?.concurrency!=null&&(q=O(he.concurrency));let L=q-1;return he?.highWaterMark!=null&&(L=O(he.highWaterMark)),u(q,"options.concurrency",1),u(L,"options.highWaterMark",0),L+=q,(async function*(){const R=s(57760).AbortSignalAny([he?.signal].filter(w)),k=this,X=[],oe={signal:R};let ee,me,de=!1,xe=0;function ne(){de=!0,be()}function be(){xe-=1,ie()}function ie(){me&&!de&&xe<q&&X.length<L&&(me(),me=null)}(async function(){try{for await(let ge of k){if(de)return;if(R.aborted)throw new n;try{if(ge=ve(ge,oe),ge===K)continue;ge=D(ge)}catch(Ee){ge=E(Ee)}xe+=1,I(ge,be,ne),X.push(ge),ee&&(ee(),ee=null),!de&&(X.length>=L||xe>=q)&&await new S(Ee=>{me=Ee})}X.push(B)}catch(ge){const Ee=E(ge);I(Ee,be,ne),X.push(Ee)}finally{de=!0,ee&&(ee(),ee=null)}})();try{for(;;){for(;X.length>0;){const ge=await X[0];if(ge===B)return;if(R.aborted)throw new n;ge!==K&&(yield ge),X.shift(),ie()}await new S(ge=>{ee=ge})}}finally{de=!0,me&&(me(),me=null)}}).call(this)}async function G(ve,he=void 0){for await(const q of U.call(this,ve,he))return!0;return!1}function U(ve,he){if(typeof ve!="function")throw new o("fn",["Function","AsyncFunction"],ve);return $.call(this,async function(q,L){return await ve(q,L)?q:K},he)}class W extends i{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}function ye(ve){if(ve=A(ve),T(ve))return 0;if(ve<0)throw new t("number",">= 0",ve);return ve}g.exports.streamReturningOperators={asIndexedPairs:v(function(ve=void 0){return ve!=null&&l(ve,"options"),ve?.signal!=null&&r(ve.signal,"options.signal"),(async function*(){let he=0;for await(const L of this){var q;if(ve!=null&&(q=ve.signal)!==null&&q!==void 0&&q.aborted)throw new n({cause:ve.signal.reason});yield[he++,L]}}).call(this)},"readable.asIndexedPairs will be removed in a future version."),drop:function(ve,he=void 0){return he!=null&&l(he,"options"),he?.signal!=null&&r(he.signal,"options.signal"),ve=ye(ve),(async function*(){var q;if(he!=null&&(q=he.signal)!==null&&q!==void 0&&q.aborted)throw new n;for await(const R of this){var L;if(he!=null&&(L=he.signal)!==null&&L!==void 0&&L.aborted)throw new n;ve--<=0&&(yield R)}}).call(this)},filter:U,flatMap:function(ve,he){const q=$.call(this,ve,he);return(async function*(){for await(const L of q)yield*L}).call(this)},map:$,take:function(ve,he=void 0){return he!=null&&l(he,"options"),he?.signal!=null&&r(he.signal,"options.signal"),ve=ye(ve),(async function*(){var q;if(he!=null&&(q=he.signal)!==null&&q!==void 0&&q.aborted)throw new n;for await(const R of this){var L;if(he!=null&&(L=he.signal)!==null&&L!==void 0&&L.aborted)throw new n;if(ve-- >0&&(yield R),ve<=0)return}}).call(this)},compose:function(ve,he){if(he!=null&&l(he,"options"),he?.signal!=null&&r(he.signal,"options.signal"),b(ve)&&!m(ve))throw new a("stream",ve,"must be writable");const q=h(this,ve);return he!=null&&he.signal&&y(he.signal,q),q}},g.exports.promiseReturningOperators={every:async function(ve,he=void 0){if(typeof ve!="function")throw new o("fn",["Function","AsyncFunction"],ve);return!await G.call(this,async(...q)=>!await ve(...q),he)},forEach:async function(ve,he){if(typeof ve!="function")throw new o("fn",["Function","AsyncFunction"],ve);for await(const q of $.call(this,async function(L,R){return await ve(L,R),K},he));},reduce:async function(ve,he,q){var L;if(typeof ve!="function")throw new o("reducer",["Function","AsyncFunction"],ve);q!=null&&l(q,"options"),q?.signal!=null&&r(q.signal,"options.signal");let R=arguments.length>1;if(q!=null&&(L=q.signal)!==null&&L!==void 0&&L.aborted){const me=new n(void 0,{cause:q.signal.reason});throw this.once("error",()=>{}),await f(this.destroy(me)),me}const k=new c,X=k.signal;if(q!=null&&q.signal){const me={once:!0,[d]:this,[p]:!0};q.signal.addEventListener("abort",()=>k.abort(),me)}let oe=!1;try{for await(const me of this){var ee;if(oe=!0,q!=null&&(ee=q.signal)!==null&&ee!==void 0&&ee.aborted)throw new n;R?he=await ve(he,me,{signal:X}):(he=me,R=!0)}if(!oe&&!R)throw new W}finally{k.abort()}return he},toArray:async function(ve){ve!=null&&l(ve,"options"),ve?.signal!=null&&r(ve.signal,"options.signal");const he=[];for await(const L of this){var q;if(ve!=null&&(q=ve.signal)!==null&&q!==void 0&&q.aborted)throw new n(void 0,{cause:ve.signal.reason});_(he,L)}return he},some:G,find:async function(ve,he){for await(const q of U.call(this,ve,he))return q}}},60856:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionEquality=void 0;const c=s(77617),a=s(90711),o=s(77545);class i extends c.TermFunctionBase{constructor(){super({arity:2,operator:o.SparqlOperator.EQUAL,overloads:(0,o.declare)(o.SparqlOperator.EQUAL).numberTest(()=>(n,r)=>n===r).stringTest(()=>(n,r)=>n.localeCompare(r)===0).set([o.TypeURL.RDF_LANG_STRING,o.TypeURL.RDF_LANG_STRING],()=>([n,r])=>(0,o.bool)(n.str()===r.str()&&n.language===r.language)).set([o.TypeAlias.SPARQL_STRINGLY,o.TypeAlias.SPARQL_STRINGLY],()=>()=>(0,o.bool)(!1)).booleanTest(()=>(n,r)=>n===r).dateTimeTest(n=>(r,u)=>(0,o.toUTCDate)(r,n.context.getSafe(a.KeysExpressionEvaluator.defaultTimeZone)).getTime()===(0,o.toUTCDate)(u,n.context.getSafe(a.KeysExpressionEvaluator.defaultTimeZone)).getTime()).copy({from:[o.TypeURL.XSD_DATE_TIME,o.TypeURL.XSD_DATE_TIME],to:[o.TypeURL.XSD_DATE,o.TypeURL.XSD_DATE]}).set(["quad","quad"],n=>([r,u])=>(0,o.bool)(this.applyOnTerms([r.subject,u.subject],n).coerceEBV()&&this.applyOnTerms([r.predicate,u.predicate],n).coerceEBV()&&this.applyOnTerms([r.object,u.object],n).coerceEBV()&&this.applyOnTerms([r.graph,u.graph],n).coerceEBV()),!1).set(["term","term"],n=>([r,u])=>{const l=r.toRDF(n.context.getSafe(a.KeysInitQuery.dataFactory)),d=u.toRDF(n.context.getSafe(a.KeysInitQuery.dataFactory)),p=l.equals(d);if(!p&&l.termType==="Literal"&&d.termType==="Literal")throw new o.RDFEqualTypeError([r,u]);return(0,o.bool)(p)},!1).set([o.TypeURL.XSD_DURATION,o.TypeURL.XSD_DURATION],()=>([n,r])=>(0,o.bool)((0,o.yearMonthDurationsToMonths)((0,o.defaultedYearMonthDurationRepresentation)(n.typedValue))===(0,o.yearMonthDurationsToMonths)((0,o.defaultedYearMonthDurationRepresentation)(r.typedValue))&&(0,o.dayTimeDurationsToSeconds)((0,o.defaultedDayTimeDurationRepresentation)(n.typedValue))===(0,o.dayTimeDurationsToSeconds)((0,o.defaultedDayTimeDurationRepresentation)(r.typedValue)))).set([o.TypeURL.XSD_TIME,o.TypeURL.XSD_TIME],n=>([r,u])=>(0,o.bool)((0,o.toUTCDate)((0,o.defaultedDateTimeRepresentation)(r.typedValue),n.context.getSafe(a.KeysExpressionEvaluator.defaultTimeZone)).getTime()===(0,o.toUTCDate)((0,o.defaultedDateTimeRepresentation)(u.typedValue),n.context.getSafe(a.KeysExpressionEvaluator.defaultTimeZone)).getTime())).collect()})}}e.TermFunctionEquality=i},60871:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Quad=void 0,e.Quad=class{constructor(s,c,a,o){this.termType="Quad",this.value="",this.subject=s,this.predicate=c,this.object=a,this.graph=o}equals(s){return!!s&&(s.termType==="Quad"||!s.termType)&&this.subject.equals(s.subject)&&this.predicate.equals(s.predicate)&&this.object.equals(s.object)&&this.graph.equals(s.graph)}}},60882:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionXsdToYearMonthDuration=void 0;const c=s(77617),a=s(77545);class o extends c.TermFunctionBase{constructor(){super({arity:1,operator:a.TypeURL.XSD_YEAR_MONTH_DURATION,overloads:(0,a.declare)(a.TypeURL.XSD_YEAR_MONTH_DURATION).onUnary(a.TypeURL.XSD_DURATION,()=>t=>new a.YearMonthDurationLiteral((0,a.trimToYearMonthDuration)(t.typedValue))).onStringly1(()=>t=>new a.YearMonthDurationLiteral((0,a.parseYearMonthDuration)(t.str()))).collect()})}}e.TermFunctionXsdToYearMonthDuration=o},61013:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Existence=void 0;const c=s(42996);e.Existence=class{constructor(a){this.expression=a,this.expressionType=c.ExpressionType.Existence}}},61103:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(11867),e)},61151:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(11304),e)},61186:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfSerializeShaclc=void 0;const c=s(81261),a=s(87435),o=s(19198),i=s(94174);class t extends c.ActorRdfSerializeFixedMediaTypes{constructor(r){super(r)}async runHandle(r,u){const l=new o.Readable;l._read=()=>{};try{const d={};r.quadStream.on("prefix",(f,h)=>{d[f]=h});const{text:p}=await(0,i.write)(await(0,a.default)(r.quadStream),{errorOnUnused:!0,extendedSyntax:u==="text/shaclc-ext",prefixes:d});l.push(p),l.push(null)}catch(d){l._read=()=>{l.emit("error",d)}}return{data:l,triples:!0}}}e.ActorRdfSerializeShaclc=t},61205:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfMetadataExtractAllowHttpMethods=void 0;const c=s(18412),a=s(90412);class o extends c.ActorRdfMetadataExtract{constructor(t){super(t)}async test(t){return(0,a.passTestVoid)()}async run(t){const n={};return t.headers?.get("allow")&&(n.allowHttpMethods=t.headers.get("allow")?.split(/, */u)),{metadata:n}}}e.ActorRdfMetadataExtractAllowHttpMethods=o},61321:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(s,c){if(!s)throw new Error(c??"Unexpected invariant triggered.")}},61428:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(23261),e),a(s(90636),e),a(s(34262),e),a(s(77087),e),a(s(37747),e),a(s(22895),e),a(s(68337),e),a(s(99616),e),a(s(21451),e),a(s(445),e),a(s(42449),e),a(s(75237),e),a(s(53261),e),a(s(80745),e),a(s(80766),e),a(s(67538),e),a(s(598),e),a(s(95439),e),a(s(75592),e),a(s(447),e)},61515:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(77934),e)},61549:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ExpressionEvaluator=void 0;const c=s(90711),a=s(74448);e.ExpressionEvaluator=class{constructor(o,i,t,n,r){this.context=o,this.expr=i,this.mediatorFunctionFactory=t,this.mediatorQueryOperation=n,this.bindingsFactory=r,this.internalEvaluator=new a.InternalEvaluator(o,t,n,r)}async evaluate(o){return(await this.internalEvaluator.evaluatorExpressionEvaluation(this.expr,o)).toRDF(this.context.getSafe(c.KeysInitQuery.dataFactory))}async evaluateAsEBV(o){return(await this.internalEvaluator.evaluatorExpressionEvaluation(this.expr,o)).coerceEBV()}evaluateAsEvaluatorExpression(o){return this.evaluatorExpressionEvaluation(this.expr,o)}evaluatorExpressionEvaluation(o,i){return this.internalEvaluator.evaluatorExpressionEvaluation(o,i)}}},61594:function(g,e,s){var c;(function(){var a,o=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,i=Math.ceil,t=Math.floor,n="[BigNumber Error] ",r=n+"Number primitive has more than 15 significant digits: ",u=1e14,l=14,d=9007199254740991,p=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],f=1e7,h=1e9;function y(A){var T=0|A;return A>0||A===T?T:T-1}function m(A){for(var T,S,E=1,D=A.length,I=A[0]+"";E<D;){for(T=A[E++]+"",S=l-T.length;S--;T="0"+T);I+=T}for(D=I.length;I.charCodeAt(--D)===48;);return I.slice(0,D+1||1)}function b(A,T){var S,E,D=A.c,I=T.c,V=A.s,K=T.s,B=A.e,$=T.e;if(!V||!K)return null;if(S=D&&!D[0],E=I&&!I[0],S||E)return S?E?0:-K:V;if(V!=K)return V;if(S=V<0,E=B==$,!D||!I)return E?0:!D^S?1:-1;if(!E)return B>$^S?1:-1;for(K=(B=D.length)<($=I.length)?B:$,V=0;V<K;V++)if(D[V]!=I[V])return D[V]>I[V]^S?1:-1;return B==$?0:B>$^S?1:-1}function v(A,T,S,E){if(A<T||A>S||A!==t(A))throw Error(n+(E||"Argument")+(typeof A=="number"?A<T||A>S?" out of range: ":" not an integer: ":" not a primitive number: ")+String(A))}function _(A){var T=A.c.length-1;return y(A.e/l)==T&&A.c[T]%2!=0}function w(A,T){return(A.length>1?A.charAt(0)+"."+A.slice(1):A)+(T<0?"e":"e+")+T}function O(A,T,S){var E,D;if(T<0){for(D=S+".";++T;D+=S);A=D+A}else if(++T>(E=A.length)){for(D=S,T-=E;--T;D+=S);A+=D}else T<E&&(A=A.slice(0,T)+"."+A.slice(T));return A}a=function A(T){var S,E,D,I,V,K,B,$,G,U,W=ne.prototype={constructor:ne,toString:null,valueOf:null},ye=new ne(1),ve=20,he=4,q=-7,L=21,R=-1e7,k=1e7,X=!1,oe=1,ee=0,me={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},de="0123456789abcdefghijklmnopqrstuvwxyz",xe=!0;function ne(P,C){var z,te,re,le,_e,we,Se,Pe,je=this;if(!(je instanceof ne))return new ne(P,C);if(C==null){if(P&&P._isBigNumber===!0)return je.s=P.s,void(!P.c||P.e>k?je.c=je.e=null:P.e<R?je.c=[je.e=0]:(je.e=P.e,je.c=P.c.slice()));if((we=typeof P=="number")&&0*P==0){if(je.s=1/P<0?(P=-P,-1):1,P===~~P){for(le=0,_e=P;_e>=10;_e/=10,le++);return void(le>k?je.c=je.e=null:(je.e=le,je.c=[P]))}Pe=String(P)}else{if(!o.test(Pe=String(P)))return D(je,Pe,we);je.s=Pe.charCodeAt(0)==45?(Pe=Pe.slice(1),-1):1}(le=Pe.indexOf("."))>-1&&(Pe=Pe.replace(".","")),(_e=Pe.search(/e/i))>0?(le<0&&(le=_e),le+=+Pe.slice(_e+1),Pe=Pe.substring(0,_e)):le<0&&(le=Pe.length)}else{if(v(C,2,de.length,"Base"),C==10&&xe)return Ee(je=new ne(P),ve+je.e+1,he);if(Pe=String(P),we=typeof P=="number"){if(0*P!=0)return D(je,Pe,we,C);if(je.s=1/P<0?(Pe=Pe.slice(1),-1):1,ne.DEBUG&&Pe.replace(/^0\.0*|\./,"").length>15)throw Error(r+P)}else je.s=Pe.charCodeAt(0)===45?(Pe=Pe.slice(1),-1):1;for(z=de.slice(0,C),le=_e=0,Se=Pe.length;_e<Se;_e++)if(z.indexOf(te=Pe.charAt(_e))<0){if(te=="."){if(_e>le){le=Se;continue}}else if(!re&&(Pe==Pe.toUpperCase()&&(Pe=Pe.toLowerCase())||Pe==Pe.toLowerCase()&&(Pe=Pe.toUpperCase()))){re=!0,_e=-1,le=0;continue}return D(je,String(P),we,C)}we=!1,(le=(Pe=E(Pe,C,10,je.s)).indexOf("."))>-1?Pe=Pe.replace(".",""):le=Pe.length}for(_e=0;Pe.charCodeAt(_e)===48;_e++);for(Se=Pe.length;Pe.charCodeAt(--Se)===48;);if(Pe=Pe.slice(_e,++Se)){if(Se-=_e,we&&ne.DEBUG&&Se>15&&(P>d||P!==t(P)))throw Error(r+je.s*P);if((le=le-_e-1)>k)je.c=je.e=null;else if(le<R)je.c=[je.e=0];else{if(je.e=le,je.c=[],_e=(le+1)%l,le<0&&(_e+=l),_e<Se){for(_e&&je.c.push(+Pe.slice(0,_e)),Se-=l;_e<Se;)je.c.push(+Pe.slice(_e,_e+=l));_e=l-(Pe=Pe.slice(_e)).length}else _e-=Se;for(;_e--;Pe+="0");je.c.push(+Pe)}}else je.c=[je.e=0]}function be(P,C,z,te){var re,le,_e,we,Se;if(z==null?z=he:v(z,0,8),!P.c)return P.toString();if(re=P.c[0],_e=P.e,C==null)Se=m(P.c),Se=te==1||te==2&&(_e<=q||_e>=L)?w(Se,_e):O(Se,_e,"0");else if(le=(P=Ee(new ne(P),C,z)).e,we=(Se=m(P.c)).length,te==1||te==2&&(C<=le||le<=q)){for(;we<C;Se+="0",we++);Se=w(Se,le)}else if(C-=_e+(te===2&&le>_e),Se=O(Se,le,"0"),le+1>we){if(--C>0)for(Se+=".";C--;Se+="0");}else if((C+=le-we)>0)for(le+1==we&&(Se+=".");C--;Se+="0");return P.s<0&&re?"-"+Se:Se}function ie(P,C){for(var z,te,re=1,le=new ne(P[0]);re<P.length;re++)(!(te=new ne(P[re])).s||(z=b(le,te))===C||z===0&&le.s===C)&&(le=te);return le}function ge(P,C,z){for(var te=1,re=C.length;!C[--re];C.pop());for(re=C[0];re>=10;re/=10,te++);return(z=te+z*l-1)>k?P.c=P.e=null:z<R?P.c=[P.e=0]:(P.e=z,P.c=C),P}function Ee(P,C,z,te){var re,le,_e,we,Se,Pe,je,ae=P.c,ce=p;if(ae){e:{for(re=1,we=ae[0];we>=10;we/=10,re++);if((le=C-re)<0)le+=l,_e=C,Se=ae[Pe=0],je=t(Se/ce[re-_e-1]%10);else if((Pe=i((le+1)/l))>=ae.length){if(!te)break e;for(;ae.length<=Pe;ae.push(0));Se=je=0,re=1,_e=(le%=l)-l+1}else{for(Se=we=ae[Pe],re=1;we>=10;we/=10,re++);je=(_e=(le%=l)-l+re)<0?0:t(Se/ce[re-_e-1]%10)}if(te=te||C<0||ae[Pe+1]!=null||(_e<0?Se:Se%ce[re-_e-1]),te=z<4?(je||te)&&(z==0||z==(P.s<0?3:2)):je>5||je==5&&(z==4||te||z==6&&(le>0?_e>0?Se/ce[re-_e]:0:ae[Pe-1])%10&1||z==(P.s<0?8:7)),C<1||!ae[0])return ae.length=0,te?(C-=P.e+1,ae[0]=ce[(l-C%l)%l],P.e=-C||0):ae[0]=P.e=0,P;if(le==0?(ae.length=Pe,we=1,Pe--):(ae.length=Pe+1,we=ce[l-le],ae[Pe]=_e>0?t(Se/ce[re-_e]%ce[_e])*we:0),te)for(;;){if(Pe==0){for(le=1,_e=ae[0];_e>=10;_e/=10,le++);for(_e=ae[0]+=we,we=1;_e>=10;_e/=10,we++);le!=we&&(P.e++,ae[0]==u&&(ae[0]=1));break}if(ae[Pe]+=we,ae[Pe]!=u)break;ae[Pe--]=0,we=1}for(le=ae.length;ae[--le]===0;ae.pop());}P.e>k?P.c=P.e=null:P.e<R&&(P.c=[P.e=0])}return P}function M(P){var C,z=P.e;return z===null?P.toString():(C=m(P.c),C=z<=q||z>=L?w(C,z):O(C,z,"0"),P.s<0?"-"+C:C)}return ne.clone=A,ne.ROUND_UP=0,ne.ROUND_DOWN=1,ne.ROUND_CEIL=2,ne.ROUND_FLOOR=3,ne.ROUND_HALF_UP=4,ne.ROUND_HALF_DOWN=5,ne.ROUND_HALF_EVEN=6,ne.ROUND_HALF_CEIL=7,ne.ROUND_HALF_FLOOR=8,ne.EUCLID=9,ne.config=ne.set=function(P){var C,z;if(P!=null){if(typeof P!="object")throw Error(n+"Object expected: "+P);if(P.hasOwnProperty(C="DECIMAL_PLACES")&&(v(z=P[C],0,h,C),ve=z),P.hasOwnProperty(C="ROUNDING_MODE")&&(v(z=P[C],0,8,C),he=z),P.hasOwnProperty(C="EXPONENTIAL_AT")&&((z=P[C])&&z.pop?(v(z[0],-h,0,C),v(z[1],0,h,C),q=z[0],L=z[1]):(v(z,-h,h,C),q=-(L=z<0?-z:z))),P.hasOwnProperty(C="RANGE"))if((z=P[C])&&z.pop)v(z[0],-h,-1,C),v(z[1],1,h,C),R=z[0],k=z[1];else{if(v(z,-h,h,C),!z)throw Error(n+C+" cannot be zero: "+z);R=-(k=z<0?-z:z)}if(P.hasOwnProperty(C="CRYPTO")){if((z=P[C])!==!!z)throw Error(n+C+" not true or false: "+z);if(z){if(typeof crypto>"u"||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw X=!z,Error(n+"crypto unavailable");X=z}else X=z}if(P.hasOwnProperty(C="MODULO_MODE")&&(v(z=P[C],0,9,C),oe=z),P.hasOwnProperty(C="POW_PRECISION")&&(v(z=P[C],0,h,C),ee=z),P.hasOwnProperty(C="FORMAT")){if(typeof(z=P[C])!="object")throw Error(n+C+" not an object: "+z);me=z}if(P.hasOwnProperty(C="ALPHABET")){if(typeof(z=P[C])!="string"||/^.?$|[+\-.\s]|(.).*\1/.test(z))throw Error(n+C+" invalid: "+z);xe=z.slice(0,10)=="0123456789",de=z}}return{DECIMAL_PLACES:ve,ROUNDING_MODE:he,EXPONENTIAL_AT:[q,L],RANGE:[R,k],CRYPTO:X,MODULO_MODE:oe,POW_PRECISION:ee,FORMAT:me,ALPHABET:de}},ne.isBigNumber=function(P){if(!P||P._isBigNumber!==!0)return!1;if(!ne.DEBUG)return!0;var C,z,te=P.c,re=P.e,le=P.s;e:if({}.toString.call(te)=="[object Array]"){if((le===1||le===-1)&&re>=-h&&re<=h&&re===t(re)){if(te[0]===0){if(re===0&&te.length===1)return!0;break e}if((C=(re+1)%l)<1&&(C+=l),String(te[0]).length==C){for(C=0;C<te.length;C++)if((z=te[C])<0||z>=u||z!==t(z))break e;if(z!==0)return!0}}}else if(te===null&&re===null&&(le===null||le===1||le===-1))return!0;throw Error(n+"Invalid BigNumber: "+P)},ne.maximum=ne.max=function(){return ie(arguments,-1)},ne.minimum=ne.min=function(){return ie(arguments,1)},ne.random=(I=9007199254740992,V=Math.random()*I&2097151?function(){return t(Math.random()*I)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(P){var C,z,te,re,le,_e=0,we=[],Se=new ne(ye);if(P==null?P=ve:v(P,0,h),re=i(P/l),X)if(crypto.getRandomValues){for(C=crypto.getRandomValues(new Uint32Array(re*=2));_e<re;)(le=131072*C[_e]+(C[_e+1]>>>11))>=9e15?(z=crypto.getRandomValues(new Uint32Array(2)),C[_e]=z[0],C[_e+1]=z[1]):(we.push(le%1e14),_e+=2);_e=re/2}else{if(!crypto.randomBytes)throw X=!1,Error(n+"crypto unavailable");for(C=crypto.randomBytes(re*=7);_e<re;)(le=281474976710656*(31&C[_e])+1099511627776*C[_e+1]+4294967296*C[_e+2]+16777216*C[_e+3]+(C[_e+4]<<16)+(C[_e+5]<<8)+C[_e+6])>=9e15?crypto.randomBytes(7).copy(C,_e):(we.push(le%1e14),_e+=7);_e=re/7}if(!X)for(;_e<re;)(le=V())<9e15&&(we[_e++]=le%1e14);for(re=we[--_e],P%=l,re&&P&&(le=p[l-P],we[_e]=t(re/le)*le);we[_e]===0;we.pop(),_e--);if(_e<0)we=[te=0];else{for(te=-1;we[0]===0;we.splice(0,1),te-=l);for(_e=1,le=we[0];le>=10;le/=10,_e++);_e<l&&(te-=l-_e)}return Se.e=te,Se.c=we,Se}),ne.sum=function(){for(var P=1,C=arguments,z=new ne(C[0]);P<C.length;)z=z.plus(C[P++]);return z},E=function(){var P="0123456789";function C(z,te,re,le){for(var _e,we,Se=[0],Pe=0,je=z.length;Pe<je;){for(we=Se.length;we--;Se[we]*=te);for(Se[0]+=le.indexOf(z.charAt(Pe++)),_e=0;_e<Se.length;_e++)Se[_e]>re-1&&(Se[_e+1]==null&&(Se[_e+1]=0),Se[_e+1]+=Se[_e]/re|0,Se[_e]%=re)}return Se.reverse()}return function(z,te,re,le,_e){var we,Se,Pe,je,ae,ce,Le,ke,qe=z.indexOf("."),He=ve,Ae=he;for(qe>=0&&(je=ee,ee=0,z=z.replace(".",""),ce=(ke=new ne(te)).pow(z.length-qe),ee=je,ke.c=C(O(m(ce.c),ce.e,"0"),10,re,P),ke.e=ke.c.length),Pe=je=(Le=C(z,te,re,_e?(we=de,P):(we=P,de))).length;Le[--je]==0;Le.pop());if(!Le[0])return we.charAt(0);if(qe<0?--Pe:(ce.c=Le,ce.e=Pe,ce.s=le,Le=(ce=S(ce,ke,He,Ae,re)).c,ae=ce.r,Pe=ce.e),qe=Le[Se=Pe+He+1],je=re/2,ae=ae||Se<0||Le[Se+1]!=null,ae=Ae<4?(qe!=null||ae)&&(Ae==0||Ae==(ce.s<0?3:2)):qe>je||qe==je&&(Ae==4||ae||Ae==6&&1&Le[Se-1]||Ae==(ce.s<0?8:7)),Se<1||!Le[0])z=ae?O(we.charAt(1),-He,we.charAt(0)):we.charAt(0);else{if(Le.length=Se,ae)for(--re;++Le[--Se]>re;)Le[Se]=0,Se||(++Pe,Le=[1].concat(Le));for(je=Le.length;!Le[--je];);for(qe=0,z="";qe<=je;z+=we.charAt(Le[qe++]));z=O(z,Pe,we.charAt(0))}return z}}(),S=function(){function P(te,re,le){var _e,we,Se,Pe,je=0,ae=te.length,ce=re%f,Le=re/f|0;for(te=te.slice();ae--;)je=((we=ce*(Se=te[ae]%f)+(_e=Le*Se+(Pe=te[ae]/f|0)*ce)%f*f+je)/le|0)+(_e/f|0)+Le*Pe,te[ae]=we%le;return je&&(te=[je].concat(te)),te}function C(te,re,le,_e){var we,Se;if(le!=_e)Se=le>_e?1:-1;else for(we=Se=0;we<le;we++)if(te[we]!=re[we]){Se=te[we]>re[we]?1:-1;break}return Se}function z(te,re,le,_e){for(var we=0;le--;)te[le]-=we,we=te[le]<re[le]?1:0,te[le]=we*_e+te[le]-re[le];for(;!te[0]&&te.length>1;te.splice(0,1));}return function(te,re,le,_e,we){var Se,Pe,je,ae,ce,Le,ke,qe,He,Ae,Te,Ke,it,ut,tt,ht,vt,at=te.s==re.s?1:-1,Ne=te.c,j=re.c;if(!(Ne&&Ne[0]&&j&&j[0]))return new ne(te.s&&re.s&&(Ne?!j||Ne[0]!=j[0]:j)?Ne&&Ne[0]==0||!j?0*at:at/0:NaN);for(He=(qe=new ne(at)).c=[],at=le+(Pe=te.e-re.e)+1,we||(we=u,Pe=y(te.e/l)-y(re.e/l),at=at/l|0),je=0;j[je]==(Ne[je]||0);je++);if(j[je]>(Ne[je]||0)&&Pe--,at<0)He.push(1),ae=!0;else{for(ut=Ne.length,ht=j.length,je=0,at+=2,(ce=t(we/(j[0]+1)))>1&&(j=P(j,ce,we),Ne=P(Ne,ce,we),ht=j.length,ut=Ne.length),it=ht,Te=(Ae=Ne.slice(0,ht)).length;Te<ht;Ae[Te++]=0);vt=j.slice(),vt=[0].concat(vt),tt=j[0],j[1]>=we/2&&tt++;do{if(ce=0,(Se=C(j,Ae,ht,Te))<0){if(Ke=Ae[0],ht!=Te&&(Ke=Ke*we+(Ae[1]||0)),(ce=t(Ke/tt))>1)for(ce>=we&&(ce=we-1),ke=(Le=P(j,ce,we)).length,Te=Ae.length;C(Le,Ae,ke,Te)==1;)ce--,z(Le,ht<ke?vt:j,ke,we),ke=Le.length,Se=1;else ce==0&&(Se=ce=1),ke=(Le=j.slice()).length;if(ke<Te&&(Le=[0].concat(Le)),z(Ae,Le,Te,we),Te=Ae.length,Se==-1)for(;C(j,Ae,ht,Te)<1;)ce++,z(Ae,ht<Te?vt:j,Te,we),Te=Ae.length}else Se===0&&(ce++,Ae=[0]);He[je++]=ce,Ae[0]?Ae[Te++]=Ne[it]||0:(Ae=[Ne[it]],Te=1)}while((it++<ut||Ae[0]!=null)&&at--);ae=Ae[0]!=null,He[0]||He.splice(0,1)}if(we==u){for(je=1,at=He[0];at>=10;at/=10,je++);Ee(qe,le+(qe.e=je+Pe*l-1)+1,_e,ae)}else qe.e=Pe,qe.r=+ae;return qe}}(),K=/^(-?)0([xbo])(?=\w[\w.]*$)/i,B=/^([^.]+)\.$/,$=/^\.([^.]+)$/,G=/^-?(Infinity|NaN)$/,U=/^\s*\+(?=[\w.])|^\s+|\s+$/g,D=function(P,C,z,te){var re,le=z?C:C.replace(U,"");if(G.test(le))P.s=isNaN(le)?null:le<0?-1:1;else{if(!z&&(le=le.replace(K,function(_e,we,Se){return re=(Se=Se.toLowerCase())=="x"?16:Se=="b"?2:8,te&&te!=re?_e:we}),te&&(re=te,le=le.replace(B,"$1").replace($,"0.$1")),C!=le))return new ne(le,re);if(ne.DEBUG)throw Error(n+"Not a"+(te?" base "+te:"")+" number: "+C);P.s=null}P.c=P.e=null},W.absoluteValue=W.abs=function(){var P=new ne(this);return P.s<0&&(P.s=1),P},W.comparedTo=function(P,C){return b(this,new ne(P,C))},W.decimalPlaces=W.dp=function(P,C){var z,te,re,le=this;if(P!=null)return v(P,0,h),C==null?C=he:v(C,0,8),Ee(new ne(le),P+le.e+1,C);if(!(z=le.c))return null;if(te=((re=z.length-1)-y(this.e/l))*l,re=z[re])for(;re%10==0;re/=10,te--);return te<0&&(te=0),te},W.dividedBy=W.div=function(P,C){return S(this,new ne(P,C),ve,he)},W.dividedToIntegerBy=W.idiv=function(P,C){return S(this,new ne(P,C),0,1)},W.exponentiatedBy=W.pow=function(P,C){var z,te,re,le,_e,we,Se,Pe,je=this;if((P=new ne(P)).c&&!P.isInteger())throw Error(n+"Exponent not an integer: "+M(P));if(C!=null&&(C=new ne(C)),_e=P.e>14,!je.c||!je.c[0]||je.c[0]==1&&!je.e&&je.c.length==1||!P.c||!P.c[0])return Pe=new ne(Math.pow(+M(je),_e?P.s*(2-_(P)):+M(P))),C?Pe.mod(C):Pe;if(we=P.s<0,C){if(C.c?!C.c[0]:!C.s)return new ne(NaN);(te=!we&&je.isInteger()&&C.isInteger())&&(je=je.mod(C))}else{if(P.e>9&&(je.e>0||je.e<-1||(je.e==0?je.c[0]>1||_e&&je.c[1]>=24e7:je.c[0]<8e13||_e&&je.c[0]<=9999975e7)))return le=je.s<0&&_(P)?-0:0,je.e>-1&&(le=1/le),new ne(we?1/le:le);ee&&(le=i(ee/l+2))}for(_e?(z=new ne(.5),we&&(P.s=1),Se=_(P)):Se=(re=Math.abs(+M(P)))%2,Pe=new ne(ye);;){if(Se){if(!(Pe=Pe.times(je)).c)break;le?Pe.c.length>le&&(Pe.c.length=le):te&&(Pe=Pe.mod(C))}if(re){if((re=t(re/2))===0)break;Se=re%2}else if(Ee(P=P.times(z),P.e+1,1),P.e>14)Se=_(P);else{if((re=+M(P))==0)break;Se=re%2}je=je.times(je),le?je.c&&je.c.length>le&&(je.c.length=le):te&&(je=je.mod(C))}return te?Pe:(we&&(Pe=ye.div(Pe)),C?Pe.mod(C):le?Ee(Pe,ee,he,void 0):Pe)},W.integerValue=function(P){var C=new ne(this);return P==null?P=he:v(P,0,8),Ee(C,C.e+1,P)},W.isEqualTo=W.eq=function(P,C){return b(this,new ne(P,C))===0},W.isFinite=function(){return!!this.c},W.isGreaterThan=W.gt=function(P,C){return b(this,new ne(P,C))>0},W.isGreaterThanOrEqualTo=W.gte=function(P,C){return(C=b(this,new ne(P,C)))===1||C===0},W.isInteger=function(){return!!this.c&&y(this.e/l)>this.c.length-2},W.isLessThan=W.lt=function(P,C){return b(this,new ne(P,C))<0},W.isLessThanOrEqualTo=W.lte=function(P,C){return(C=b(this,new ne(P,C)))===-1||C===0},W.isNaN=function(){return!this.s},W.isNegative=function(){return this.s<0},W.isPositive=function(){return this.s>0},W.isZero=function(){return!!this.c&&this.c[0]==0},W.minus=function(P,C){var z,te,re,le,_e=this,we=_e.s;if(C=(P=new ne(P,C)).s,!we||!C)return new ne(NaN);if(we!=C)return P.s=-C,_e.plus(P);var Se=_e.e/l,Pe=P.e/l,je=_e.c,ae=P.c;if(!Se||!Pe){if(!je||!ae)return je?(P.s=-C,P):new ne(ae?_e:NaN);if(!je[0]||!ae[0])return ae[0]?(P.s=-C,P):new ne(je[0]?_e:he==3?-0:0)}if(Se=y(Se),Pe=y(Pe),je=je.slice(),we=Se-Pe){for((le=we<0)?(we=-we,re=je):(Pe=Se,re=ae),re.reverse(),C=we;C--;re.push(0));re.reverse()}else for(te=(le=(we=je.length)<(C=ae.length))?we:C,we=C=0;C<te;C++)if(je[C]!=ae[C]){le=je[C]<ae[C];break}if(le&&(re=je,je=ae,ae=re,P.s=-P.s),(C=(te=ae.length)-(z=je.length))>0)for(;C--;je[z++]=0);for(C=u-1;te>we;){if(je[--te]<ae[te]){for(z=te;z&&!je[--z];je[z]=C);--je[z],je[te]+=u}je[te]-=ae[te]}for(;je[0]==0;je.splice(0,1),--Pe);return je[0]?ge(P,je,Pe):(P.s=he==3?-1:1,P.c=[P.e=0],P)},W.modulo=W.mod=function(P,C){var z,te,re=this;return P=new ne(P,C),!re.c||!P.s||P.c&&!P.c[0]?new ne(NaN):!P.c||re.c&&!re.c[0]?new ne(re):(oe==9?(te=P.s,P.s=1,z=S(re,P,0,3),P.s=te,z.s*=te):z=S(re,P,0,oe),(P=re.minus(z.times(P))).c[0]||oe!=1||(P.s=re.s),P)},W.multipliedBy=W.times=function(P,C){var z,te,re,le,_e,we,Se,Pe,je,ae,ce,Le,ke,qe,He,Ae=this,Te=Ae.c,Ke=(P=new ne(P,C)).c;if(!(Te&&Ke&&Te[0]&&Ke[0]))return!Ae.s||!P.s||Te&&!Te[0]&&!Ke||Ke&&!Ke[0]&&!Te?P.c=P.e=P.s=null:(P.s*=Ae.s,Te&&Ke?(P.c=[0],P.e=0):P.c=P.e=null),P;for(te=y(Ae.e/l)+y(P.e/l),P.s*=Ae.s,(Se=Te.length)<(ae=Ke.length)&&(ke=Te,Te=Ke,Ke=ke,re=Se,Se=ae,ae=re),re=Se+ae,ke=[];re--;ke.push(0));for(qe=u,He=f,re=ae;--re>=0;){for(z=0,ce=Ke[re]%He,Le=Ke[re]/He|0,le=re+(_e=Se);le>re;)z=((Pe=ce*(Pe=Te[--_e]%He)+(we=Le*Pe+(je=Te[_e]/He|0)*ce)%He*He+ke[le]+z)/qe|0)+(we/He|0)+Le*je,ke[le--]=Pe%qe;ke[le]=z}return z?++te:ke.splice(0,1),ge(P,ke,te)},W.negated=function(){var P=new ne(this);return P.s=-P.s||null,P},W.plus=function(P,C){var z,te=this,re=te.s;if(C=(P=new ne(P,C)).s,!re||!C)return new ne(NaN);if(re!=C)return P.s=-C,te.minus(P);var le=te.e/l,_e=P.e/l,we=te.c,Se=P.c;if(!le||!_e){if(!we||!Se)return new ne(re/0);if(!we[0]||!Se[0])return Se[0]?P:new ne(we[0]?te:0*re)}if(le=y(le),_e=y(_e),we=we.slice(),re=le-_e){for(re>0?(_e=le,z=Se):(re=-re,z=we),z.reverse();re--;z.push(0));z.reverse()}for((re=we.length)-(C=Se.length)<0&&(z=Se,Se=we,we=z,C=re),re=0;C;)re=(we[--C]=we[C]+Se[C]+re)/u|0,we[C]=u===we[C]?0:we[C]%u;return re&&(we=[re].concat(we),++_e),ge(P,we,_e)},W.precision=W.sd=function(P,C){var z,te,re,le=this;if(P!=null&&P!==!!P)return v(P,1,h),C==null?C=he:v(C,0,8),Ee(new ne(le),P,C);if(!(z=le.c))return null;if(te=(re=z.length-1)*l+1,re=z[re]){for(;re%10==0;re/=10,te--);for(re=z[0];re>=10;re/=10,te++);}return P&&le.e+1>te&&(te=le.e+1),te},W.shiftedBy=function(P){return v(P,-9007199254740991,d),this.times("1e"+P)},W.squareRoot=W.sqrt=function(){var P,C,z,te,re,le=this,_e=le.c,we=le.s,Se=le.e,Pe=ve+4,je=new ne("0.5");if(we!==1||!_e||!_e[0])return new ne(!we||we<0&&(!_e||_e[0])?NaN:_e?le:1/0);if((we=Math.sqrt(+M(le)))==0||we==1/0?(((C=m(_e)).length+Se)%2==0&&(C+="0"),we=Math.sqrt(+C),Se=y((Se+1)/2)-(Se<0||Se%2),z=new ne(C=we==1/0?"5e"+Se:(C=we.toExponential()).slice(0,C.indexOf("e")+1)+Se)):z=new ne(we+""),z.c[0]){for((we=(Se=z.e)+Pe)<3&&(we=0);;)if(re=z,z=je.times(re.plus(S(le,re,Pe,1))),m(re.c).slice(0,we)===(C=m(z.c)).slice(0,we)){if(z.e<Se&&--we,(C=C.slice(we-3,we+1))!="9999"&&(te||C!="4999")){+C&&(+C.slice(1)||C.charAt(0)!="5")||(Ee(z,z.e+ve+2,1),P=!z.times(z).eq(le));break}if(!te&&(Ee(re,re.e+ve+2,0),re.times(re).eq(le))){z=re;break}Pe+=4,we+=4,te=1}}return Ee(z,z.e+ve+1,he,P)},W.toExponential=function(P,C){return P!=null&&(v(P,0,h),P++),be(this,P,C,1)},W.toFixed=function(P,C){return P!=null&&(v(P,0,h),P=P+this.e+1),be(this,P,C)},W.toFormat=function(P,C,z){var te,re=this;if(z==null)P!=null&&C&&typeof C=="object"?(z=C,C=null):P&&typeof P=="object"?(z=P,P=C=null):z=me;else if(typeof z!="object")throw Error(n+"Argument not an object: "+z);if(te=re.toFixed(P,C),re.c){var le,_e=te.split("."),we=+z.groupSize,Se=+z.secondaryGroupSize,Pe=z.groupSeparator||"",je=_e[0],ae=_e[1],ce=re.s<0,Le=ce?je.slice(1):je,ke=Le.length;if(Se&&(le=we,we=Se,Se=le,ke-=le),we>0&&ke>0){for(le=ke%we||we,je=Le.substr(0,le);le<ke;le+=we)je+=Pe+Le.substr(le,we);Se>0&&(je+=Pe+Le.slice(le)),ce&&(je="-"+je)}te=ae?je+(z.decimalSeparator||"")+((Se=+z.fractionGroupSize)?ae.replace(new RegExp("\\d{"+Se+"}\\B","g"),"$&"+(z.fractionGroupSeparator||"")):ae):je}return(z.prefix||"")+te+(z.suffix||"")},W.toFraction=function(P){var C,z,te,re,le,_e,we,Se,Pe,je,ae,ce,Le=this,ke=Le.c;if(P!=null&&(!(we=new ne(P)).isInteger()&&(we.c||we.s!==1)||we.lt(ye)))throw Error(n+"Argument "+(we.isInteger()?"out of range: ":"not an integer: ")+M(we));if(!ke)return new ne(Le);for(C=new ne(ye),Pe=z=new ne(ye),te=Se=new ne(ye),ce=m(ke),le=C.e=ce.length-Le.e-1,C.c[0]=p[(_e=le%l)<0?l+_e:_e],P=!P||we.comparedTo(C)>0?le>0?C:Pe:we,_e=k,k=1/0,we=new ne(ce),Se.c[0]=0;je=S(we,C,0,1),(re=z.plus(je.times(te))).comparedTo(P)!=1;)z=te,te=re,Pe=Se.plus(je.times(re=Pe)),Se=re,C=we.minus(je.times(re=C)),we=re;return re=S(P.minus(z),te,0,1),Se=Se.plus(re.times(Pe)),z=z.plus(re.times(te)),Se.s=Pe.s=Le.s,ae=S(Pe,te,le*=2,he).minus(Le).abs().comparedTo(S(Se,z,le,he).minus(Le).abs())<1?[Pe,te]:[Se,z],k=_e,ae},W.toNumber=function(){return+M(this)},W.toPrecision=function(P,C){return P!=null&&v(P,1,h),be(this,P,C,2)},W.toString=function(P){var C,z=this,te=z.s,re=z.e;return re===null?te?(C="Infinity",te<0&&(C="-"+C)):C="NaN":(P==null?C=re<=q||re>=L?w(m(z.c),re):O(m(z.c),re,"0"):P===10&&xe?C=O(m((z=Ee(new ne(z),ve+re+1,he)).c),z.e,"0"):(v(P,2,de.length,"Base"),C=E(O(m(z.c),re,"0"),10,P,te,!0)),te<0&&z.c[0]&&(C="-"+C)),C},W.valueOf=W.toJSON=function(){return M(this)},W._isBigNumber=!0,T!=null&&ne.set(T),ne}(),a.default=a.BigNumber=a,(c=(function(){return a}).call(e,s,e,g))===void 0||(g.exports=c)})()},61688:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(23129),e)},61702:(g,e,s)=>{function c(T){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},c(T)}Object.defineProperty(e,"__esModule",{value:!0}),e.printError=O,e.formatError=A,e.GraphQLError=void 0;var a=r(s(93028)),o=r(s(55569)),i=s(25888),t=s(99530),n=s(40825);function r(T){return T&&T.__esModule?T:{default:T}}function u(T,S){var E=Object.keys(T);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(T);S&&(D=D.filter(function(I){return Object.getOwnPropertyDescriptor(T,I).enumerable})),E.push.apply(E,D)}return E}function l(T,S,E){return S in T?Object.defineProperty(T,S,{value:E,enumerable:!0,configurable:!0,writable:!0}):T[S]=E,T}function d(T,S){for(var E=0;E<S.length;E++){var D=S[E];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(T,D.key,D)}}function p(T,S){return!S||c(S)!=="object"&&typeof S!="function"?f(T):S}function f(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}function h(T){var S=typeof Map=="function"?new Map:void 0;return h=function(E){if(E===null||(D=E,Function.toString.call(D).indexOf("[native code]")===-1))return E;var D;if(typeof E!="function")throw new TypeError("Super expression must either be null or a function");if(S!==void 0){if(S.has(E))return S.get(E);S.set(E,I)}function I(){return y(E,arguments,v(this).constructor)}return I.prototype=Object.create(E.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),b(I,E)},h(T)}function y(T,S,E){return y=m()?Reflect.construct:function(D,I,V){var K=[null];K.push.apply(K,I);var B=new(Function.bind.apply(D,K));return V&&b(B,V.prototype),B},y.apply(null,arguments)}function m(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function b(T,S){return b=Object.setPrototypeOf||function(E,D){return E.__proto__=D,E},b(T,S)}function v(T){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(S){return S.__proto__||Object.getPrototypeOf(S)},v(T)}var _=function(T){(function(B,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function");B.prototype=Object.create($&&$.prototype,{constructor:{value:B,writable:!0,configurable:!0}}),$&&b(B,$)})(K,T);var S,E,D,I,V=(S=K,E=m(),function(){var B,$=v(S);if(E){var G=v(this).constructor;B=Reflect.construct($,arguments,G)}else B=$.apply(this,arguments);return p(this,B)});function K(B,$,G,U,W,ye,ve){var he,q,L,R;(function(xe,ne){if(!(xe instanceof ne))throw new TypeError("Cannot call a class as a function")})(this,K),(R=V.call(this,B)).name="GraphQLError",R.originalError=ye??void 0,R.nodes=w(Array.isArray($)?$:$?[$]:void 0);for(var k=[],X=0,oe=(ee=R.nodes)!==null&&ee!==void 0?ee:[];X<oe.length;X++){var ee,me=oe[X].loc;me!=null&&k.push(me)}k=w(k),R.source=G??((he=k)===null||he===void 0?void 0:he[0].source),R.positions=U??((q=k)===null||q===void 0?void 0:q.map(function(xe){return xe.start})),R.locations=U&&G?U.map(function(xe){return(0,t.getLocation)(G,xe)}):(L=k)===null||L===void 0?void 0:L.map(function(xe){return(0,t.getLocation)(xe.source,xe.start)}),R.path=W??void 0;var de=ye?.extensions;return ve==null&&(0,o.default)(de)?R.extensions=function(xe){for(var ne=1;ne<arguments.length;ne++){var be=arguments[ne]!=null?arguments[ne]:{};ne%2?u(Object(be),!0).forEach(function(ie){l(xe,ie,be[ie])}):Object.getOwnPropertyDescriptors?Object.defineProperties(xe,Object.getOwnPropertyDescriptors(be)):u(Object(be)).forEach(function(ie){Object.defineProperty(xe,ie,Object.getOwnPropertyDescriptor(be,ie))})}return xe}({},de):R.extensions=ve??{},Object.defineProperties(f(R),{message:{enumerable:!0},locations:{enumerable:R.locations!=null},path:{enumerable:R.path!=null},extensions:{enumerable:R.extensions!=null&&Object.keys(R.extensions).length>0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),ye!=null&&ye.stack?(Object.defineProperty(f(R),"stack",{value:ye.stack,writable:!0,configurable:!0}),p(R)):(Error.captureStackTrace?Error.captureStackTrace(f(R),K):Object.defineProperty(f(R),"stack",{value:Error().stack,writable:!0,configurable:!0}),R)}return D=K,(I=[{key:"toString",value:function(){return O(this)}},{key:"toJSON",value:function(){return A(this)}},{key:i.SYMBOL_TO_STRING_TAG,get:function(){return"Object"}}])&&d(D.prototype,I),K}(h(Error));function w(T){return T===void 0||T.length===0?void 0:T}function O(T){var S=T.message;if(T.nodes)for(var E=0,D=T.nodes;E<D.length;E++){var I=D[E];I.loc&&(S+=`

`+(0,n.printLocation)(I.loc))}else if(T.source&&T.locations)for(var V=0,K=T.locations;V<K.length;V++){var B=K[V];S+=`

`+(0,n.printSourceLocation)(T.source,B)}return S}function A(T){var S;T||(0,a.default)(0,"Received null or undefined error.");var E=(S=T.message)!==null&&S!==void 0?S:"An unknown error occurred.",D=T.locations,I=T.path,V=T.extensions;return V&&Object.keys(V).length>0?{message:E,locations:D,path:I,extensions:V}:{message:E,locations:D,path:I}}e.GraphQLError=_},61758:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(14589),e),a(s(48062),e)},61782:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActionObserver=void 0,e.ActionObserver=class{constructor(s){Object.assign(this,s)}}},61892:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.htmlDecodeTree=void 0,e.htmlDecodeTree=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(s=>s.charCodeAt(0)))},62001:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(33704),e)},62036:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerKeywordType=void 0;const c=s(42395),a=s(10888),o=s(76970),i=s(1548);class t extends i.EntryHandlerKeyword{constructor(){super("@type")}isStackProcessor(){return!1}async handle(r,u,l,d,p,f){const h=d[f],y=await r.getContext(d),m=u.rdfType,b=await u.unaliasKeywordParent(d,f),v=a.Util.isPropertyReverse(y,h,b),_=a.Util.isPropertyInEmbeddedNode(b);u.validateReverseInEmbeddedNode(l,v,_);const w=a.Util.isPropertyInAnnotationObject(b),O=Array.isArray(p)?p:[p];for(const S of O){typeof S!="string"&&r.emitError(new c.ErrorCoded(`Found illegal @type '${S}'`,c.ERROR_CODES.INVALID_TYPE_VALUE));const E=u.createVocabOrBaseTerm(y,S);E&&await o.EntryHandlerPredicate.handlePredicateObject(r,u,d,f,m,E,v,_,w)}let A=Promise.resolve(y),T=!1;for(const S of O.sort()){const E=a.Util.getContextValue(y,"@context",S,null);E&&(T=!0,A=A.then(D=>r.parseContext(E,D.getContextRaw())))}!r.streamingProfile||!T&&r.streamingProfileAllowOutOfOrderPlainType||!r.processingStack[f]&&!r.idStack[f]||r.emitError(new c.ErrorCoded("Found an out-of-order type-scoped context, while streaming is enabled.(disable `streamingProfile`)",c.ERROR_CODES.INVALID_STREAMING_KEY_ORDER)),T&&(A=A.then(S=>S.getContextRaw()["@propagate"]!==!0?new c.JsonLdContextNormalized(Object.assign(Object.assign({},S.getContextRaw()),{"@propagate":!1,"@__propagateFallback":y.getContextRaw()})):S),r.contextTree.setContext(d.slice(0,d.length-1),A)),r.processingType[f]=!0}}e.EntryHandlerKeywordType=t},62082:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionXsdToString=void 0;const c=s(77617),a=s(77545);class o extends c.TermFunctionBase{constructor(){super({arity:1,operator:a.TypeURL.XSD_STRING,overloads:(0,a.declare)(a.TypeURL.XSD_STRING).onNumeric1(()=>t=>(0,a.string)((0,a.float)(t.typedValue).str())).onBoolean1Typed(()=>t=>(0,a.string)((0,a.bool)(t).str())).onTerm1(()=>t=>(0,a.string)(t.str())).collect()})}}e.TermFunctionXsdToString=o},62100:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(23038),e)},62196:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default="ffffffff-ffff-ffff-ffff-ffffffffffff"},62426:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Literal=void 0;const c=s(43988);class a{constructor(i,t){this.termType="Literal",this.value=i,typeof t=="string"?(this.language=t,this.datatype=a.RDF_LANGUAGE_STRING):t?(this.language="",this.datatype=t):(this.language="",this.datatype=a.XSD_STRING)}equals(i){return!!i&&i.termType==="Literal"&&i.value===this.value&&i.language===this.language&&this.datatype.equals(i.datatype)}}e.Literal=a,a.RDF_LANGUAGE_STRING=new c.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),a.XSD_STRING=new c.NamedNode("http://www.w3.org/2001/XMLSchema#string")},62489:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermMonth=void 0;const c=s(77617),a=s(77545),o=s(78490);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.SparqlOperator.MONTH],termFunction:!0})}async run(n){return new o.TermFunctionMonth}}e.ActorFunctionFactoryTermMonth=i},62620:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.fragment=void 0,e.fragment=function(s){let c=function(a){let o=a;(o.endsWith("/")||o.endsWith("#"))&&(o=o.slice(0,o.length-1));const i=[];o.lastIndexOf("/")>0&&i.push(o.lastIndexOf("/")),o.lastIndexOf("#")>0&&i.push(o.lastIndexOf("#"));const t=Math.max(...i);return o.slice(t+1)}(s);return c=c?function(a){var o;const i=(o=a.split(/[^a-z0-9]+/gi).filter(t=>t!=="").map(t=>t[0].toUpperCase()+t.slice(1)).join("").match(/[a-z][a-z0-9]+/gi))===null||o===void 0?void 0:o[0];return i===void 0?void 0:i[0].toLowerCase()+i.slice(1)}(c):void 0,c||"v"}},62649:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(40366),e)},62699:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t),Object.defineProperty(o,n,{enumerable:!0,get:function(){return i[t]}})}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(35694),e)},62784:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeValueHandlerVariable=void 0;const c=s(55009);class a extends c.NodeValueHandlerAdapter{constructor(i,t){super("Variable",i,t)}handle(i,t,n){const r=i.name.value,u=n.variablesDict[r],l=n.variablesMetaDict[r];if(!u){if(n.ignoreUnknownVariables||l&&!l.mandatory){const d=this.util.dataFactory.variable(r);return n.terminalVariables.map(p=>p.value).indexOf(r)<0&&n.terminalVariables.push(d),{terms:[d]}}throw new Error(`Undefined variable: ${r}`)}if(u.kind==="Variable")throw new Error(`Variable refers to another variable: ${r}`);if(l)if(l.list){if(u.kind!=="ListValue")throw new Error(`Expected a list, but got ${u.kind} for ${r}`);if(l.type){const d=u;for(const p of d.values)if(p.kind!==l.type)throw new Error(`Expected ${l.type}, but got ${p.kind} for ${r}`)}}else l.type;return this.util.handleNodeValue(u,t,n)}}e.NodeValueHandlerVariable=a},62944:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionDatatype=void 0;const c=s(77617),a=s(77545);class o extends c.TermFunctionBase{constructor(){super({arity:1,operator:a.SparqlOperator.DATATYPE,overloads:(0,a.declare)(a.SparqlOperator.DATATYPE).onLiteral1(()=>t=>new a.NamedNode(t.dataType)).collect()})}}e.TermFunctionDatatype=o},63002:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(14801),e)},63055:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorBindingsAggregatorFactoryCount=void 0;const c=s(86581),a=s(90412),o=s(96331),i=s(53930);class t extends c.ActorBindingsAggregatorFactory{constructor(r){super(r)}async test(r){return r.expr.aggregator!=="count"||r.expr.expression.expressionType===o.Algebra.expressionTypes.WILDCARD?(0,a.failTest)("This actor only supports the 'count' aggregator without wildcard."):(0,a.passTestVoid)()}async run({context:r,expr:u}){return new i.CountAggregator(await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:u.expression,context:r}),u.distinct)}}e.ActorBindingsAggregatorFactoryCount=t},63067:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(29832),e)},63082:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionXsdToDatetime=void 0;const c=s(77617),a=s(77545);class o extends c.TermFunctionBase{constructor(){super({arity:1,operator:a.TypeURL.XSD_DATE_TIME,overloads:(0,a.declare)(a.TypeURL.XSD_DATE_TIME).onUnary(a.TypeURL.XSD_DATE_TIME,()=>t=>t).onUnary(a.TypeURL.XSD_STRING,()=>t=>(0,a.dateTime)((0,a.parseDateTime)(t.str()),t.str()),!1).onUnary(a.TypeURL.XSD_DATE,()=>t=>new a.DateTimeLiteral({...t.typedValue,hours:0,minutes:0,seconds:0})).collect()})}}e.TermFunctionXsdToDatetime=o},63125:(g,e,s)=>{const{Buffer:c}=s(48287),{ObjectDefineProperty:a,ObjectKeys:o,ReflectApply:i}=s(24134),{promisify:{custom:t}}=s(57760),{streamReturningOperators:n,promiseReturningOperators:r}=s(60823),{codes:{ERR_ILLEGAL_CONSTRUCTOR:u}}=s(76371),l=s(47830),{setDefaultHighWaterMark:d,getDefaultHighWaterMark:p}=s(65291),{pipeline:f}=s(57758),{destroyer:h}=s(75896),y=s(86238),m=s(43095),b=s(16115),v=g.exports=s(94259).Stream;v.isDestroyed=b.isDestroyed,v.isDisturbed=b.isDisturbed,v.isErrored=b.isErrored,v.isReadable=b.isReadable,v.isWritable=b.isWritable,v.Readable=s(57576);for(const w of o(n)){let O=function(...T){if(new.target)throw u();return v.Readable.from(i(A,this,T))};const A=n[w];a(O,"name",{__proto__:null,value:A.name}),a(O,"length",{__proto__:null,value:A.length}),a(v.Readable.prototype,w,{__proto__:null,value:O,enumerable:!1,configurable:!0,writable:!0})}for(const w of o(r)){let O=function(...T){if(new.target)throw u();return i(A,this,T)};const A=r[w];a(O,"name",{__proto__:null,value:A.name}),a(O,"length",{__proto__:null,value:A.length}),a(v.Readable.prototype,w,{__proto__:null,value:O,enumerable:!1,configurable:!0,writable:!0})}v.Writable=s(78584),v.Duplex=s(93370),v.Transform=s(17382),v.PassThrough=s(86524),v.pipeline=f;const{addAbortSignal:_}=s(4147);v.addAbortSignal=_,v.finished=y,v.destroy=h,v.compose=l,v.setDefaultHighWaterMark=d,v.getDefaultHighWaterMark=p,a(v,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>m}),a(f,t,{__proto__:null,enumerable:!0,get:()=>m.pipeline}),a(y,t,{__proto__:null,enumerable:!0,get:()=>m.finished}),v.Stream=v,v._isUint8Array=function(w){return w instanceof Uint8Array},v._uint8ArrayToBuffer=function(w){return c.from(w.buffer,w.byteOffset,w.byteLength)}},63369:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionSubStr=void 0;const c=s(77617),a=s(77545);class o extends c.TermFunctionBase{constructor(){super({arity:[2,3],operator:a.SparqlOperator.SUBSTR,overloads:(0,a.declare)(a.SparqlOperator.SUBSTR).onBinaryTyped([a.TypeURL.XSD_STRING,a.TypeURL.XSD_INTEGER],()=>(t,n)=>(0,a.string)([...t].slice(n-1).join(""))).onBinary([a.TypeURL.RDF_LANG_STRING,a.TypeURL.XSD_INTEGER],()=>(t,n)=>{const r=[...t.typedValue].slice(n.typedValue-1).join("");return(0,a.langString)(r,t.language)}).onTernaryTyped([a.TypeURL.XSD_STRING,a.TypeURL.XSD_INTEGER,a.TypeURL.XSD_INTEGER],()=>(t,n,r)=>(0,a.string)([...t].slice(n-1,r+n-1).join(""))).onTernary([a.TypeURL.RDF_LANG_STRING,a.TypeURL.XSD_INTEGER,a.TypeURL.XSD_INTEGER],()=>(t,n,r)=>{const u=[...t.typedValue].slice(n.typedValue-1,r.typedValue+n.typedValue-1).join("");return(0,a.langString)(u,t.language)}).collect()})}}e.TermFunctionSubStr=o},63465:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default="00000000-0000-0000-0000-000000000000"},63580:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(i){var t=i.prototype.toJSON;typeof t=="function"||(0,c.default)(0),i.prototype.inspect=t,a.default&&(i.prototype[a.default]=t)};var c=o(s(61321)),a=o(s(98493));function o(i){return i&&i.__esModule?i:{default:i}}},63599:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},63847:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ContainerHandlerLanguage=void 0;const c=s(42395);e.ContainerHandlerLanguage=class{canCombineWithGraph(){return!1}async handle(a,o,i,t,n,r){const u=await i.getContainerKey(t[r],t,r);if(Array.isArray(n))n=n.map(l=>({"@value":l,"@language":u}));else{if(typeof n!="string")throw new c.ErrorCoded(`Got invalid language map value, got '${JSON.stringify(n)}', but expected string`,c.ERROR_CODES.INVALID_LANGUAGE_MAP_VALUE);n={"@value":n,"@language":u}}await o.newOnValueJob(t.slice(0,t.length-1),n,r-1,!0),o.emittedStack[r]=!1}}},63881:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(75844),e),a(s(20715),e)},64068:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(20057),e)},64212:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermStrEnds=void 0;const c=s(77617),a=s(77545),o=s(24075);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.SparqlOperator.STRENDS],termFunction:!0})}async run(n){return new o.TermFunctionStrEnds}}e.ActorFunctionFactoryTermStrEnds=i},64232:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.matchPatternMappings=e.matchPatternComplete=e.matchPattern=e.matchTerm=e.getValueNestedPath=e.someTermsNested=e.someTerms=e.everyTermsNested=e.everyTerms=e.reduceTermsNested=e.reduceTerms=e.mapTermsNested=e.mapTerms=e.filterQuadTermNamesNested=e.filterQuadTermNames=e.filterTermsNested=e.filterTerms=e.forEachTermsNested=e.forEachTerms=e.collectNamedTerms=e.getNamedTerms=e.getTermsNested=e.getTerms=e.TRIPLE_TERM_NAMES=e.QUAD_TERM_NAMES=void 0;const c=new(s(47793)).DataFactory;function a(r,u){return u&&r.graph.termType==="DefaultGraph"?[r.subject,r.predicate,r.object]:[r.subject,r.predicate,r.object,r.graph]}function o(r,u){return u(r.subject,"subject")&&u(r.predicate,"predicate")&&u(r.object,"object")&&u(r.graph,"graph")}function i(r,u){return!u||u.termType==="Variable"||u.termType==="Quad"&&r.termType==="Quad"&&n(r,u)||u.equals(r)}function t(r,u,l,d,p){return i(r.subject,u)&&i(r.predicate,l)&&i(r.object,d)&&i(r.graph,p)}function n(r,u){return t(r,u.subject,u.predicate,u.object,u.graph)}e.QUAD_TERM_NAMES=["subject","predicate","object","graph"],e.TRIPLE_TERM_NAMES=["subject","predicate","object"],e.getTerms=a,e.getTermsNested=function r(u,l){const d=[];for(const p of a(u,l))p.termType==="Quad"?r(p,l).forEach(f=>d.push(f)):d.push(p);return d},e.getNamedTerms=function(r){return[{key:"subject",value:r.subject},{key:"predicate",value:r.predicate},{key:"object",value:r.object},{key:"graph",value:r.graph}]},e.collectNamedTerms=function(r,u,l){const d={};return r.forEach(p=>d[p.key]=p.value),u&&(d.subject=d.subject||u("subject"),d.predicate=d.predicate||u("predicate"),d.object=d.object||u("object"),d.graph=d.graph||u("graph")),(l||c).quad(d.subject,d.predicate,d.object,d.graph)},e.forEachTerms=function(r,u){u(r.subject,"subject"),u(r.predicate,"predicate"),u(r.object,"object"),u(r.graph,"graph")},e.forEachTermsNested=function r(u,l,d=[]){u.subject.termType==="Quad"?r(u.subject,l,[...d,"subject"]):l(u.subject,[...d,"subject"]),u.predicate.termType==="Quad"?r(u.predicate,l,[...d,"predicate"]):l(u.predicate,[...d,"predicate"]),u.object.termType==="Quad"?r(u.object,l,[...d,"object"]):l(u.object,[...d,"object"]),u.graph.termType==="Quad"?r(u.graph,l,[...d,"graph"]):l(u.graph,[...d,"graph"])},e.filterTerms=function(r,u){const l=[];return u(r.subject,"subject")&&l.push(r.subject),u(r.predicate,"predicate")&&l.push(r.predicate),u(r.object,"object")&&l.push(r.object),u(r.graph,"graph")&&l.push(r.graph),l},e.filterTermsNested=function r(u,l,d=[]){let p=[];return u.subject.termType==="Quad"?p=[...p,...r(u.subject,l,[...d,"subject"])]:l(u.subject,[...d,"subject"])&&p.push(u.subject),u.predicate.termType==="Quad"?p=[...p,...r(u.predicate,l,[...d,"predicate"])]:l(u.predicate,[...d,"predicate"])&&p.push(u.predicate),u.object.termType==="Quad"?p=[...p,...r(u.object,l,[...d,"object"])]:l(u.object,[...d,"object"])&&p.push(u.object),u.graph.termType==="Quad"?p=[...p,...r(u.graph,l,[...d,"graph"])]:l(u.graph,[...d,"graph"])&&p.push(u.graph),p},e.filterQuadTermNames=function(r,u){const l=[];return u(r.subject,"subject")&&l.push("subject"),u(r.predicate,"predicate")&&l.push("predicate"),u(r.object,"object")&&l.push("object"),u(r.graph,"graph")&&l.push("graph"),l},e.filterQuadTermNamesNested=function r(u,l,d=[]){let p=[];const f=[...d,"subject"];u.subject.termType==="Quad"?p=[...p,...r(u.subject,l,f)]:l(u.subject,f)&&p.push(f);const h=[...d,"predicate"];u.predicate.termType==="Quad"?p=[...p,...r(u.predicate,l,h)]:l(u.predicate,h)&&p.push(h);const y=[...d,"object"];u.object.termType==="Quad"?p=[...p,...r(u.object,l,y)]:l(u.object,y)&&p.push(y);const m=[...d,"graph"];return u.graph.termType==="Quad"?p=[...p,...r(u.graph,l,m)]:l(u.graph,m)&&p.push(m),p},e.mapTerms=function(r,u,l){return(l||c).quad(u(r.subject,"subject"),u(r.predicate,"predicate"),u(r.object,"object"),u(r.graph,"graph"))},e.mapTermsNested=function r(u,l,d,p=[]){return(d||c).quad(u.subject.termType==="Quad"?r(u.subject,l,d,[...p,"subject"]):l(u.subject,[...p,"subject"]),u.predicate.termType==="Quad"?r(u.predicate,l,d,[...p,"predicate"]):l(u.predicate,[...p,"predicate"]),u.object.termType==="Quad"?r(u.object,l,d,[...p,"object"]):l(u.object,[...p,"object"]),u.graph.termType==="Quad"?r(u.graph,l,d,[...p,"graph"]):l(u.graph,[...p,"graph"]))},e.reduceTerms=function(r,u,l){let d=l;return d=u(d,r.subject,"subject"),d=u(d,r.predicate,"predicate"),d=u(d,r.object,"object"),u(d,r.graph,"graph")},e.reduceTermsNested=function r(u,l,d,p=[]){let f=d;return f=u.subject.termType==="Quad"?r(u.subject,l,f,[...p,"subject"]):l(f,u.subject,[...p,"subject"]),f=u.predicate.termType==="Quad"?r(u.predicate,l,f,[...p,"predicate"]):l(f,u.predicate,[...p,"predicate"]),f=u.object.termType==="Quad"?r(u.object,l,f,[...p,"object"]):l(f,u.object,[...p,"object"]),f=u.graph.termType==="Quad"?r(u.graph,l,f,[...p,"graph"]):l(f,u.graph,[...p,"graph"]),f},e.everyTerms=o,e.everyTermsNested=function r(u,l,d=[]){return(u.subject.termType==="Quad"?r(u.subject,l,[...d,"subject"]):l(u.subject,[...d,"subject"]))&&(u.predicate.termType==="Quad"?r(u.predicate,l,[...d,"predicate"]):l(u.predicate,[...d,"predicate"]))&&(u.object.termType==="Quad"?r(u.object,l,[...d,"object"]):l(u.object,[...d,"object"]))&&(u.graph.termType==="Quad"?r(u.graph,l,[...d,"graph"]):l(u.graph,[...d,"graph"]))},e.someTerms=function(r,u){return u(r.subject,"subject")||u(r.predicate,"predicate")||u(r.object,"object")||u(r.graph,"graph")},e.someTermsNested=function r(u,l,d=[]){return(u.subject.termType==="Quad"?r(u.subject,l,[...d,"subject"]):l(u.subject,[...d,"subject"]))||(u.predicate.termType==="Quad"?r(u.predicate,l,[...d,"predicate"]):l(u.predicate,[...d,"predicate"]))||(u.object.termType==="Quad"?r(u.object,l,[...d,"object"]):l(u.object,[...d,"object"]))||(u.graph.termType==="Quad"?r(u.graph,l,[...d,"graph"]):l(u.graph,[...d,"graph"]))},e.getValueNestedPath=function r(u,l){if(l.length===0)return u;if(u.termType==="Quad")return r(u[l[0]],l.slice(1));throw new Error(`Tried to get ${l[0]} from term of type ${u.termType}`)},e.matchTerm=i,e.matchPattern=t,e.matchPatternComplete=n,e.matchPatternMappings=function(r,u,l={}){const d={};return function p(f,h){return o(f,(y,m)=>{var b,v;const _=h[m];switch(y.termType){case"Variable":return l.skipVarMapping&&_.termType==="Variable"||((v=(b=d[y.value])===null||b===void 0?void 0:b.equals(_))!==null&&v!==void 0?v:(d[y.value]=_,!0));case"Quad":return _.termType==="Quad"&&p(y,_);default:return y.equals(_)}})}(u,r)&&(!l.returnMappings||d)}},64417:(g,e,s)=>{g.exports=function(c){var a=new(s(11832)).LoggerVoid,o=new(s(90412)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-init/^4.0.0/components/ActorInit.jsonld#ActorInit_default_bus"}),i=new(s(90412)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-context-preprocess/^4.0.0/components/ActorContextPreprocess.jsonld#ActorContextPreprocess_default_bus"}),t=new(s(90412)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-hash-bindings/^4.0.0/components/ActorHashBindings.jsonld#ActorHashBindings_default_bus"}),n=new(s(90412)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-hash-quads/^4.0.0/components/ActorHashQuads.jsonld#ActorHashQuads_default_bus"}),r=new(s(90412)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-optimize-query-operation/^4.0.0/components/ActorOptimizeQueryOperation.jsonld#ActorOptimizeQueryOperation_default_bus"}),u=new(s(90412)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-parse/^4.0.0/components/ActorQueryParse.jsonld#ActorQueryParse_default_bus"}),l=new(s(90412)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-result-serialize/^4.0.0/components/ActorQueryResultSerialize.jsonld#ActorQueryResultSerialize_default_bus"}),d=new(s(90412)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-source-identify-hypermedia/^4.0.0/components/ActorQuerySourceIdentifyHypermedia.jsonld#ActorQuerySourceIdentifyHypermedia_default_bus"}),p=new(s(90412)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-dereference/^4.0.0/components/ActorDereference.jsonld#ActorDereference_default_bus"}),f=new(s(90412)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-dereference-rdf/^4.0.0/components/ActorDereferenceRdf.jsonld#ActorDereferenceRdf_default_bus"}),h=new(s(90412)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-join-entries-sort/^4.0.0/components/ActorRdfJoinEntriesSort.jsonld#ActorRdfJoinEntriesSort_default_bus"}),y=new(s(90412)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-join-selectivity/^4.0.0/components/ActorRdfJoinSelectivity.jsonld#ActorRdfJoinSelectivity_default_bus"}),m=new(s(90412)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-metadata/^4.0.0/components/ActorRdfMetadata.jsonld#ActorRdfMetadata_default_bus"}),b=new(s(90412)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-metadata-accumulate/^4.0.0/components/ActorRdfMetadataAccumulate.jsonld#ActorRdfMetadataAccumulate_default_bus"}),v=new(s(90412)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-metadata-extract/^4.0.0/components/ActorRdfMetadataExtract.jsonld#ActorRdfMetadataExtract_default_bus"}),_=new(s(90412)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-parse/^4.0.0/components/ActorRdfParse.jsonld#ActorRdfParse_default_bus"}),w=new(s(90412)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-parse-html/^4.0.0/components/ActorRdfParseHtml.jsonld#ActorRdfParseHtml_default_bus"}),O=new(s(90412)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-resolve-hypermedia-links/^4.0.0/components/ActorRdfResolveHypermediaLinks.jsonld#ActorRdfResolveHypermediaLinks_default_bus"}),A=new(s(90412)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-resolve-hypermedia-links-queue/^4.0.0/components/ActorRdfResolveHypermediaLinksQueue.jsonld#ActorRdfResolveHypermediaLinksQueue_default_bus"}),T=new(s(90412)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-serialize/^4.0.0/components/ActorRdfSerialize.jsonld#ActorRdfSerialize_default_bus"}),S=new(s(90412)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-update-hypermedia/^4.0.0/components/ActorRdfUpdateHypermedia.jsonld#ActorRdfUpdateHypermedia_default_bus"}),E=new(s(90412)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-update-quads/^4.0.0/components/ActorRdfUpdateQuads.jsonld#ActorRdfUpdateQuads_default_bus"}),D=new(s(90412)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-bindings-aggregator-factory/^4.0.0/components/ActorBindingsAggregatorFactory.jsonld#ActorBindingsAggregatorFactory_default_bus"}),I=new(s(77617)).BusFunctionFactory({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-function-factory/^4.0.0/components/ActorFunctionFactory.jsonld#ActorFunctionFactory_default_bus"}),V=new(s(90412)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-expression-evaluator-factory/^4.0.0/components/ActorExpressionEvaluatorFactory.jsonld#ActorExpressionEvaluatorFactory_default_bus"}),K=new(s(90412)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-http/^4.0.0/components/ActorHttp.jsonld#ActorHttp_default_bus"}),B=new(s(90412)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-http/^4.0.0/components/ActorHttp.jsonld#ActorHttp_fallback_bus"}),$=new(s(66490)).BusQueryOperation({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-operation/^4.0.0/components/ActorQueryOperation.jsonld#ActorQueryOperation_default_bus"}),G=new(s(90412)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-process/^4.0.0/components/ActorQueryProcess.jsonld#ActorQueryProcess_default_bus"}),U=new(s(90412)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-source-identify/^4.0.0/components/ActorQuerySourceIdentify.jsonld#ActorQuerySourceIdentify_default_bus"}),W=new(s(90412)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-join/^4.0.0/components/ActorRdfJoin.jsonld#ActorRdfJoin_default_bus"}),ye=new(s(90412)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-term-comparator-factory/^4.0.0/components/ActorTermComparatorFactory.jsonld#ActorTermComparatorFactory_default_bus"}),ve=new(s(90412)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-http-invalidate/^4.0.0/components/ActorHttpInvalidate.jsonld#ActorHttpInvalidate_default_bus"}),he=new(s(90412)).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-merge-bindings-context/^4.0.0/components/ActorMergeBindingsContext.jsonld#ActorMergeBindingsContext_default_bus"}),q=(new(s(71871)).ActorContextPreprocessConvertShortcuts({contextKeyShortcuts:{baseIRI:"@comunica/actor-init-query:baseIRI",dataFactory:"@comunica/actor-init-query:dataFactory",datetime:"@comunica/actor-http-memento:datetime",destination:"@comunica/bus-rdf-update-quads:destination",distinctConstruct:"@comunica/actor-init-query:distinctConstruct",explain:"@comunica/actor-init-query:explain",extensionFunctionCreator:"@comunica/actor-init-query:extensionFunctionCreator",extensionFunctions:"@comunica/actor-init-query:extensionFunctions",fetch:"@comunica/bus-http:fetch",functionArgumentsCache:"@comunica/actor-init-query:functionArgumentsCache",httpAuth:"@comunica/bus-http:auth",httpBodyTimeout:"@comunica/bus-http:http-body-timeout",httpIncludeCredentials:"@comunica/bus-http:include-credentials",httpProxyHandler:"@comunica/actor-http-proxy:httpProxyHandler",httpRetryCount:"@comunica/bus-http:http-retry-count",httpRetryDelayFallback:"@comunica/bus-http:http-retry-delay-fallback",httpRetryDelayLimit:"@comunica/bus-http:http-retry-delay-limit",httpTimeout:"@comunica/bus-http:http-timeout",initialBindings:"@comunica/actor-init-query:initialBindings",invalidateCache:"@comunica/actor-init-query:invalidateCache",lenient:"@comunica/actor-init-query:lenient",log:"@comunica/core:log",queryFormat:"@comunica/actor-init-query:queryFormat",queryTimestamp:"@comunica/actor-init-query:queryTimestamp",queryTimestampHighResolution:"@comunica/actor-init-query:queryTimestampHighResolution",readOnly:"@comunica/bus-query-operation:readOnly",recoverBrokenLinks:"@comunica/bus-http-wayback:recover-broken-links",sources:"@comunica/actor-init-query:querySourcesUnidentified",traverse:"@comunica/bus-query-source-identify:traverse",unionDefaultGraph:"@comunica/bus-query-operation:unionDefaultGraph"},name:"urn:comunica:default:context-preprocess/actors#convert-shortcuts",bus:i,busFailMessage:"Context preprocessing failed"}),new(s(10607)).ActorContextPreprocessSetDefaults({logger:a,name:"urn:comunica:default:context-preprocess/actors#set-defaults",bus:i,busFailMessage:"Context preprocessing failed"}),new(s(94410)).ActorContextPreprocessSourceToDestination({name:"urn:comunica:default:context-preprocess/actors#source-to-destination",bus:i,busFailMessage:"Context preprocessing failed"}),new(s(21806)).ActorContextPreprocessQuerySourceSkolemize({name:"urn:comunica:default:context-preprocess/actors#query-source-skolemize",bus:i,busFailMessage:"Context preprocessing failed"})),L=new(s(83223)).MediatorCombinePipeline({name:"urn:comunica:default:context-preprocess/mediators#main",bus:i}),R=(new(s(47111)).ActorHashBindingsMurmur({name:"urn:comunica:default:hash-bindings/actors#murmur",bus:t,busFailMessage:"Failed to obtaining hash functions for bindings"}),new(s(12740)).MediatorRace({name:"urn:comunica:default:hash-bindings/mediators#main",bus:t})),k=(new(s(33401)).ActorHashQuadsMurmur({name:"urn:comunica:default:hash-quads/actors#murmur",bus:n,busFailMessage:"Failed to obtaining hash functions for quads"}),new(s(12740)).MediatorRace({name:"urn:comunica:default:hash-quads/mediators#main",bus:n})),X=(new(s(20578)).ActorOptimizeQueryOperationRewriteCopy({name:"urn:comunica:default:optimize-query-operation/actors#rewrite-copy",bus:r,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize"}),new(s(12538)).ActorOptimizeQueryOperationRewriteMove({name:"urn:comunica:default:optimize-query-operation/actors#rewrite-move",bus:r,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize"}),new(s(34406)).ActorOptimizeQueryOperationRewriteAdd({name:"urn:comunica:default:optimize-query-operation/actors#rewrite-add",bus:r,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize"}),new(s(92012)).ActorOptimizeQueryOperationGroupSources({name:"urn:comunica:default:optimize-query-operation/actors#group-sources",bus:r,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize"})),oe=(new(s(98832)).ActorOptimizeQueryOperationConstructDistinct({name:"urn:comunica:default:optimize-query-operation/actors#construct-distinct",bus:r,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize"}),new(s(83223)).MediatorCombinePipeline({filterFailures:!0,name:"urn:comunica:default:optimize-query-operation/mediators#main",bus:r})),ee=(new(s(8323)).ActorQueryParseSparql({prefixes:{dbpedia:"http://dbpedia.org/resource/","dbpedia-owl":"http://dbpedia.org/ontology/",dbpprop:"http://dbpedia.org/property/",dc:"http://purl.org/dc/terms/",dc11:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",foaf:"http://xmlns.com/foaf/0.1/",geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",owl:"http://www.w3.org/2002/07/owl#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",schema:"http://schema.org/",skos:"http://www.w3.org/2008/05/skos#",xsd:"http://www.w3.org/2001/XMLSchema#"},name:"urn:comunica:default:query-parse/actors#sparql",bus:u,busFailMessage:'Query parsing failed: none of the configured parsers were able to the query "${action.query}"'}),new(s(4047)).ActorQueryParseGraphql({name:"urn:comunica:default:query-parse/actors#graphql",bus:u,busFailMessage:'Query parsing failed: none of the configured parsers were able to the query "${action.query}"'}),new(s(12740)).MediatorRace({name:"urn:comunica:default:query-parse/mediators#main",bus:u})),me=(new(s(1359)).ActorQueryResultSerializeJson({mediaTypePriorities:{"application/json":1},mediaTypeFormats:{"application/json":"https://comunica.linkeddatafragments.org/#results_JSON"},name:"urn:comunica:default:query-result-serialize/actors#json",bus:l,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"}),new(s(1595)).ActorQueryResultSerializeSimple({mediaTypePriorities:{simple:.9},mediaTypeFormats:{simple:"https://comunica.linkeddatafragments.org/#results_simple"},name:"urn:comunica:default:query-result-serialize/actors#simple",bus:l,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"}),new(s(83657)).ActorQueryResultSerializeSparqlCsv({mediaTypePriorities:{"text/csv":.75},mediaTypeFormats:{"text/csv":"http://www.w3.org/ns/formats/SPARQL_Results_CSV"},name:"urn:comunica:default:query-result-serialize/actors#csv",bus:l,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"}),new(s(92796)).ActorQueryResultSerializeSparqlTsv({mediaTypePriorities:{"text/tab-separated-values":.75},mediaTypeFormats:{"text/tab-separated-values":"http://www.w3.org/ns/formats/SPARQL_Results_TSV"},name:"urn:comunica:default:query-result-serialize/actors#sparql-tsv",bus:l,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"}),new(s(23200)).ActorQueryResultSerializeSparqlXml({mediaTypePriorities:{"application/sparql-results+xml":.8},mediaTypeFormats:{"application/sparql-results+xml":"http://www.w3.org/ns/formats/SPARQL_Results_XML"},name:"urn:comunica:default:query-result-serialize/actors#sparql-xml",bus:l,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"}),new(s(17731)).ActorQueryResultSerializeTable({columnWidth:50,mediaTypePriorities:{table:.6},mediaTypeFormats:{table:"https://comunica.linkeddatafragments.org/#results_table"},name:"urn:comunica:default:query-result-serialize/actors#table",bus:l,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"}),new(s(78149)).ActorQueryResultSerializeTree({mediaTypePriorities:{tree:.5},mediaTypeFormats:{tree:"https://comunica.linkeddatafragments.org/#results_tree"},name:"urn:comunica:default:query-result-serialize/actors#tree",bus:l,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"}),new(s(12740)).MediatorRace({name:"urn:comunica:default:query-result-serialize/mediators#serialize",bus:l})),de=new(s(54560)).MediatorCombineUnion({field:"mediaTypes",name:"urn:comunica:default:query-result-serialize/mediators#mediaType",bus:l}),xe=new(s(54560)).MediatorCombineUnion({field:"mediaTypeFormats",name:"urn:comunica:default:query-result-serialize/mediators#mediaTypeFormat",bus:l}),ne=new(s(31588)).MediatorNumber({field:"filterFactor",type:"max",ignoreFailures:!0,name:"urn:comunica:default:query-source-identify-hypermedia/mediators#main",bus:d}),be=new(s(67498)).ActorDereferenceFallback({name:"urn:comunica:default:dereference/actors#fallback",bus:p,busFailMessage:"Dereferencing failed: none of the configured actors were able to handle ${action.url}"}),ie=new(s(12740)).MediatorRace({name:"urn:comunica:default:dereference/mediators#main",bus:p}),ge=new(s(12740)).MediatorRace({name:"urn:comunica:default:dereference-rdf/mediators#main",bus:f}),Ee=(new(s(4669)).ActorRdfJoinEntriesSortCardinality({name:"urn:comunica:default:rdf-join-entries-sort/actors#cardinality",bus:h,busFailMessage:"Sorting join entries failed: none of the configured actors were able to sort"}),new(s(31588)).MediatorNumber({field:"accuracy",type:"max",ignoreFailures:!0,name:"urn:comunica:default:rdf-join-entries-sort/mediators#main",bus:h})),M=(new(s(3595)).ActorRdfJoinSelectivityVariableCounting({name:"urn:comunica:default:rdf-join-selectivity/actors#variable-counting",bus:y,busFailMessage:"Determining join selectivity failed: none of the configured actors were able to calculate selectivities"}),new(s(31588)).MediatorNumber({field:"accuracy",type:"max",ignoreFailures:!0,name:"urn:comunica:default:rdf-join-selectivity/mediators#main",bus:y})),P=(new(s(59340)).ActorRdfMetadataPrimaryTopic({metadataToData:!1,dataToMetadataOnInvalidMetadataGraph:!0,name:"urn:comunica:default:rdf-metadata/actors#primary-topic",bus:m,busFailMessage:"Metadata splicing failed: none of the configured actors were able to splice metadata from ${action.url}"}),new(s(67831)).ActorRdfMetadataAll({name:"urn:comunica:default:rdf-metadata/actors#all",bus:m,busFailMessage:"Metadata splicing failed: none of the configured actors were able to splice metadata from ${action.url}"}),new(s(12740)).MediatorRace({name:"urn:comunica:default:rdf-metadata/mediators#main",bus:m})),C=(new(s(37143)).ActorRdfMetadataAccumulateCardinality({name:"urn:comunica:default:rdf-metadata-accumulate/actors#cardinality",bus:b,busFailMessage:"Metadata accumulation failed: none of the configured actors were able to accumulate metadata in mode ${action.mode}"}),new(s(17215)).ActorRdfMetadataAccumulatePageSize({name:"urn:comunica:default:rdf-metadata-accumulate/actors#pagesize",bus:b,busFailMessage:"Metadata accumulation failed: none of the configured actors were able to accumulate metadata in mode ${action.mode}"}),new(s(59075)).ActorRdfMetadataAccumulateRequestTime({name:"urn:comunica:default:rdf-metadata-accumulate/actors#requesttime",bus:b,busFailMessage:"Metadata accumulation failed: none of the configured actors were able to accumulate metadata in mode ${action.mode}"}),new(s(54560)).MediatorCombineUnion({field:"metadata",name:"urn:comunica:default:rdf-metadata-accumulate/mediators#main",bus:b})),z=(new(s(62649)).ActorRdfMetadataExtractHydraControls({name:"urn:comunica:default:rdf-metadata-extract/actors#hydra-controls",bus:v,busFailMessage:"Metadata extraction failed: none of the configured actors were able to extract metadata from ${action.url}"}),new(s(12814)).ActorRdfMetadataExtractHydraCount({predicates:["http://www.w3.org/ns/hydra/core#totalItems","http://rdfs.org/ns/void#triples"],name:"urn:comunica:default:rdf-metadata-extract/actors#hydra-count",bus:v,busFailMessage:"Metadata extraction failed: none of the configured actors were able to extract metadata from ${action.url}"}),new(s(14405)).ActorRdfMetadataExtractHydraPagesize({predicates:["http://www.w3.org/ns/hydra/core#itemsPerPage"],name:"urn:comunica:default:rdf-metadata-extract/actors#hydra-pagesize",bus:v,busFailMessage:"Metadata extraction failed: none of the configured actors were able to extract metadata from ${action.url}"}),new(s(121)).ActorRdfMetadataExtractRequestTime({name:"urn:comunica:default:rdf-metadata-extract/actors#request-time",bus:v,busFailMessage:"Metadata extraction failed: none of the configured actors were able to extract metadata from ${action.url}"}),new(s(19531)).ActorRdfMetadataExtractAllowHttpMethods({name:"urn:comunica:default:rdf-metadata-extract/actors#allow-http-methods",bus:v,busFailMessage:"Metadata extraction failed: none of the configured actors were able to extract metadata from ${action.url}"}),new(s(13121)).ActorRdfMetadataExtractPutAccepted({name:"urn:comunica:default:rdf-metadata-extract/actors#put-accepted",bus:v,busFailMessage:"Metadata extraction failed: none of the configured actors were able to extract metadata from ${action.url}"}),new(s(93742)).ActorRdfMetadataExtractPatchSparqlUpdate({name:"urn:comunica:default:rdf-metadata-extract/actors#patch-sparql-update",bus:v,busFailMessage:"Metadata extraction failed: none of the configured actors were able to extract metadata from ${action.url}"}),new(s(19727)).ActorRdfMetadataExtractSparqlService({inferHttpsEndpoint:!0,name:"urn:comunica:default:rdf-metadata-extract/actors#sparql-service",bus:v,busFailMessage:"Metadata extraction failed: none of the configured actors were able to extract metadata from ${action.url}"}),new(s(54560)).MediatorCombineUnion({filterFailures:!0,field:"metadata",name:"urn:comunica:default:rdf-metadata-extract/mediators#main",bus:v})),te=(new(s(56361)).ActorRdfParseN3({mediaTypePriorities:{"application/n-quads":1,"application/n-triples":.8,"application/trig":.95,"text/n3":.35,"text/turtle":.6},mediaTypeFormats:{"application/n-quads":"http://www.w3.org/ns/formats/N-Quads","application/n-triples":"http://www.w3.org/ns/formats/N-Triples","application/trig":"http://www.w3.org/ns/formats/TriG","text/n3":"http://www.w3.org/ns/formats/N3","text/turtle":"http://www.w3.org/ns/formats/Turtle"},priorityScale:1,name:"urn:comunica:default:rdf-parse/actors#n3",bus:_,busFailMessage:"RDF parsing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),new(s(19227)).ActorRdfParseRdfXml({mediaTypePriorities:{"application/rdf+xml":1},mediaTypeFormats:{"application/rdf+xml":"http://www.w3.org/ns/formats/RDF_XML"},priorityScale:.5,name:"urn:comunica:default:rdf-parse/actors#rdfxml",bus:_,busFailMessage:"RDF parsing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),new(s(2669)).ActorRdfParseXmlRdfa({mediaTypePriorities:{"application/xml":1,"image/svg+xml":1,"text/xml":1},mediaTypeFormats:{"application/xml":"http://www.w3.org/ns/formats/RDFa","image/svg+xml":"http://www.w3.org/ns/formats/RDFa","text/xml":"http://www.w3.org/ns/formats/RDFa"},priorityScale:.3,name:"urn:comunica:default:rdf-parse/actors#xmlrdfa",bus:_,busFailMessage:"RDF parsing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),new(s(71356)).ActorRdfParseShaclc({mediaTypePriorities:{"text/shaclc":1,"text/shaclc-ext":.5},mediaTypeFormats:{"text/shaclc":"http://www.w3.org/ns/formats/Shaclc","text/shaclc-ext":"http://www.w3.org/ns/formats/ShaclcExtended"},priorityScale:.1,name:"urn:comunica:default:rdf-parse/actors#shaclc",bus:_,busFailMessage:"RDF parsing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),new(s(12740)).MediatorRace({name:"urn:comunica:default:rdf-parse/mediators#parse",bus:_})),re=new(s(54560)).MediatorCombineUnion({field:"mediaTypes",name:"urn:comunica:default:rdf-parse/mediators#mediaType",bus:_}),le=(new(s(97103)).ActorRdfParseHtml({busRdfParseHtml:w,mediaTypePriorities:{"application/xhtml+xml":.9,"text/html":1},mediaTypeFormats:{"application/xhtml+xml":"http://www.w3.org/ns/formats/HTML","text/html":"http://www.w3.org/ns/formats/HTML"},priorityScale:.2,name:"urn:comunica:default:rdf-parse/actors#html",bus:_,busFailMessage:"RDF parsing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),new(s(37630)).ActorRdfParseHtmlMicrodata({name:"urn:comunica:default:rdf-parse-html/actors#microdata",bus:w,busFailMessage:"RDF HTML parsing failed: none of the configured parsers were able to parse RDF in HTML"}),new(s(59453)).ActorRdfParseHtmlRdfa({name:"urn:comunica:default:rdf-parse-html/actors#rdfa",bus:w,busFailMessage:"RDF HTML parsing failed: none of the configured parsers were able to parse RDF in HTML"}),new(s(34121)).ActorRdfResolveHypermediaLinksNext({name:"urn:comunica:default:rdf-resolve-hypermedia-links/actors#next",bus:O,busFailMessage:"Hypermedia link resolution failed: none of the configured actors were able to resolve links from metadata"}),new(s(12740)).MediatorRace({name:"urn:comunica:default:rdf-resolve-hypermedia-links/mediators#main",bus:O})),_e=(new(s(85916)).ActorRdfResolveHypermediaLinksQueueFifo({name:"urn:comunica:default:rdf-resolve-hypermedia-links-queue/actors#fifo",bus:A,busFailMessage:"Link queue creation failed: none of the configured actors were able to create a link queue starting from ${action.firstUrl}"}),new(s(12740)).MediatorRace({name:"urn:comunica:default:rdf-resolve-hypermedia-links-queue/mediators#main",bus:A})),we=(new(s(42274)).ActorRdfSerializeN3({mediaTypePriorities:{"application/n-quads":1,"application/n-triples":.8,"application/trig":.95,"text/n3":.35,"text/turtle":.6},mediaTypeFormats:{"application/n-quads":"http://www.w3.org/ns/formats/N-Quads","application/n-triples":"http://www.w3.org/ns/formats/N-Triples","application/trig":"http://www.w3.org/ns/formats/TriG","text/n3":"http://www.w3.org/ns/formats/N3","text/turtle":"http://www.w3.org/ns/formats/Turtle"},name:"urn:comunica:default:rdf-serialize/actors#n3",bus:T,busFailMessage:"RDF serialization failed: none of the configured serializers were able to handle media type ${action.handleMediaType}"}),new(s(61515)).ActorRdfSerializeJsonLd({jsonStringifyIndentSpaces:2,mediaTypePriorities:{"application/ld+json":1},mediaTypeFormats:{"application/ld+json":"http://www.w3.org/ns/formats/JSON-LD"},priorityScale:.9,name:"urn:comunica:default:rdf-serialize/actors#jsonld",bus:T,busFailMessage:"RDF serialization failed: none of the configured serializers were able to handle media type ${action.handleMediaType}"}),new(s(98371)).ActorRdfSerializeShaclc({mediaTypePriorities:{"text/shaclc":1,"text/shaclc-ext":.5},mediaTypeFormats:{"text/shaclc":"http://www.w3.org/ns/formats/Shaclc","text/shaclc-ext":"http://www.w3.org/ns/formats/ShaclcExtended"},priorityScale:.1,name:"urn:comunica:default:rdf-serialize/actors#shaclc",bus:T,busFailMessage:"RDF serialization failed: none of the configured serializers were able to handle media type ${action.handleMediaType}"}),new(s(12740)).MediatorRace({name:"urn:comunica:default:rdf-serialize/mediators#serialize",bus:T})),Se=new(s(54560)).MediatorCombineUnion({field:"mediaTypes",name:"urn:comunica:default:rdf-serialize/mediators#mediaType",bus:T}),Pe=new(s(54560)).MediatorCombineUnion({field:"mediaTypeFormats",name:"urn:comunica:default:rdf-serialize/mediators#mediaTypeFormat",bus:T}),je=new(s(12740)).MediatorRace({name:"urn:comunica:default:rdf-update-hypermedia/mediators#main",bus:S}),ae=(new(s(53550)).ActorRdfUpdateQuadsRdfJsStore({name:"urn:comunica:default:rdf-update-quads/actors#rdfjs-store",bus:E,busFailMessage:"RDF updating failed: none of the configured actors were able to handle an update"}),new(s(12740)).MediatorRace({name:"urn:comunica:default:rdf-update-quads/mediators#main",bus:E})),ce=new(s(12740)).MediatorRace({name:"urn:comunica:default:bindings-aggregator-factory/mediators#main",bus:D}),Le=(new(s(52598)).ActorFunctionFactoryExpressionBnode({name:"urn:comunica:default:function-factory/actors#expression-function-bnode",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(19856)).ActorFunctionFactoryExpressionBound({name:"urn:comunica:default:function-factory/actors#expression-function-bound",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(4475)).ActorFunctionFactoryExpressionCoalesce({name:"urn:comunica:default:function-factory/actors#expression-function-coalesce",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(85312)).ActorFunctionFactoryExpressionConcat({name:"urn:comunica:default:function-factory/actors#expression-function-concat",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(66478)).ActorFunctionFactoryExpressionExtensions({name:"urn:comunica:default:function-factory/actors#expression-function-extensions",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(40767)).ActorFunctionFactoryExpressionIf({name:"urn:comunica:default:function-factory/actors#expression-function-if",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(12067)).ActorFunctionFactoryExpressionLogicalAnd({name:"urn:comunica:default:function-factory/actors#expression-function-logical-and",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(1223)).ActorFunctionFactoryExpressionLogicalOr({name:"urn:comunica:default:function-factory/actors#expression-function-logical-or",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(14579)).ActorFunctionFactoryExpressionSameTerm({name:"urn:comunica:default:function-factory/actors#expression-function-same-term",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(59812)).ActorFunctionFactoryTermAbs({name:"urn:comunica:default:function-factory/actors#term-function-abs",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(91172)).ActorFunctionFactoryTermAddition({name:"urn:comunica:default:function-factory/actors#term-function-addition",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(30953)).ActorFunctionFactoryTermCeil({name:"urn:comunica:default:function-factory/actors#term-function-ceil",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(72945)).ActorFunctionFactoryTermContains({name:"urn:comunica:default:function-factory/actors#term-function-contains",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(24700)).ActorFunctionFactoryTermDatatype({name:"urn:comunica:default:function-factory/actors#term-function-datatype",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(99778)).ActorFunctionFactoryTermDay({name:"urn:comunica:default:function-factory/actors#term-function-day",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(61103)).ActorFunctionFactoryTermDivision({name:"urn:comunica:default:function-factory/actors#term-function-division",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(30971)).ActorFunctionFactoryTermEncodeForUri({name:"urn:comunica:default:function-factory/actors#term-function-encode-for-uri",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(61688)).ActorFunctionFactoryTermEquality({name:"urn:comunica:default:function-factory/actors#term-function-equality",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(56718)).ActorFunctionFactoryTermFloor({name:"urn:comunica:default:function-factory/actors#term-function-floor",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(54531)).ActorFunctionFactoryTermHours({name:"urn:comunica:default:function-factory/actors#term-function-hours",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(16686)).ActorFunctionFactoryTermIri({name:"urn:comunica:default:function-factory/actors#term-function-iri",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(92959)).ActorFunctionFactoryTermIsBlank({name:"urn:comunica:default:function-factory/actors#term-function-is-blank",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(11767)).ActorFunctionFactoryTermIsIri({name:"urn:comunica:default:function-factory/actors#term-function-is-iri",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(30254)).ActorFunctionFactoryTermIsLiteral({name:"urn:comunica:default:function-factory/actors#term-function-is-literal",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(6082)).ActorFunctionFactoryTermIsNumeric({name:"urn:comunica:default:function-factory/actors#term-function-is-numeric",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(61151)).ActorFunctionFactoryTermIsTriple({name:"urn:comunica:default:function-factory/actors#term-function-is-triple",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(33032)).ActorFunctionFactoryTermLang({name:"urn:comunica:default:function-factory/actors#term-function-lang",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(15769)).ActorFunctionFactoryTermLangmatches({name:"urn:comunica:default:function-factory/actors#term-function-langmatches",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(22460)).ActorFunctionFactoryTermLcase({name:"urn:comunica:default:function-factory/actors#term-function-lcase",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(12744)).ActorFunctionFactoryTermMd5({name:"urn:comunica:default:function-factory/actors#term-function-md5",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(24713)).ActorFunctionFactoryTermMinutes({name:"urn:comunica:default:function-factory/actors#term-function-minutes",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(32310)).ActorFunctionFactoryTermMonth({name:"urn:comunica:default:function-factory/actors#term-function-month",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(23610)).ActorFunctionFactoryTermMultiplication({name:"urn:comunica:default:function-factory/actors#term-function-multiplication",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(52505)).ActorFunctionFactoryTermNot({name:"urn:comunica:default:function-factory/actors#term-function-not",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(69636)).ActorFunctionFactoryTermNow({name:"urn:comunica:default:function-factory/actors#term-function-now",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(20379)).ActorFunctionFactoryTermObject({name:"urn:comunica:default:function-factory/actors#term-function-object",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(68545)).ActorFunctionFactoryTermPredicate({name:"urn:comunica:default:function-factory/actors#term-function-predicate",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(86155)).ActorFunctionFactoryTermRand({name:"urn:comunica:default:function-factory/actors#term-function-rand",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(98811)).ActorFunctionFactoryTermRegex({name:"urn:comunica:default:function-factory/actors#term-function-regex",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(52452)).ActorFunctionFactoryTermReplace({name:"urn:comunica:default:function-factory/actors#term-function-replace",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(80748)).ActorFunctionFactoryTermRound({name:"urn:comunica:default:function-factory/actors#term-function-round",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(9941)).ActorFunctionFactoryTermSeconds({name:"urn:comunica:default:function-factory/actors#term-function-seconds",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(45845)).ActorFunctionFactoryTermSha1({name:"urn:comunica:default:function-factory/actors#term-function-sha1",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(77267)).ActorFunctionFactoryTermSha256({name:"urn:comunica:default:function-factory/actors#term-function-sha256",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(96447)).ActorFunctionFactoryTermSha384({name:"urn:comunica:default:function-factory/actors#term-function-sha384",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(24742)).ActorFunctionFactoryTermSha512({name:"urn:comunica:default:function-factory/actors#term-function-sha512",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(30912)).ActorFunctionFactoryTermStrAfter({name:"urn:comunica:default:function-factory/actors#term-function-str-after",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(60649)).ActorFunctionFactoryTermStrBefore({name:"urn:comunica:default:function-factory/actors#term-function-str-before",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(93734)).ActorFunctionFactoryTermStrDt({name:"urn:comunica:default:function-factory/actors#term-function-str-dt",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(49060)).ActorFunctionFactoryTermStrEnds({name:"urn:comunica:default:function-factory/actors#term-function-str-ends",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(20554)).ActorFunctionFactoryTermStrLang({name:"urn:comunica:default:function-factory/actors#term-function-str-lang",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(27869)).ActorFunctionFactoryTermStrLen({name:"urn:comunica:default:function-factory/actors#term-function-str-len",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(94379)).ActorFunctionFactoryTermStrStarts({name:"urn:comunica:default:function-factory/actors#term-function-str-starts",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(53417)).ActorFunctionFactoryTermStrUuid({name:"urn:comunica:default:function-factory/actors#term-function-str-uuid",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(28699)).ActorFunctionFactoryTermStr({name:"urn:comunica:default:function-factory/actors#term-function-str",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(96404)).ActorFunctionFactoryTermSubStr({name:"urn:comunica:default:function-factory/actors#term-function-sub-str",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(51060)).ActorFunctionFactoryTermSubject({name:"urn:comunica:default:function-factory/actors#term-function-subject",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(55010)).ActorFunctionFactoryTermSubtraction({name:"urn:comunica:default:function-factory/actors#term-function-subtraction",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(4535)).ActorFunctionFactoryTermTimezone({name:"urn:comunica:default:function-factory/actors#term-function-timezone",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(31348)).ActorFunctionFactoryTermTriple({name:"urn:comunica:default:function-factory/actors#term-function-triple",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(4898)).ActorFunctionFactoryTermTz({name:"urn:comunica:default:function-factory/actors#term-function-tz",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(55711)).ActorFunctionFactoryTermUcase({name:"urn:comunica:default:function-factory/actors#term-function-ucase",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(67186)).ActorFunctionFactoryTermUnaryMinus({name:"urn:comunica:default:function-factory/actors#term-function-unary-minus",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(2810)).ActorFunctionFactoryTermUnaryPlus({name:"urn:comunica:default:function-factory/actors#term-function-unary-plus",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(2479)).ActorFunctionFactoryTermUuid({name:"urn:comunica:default:function-factory/actors#term-function-uuid",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(11554)).ActorFunctionFactoryTermXsdToBoolean({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-boolean",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(43406)).ActorFunctionFactoryTermXsdToDate({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-date",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(4523)).ActorFunctionFactoryTermXsdToDatetime({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-datetime",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(69721)).ActorFunctionFactoryTermXsdToDayTimeDuration({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-day-time-duration",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(25033)).ActorFunctionFactoryTermXsdToDecimal({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-decimal",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(99507)).ActorFunctionFactoryTermXsdToDouble({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-double",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(48758)).ActorFunctionFactoryTermXsdToDuration({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-duration",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(64068)).ActorFunctionFactoryTermXsdToFloat({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-float",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(8096)).ActorFunctionFactoryTermXsdToInteger({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-integer",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(91799)).ActorFunctionFactoryTermXsdToString({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-string",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(18895)).ActorFunctionFactoryTermXsdToTime({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-time",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(26143)).ActorFunctionFactoryTermXsdToYearMonthDuration({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-year-month-duration",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(22361)).ActorFunctionFactoryTermYear({name:"urn:comunica:default:function-factory/actors#term-function-year",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(12740)).MediatorRace({name:"urn:comunica:default:function-factory/mediators#main",bus:I})),ke=new(s(12740)).MediatorRace({name:"urn:comunica:default:expression-evaluator-factory/mediators#main",bus:V}),qe=new(s(90178)).ActorHttpFetch({agentOptions:{keepAlive:!0,maxSockets:5},name:"urn:comunica:default:http/actors#fetch",bus:K,busFailMessage:"HTTP request failed: none of the configured actors were able to handle ${action.input}"}),He=new(s(31588)).MediatorNumber({field:"time",type:"min",ignoreFailures:!0,name:"urn:comunica:default:http/mediators#no-fallback",bus:K}),Ae=new(s(31588)).MediatorNumber({field:"time",type:"min",ignoreFailures:!0,name:"urn:comunica:default:http/mediators#main",bus:B}),Te=(new(s(48169)).ActorQueryOperationSource({name:"urn:comunica:default:query-operation/actors#source",bus:$,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(s(31588)).MediatorNumber({field:"httpRequests",type:"min",ignoreFailures:!0,name:"urn:comunica:default:query-operation/mediators#main",bus:$})),Ke=new(s(12740)).MediatorRace({name:"urn:comunica:default:query-process/mediators#main",bus:G}),it=new(s(12740)).MediatorRace({name:"urn:comunica:default:query-source-identify/mediators#main",bus:U}),ut=new(s(47633)).MediatorJoinCoefficientsFixed({cpuWeight:10,memoryWeight:1,timeWeight:2,ioWeight:10,name:"urn:comunica:default:rdf-join/mediators#main",bus:W}),tt=new(s(12740)).MediatorRace({name:"urn:comunica:default:term-comparator-factory/mediators#main",bus:ye}),ht=new(s(40332)).ActorHttpInvalidateListenable({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-context-preprocess-query-source-identify/^4.0.0/components/ActorContextPreprocessQuerySourceIdentify.jsonld#IActorContextPreprocessQuerySourceIdentifyArgs_default_invalidator",bus:ve,busFailMessage:"HTTP invalidation failed: none of the configured actors were able to invalidate ${action.url}"}),vt=new(s(60504)).MediatorAll({name:"urn:comunica:default:http-invalidate/mediators#main",bus:ve}),at=new(s(40332)).ActorHttpInvalidateListenable({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-rdf-update-quads-hypermedia/^4.0.0/components/ActorRdfUpdateQuadsHypermedia.jsonld#IActorRdfUpdateQuadsHypermediaArgs_default_invalidator",bus:ve,busFailMessage:"HTTP invalidation failed: none of the configured actors were able to invalidate ${action.url}"}),Ne=new(s(40332)).ActorHttpInvalidateListenable({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-http-retry/^4.0.0/components/ActorHttpRetry.jsonld#IActorHttpQueueArgs_default_invalidator",bus:ve,busFailMessage:"HTTP invalidation failed: none of the configured actors were able to invalidate ${action.url}"}),j=new(s(40332)).ActorHttpInvalidateListenable({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-query-result-serialize-sparql-json/^4.0.0/components/ActionObserverHttp.jsonld#IActionObserverHttpArgs_default_invalidator",bus:ve,busFailMessage:"HTTP invalidation failed: none of the configured actors were able to invalidate ${action.url}"}),Y=new(s(40332)).ActorHttpInvalidateListenable({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-query-result-serialize-stats/^4.0.0/components/ActionObserverHttp.jsonld#IActionObserverHttpArgs_default_invalidator",bus:ve,busFailMessage:"HTTP invalidation failed: none of the configured actors were able to invalidate ${action.url}"}),J=new(s(54560)).MediatorCombineUnion({field:"mergeHandlers",name:"urn:comunica:default:merge-bindings-context/mediators#main",bus:he}),pe=(new(s(42004)).ActorRdfJoinMinusHash({canHandleUndefs:!1,mediatorJoinSelectivity:M,name:"urn:comunica:default:rdf-join/actors#minus-hash-def",bus:W,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(s(42004)).ActorRdfJoinMinusHash({canHandleUndefs:!0,mediatorJoinSelectivity:M,name:"urn:comunica:default:rdf-join/actors#minus-hash-undef",bus:W,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(s(71924)).ActorRdfJoinSingle({mediatorJoinSelectivity:M,name:"urn:comunica:default:rdf-join/actors#inner-single",bus:W,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(s(25445)).ActorRdfJoinMultiEmpty({mediatorJoinSelectivity:M,name:"urn:comunica:default:rdf-join/actors#inner-multi-empty",bus:W,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(s(96848)).ActorRdfJoinHash({mediatorHashBindings:R,canHandleUndefs:!1,mediatorJoinSelectivity:M,name:"urn:comunica:default:rdf-join/actors#inner-hash-def",bus:W,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"})),Re=new(s(96848)).ActorRdfJoinHash({mediatorHashBindings:R,canHandleUndefs:!0,mediatorJoinSelectivity:M,name:"urn:comunica:default:rdf-join/actors#inner-hash-undef",bus:W,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),Fe=new(s(96835)).ActorRdfJoinSymmetricHash({mediatorHashBindings:R,mediatorJoinSelectivity:M,name:"urn:comunica:default:rdf-join/actors#inner-symmetric-hash",bus:W,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),Oe=new(s(36229)).ActorRdfJoinNestedLoop({mediatorJoinSelectivity:M,name:"urn:comunica:default:rdf-join/actors#inner-nested-loop",bus:W,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),De=(new(s(60146)).ActorRdfJoinOptionalHash({canHandleUndefs:!1,blocking:!1,mediatorJoinSelectivity:M,name:"urn:comunica:default:rdf-join/actors#optional-hash-def-nonblocking",bus:W,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(s(60146)).ActorRdfJoinOptionalHash({canHandleUndefs:!1,blocking:!0,mediatorJoinSelectivity:M,name:"urn:comunica:default:rdf-join/actors#optional-hash-def-blocking",bus:W,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(s(60146)).ActorRdfJoinOptionalHash({canHandleUndefs:!0,blocking:!1,mediatorJoinSelectivity:M,name:"urn:comunica:default:rdf-join/actors#optional-hash-undef-nonblocking",bus:W,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(s(60146)).ActorRdfJoinOptionalHash({canHandleUndefs:!0,blocking:!0,mediatorJoinSelectivity:M,name:"urn:comunica:default:rdf-join/actors#optional-hash-undef-blocking",bus:W,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(s(65267)).ActorRdfJoinOptionalNestedLoop({mediatorJoinSelectivity:M,name:"urn:comunica:default:rdf-join/actors#optional-nested-loop",bus:W,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(s(11558)).ActorDereferenceRdfParse({mediatorDereference:ie,mediatorParse:te,mediatorParseMediatypes:re,mediaMappings:{htm:"text/html",html:"text/html",json:"application/json",jsonld:"application/ld+json",n3:"text/n3",nq:"application/n-quads",nquads:"application/n-quads",nt:"application/n-triples",ntriples:"application/n-triples",owl:"application/rdf+xml",rdf:"application/rdf+xml",rdfxml:"application/rdf+xml",shaclc:"text/shaclc",shaclce:"text/shaclc-ext",shc:"text/shaclc",shce:"text/shaclc-ext",svg:"image/svg+xml",svgz:"image/svg+xml",trig:"application/trig",ttl:"text/turtle",turtle:"text/turtle",xht:"application/xhtml+xml",xhtml:"application/xhtml+xml",xml:"application/xml"},name:"urn:comunica:default:dereference-rdf/actors#parse",bus:f,busFailMessage:"RDF dereferencing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),new(s(38505)).ActorRdfParseHtmlScript({mediatorRdfParseMediatypes:re,mediatorRdfParseHandle:te,name:"urn:comunica:default:rdf-parse-html/actors#script",bus:w,busFailMessage:"RDF HTML parsing failed: none of the configured parsers were able to parse RDF in HTML"}),new(s(33275)).ActorQueryResultSerializeRdf({mediatorRdfSerialize:we,mediatorMediaTypeCombiner:Se,mediatorMediaTypeFormatCombiner:Pe,name:"urn:comunica:default:query-result-serialize/actors#rdf",bus:l,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"}),new(s(94311)).ActorFunctionFactoryExpressionIn({mediatorFunctionFactory:Le,name:"urn:comunica:default:function-factory/actors#expression-function-in",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(63067)).ActorFunctionFactoryExpressionNotIn({mediatorFunctionFactory:Le,name:"urn:comunica:default:function-factory/actors#expression-function-not-in",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(8711)).ActorFunctionFactoryTermGreaterThanEqual({mediatorFunctionFactory:Le,name:"urn:comunica:default:function-factory/actors#term-function-greater-than-equal",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(31038)).ActorFunctionFactoryTermGreaterThan({mediatorFunctionFactory:Le,name:"urn:comunica:default:function-factory/actors#term-function-greater-than",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(76695)).ActorFunctionFactoryTermInequality({mediatorFunctionFactory:Le,name:"urn:comunica:default:function-factory/actors#term-function-inequality",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(38507)).ActorFunctionFactoryTermLesserThanEqual({mediatorFunctionFactory:Le,name:"urn:comunica:default:function-factory/actors#term-function-lesser-than-equal",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(95426)).ActorFunctionFactoryTermLesserThan({mediatorFunctionFactory:Le,name:"urn:comunica:default:function-factory/actors#term-function-lesser-than",bus:I,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s(17352)).ActorBindingsAggregatorFactoryAverage({mediatorFunctionFactory:Le,mediatorExpressionEvaluatorFactory:ke,name:"urn:comunica:default:bindings-aggregator-factory/actors#average",bus:D,busFailMessage:"Creation of Aggregator failed: none of the configured actors were able to handle ${action.expr.aggregator}"}),new(s(2236)).ActorBindingsAggregatorFactoryCount({mediatorExpressionEvaluatorFactory:ke,name:"urn:comunica:default:bindings-aggregator-factory/actors#count",bus:D,busFailMessage:"Creation of Aggregator failed: none of the configured actors were able to handle ${action.expr.aggregator}"}),new(s(37779)).ActorBindingsAggregatorFactoryGroupConcat({mediatorExpressionEvaluatorFactory:ke,name:"urn:comunica:default:bindings-aggregator-factory/actors#group-concat",bus:D,busFailMessage:"Creation of Aggregator failed: none of the configured actors were able to handle ${action.expr.aggregator}"}),new(s(71271)).ActorBindingsAggregatorFactorySample({mediatorExpressionEvaluatorFactory:ke,name:"urn:comunica:default:bindings-aggregator-factory/actors#sample",bus:D,busFailMessage:"Creation of Aggregator failed: none of the configured actors were able to handle ${action.expr.aggregator}"}),new(s(26568)).ActorBindingsAggregatorFactorySum({mediatorFunctionFactory:Le,mediatorExpressionEvaluatorFactory:ke,name:"urn:comunica:default:bindings-aggregator-factory/actors#sum",bus:D,busFailMessage:"Creation of Aggregator failed: none of the configured actors were able to handle ${action.expr.aggregator}"}),new(s(20489)).ActorBindingsAggregatorFactoryWildcardCount({mediatorExpressionEvaluatorFactory:ke,name:"urn:comunica:default:bindings-aggregator-factory/actors#wildcard-count",bus:D,busFailMessage:"Creation of Aggregator failed: none of the configured actors were able to handle ${action.expr.aggregator}"}),new(s(23794)).ActorHttpWayback({mediatorHttp:He,name:"urn:comunica:default:http/actors#wayback",bus:B,busFailMessage:"HTTP request failed: none of the configured actors were able to handle ${action.input}"}),new(s(81108)).ActorRdfParseJsonLd({mediatorHttp:Ae,mediaTypePriorities:{"application/json":.15,"application/ld+json":1},mediaTypeFormats:{"application/json":"http://www.w3.org/ns/formats/JSON-LD","application/ld+json":"http://www.w3.org/ns/formats/JSON-LD"},priorityScale:.9,name:"urn:comunica:default:rdf-parse/actors#jsonld",bus:_,busFailMessage:"RDF parsing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),new(s(45109)).ActorRdfUpdateHypermediaPatchSparqlUpdate({mediatorHttp:Ae,name:"urn:comunica:default:rdf-update-hypermedia/actors#patch-sparql-update",bus:S,busFailMessage:"RDF hypermedia updating failed: none of the configured actors were able to handle an update for ${action.url}"}),new(s(41363)).ActorRdfUpdateHypermediaPutLdp({mediatorHttp:Ae,mediatorRdfSerializeMediatypes:Se,mediatorRdfSerialize:we,name:"urn:comunica:default:rdf-update-hypermedia/actors#put-ldp",bus:S,busFailMessage:"RDF hypermedia updating failed: none of the configured actors were able to handle an update for ${action.url}"}),new(s(50632)).ActorRdfUpdateHypermediaSparql({mediatorHttp:Ae,checkUrlSuffixSparql:!0,checkUrlSuffixUpdate:!0,name:"urn:comunica:default:rdf-update-hypermedia/actors#sparql",bus:S,busFailMessage:"RDF hypermedia updating failed: none of the configured actors were able to handle an update for ${action.url}"}),new(s(16682)).ActorQueryOperationAsk({mediatorQueryOperation:Te,name:"urn:comunica:default:query-operation/actors#ask",bus:$,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(s(38820)).ActorQueryOperationBgpJoin({mediatorQueryOperation:Te,name:"urn:comunica:default:query-operation/actors#bgp",bus:$,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(s(34585)).ActorQueryOperationConstruct({mediatorQueryOperation:Te,name:"urn:comunica:default:query-operation/actors#construct",bus:$,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(s(24615)).ActorQueryOperationDistinctHash({mediatorHashBindings:R,mediatorHashQuads:k,mediatorQueryOperation:Te,name:"urn:comunica:default:query-operation/actors#distinct",bus:$,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(s(12304)).ActorQueryOperationExtend({mediatorExpressionEvaluatorFactory:ke,mediatorQueryOperation:Te,name:"urn:comunica:default:query-operation/actors#extend",bus:$,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(s(68350)).ActorQueryOperationFilter({mediatorExpressionEvaluatorFactory:ke,mediatorQueryOperation:Te,name:"urn:comunica:default:query-operation/actors#filter",bus:$,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(s(22744)).ActorQueryOperationFromQuad({mediatorQueryOperation:Te,name:"urn:comunica:default:query-operation/actors#from",bus:$,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(s(99817)).ActorQueryOperationProject({mediatorQueryOperation:Te,name:"urn:comunica:default:query-operation/actors#project",bus:$,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(s(66713)).ActorQueryOperationReducedHash({mediatorHashBindings:R,cacheSize:100,mediatorQueryOperation:Te,name:"urn:comunica:default:query-operation/actors#reduced",bus:$,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(s(24718)).ActorQueryOperationSlice({mediatorQueryOperation:Te,name:"urn:comunica:default:query-operation/actors#slice",bus:$,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(s(43415)).ActorQueryOperationUnion({mediatorRdfMetadataAccumulate:C,mediatorQueryOperation:Te,name:"urn:comunica:default:query-operation/actors#union",bus:$,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(s(35529)).ActorQueryOperationPathAlt({mediatorRdfMetadataAccumulate:C,mediatorQueryOperation:Te,name:"urn:comunica:default:query-operation/actors#path-alt",bus:$,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(s(6809)).ActorQueryOperationPathInv({mediatorQueryOperation:Te,name:"urn:comunica:default:query-operation/actors#path-inv",bus:$,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(s(66218)).ActorQueryOperationPathLink({mediatorQueryOperation:Te,name:"urn:comunica:default:query-operation/actors#path-link",bus:$,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(s(54309)).ActorQueryOperationPathNps({mediatorQueryOperation:Te,name:"urn:comunica:default:query-operation/actors#path-nps",bus:$,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(s(84629)).ActorQueryOperationClear({mediatorUpdateQuads:ae,mediatorQueryOperation:Te,name:"urn:comunica:default:query-operation/actors#update-clear",bus:$,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(s(330)).ActorQueryOperationUpdateCompositeUpdate({mediatorQueryOperation:Te,name:"urn:comunica:default:query-operation/actors#update-composite",bus:$,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(s(54672)).ActorQueryOperationCreate({mediatorUpdateQuads:ae,mediatorQueryOperation:Te,name:"urn:comunica:default:query-operation/actors#update-create",bus:$,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(s(33181)).ActorQueryOperationDrop({mediatorUpdateQuads:ae,mediatorQueryOperation:Te,name:"urn:comunica:default:query-operation/actors#update-drop",bus:$,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(s(38392)).ActorQueryOperationLoad({mediatorUpdateQuads:ae,mediatorQuerySourceIdentify:it,mediatorQueryOperation:Te,name:"urn:comunica:default:query-operation/actors#update-load",bus:$,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(s(20240)).ActorQueryOperationJoin({mediatorJoin:ut,mediatorQueryOperation:Te,name:"urn:comunica:default:query-operation/actors#join",bus:$,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(s(75113)).ActorQueryOperationLeftJoin({mediatorJoin:ut,mediatorExpressionEvaluatorFactory:ke,mediatorQueryOperation:Te,name:"urn:comunica:default:query-operation/actors#leftjoin",bus:$,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(s(48952)).ActorQueryOperationMinus({mediatorJoin:ut,mediatorQueryOperation:Te,name:"urn:comunica:default:query-operation/actors#minus",bus:$,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(s(75049)).ActorQueryOperationPathSeq({mediatorJoin:ut,mediatorQueryOperation:Te,name:"urn:comunica:default:query-operation/actors#path-seq",bus:$,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(s(25925)).ActorRdfJoinMultiSmallest({mediatorJoinEntriesSort:Ee,mediatorJoin:ut,mediatorJoinSelectivity:M,name:"urn:comunica:default:rdf-join/actors#inner-multi-smallest",bus:W,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"})),Ue=(new(s(51237)).ActorBindingsAggregatorFactoryMax({mediatorTermComparatorFactory:tt,mediatorExpressionEvaluatorFactory:ke,name:"urn:comunica:default:bindings-aggregator-factory/actors#max",bus:D,busFailMessage:"Creation of Aggregator failed: none of the configured actors were able to handle ${action.expr.aggregator}"}),new(s(13847)).ActorBindingsAggregatorFactoryMin({mediatorTermComparatorFactory:tt,mediatorExpressionEvaluatorFactory:ke,name:"urn:comunica:default:bindings-aggregator-factory/actors#min",bus:D,busFailMessage:"Creation of Aggregator failed: none of the configured actors were able to handle ${action.expr.aggregator}"}),new(s(73945)).ActorQueryOperationOrderBy({mediatorExpressionEvaluatorFactory:ke,mediatorTermComparatorFactory:tt,mediatorQueryOperation:Te,name:"urn:comunica:default:query-operation/actors#orderby",bus:$,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(s(62001)).ActorOptimizeQueryOperationFilterPushdown({aggressivePushdown:!1,maxIterations:10,splitConjunctive:!0,mergeConjunctive:!0,pushIntoLeftJoins:!0,pushEqualityIntoPatterns:!0,name:"urn:comunica:default:optimize-query-operation/actors#filter-pushdown",bus:r,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize",beforeActors:[X]})),$e=(new(s(78e3)).ActorDereferenceHttp({mediatorHttp:Ae,maxAcceptHeaderLength:1024,maxAcceptHeaderLengthBrowser:128,name:"urn:comunica:default:dereference/actors#http",bus:p,busFailMessage:"Dereferencing failed: none of the configured actors were able to handle ${action.url}",beforeActors:[be]}),new(s(75050)).ActorHttpProxy({mediatorHttp:Ae,name:"urn:comunica:default:http/actors#proxy",bus:K,busFailMessage:"HTTP request failed: none of the configured actors were able to handle ${action.input}",beforeActors:[qe]})),Ge=(new(s(38235)).ActorContextPreprocessQuerySourceIdentify({cacheSize:100,httpInvalidator:ht,mediatorQuerySourceIdentify:it,mediatorContextPreprocess:L,name:"urn:comunica:default:context-preprocess/actors#query-source-identify",bus:i,busFailMessage:"Context preprocessing failed",beforeActors:[q]}),new(s(12301)).ActorInitQuery({mediatorQueryProcess:Ke,mediatorQueryResultSerialize:me,mediatorQueryResultSerializeMediaTypeCombiner:de,mediatorQueryResultSerializeMediaTypeFormatCombiner:xe,mediatorHttpInvalidate:vt,defaultQueryInputFormat:"sparql",allowNoSources:!1,name:"urn:comunica:default:init/actors#query",bus:o,busFailMessage:"Initialization failed: none of the configured actors were to initialize"})),Je=(new(s(12845)).ActorRdfUpdateQuadsHypermedia({cacheSize:100,httpInvalidator:at,mediatorDereferenceRdf:ge,mediatorMetadata:P,mediatorMetadataExtract:z,mediatorRdfUpdateHypermedia:je,name:"urn:comunica:default:rdf-update-quads/actors#hypermedia",bus:E,busFailMessage:"RDF updating failed: none of the configured actors were able to handle an update"}),new(s(13125)).ActionObserverHttp({httpInvalidator:j,observedActors:["urn:comunica:default:http/actors#fetch"],name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-query-result-serialize-sparql-json/^4.0.0/components/ActorQueryResultSerializeSparqlJson.jsonld#ActorQueryResultSerializeSparqlJson_default_observer",bus:K})),Ve=new(s(93408)).ActionObserverHttp({httpInvalidator:Y,observedActors:["urn:comunica:default:http/actors#fetch"],name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-query-result-serialize-stats/^4.0.0/components/ActorQueryResultSerializeStats.jsonld#ActorQueryResultSerializeStats_default_observer",bus:K}),Ze=(new(s(63881)).ActorQuerySourceIdentifyHypermediaQpf({mediatorMetadata:P,mediatorMetadataExtract:z,mediatorDereferenceRdf:ge,mediatorMergeBindingsContext:J,subjectUri:"http://www.w3.org/1999/02/22-rdf-syntax-ns#subject",predicateUri:"http://www.w3.org/1999/02/22-rdf-syntax-ns#predicate",objectUri:"http://www.w3.org/1999/02/22-rdf-syntax-ns#object",graphUri:"http://www.w3.org/ns/sparql-service-description#graph",name:"urn:comunica:default:query-source-identify-hypermedia/actors#qpf",bus:d,busFailMessage:"Query source hypermedia identification failed: none of the configured actors were able to identify ${action.url}"}),new(s(83101)).ActorQuerySourceIdentifyHypermediaSparql({mediatorHttp:Ae,mediatorMergeBindingsContext:J,checkUrlSuffix:!0,forceHttpGet:!1,cacheSize:1024,forceSourceType:!1,bindMethod:"values",countTimeout:3e3,cardinalityCountQueries:!0,cardinalityEstimateConstruction:!1,name:"urn:comunica:default:rdf-resolve-quad-pattern/actors#sparql",bus:d,busFailMessage:"Query source hypermedia identification failed: none of the configured actors were able to identify ${action.url}"}),new(s(74838)).ActorQuerySourceIdentifyHypermediaNone({mediatorMergeBindingsContext:J,name:"urn:comunica:default:query-source-identify-hypermedia/actors#none",bus:d,busFailMessage:"Query source hypermedia identification failed: none of the configured actors were able to identify ${action.url}"}),new(s(54645)).ActorQuerySourceIdentifyHypermediaPassage({mediatorQueryProcess:Ke,mediatorHttp:Ae,mediatorMergeBindingsContext:J,checkUrlSuffix:!0,forceHttpGet:!1,cacheSize:1024,bindMethod:"values",countTimeout:3e3,name:"urn:passage:default:query-source-identify-hypermedia/actors#passage",bus:d,busFailMessage:"Query source hypermedia identification failed: none of the configured actors were able to identify ${action.url}"}),new(s(36235)).ActorQuerySourceIdentifyHypermediaRaw({mediatorHttp:Ae,mediatorMergeBindingsContext:J,checkUrlSuffix:!0,forceHttpGet:!1,cacheSize:1024,bindMethod:"values",countTimeout:3e3,name:"urn:passage:default:query-source-identify-hypermedia/actors#raw",bus:d,busFailMessage:"Query source hypermedia identification failed: none of the configured actors were able to identify ${action.url}"}),new(s(76810)).ActorExpressionEvaluatorFactoryDefault({mediatorQueryOperation:Te,mediatorFunctionFactory:Le,mediatorMergeBindingsContext:J,name:"urn:comunica:default:expression-evaluator-factory/actors#default",bus:V,busFailMessage:"Creation of Expression Evaluator failed"}),new(s(37515)).ActorQueryOperationGroup({mediatorMergeBindingsContext:J,mediatorBindingsAggregatorFactory:ce,mediatorQueryOperation:Te,name:"urn:comunica:default:query-operation/actors#group",bus:$,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(s(79153)).ActorQueryOperationNop({mediatorMergeBindingsContext:J,mediatorQueryOperation:Te,name:"urn:comunica:default:query-operation/actors#nop",bus:$,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(s(89115)).ActorQueryOperationService({forceSparqlEndpoint:!1,mediatorMergeBindingsContext:J,mediatorQuerySourceIdentify:it,mediatorQueryOperation:Te,name:"urn:comunica:default:query-operation/actors#service",bus:$,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(s(65178)).ActorQueryOperationValues({mediatorMergeBindingsContext:J,name:"urn:comunica:default:query-operation/actors#values",bus:$,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(s(23654)).ActorQueryOperationPathOneOrMore({mediatorMergeBindingsContext:J,mediatorQueryOperation:Te,name:"urn:comunica:default:query-operation/actors#path-one-or-more",bus:$,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(s(85928)).ActorQueryOperationPathZeroOrMore({mediatorMergeBindingsContext:J,mediatorQueryOperation:Te,name:"urn:comunica:default:query-operation/actors#path-zero-or-more",bus:$,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(s(8327)).ActorQueryOperationPathZeroOrOne({mediatorMergeBindingsContext:J,mediatorQueryOperation:Te,name:"urn:comunica:default:query-operation/actors#path-zero-or-one",bus:$,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(s(63002)).ActorQueryOperationUpdateDeleteInsert({mediatorUpdateQuads:ae,mediatorMergeBindingsContext:J,mediatorQueryOperation:Te,name:"urn:comunica:default:query-operation/actors#update-delete-insert",bus:$,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(s(33163)).ActorQueryProcessSequentialRecursive({mediatorContextPreprocess:L,mediatorQueryParse:ee,mediatorOptimizeQueryOperation:oe,mediatorQueryOperation:Te,mediatorMergeBindingsContext:J,name:"urn:comunica:default:query-process/actors#sequential",bus:G,busFailMessage:'Query processing failed: none of the configured actor were process to the query "${action.query}"'})),st=new(s(79881)).ActorQuerySourceIdentifyHypermedia({cacheSize:100,maxIterators:64,aggregateTraversalStore:!0,mediatorDereferenceRdf:ge,mediatorMetadata:P,mediatorMetadataExtract:z,mediatorMetadataAccumulate:C,mediatorQuerySourceIdentifyHypermedia:ne,mediatorRdfResolveHypermediaLinks:le,mediatorRdfResolveHypermediaLinksQueue:_e,mediatorMergeBindingsContext:J,name:"urn:comunica:default:query-source-identify/actors#hypermedia",bus:U,busFailMessage:"Query source identification failed: none of the configured actors were able to identify ${action.querySourceUnidentified.value}"}),ot=(new(s(88766)).ActorRdfJoinNone({mediatorMergeBindingsContext:J,mediatorJoinSelectivity:M,name:"urn:comunica:default:rdf-join/actors#inner-none",bus:W,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(s(97237)).ActorRdfJoinOptionalBind({bindOrder:"depth-first",selectivityModifier:1e-6,mediatorQueryOperation:Te,mediatorMergeBindingsContext:J,mediatorJoinSelectivity:M,name:"urn:comunica:default:rdf-join/actors#optional-bind",bus:W,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(s(64468)).ActorTermComparatorFactoryExpressionEvaluator({mediatorQueryOperation:Te,mediatorFunctionFactory:Le,mediatorMergeBindingsContext:J,name:"urn:comunica:default:term-comparator-factory/actors#expression-evaluator",bus:ye,busFailMessage:"Creation of term comparator failed"}),new(s(42815)).ActorRdfJoinMultiBind({bindOrder:"depth-first",selectivityModifier:1e-4,minMaxCardinalityRatio:60,mediatorJoinEntriesSort:Ee,mediatorQueryOperation:Te,mediatorMergeBindingsContext:J,mediatorJoinSelectivity:M,name:"urn:comunica:default:rdf-join/actors#inner-multi-bind",bus:W,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}",beforeActors:[De,pe,Re,Fe,Oe]})),Ye=(new(s(30615)).ActorRdfJoinMultiSmallestFilterBindings({selectivityModifier:1e-4,blockSize:64,mediatorJoinEntriesSort:Ee,mediatorJoin:ut,mediatorJoinSelectivity:M,name:"urn:comunica:default:rdf-join/actors#inner-multi-smallest-filter-bindings",bus:W,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}",beforeActors:[De,pe,Re,Fe,Oe]}),new(s(13125)).ActorQueryResultSerializeSparqlJson({emitMetadata:!0,httpObserver:Je,mediaTypePriorities:{"application/sparql-results+json":.8},mediaTypeFormats:{"application/sparql-results+json":"http://www.w3.org/ns/formats/SPARQL_Results_JSON"},name:"urn:comunica:default:query-result-serialize/actors#sparql-json",bus:l,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"}),new(s(93408)).ActorQueryResultSerializeStats({httpObserver:Ve,mediaTypePriorities:{stats:.5},mediaTypeFormats:{stats:"https://comunica.linkeddatafragments.org/#results_stats"},name:"urn:comunica:default:query-result-serialize/actors#stats",bus:l,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"}),new(s(7779)).ActorQueryProcessExplainParsed({queryProcessor:Ze,name:"urn:comunica:default:query-process/actors#explain-parsed",bus:G,busFailMessage:'Query processing failed: none of the configured actor were process to the query "${action.query}"'}),new(s(42281)).ActorQueryProcessExplainLogical({queryProcessor:Ze,name:"urn:comunica:default:query-process/actors#explain-logical",bus:G,busFailMessage:'Query processing failed: none of the configured actor were process to the query "${action.query}"'}),new(s(35191)).ActorQueryProcessExplainPhysical({queryProcessor:Ze,name:"urn:comunica:default:query-process/actors#explain-physical",bus:G,busFailMessage:'Query processing failed: none of the configured actor were process to the query "${action.query}"'}),new(s(94731)).ActorOptimizeQueryOperationPruneEmptySourceOperations({useAskIfSupported:!1,name:"urn:comunica:default:optimize-query-operation/actors#prune-empty-source-operations",bus:r,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize",beforeActors:[Ue]})),Lt=(new(s(84600)).ActorHttpRetry({mediatorHttp:Ae,httpInvalidator:Ne,name:"urn:comunica:default:http/actors#retry",bus:K,busFailMessage:"HTTP request failed: none of the configured actors were able to handle ${action.input}",beforeActors:[$e]}),new(s(20998)).ActorQuerySourceIdentifyRdfJs({mediatorMergeBindingsContext:J,name:"urn:comunica:default:query-source-identify/actors#rdfjs",bus:U,busFailMessage:"Query source identification failed: none of the configured actors were able to identify ${action.querySourceUnidentified.value}",beforeActors:[st]}),new(s(34905)).ActorQuerySourceIdentifySerialized({mediatorRdfParse:te,mediatorQuerySourceIdentify:it,name:"urn:comunica:default:query-source-identify/actors#serialized",bus:U,busFailMessage:"Query source identification failed: none of the configured actors were able to identify ${action.querySourceUnidentified.value}",beforeActors:[st]}),new(s(79731)).ActorRdfJoinMultiBindSource({selectivityModifier:1e-4,blockSize:16,mediatorJoinEntriesSort:Ee,mediatorJoinSelectivity:M,name:"urn:comunica:default:rdf-join/actors#inner-multi-bind-source",bus:W,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}",beforeActors:[De,ot,pe,Re,Fe,Oe]}),new(s(5118)).ActorOptimizeQueryOperationJoinConnected({name:"urn:comunica:default:optimize-query-operation/actors#join-connected",bus:r,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize",beforeActors:[Ye]})),dt=new(s(60192)).ActorOptimizeQueryOperationBgpToJoin({name:"urn:comunica:default:optimize-query-operation/actors#bgp-to-join",bus:r,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize",beforeActors:[Lt]}),pt=new(s(34304)).ActorOptimizeQueryOperationJoinBgp({name:"urn:comunica:default:optimize-query-operation/actors#join-bgp",bus:r,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize",beforeActors:[dt]}),Ot=new(s(2425)).ActorOptimizeQueryOperationAssignSourcesExhaustive({name:"urn:comunica:default:optimize-query-operation/actors#assign-sources-exhaustive",bus:r,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize",beforeActors:[pt]});return new(s(31399)).ActorOptimizeQueryOperationDescribeToConstructsSubject({name:"urn:comunica:default:optimize-query-operation/actors#describe-to-constructs-subject",bus:r,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize",beforeActors:[Ot]}),Ge}},64468:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(16166),e)},64826:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionMd5=void 0;const c=s(77617),a=s(77545),o=s(75735);class i extends c.TermFunctionBase{constructor(){super({arity:1,operator:a.SparqlOperator.MD5,overloads:(0,a.declare)(a.SparqlOperator.MD5).onString1Typed(()=>n=>(0,a.string)((0,o.hash)(n))).collect()})}}e.TermFunctionMd5=i},64860:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerContainer=void 0;const c=s(7986),a=s(71977),o=s(63847),i=s(47229),t=s(10888);class n{static isSimpleGraphContainer(u){return"@graph"in u&&("@set"in u&&Object.keys(u).length===2||Object.keys(u).length===1)}static isComplexGraphContainer(u){return"@graph"in u&&("@set"in u&&Object.keys(u).length>2||!("@set"in u)&&Object.keys(u).length>1)}static getContainerGraphIndex(u,l,d){let p=n.isSimpleGraphContainer(u),f="";for(let h=l;h<d.length;h++)p&&typeof d[h]!="number"||(f+=":"+d[h]),p||typeof d[h]=="number"||(p=!0);return f}static async getContainerHandler(u,l,d){const p={containers:{"@set":!0},depth:d,fallback:!0};let f=!1;const h=await u.getContext(l,2);for(let y=d-1;y>=0;y--)if(typeof l[y]!="number"){const m=t.Util.getContextValue(h,"@container",l[y],!1);if(m&&n.isSimpleGraphContainer(m))return{containers:m,depth:y+1,fallback:!1};const b=t.Util.getContextValue(h,"@container",l[y-1],!1);if(b){const v="@graph"in b;for(const _ in n.CONTAINER_HANDLERS)if(b[_])return v?n.CONTAINER_HANDLERS[_].canCombineWithGraph()?{containers:b,depth:y,fallback:!1}:p:f?p:{containers:b,depth:y,fallback:!1};return p}if(f)return p;f=!0}return p}static async isBufferableContainerHandler(u,l,d){const p=await n.getContainerHandler(u,l,d);return!p.fallback&&!("@graph"in p.containers)}isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(u,l,d,p,f){return!!await this.test(u,l,null,d,p)}async test(u,l,d,p,f){const h=t.Util.getContextValueContainer(await u.getContext(p,2),p[f-1]);for(const y in n.CONTAINER_HANDLERS)if(h[y])return{containers:h,handler:n.CONTAINER_HANDLERS[y]};return null}async handle(u,l,d,p,f,h,y){return y.handler.handle(y.containers,u,l,p,f,h)}}n.CONTAINER_HANDLERS={"@id":new c.ContainerHandlerIdentifier,"@index":new a.ContainerHandlerIndex,"@language":new o.ContainerHandlerLanguage,"@type":new i.ContainerHandlerType},e.EntryHandlerContainer=n},64900:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SparqlOperator=e.TypeURL=e.typedLiteral=e.TypeAlias=void 0;const c=s(47793);var a;(function(n){n.SPARQL_NUMERIC="SPARQL_NUMERIC",n.SPARQL_STRINGLY="SPARQL_STRINGLY"})(a||(e.TypeAlias=a={}));const o=new c.DataFactory;var i,t;e.typedLiteral=function(n,r){return o.literal(n,o.namedNode(r))},function(n){n.XSD_ANY_URI="http://www.w3.org/2001/XMLSchema#anyURI",n.XSD_STRING="http://www.w3.org/2001/XMLSchema#string",n.RDF_LANG_STRING="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",n.XSD_BOOLEAN="http://www.w3.org/2001/XMLSchema#boolean",n.XSD_DATE_TIME="http://www.w3.org/2001/XMLSchema#dateTime",n.XSD_DATE_TIME_STAMP="http://www.w3.org/2001/XMLSchema#dateTimeStamp",n.XSD_DATE="http://www.w3.org/2001/XMLSchema#date",n.XSD_G_MONTH="http://www.w3.org/2001/XMLSchema#gMonth",n.XSD_G_MONTHDAY="http://www.w3.org/2001/XMLSchema#gMonthDay",n.XSD_G_YEAR="http://www.w3.org/2001/XMLSchema#gYear",n.XSD_G_YEAR_MONTH="http://www.w3.org/2001/XMLSchema#gYearMonth",n.XSD_TIME="http://www.w3.org/2001/XMLSchema#time",n.XSD_G_DAY="http://www.w3.org/2001/XMLSchema#gDay",n.XSD_DECIMAL="http://www.w3.org/2001/XMLSchema#decimal",n.XSD_FLOAT="http://www.w3.org/2001/XMLSchema#float",n.XSD_DOUBLE="http://www.w3.org/2001/XMLSchema#double",n.XSD_INTEGER="http://www.w3.org/2001/XMLSchema#integer",n.XSD_NON_POSITIVE_INTEGER="http://www.w3.org/2001/XMLSchema#nonPositiveInteger",n.XSD_NEGATIVE_INTEGER="http://www.w3.org/2001/XMLSchema#negativeInteger",n.XSD_LONG="http://www.w3.org/2001/XMLSchema#long",n.XSD_INT="http://www.w3.org/2001/XMLSchema#int",n.XSD_SHORT="http://www.w3.org/2001/XMLSchema#short",n.XSD_BYTE="http://www.w3.org/2001/XMLSchema#byte",n.XSD_NON_NEGATIVE_INTEGER="http://www.w3.org/2001/XMLSchema#nonNegativeInteger",n.XSD_POSITIVE_INTEGER="http://www.w3.org/2001/XMLSchema#positiveInteger",n.XSD_UNSIGNED_LONG="http://www.w3.org/2001/XMLSchema#unsignedLong",n.XSD_UNSIGNED_INT="http://www.w3.org/2001/XMLSchema#unsignedInt",n.XSD_UNSIGNED_SHORT="http://www.w3.org/2001/XMLSchema#unsignedShort",n.XSD_UNSIGNED_BYTE="http://www.w3.org/2001/XMLSchema#unsignedByte",n.XSD_NORMALIZED_STRING="http://www.w3.org/2001/XMLSchema#normalizedString",n.XSD_TOKEN="http://www.w3.org/2001/XMLSchema#token",n.XSD_LANGUAGE="http://www.w3.org/2001/XMLSchema#language",n.XSD_NM_TOKEN="http://www.w3.org/2001/XMLSchema#NMTOKEN",n.XSD_NAME="http://www.w3.org/2001/XMLSchema#name",n.XSD_NC_NAME="http://www.w3.org/2001/XMLSchema#NCName",n.XSD_ENTITY="http://www.w3.org/2001/XMLSchema#ENTITY",n.XSD_ID="http://www.w3.org/2001/XMLSchema#ID",n.XSD_ID_REF="http://www.w3.org/2001/XMLSchema#IDREF",n.XSD_DURATION="http://www.w3.org/2001/XMLSchema#duration",n.XSD_YEAR_MONTH_DURATION="http://www.w3.org/2001/XMLSchema#yearMonthDuration",n.XSD_DAY_TIME_DURATION="http://www.w3.org/2001/XMLSchema#dayTimeDuration"}(i||(e.TypeURL=i={})),function(n){n.NOT="!",n.UMINUS="uminus",n.UPLUS="uplus",n.LOGICAL_OR="||",n.LOGICAL_AND="&&",n.EQUAL="=",n.NOT_EQUAL="!=",n.LT="<",n.GT=">",n.LTE="<=",n.GTE=">=",n.SAME_TERM="sameterm",n.IN="in",n.NOT_IN="notin",n.MULTIPLICATION="*",n.DIVISION="/",n.ADDITION="+",n.SUBTRACTION="-",n.IS_IRI="isiri",n.IS_URI="isuri",n.IS_BLANK="isblank",n.IS_LITERAL="isliteral",n.IS_NUMERIC="isnumeric",n.STR="str",n.LANG="lang",n.DATATYPE="datatype",n.IRI="iri",n.URI="uri",n.BNODE="bnode",n.STRDT="strdt",n.STRLANG="strlang",n.UUID="uuid",n.STRUUID="struuid",n.STRLEN="strlen",n.SUBSTR="substr",n.UCASE="ucase",n.LCASE="lcase",n.STRSTARTS="strstarts",n.STRENDS="strends",n.CONTAINS="contains",n.STRBEFORE="strbefore",n.STRAFTER="strafter",n.ENCODE_FOR_URI="encode_for_uri",n.CONCAT="concat",n.LANG_MATCHES="langmatches",n.REGEX="regex",n.REPLACE="replace",n.ABS="abs",n.ROUND="round",n.CEIL="ceil",n.FLOOR="floor",n.RAND="rand",n.NOW="now",n.YEAR="year",n.MONTH="month",n.DAY="day",n.HOURS="hours",n.MINUTES="minutes",n.SECONDS="seconds",n.TIMEZONE="timezone",n.TZ="tz",n.MD5="md5",n.SHA1="sha1",n.SHA256="sha256",n.SHA384="sha384",n.SHA512="sha512",n.TRIPLE="triple",n.SUBJECT="subject",n.PREDICATE="predicate",n.OBJECT="object",n.IS_TRIPLE="istriple",n.BOUND="bound",n.IF="if",n.COALESCE="coalesce"}(t||(e.SparqlOperator=t={}))},64995:function(g,e,s){var c=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(e,"__esModule",{value:!0});const a=s(13079),o=c(s(91409)),i=s(3285);class t{static flatten(r){return Array.prototype.concat(...r).filter(u=>u)}static objectify(r){if(r.termType){if(r.termType==="Quad")return{type:"pattern",termType:"Quad",subject:t.objectify(r.subject),predicate:t.objectify(r.predicate),object:t.objectify(r.object),graph:t.objectify(r.graph)};{let u={termType:r.termType,value:r.value};return r.language&&(u.language=r.language),r.datatype&&(u.datatype=t.objectify(r.datatype)),u}}if(Array.isArray(r))return r.map(u=>t.objectify(u));if(r===Object(r)){let u={};for(let l of Object.keys(r))u[l]=t.objectify(r[l]);return u}return r}static inScopeVariables(r){const u=[];function l(p){u.find(f=>p.value===f.value)||u.push(p)}function d(p){p.subject.termType==="Variable"&&l(p.subject),p.predicate.termType==="Variable"&&l(p.predicate),p.object.termType==="Variable"&&l(p.object),p.graph.termType==="Variable"&&l(p.graph),p.subject.termType==="Quad"&&d(p.subject),p.predicate.termType==="Quad"&&d(p.predicate),p.object.termType==="Quad"&&d(p.object),p.graph.termType==="Quad"&&d(p.graph)}return t.recurseOperation(r,{[a.types.EXPRESSION]:p=>(p.expressionType===a.expressionTypes.AGGREGATE&&p.variable&&l(p.variable),!0),[a.types.EXTEND]:p=>(l(p.variable),!0),[a.types.GRAPH]:p=>(p.name.termType==="Variable"&&l(p.name),!0),[a.types.GROUP]:p=>(p.variables.forEach(l),!0),[a.types.PATH]:p=>(p.subject.termType==="Variable"&&l(p.subject),p.object.termType==="Variable"&&l(p.object),p.graph.termType==="Variable"&&l(p.graph),p.subject.termType==="Quad"&&d(p.subject),p.object.termType==="Quad"&&d(p.object),p.graph.termType==="Quad"&&d(p.graph),!0),[a.types.PATTERN]:p=>(d(p),!0),[a.types.PROJECT]:p=>(p.variables.forEach(l),!1),[a.types.SERVICE]:p=>(p.name.termType==="Variable"&&l(p.name),!0),[a.types.VALUES]:p=>(p.variables.forEach(l),!0)}),u}static recurseOperation(r,u){let l=r,d=!0;const p=u[r.type];if(p&&(d=p(r)),!d)return;let f=h=>t.recurseOperation(h,u);switch(l.type){case a.types.ALT:l.input.map(f);break;case a.types.ASK:f(l.input);break;case a.types.BGP:l.patterns.forEach(f);break;case a.types.CONSTRUCT:f(l.input),l.template.map(f);break;case a.types.DESCRIBE:case a.types.DISTINCT:f(l.input);break;case a.types.EXPRESSION:l.expressionType===a.expressionTypes.EXISTENCE&&f(l.input);break;case a.types.EXTEND:case a.types.FILTER:f(l.input),f(l.expression);break;case a.types.FROM:case a.types.GRAPH:f(l.input);break;case a.types.GROUP:f(l.input),l.aggregates.forEach(f);break;case a.types.INV:f(l.path);break;case a.types.JOIN:l.input.map(f);break;case a.types.LEFT_JOIN:l.input.map(f),l.expression&&f(l.expression);break;case a.types.LINK:break;case a.types.MINUS:l.input.map(f);break;case a.types.NOP:case a.types.NPS:break;case a.types.ONE_OR_MORE_PATH:f(l.path);break;case a.types.ORDER_BY:f(l.input),l.expressions.forEach(f);break;case a.types.PATH:f(l.predicate);break;case a.types.PATTERN:break;case a.types.PROJECT:case a.types.REDUCED:f(l.input);break;case a.types.SEQ:l.input.map(f);break;case a.types.SERVICE:case a.types.SLICE:f(l.input);break;case a.types.UNION:l.input.map(f);break;case a.types.VALUES:break;case a.types.ZERO_OR_MORE_PATH:case a.types.ZERO_OR_ONE_PATH:f(l.path);break;case a.types.COMPOSITE_UPDATE:l.updates.forEach(h=>f(h));break;case a.types.DELETE_INSERT:l.delete&&l.delete.forEach(h=>f(h)),l.insert&&l.insert.forEach(h=>f(h)),l.where&&f(l.where);break;case a.types.LOAD:case a.types.CLEAR:case a.types.CREATE:case a.types.DROP:case a.types.ADD:case a.types.MOVE:case a.types.COPY:break;default:throw new Error(`Unknown Operation type ${l.type}`)}}static mapOperation(r,u,l){let d=r,p=!0,f=!0;l=l||new o.default;const h=u[r.type];if(h){const b=h(r,l);d=b.result,p=b.recurse,f=b.copyMetadata!==!1}let y;if(f&&(d.metadata||r.metadata)&&(y={...d.metadata,...r.metadata}),!p)return y&&(d.metadata=y),d;let m=b=>t.mapOperation(b,u,l);switch(d.type){case a.types.ALT:d=l.createAlt(d.input.map(m));break;case a.types.ASK:d=l.createAsk(m(d.input));break;case a.types.BGP:d=l.createBgp(d.patterns.map(m));break;case a.types.CONSTRUCT:d=l.createConstruct(m(d.input),d.template.map(m));break;case a.types.DESCRIBE:d=l.createDescribe(m(d.input),d.terms);break;case a.types.DISTINCT:d=l.createDistinct(m(d.input));break;case a.types.EXPRESSION:d=t.mapExpression(d,u,l);break;case a.types.EXTEND:d=l.createExtend(m(d.input),d.variable,m(d.expression));break;case a.types.FILTER:d=l.createFilter(m(d.input),m(d.expression));break;case a.types.FROM:d=l.createFrom(m(d.input),[...d.default],[...d.named]);break;case a.types.GRAPH:d=l.createGraph(m(d.input),d.name);break;case a.types.GROUP:d=l.createGroup(m(d.input),[].concat(d.variables),d.aggregates.map(m));break;case a.types.INV:d=l.createInv(m(d.path));break;case a.types.JOIN:d=l.createJoin(d.input.map(m));break;case a.types.LEFT_JOIN:d=l.createLeftJoin(m(d.input[0]),m(d.input[1]),d.expression?m(d.expression):void 0);break;case a.types.LINK:d=l.createLink(d.iri);break;case a.types.MINUS:d=l.createMinus(m(d.input[0]),m(d.input[1]));break;case a.types.NOP:d=l.createNop();break;case a.types.NPS:d=l.createNps([].concat(d.iris));break;case a.types.ONE_OR_MORE_PATH:d=l.createOneOrMorePath(m(d.path));break;case a.types.ORDER_BY:d=l.createOrderBy(m(d.input),d.expressions.map(m));break;case a.types.PATH:d=l.createPath(d.subject,m(d.predicate),d.object,d.graph);break;case a.types.PATTERN:d=l.createPattern(d.subject,d.predicate,d.object,d.graph);break;case a.types.PROJECT:d=l.createProject(m(d.input),[...d.variables]);break;case a.types.REDUCED:d=l.createReduced(m(d.input));break;case a.types.SEQ:d=l.createSeq(d.input.map(m));break;case a.types.SERVICE:d=l.createService(m(d.input),d.name,d.silent);break;case a.types.SLICE:d=l.createSlice(m(d.input),d.start,d.length);break;case a.types.UNION:d=l.createUnion(d.input.map(m));break;case a.types.VALUES:d=l.createValues([].concat(d.variables),d.bindings.map(b=>Object.assign({},b)));break;case a.types.ZERO_OR_MORE_PATH:d=l.createZeroOrMorePath(m(d.path));break;case a.types.ZERO_OR_ONE_PATH:d=l.createZeroOrOnePath(m(d.path));break;case a.types.COMPOSITE_UPDATE:d=l.createCompositeUpdate(d.updates.map(m));break;case a.types.DELETE_INSERT:d=l.createDeleteInsert(d.delete?d.delete.map(m):void 0,d.insert?d.insert.map(m):void 0,d.where?m(d.where):void 0);break;case a.types.LOAD:d=l.createLoad(d.source,d.destination,d.silent);break;case a.types.CLEAR:d=l.createClear(d.source,d.silent);break;case a.types.CREATE:d=l.createCreate(d.source,d.silent);break;case a.types.DROP:d=l.createDrop(d.source,d.silent);break;case a.types.ADD:d=l.createAdd(d.source,d.destination);break;case a.types.MOVE:d=l.createMove(d.source,d.destination);break;case a.types.COPY:d=l.createCopy(d.source,d.destination);break;default:throw new Error(`Unknown Operation type ${d.type}`)}return y&&(d.metadata=y),d}static mapExpression(r,u,l){let d=r,p=!0;l=l||new o.default;const f=u[r.expressionType];if(f&&({result:d,recurse:p}=f(r,l)),!p)return d;let h=y=>t.mapOperation(y,u,l);switch(r.expressionType){case a.expressionTypes.AGGREGATE:return r.variable?l.createBoundAggregate(r.variable,r.aggregator,h(r.expression),r.distinct,r.separator):l.createAggregateExpression(r.aggregator,h(r.expression),r.distinct,r.separator);case a.expressionTypes.EXISTENCE:return l.createExistenceExpression(r.not,h(r.input));case a.expressionTypes.NAMED:return l.createNamedExpression(r.name,r.args.map(h));case a.expressionTypes.OPERATOR:return l.createOperatorExpression(r.operator,r.args.map(h));case a.expressionTypes.TERM:return l.createTermExpression(r.term);case a.expressionTypes.WILDCARD:return l.createWildcardExpression();default:throw new Error(`Unknown Expression type ${r.expressionType}`)}}static cloneOperation(r){return t.mapOperation(r,{})}static cloneExpression(r){return t.mapExpression(r,{})}static createUniqueVariable(r,u,l){let d=0,p=r;for(;u[p];)p=`${r}${d++}`;return l.variable(p)}static isSimpleTerm(r){return r.termType!==void 0&&r.termType!=="Quad"&&r.termType!=="Wildcard"}static isQuad(r){return r.termType==="Quad"}static hasQuadVariables(r){return(0,i.someTermsNested)(r,u=>u.termType==="Variable")}static isWildcard(r){return r.termType==="Wildcard"}}e.default=t},65178:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(20712),e)},65183:(g,e)=>{var s;Object.defineProperty(e,"__esModule",{value:!0}),e.SingularizeState=void 0,(s=e.SingularizeState||(e.SingularizeState={}))[s.SINGLE=0]="SINGLE",s[s.PLURAL=1]="PLURAL"},65239:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(17136),e)},65267:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(66905),e)},65291:(g,e,s)=>{const{MathFloor:c,NumberIsInteger:a}=s(24134),{validateInteger:o}=s(277),{ERR_INVALID_ARG_VALUE:i}=s(76371).codes;let t=16384,n=16;function r(u){return u?n:t}g.exports={getHighWaterMark:function(u,l,d,p){const f=function(h,y,m){return h.highWaterMark!=null?h.highWaterMark:y?h[m]:null}(l,p,d);if(f!=null){if(!a(f)||f<0)throw new i(p?`options.${d}`:"options.highWaterMark",f);return c(f)}return r(u.objectMode)},getDefaultHighWaterMark:r,setDefaultHighWaterMark:function(u,l){o(l,"value",0),u?n=l:t=l}}},65358:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},65569:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermAddition=void 0;const c=s(77617),a=s(77545),o=s(55940);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.SparqlOperator.ADDITION],termFunction:!0})}async run(n){return new o.TermFunctionAddition}}e.ActorFunctionFactoryTermAddition=i},65606:g=>{var e,s,c=g.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(h){if(e===setTimeout)return setTimeout(h,0);if((e===a||!e)&&setTimeout)return e=setTimeout,setTimeout(h,0);try{return e(h,0)}catch{try{return e.call(null,h,0)}catch{return e.call(this,h,0)}}}(function(){try{e=typeof setTimeout=="function"?setTimeout:a}catch{e=a}try{s=typeof clearTimeout=="function"?clearTimeout:o}catch{s=o}})();var t,n=[],r=!1,u=-1;function l(){r&&t&&(r=!1,t.length?n=t.concat(n):u=-1,n.length&&d())}function d(){if(!r){var h=i(l);r=!0;for(var y=n.length;y;){for(t=n,n=[];++u<y;)t&&t[u].run();u=-1,y=n.length}t=null,r=!1,function(m){if(s===clearTimeout)return clearTimeout(m);if((s===o||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(m);try{return s(m)}catch{try{return s.call(null,m)}catch{return s.call(this,m)}}}(h)}}function p(h,y){this.fun=h,this.array=y}function f(){}c.nextTick=function(h){var y=new Array(arguments.length-1);if(arguments.length>1)for(var m=1;m<arguments.length;m++)y[m-1]=arguments[m];n.push(new p(h,y)),n.length!==1||r||i(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=f,c.addListener=f,c.once=f,c.off=f,c.removeListener=f,c.removeAllListeners=f,c.emit=f,c.prependListener=f,c.prependOnceListener=f,c.listeners=function(h){return[]},c.binding=function(h){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(h){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},65621:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.fromCodePoint=e.replaceCodePoint=e.decodeCodePoint=e.xmlDecodeTree=e.htmlDecodeTree=e.EntityDecoder=e.DecodingMode=e.BinTrieFlags=void 0,e.determineBranch=h,e.decodeHTML=function(w,O=r.Legacy){return y(w,O)},e.decodeHTMLAttribute=function(w){return y(w,r.Attribute)},e.decodeHTMLStrict=function(w){return y(w,r.Strict)},e.decodeXML=function(w){return m(w,r.Strict)};const c=s(61892),a=s(69844),o=s(73645);var i,t,n,r;function u(w){return w>=i.ZERO&&w<=i.NINE}function l(w){return w>=i.UPPER_A&&w<=i.UPPER_F||w>=i.LOWER_A&&w<=i.LOWER_F}function d(w){return w===i.EQUALS||function(O){return O>=i.UPPER_A&&O<=i.UPPER_Z||O>=i.LOWER_A&&O<=i.LOWER_Z||u(O)}(w)}(function(w){w[w.NUM=35]="NUM",w[w.SEMI=59]="SEMI",w[w.EQUALS=61]="EQUALS",w[w.ZERO=48]="ZERO",w[w.NINE=57]="NINE",w[w.LOWER_A=97]="LOWER_A",w[w.LOWER_F=102]="LOWER_F",w[w.LOWER_X=120]="LOWER_X",w[w.LOWER_Z=122]="LOWER_Z",w[w.UPPER_A=65]="UPPER_A",w[w.UPPER_F=70]="UPPER_F",w[w.UPPER_Z=90]="UPPER_Z"})(i||(i={})),function(w){w[w.VALUE_LENGTH=49152]="VALUE_LENGTH",w[w.BRANCH_LENGTH=16256]="BRANCH_LENGTH",w[w.JUMP_TABLE=127]="JUMP_TABLE"}(t||(e.BinTrieFlags=t={})),function(w){w[w.EntityStart=0]="EntityStart",w[w.NumericStart=1]="NumericStart",w[w.NumericDecimal=2]="NumericDecimal",w[w.NumericHex=3]="NumericHex",w[w.NamedEntity=4]="NamedEntity"}(n||(n={})),function(w){w[w.Legacy=0]="Legacy",w[w.Strict=1]="Strict",w[w.Attribute=2]="Attribute"}(r||(e.DecodingMode=r={}));class p{constructor(O,A,T){this.decodeTree=O,this.emitCodePoint=A,this.errors=T,this.state=n.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=r.Strict}startEntity(O){this.decodeMode=O,this.state=n.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(O,A){switch(this.state){case n.EntityStart:return O.charCodeAt(A)===i.NUM?(this.state=n.NumericStart,this.consumed+=1,this.stateNumericStart(O,A+1)):(this.state=n.NamedEntity,this.stateNamedEntity(O,A));case n.NumericStart:return this.stateNumericStart(O,A);case n.NumericDecimal:return this.stateNumericDecimal(O,A);case n.NumericHex:return this.stateNumericHex(O,A);case n.NamedEntity:return this.stateNamedEntity(O,A)}}stateNumericStart(O,A){return A>=O.length?-1:(32|O.charCodeAt(A))===i.LOWER_X?(this.state=n.NumericHex,this.consumed+=1,this.stateNumericHex(O,A+1)):(this.state=n.NumericDecimal,this.stateNumericDecimal(O,A))}addToNumericResult(O,A,T,S){if(A!==T){const E=T-A;this.result=this.result*Math.pow(S,E)+Number.parseInt(O.substr(A,E),S),this.consumed+=E}}stateNumericHex(O,A){const T=A;for(;A<O.length;){const S=O.charCodeAt(A);if(!u(S)&&!l(S))return this.addToNumericResult(O,T,A,16),this.emitNumericEntity(S,3);A+=1}return this.addToNumericResult(O,T,A,16),-1}stateNumericDecimal(O,A){const T=A;for(;A<O.length;){const S=O.charCodeAt(A);if(!u(S))return this.addToNumericResult(O,T,A,10),this.emitNumericEntity(S,2);A+=1}return this.addToNumericResult(O,T,A,10),-1}emitNumericEntity(O,A){var T;if(this.consumed<=A)return(T=this.errors)===null||T===void 0||T.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(O===i.SEMI)this.consumed+=1;else if(this.decodeMode===r.Strict)return 0;return this.emitCodePoint((0,o.replaceCodePoint)(this.result),this.consumed),this.errors&&(O!==i.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(O,A){const{decodeTree:T}=this;let S=T[this.treeIndex],E=(S&t.VALUE_LENGTH)>>14;for(;A<O.length;A++,this.excess++){const D=O.charCodeAt(A);if(this.treeIndex=h(T,S,this.treeIndex+Math.max(1,E),D),this.treeIndex<0)return this.result===0||this.decodeMode===r.Attribute&&(E===0||d(D))?0:this.emitNotTerminatedNamedEntity();if(S=T[this.treeIndex],E=(S&t.VALUE_LENGTH)>>14,E!==0){if(D===i.SEMI)return this.emitNamedEntityData(this.treeIndex,E,this.consumed+this.excess);this.decodeMode!==r.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var O;const{result:A,decodeTree:T}=this,S=(T[A]&t.VALUE_LENGTH)>>14;return this.emitNamedEntityData(A,S,this.consumed),(O=this.errors)===null||O===void 0||O.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(O,A,T){const{decodeTree:S}=this;return this.emitCodePoint(A===1?S[O]&~t.VALUE_LENGTH:S[O+1],T),A===3&&this.emitCodePoint(S[O+2],T),T}end(){var O;switch(this.state){case n.NamedEntity:return this.result===0||this.decodeMode===r.Attribute&&this.result!==this.treeIndex?0:this.emitNotTerminatedNamedEntity();case n.NumericDecimal:return this.emitNumericEntity(0,2);case n.NumericHex:return this.emitNumericEntity(0,3);case n.NumericStart:return(O=this.errors)===null||O===void 0||O.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case n.EntityStart:return 0}}}function f(w){let O="";const A=new p(w,T=>O+=(0,o.fromCodePoint)(T));return function(T,S){let E=0,D=0;for(;(D=T.indexOf("&",D))>=0;){O+=T.slice(E,D),A.startEntity(S);const V=A.write(T,D+1);if(V<0){E=D+A.end();break}E=D+V,D=V===0?E+1:E}const I=O+T.slice(E);return O="",I}}function h(w,O,A,T){const S=(O&t.BRANCH_LENGTH)>>7,E=O&t.JUMP_TABLE;if(S===0)return E!==0&&T===E?A:-1;if(E){const V=T-E;return V<0||V>=S?-1:w[A+V]-1}let D=A,I=D+S-1;for(;D<=I;){const V=D+I>>>1,K=w[V];if(K<T)D=V+1;else{if(!(K>T))return w[V+S];I=V-1}}return-1}e.EntityDecoder=p;const y=f(c.htmlDecodeTree),m=f(a.xmlDecodeTree);var b=s(61892);Object.defineProperty(e,"htmlDecodeTree",{enumerable:!0,get:function(){return b.htmlDecodeTree}});var v=s(69844);Object.defineProperty(e,"xmlDecodeTree",{enumerable:!0,get:function(){return v.xmlDecodeTree}});var _=s(73645);Object.defineProperty(e,"decodeCodePoint",{enumerable:!0,get:function(){return _.decodeCodePoint}}),Object.defineProperty(e,"replaceCodePoint",{enumerable:!0,get:function(){return _.replaceCodePoint}}),Object.defineProperty(e,"fromCodePoint",{enumerable:!0,get:function(){return _.fromCodePoint}})},65806:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.readableFromWeb=void 0;var c=s(50952);Object.defineProperty(e,"readableFromWeb",{enumerable:!0,get:function(){return c.readableFromWeb}})},65991:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Mediator=void 0;class s{constructor(a){Object.assign(this,a)}publish(a){const o=this.bus.publish(a);if(o.length===0)throw new Error(`No actors are able to reply to a message in the bus ${this.bus.name}`);return o}async mediateActor(a){return await this.mediateWith(a,this.publish(a))}async mediateTestable(a){return(await this.mediateActor(a)).mapAsync((o,i)=>o.runObservable(a,i))}async mediate(a){return(await this.mediateTestable(a)).getOrThrow()}constructFailureMessage(a,o){const i=`
        `;return`${this.bus.failMessage.replaceAll(/\$\{(.*?)\}/gu,(t,n)=>s.getObjectValue({action:a},n.split("."))||t)}
    Error messages of failing actors:${i}${o.join(i)}`}static getObjectValue(a,o){return o.length===0?a:a?s.getObjectValue(a[o[0]],o.slice(1)):void 0}}e.Mediator=s},66166:(g,e,s)=>{var c=s(67426),a=s(43349);function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}e.BlockHash=o,o.prototype.update=function(i,t){if(i=c.toArray(i,t),this.pending?this.pending=this.pending.concat(i):this.pending=i,this.pendingTotal+=i.length,this.pending.length>=this._delta8){var n=(i=this.pending).length%this._delta8;this.pending=i.slice(i.length-n,i.length),this.pending.length===0&&(this.pending=null),i=c.join32(i,0,i.length-n,this.endian);for(var r=0;r<i.length;r+=this._delta32)this._update(i,r,r+this._delta32)}return this},o.prototype.digest=function(i){return this.update(this._pad()),a(this.pending===null),this._digest(i)},o.prototype._pad=function(){var i=this.pendingTotal,t=this._delta8,n=t-(i+this.padLength)%t,r=new Array(n+this.padLength);r[0]=128;for(var u=1;u<n;u++)r[u]=0;if(i<<=3,this.endian==="big"){for(var l=8;l<this.padLength;l++)r[u++]=0;r[u++]=0,r[u++]=0,r[u++]=0,r[u++]=0,r[u++]=i>>>24&255,r[u++]=i>>>16&255,r[u++]=i>>>8&255,r[u++]=255&i}else for(r[u++]=255&i,r[u++]=i>>>8&255,r[u++]=i>>>16&255,r[u++]=i>>>24&255,r[u++]=0,r[u++]=0,r[u++]=0,r[u++]=0,l=8;l<this.padLength;l++)r[u++]=0;return r}},66218:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(45513),e)},66225:(g,e,s)=>{var c=s(67426).rotr32;function a(t,n,r){return t&n^~t&r}function o(t,n,r){return t&n^t&r^n&r}function i(t,n,r){return t^n^r}e.ft_1=function(t,n,r,u){return t===0?a(n,r,u):t===1||t===3?i(n,r,u):t===2?o(n,r,u):void 0},e.ch32=a,e.maj32=o,e.p32=i,e.s0_256=function(t){return c(t,2)^c(t,13)^c(t,22)},e.s1_256=function(t){return c(t,6)^c(t,11)^c(t,25)},e.g0_256=function(t){return c(t,7)^c(t,18)^t>>>3},e.g1_256=function(t){return c(t,17)^c(t,19)^t>>>10}},66284:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorOptimizeQueryOperationGroupSources=void 0;const c=s(38912),a=s(90711),o=s(90412),i=s(67021),t=s(96331);class n extends c.ActorOptimizeQueryOperation{constructor(u){super(u)}async test(u){return(0,i.getOperationSource)(u.operation)?(0,o.failTest)(`Actor ${this.name} does not work with top-level operation sources.`):(0,o.passTestVoid)()}async run(u){return{operation:await this.groupOperation(u.operation,u.context),context:u.context}}async groupOperation(u,l){const d=l.getSafe(a.KeysInitQuery.dataFactory),p=new t.Factory(d);if((0,i.getOperationSource)(u)??!("input"in u))return u;if(!Array.isArray(u.input)){const m=await this.groupOperation(u.input,l);if(m.metadata?.scopedSource){const b=(0,i.getOperationSource)(m);(0,i.doesShapeAcceptOperation)(await b.source.getSelectorShape(l),u)&&(this.logDebug(l,`Hoist 1 source-specific operation into a single ${u.type} operation for ${b.source.toString()}`),(0,i.removeOperationSource)(m),u=(0,i.assignOperationSource)(u,b))}return{...u,input:m}}const f=await Promise.all(u.input.map(m=>this.groupOperation(m,l))),h=this.clusterOperationsWithEqualSources(f);if(h.length===1){const m=h[0],b=(0,i.getOperationSource)(h[0][0]);return{...await this.moveSourceAnnotationUpwardsIfPossible(u,m,b,l),input:m}}if(h.length===f.length)return{...u,input:f};let y;switch(u.type){case t.Algebra.types.JOIN:y=p.createJoin.bind(p);break;case t.Algebra.types.UNION:y=p.createUnion.bind(p);break;case t.Algebra.types.ALT:y=p.createAlt.bind(p);break;case t.Algebra.types.SEQ:y=p.createSeq.bind(p);break;default:throw new Error(`Unsupported operation '${u.type}' detected while grouping sources`)}return await this.groupOperationMulti(h,y,l)}async groupOperationMulti(u,l,d){let p=!0;const f=await Promise.all(u.map(async h=>{const y=(0,i.getOperationSource)(h[0]),m=await this.moveSourceAnnotationUpwardsIfPossible(l(h,!0),h,y,d);return(0,i.getOperationSource)(m)&&(p=!1),m}));return l(f,p)}clusterOperationsWithEqualSources(u){const l=new Map,d=[];for(const f of u){const h=(0,i.getOperationSource)(f);h?(l.has(h)||l.set(h,[]),l.get(h).push(f)):d.push(f)}const p=[];d.length>0&&p.push(d);for(const[f,h]of l.entries())p.push(h.map(y=>(0,i.assignOperationSource)(y,f)));return p}async moveSourceAnnotationUpwardsIfPossible(u,l,d,p){if(d&&(0,i.doesShapeAcceptOperation)(await d.source.getSelectorShape(p),u)){this.logDebug(p,`Hoist ${l.length} source-specific operations into a single ${u.type} operation for ${d.source.toString()}`),u=(0,i.assignOperationSource)(u,d);for(const f of l)(0,i.removeOperationSource)(f)}return u}}e.ActorOptimizeQueryOperationGroupSources=n},66337:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeHandlerDefinitionAdapter=void 0;const c=s(75566);class a extends c.NodeHandlerAdapter{constructor(i,t,n){super(i,t,n)}}e.NodeHandlerDefinitionAdapter=a},66338:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryResultSerializeSparqlCsv=void 0;const c=s(58871),a=s(90412),o=s(19198);class i extends c.ActorQueryResultSerializeFixedMediaTypes{constructor(n){super(n)}static bindingToCsvBindings(n){if(!n)return"";let r=n.value;if(n.termType==="Literal")r=`${r}`;else if(n.termType==="BlankNode")r=`_:${r}`;else if(n.termType==="Quad"){let u=i.bindingToCsvBindings(n.object);n.object.termType==="Literal"&&(u=`"${u.replaceAll('"','""')}"`),r=`<< ${i.bindingToCsvBindings(n.subject)} ${i.bindingToCsvBindings(n.predicate)} ${u} >>`}else r=`<${r}>`;return/[",\n\r]/u.test(r)&&(r=`"${r.replaceAll('"','""')}"`),r}async testHandleChecked(n,r){return n.type!=="bindings"?(0,a.failTest)("This actor can only handle bindings streams."):(0,a.passTestVoid)()}async runHandle(n,r,u){const l=n,d=new o.Readable,p=await l.metadata();return d.push(`${p.variables.map(f=>f.variable.value).join(",")}\r
`),d.wrap(l.bindingsStream.map(f=>`${p.variables.map(h=>i.bindingToCsvBindings(f.get(h.variable))).join(",")}\r
`)),{data:d}}}e.ActorQueryResultSerializeSparqlCsv=i},66478:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(40589),e)},66486:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.promisifyEventEmitter=void 0,e.promisifyEventEmitter=function(s,c){return new Promise((a,o)=>{s.on("end",()=>a(c)),s.on("error",o)})}},66490:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(31278),e),a(s(95816),e),a(s(33381),e),a(s(74501),e)},66713:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(77955),e)},66882:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(28869),e)},66905:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfJoinOptionalNestedLoop=void 0;const c=s(95445),a=s(90412),o=s(25579);class i extends c.ActorRdfJoin{constructor(n){super(n,{logicalType:"optional",physicalName:"nested-loop",limitEntries:2,canHandleUndefs:!0})}async getOutput(n){return{result:{type:"bindings",bindingsStream:new o.NestedLoopJoin(n.entries[0].output.bindingsStream,n.entries[1].output.bindingsStream,c.ActorRdfJoin.joinBindings,{optional:!0,autoStart:!1}),metadata:async()=>await this.constructResultMetadata(n.entries,await c.ActorRdfJoin.getMetadatas(n.entries),n.context,{},!0)}}}async getJoinCoefficients(n,r){const{metadatas:u}=r,l=c.ActorRdfJoin.getRequestInitialTimes(u),d=c.ActorRdfJoin.getRequestItemTimes(u);return(0,a.passTestWithSideData)({iterations:u[0].cardinality.value*u[1].cardinality.value,persistedItems:0,blockingItems:0,requestTime:l[0]+u[0].cardinality.value*d[0]+l[1]+u[1].cardinality.value*d[1]},r)}}e.ActorRdfJoinOptionalNestedLoop=i},67021:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(37822),e),a(s(11582),e),a(s(6072),e),a(s(45534),e)},67024:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermStrLen=void 0;const c=s(77617),a=s(77545),o=s(76869);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.SparqlOperator.STRLEN],termFunction:!0})}async run(n){return new o.TermFunctionStrLen}}e.ActorFunctionFactoryTermStrLen=i},67057:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeValueHandlerEnum=void 0;const c=s(55009);class a extends c.NodeValueHandlerAdapter{constructor(i,t){super("EnumValue",i,t)}handle(i,t,n){return{terms:[this.util.valueToNamedNode(i.value,n.context)]}}}e.NodeValueHandlerEnum=a},67120:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorHashBindings=void 0;const c=s(90412);class a extends c.Actor{constructor(i){super(i)}}e.ActorHashBindings=a},67186:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(36666),e)},67304:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(96430),e)},67313:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermPredicate=void 0;const c=s(77617),a=s(77545),o=s(14330);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.SparqlOperator.PREDICATE],termFunction:!0})}async run(n){return new o.TermFunctionPredicate}}e.ActorFunctionFactoryTermPredicate=i},67426:(g,e,s)=>{var c=s(43349),a=s(56698);function o(r,u){return(64512&r.charCodeAt(u))==55296&&!(u<0||u+1>=r.length)&&(64512&r.charCodeAt(u+1))==56320}function i(r){return(r>>>24|r>>>8&65280|r<<8&16711680|(255&r)<<24)>>>0}function t(r){return r.length===1?"0"+r:r}function n(r){return r.length===7?"0"+r:r.length===6?"00"+r:r.length===5?"000"+r:r.length===4?"0000"+r:r.length===3?"00000"+r:r.length===2?"000000"+r:r.length===1?"0000000"+r:r}e.inherits=a,e.toArray=function(r,u){if(Array.isArray(r))return r.slice();if(!r)return[];var l=[];if(typeof r=="string")if(u){if(u==="hex")for((r=r.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(r="0"+r),p=0;p<r.length;p+=2)l.push(parseInt(r[p]+r[p+1],16))}else for(var d=0,p=0;p<r.length;p++){var f=r.charCodeAt(p);f<128?l[d++]=f:f<2048?(l[d++]=f>>6|192,l[d++]=63&f|128):o(r,p)?(f=65536+((1023&f)<<10)+(1023&r.charCodeAt(++p)),l[d++]=f>>18|240,l[d++]=f>>12&63|128,l[d++]=f>>6&63|128,l[d++]=63&f|128):(l[d++]=f>>12|224,l[d++]=f>>6&63|128,l[d++]=63&f|128)}else for(p=0;p<r.length;p++)l[p]=0|r[p];return l},e.toHex=function(r){for(var u="",l=0;l<r.length;l++)u+=t(r[l].toString(16));return u},e.htonl=i,e.toHex32=function(r,u){for(var l="",d=0;d<r.length;d++){var p=r[d];u==="little"&&(p=i(p)),l+=n(p.toString(16))}return l},e.zero2=t,e.zero8=n,e.join32=function(r,u,l,d){var p=l-u;c(p%4==0);for(var f=new Array(p/4),h=0,y=u;h<f.length;h++,y+=4){var m;m=d==="big"?r[y]<<24|r[y+1]<<16|r[y+2]<<8|r[y+3]:r[y+3]<<24|r[y+2]<<16|r[y+1]<<8|r[y],f[h]=m>>>0}return f},e.split32=function(r,u){for(var l=new Array(4*r.length),d=0,p=0;d<r.length;d++,p+=4){var f=r[d];u==="big"?(l[p]=f>>>24,l[p+1]=f>>>16&255,l[p+2]=f>>>8&255,l[p+3]=255&f):(l[p+3]=f>>>24,l[p+2]=f>>>16&255,l[p+1]=f>>>8&255,l[p]=255&f)}return l},e.rotr32=function(r,u){return r>>>u|r<<32-u},e.rotl32=function(r,u){return r<<u|r>>>32-u},e.sum32=function(r,u){return r+u>>>0},e.sum32_3=function(r,u,l){return r+u+l>>>0},e.sum32_4=function(r,u,l,d){return r+u+l+d>>>0},e.sum32_5=function(r,u,l,d,p){return r+u+l+d+p>>>0},e.sum64=function(r,u,l,d){var p=r[u],f=d+r[u+1]>>>0,h=(f<d?1:0)+l+p;r[u]=h>>>0,r[u+1]=f},e.sum64_hi=function(r,u,l,d){return(u+d>>>0<u?1:0)+r+l>>>0},e.sum64_lo=function(r,u,l,d){return u+d>>>0},e.sum64_4_hi=function(r,u,l,d,p,f,h,y){var m=0,b=u;return m+=(b=b+d>>>0)<u?1:0,m+=(b=b+f>>>0)<f?1:0,r+l+p+h+(m+=(b=b+y>>>0)<y?1:0)>>>0},e.sum64_4_lo=function(r,u,l,d,p,f,h,y){return u+d+f+y>>>0},e.sum64_5_hi=function(r,u,l,d,p,f,h,y,m,b){var v=0,_=u;return v+=(_=_+d>>>0)<u?1:0,v+=(_=_+f>>>0)<f?1:0,v+=(_=_+y>>>0)<y?1:0,r+l+p+h+m+(v+=(_=_+b>>>0)<b?1:0)>>>0},e.sum64_5_lo=function(r,u,l,d,p,f,h,y,m,b){return u+d+f+y+b>>>0},e.rotr64_hi=function(r,u,l){return(u<<32-l|r>>>l)>>>0},e.rotr64_lo=function(r,u,l){return(r<<32-l|u>>>l)>>>0},e.shr64_hi=function(r,u,l){return r>>>l},e.shr64_lo=function(r,u,l){return(r<<32-l|u>>>l)>>>0}},67444:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermUnaryPlus=void 0;const c=s(77617),a=s(77545),o=s(14695);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.SparqlOperator.UPLUS],termFunction:!0})}async run(n){return new o.TermFunctionUnaryPlus}}e.ActorFunctionFactoryTermUnaryPlus=i},67498:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(10601),e)},67526:(g,e)=>{e.byteLength=function(u){var l=t(u),d=l[0],p=l[1];return 3*(d+p)/4-p},e.toByteArray=function(u){var l,d,p=t(u),f=p[0],h=p[1],y=new a(function(v,_,w){return 3*(_+w)/4-w}(0,f,h)),m=0,b=h>0?f-4:f;for(d=0;d<b;d+=4)l=c[u.charCodeAt(d)]<<18|c[u.charCodeAt(d+1)]<<12|c[u.charCodeAt(d+2)]<<6|c[u.charCodeAt(d+3)],y[m++]=l>>16&255,y[m++]=l>>8&255,y[m++]=255&l;return h===2&&(l=c[u.charCodeAt(d)]<<2|c[u.charCodeAt(d+1)]>>4,y[m++]=255&l),h===1&&(l=c[u.charCodeAt(d)]<<10|c[u.charCodeAt(d+1)]<<4|c[u.charCodeAt(d+2)]>>2,y[m++]=l>>8&255,y[m++]=255&l),y},e.fromByteArray=function(u){for(var l,d=u.length,p=d%3,f=[],h=16383,y=0,m=d-p;y<m;y+=h)f.push(r(u,y,y+h>m?m:y+h));return p===1?(l=u[d-1],f.push(s[l>>2]+s[l<<4&63]+"==")):p===2&&(l=(u[d-2]<<8)+u[d-1],f.push(s[l>>10]+s[l>>4&63]+s[l<<2&63]+"=")),f.join("")};for(var s=[],c=[],a=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0;i<64;++i)s[i]=o[i],c[o.charCodeAt(i)]=i;function t(u){var l=u.length;if(l%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var d=u.indexOf("=");return d===-1&&(d=l),[d,d===l?0:4-d%4]}function n(u){return s[u>>18&63]+s[u>>12&63]+s[u>>6&63]+s[63&u]}function r(u,l,d){for(var p,f=[],h=l;h<d;h+=3)p=(u[h]<<16&16711680)+(u[h+1]<<8&65280)+(255&u[h+2]),f.push(n(p));return f.join("")}c[45]=62,c[95]=63},67528:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermIsBlank=void 0;const c=s(77617),a=s(77545),o=s(89195);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.SparqlOperator.IS_BLANK],termFunction:!0})}async run(n){return new o.TermFunctionIsBlank}}e.ActorFunctionFactoryTermIsBlank=i},67538:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.RdfStoreIndexNestedRecordQuoted=void 0;const c=s(95439),a=s(80766);class o extends a.RdfStoreIndexNestedRecord{constructor(t){super(t),this.features={quotedTripleFiltering:!0}}*getQuotedPatternKeys(t,n){for(const r of this.dictionary.findQuotedTriplesEncoded(n))r in t&&(yield r)}*find(t){const n=(0,c.encodeOptionalTerms)(t,this.dictionary);if(!n)return;const[r,u,l,d]=n,[p,f,h,y]=t,[m,b,v,_]=(0,c.arePatternsQuoted)(t);let w,O,A,T,S,E,D;const I=this.nestedRecords,V=p!==void 0?m?this.getQuotedPatternKeys(I,p):r in I?[r]:[]:Object.keys(I);for(const K of V){S=I[K],w=!m&&p?p:this.dictionary.decode(Number.parseInt(K,10));const B=f!==void 0?b?this.getQuotedPatternKeys(S,f):u in S?[u]:[]:Object.keys(S);for(const $ of B){E=S[$],O=!b&&f?f:this.dictionary.decode(Number.parseInt($,10));const G=h!==void 0?v?this.getQuotedPatternKeys(E,h):l in E?[l]:[]:Object.keys(E);for(const U of G){D=E[U],A=!v&&h?h:this.dictionary.decode(Number.parseInt(U,10));const W=y!==void 0?_?this.getQuotedPatternKeys(D,y):d in D?[d]:[]:Object.keys(D);for(const ye of W)T=!_&&y?y:this.dictionary.decode(Number.parseInt(ye,10)),yield[w,O,A,T]}}}}*findEncoded(t,n){const[r,u,l,d]=t,[p,f,h,y]=n,[m,b,v,_]=(0,c.arePatternsQuoted)(n);let w,O,A;const T=this.nestedRecords,S=p!==void 0?m?this.getQuotedPatternKeys(T,p):r in T?[r]:[]:Object.keys(T);for(const E of S){w=T[E];const D=f!==void 0?b?this.getQuotedPatternKeys(w,f):u in w?[u]:[]:Object.keys(w);for(const I of D){O=w[I];const V=h!==void 0?v?this.getQuotedPatternKeys(O,h):l in O?[l]:[]:Object.keys(O);for(const K of V){A=O[K];const B=y!==void 0?_?this.getQuotedPatternKeys(A,y):d in A?[d]:[]:Object.keys(A);for(const $ of B)yield[Number.parseInt(E,10),Number.parseInt(I,10),Number.parseInt(K,10),Number.parseInt($,10)]}}}}count(t){let n=0;const r=(0,c.encodeOptionalTerms)(t,this.dictionary);if(!r)return 0;const[u,l,d,p]=r,[f,h,y,m]=t,[b,v,_,w]=(0,c.arePatternsQuoted)(t);let O,A,T;const S=this.nestedRecords,E=f!==void 0?b?this.getQuotedPatternKeys(S,f):u in S?[u]:[]:Object.keys(S);for(const D of E){O=S[D];const I=h!==void 0?v?this.getQuotedPatternKeys(O,h):l in O?[l]:[]:Object.keys(O);for(const V of I){A=O[V];const K=y!==void 0?_?this.getQuotedPatternKeys(A,y):d in A?[d]:[]:Object.keys(A);for(const B of K)T=A[B],m!==void 0?w?n+=[...this.getQuotedPatternKeys(T,m)].length:p in T&&n++:n+=Object.keys(T).length}}return n}}e.RdfStoreIndexNestedRecordQuoted=o},67626:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ExpressionFunctionCoalesce=void 0;const c=s(77617),a=s(77545);class o extends c.ExpressionFunctionBase{constructor(){super({arity:Number.POSITIVE_INFINITY,operator:a.SparqlOperator.COALESCE,apply:async({args:t,mapping:n,exprEval:r})=>{const u=[];for(const l of t)try{return await r.evaluatorExpressionEvaluation(l,n)}catch(d){u.push(d)}throw new a.CoalesceError(u)}})}}e.ExpressionFunctionCoalesce=o},67726:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FetchDocumentLoader=void 0,s(86547);const c=s(44063),a=s(2384),o=s(70742);e.FetchDocumentLoader=class{constructor(i){this.fetcher=i}async load(i){const t=await(this.fetcher||fetch)(i,{headers:new Headers({accept:"application/ld+json"})});if(t.ok&&t.headers){let n=t.headers.get("Content-Type");if(n){const r=n.indexOf(";");r>0&&(n=n.substr(0,r))}if(n==="application/ld+json")return await t.json();if(t.headers.has("Link")){let r;if(t.headers.forEach((u,l)=>{if(l==="link"){const d=(0,a.parse)(u);for(const p of d.get("type","application/ld+json"))if(p.rel==="alternate"){if(r)throw new Error("Multiple JSON-LD alternate links were found on "+i);r=(0,o.resolve)(p.uri,i)}}}),r)return this.load(r)}throw new c.ErrorCoded(`Unsupported JSON-LD media type ${n}`,c.ERROR_CODES.LOADING_DOCUMENT_FAILED)}throw new Error(t.statusText||`Status code: ${t.status}`)}}},67797:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DirectiveNodeHandlerAdapter=void 0,e.DirectiveNodeHandlerAdapter=class{constructor(s,c,a){this.targetKind=s,this.util=c,this.settings=a}getDirectiveConditionalValue(s,c){const a=this.util.getArgument(s.arguments,"if");if(!a)throw new Error(`The directive ${s.name.value} is missing an if-argument.`);const o=this.util.handleNodeValue(a.value,a.name.value,c);if(o.terms.length!==1)throw new Error(`Can not apply the directive ${s.name.value} with a list.`);return o.terms[0]}isDirectiveScopeAll(s){const c=this.util.getArgument(s.arguments,"scope");return c&&c.value.kind==="EnumValue"&&c.value.value==="all"}}},67831:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(45762),e)},67986:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DataFactory=void 0;const c=s(1078),a=s(18021),o=s(68159),i=s(59257),t=s(98701),n=s(74010);let r=0;e.DataFactory=class{constructor(u){this.blankNodeCounter=0,u=u||{},this.blankNodePrefix=u.blankNodePrefix||`df_${r++}_`}namedNode(u){return new i.NamedNode(u)}blankNode(u){return new c.BlankNode(u||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(u,l){return new o.Literal(u,l)}variable(u){return new n.Variable(u)}defaultGraph(){return a.DefaultGraph.INSTANCE}quad(u,l,d,p){return new t.Quad(u,l,d,p||this.defaultGraph())}fromTerm(u){switch(u.termType){case"NamedNode":return this.namedNode(u.value);case"BlankNode":return this.blankNode(u.value);case"Literal":return u.language?this.literal(u.value,u.language):u.datatype.equals(o.Literal.XSD_STRING)?this.literal(u.value):this.literal(u.value,this.fromTerm(u.datatype));case"Variable":return this.variable(u.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(u.subject),this.fromTerm(u.predicate),this.fromTerm(u.object),this.fromTerm(u.graph))}}fromQuad(u){return this.fromTerm(u)}resetBlankNodeCounter(){this.blankNodeCounter=0}}},68159:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Literal=void 0;const c=s(59257);class a{constructor(i,t){this.termType="Literal",this.value=i,typeof t=="string"?(this.language=t,this.datatype=a.RDF_LANGUAGE_STRING,this.direction=""):t?"termType"in t?(this.language="",this.datatype=t,this.direction=""):(this.language=t.language,this.datatype=t.direction?a.RDF_DIRECTIONAL_LANGUAGE_STRING:a.RDF_LANGUAGE_STRING,this.direction=t.direction||""):(this.language="",this.datatype=a.XSD_STRING,this.direction="")}equals(i){return!!i&&i.termType==="Literal"&&i.value===this.value&&i.language===this.language&&(i.direction===this.direction||!i.direction&&this.direction==="")&&this.datatype.equals(i.datatype)}}e.Literal=a,a.RDF_LANGUAGE_STRING=new c.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),a.RDF_DIRECTIONAL_LANGUAGE_STRING=new c.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#dirLangString"),a.XSD_STRING=new c.NamedNode("http://www.w3.org/2001/XMLSchema#string")},68219:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorOptimizeQueryOperationBgpToJoin=void 0;const c=s(38912),a=s(90711),o=s(90412),i=s(96331);class t extends c.ActorOptimizeQueryOperation{async test(r){return(0,o.passTestVoid)()}async run(r){const u=r.context.getSafe(a.KeysInitQuery.dataFactory),l=new i.Factory(u);return{operation:i.Util.mapOperation(r.operation,{bgp:(d,p)=>({recurse:!1,result:p.createJoin(d.patterns)})},l),context:r.context}}}e.ActorOptimizeQueryOperationBgpToJoin=t},68225:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ParseType=e.RdfXmlParser=void 0;const c=s(70742),a=s(55201),o=s(19198),i=s(5916),t=s(47793),n=s(17024);class r extends o.Transform{constructor(d){super({readableObjectMode:!0}),this.activeTagStack=[],this.nodeIds={},d&&(Object.assign(this,d),this.options=d),this.dataFactory||(this.dataFactory=new t.DataFactory),this.baseIRI||(this.baseIRI=""),this.defaultGraph||(this.defaultGraph=this.dataFactory.defaultGraph()),this.validateUri!==!1&&(this.validateUri=!0),this.iriValidationStrategy||(this.iriValidationStrategy=this.validateUri?n.IriValidationStrategy.Pragmatic:n.IriValidationStrategy.None),this.saxParser=new a.SaxesParser({xmlns:!0,position:this.trackPosition}),this.attachSaxListeners()}import(d){const p=new o.PassThrough({readableObjectMode:!0});d.on("error",h=>f.emit("error",h)),d.on("data",h=>p.push(h)),d.on("end",()=>p.push(null));const f=p.pipe(new r(this.options));return f}_transform(d,p,f){try{this.saxParser.write(d)}catch(h){return f(h)}f()}newParseError(d){return new i.ParseError(this,d)}valueToUri(d,p){return this.uriToNamedNode((0,c.resolve)(d,p.baseIRI))}uriToNamedNode(d){const p=(0,n.validateIri)(d,this.iriValidationStrategy);if(p instanceof Error)throw this.newParseError(p.message);return this.dataFactory.namedNode(d)}validateNcname(d){if(!r.NCNAME_MATCHER.test(d))throw this.newParseError(`Not a valid NCName: ${d}`)}attachSaxListeners(){this.saxParser.on("error",d=>this.emit("error",d)),this.saxParser.on("opentag",this.onTag.bind(this)),this.saxParser.on("text",this.onText.bind(this)),this.saxParser.on("cdata",this.onText.bind(this)),this.saxParser.on("closetag",this.onCloseTag.bind(this)),this.saxParser.on("doctype",this.onDoctype.bind(this))}onTag(d){const p=this.activeTagStack.length?this.activeTagStack[this.activeTagStack.length-1]:null;let f=u.RESOURCE;if(p&&(p.hadChildren=!0,f=p.childrenParseType),p&&p.childrenStringTags){const y=d.name;let m="";for(const _ in d.attributes)m+=` ${_}="${d.attributes[_].value}"`;const b=`<${y}${m}>`;p.childrenStringTags.push(b);const v={childrenStringTags:p.childrenStringTags};return v.childrenStringEmitClosingTag=`</${y}>`,void this.activeTagStack.push(v)}const h={};p?(h.language=p.language,h.baseIRI=p.baseIRI):h.baseIRI=this.baseIRI,this.activeTagStack.push(h),f===u.RESOURCE?this.onTagResource(d,h,p,!p):this.onTagProperty(d,h,p)}onTagResource(d,p,f,h){p.childrenParseType=u.PROPERTY;let y=!0;if(d.uri===r.RDF){if(!h&&r.FORBIDDEN_NODE_ELEMENTS.indexOf(d.local)>=0)throw this.newParseError(`Illegal node element name: ${d.local}`);switch(d.local){case"RDF":p.childrenParseType=u.RESOURCE;case"Description":y=!1}}const m=[],b=[];let v=null,_=!1,w=!1,O=null;for(const A in d.attributes){const T=d.attributes[A];if(f&&T.uri===r.RDF)switch(T.local){case"about":if(v)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${T.value} and ${v} where found.`);v=T.value;continue;case"ID":if(v)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${T.value} and ${v} where found.`);this.validateNcname(T.value),v="#"+T.value,_=!0;continue;case"nodeID":if(v)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${T.value} and ${v} where found.`);this.validateNcname(T.value),v=T.value,w=!0;continue;case"bagID":throw this.newParseError("rdf:bagID is not supported.");case"type":O=T.value;continue;case"aboutEach":throw this.newParseError("rdf:aboutEach is not supported.");case"aboutEachPrefix":throw this.newParseError("rdf:aboutEachPrefix is not supported.");case"li":throw this.newParseError("rdf:li on node elements are not supported.")}else if(T.uri===r.XML){if(T.local==="lang"){p.language=T.value===""?null:T.value.toLowerCase();continue}if(T.local==="base"){p.baseIRI=(0,c.resolve)(T.value,p.baseIRI);continue}}T.prefix==="xml"||T.prefix==="xmlns"||T.prefix===""&&T.local==="xmlns"||!T.uri||(m.push(this.uriToNamedNode(T.uri+T.local)),b.push(T.value))}if(v!==null&&(p.subject=w?this.dataFactory.blankNode(v):this.valueToUri(v,p),_&&this.claimNodeId(p.subject)),p.subject||(p.subject=this.dataFactory.blankNode()),y){const A=this.uriToNamedNode(d.uri+d.local);this.emitTriple(p.subject,this.dataFactory.namedNode(r.RDF+"type"),A,f?f.reifiedStatementId:null)}if(f){if(f.predicate)if(f.childrenCollectionSubject){const A=this.dataFactory.blankNode();this.emitTriple(f.childrenCollectionSubject,f.childrenCollectionPredicate,A,f.reifiedStatementId),this.emitTriple(A,this.dataFactory.namedNode(r.RDF+"first"),p.subject,p.reifiedStatementId),f.childrenCollectionSubject=A,f.childrenCollectionPredicate=this.dataFactory.namedNode(r.RDF+"rest")}else{this.emitTriple(f.subject,f.predicate,p.subject,f.reifiedStatementId);for(let A=0;A<f.predicateSubPredicates.length;A++)this.emitTriple(p.subject,f.predicateSubPredicates[A],f.predicateSubObjects[A],null);f.predicateSubPredicates=[],f.predicateSubObjects=[],f.predicateEmitted=!0}for(let A=0;A<m.length;A++){const T=this.dataFactory.literal(b[A],p.datatype||p.language);this.emitTriple(p.subject,m[A],T,f.reifiedStatementId)}O&&this.emitTriple(p.subject,this.dataFactory.namedNode(r.RDF+"type"),this.uriToNamedNode(O),null)}}onTagProperty(d,p,f){if(p.childrenParseType=u.RESOURCE,p.subject=f.subject,d.uri===r.RDF&&d.local==="li"?(f.listItemCounter||(f.listItemCounter=1),p.predicate=this.uriToNamedNode(d.uri+"_"+f.listItemCounter++)):p.predicate=this.uriToNamedNode(d.uri+d.local),d.uri===r.RDF&&r.FORBIDDEN_PROPERTY_ELEMENTS.indexOf(d.local)>=0)throw this.newParseError(`Illegal property element name: ${d.local}`);p.predicateSubPredicates=[],p.predicateSubObjects=[];let h=!1,y=!1,m=null,b=!0;const v=[],_=[];for(const w in d.attributes){const O=d.attributes[w];if(O.uri===r.RDF)switch(O.local){case"resource":if(m)throw this.newParseError(`Found both rdf:resource (${O.value}) and rdf:nodeID (${m}).`);if(h)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:resource (${O.value})`);p.hadChildren=!0,m=O.value,b=!1;continue;case"datatype":if(y)throw this.newParseError(`Found both non-rdf:* property attributes and rdf:datatype (${O.value}).`);if(h)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:datatype (${O.value})`);p.datatype=this.valueToUri(O.value,p);continue;case"nodeID":if(y)throw this.newParseError(`Found both non-rdf:* property attributes and rdf:nodeID (${O.value}).`);if(p.hadChildren)throw this.newParseError(`Found both rdf:resource and rdf:nodeID (${O.value}).`);if(h)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:nodeID (${O.value})`);this.validateNcname(O.value),p.hadChildren=!0,m=O.value,b=!0;continue;case"bagID":throw this.newParseError("rdf:bagID is not supported.");case"parseType":if(y)throw this.newParseError("rdf:parseType is not allowed when non-rdf:* property attributes are present");if(p.datatype)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:datatype (${p.datatype.value})`);if(m)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:nodeID or rdf:resource (${m})`);if(O.value==="Resource"){h=!0,p.childrenParseType=u.PROPERTY;const A=this.dataFactory.blankNode();this.emitTriple(p.subject,p.predicate,A,p.reifiedStatementId),p.subject=A,p.predicate=null}else O.value==="Collection"?(h=!0,p.hadChildren=!0,p.childrenCollectionSubject=p.subject,p.childrenCollectionPredicate=p.predicate,b=!1):O.value==="Literal"&&(h=!0,p.childrenTagsToString=!0,p.childrenStringTags=[]);continue;case"ID":this.validateNcname(O.value),p.reifiedStatementId=this.valueToUri("#"+O.value,p),this.claimNodeId(p.reifiedStatementId);continue}else if(O.uri===r.XML&&O.local==="lang"){p.language=O.value===""?null:O.value.toLowerCase();continue}if(O.prefix!=="xml"&&O.prefix!=="xmlns"&&(O.prefix!==""||O.local!=="xmlns")&&O.uri){if(h||p.datatype)throw this.newParseError(`Found illegal rdf:* properties on property element with attribute: ${O.value}`);p.hadChildren=!0,y=!0,v.push(this.uriToNamedNode(O.uri+O.local)),_.push(this.dataFactory.literal(O.value,p.datatype||p.language))}}if(m!==null){const w=p.subject;p.subject=b?this.dataFactory.blankNode(m):this.valueToUri(m,p),this.emitTriple(w,p.predicate,p.subject,p.reifiedStatementId);for(let O=0;O<v.length;O++)this.emitTriple(p.subject,v[O],_[O],null);p.predicateEmitted=!0}else b&&(p.predicateSubPredicates=v,p.predicateSubObjects=_,p.predicateEmitted=!1)}emitTriple(d,p,f,h){this.push(this.dataFactory.quad(d,p,f,this.defaultGraph)),h&&(this.push(this.dataFactory.quad(h,this.dataFactory.namedNode(r.RDF+"type"),this.dataFactory.namedNode(r.RDF+"Statement"),this.defaultGraph)),this.push(this.dataFactory.quad(h,this.dataFactory.namedNode(r.RDF+"subject"),d,this.defaultGraph)),this.push(this.dataFactory.quad(h,this.dataFactory.namedNode(r.RDF+"predicate"),p,this.defaultGraph)),this.push(this.dataFactory.quad(h,this.dataFactory.namedNode(r.RDF+"object"),f,this.defaultGraph)))}claimNodeId(d){if(!this.allowDuplicateRdfIds){if(this.nodeIds[d.value])throw this.newParseError(`Found multiple occurrences of rdf:ID='${d.value}'.`);this.nodeIds[d.value]=!0}}onText(d){const p=this.activeTagStack.length?this.activeTagStack[this.activeTagStack.length-1]:null;p&&(p.childrenStringTags?p.childrenStringTags.push(d):p.predicate&&(p.text=d))}onCloseTag(){const d=this.activeTagStack.pop();if(d.childrenStringEmitClosingTag&&d.childrenStringTags.push(d.childrenStringEmitClosingTag),d.childrenTagsToString&&(d.datatype=this.dataFactory.namedNode(r.RDF+"XMLLiteral"),d.text=d.childrenStringTags.join(""),d.hadChildren=!1),d.childrenCollectionSubject)this.emitTriple(d.childrenCollectionSubject,d.childrenCollectionPredicate,this.dataFactory.namedNode(r.RDF+"nil"),d.reifiedStatementId);else if(d.predicate)if(d.hadChildren||d.childrenParseType===u.PROPERTY){if(!d.predicateEmitted){const p=this.dataFactory.blankNode();this.emitTriple(d.subject,d.predicate,p,d.reifiedStatementId);for(let f=0;f<d.predicateSubPredicates.length;f++)this.emitTriple(p,d.predicateSubPredicates[f],d.predicateSubObjects[f],null)}}else this.emitTriple(d.subject,d.predicate,this.dataFactory.literal(d.text||"",d.datatype||d.language),d.reifiedStatementId)}onDoctype(d){d.replace(/<!ENTITY\s+([^\s]+)\s+["']([^"']+)["']\s*>/g,(p,f,h)=>(this.saxParser.ENTITIES[f]=h,""))}}var u;e.RdfXmlParser=r,r.MIME_TYPE="application/rdf+xml",r.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",r.XML="http://www.w3.org/XML/1998/namespace",r.FORBIDDEN_NODE_ELEMENTS=["RDF","ID","about","bagID","parseType","resource","nodeID","li","aboutEach","aboutEachPrefix"],r.FORBIDDEN_PROPERTY_ELEMENTS=["Description","RDF","ID","about","bagID","parseType","resource","nodeID","aboutEach","aboutEachPrefix"],r.NCNAME_MATCHER=/^([A-Za-z\xC0-\xD6\xD8-\xF6\u{F8}-\u{2FF}\u{370}-\u{37D}\u{37F}-\u{1FFF}\u{200C}-\u{200D}\u{2070}-\u{218F}\u{2C00}-\u{2FEF}\u{3001}-\u{D7FF}\u{F900}-\u{FDCF}\u{FDF0}-\u{FFFD}\u{10000}-\u{EFFFF}_])([A-Za-z\xC0-\xD6\xD8-\xF6\u{F8}-\u{2FF}\u{370}-\u{37D}\u{37F}-\u{1FFF}\u{200C}-\u{200D}\u{2070}-\u{218F}\u{2C00}-\u{2FEF}\u{3001}-\u{D7FF}\u{F900}-\u{FDCF}\u{FDF0}-\u{FFFD}\u{10000}-\u{EFFFF}_\-.0-9#xB7\u{0300}-\u{036F}\u{203F}-\u{2040}])*$/u,function(l){l[l.RESOURCE=0]="RESOURCE",l[l.PROPERTY=1]="PROPERTY"}(u||(e.ParseType=u={}))},68307:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryDedicated=void 0;const c=s(90412),a=s(1028);class o extends a.ActorFunctionFactory{constructor(t){super(t)}async test(t){return!this.functionNames.includes(t.functionName)||!this.termFunction&&t.requireTermExpression?(0,c.failTest)(`Actor ${this.name} can not provide implementation for "${t.functionName}", only for ${this.termFunction?"":"non-termExpression "}${this.functionNames.join(" and ")}.`):(0,c.passTestVoid)()}}e.ActorFunctionFactoryDedicated=o},68337:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermDictionaryQuotedIndexed=void 0;const c=s(28664),a=s(42449),o=s(95439);class i{constructor(n,r=new c.DataFactory){this.quotedTriplesDictionary=[],this.features={quotedTriples:!0},this.plainTermDictionary=n;const u={indexCombinations:[],indexConstructor:void 0,dictionary:this,dataFactory:r};this.quotedTriplesReverseDictionaries=[new a.RdfStoreIndexNestedMap(u),new a.RdfStoreIndexNestedMap(u),new a.RdfStoreIndexNestedMap(u)],this.dataFactory=r}encode(n){return n.termType==="Quad"?this.encodeQuotedTriple(n,!1):this.plainTermDictionary.encode(n)}encodeQuotedTriple(n,r){if(n.graph.termType!=="DefaultGraph")throw new Error("Encoding of quoted quads outside of the default graph is not allowed");const u=(0,o.encodeOptionalTerms)([n.subject,n.predicate,n.object,n.graph],this),l=u&&u.every(h=>h!==void 0)?this.quotedTriplesReverseDictionaries[0].getEncoded(u):void 0;if(l!==void 0||r)return l===void 0?void 0:i.BITMASK|l;const d=[this.encode(n.subject),this.encode(n.predicate),this.encode(n.object)],p=this.quotedTriplesDictionary.length+1;this.quotedTriplesDictionary.push(d);const f=this.encode(this.dataFactory.defaultGraph());return this.quotedTriplesReverseDictionaries[0].set([d[0],d[1],d[2],f],p),this.quotedTriplesReverseDictionaries[1].set([d[1],d[2],d[0],f],p),this.quotedTriplesReverseDictionaries[2].set([d[2],d[0],d[1],f],p),i.BITMASK|p}encodeOptional(n){return n.termType==="Quad"?this.encodeQuotedTriple(n,!0):this.plainTermDictionary.encodeOptional(n)}decode(n){if(i.BITMASK&n){const r=(~i.BITMASK&n)-1;if(r>=this.quotedTriplesDictionary.length)throw new Error(`The value ${n} is not present in the quoted triples range of the dictionary`);const u=this.quotedTriplesDictionary[r];return this.dataFactory.quad(this.decode(u[0]),this.decode(u[1]),this.decode(u[2]))}return this.plainTermDictionary.decode(n)}*encodings(){for(const n of this.plainTermDictionary.encodings())yield n;for(const n of this.quotedTriplesDictionary.keys())yield i.BITMASK|1+n}*findQuotedTriples(n){for(const r of this.findQuotedTriplesEncoded(n))yield this.decode(r)}*findQuotedTriplesEncoded(n){const[r,u]=(0,o.quadToPattern)(n.subject,n.predicate,n.object,n.graph,!0);for(const l of this.patternToIterable(r[0]))for(const d of this.patternToIterable(r[1]))for(const p of this.patternToIterable(r[2]))for(const f of this.patternToIterable(r[3]))if(l&&d||!d&&!p){const h=[l,d,p,f];for(const y of this.quotedTriplesReverseDictionaries[0].findEncoded(h,r))yield i.BITMASK|this.quotedTriplesReverseDictionaries[0].getEncoded(y)}else if(!l&&d){const h=[d,p,l,f];for(const y of this.quotedTriplesReverseDictionaries[1].findEncoded(h,r))yield i.BITMASK|this.quotedTriplesReverseDictionaries[1].getEncoded(y)}else{const h=[p,l,d,f];for(const y of this.quotedTriplesReverseDictionaries[2].findEncoded(h,r))yield i.BITMASK|this.quotedTriplesReverseDictionaries[2].getEncoded(y)}}*patternToIterable(n){if(n?.termType==="Quad")return void(yield*this.findQuotedTriplesEncoded(n));if(n===void 0)return void(yield);const r=this.encodeOptional(n);r!==void 0&&(yield r)}}e.TermDictionaryQuotedIndexed=i,i.BITMASK=1<<31},68350:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(13824),e)},68395:g=>{g.exports=JSON.parse('{"http://schema.org/":{"properties":{"additionalType":{"subPropertyOf":"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"}}},"http://microformats.org/profile/hcard":{}}')},68435:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryExpressionIf=void 0;const c=s(77617),a=s(77545),o=s(20550);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.SparqlOperator.IF],termFunction:!1})}async run(n){return new o.ExpressionFunctionIf}}e.ActorFunctionFactoryExpressionIf=i},68545:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(67313),e)},68686:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ItemPropertyHandlerContent=void 0,e.ItemPropertyHandlerContent=class{canHandle(s,c){return"content"in c}getObject(s,c,a){return c.createLiteral(s.content,a)}}},69e3:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfParseShaclc=void 0;const c=s(95124),a=s(52728),o=s(19198),i=s(37141),t=s(44680);class n extends c.ActorRdfParseFixedMediaTypes{constructor(u){super(u)}async runHandle(u,l,d){const p=new t.PrefixWrappingIterator((0,a.stringify)(u.data).then(h=>(0,i.parse)(h,{extendedSyntax:l==="text/shaclc-ext",baseIRI:u.metadata?.baseIRI}))),f=new o.Readable({objectMode:!0});return p.on("prefix",(...h)=>f.emit("prefix",...h)),{data:f.wrap(p),metadata:{triples:!0}}}}e.ActorRdfParseShaclc=n},69160:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfUpdateQuadsRdfJsStore=void 0;const c=s(16657),a=s(90711),o=s(90412),i=s(29200);class t extends c.ActorRdfUpdateQuadsDestination{constructor(r){super(r)}async test(r){const u=(0,c.getContextDestination)(r.context);return!u||typeof u=="string"||!("remove"in u)&&"value"in u&&!u.value?.remove?(0,o.failTest)(`${this.name} received an invalid rdfjsStore.`):(0,o.passTestVoid)()}async getDestination(r){const u=(0,c.getContextDestination)(r);return new i.RdfJsQuadDestination(r.getSafe(a.KeysInitQuery.dataFactory),"remove"in u?u:u.value)}}e.ActorRdfUpdateQuadsRdfJsStore=t},69165:(g,e)=>{function s(a){for(var o=0;o<a.length;++o)if(a[o]!==" "&&a[o]!=="	")return!1;return!0}function c(a){for(var o,i=!0,t=!0,n=0,r=null,u=0;u<a.length;++u)switch(a.charCodeAt(u)){case 13:a.charCodeAt(u+1)===10&&++u;case 10:i=!1,t=!0,n=0;break;case 9:case 32:++n;break;default:t&&!i&&(r===null||n<r)&&(r=n),t=!1}return(o=r)!==null&&o!==void 0?o:0}Object.defineProperty(e,"__esModule",{value:!0}),e.dedentBlockStringValue=function(a){var o=a.split(/\r\n|[\n\r]/g),i=c(a);if(i!==0)for(var t=1;t<o.length;t++)o[t]=o[t].slice(i);for(var n=0;n<o.length&&s(o[n]);)++n;for(var r=o.length;r>n&&s(o[r-1]);)--r;return o.slice(n,r).join(`
`)},e.getBlockStringIndentation=c,e.printBlockString=function(a){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2&&arguments[2]!==void 0&&arguments[2],t=a.indexOf(`
`)===-1,n=a[0]===" "||a[0]==="	",r=a[a.length-1]==='"',u=a[a.length-1]==="\\",l=!t||r||u||i,d="";return!l||t&&n||(d+=`
`+o),d+=o?a.replace(/\n/g,`
`+o):a,l&&(d+=`
`),'"""'+d.replace(/"""/g,'\\"""')+'"""'}},69636:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(15721),e)},69721:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(77447),e)},69749:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(92710),e),a(s(40972),e),a(s(39479),e),a(s(14465),e),a(s(5213),e),a(s(6429),e)},69844:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.xmlDecodeTree=void 0,e.xmlDecodeTree=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(s=>s.charCodeAt(0)))},69909:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryExpressionBnode=void 0;const c=s(77617),a=s(77545),o=s(5526);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.SparqlOperator.BNODE],termFunction:!1})}async run(n){return new o.ExpressionFunctionBnode}}e.ActorFunctionFactoryExpressionBnode=i},70020:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.QuerySourceRdfJs=void 0;const c=s(559),a=s(90711),o=s(99214),i=s(75627),t=s(3285),n=s(96331);class r{constructor(l,d,p){this.source=l,this.referenceValue=l,this.dataFactory=d,this.bindingsFactory=p;const f=new n.Factory(this.dataFactory);this.selectorShape={type:"operation",operation:{operationType:"pattern",pattern:f.createPattern(this.dataFactory.variable("s"),this.dataFactory.variable("p"),this.dataFactory.variable("o"))},variablesOptional:[this.dataFactory.variable("s"),this.dataFactory.variable("p"),this.dataFactory.variable("o")]},this.dummyDefaultGraph=this.dataFactory.variable("__comunica:defaultGraph")}static nullifyVariables(l,d){return!l||l.termType==="Variable"||!d&&l.termType==="Quad"&&(0,t.someTermsNested)(l,p=>p.termType==="Variable")?void 0:l}static hasDuplicateVariables(l){const d=(0,t.filterTermsNested)(l,p=>p.termType==="Variable");return d.length>1&&(0,t.uniqTerms)(d).length<d.length}async getSelectorShape(){return this.selectorShape}queryBindings(l,d){if(l.type!=="pattern")throw new Error(`Attempted to pass non-pattern operation '${l.type}' to QuerySourceRdfJs`);const p=!!d.get(a.KeysQueryOperation.unionDefaultGraph);if(l.graph.termType==="DefaultGraph"&&p&&(l.graph=this.dummyDefaultGraph),this.source.matchBindings){const m=this.source.matchBindings(this.bindingsFactory,l.subject,l.predicate,l.object,l.graph);let b=m instanceof i.AsyncIterator?m:(0,i.wrap)(m,{autoStart:!1}),v=!1;if(l.graph.termType==="Variable"&&!p){v=!0;const _=l.graph;b=b.filter(w=>w.get(_).termType!=="DefaultGraph")}if(l.graph.equals(this.dummyDefaultGraph)&&(b=b.map(_=>_.delete(this.dummyDefaultGraph)),l.graph=this.dataFactory.defaultGraph()),!b.getProperty("metadata")){const _=(0,c.getVariables)(l).map(w=>({variable:w,canBeUndef:!1}));this.setMetadata(b,l,d,v,{variables:_}).catch(w=>b.destroy(w))}return b}const f=!!this.source.features?.quotedTripleFiltering,h=this.source.match(r.nullifyVariables(l.subject,f),r.nullifyVariables(l.predicate,f),r.nullifyVariables(l.object,f),r.nullifyVariables(l.graph,f));let y=h instanceof i.AsyncIterator?h:(0,i.wrap)(h,{autoStart:!1});return f||(y=(0,c.filterMatchingQuotedQuads)(l,y)),y.getProperty("metadata")||this.setMetadata(y,l,d).catch(m=>y.destroy(m)),l.graph.equals(this.dummyDefaultGraph)&&(l.graph=this.dataFactory.defaultGraph()),(0,c.quadsToBindings)(y,l,this.dataFactory,this.bindingsFactory,!!d.get(a.KeysQueryOperation.unionDefaultGraph))}async setMetadata(l,d,p,f=!1,h={}){const y=!!this.source.features?.quotedTripleFiltering,m=!!p.get(a.KeysQueryOperation.unionDefaultGraph);let b;if(d.graph.termType==="DefaultGraph"&&m&&(d.graph=this.dummyDefaultGraph),this.source.countQuads)b=await this.source.countQuads(r.nullifyVariables(d.subject,y),r.nullifyVariables(d.predicate,y),r.nullifyVariables(d.object,y),r.nullifyVariables(d.graph,y));else{let _=0;b=await new Promise((w,O)=>{const A=this.source.match(r.nullifyVariables(d.subject,y),r.nullifyVariables(d.predicate,y),r.nullifyVariables(d.object,y),r.nullifyVariables(d.graph,y));A.on("error",O),A.on("end",()=>w(_)),A.on("data",()=>_++)})}const v=!y&&(0,t.someTerms)(d,_=>_.termType==="Quad")||r.hasDuplicateVariables(d);l.setProperty("metadata",{state:new o.MetadataValidationState,cardinality:{type:v||f?"estimate":"exact",value:b},requestTime:0,...h})}queryQuads(l,d){throw new Error("queryQuads is not implemented in QuerySourceRdfJs")}queryBoolean(l,d){throw new Error("queryBoolean is not implemented in QuerySourceRdfJs")}queryVoid(l,d){throw new Error("queryVoid is not implemented in QuerySourceRdfJs")}toString(){return`QuerySourceRdfJs(${this.source.constructor.name})`}}e.QuerySourceRdfJs=r},70047:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.stringQuadToQuad=e.quadToStringQuad=e.stringToTerm=e.getLiteralLanguage=e.getLiteralType=e.getLiteralValue=e.termToString=void 0;const c=new(s(47793)).DataFactory;function a(r){if(r)switch(r.termType){case"NamedNode":case"DefaultGraph":return r.value;case"BlankNode":return"_:"+r.value;case"Literal":const u=r;return'"'+u.value+'"'+(u.datatype&&u.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&u.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?"^^"+u.datatype.value:"")+(u.language?"@"+u.language:"");case"Quad":return`<<${a(r.subject)} ${a(r.predicate)} ${a(r.object)}${r.graph.termType==="DefaultGraph"?"":" "+a(r.graph)}>>`;case"Variable":return"?"+r.value}}function o(r){const u=/^"([^]*)"/.exec(r);if(!u)throw new Error(r+" is not a literal");return u[1]}function i(r){const u=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(r);if(!u)throw new Error(r+" is not a literal");return u[1]||(u[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}function t(r){const u=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(r);if(!u)throw new Error(r+" is not a literal");return u[1]?u[1].toLowerCase():""}function n(r,u){if(u=u||c,!r||!r.length)return u.defaultGraph();switch(r[0]){case"_":return u.blankNode(r.substr(2));case"?":if(!u.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return u.variable(r.substr(1));case'"':const l=t(r),d=u.namedNode(i(r));return u.literal(o(r),l||d);default:if(r[0]==="<"&&r.length>4&&r[1]==="<"&&r[r.length-1]===">"&&r[r.length-2]===">"){const p=r.slice(2,-2).trim();let f=[],h=0,y=0,m=!1;for(let b=0;b<p.length;b++){const v=p[b];if(v==="<"&&h++,v===">"){if(h===0)throw new Error("Found closing tag without opening tag in "+r);h--}if(v==='"'){let _=!1,w=b;for(;w-- >0&&p[w]==="\\";)_=!_;_||(m=!m)}if(v===" "&&!m&&h===0){for(f.push(p.slice(y,b));p[b+1]===" ";)b+=1;y=b+1}}if(h!==0)throw new Error("Found opening tag without closing tag in "+r);if(f.push(p.slice(y,p.length)),f.length!==3&&f.length!==4)throw new Error("Nested quad syntax error "+r);return f=f.map(b=>b.startsWith("<")&&!b.includes(" ")?b.slice(1,-1):b),u.quad(n(f[0]),n(f[1]),n(f[2]),f[3]?n(f[3]):void 0)}return u.namedNode(r)}}e.termToString=a,e.getLiteralValue=o,e.getLiteralType=i,e.getLiteralLanguage=t,e.stringToTerm=n,e.quadToStringQuad=function(r){return{subject:a(r.subject),predicate:a(r.predicate),object:a(r.object),graph:a(r.graph)}},e.stringQuadToQuad=function(r,u){return(u=u||c).quad(n(r.subject,u),n(r.predicate,u),n(r.object,u),n(r.graph,u))}},70071:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getQuads=e.getDefaultGraphs=e.getVariables=e.getLiterals=e.getBlankNodes=e.getNamedNodes=e.getTermsOfType=e.uniqTerms=e.TERM_TYPES=void 0;const c=s(5603);function a(o,i){return o.filter(t=>t.termType===i)}e.TERM_TYPES=["NamedNode","BlankNode","Literal","Variable","DefaultGraph","Quad"],e.uniqTerms=function(o){const i={};return o.filter(t=>{const n=(0,c.termToString)(t);return!(n in i)&&(i[n]=!0)})},e.getTermsOfType=a,e.getNamedNodes=function(o){return a(o,"NamedNode")},e.getBlankNodes=function(o){return a(o,"BlankNode")},e.getLiterals=function(o){return a(o,"Literal")},e.getVariables=function(o){return a(o,"Variable")},e.getDefaultGraphs=function(o){return a(o,"DefaultGraph")},e.getQuads=function(o){return a(o,"Quad")}},70177:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermDay=void 0;const c=s(77617),a=s(77545),o=s(9430);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.SparqlOperator.DAY],termFunction:!0})}async run(n){return new o.TermFunctionDay}}e.ActorFunctionFactoryTermDay=i},70297:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(2307),e),a(s(4391),e),a(s(75566),e),a(s(66337),e),a(s(13260),e),a(s(91891),e),a(s(98960),e),a(s(53284),e),a(s(89275),e),a(s(16332),e),a(s(29638),e)},70322:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(91295),e),a(s(36339),e)},70585:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.print=function(p){return(0,c.visit)(p,{leave:o})};var c=s(9111),a=s(69165),o={Name:function(p){return p.value},Variable:function(p){return"$"+p.name},Document:function(p){return t(p.definitions,`

`)+`
`},OperationDefinition:function(p){var f=p.operation,h=p.name,y=r("(",t(p.variableDefinitions,", "),")"),m=t(p.directives," "),b=p.selectionSet;return h||m||y||f!=="query"?t([f,t([h,y]),m,b]," "):b},VariableDefinition:function(p){var f=p.variable,h=p.type,y=p.defaultValue,m=p.directives;return f+": "+h+r(" = ",y)+r(" ",t(m," "))},SelectionSet:function(p){return n(p.selections)},Field:function(p){var f=p.alias,h=p.name,y=p.arguments,m=p.directives,b=p.selectionSet,v=r("",f,": ")+h,_=v+r("(",t(y,", "),")");return _.length>80&&(_=v+r(`(
`,u(t(y,`
`)),`
)`)),t([_,t(m," "),b]," ")},Argument:function(p){return p.name+": "+p.value},FragmentSpread:function(p){return"..."+p.name+r(" ",t(p.directives," "))},InlineFragment:function(p){var f=p.typeCondition,h=p.directives,y=p.selectionSet;return t(["...",r("on ",f),t(h," "),y]," ")},FragmentDefinition:function(p){var f=p.name,h=p.typeCondition,y=p.variableDefinitions,m=p.directives,b=p.selectionSet;return"fragment ".concat(f).concat(r("(",t(y,", "),")")," ")+"on ".concat(h," ").concat(r("",t(m," ")," "))+b},IntValue:function(p){return p.value},FloatValue:function(p){return p.value},StringValue:function(p,f){var h=p.value;return p.block?(0,a.printBlockString)(h,f==="description"?"":"  "):JSON.stringify(h)},BooleanValue:function(p){return p.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(p){return p.value},ListValue:function(p){return"["+t(p.values,", ")+"]"},ObjectValue:function(p){return"{"+t(p.fields,", ")+"}"},ObjectField:function(p){return p.name+": "+p.value},Directive:function(p){return"@"+p.name+r("(",t(p.arguments,", "),")")},NamedType:function(p){return p.name},ListType:function(p){return"["+p.type+"]"},NonNullType:function(p){return p.type+"!"},SchemaDefinition:i(function(p){var f=p.directives,h=p.operationTypes;return t(["schema",t(f," "),n(h)]," ")}),OperationTypeDefinition:function(p){return p.operation+": "+p.type},ScalarTypeDefinition:i(function(p){return t(["scalar",p.name,t(p.directives," ")]," ")}),ObjectTypeDefinition:i(function(p){var f=p.name,h=p.interfaces,y=p.directives,m=p.fields;return t(["type",f,r("implements ",t(h," & ")),t(y," "),n(m)]," ")}),FieldDefinition:i(function(p){var f=p.name,h=p.arguments,y=p.type,m=p.directives;return f+(d(h)?r(`(
`,u(t(h,`
`)),`
)`):r("(",t(h,", "),")"))+": "+y+r(" ",t(m," "))}),InputValueDefinition:i(function(p){var f=p.name,h=p.type,y=p.defaultValue,m=p.directives;return t([f+": "+h,r("= ",y),t(m," ")]," ")}),InterfaceTypeDefinition:i(function(p){var f=p.name,h=p.interfaces,y=p.directives,m=p.fields;return t(["interface",f,r("implements ",t(h," & ")),t(y," "),n(m)]," ")}),UnionTypeDefinition:i(function(p){var f=p.name,h=p.directives,y=p.types;return t(["union",f,t(h," "),y&&y.length!==0?"= "+t(y," | "):""]," ")}),EnumTypeDefinition:i(function(p){var f=p.name,h=p.directives,y=p.values;return t(["enum",f,t(h," "),n(y)]," ")}),EnumValueDefinition:i(function(p){return t([p.name,t(p.directives," ")]," ")}),InputObjectTypeDefinition:i(function(p){var f=p.name,h=p.directives,y=p.fields;return t(["input",f,t(h," "),n(y)]," ")}),DirectiveDefinition:i(function(p){var f=p.name,h=p.arguments,y=p.repeatable,m=p.locations;return"directive @"+f+(d(h)?r(`(
`,u(t(h,`
`)),`
)`):r("(",t(h,", "),")"))+(y?" repeatable":"")+" on "+t(m," | ")}),SchemaExtension:function(p){var f=p.directives,h=p.operationTypes;return t(["extend schema",t(f," "),n(h)]," ")},ScalarTypeExtension:function(p){return t(["extend scalar",p.name,t(p.directives," ")]," ")},ObjectTypeExtension:function(p){var f=p.name,h=p.interfaces,y=p.directives,m=p.fields;return t(["extend type",f,r("implements ",t(h," & ")),t(y," "),n(m)]," ")},InterfaceTypeExtension:function(p){var f=p.name,h=p.interfaces,y=p.directives,m=p.fields;return t(["extend interface",f,r("implements ",t(h," & ")),t(y," "),n(m)]," ")},UnionTypeExtension:function(p){var f=p.name,h=p.directives,y=p.types;return t(["extend union",f,t(h," "),y&&y.length!==0?"= "+t(y," | "):""]," ")},EnumTypeExtension:function(p){var f=p.name,h=p.directives,y=p.values;return t(["extend enum",f,t(h," "),n(y)]," ")},InputObjectTypeExtension:function(p){var f=p.name,h=p.directives,y=p.fields;return t(["extend input",f,t(h," "),n(y)]," ")}};function i(p){return function(f){return t([f.description,p(f)],`
`)}}function t(p){var f,h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return(f=p?.filter(function(y){return y}).join(h))!==null&&f!==void 0?f:""}function n(p){return r(`{
`,u(t(p,`
`)),`
}`)}function r(p,f){return f!=null&&f!==""?p+f+(arguments.length>2&&arguments[2]!==void 0?arguments[2]:""):""}function u(p){return r("  ",p.replace(/\n/g,`
  `))}function l(p){return p.indexOf(`
`)!==-1}function d(p){return p!=null&&p.some(l)}},70591:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.URL=e.DNS=void 0;const c=s(40338),a=s(32988);var o=s(32988);function i(t,n,r,u){return(0,a.default)(48,c.default,t,n,r,u)}Object.defineProperty(e,"DNS",{enumerable:!0,get:function(){return o.DNS}}),Object.defineProperty(e,"URL",{enumerable:!0,get:function(){return o.URL}}),i.DNS=a.DNS,i.URL=a.URL,e.default=i},70736:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerKeywordIncluded=void 0;const c=s(42395),a=s(1548);class o extends a.EntryHandlerKeyword{constructor(){super("@included")}async handle(t,n,r,u,l,d){typeof l!="object"&&t.emitError(new c.ErrorCoded(`Found illegal @included '${l}'`,c.ERROR_CODES.INVALID_INCLUDED_VALUE));const p=await n.unaliasKeywords(l,u,d,await t.getContext(u));"@value"in p&&t.emitError(new c.ErrorCoded(`Found an illegal @included @value node '${JSON.stringify(l)}'`,c.ERROR_CODES.INVALID_INCLUDED_VALUE)),"@list"in p&&t.emitError(new c.ErrorCoded(`Found an illegal @included @list node '${JSON.stringify(l)}'`,c.ERROR_CODES.INVALID_INCLUDED_VALUE)),t.emittedStack[d]=!1}}e.EntryHandlerKeywordIncluded=o},70742:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t),Object.defineProperty(o,n,{enumerable:!0,get:function(){return i[t]}})}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(24806),e)},70982:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermGreaterThan=void 0;const c=s(77617),a=s(77545),o=s(81253);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.SparqlOperator.GT],termFunction:!0}),this.mediatorFunctionFactory=n.mediatorFunctionFactory}async run(n){const r=await this.mediatorFunctionFactory.mediate({functionName:a.SparqlOperator.LT,requireTermExpression:!0,context:n.context,arguments:n.arguments});return new o.TermFunctionGreaterThan(r)}}e.ActorFunctionFactoryTermGreaterThan=i},71142:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SparqlJsonParser=void 0;const c=s(47793),a=s(19198),o=s(50608);e.SparqlJsonParser=class{constructor(i){var t;i=i||{},this.dataFactory=i.dataFactory||new c.DataFactory,this.prefixVariableQuestionMark=!!i.prefixVariableQuestionMark,this.suppressMissingStreamResultsError=(t=i.suppressMissingStreamResultsError)===null||t===void 0||t}parseJsonResults(i){return i.results.bindings.map(t=>this.parseJsonBindings(t))}parseJsonResultsStream(i){const t=d=>l.emit("error",d);i.on("error",t);const n=new o;n.onError=t;let r=!1,u=!1;n.onValue=d=>{if(n.key==="vars"&&n.stack.length===2&&n.stack[1].key==="head")l.emit("variables",d.map(p=>this.dataFactory.variable(p))),r=!0;else if(n.key==="results"&&n.stack.length===1)u=!0;else if(typeof n.key=="number"&&n.stack.length===3&&n.stack[1].key==="results"&&n.stack[2].key==="bindings")try{l.push(this.parseJsonBindings(d))}catch(p){l.emit("error",p)}else n.key==="metadata"&&n.stack.length===1&&l.emit("metadata",d)};const l=i.on("end",d=>{u||this.suppressMissingStreamResultsError?r||l.emit("variables",[]):l.emit("error",new Error("No valid SPARQL query results were found."))}).pipe(new a.Transform({objectMode:!0,transform(d,p,f){n.write(d),f()}}));return l}parseJsonBindings(i){const t={};for(const n in i){const r=i[n];t[this.prefixVariableQuestionMark?"?"+n:n]=this.parseJsonValue(r)}return t}parseJsonValue(i){let t;switch(i.type){case"bnode":t=this.dataFactory.blankNode(i.value);break;case"literal":t=i["xml:lang"]?this.dataFactory.literal(i.value,i["xml:lang"]):i.datatype?this.dataFactory.literal(i.value,this.dataFactory.namedNode(i.datatype)):this.dataFactory.literal(i.value);break;case"typed-literal":t=this.dataFactory.literal(i.value,this.dataFactory.namedNode(i.datatype));break;case"triple":const n=i.value;if(!(n&&n.subject&&n.predicate&&n.object))throw new Error("Invalid quoted triple: "+JSON.stringify(i));t=this.dataFactory.quad(this.parseJsonValue(n.subject),this.parseJsonValue(n.predicate),this.parseJsonValue(n.object));break;default:t=this.dataFactory.namedNode(i.value)}return t}parseJsonBoolean(i){if("boolean"in i)return i.boolean;throw new Error("No valid ASK response was found.")}parseJsonBooleanStream(i){return new Promise((t,n)=>{const r=new o;r.onError=n,r.onValue=u=>{r.key==="boolean"&&typeof u=="boolean"&&r.stack.length===1&&t(u)},i.on("error",n).on("data",u=>r.write(u)).on("end",()=>n(new Error("No valid ASK response was found.")))})}}},71186:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryResultSerializeSparqlJson=void 0;const c=s(58871),a=s(90412),o=s(75627),i=s(19198);class t extends c.ActorQueryResultSerializeFixedMediaTypes{constructor(r){super(r)}static bindingToJsonBindings(r){if(r.termType==="Literal"){const u=r,l={value:u.value,type:"literal"},{language:d,datatype:p}=u;return d?l["xml:lang"]=d:p&&p.value!=="http://www.w3.org/2001/XMLSchema#string"&&(l.datatype=p.value),l}return r.termType==="BlankNode"?{value:r.value,type:"bnode"}:r.termType==="Quad"?{value:{subject:t.bindingToJsonBindings(r.subject),predicate:t.bindingToJsonBindings(r.predicate),object:t.bindingToJsonBindings(r.object)},type:"triple"}:{value:r.value,type:"uri"}}async testHandleChecked(r,u){return["bindings","boolean"].includes(r.type)?(0,a.passTestVoid)():(0,a.failTest)("This actor can only handle bindings streams or booleans.")}async runHandle(r,u,l){const d=new i.Readable,p={};if(r.type==="bindings"){const f=await r.metadata();f.variables.length>0&&(p.vars=f.variables.map(h=>h.variable.value))}if(d.push(`{"head": ${JSON.stringify(p)},
`),r.type==="bindings"){const f=r.bindingsStream;d.push(`"results": { "bindings": [
`);let h=!0;function*y(m){yield m()}d.wrap((0,o.wrap)(f).map(m=>{const b=`${h?"":`,
`}${JSON.stringify(Object.fromEntries([...m].map(([v,_])=>[v.value,t.bindingToJsonBindings(_)])))}`;return h=!1,b}).append((0,o.wrap)(y(()=>`
]}${this.emitMetadata?`,
"metadata": { "httpRequests": ${this.httpObserver.requests} }`:""}}
`))))}else d.wrap((0,o.wrap)(r.execute().then(f=>[`"boolean":${f}
}
`])));return{data:d}}}e.ActorQueryResultSerializeSparqlJson=t},71271:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(30785),e),a(s(71932),e)},71356:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(69e3),e)},71493:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PathVariableObjectIterator=void 0;const c=s(67021),a=s(75627),o=s(1725);class i extends a.BufferedIterator{constructor(n,r,u,l,d,p,f,h=16){super({autoStart:!1}),this.algebraFactory=n,this.subject=r,this.predicate=u,this.graph=l,this.context=d,this.mediatorQueryOperation=p,this.maxRunningOperations=h,this.termHashes=new Map,this.runningOperations=[],this.pendingOperations=[],this.started=!1,this._push(this.subject,f)}getProperty(n,r){return this.started||n!=="metadata"||this.startNextOperation(!1).catch(u=>this.emit("error",u)),super.getProperty(n,r)}_end(n){for(const r of this.runningOperations)r.destroy();super._end(n)}_push(n,r=!0){let u;if(r&&(u=(0,o.termToString)(n),this.termHashes.has(u)))return!1;const l=this.algebraFactory.dataFactory.variable("b");return this.pendingOperations.push({variable:l,operation:this.algebraFactory.createPath(n,this.predicate,l,this.graph)}),u&&(this.termHashes.set(u,n),super._push(n)),!0}async startNextOperation(n){this.started=!0;const r=this.pendingOperations.pop(),u=(0,c.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:r.operation,context:this.context})),l=u.bindingsStream.map(d=>d.get(r.variable));l.done||(this.runningOperations.push(l),l.on("error",d=>this.destroy(d)),l.on("readable",()=>{n&&this._fillBufferAsync(),this.readable=!0}),l.on("end",()=>{this.runningOperations.splice(this.runningOperations.indexOf(l),1),n&&this._fillBufferAsync(),this.readable=!0})),this.getProperty("metadata")||this.setProperty("metadata",u.metadata)}_read(n,r){const u=this;(async function(){for(;u.runningOperations.length<u.maxRunningOperations&&u.pendingOperations.length!==0;)await u.startNextOperation(!0);let l,d=0,p=!0;for(;!p||d!==(d=n);){p=!0;for(let f=0;f<u.runningOperations.length&&n>0;f++)(l=u.runningOperations[f].read())!==null&&(u._push(l)?n--:p=!1)}u.closeIfNeeded()})().then(()=>{r()},l=>this.destroy(l))}closeIfNeeded(){this.runningOperations.length===0&&this.pendingOperations.length===0&&this.close()}}e.PathVariableObjectIterator=i},71644:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQuerySourceIdentifyHypermediaSparql=void 0;const c=s(62100),a=s(90711),o=s(90412),i=s(81926),t=s(96331),n=s(40229);class r extends c.ActorQuerySourceIdentifyHypermedia{constructor(l){super(l,"sparql")}async testMetadata(l){return l.forceSourceType||this.forceSourceType||l.metadata.sparqlService||this.checkUrlSuffix&&(l.url.endsWith("/sparql")||l.url.endsWith("/sparql/"))?(0,o.passTest)({filterFactor:1}):(0,o.failTest)(`Actor ${this.name} could not detect a SPARQL service description or URL ending on /sparql.`)}async run(l){this.logInfo(l.context,`Identified ${l.url} as sparql source with service URL: ${l.metadata.sparqlService||l.url}`);const d=l.context.getSafe(a.KeysInitQuery.dataFactory),p=new t.Factory(d),f=l.context.get(a.KeysQueryOperation.querySources)?.length===1;return{source:new n.QuerySourceSparql(l.forceSourceType??this.forceSourceType?l.url:l.metadata.sparqlService||l.url,l.context,this.mediatorHttp,this.bindMethod,d,p,await i.BindingsFactory.create(this.mediatorMergeBindingsContext,l.context,d),this.forceHttpGet,this.cacheSize,this.countTimeout,this.cardinalityCountQueries&&!f,this.cardinalityEstimateConstruction,l.metadata.defaultGraph,l.metadata.unionDefaultGraph,l.metadata.datasets)}}}e.ActorQuerySourceIdentifyHypermediaSparql=r},71742:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NamedExtension=void 0;const c=s(5673),a=s(90711),o=s(77545);class i extends c.ExpressionFunctionBase{constructor({operator:n,functionDefinition:r}){super({arity:Number.POSITIVE_INFINITY,operator:n,apply:async({args:u,exprEval:l,mapping:d})=>{const p=await Promise.all(u.map(f=>l.evaluatorExpressionEvaluation(f,d)));try{return new o.TermTransformer(l.context.getSafe(a.KeysExpressionEvaluator.superTypeProvider)).transformRDFTermUnsafe(await r(p.map(f=>f.toRDF(l.context.getSafe(a.KeysInitQuery.dataFactory)))))}catch(f){throw new o.ExtensionFunctionError(this.operator,f)}}})}}e.NamedExtension=i},71818:function(g,e,s){var c=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(e,"__esModule",{value:!0}),e.encodeNonAsciiHTML=e.encodeHTML=void 0;var a=c(s(35504)),o=s(5987),i=/[\t\n!-,./:-@[-`\f{-}$\x80-\uFFFF]/g;function t(n,r){for(var u,l="",d=0;(u=n.exec(r))!==null;){var p=u.index;l+=r.substring(d,p);var f=r.charCodeAt(p),h=a.default.get(f);if(typeof h=="object"){if(p+1<r.length){var y=r.charCodeAt(p+1),m=typeof h.n=="number"?h.n===y?h.o:void 0:h.n.get(y);if(m!==void 0){l+=m,d=n.lastIndex+=1;continue}}h=h.v}if(h!==void 0)l+=h,d=p+1;else{var b=(0,o.getCodePoint)(r,p);l+="&#x".concat(b.toString(16),";"),d=n.lastIndex+=+(b!==f)}}return l+r.substr(d)}e.encodeHTML=function(n){return t(i,n)},e.encodeNonAsciiHTML=function(n){return t(o.xmlReplacer,n)}},71871:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(72243),e)},71923:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfJoinOptionalHash=void 0;const c=s(95445),a=s(90412),o=s(81926),i=s(18888),t=s(4809),n=s(75627),r=s(6380);class u extends c.ActorRdfJoin{constructor(d){super(d,{logicalType:"optional",physicalName:`hash-${d.canHandleUndefs?"undef":"def"}-${d.blocking?"blocking":"nonblocking"}`,limitEntries:2,canHandleUndefs:d.canHandleUndefs,requiresVariableOverlap:!0})}static constructIndex(d,p){return d?new i.BindingsIndexUndef(p,f=>f&&f.termType!=="Variable"?(0,r.termToString)(f):"",!0):new i.BindingsIndexDef(p,o.bindingsToCompactString)}async getOutput(d){const p=d.entries[1].output,f=d.entries[0].output,h=await c.ActorRdfJoin.getMetadatas(d.entries),y=c.ActorRdfJoin.overlappingVariables(h);let m;return m=this.blocking?new t.ClosableTransformIterator(async()=>{const b=u.constructIndex(this.canHandleUndefs,y);return await new Promise(v=>{p.bindingsStream.on("data",_=>{(b.getFirst(_,!0)??b.put(_,[])).push(_)}),p.bindingsStream.on("end",v),p.bindingsStream.on("error",_=>{m.emit("error",_)})}),new n.MultiTransformIterator(f.bindingsStream,{multiTransform:v=>new n.ArrayIterator(b.get(v).flat().map(_=>c.ActorRdfJoin.joinBindings(v,_)).filter(_=>_!==null),{autoStart:!1}),optional:!0,autoStart:!1})},{autoStart:!1,onClose(){p.bindingsStream.destroy(),f.bindingsStream.destroy()}}):new t.ClosableTransformIterator(async()=>{const b=u.constructIndex(this.canHandleUndefs,y);let v=!0;return p.bindingsStream.on("data",_=>{(b.getFirst(_,!0)??b.put(_,new n.BufferedIterator({autoStart:!1})))._push(_)}),p.bindingsStream.on("end",()=>{for(const _ of b.values())_.close();v=!1}),p.bindingsStream.on("error",_=>{m.emit("error",_)}),new n.MultiTransformIterator(f.bindingsStream,{multiTransform:_=>{let w=b.get(_);return w.length===0&&(w=v?[b.put(_,new n.BufferedIterator({autoStart:!1}))]:[]),new n.UnionIterator(w.map(O=>O.clone()),{autoStart:!1}).map(O=>c.ActorRdfJoin.joinBindings(_,O))},optional:!0,autoStart:!1})},{autoStart:!1,onClose(){p.bindingsStream.destroy(),f.bindingsStream.destroy()}}),{result:{type:"bindings",bindingsStream:m,metadata:async()=>await this.constructResultMetadata(d.entries,h,d.context,{},!0)}}}async getJoinCoefficients(d,p){const{metadatas:f}=p,h=c.ActorRdfJoin.getRequestInitialTimes(f),y=c.ActorRdfJoin.getRequestItemTimes(f);let m=f[0].cardinality.value+f[1].cardinality.value;return this.canHandleUndefs||(m*=.8),this.blocking&&(m*=.9),(0,a.passTestWithSideData)({iterations:m,persistedItems:f[0].cardinality.value,blockingItems:this.blocking?f[0].cardinality.value:0,requestTime:h[0]+f[0].cardinality.value*y[0]+h[1]+f[1].cardinality.value*y[1]},p)}}e.ActorRdfJoinOptionalHash=u},71924:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(40721),e)},71932:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SampleAggregator=void 0;const c=s(86581);class a extends c.AggregateEvaluator{constructor(i,t,n){super(i,t,n),this.state=void 0}putTerm(i){this.state===void 0&&(this.state=i)}termResult(){return this.state===void 0?this.emptyValue():this.state}}e.SampleAggregator=a},71977:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ContainerHandlerIndex=void 0;const c=s(42395),a=s(76970),o=s(10888);e.ContainerHandlerIndex=class{canCombineWithGraph(){return!0}async handle(i,t,n,r,u,l){if(!Array.isArray(u)){const d="@graph"in i,p=await t.getContext(r),f=r[l-1],h=o.Util.getContextValueIndex(p,f);if(h){if(c.Util.isPotentialKeyword(h))throw new c.ErrorCoded(`Keywords can not be used as @index value, got: ${h}`,c.ERROR_CODES.INVALID_TERM_DEFINITION);if(typeof h!="string")throw new c.ErrorCoded(`@index values must be strings, got: ${h}`,c.ERROR_CODES.INVALID_TERM_DEFINITION);if(typeof u!="object"){if(o.Util.getContextValueType(p,f)!=="@id")throw new c.ErrorCoded(`Property-based index containers require nodes as values or strings with @type: @id, but got: ${u}`,c.ERROR_CODES.INVALID_VALUE_OBJECT);const b=n.resourceToTerm(p,u);b&&(t.idStack[l+1]=[b])}const m=n.createVocabOrBaseTerm(p,h);if(m){const b=await n.valueToTerm(p,h,await n.getContainerKey(r[l],r,l),l,r);if(d){const v=await n.getGraphContainerValue(r,l+1);for(const _ of b)t.emitQuad(l,n.dataFactory.quad(v,m,_,n.getDefaultGraph()))}else for(const v of b)await a.EntryHandlerPredicate.handlePredicateObject(t,n,r,l+1,m,v,!1,!1,!1)}}const y=d?2:1;await t.newOnValueJob(r.slice(0,r.length-y),u,l-y,!0),await t.handlePendingContainerFlushBuffers()}t.emittedStack[l]=!1}}},72157:function(g,e,s){var c,a=this&&this.__createBinding||(Object.create?function(v,_,w,O){O===void 0&&(O=w);var A=Object.getOwnPropertyDescriptor(_,w);A&&!("get"in A?!_.__esModule:A.writable||A.configurable)||(A={enumerable:!0,get:function(){return _[w]}}),Object.defineProperty(v,O,A)}:function(v,_,w,O){O===void 0&&(O=w),v[O]=_[w]}),o=this&&this.__setModuleDefault||(Object.create?function(v,_){Object.defineProperty(v,"default",{enumerable:!0,value:_})}:function(v,_){v.default=_}),i=this&&this.__importStar||(c=function(v){return c=Object.getOwnPropertyNames||function(_){var w=[];for(var O in _)Object.prototype.hasOwnProperty.call(_,O)&&(w[w.length]=O);return w},c(v)},function(v){if(v&&v.__esModule)return v;var _={};if(v!=null)for(var w=c(v),O=0;O<w.length;O++)w[O]!=="default"&&a(_,v,w[O]);return o(_,v),_});Object.defineProperty(e,"__esModule",{value:!0}),e.Parser=void 0;const t=i(s(14709)),n=s(65621),r=new Set(["input","option","optgroup","select","button","datalist","textarea"]),u=new Set(["p"]),l=new Set(["thead","tbody"]),d=new Set(["dd","dt"]),p=new Set(["rt","rp"]),f=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",u],["h1",u],["h2",u],["h3",u],["h4",u],["h5",u],["h6",u],["select",r],["input",r],["output",r],["button",r],["datalist",r],["textarea",r],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",d],["dt",d],["address",u],["article",u],["aside",u],["blockquote",u],["details",u],["div",u],["dl",u],["fieldset",u],["figcaption",u],["figure",u],["footer",u],["form",u],["header",u],["hr",u],["main",u],["nav",u],["ol",u],["pre",u],["section",u],["table",u],["ul",u],["rt",p],["rp",p],["tbody",l],["tfoot",l]]),h=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),y=new Set(["math","svg"]),m=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),b=/\s|\//;e.Parser=class{constructor(v,_={}){var w,O,A,T,S,E;this.options=_,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=v??{},this.htmlMode=!this.options.xmlMode,this.lowerCaseTagNames=(w=_.lowerCaseTags)!==null&&w!==void 0?w:this.htmlMode,this.lowerCaseAttributeNames=(O=_.lowerCaseAttributeNames)!==null&&O!==void 0?O:this.htmlMode,this.recognizeSelfClosing=(A=_.recognizeSelfClosing)!==null&&A!==void 0?A:!this.htmlMode,this.tokenizer=new((T=_.Tokenizer)!==null&&T!==void 0?T:t.default)(this.options,this),this.foreignContext=[!this.htmlMode],(E=(S=this.cbs).onparserinit)===null||E===void 0||E.call(S,this)}ontext(v,_){var w,O;const A=this.getSlice(v,_);this.endIndex=_-1,(O=(w=this.cbs).ontext)===null||O===void 0||O.call(w,A),this.startIndex=_}ontextentity(v,_){var w,O;this.endIndex=_-1,(O=(w=this.cbs).ontext)===null||O===void 0||O.call(w,(0,n.fromCodePoint)(v)),this.startIndex=_}isVoidElement(v){return this.htmlMode&&h.has(v)}onopentagname(v,_){this.endIndex=_;let w=this.getSlice(v,_);this.lowerCaseTagNames&&(w=w.toLowerCase()),this.emitOpenTag(w)}emitOpenTag(v){var _,w,O,A;this.openTagStart=this.startIndex,this.tagname=v;const T=this.htmlMode&&f.get(v);if(T)for(;this.stack.length>0&&T.has(this.stack[0]);){const S=this.stack.shift();(w=(_=this.cbs).onclosetag)===null||w===void 0||w.call(_,S,!0)}this.isVoidElement(v)||(this.stack.unshift(v),this.htmlMode&&(y.has(v)?this.foreignContext.unshift(!0):m.has(v)&&this.foreignContext.unshift(!1))),(A=(O=this.cbs).onopentagname)===null||A===void 0||A.call(O,v),this.cbs.onopentag&&(this.attribs={})}endOpenTag(v){var _,w;this.startIndex=this.openTagStart,this.attribs&&((w=(_=this.cbs).onopentag)===null||w===void 0||w.call(_,this.tagname,this.attribs,v),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""}onopentagend(v){this.endIndex=v,this.endOpenTag(!1),this.startIndex=v+1}onclosetag(v,_){var w,O,A,T,S,E,D,I;this.endIndex=_;let V=this.getSlice(v,_);if(this.lowerCaseTagNames&&(V=V.toLowerCase()),this.htmlMode&&(y.has(V)||m.has(V))&&this.foreignContext.shift(),this.isVoidElement(V))this.htmlMode&&V==="br"&&((T=(A=this.cbs).onopentagname)===null||T===void 0||T.call(A,"br"),(E=(S=this.cbs).onopentag)===null||E===void 0||E.call(S,"br",{},!0),(I=(D=this.cbs).onclosetag)===null||I===void 0||I.call(D,"br",!1));else{const K=this.stack.indexOf(V);if(K!==-1)for(let B=0;B<=K;B++){const $=this.stack.shift();(O=(w=this.cbs).onclosetag)===null||O===void 0||O.call(w,$,B!==K)}else this.htmlMode&&V==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=_+1}onselfclosingtag(v){this.endIndex=v,this.recognizeSelfClosing||this.foreignContext[0]?(this.closeCurrentTag(!1),this.startIndex=v+1):this.onopentagend(v)}closeCurrentTag(v){var _,w;const O=this.tagname;this.endOpenTag(v),this.stack[0]===O&&((w=(_=this.cbs).onclosetag)===null||w===void 0||w.call(_,O,!v),this.stack.shift())}onattribname(v,_){this.startIndex=v;const w=this.getSlice(v,_);this.attribname=this.lowerCaseAttributeNames?w.toLowerCase():w}onattribdata(v,_){this.attribvalue+=this.getSlice(v,_)}onattribentity(v){this.attribvalue+=(0,n.fromCodePoint)(v)}onattribend(v,_){var w,O;this.endIndex=_,(O=(w=this.cbs).onattribute)===null||O===void 0||O.call(w,this.attribname,this.attribvalue,v===t.QuoteType.Double?'"':v===t.QuoteType.Single?"'":v===t.QuoteType.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""}getInstructionName(v){const _=v.search(b);let w=_<0?v:v.substr(0,_);return this.lowerCaseTagNames&&(w=w.toLowerCase()),w}ondeclaration(v,_){this.endIndex=_;const w=this.getSlice(v,_);if(this.cbs.onprocessinginstruction){const O=this.getInstructionName(w);this.cbs.onprocessinginstruction(`!${O}`,`!${w}`)}this.startIndex=_+1}onprocessinginstruction(v,_){this.endIndex=_;const w=this.getSlice(v,_);if(this.cbs.onprocessinginstruction){const O=this.getInstructionName(w);this.cbs.onprocessinginstruction(`?${O}`,`?${w}`)}this.startIndex=_+1}oncomment(v,_,w){var O,A,T,S;this.endIndex=_,(A=(O=this.cbs).oncomment)===null||A===void 0||A.call(O,this.getSlice(v,_-w)),(S=(T=this.cbs).oncommentend)===null||S===void 0||S.call(T),this.startIndex=_+1}oncdata(v,_,w){var O,A,T,S,E,D,I,V,K,B;this.endIndex=_;const $=this.getSlice(v,_-w);!this.htmlMode||this.options.recognizeCDATA?((A=(O=this.cbs).oncdatastart)===null||A===void 0||A.call(O),(S=(T=this.cbs).ontext)===null||S===void 0||S.call(T,$),(D=(E=this.cbs).oncdataend)===null||D===void 0||D.call(E)):((V=(I=this.cbs).oncomment)===null||V===void 0||V.call(I,`[CDATA[${$}]]`),(B=(K=this.cbs).oncommentend)===null||B===void 0||B.call(K)),this.startIndex=_+1}onend(){var v,_;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(let w=0;w<this.stack.length;w++)this.cbs.onclosetag(this.stack[w],!0)}(_=(v=this.cbs).onend)===null||_===void 0||_.call(v)}reset(){var v,_,w,O;(_=(v=this.cbs).onreset)===null||_===void 0||_.call(v),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(O=(w=this.cbs).onparserinit)===null||O===void 0||O.call(w,this),this.buffers.length=0,this.foreignContext.length=0,this.foreignContext.unshift(!this.htmlMode),this.bufferOffset=0,this.writeIndex=0,this.ended=!1}parseComplete(v){this.reset(),this.end(v)}getSlice(v,_){for(;v-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();let w=this.buffers[0].slice(v-this.bufferOffset,_-this.bufferOffset);for(;_-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),w+=this.buffers[0].slice(0,_-this.bufferOffset);return w}shiftBuffer(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()}write(v){var _,w;this.ended?(w=(_=this.cbs).onerror)===null||w===void 0||w.call(_,new Error(".write() after done!")):(this.buffers.push(v),this.tokenizer.running&&(this.tokenizer.write(v),this.writeIndex++))}end(v){var _,w;this.ended?(w=(_=this.cbs).onerror)===null||w===void 0||w.call(_,new Error(".end() after done!")):(v&&this.write(v),this.ended=!0,this.tokenizer.end())}pause(){this.tokenizer.pause()}resume(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()}parseChunk(v){this.write(v)}done(v){this.end(v)}}},72243:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorContextPreprocessConvertShortcuts=void 0;const c=s(98926),a=s(90412);class o extends c.ActorContextPreprocess{constructor(t){super(t)}async test(t){return(0,a.passTestVoid)()}async run(t){return{context:o.expandShortcuts(t.context,this.contextKeyShortcuts)}}static expandShortcuts(t,n){for(const r of t.keys())n[r.name]&&(t=t.set(new a.ActionContextKey(n[r.name]),t.get(r)).delete(r));return t}}e.ActorContextPreprocessConvertShortcuts=o},72253:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ExpressionFunctionSameTerm=void 0;const c=s(77617),a=s(90711),o=s(77545);class i extends c.ExpressionFunctionBase{constructor(){super({arity:2,operator:o.SparqlOperator.SAME_TERM,apply:async({args:n,mapping:r,exprEval:u})=>{const l=u.context.getSafe(a.KeysInitQuery.dataFactory),[d,p]=n.map(y=>u.evaluatorExpressionEvaluation(y,r)),[f,h]=await Promise.all([d,p]);return(0,o.bool)(f.toRDF(l).equals(h.toRDF(l)))}})}}e.ExpressionFunctionSameTerm=i},72258:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfMetadataExtractSparqlService=void 0;const c=s(18412),a=s(90412),o=s(70742);class i extends c.ActorRdfMetadataExtract{constructor(n){super(n)}async test(n){return(0,a.passTestVoid)()}async run(n){return new Promise((r,u)=>{n.metadata.on("error",u);const l=new Set([n.url]),d={},p=new Set,f=new Set,h=new Set;n.metadata.on("data",y=>{if(y.predicate.value==="http://rdfs.org/ns/void#subset"&&y.object.value===n.url)l.add(y.subject.value);else if(y.subject.value===d.defaultDataset||y.subject.termType==="BlankNode"||l.has(y.subject.value))switch(y.predicate.value){case"http://www.w3.org/ns/sparql-service-description#endpoint":d.sparqlService=y.object.termType==="Literal"?(0,o.resolve)(y.object.value,n.url):y.object.value,this.inferHttpsEndpoint&&n.url.startsWith("https")&&!y.object.value.startsWith("https")&&(d.sparqlService=d.sparqlService.replace(/^http:/u,"https:"));break;case"http://www.w3.org/ns/sparql-service-description#defaultDataset":d.defaultDataset=y.object.value;break;case"http://www.w3.org/ns/sparql-service-description#defaultGraph":d.defaultGraph=y.object.value;break;case"http://www.w3.org/ns/sparql-service-description#inputFormat":p.add(y.object.value);break;case"http://www.w3.org/ns/sparql-service-description#resultFormat":f.add(y.object.value);break;case"http://www.w3.org/ns/sparql-service-description#supportedLanguage":h.add(y.object.value);break;case"http://www.w3.org/ns/sparql-service-description#feature":y.object.value==="http://www.w3.org/ns/sparql-service-description#UnionDefaultGraph"?d.unionDefaultGraph=!0:y.object.value==="http://www.w3.org/ns/sparql-service-description#BasicFederatedQuery"&&(d.basicFederatedQuery=!0)}}),n.metadata.on("end",()=>{r({metadata:{...d,...p.size>0?{inputFormats:[...p.values()]}:{},...f.size>0?{resultFormats:[...f.values()]}:{},...h.size>0?{supportedLanguages:[...h.values()]}:{}}})})})}}e.ActorRdfMetadataExtractSparqlService=i},72374:(g,e)=>{function s(i,t=2){return i.toLocaleString(void 0,{minimumIntegerDigits:t,useGrouping:!1})}function c(i){return i.zoneHours===void 0||i.zoneMinutes===void 0?"":i.zoneHours===0&&i.zoneMinutes===0?"Z":`${i.zoneHours>=0?`+${s(i.zoneHours)}`:s(i.zoneHours)}:${s(Math.abs(i.zoneMinutes))}`}function a(i){return`${s(i.year,4)}-${s(i.month)}-${s(i.day)}${c(i)}`}function o(i){return`${s(i.hours)}:${s(i.minutes)}:${s(i.seconds)}${c(i)}`}Object.defineProperty(e,"__esModule",{value:!0}),e.serializeDuration=e.serializeTime=e.serializeDate=e.serializeDateTime=void 0,e.serializeDateTime=function(i){return`${a({year:i.year,month:i.month,day:i.day})}T${o(i)}`},e.serializeDate=a,e.serializeTime=o,e.serializeDuration=function(i,t="PT0S"){if(!Object.values(i).some(r=>(r||0)!==0))return t;const n=`${Object.values(i).some(r=>(r||0)<0)?"-":""}P${i.year?`${Math.abs(i.year)}Y`:""}${i.month?`${Math.abs(i.month)}M`:""}${i.day?`${Math.abs(i.day)}D`:""}`;return i.hours||i.minutes||i.seconds?`${n}T${i.hours?`${Math.abs(i.hours)}H`:""}${i.minutes?`${Math.abs(i.minutes)}M`:""}${i.seconds?`${Math.abs(i.seconds)}S`:""}`:n}},72706:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionSeconds=void 0;const c=s(77617),a=s(77545);class o extends c.TermFunctionBase{constructor(){super({arity:1,operator:a.SparqlOperator.SECONDS,overloads:(0,a.declare)(a.SparqlOperator.SECONDS).onDateTime1(()=>t=>(0,a.decimal)(t.typedValue.seconds)).set([a.TypeURL.XSD_TIME],()=>([t])=>(0,a.integer)(t.typedValue.seconds)).collect()})}}e.TermFunctionSeconds=o},72730:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.decodeXMLStrict=e.decodeHTML5Strict=e.decodeHTML4Strict=e.decodeHTML5=e.decodeHTML4=e.decodeHTMLAttribute=e.decodeHTMLStrict=e.decodeHTML=e.decodeXML=e.DecodingMode=e.EntityDecoder=e.encodeHTML5=e.encodeHTML4=e.encodeNonAsciiHTML=e.encodeHTML=e.escapeText=e.escapeAttribute=e.escapeUTF8=e.escape=e.encodeXML=e.encode=e.decodeStrict=e.decode=e.EncodingMode=e.EntityLevel=void 0;var c,a,o=s(79878),i=s(71818),t=s(5987);function n(d,p){if(p===void 0&&(p=c.XML),(typeof p=="number"?p:p.level)===c.HTML){var f=typeof p=="object"?p.mode:void 0;return(0,o.decodeHTML)(d,f)}return(0,o.decodeXML)(d)}(function(d){d[d.XML=0]="XML",d[d.HTML=1]="HTML"})(c=e.EntityLevel||(e.EntityLevel={})),function(d){d[d.UTF8=0]="UTF8",d[d.ASCII=1]="ASCII",d[d.Extensive=2]="Extensive",d[d.Attribute=3]="Attribute",d[d.Text=4]="Text"}(a=e.EncodingMode||(e.EncodingMode={})),e.decode=n,e.decodeStrict=function(d,p){var f;p===void 0&&(p=c.XML);var h=typeof p=="number"?{level:p}:p;return(f=h.mode)!==null&&f!==void 0||(h.mode=o.DecodingMode.Strict),n(d,h)},e.encode=function(d,p){p===void 0&&(p=c.XML);var f=typeof p=="number"?{level:p}:p;return f.mode===a.UTF8?(0,t.escapeUTF8)(d):f.mode===a.Attribute?(0,t.escapeAttribute)(d):f.mode===a.Text?(0,t.escapeText)(d):f.level===c.HTML?f.mode===a.ASCII?(0,i.encodeNonAsciiHTML)(d):(0,i.encodeHTML)(d):(0,t.encodeXML)(d)};var r=s(5987);Object.defineProperty(e,"encodeXML",{enumerable:!0,get:function(){return r.encodeXML}}),Object.defineProperty(e,"escape",{enumerable:!0,get:function(){return r.escape}}),Object.defineProperty(e,"escapeUTF8",{enumerable:!0,get:function(){return r.escapeUTF8}}),Object.defineProperty(e,"escapeAttribute",{enumerable:!0,get:function(){return r.escapeAttribute}}),Object.defineProperty(e,"escapeText",{enumerable:!0,get:function(){return r.escapeText}});var u=s(71818);Object.defineProperty(e,"encodeHTML",{enumerable:!0,get:function(){return u.encodeHTML}}),Object.defineProperty(e,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return u.encodeNonAsciiHTML}}),Object.defineProperty(e,"encodeHTML4",{enumerable:!0,get:function(){return u.encodeHTML}}),Object.defineProperty(e,"encodeHTML5",{enumerable:!0,get:function(){return u.encodeHTML}});var l=s(79878);Object.defineProperty(e,"EntityDecoder",{enumerable:!0,get:function(){return l.EntityDecoder}}),Object.defineProperty(e,"DecodingMode",{enumerable:!0,get:function(){return l.DecodingMode}}),Object.defineProperty(e,"decodeXML",{enumerable:!0,get:function(){return l.decodeXML}}),Object.defineProperty(e,"decodeHTML",{enumerable:!0,get:function(){return l.decodeHTML}}),Object.defineProperty(e,"decodeHTMLStrict",{enumerable:!0,get:function(){return l.decodeHTMLStrict}}),Object.defineProperty(e,"decodeHTMLAttribute",{enumerable:!0,get:function(){return l.decodeHTMLAttribute}}),Object.defineProperty(e,"decodeHTML4",{enumerable:!0,get:function(){return l.decodeHTML}}),Object.defineProperty(e,"decodeHTML5",{enumerable:!0,get:function(){return l.decodeHTML}}),Object.defineProperty(e,"decodeHTML4Strict",{enumerable:!0,get:function(){return l.decodeHTMLStrict}}),Object.defineProperty(e,"decodeHTML5Strict",{enumerable:!0,get:function(){return l.decodeHTMLStrict}}),Object.defineProperty(e,"decodeXMLStrict",{enumerable:!0,get:function(){return l.decodeXML}})},72770:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0});const c=s(59746);e.default=function(a){if(!(0,c.default)(a))throw TypeError("Invalid UUID");return parseInt(a.slice(14,15),16)}},72803:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ContextParser=void 0;const c=s(70742),a=s(75094),o=s(60585),i=s(85215),t=s(94931);class n{constructor(u){u=u||{},this.documentLoader=u.documentLoader||new o.FetchDocumentLoader,this.documentCache={},this.validateContext=!u.skipValidation,this.expandContentTypeToBase=!!u.expandContentTypeToBase,this.remoteContextsDepthLimit=u.remoteContextsDepthLimit||32,this.redirectSchemaOrgHttps=!("redirectSchemaOrgHttps"in u)||!!u.redirectSchemaOrgHttps}static validateLanguage(u,l,d){if(typeof u!="string")throw new a.ErrorCoded(`The value of an '@language' must be a string, got '${JSON.stringify(u)}'`,d);if(!t.Util.REGEX_LANGUAGE_TAG.test(u)){if(l)throw new a.ErrorCoded(`The value of an '@language' must be a valid language tag, got '${JSON.stringify(u)}'`,d);return!1}return!0}static validateDirection(u,l){if(typeof u!="string")throw new a.ErrorCoded(`The value of an '@direction' must be a string, got '${JSON.stringify(u)}'`,a.ERROR_CODES.INVALID_BASE_DIRECTION);if(!t.Util.REGEX_DIRECTION_TAG.test(u)){if(l)throw new a.ErrorCoded(`The value of an '@direction' must be 'ltr' or 'rtl', got '${JSON.stringify(u)}'`,a.ERROR_CODES.INVALID_BASE_DIRECTION);return!1}return!0}idifyReverseTerms(u){for(const l of Object.keys(u)){let d=u[l];if(d&&typeof d=="object"&&d["@reverse"]&&!d["@id"]){if(typeof d["@reverse"]!="string"||t.Util.isValidKeyword(d["@reverse"]))throw new a.ErrorCoded(`Invalid @reverse value, must be absolute IRI or blank node: '${d["@reverse"]}'`,a.ERROR_CODES.INVALID_IRI_MAPPING);d=u[l]=Object.assign(Object.assign({},d),{"@id":d["@reverse"]}),d["@id"]=d["@reverse"],t.Util.isPotentialKeyword(d["@reverse"])?delete d["@reverse"]:d["@reverse"]=!0}}return u}expandPrefixedTerms(u,l,d){const p=u.getContextRaw();for(const f of d||Object.keys(p))if(t.Util.EXPAND_KEYS_BLACKLIST.indexOf(f)<0&&!t.Util.isReservedInternalKeyword(f)){const h=p[f];if(t.Util.isPotentialKeyword(f)&&t.Util.ALIAS_DOMAIN_BLACKLIST.indexOf(f)>=0&&(f!=="@type"||typeof p[f]=="object"&&!p[f]["@protected"]&&p[f]["@container"]!=="@set"))throw new a.ErrorCoded(`Keywords can not be aliased to something else.
Tried mapping ${f} to ${JSON.stringify(h)}`,a.ERROR_CODES.KEYWORD_REDEFINITION);if(t.Util.ALIAS_RANGE_BLACKLIST.indexOf(t.Util.getContextValueId(h))>=0)throw new a.ErrorCoded(`Aliasing to certain keywords is not allowed.
Tried mapping ${f} to ${JSON.stringify(h)}`,a.ERROR_CODES.INVALID_KEYWORD_ALIAS);if(h&&t.Util.isPotentialKeyword(t.Util.getContextValueId(h))&&h["@prefix"]===!0)throw new a.ErrorCoded(`Tried to use keyword aliases as prefix: '${f}': '${JSON.stringify(h)}'`,a.ERROR_CODES.INVALID_TERM_DEFINITION);for(;t.Util.isPrefixValue(p[f]);){const y=p[f];let m=!1;if(typeof y=="string")p[f]=u.expandTerm(y,!0),m=m||y!==p[f];else{const b=y["@id"],v=y["@type"],_=!("@prefix"in y)||t.Util.isValidIri(f);if("@id"in y)b!=null&&typeof b=="string"&&(p[f]=Object.assign(Object.assign({},p[f]),{"@id":u.expandTerm(b,!0)}),m=m||b!==p[f]["@id"]);else if(!t.Util.isPotentialKeyword(f)&&_){const w=u.expandTerm(f,!0);w!==f&&(p[f]=Object.assign(Object.assign({},p[f]),{"@id":w}),m=!0)}if(v&&typeof v=="string"&&v!=="@vocab"&&(!y["@container"]||!y["@container"]["@type"])&&_){let w=u.expandTerm(v,!0);l&&v===w&&(w=u.expandTerm(v,!1)),w!==v&&(m=!0,p[f]=Object.assign(Object.assign({},p[f]),{"@type":w}))}}if(!m)break}}}normalize(u,{processingMode:l,normalizeLanguageTags:d}){if(d||l===1)for(const p of Object.keys(u))if(p==="@language"&&typeof u[p]=="string")u[p]=u[p].toLowerCase();else{const f=u[p];if(f&&typeof f=="object"&&typeof f["@language"]=="string"){const h=f["@language"].toLowerCase();h!==f["@language"]&&(u[p]=Object.assign(Object.assign({},f),{"@language":h}))}}}containersToHash(u){for(const l of Object.keys(u)){const d=u[l];if(d&&typeof d=="object"){if(typeof d["@container"]=="string")u[l]=Object.assign(Object.assign({},d),{"@container":{[d["@container"]]:!0}});else if(Array.isArray(d["@container"])){const p={};for(const f of d["@container"])p[f]=!0;u[l]=Object.assign(Object.assign({},d),{"@container":p})}}}}applyScopedProtected(u,{processingMode:l},d){if(l&&l>=1.1&&u["@protected"]){for(const p of Object.keys(u))if(!t.Util.isReservedInternalKeyword(p)&&!t.Util.isPotentialKeyword(p)&&!t.Util.isTermProtected(u,p)){const f=u[p];f&&typeof f=="object"?"@protected"in u[p]||(u[p]=Object.assign(Object.assign({},u[p]),{"@protected":!0})):(u[p]={"@id":f,"@protected":!0},t.Util.isSimpleTermDefinitionPrefix(f,d)&&(u[p]=Object.assign(Object.assign({},u[p]),{"@prefix":!0})))}delete u["@protected"]}}validateKeywordRedefinitions(u,l,d,p){for(const f of p??Object.keys(l))if(t.Util.isTermProtected(u,f)&&(typeof l[f]=="string"?l[f]={"@id":l[f],"@protected":!0}:l[f]=Object.assign(Object.assign({},l[f]),{"@protected":!0}),!t.Util.deepEqual(u[f],l[f])))throw new a.ErrorCoded(`Attempted to override the protected keyword ${f} from ${JSON.stringify(t.Util.getContextValueId(u[f]))} to ${JSON.stringify(t.Util.getContextValueId(l[f]))}`,a.ERROR_CODES.PROTECTED_TERM_REDEFINITION)}validate(u,{processingMode:l}){for(const d of Object.keys(u)){if(t.Util.isReservedInternalKeyword(d))continue;if(d==="")throw new a.ErrorCoded(`The empty term is not allowed, got: '${d}': '${JSON.stringify(u[d])}'`,a.ERROR_CODES.INVALID_TERM_DEFINITION);const p=u[d],f=typeof p;if(t.Util.isPotentialKeyword(d)){switch(d.substr(1)){case"vocab":if(p!==null&&f!=="string")throw new a.ErrorCoded(`Found an invalid @vocab IRI: ${p}`,a.ERROR_CODES.INVALID_VOCAB_MAPPING);break;case"base":if(p!==null&&f!=="string")throw new a.ErrorCoded(`Found an invalid @base IRI: ${u[d]}`,a.ERROR_CODES.INVALID_BASE_IRI);break;case"language":p!==null&&n.validateLanguage(p,!0,a.ERROR_CODES.INVALID_DEFAULT_LANGUAGE);break;case"version":if(p!==null&&f!=="number")throw new a.ErrorCoded(`Found an invalid @version number: ${p}`,a.ERROR_CODES.INVALID_VERSION_VALUE);break;case"direction":p!==null&&n.validateDirection(p,!0);break;case"propagate":if(l===1)throw new a.ErrorCoded(`Found an illegal @propagate keyword: ${p}`,a.ERROR_CODES.INVALID_CONTEXT_ENTRY);if(p!==null&&f!=="boolean")throw new a.ErrorCoded(`Found an invalid @propagate value: ${p}`,a.ERROR_CODES.INVALID_PROPAGATE_VALUE)}if(t.Util.isValidKeyword(d)&&t.Util.isValidKeyword(t.Util.getContextValueId(p)))throw new a.ErrorCoded(`Illegal keyword alias in term value, found: '${d}': '${t.Util.getContextValueId(p)}'`,a.ERROR_CODES.KEYWORD_REDEFINITION)}else if(p!==null)switch(f){case"string":if(t.Util.getPrefix(p,u)===d)throw new a.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${d}': '${JSON.stringify(p)}'`,a.ERROR_CODES.CYCLIC_IRI_MAPPING);if(t.Util.isValidIriWeak(d)){if(p==="@type")throw new a.ErrorCoded(`IRIs can not be mapped to @type, found: '${d}': '${p}'`,a.ERROR_CODES.INVALID_IRI_MAPPING);if(t.Util.isValidIri(p)&&p!==new i.JsonLdContextNormalized(u).expandTerm(d))throw new a.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${d}': '${p}'`,a.ERROR_CODES.INVALID_IRI_MAPPING)}break;case"object":if(!(t.Util.isCompactIri(d)||"@id"in p||(p["@type"]==="@id"?u["@base"]:u["@vocab"])))throw new a.ErrorCoded(`Missing @id in context entry: '${d}': '${JSON.stringify(p)}'`,a.ERROR_CODES.INVALID_IRI_MAPPING);for(const h of Object.keys(p)){const y=p[h];if(y)switch(h){case"@id":if(t.Util.isValidKeyword(y)&&y!=="@type"&&y!=="@id"&&y!=="@graph"&&y!=="@nest")throw new a.ErrorCoded(`Illegal keyword alias in term value, found: '${d}': '${JSON.stringify(p)}'`,a.ERROR_CODES.INVALID_IRI_MAPPING);if(t.Util.isValidIriWeak(d)){if(y==="@type")throw new a.ErrorCoded(`IRIs can not be mapped to @type, found: '${d}': '${JSON.stringify(p)}'`,a.ERROR_CODES.INVALID_IRI_MAPPING);if(t.Util.isValidIri(y)&&y!==new i.JsonLdContextNormalized(u).expandTerm(d))throw new a.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${d}': '${JSON.stringify(p)}'`,a.ERROR_CODES.INVALID_IRI_MAPPING)}if(typeof y!="string")throw new a.ErrorCoded(`Detected non-string @id in context entry: '${d}': '${JSON.stringify(p)}'`,a.ERROR_CODES.INVALID_IRI_MAPPING);if(t.Util.getPrefix(y,u)===d)throw new a.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${d}': '${JSON.stringify(p)}'`,a.ERROR_CODES.CYCLIC_IRI_MAPPING);break;case"@type":if(p["@container"]==="@type"&&y!=="@id"&&y!=="@vocab")throw new a.ErrorCoded(`@container: @type only allows @type: @id or @vocab, but got: '${d}': '${y}'`,a.ERROR_CODES.INVALID_TYPE_MAPPING);if(typeof y!="string")throw new a.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(f)}'`,a.ERROR_CODES.INVALID_TYPE_MAPPING);if(!(y==="@id"||y==="@vocab"||l!==1&&y==="@json"||l!==1&&y==="@none"||y[0]!=="_"&&t.Util.isValidIri(y)))throw new a.ErrorCoded(`A context @type must be an absolute IRI, found: '${d}': '${y}'`,a.ERROR_CODES.INVALID_TYPE_MAPPING);break;case"@reverse":if(typeof y=="string"&&p["@id"]&&p["@id"]!==y)throw new a.ErrorCoded(`Found non-matching @id and @reverse term values in '${d}':'${y}' and '${p["@id"]}'`,a.ERROR_CODES.INVALID_REVERSE_PROPERTY);if("@nest"in p)throw new a.ErrorCoded(`@nest is not allowed in the reverse property '${d}'`,a.ERROR_CODES.INVALID_REVERSE_PROPERTY);break;case"@container":if(l===1&&(Object.keys(y).length>1||t.Util.CONTAINERS_1_0.indexOf(Object.keys(y)[0])<0))throw new a.ErrorCoded(`Invalid term @container for '${d}' ('${Object.keys(y)}') in 1.0, must be only one of ${t.Util.CONTAINERS_1_0.join(", ")}`,a.ERROR_CODES.INVALID_CONTAINER_MAPPING);for(const m of Object.keys(y)){if(m==="@list"&&p["@reverse"])throw new a.ErrorCoded(`Term value can not be @container: @list and @reverse at the same time on '${d}'`,a.ERROR_CODES.INVALID_REVERSE_PROPERTY);if(t.Util.CONTAINERS.indexOf(m)<0)throw new a.ErrorCoded(`Invalid term @container for '${d}' ('${m}'), must be one of ${t.Util.CONTAINERS.join(", ")}`,a.ERROR_CODES.INVALID_CONTAINER_MAPPING)}break;case"@language":n.validateLanguage(y,!0,a.ERROR_CODES.INVALID_LANGUAGE_MAPPING);break;case"@direction":n.validateDirection(y,!0);break;case"@prefix":if(y!==null&&typeof y!="boolean")throw new a.ErrorCoded(`Found an invalid term @prefix boolean in: '${d}': '${JSON.stringify(p)}'`,a.ERROR_CODES.INVALID_PREFIX_VALUE);if(!("@id"in p)&&!t.Util.isValidIri(d))throw new a.ErrorCoded(`Invalid @prefix definition for '${d}' ('${JSON.stringify(p)}'`,a.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@index":if(l===1||!p["@container"]||!p["@container"]["@index"])throw new a.ErrorCoded(`Attempt to add illegal key to value object: '${d}': '${JSON.stringify(p)}'`,a.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@nest":if(t.Util.isPotentialKeyword(y)&&y!=="@nest")throw new a.ErrorCoded(`Found an invalid term @nest value in: '${d}': '${JSON.stringify(p)}'`,a.ERROR_CODES.INVALID_NEST_VALUE)}}break;default:throw new a.ErrorCoded(`Found an invalid term value: '${d}': '${p}'`,a.ERROR_CODES.INVALID_TERM_DEFINITION)}}}applyBaseEntry(u,l,d){return typeof u=="string"||(d&&!("@base"in u)&&l.parentContext&&typeof l.parentContext=="object"&&"@base"in l.parentContext&&(u["@base"]=l.parentContext["@base"],l.parentContext["@__baseDocument"]&&(u["@__baseDocument"]=!0)),l.baseIRI&&!l.external&&("@base"in u?u["@base"]===null||typeof u["@base"]!="string"||t.Util.isValidIri(u["@base"])||(u["@base"]=(0,c.resolve)(u["@base"],l.parentContext&&l.parentContext["@base"]||l.baseIRI)):(u["@base"]=l.baseIRI,u["@__baseDocument"]=!0))),u}normalizeContextIri(u,l){if(!t.Util.isValidIri(u))try{u=(0,c.resolve)(u,l)}catch{throw new Error(`Invalid context IRI: ${u}`)}return this.redirectSchemaOrgHttps&&u.startsWith("http://schema.org")&&(u="https://schema.org/"),u}async parseInnerContexts(u,l,d){for(const p of d??Object.keys(u)){const f=u[p];if(f&&typeof f=="object"&&"@context"in f&&f["@context"]!==null&&!l.ignoreScopedContexts){if(this.validateContext)try{const h=Object.assign(Object.assign({},u),{[p]:Object.assign({},u[p])});delete h[p]["@context"],await this.parse(f["@context"],Object.assign(Object.assign({},l),{external:!1,parentContext:h,ignoreProtection:!0,ignoreRemoteScopedContexts:!0,ignoreScopedContexts:!0}))}catch(h){throw new a.ErrorCoded(h.message,a.ERROR_CODES.INVALID_SCOPED_CONTEXT)}u[p]=Object.assign(Object.assign({},f),{"@context":(await this.parse(f["@context"],Object.assign(Object.assign({},l),{external:!1,minimalProcessing:!0,ignoreRemoteScopedContexts:!0,parentContext:u}))).getContextRaw()})}}return u}async parse(u,l={},d={}){const{baseIRI:p,parentContext:f,external:h,processingMode:y=n.DEFAULT_PROCESSING_MODE,normalizeLanguageTags:m,ignoreProtection:b,minimalProcessing:v}=l,_=l.remoteContexts||{};if(Object.keys(_).length>=this.remoteContextsDepthLimit)throw new a.ErrorCoded("Detected an overflow in remote context inclusions: "+Object.keys(_),a.ERROR_CODES.CONTEXT_OVERFLOW);if(u==null){if(!b&&f&&t.Util.hasProtectedTerms(f))throw new a.ErrorCoded("Illegal context nullification when terms are protected",a.ERROR_CODES.INVALID_CONTEXT_NULLIFICATION);return new i.JsonLdContextNormalized(this.applyBaseEntry({},l,!1))}if(typeof u=="string"){const w=this.normalizeContextIri(u,p),O=this.getOverriddenLoad(w,l);if(O)return new i.JsonLdContextNormalized(O);const A=await this.parse(await this.load(w),Object.assign(Object.assign({},l),{baseIRI:w,external:!0,remoteContexts:Object.assign(Object.assign({},_),{[w]:!0})}));return this.applyBaseEntry(A.getContextRaw(),l,!0),A}if(Array.isArray(u)){const w=[],O=await Promise.all(u.map((T,S)=>{if(typeof T=="string"){const E=this.normalizeContextIri(T,p);return w[S]=E,this.getOverriddenLoad(E,l)||this.load(E)}return T}));if(v)return new i.JsonLdContextNormalized(O);const A=await O.reduce((T,S,E)=>T.then(D=>this.parse(S,Object.assign(Object.assign({},l),{baseIRI:w[E]||l.baseIRI,external:!!w[E]||l.external,parentContext:D.getContextRaw(),remoteContexts:w[E]?Object.assign(Object.assign({},_),{[w[E]]:!0}):_}),{skipValidation:E<O.length-1})),Promise.resolve(new i.JsonLdContextNormalized(f||{})));return this.applyBaseEntry(A.getContextRaw(),l,!0),A}if(typeof u=="object"){if("@context"in u)return await this.parse(u["@context"],l);if(u=Object.assign({},u),h&&delete u["@base"],this.applyBaseEntry(u,l,!0),this.containersToHash(u),v)return new i.JsonLdContextNormalized(u);let w={};if("@import"in u){if(!(y>=1.1))throw new a.ErrorCoded("Context importing is not supported in JSON-LD 1.0",a.ERROR_CODES.INVALID_CONTEXT_ENTRY);if(typeof u["@import"]!="string")throw new a.ErrorCoded("An @import value must be a string, but got "+typeof u["@import"],a.ERROR_CODES.INVALID_IMPORT_VALUE);w=await this.loadImportContext(this.normalizeContextIri(u["@import"],p)),delete u["@import"]}this.applyScopedProtected(w,{processingMode:y},i.defaultExpandOptions);const O=Object.assign(w,u);this.idifyReverseTerms(O),this.normalize(O,{processingMode:y,normalizeLanguageTags:m}),this.applyScopedProtected(O,{processingMode:y},i.defaultExpandOptions);const A=Object.keys(O),T=[];if(typeof f=="object")for(const E in f)E in O?T.push(E):O[E]=f[E];await this.parseInnerContexts(O,l,A);const S=new i.JsonLdContextNormalized(O);return(O&&O["@version"]||n.DEFAULT_PROCESSING_MODE)>=1.1&&(u["@vocab"]&&typeof u["@vocab"]=="string"||u["@vocab"]==="")&&(f&&"@vocab"in f&&u["@vocab"].indexOf(":")<0?O["@vocab"]=f["@vocab"]+u["@vocab"]:(t.Util.isCompactIri(u["@vocab"])||u["@vocab"]in O)&&(O["@vocab"]=S.expandTerm(u["@vocab"],!0))),this.expandPrefixedTerms(S,this.expandContentTypeToBase,A),!b&&f&&y>=1.1&&this.validateKeywordRedefinitions(f,O,i.defaultExpandOptions,T),this.validateContext&&!d.skipValidation&&this.validate(O,{processingMode:y}),S}throw new a.ErrorCoded(`Tried parsing a context that is not a string, array or object, but got ${u}`,a.ERROR_CODES.INVALID_LOCAL_CONTEXT)}async load(u){const l=this.documentCache[u];if(l)return l;let d;try{d=await this.documentLoader.load(u)}catch(p){throw new a.ErrorCoded(`Failed to load remote context ${u}: ${p.message}`,a.ERROR_CODES.LOADING_REMOTE_CONTEXT_FAILED)}if(!("@context"in d))throw new a.ErrorCoded(`Missing @context in remote context at ${u}`,a.ERROR_CODES.INVALID_REMOTE_CONTEXT);return this.documentCache[u]=d["@context"]}getOverriddenLoad(u,l){if(u in(l.remoteContexts||{})){if(l.ignoreRemoteScopedContexts)return u;throw new a.ErrorCoded("Detected a cyclic context inclusion of "+u,a.ERROR_CODES.RECURSIVE_CONTEXT_INCLUSION)}return null}async loadImportContext(u){let l=await this.load(u);if(typeof l!="object"||Array.isArray(l))throw new a.ErrorCoded("An imported context must be a single object: "+u,a.ERROR_CODES.INVALID_REMOTE_CONTEXT);if("@import"in l)throw new a.ErrorCoded("An imported context can not import another context: "+u,a.ERROR_CODES.INVALID_CONTEXT_ENTRY);return l=Object.assign({},l),this.containersToHash(l),l}}n.DEFAULT_PROCESSING_MODE=1.1,e.ContextParser=n},72818:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ExpressionFunctionBound=void 0;const c=s(77617),a=s(90711),o=s(42996),i=s(77545);class t extends c.ExpressionFunctionBase{constructor(){super({arity:1,operator:i.SparqlOperator.BOUND,apply:async({args:r,mapping:u,exprEval:l})=>{const d=r[0];if(d.expressionType!==o.ExpressionType.Variable)throw new i.InvalidArgumentTypes(r,i.SparqlOperator.BOUND);const p=u.has((0,i.expressionToVar)(l.context.getSafe(a.KeysInitQuery.dataFactory),d));return(0,i.bool)(p)}})}}e.ExpressionFunctionBound=t},72945:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(5847),e)},73038:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TokenKind=void 0;var s=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});e.TokenKind=s},73143:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.termToString=e.stringToTerm=e.stringQuadToQuad=e.quadToStringQuad=e.getLiteralValue=e.getLiteralType=e.getLiteralLanguage=void 0;const c=s(41845);Object.defineProperty(e,"getLiteralLanguage",{enumerable:!0,get:function(){return c.getLiteralLanguage}}),Object.defineProperty(e,"getLiteralType",{enumerable:!0,get:function(){return c.getLiteralType}}),Object.defineProperty(e,"getLiteralValue",{enumerable:!0,get:function(){return c.getLiteralValue}}),Object.defineProperty(e,"quadToStringQuad",{enumerable:!0,get:function(){return c.quadToStringQuad}}),Object.defineProperty(e,"stringQuadToQuad",{enumerable:!0,get:function(){return c.stringQuadToQuad}}),Object.defineProperty(e,"stringToTerm",{enumerable:!0,get:function(){return c.stringToTerm}}),Object.defineProperty(e,"termToString",{enumerable:!0,get:function(){return c.termToString}})},73153:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Util=void 0;const c=s(47793),a=s(70742);class o{constructor(t,n){this.dataFactory=t||new c.DataFactory,this.baseIRI=n||""}static isValidIri(t){return o.IRI_REGEX.test(t)}createVocabIris(t,n,r){return t.split(/\s+/u).filter(u=>!!u).map(u=>{if(!o.isValidIri(u)){if(!r)return;u=`${n.vocab||`${this.baseIRI}#`}${u}`}return this.dataFactory.namedNode(u)}).filter(u=>!!u)}getVocabularyExpansionType(t,n,r){const u=t.split(/\s+/u);if(u.includes("subPropertyOf")||u.includes("equivalentProperty"))return[this.dataFactory.namedNode(`${o.RDF}type`)];if(n.vocab&&n.vocab in r&&r[n.vocab].properties){let l=[];for(const[d,p]of Object.entries(r[n.vocab].properties))u.includes(d)&&(l=[...Object.values(p).map(f=>this.dataFactory.namedNode(f))]);return l}return[]}createSubject(t){if(!o.isValidIri(t))try{t=(0,a.resolve)(t,this.baseIRI)}catch{return}return this.dataFactory.namedNode(t)}createLiteral(t,n){return this.dataFactory.literal(t,n.language)}deriveVocab(t,n){let r;for(const u in n)if(t.startsWith(u)){r=u,r.endsWith("/")||(r+="#");break}if(!r){const u=t.indexOf("#");r=u>0?t.slice(0,u+1):(0,a.resolve)(".",t)}return r}}e.Util=o,o.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",o.XSD="http://www.w3.org/2001/XMLSchema#",o.RDFA="http://www.w3.org/ns/rdfa#",o.IRI_REGEX=/^([A-Za-z][\d+-.A-Za-z]*|_):[^ "<>[\\\]`{|}]*$/u},73392:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ExpressionFunctionConcat=void 0;const c=s(77617),a=s(90711),o=s(77545);class i extends c.ExpressionFunctionBase{constructor(){super({arity:Number.POSITIVE_INFINITY,operator:o.SparqlOperator.CONCAT,apply:async n=>{const{args:r,mapping:u,exprEval:l}=n,d=r.map(async y=>l.evaluatorExpressionEvaluation(y,u)).map(async y=>{const m=i.concatTree.search([await y],l.context.getSafe(a.KeysExpressionEvaluator.superTypeProvider),l.context.getSafe(a.KeysInitQuery.functionArgumentsCache));if(!m)throw new o.InvalidArgumentTypes(r,o.SparqlOperator.CONCAT);return m(l)([await y])}),p=await Promise.all(d),f=p.map(y=>y.typedValue).join(""),h=i.langAllEqual(p)?p[0].language:void 0;return h?(0,o.langString)(f,h):(0,o.string)(f)}})}static langAllEqual(n){return n.length>0&&n.every(r=>r.language===n[0].language)}}e.ExpressionFunctionConcat=i,i.concatTree=(0,o.declare)(o.SparqlOperator.CONCAT).onStringly1(()=>t=>t).collect()},73403:(g,e)=>{function s(c){if(c.prev&&(c.prev.next=c.next),c.next&&(c.next.prev=c.prev),c.parent){var a=c.parent.children,o=a.lastIndexOf(c);o>=0&&a.splice(o,1)}c.next=null,c.prev=null,c.parent=null}Object.defineProperty(e,"__esModule",{value:!0}),e.removeElement=s,e.replaceElement=function(c,a){var o=a.prev=c.prev;o&&(o.next=a);var i=a.next=c.next;i&&(i.prev=a);var t=a.parent=c.parent;if(t){var n=t.children;n[n.lastIndexOf(c)]=a,c.parent=null}},e.appendChild=function(c,a){if(s(a),a.next=null,a.parent=c,c.children.push(a)>1){var o=c.children[c.children.length-2];o.next=a,a.prev=o}else a.prev=null},e.append=function(c,a){s(a);var o=c.parent,i=c.next;if(a.next=i,a.prev=c,c.next=a,a.parent=o,i){if(i.prev=a,o){var t=o.children;t.splice(t.lastIndexOf(i),0,a)}}else o&&o.children.push(a)},e.prependChild=function(c,a){if(s(a),a.parent=c,a.prev=null,c.children.unshift(a)!==1){var o=c.children[1];o.prev=a,a.next=o}else a.next=null},e.prepend=function(c,a){s(a);var o=c.parent;if(o){var i=o.children;i.splice(i.indexOf(c),0,a)}c.prev&&(c.prev.next=a),a.parent=o,a.prev=c.prev,a.next=c,c.prev=a}},73410:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionXsdToDecimal=void 0;const c=s(77617),a=s(77545);class o extends c.TermFunctionBase{constructor(){super({arity:1,operator:a.TypeURL.XSD_DECIMAL,overloads:(0,a.declare)(a.TypeURL.XSD_DECIMAL).onNumeric1(()=>t=>{const n=(0,a.parseXSDDecimal)(t.str());if(n===void 0)throw new a.CastError(t,a.TypeURL.XSD_DECIMAL);return(0,a.decimal)(n)}).onString1(()=>t=>{const n=t.str(),r=/^([+-])?(\d+(\.\d+)?)$/u.test(n)?(0,a.parseXSDDecimal)(n):void 0;if(r===void 0)throw new a.CastError(t,a.TypeURL.XSD_DECIMAL);return(0,a.decimal)(r)},!1).onBoolean1Typed(()=>t=>(0,a.decimal)(t?1:0)).collect()})}}e.TermFunctionXsdToDecimal=o},73423:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getShaclName=void 0,e.getShaclName=function(s){if(s.termType!=="NamedNode"||!s.value.startsWith("http://www.w3.org/ns/shacl#"))throw new Error(`Term ${s.value} is not part of the SHACL namespace`);return s.value.slice(27)}},73481:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermIri=void 0;const c=s(77617),a=s(77545),o=s(58006);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.SparqlOperator.IRI,a.SparqlOperator.URI],termFunction:!0})}async run(n){return new o.TermFunctionIri}}e.ActorFunctionFactoryTermIri=i},73505:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryResultSerializeTree=void 0;const c=s(58871),a=s(90711),o=s(90412),i=s(19198),t=s(12763);class n extends c.ActorQueryResultSerializeFixedMediaTypes{constructor(u){super(u)}static async bindingsStreamToGraphQl(u,l,d){const p=o.ActionContext.ensureActionContext(l),f=new t.Converter(d),h={singularizeVariables:p.get(a.KeysInitQuery.graphqlSingularizeVariables)??{}};return f.bindingsToTree(await u.map(y=>Object.fromEntries([...y].map(([m,b])=>[m.value,b]))).toArray(),h)}async testHandleChecked(u){return u.type!=="bindings"?(0,o.failTest)("This actor can only handle bindings streams."):(0,o.passTestVoid)()}async runHandle(u,l){const d=new i.Readable;return d._read=()=>{d._read=()=>{},n.bindingsStreamToGraphQl(u.bindingsStream,u.context,{materializeRdfJsTerms:!0}).then(p=>{d.push(JSON.stringify(p,null,"  ")),d.push(null)}).catch(p=>d.emit("error",p))},{data:d}}}e.ActorQueryResultSerializeTree=n},73645:(g,e)=>{var s;Object.defineProperty(e,"__esModule",{value:!0}),e.fromCodePoint=void 0,e.replaceCodePoint=a,e.decodeCodePoint=function(o){return(0,e.fromCodePoint)(a(o))};const c=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function a(o){var i;return o>=55296&&o<=57343||o>1114111?65533:(i=c.get(o))!==null&&i!==void 0?i:o}e.fromCodePoint=(s=String.fromCodePoint)!==null&&s!==void 0?s:function(o){let i="";return o>65535&&(o-=65536,i+=String.fromCharCode(o>>>10&1023|55296),o=56320|1023&o),i+=String.fromCharCode(o),i}},73719:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.stringQuadToQuad=e.quadToStringQuad=e.stringToTerm=e.getLiteralLanguage=e.getLiteralType=e.getLiteralValue=e.termToString=void 0;const c=new(s(47793)).DataFactory;function a(r){if(r)switch(r.termType){case"NamedNode":case"DefaultGraph":return r.value;case"BlankNode":return"_:"+r.value;case"Literal":const u=r;return'"'+u.value+'"'+(u.datatype&&u.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&u.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?"^^"+u.datatype.value:"")+(u.language?"@"+u.language:"");case"Quad":return`<<${a(r.subject)} ${a(r.predicate)} ${a(r.object)}${r.graph.termType==="DefaultGraph"?"":" "+a(r.graph)}>>`;case"Variable":return"?"+r.value}}function o(r){const u=/^"([^]*)"/.exec(r);if(!u)throw new Error(r+" is not a literal");return u[1]}function i(r){const u=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(r);if(!u)throw new Error(r+" is not a literal");return u[1]||(u[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}function t(r){const u=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(r);if(!u)throw new Error(r+" is not a literal");return u[1]?u[1].toLowerCase():""}function n(r,u){if(u=u||c,!r||!r.length)return u.defaultGraph();switch(r[0]){case"_":return u.blankNode(r.substr(2));case"?":if(!u.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return u.variable(r.substr(1));case'"':const l=t(r),d=u.namedNode(i(r));return u.literal(o(r),l||d);default:if(r[0]==="<"&&r.length>4&&r[1]==="<"&&r[r.length-1]===">"&&r[r.length-2]===">"){const p=r.slice(2,-2).trim();let f=[],h=0,y=0,m=!1;for(let b=0;b<p.length;b++){const v=p[b];if(v==="<"&&h++,v===">"){if(h===0)throw new Error("Found closing tag without opening tag in "+r);h--}if(v==='"'){let _=!1,w=b;for(;w-- >0&&p[w]==="\\";)_=!_;_||(m=!m)}if(v===" "&&!m&&h===0){for(f.push(p.slice(y,b));p[b+1]===" ";)b+=1;y=b+1}}if(h!==0)throw new Error("Found opening tag without closing tag in "+r);if(f.push(p.slice(y,p.length)),f.length!==3&&f.length!==4)throw new Error("Nested quad syntax error "+r);return f=f.map(b=>b.startsWith("<")&&!b.includes(" ")?b.slice(1,-1):b),u.quad(n(f[0]),n(f[1]),n(f[2]),f[3]?n(f[3]):void 0)}return u.namedNode(r)}}e.termToString=a,e.getLiteralValue=o,e.getLiteralType=i,e.getLiteralLanguage=t,e.stringToTerm=n,e.quadToStringQuad=function(r){return{subject:a(r.subject),predicate:a(r.predicate),object:a(r.object),graph:a(r.graph)}},e.stringQuadToQuad=function(r,u){return(u=u||c).quad(n(r.subject,u),n(r.predicate,u),n(r.object,u),n(r.graph,u))}},73776:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(q,L,R,k){k===void 0&&(k=R);var X=Object.getOwnPropertyDescriptor(L,R);X&&!("get"in X?!L.__esModule:X.writable||X.configurable)||(X={enumerable:!0,get:function(){return L[R]}}),Object.defineProperty(q,k,X)}:function(q,L,R,k){k===void 0&&(k=R),q[k]=L[R]}),a=this&&this.__setModuleDefault||(Object.create?function(q,L){Object.defineProperty(q,"default",{enumerable:!0,value:L})}:function(q,L){q.default=L}),o=this&&this.__importStar||function(q){if(q&&q.__esModule)return q;var L={};if(q!=null)for(var R in q)R!=="default"&&Object.prototype.hasOwnProperty.call(q,R)&&c(L,q,R);return a(L,q),L},i=this&&this.__importDefault||function(q){return q&&q.__esModule?q:{default:q}};Object.defineProperty(e,"__esModule",{value:!0});const t=s(29252),n=s(34069),r=o(s(13079)),u=i(s(91409)),l=i(s(64995)),d=s(98082).Parser,p=r.types;let f,h=new Set,y=0,m=!1;function b(q,L,R){if(h=new Set,y=0,m=!!L,!q.type)return f.createNop();if(q.type!=="query"&&q.type!=="update")throw new Error("Translate only works on complete query or update objects.");let k;var X;return w(q),q.type==="query"?(k=A({type:"group",patterns:q.where||[]}),k=function(oe,ee){const me=oe,de=[],xe={};if(me.variables=me.variables&&me.variables.map(be=>W(be,xe)),me.having=me.having&&me.having.map(be=>W(be,xe)),me.order=me.order&&me.order.map(be=>W(be,xe)),me.group||Object.keys(xe).length>0){const be=Object.keys(xe).map(ge=>function(Ee,M){if(Ee.type!=="aggregate"||!Ee.aggregation)throw new Error(`Unexpected input: ${JSON.stringify(Ee)}`);const P=T(Ee);return P.variable=M,P}(xe[ge],f.createTerm(ge))),ie=[];if(me.group)for(const ge of me.group)if(l.default.isSimpleTerm(ge.expression))ie.push(ge.expression);else{const Ee="variable"in ge?ge.variable:I();ee=f.createExtend(ee,Ee,T(ge.expression)),ie.push(Ee)}ee=f.createGroup(ee,ie,be)}if(me.having)for(let be of me.having)ee=f.createFilter(ee,T(be));oe.values&&(ee=f.createJoin([ee,U(oe)]));let ne=[];if(oe.queryType==="SELECT"||oe.queryType==="DESCRIBE")if(oe.variables.some(be=>be&&l.default.isWildcard(be)))ne=Object.values(O(oe)).sort((be,ie)=>be.value.localeCompare(ie.value));else for(let be of oe.variables)_(be)||!("variable"in be)?ne.push(be):be.variable&&(ne.push(be.variable),de.push(be));for(let be of de)ee=f.createExtend(ee,be.variable,T(be.expression));return me.order&&(ee=f.createOrderBy(ee,me.order.map(be=>{let ie=T(be.expression);return be.descending&&(ie=f.createOperatorExpression("desc",[ie])),ie}))),oe.queryType==="SELECT"&&(ee=f.createProject(ee,ne)),me.distinct&&(ee=f.createDistinct(ee)),me.reduced&&(ee=f.createReduced(ee)),oe.queryType==="CONSTRUCT"?ee=f.createConstruct(ee,(oe.template||[]).map(V)):oe.queryType==="ASK"?ee=f.createAsk(ee):oe.queryType==="DESCRIBE"&&(ee=f.createDescribe(ee,ne)),(me.offset||me.limit)&&(ee=f.createSlice(ee,me.offset||0,me.limit)),me.from&&(ee=f.createFrom(ee,me.from.default,me.from.named)),ee}(q,k)):q.type==="update"&&(k=(X=q).updates.length===1?ye(X.updates[0]):f.createCompositeUpdate(X.updates.map(ye))),R&&(k=he(k)),k}function v(q){return!!q?.termType}function _(q){return q?.termType==="Variable"}function w(q){if(v(q))_(q)&&h.add(`?${q.value}`);else if(Array.isArray(q))for(const L of q)w(L);else if(q&&typeof q=="object")for(let L of Object.keys(q))L.startsWith("?")?h.add(L):L.startsWith("$")&&h.add(`?${L.slice(1)}`),w(q[L])}function O(q){let L={};if((R=q).subject&&R.predicate&&R.object){const k=[O(q.subject),O(q.predicate),O(q.object),q.graph?O(q.graph):{}];Object.assign(L,...k)}else if(v(q))_(q)&&(L[q.value]=q);else if(q.type==="bgp"){const k=q.triples;Object.assign(L,...k.map(O))}else if(q.type==="path")Object.assign(L,...q.items.map(O));else if(q.type==="group"||q.type==="union"||q.type==="optional")Object.assign(L,...q.patterns.map(O));else if(q.type==="service"||q.type==="graph")Object.assign(L,O(q.name)),Object.assign(L,...q.patterns.map(O));else if(q.type==="bind")Object.assign(L,O(q.variable));else if(q.type==="values"){if(q.values.length>0){const k=Object.keys(q.values[0]).map(X=>f.createTerm(X));Object.assign(L,...k.map(O))}}else if(q.type==="query"&&(q.queryType==="SELECT"||q.queryType==="DESCRIBE")){q.where&&q.variables.some(l.default.isWildcard)&&Object.assign(L,...q.where.map(O));for(const k of q.variables)_(k)?Object.assign(L,O(k)):k.variable&&Object.assign(L,O(k.variable));if(q.queryType==="SELECT"){if(q.group)for(const k of q.group)k.variable&&Object.assign(L,O(k.variable));if(q.values){const k={type:"values",values:q.values};Object.assign(L,O(k))}}}var R;return L}function A(q){if(q.type==="bgp")return function(L){let R=[],k=[];for(let X of L.triples)if("pathType"in X.predicate){let oe=S(X);for(let ee of oe)ee.type===p.PATH?(R.length>0&&k.push(f.createBgp(R)),R=[],k.push(ee)):R.push(ee)}else R.push(V(X));return R.length>0&&k.push(f.createBgp(R)),k.length===1?k[0]:f.createJoin(k)}(q);if(q.type==="union")return f.createUnion(q.patterns.map(L=>(L.type!=="group"&&(L={type:"group",patterns:[L]}),A(L))));if(q.type==="graph"){let L=A({type:"group",patterns:q.patterns});return L=m?B(L,q.name):f.createGraph(L,q.name),L}if(q.type==="values")return U(q);if(q.type==="query")return b(q,m,!1);if(q.type==="group"){let L=[],R=[];for(let oe of q.patterns)(oe.type==="filter"?L:R).push(oe);let k=R.reduce($,f.createBgp([])),X=L.map(oe=>T(oe.expression));return X.length>0&&(k=f.createFilter(k,X.reduce((oe,ee)=>f.createOperatorExpression("&&",[oe,ee])))),k}throw new Error(`Unexpected type: ${q.type}`)}function T(q){if(l.default.isSimpleTerm(q))return f.createTermExpression(q);if(l.default.isQuad(q))return l.default.hasQuadVariables(q)?f.createOperatorExpression("triple",[T(q.subject),T(q.predicate),T(q.object)]):f.createTermExpression(q);if(l.default.isWildcard(q))return f.createWildcardExpression();if("aggregation"in q)return f.createAggregateExpression(q.aggregation,T(q.expression),!!q.distinct,q.separator);if("function"in q)return f.createNamedExpression(q.function,q.args.map(T));if("operator"in q)return q.operator==="exists"||q.operator==="notexists"?f.createExistenceExpression(q.operator==="notexists",A(q.args[0])):(q.operator!=="in"&&q.operator!=="notin"||(q.args=[q.args[0]].concat(q.args[1])),f.createOperatorExpression(q.operator,q.args.map(T)));throw new Error(`Unknown expression: ${JSON.stringify(q)}`)}function S(q){return D(q.subject,E(q.predicate),q.object)}function E(q){if(l.default.isSimpleTerm(q)){if(q.termType==="NamedNode")return f.createLink(q);throw new Error(`Path predicate should be a NamedNode, got ${JSON.stringify(q)}`)}if(q.pathType==="^")return f.createInv(E(q.items[0]));if(q.pathType==="!"){let L,R=[],k=[];L="pathType"in q.items[0]&&q.items[0].pathType==="|"?q.items[0].items:q.items;for(let ee of L)if(l.default.isSimpleTerm(ee))R.push(ee);else{if(ee.pathType!=="^")throw new Error(`Unexpected item: ${JSON.stringify(ee)}`);k.push(ee.items[0])}let X=f.createNps(R),oe=f.createInv(f.createNps(k));return k.length===0?X:R.length===0?oe:f.createAlt([X,oe])}if(q.pathType==="/")return f.createSeq(q.items.map(E));if(q.pathType==="|")return f.createAlt(q.items.map(E));if(q.pathType==="*")return f.createZeroOrMorePath(E(q.items[0]));if(q.pathType==="+")return f.createOneOrMorePath(E(q.items[0]));if(q.pathType==="?")return f.createZeroOrOnePath(E(q.items[0]));throw new Error(`Unable to translate path expression ${JSON.stringify(q)}`)}function D(q,L,R){if(L.type===p.LINK)return[f.createPattern(q,L.iri,R)];if(L.type===p.INV)return D(R,L.path,q);if(L.type===p.SEQ){let k=q;return l.default.flatten(L.input.map((X,oe)=>{const ee=oe===L.input.length-1?R:I(),me=D(k,X,ee);return ee.termType==="Variable"&&(k=ee),me}))}return[f.createPath(q,L,R)]}function I(){let q="?var"+y++;return h.has(q)?I():(h.add(q),f.createTerm(q))}function V(q){if("pathType"in q.predicate)throw new Error("Trying to translate property path to quad.");return f.createPattern(q.subject,q.predicate,q.object,q.graph)}e.default=function(q,L){let R;if(L=L||{},f=new u.default(L.dataFactory),typeof q=="string"){let k=new d(L);k._resetBlanks(),R=k.parse(q)}else R=q;return b(R,L.quads,L.blankToVariable)};let K=Object.values(p);function B(q,L,R){if(q.type===p.GRAPH){if(R)throw new Error("Recursing through nested GRAPH statements with a replacement is impossible.");q=B(q.input,q.name)}else if(q.type!==p.SERVICE)if(q.type===p.BGP)q.patterns=q.patterns.map(k=>(R&&(k.subject.equals(L)&&(k.subject=R),k.predicate.equals(L)&&(k.predicate=R),k.object.equals(L)&&(k.object=R)),k.graph.termType==="DefaultGraph"&&(k.graph=L),k));else if(q.type===p.PATH)R&&(q.subject.equals(L)&&(q.subject=R),q.object.equals(L)&&(q.object=R)),q.graph.termType==="DefaultGraph"&&(q.graph=L);else if(q.type!==p.PROJECT||R)if(q.type!==p.EXTEND||R)for(let k of Object.keys(q))Array.isArray(q[k])?q[k]=q[k].map(X=>B(X,L,R)):K.indexOf(q[k].type)>=0?q[k]=B(q[k],L,R):R&&_(q[k])&&q[k].equals(L)&&(q[k]=R);else q.variable.equals(L)&&(R=I()),q.input=B(q.input,L,R);else q.variables.some(k=>k.equals(L))||(R=I()),q.input=B(q.input,L,R);return q}function $(q,L){if(L.type==="optional"){const R=A({type:"group",patterns:L.patterns});q=R.type===p.FILTER?f.createLeftJoin(q,R.input,R.expression):f.createLeftJoin(q,R)}else if(L.type==="minus"){const R=A({type:"group",patterns:L.patterns});q=f.createMinus(q,R)}else if(L.type==="bind")q=f.createExtend(q,L.variable,T(L.expression));else if(L.type==="service"){const R={type:"group",patterns:L.patterns};q=G(q,f.createService(A(R),L.name,L.silent))}else q=G(q,A(L));return q}function G(q,L){return q.type===p.BGP&&L.type===p.BGP?q=f.createBgp([...q.patterns,...L.patterns]):q.type===p.BGP&&q.patterns.length===0?q=L:L.type===p.BGP&&L.patterns.length===0||(q=f.createJoin([q,L])),q}function U(q){let L=(q.values.length===0?[]:Object.keys(q.values[0])).map(f.createTerm.bind(f)),R=q.values.map(k=>{let X=Object.keys(k);X=X.filter(ee=>k[ee]!==void 0);let oe={};for(let ee of X)oe[ee]=k[ee];return oe});return f.createValues(L,R)}function W(q,L){if("type"in q&&q.type==="aggregate"){let R,k=!1;for(let X of Object.keys(L))if(t(L[X],q)){R=f.createTerm(X),k=!0;break}return k||(R=I(),L[(0,n.termToString)(R)]=q),R}return"expression"in q&&q.expression?{...q,expression:W(q.expression,L)}:"args"in q&&q.args?{...q,args:q.args.map(R=>W(R,L))}:q}function ye(q){if("type"in q){if(q.type==="load")return function(L){return f.createLoad(L.source,L.destination,L.silent)}(q);if(q.type==="clear"||q.type==="create"||q.type==="drop")return function(L){let R;switch(R=l.default.isSimpleTerm(L.graph)?L.graph:L.graph.all?"ALL":L.graph.default?"DEFAULT":L.graph.named?"NAMED":L.graph.name,L.type){case"clear":return f.createClear(R,L.silent);case"create":return f.createCreate(R,L.silent);case"drop":return f.createDrop(R,L.silent)}}(q);if(q.type==="add"||q.type==="copy"||q.type==="move")return function(L){const R=L.source.default?"DEFAULT":L.source.name,k=L.destination.default?"DEFAULT":L.destination.name;switch(L.type){case"copy":return f.createCopy(R,k,L.silent);case"move":return f.createMove(R,k,L.silent);case"add":return f.createAdd(R,k,L.silent)}}(q)}else if(q.updateType==="insertdelete"||q.updateType==="deletewhere"||q.updateType==="delete"||q.updateType==="insert")return function(L){if(!m)throw new Error("INSERT/DELETE operations are only supported with quads option enabled");let R,k=[],X=[];if(L.delete&&(k=l.default.flatten(L.delete.map(oe=>ve(oe,L.graph)))),L.insert&&(X=l.default.flatten(L.insert.map(oe=>ve(oe,L.graph)))),L.where&&L.where.length>0){R=A({type:"group",patterns:L.where});const oe=L.using;oe?R=f.createFrom(R,oe.default,oe.named):L.graph&&(R=B(R,L.graph))}else L.updateType==="deletewhere"&&k.length>0&&(R=f.createBgp(k));return f.createDeleteInsert(k.length>0?k:void 0,X.length>0?X:void 0,R)}(q);throw new Error(`Unknown update type ${JSON.stringify(q)}`)}function ve(q,L){let R=L;q.type==="graph"&&(R=q.name);let k=q.triples;return R&&(k=k.map(X=>Object.assign(X,{graph:R}))),k.map(V)}function he(q){const L={},R=Array.from(h).reduce((X,oe)=>(X[oe]=!0,X),{});return l.default.mapOperation(q,{[r.types.DELETE_INSERT]:X=>({result:f.createDeleteInsert(X.delete,X.insert,X.where&&he(X.where)),recurse:!1}),[r.types.PATH]:(X,oe)=>({result:oe.createPath(k(X.subject),X.predicate,k(X.object),k(X.graph)),recurse:!1}),[r.types.PATTERN]:(X,oe)=>({result:oe.createPattern(k(X.subject),k(X.predicate),k(X.object),k(X.graph)),recurse:!1}),[r.types.CONSTRUCT]:X=>({result:f.createConstruct(he(X.input),X.template),recurse:!1})});function k(X){if(X.termType==="BlankNode"){let oe=L[X.value];return oe||(oe=l.default.createUniqueVariable(X.value,R,f.dataFactory),R[oe.value]=!0,L[X.value]=oe),oe}return X}}},73779:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0});const s=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);e.default={randomUUID:s}},73833:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},73945:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(54064),e)},74010:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Variable=void 0,e.Variable=class{constructor(s){this.termType="Variable",this.value=s}equals(s){return!!s&&s.termType==="Variable"&&s.value===this.value}}},74230:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionHours=void 0;const c=s(77617),a=s(77545);class o extends c.TermFunctionBase{constructor(){super({arity:1,operator:a.SparqlOperator.HOURS,overloads:(0,a.declare)(a.SparqlOperator.HOURS).onDateTime1(()=>t=>(0,a.integer)(t.typedValue.hours)).set([a.TypeURL.XSD_TIME],()=>([t])=>(0,a.integer)(t.typedValue.hours)).collect()})}}e.TermFunctionHours=o},74448:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.InternalEvaluator=void 0;const c=s(90711),a=s(42996),o=s(77545),i=s(67021),t=s(96331),n=s(96607);e.InternalEvaluator=class{constructor(r,u,l,d){this.context=r,this.mediatorQueryOperation=l,this.bindingsFactory=d,this.subEvaluators={[a.ExpressionType.Term]:(p,f)=>this.term(p),[a.ExpressionType.Variable]:(p,f)=>this.variable(p,f),[a.ExpressionType.Operator]:(p,f)=>this.evalFunction(p,f),[a.ExpressionType.Existence]:(p,f)=>this.evalExistence(p,f),[a.ExpressionType.Aggregate]:(p,f)=>this.evalAggregate()},this.transformer=new n.AlgebraTransformer(r,u)}async evaluatorExpressionEvaluation(r,u){return this.subEvaluators[r.expressionType].bind(this)(r,u)}term(r){return r}variable(r,u){const l=u.get(o.expressionToVar(this.context.getSafe(c.KeysInitQuery.dataFactory),r));if(!l)throw new o.UnboundVariableError(r.name,u);return this.transformer.transformRDFTermUnsafe(l)}async evalFunction(r,u){return r.apply({args:r.args,mapping:u,exprEval:this})}async evalExistence(r,u){const l=this.context.getSafe(c.KeysInitQuery.dataFactory),d=new t.Factory(l),p=(0,i.materializeOperation)(r.expression.input,u,d,this.bindingsFactory),f=await this.mediatorQueryOperation.mediate({operation:p,context:this.context}),h=(0,i.getSafeBindings)(f);return await new Promise((y,m)=>{h.bindingsStream.on("end",()=>{y(!1)}),h.bindingsStream.on("error",m),h.bindingsStream.on("data",()=>{h.bindingsStream.close(),y(!0)})}).then(y=>r.expression.not?!y:y).then(y=>new o.BooleanLiteral(y))}evalAggregate(){throw new o.NoAggregator}}},74501:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BusQueryOperation=void 0;const c=s(90412);class a extends c.BusIndexed{constructor(i){super({...i,actorIdentifierFields:["operationName"],actionIdentifierFields:["operation","type"]})}}e.BusQueryOperation=a},74557:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.URL=e.DNS=void 0;const c=s(22829),a=s(32988);var o=s(32988);function i(t,n,r,u){return(0,a.default)(80,c.default,t,n,r,u)}Object.defineProperty(e,"DNS",{enumerable:!0,get:function(){return o.DNS}}),Object.defineProperty(e,"URL",{enumerable:!0,get:function(){return o.URL}}),i.DNS=a.DNS,i.URL=a.URL,e.default=i},74577:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermMinutes=void 0;const c=s(77617),a=s(77545),o=s(84906);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.SparqlOperator.MINUTES],termFunction:!0})}async run(n){return new o.TermFunctionMinutes}}e.ActorFunctionFactoryTermMinutes=i},74838:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(16850),e)},74871:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryResultSerialize=void 0;const c=s(48092);class a extends c.ActorAbstractMediaTyped{constructor(i){super(i)}}e.ActorQueryResultSerialize=a},74945:(g,e,s)=>{var c=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||s.g!==void 0&&s.g,a=function(){function i(){this.fetch=!1,this.DOMException=c.DOMException}return i.prototype=c,new i}();(function(i){(function(t){var n=i!==void 0&&i||typeof self<"u"&&self||s.g!==void 0&&s.g||{},r="URLSearchParams"in n,u="Symbol"in n&&"iterator"in Symbol,l="FileReader"in n&&"Blob"in n&&function(){try{return new Blob,!0}catch{return!1}}(),d="FormData"in n,p="ArrayBuffer"in n;if(p)var f=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],h=ArrayBuffer.isView||function(B){return B&&f.indexOf(Object.prototype.toString.call(B))>-1};function y(B){if(typeof B!="string"&&(B=String(B)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(B)||B==="")throw new TypeError('Invalid character in header field name: "'+B+'"');return B.toLowerCase()}function m(B){return typeof B!="string"&&(B=String(B)),B}function b(B){var $={next:function(){var G=B.shift();return{done:G===void 0,value:G}}};return u&&($[Symbol.iterator]=function(){return $}),$}function v(B){this.map={},B instanceof v?B.forEach(function($,G){this.append(G,$)},this):Array.isArray(B)?B.forEach(function($){if($.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+$.length);this.append($[0],$[1])},this):B&&Object.getOwnPropertyNames(B).forEach(function($){this.append($,B[$])},this)}function _(B){if(!B._noBody)return B.bodyUsed?Promise.reject(new TypeError("Already read")):void(B.bodyUsed=!0)}function w(B){return new Promise(function($,G){B.onload=function(){$(B.result)},B.onerror=function(){G(B.error)}})}function O(B){var $=new FileReader,G=w($);return $.readAsArrayBuffer(B),G}function A(B){if(B.slice)return B.slice(0);var $=new Uint8Array(B.byteLength);return $.set(new Uint8Array(B)),$.buffer}function T(){return this.bodyUsed=!1,this._initBody=function(B){var $;this.bodyUsed=this.bodyUsed,this._bodyInit=B,B?typeof B=="string"?this._bodyText=B:l&&Blob.prototype.isPrototypeOf(B)?this._bodyBlob=B:d&&FormData.prototype.isPrototypeOf(B)?this._bodyFormData=B:r&&URLSearchParams.prototype.isPrototypeOf(B)?this._bodyText=B.toString():p&&l&&($=B)&&DataView.prototype.isPrototypeOf($)?(this._bodyArrayBuffer=A(B.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):p&&(ArrayBuffer.prototype.isPrototypeOf(B)||h(B))?this._bodyArrayBuffer=A(B):this._bodyText=B=Object.prototype.toString.call(B):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof B=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(B)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l&&(this.blob=function(){var B=_(this);if(B)return B;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer)return _(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer));if(l)return this.blob().then(O);throw new Error("could not read as ArrayBuffer")},this.text=function(){var B,$,G,U,W,ye=_(this);if(ye)return ye;if(this._bodyBlob)return B=this._bodyBlob,G=w($=new FileReader),W=(U=/charset=([A-Za-z0-9_-]+)/.exec(B.type))?U[1]:"utf-8",$.readAsText(B,W),G;if(this._bodyArrayBuffer)return Promise.resolve(function(ve){for(var he=new Uint8Array(ve),q=new Array(he.length),L=0;L<he.length;L++)q[L]=String.fromCharCode(he[L]);return q.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},d&&(this.formData=function(){return this.text().then(D)}),this.json=function(){return this.text().then(JSON.parse)},this}v.prototype.append=function(B,$){B=y(B),$=m($);var G=this.map[B];this.map[B]=G?G+", "+$:$},v.prototype.delete=function(B){delete this.map[y(B)]},v.prototype.get=function(B){return B=y(B),this.has(B)?this.map[B]:null},v.prototype.has=function(B){return this.map.hasOwnProperty(y(B))},v.prototype.set=function(B,$){this.map[y(B)]=m($)},v.prototype.forEach=function(B,$){for(var G in this.map)this.map.hasOwnProperty(G)&&B.call($,this.map[G],G,this)},v.prototype.keys=function(){var B=[];return this.forEach(function($,G){B.push(G)}),b(B)},v.prototype.values=function(){var B=[];return this.forEach(function($){B.push($)}),b(B)},v.prototype.entries=function(){var B=[];return this.forEach(function($,G){B.push([G,$])}),b(B)},u&&(v.prototype[Symbol.iterator]=v.prototype.entries);var S=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function E(B,$){if(!(this instanceof E))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var G,U,W=($=$||{}).body;if(B instanceof E){if(B.bodyUsed)throw new TypeError("Already read");this.url=B.url,this.credentials=B.credentials,$.headers||(this.headers=new v(B.headers)),this.method=B.method,this.mode=B.mode,this.signal=B.signal,W||B._bodyInit==null||(W=B._bodyInit,B.bodyUsed=!0)}else this.url=String(B);if(this.credentials=$.credentials||this.credentials||"same-origin",!$.headers&&this.headers||(this.headers=new v($.headers)),this.method=(U=(G=$.method||this.method||"GET").toUpperCase(),S.indexOf(U)>-1?U:G),this.mode=$.mode||this.mode||null,this.signal=$.signal||this.signal||function(){if("AbortController"in n)return new AbortController().signal}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&W)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(W),!(this.method!=="GET"&&this.method!=="HEAD"||$.cache!=="no-store"&&$.cache!=="no-cache")){var ye=/([?&])_=[^&]*/;ye.test(this.url)?this.url=this.url.replace(ye,"$1_="+new Date().getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+new Date().getTime()}}function D(B){var $=new FormData;return B.trim().split("&").forEach(function(G){if(G){var U=G.split("="),W=U.shift().replace(/\+/g," "),ye=U.join("=").replace(/\+/g," ");$.append(decodeURIComponent(W),decodeURIComponent(ye))}}),$}function I(B,$){if(!(this instanceof I))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if($||($={}),this.type="default",this.status=$.status===void 0?200:$.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=$.statusText===void 0?"":""+$.statusText,this.headers=new v($.headers),this.url=$.url||"",this._initBody(B)}E.prototype.clone=function(){return new E(this,{body:this._bodyInit})},T.call(E.prototype),T.call(I.prototype),I.prototype.clone=function(){return new I(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new v(this.headers),url:this.url})},I.error=function(){var B=new I(null,{status:200,statusText:""});return B.ok=!1,B.status=0,B.type="error",B};var V=[301,302,303,307,308];I.redirect=function(B,$){if(V.indexOf($)===-1)throw new RangeError("Invalid status code");return new I(null,{status:$,headers:{location:B}})},t.DOMException=n.DOMException;try{new t.DOMException}catch{t.DOMException=function($,G){this.message=$,this.name=G;var U=Error($);this.stack=U.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function K(B,$){return new Promise(function(G,U){var W=new E(B,$);if(W.signal&&W.signal.aborted)return U(new t.DOMException("Aborted","AbortError"));var ye=new XMLHttpRequest;function ve(){ye.abort()}if(ye.onload=function(){var q,L,R={statusText:ye.statusText,headers:(q=ye.getAllResponseHeaders()||"",L=new v,q.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(X){return X.indexOf(`
`)===0?X.substr(1,X.length):X}).forEach(function(X){var oe=X.split(":"),ee=oe.shift().trim();if(ee){var me=oe.join(":").trim();try{L.append(ee,me)}catch(de){console.warn("Response "+de.message)}}}),L)};W.url.indexOf("file://")===0&&(ye.status<200||ye.status>599)?R.status=200:R.status=ye.status,R.url="responseURL"in ye?ye.responseURL:R.headers.get("X-Request-URL");var k="response"in ye?ye.response:ye.responseText;setTimeout(function(){G(new I(k,R))},0)},ye.onerror=function(){setTimeout(function(){U(new TypeError("Network request failed"))},0)},ye.ontimeout=function(){setTimeout(function(){U(new TypeError("Network request timed out"))},0)},ye.onabort=function(){setTimeout(function(){U(new t.DOMException("Aborted","AbortError"))},0)},ye.open(W.method,function(q){try{return q===""&&n.location.href?n.location.href:q}catch{return q}}(W.url),!0),W.credentials==="include"?ye.withCredentials=!0:W.credentials==="omit"&&(ye.withCredentials=!1),"responseType"in ye&&(l?ye.responseType="blob":p&&(ye.responseType="arraybuffer")),$&&typeof $.headers=="object"&&!($.headers instanceof v||n.Headers&&$.headers instanceof n.Headers)){var he=[];Object.getOwnPropertyNames($.headers).forEach(function(q){he.push(y(q)),ye.setRequestHeader(q,m($.headers[q]))}),W.headers.forEach(function(q,L){he.indexOf(L)===-1&&ye.setRequestHeader(L,q)})}else W.headers.forEach(function(q,L){ye.setRequestHeader(L,q)});W.signal&&(W.signal.addEventListener("abort",ve),ye.onreadystatechange=function(){ye.readyState===4&&W.signal.removeEventListener("abort",ve)}),ye.send(W._bodyInit===void 0?null:W._bodyInit)})}K.polyfill=!0,n.fetch||(n.fetch=K,n.Headers=v,n.Request=E,n.Response=I),t.Headers=v,t.Request=E,t.Response=I,t.fetch=K,Object.defineProperty(t,"__esModule",{value:!0})})({})})(a),a.fetch.ponyfill=!0,delete a.fetch.polyfill;var o=c.fetch?c:a;(e=o.fetch).default=o.fetch,e.fetch=o.fetch,e.Headers=o.Headers,e.Request=o.Request,e.Response=o.Response,g.exports=e},75049:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(92231),e)},75050:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(44407),e),a(s(80570),e)},75094:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ERROR_CODES=e.ErrorCoded=void 0;class s extends Error{constructor(o,i){super(o),this.code=i}}var c;e.ErrorCoded=s,(c=e.ERROR_CODES||(e.ERROR_CODES={})).COLLIDING_KEYWORDS="colliding keywords",c.CONFLICTING_INDEXES="conflicting indexes",c.CYCLIC_IRI_MAPPING="cyclic IRI mapping",c.INVALID_ID_VALUE="invalid @id value",c.INVALID_INDEX_VALUE="invalid @index value",c.INVALID_NEST_VALUE="invalid @nest value",c.INVALID_PREFIX_VALUE="invalid @prefix value",c.INVALID_PROPAGATE_VALUE="invalid @propagate value",c.INVALID_REVERSE_VALUE="invalid @reverse value",c.INVALID_IMPORT_VALUE="invalid @import value",c.INVALID_VERSION_VALUE="invalid @version value",c.INVALID_BASE_IRI="invalid base IRI",c.INVALID_CONTAINER_MAPPING="invalid container mapping",c.INVALID_CONTEXT_ENTRY="invalid context entry",c.INVALID_CONTEXT_NULLIFICATION="invalid context nullification",c.INVALID_DEFAULT_LANGUAGE="invalid default language",c.INVALID_INCLUDED_VALUE="invalid @included value",c.INVALID_IRI_MAPPING="invalid IRI mapping",c.INVALID_JSON_LITERAL="invalid JSON literal",c.INVALID_KEYWORD_ALIAS="invalid keyword alias",c.INVALID_LANGUAGE_MAP_VALUE="invalid language map value",c.INVALID_LANGUAGE_MAPPING="invalid language mapping",c.INVALID_LANGUAGE_TAGGED_STRING="invalid language-tagged string",c.INVALID_LANGUAGE_TAGGED_VALUE="invalid language-tagged value",c.INVALID_LOCAL_CONTEXT="invalid local context",c.INVALID_REMOTE_CONTEXT="invalid remote context",c.INVALID_REVERSE_PROPERTY="invalid reverse property",c.INVALID_REVERSE_PROPERTY_MAP="invalid reverse property map",c.INVALID_REVERSE_PROPERTY_VALUE="invalid reverse property value",c.INVALID_SCOPED_CONTEXT="invalid scoped context",c.INVALID_SCRIPT_ELEMENT="invalid script element",c.INVALID_SET_OR_LIST_OBJECT="invalid set or list object",c.INVALID_TERM_DEFINITION="invalid term definition",c.INVALID_TYPE_MAPPING="invalid type mapping",c.INVALID_TYPE_VALUE="invalid type value",c.INVALID_TYPED_VALUE="invalid typed value",c.INVALID_VALUE_OBJECT="invalid value object",c.INVALID_VALUE_OBJECT_VALUE="invalid value object value",c.INVALID_VOCAB_MAPPING="invalid vocab mapping",c.IRI_CONFUSED_WITH_PREFIX="IRI confused with prefix",c.KEYWORD_REDEFINITION="keyword redefinition",c.LOADING_DOCUMENT_FAILED="loading document failed",c.LOADING_REMOTE_CONTEXT_FAILED="loading remote context failed",c.MULTIPLE_CONTEXT_LINK_HEADERS="multiple context link headers",c.PROCESSING_MODE_CONFLICT="processing mode conflict",c.PROTECTED_TERM_REDEFINITION="protected term redefinition",c.CONTEXT_OVERFLOW="context overflow",c.INVALID_BASE_DIRECTION="invalid base direction",c.RECURSIVE_CONTEXT_INCLUSION="recursive context inclusion",c.INVALID_STREAMING_KEY_ORDER="invalid streaming key order",c.INVALID_EMBEDDED_NODE="invalid embedded node",c.INVALID_ANNOTATION="invalid annotation"},75113:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(35716),e)},75237:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.RdfStoreIndexNestedMapQuoted=void 0;const c=s(95439),a=s(42449);class o extends a.RdfStoreIndexNestedMap{constructor(t){super(t),this.features={quotedTripleFiltering:!0}}*getQuotedPatternKeys(t,n){for(const r of this.dictionary.findQuotedTriplesEncoded(n))t.has(r)&&(yield r)}*find(t){const n=(0,c.encodeOptionalTerms)(t,this.dictionary);if(!n)return;const[r,u,l,d]=n,[p,f,h,y]=t,[m,b,v,_]=(0,c.arePatternsQuoted)(t);let w,O,A,T,S,E,D;const I=this.nestedMap,V=p!==void 0?m?this.getQuotedPatternKeys(I,p):I.has(r)?[r]:[]:I.keys();for(const K of V){S=I.get(K),w=!m&&p?p:this.dictionary.decode(K);const B=f!==void 0?b?this.getQuotedPatternKeys(S,f):S.has(u)?[u]:[]:S.keys();for(const $ of B){E=S.get($),O=!b&&f?f:this.dictionary.decode($);const G=h!==void 0?v?this.getQuotedPatternKeys(E,h):E.has(l)?[l]:[]:E.keys();for(const U of G){D=E.get(U),A=!v&&h?h:this.dictionary.decode(U);const W=y!==void 0?_?this.getQuotedPatternKeys(D,y):D.has(d)?[d]:[]:D.keys();for(const ye of W)T=!_&&y?y:this.dictionary.decode(ye),yield[w,O,A,T]}}}}*findEncoded(t,n){const[r,u,l,d]=t,[p,f,h,y]=n,[m,b,v,_]=(0,c.arePatternsQuoted)(n);let w,O,A;const T=this.nestedMap,S=p!==void 0?m?this.getQuotedPatternKeys(T,p):T.has(r)?[r]:[]:T.keys();for(const E of S){w=T.get(E);const D=f!==void 0?b?this.getQuotedPatternKeys(w,f):w.has(u)?[u]:[]:w.keys();for(const I of D){O=w.get(I);const V=h!==void 0?v?this.getQuotedPatternKeys(O,h):O.has(l)?[l]:[]:O.keys();for(const K of V){A=O.get(K);const B=y!==void 0?_?this.getQuotedPatternKeys(A,y):A.has(d)?[d]:[]:A.keys();for(const $ of B)yield[Number.parseInt(E,10),Number.parseInt(I,10),Number.parseInt(K,10),Number.parseInt($,10)]}}}}count(t){let n=0;const r=(0,c.encodeOptionalTerms)(t,this.dictionary);if(!r)return 0;const[u,l,d,p]=r,[f,h,y,m]=t,[b,v,_,w]=(0,c.arePatternsQuoted)(t);let O,A,T;const S=this.nestedMap,E=f!==void 0?b?this.getQuotedPatternKeys(S,f):S.has(u)?[u]:[]:S.keys();for(const D of E){O=S.get(D);const I=h!==void 0?v?this.getQuotedPatternKeys(O,h):O.has(l)?[l]:[]:O.keys();for(const V of I){A=O.get(V);const K=y!==void 0?_?this.getQuotedPatternKeys(A,y):A.has(d)?[d]:[]:A.keys();for(const B of K)T=A.get(B),m!==void 0?w?n+=[...this.getQuotedPatternKeys(T,m)].length:T.has(p)&&n++:n+=T.size}}return n}}e.RdfStoreIndexNestedMapQuoted=o},75295:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(48642),e)},75425:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfJoinOptionalBind=void 0;const c=s(42815),a=s(95445),o=s(90711),i=s(90412),t=s(81926),n=s(67021),r=s(96331);class u extends a.ActorRdfJoin{constructor(d){super(d,{logicalType:"optional",physicalName:"bind",limitEntries:2,canHandleUndefs:!0,isLeaf:!1,requiresVariableOverlap:!0})}async getOutput(d){const p=d.context.getSafe(o.KeysInitQuery.dataFactory),f=new r.Factory(p),h=await t.BindingsFactory.create(this.mediatorMergeBindingsContext,d.context,p);d.entries[1].output.bindingsStream.close();const y=d.context.set(o.KeysQueryOperation.joinLeftMetadata,await d.entries[0].output.metadata()).set(o.KeysQueryOperation.joinRightMetadatas,[await d.entries[1].output.metadata()]);return{result:{type:"bindings",bindingsStream:c.ActorRdfJoinMultiBind.createBindStream(this.bindOrder,d.entries[0].output.bindingsStream,[d.entries[1].operation],async(m,b)=>{const v=m[0];return(0,n.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:v,context:y?.set(o.KeysQueryOperation.joinBindings,b)})).bindingsStream},!0,f,h),metadata:async()=>await this.constructResultMetadata(d.entries,await a.ActorRdfJoin.getMetadatas(d.entries),d.context,{},!0)}}}async getJoinCoefficients(d,p){const{metadatas:f}=p,h=a.ActorRdfJoin.getRequestInitialTimes(f),y=a.ActorRdfJoin.getRequestItemTimes(f);if(d.entries[1].operation.type===r.Algebra.types.EXTEND||d.entries[1].operation.type===r.Algebra.types.GROUP)return(0,i.failTest)(`Actor ${this.name} can not bind on Extend and Group operations`);const m=(await this.mediatorJoinSelectivity.mediate({entries:d.entries,context:d.context})).selectivity*this.selectivityModifier;return(0,i.passTestWithSideData)({iterations:f[0].cardinality.value*f[1].cardinality.value*m,persistedItems:0,blockingItems:0,requestTime:h[0]+f[0].cardinality.value*(y[0]+h[1]+m*f[1].cardinality.value*y[1])},p)}}e.ActorRdfJoinOptionalBind=u},75566:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeHandlerAdapter=void 0,e.NodeHandlerAdapter=class{constructor(s,c,a){this.targetKind=s,this.util=c,this.settings=a}getNodeQuadContextSelectionSet(s,c,a){const o={};if(s){for(const i of s.selections)if(i.kind==="Field"){const t=i;this.handleNodeQuadContextField(t,a,o,"id","subject"),this.handleNodeQuadContextField(t,a,o,"graph","graph")}}return o}handleNodeQuadContextField(s,c,a,o,i){if(!a[i]&&s.name.value===o){if(!a[i]){const t=this.util.getArgument(s.arguments,"_");if(t){const n=this.util.handleNodeValue(t.value,s.name.value,c);if(n.terms.length!==1)throw new Error(`Only single values can be set as ${o}, but got ${n.terms.length} at ${s.name.value}`);a[i]=n.terms[0],n.auxiliaryPatterns&&(a.auxiliaryPatterns||(a.auxiliaryPatterns=[]),a.auxiliaryPatterns.concat(n.auxiliaryPatterns))}}if(!a[i]){const t=this.util.nameToVariable(this.util.getFieldLabel(s),c);c.terminalVariables.push(t),a[i]=t}}}getDirectiveOutputs(s,c,a){const o=[];if(s)for(const i of s){const t=this.util.handleDirectiveNode({directive:i,fieldLabel:c},a);if(t){if(t.ignore)return null;o.push(t)}}return o}handleDirectiveOutputs(s,c){for(const a of s){if(a.ignore)return this.util.operationFactory.createBgp([]);a.operationOverrider&&(c=a.operationOverrider(c))}return c}}},75592:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},75611:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(68225),e)},75627:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isIterator=e.isIterable=e.isSourceExpression=e.isPromise=e.isEventEmitter=e.isFunction=e.range=e.union=e.fromIterable=e.fromIterator=e.fromArray=e.single=e.empty=e.wrap=e.WrappingIterator=e.ClonedIterator=e.UnionIterator=e.MultiTransformIterator=e.SimpleTransformIterator=e.TransformIterator=e.BufferedIterator=e.MappingIterator=e.DESTINATION=e.identity=e.IntegerIterator=e.ArrayIterator=e.SingletonIterator=e.EmptyIterator=e.AsyncIterator=e.DESTROYED=e.ENDED=e.CLOSED=e.CLOSING=e.OPEN=e.INIT=e.setTaskScheduler=e.getTaskScheduler=e.scheduleTask=e.LinkedList=void 0;const c=s(37007),a=s(40288);Object.defineProperty(e,"LinkedList",{enumerable:!0,get:function(){return a.LinkedList}});let o=s(34683).createTaskScheduler();e.scheduleTask=function(L){o(L)},e.getTaskScheduler=function(){return o},e.setTaskScheduler=function(L){o=L},e.INIT=1,e.OPEN=2,e.CLOSING=4,e.CLOSED=8,e.ENDED=16,e.DESTROYED=32;class i extends c.EventEmitter{constructor(R=e.OPEN){super(),this._readable=!1,this._state=R,this.on("newListener",t)}_changeState(R,k=!1){const X=R>this._state&&this._state<e.ENDED;return X&&(this._state=R,R===e.ENDED&&(k?o(()=>this.emit("end")):this.emit("end"))),X}read(){return null}forEach(R,k){this.on("data",G(R,k))}close(){this._changeState(e.CLOSED)&&this._endAsync()}destroy(R){this.done||this._destroy(R,k=>{(R=R||k)&&this.emit("error",R),this._end(!0)})}_destroy(R,k){k()}_end(R=!1){this._changeState(R?e.DESTROYED:e.ENDED)&&(this._readable=!1,this.removeAllListeners("readable"),this.removeAllListeners("data"),this.removeAllListeners("end"))}_endAsync(){o(()=>this._end())}get readable(){return this._readable}set readable(R){R=!!R&&!this.done,this._readable!==R&&(this._readable=R,R&&o(()=>this.emit("readable")))}get closed(){return this._state>=e.CLOSING}get ended(){return this._state===e.ENDED}get destroyed(){return this._state===e.DESTROYED}get done(){return this._state>=e.ENDED}toString(){const R=this._toStringDetails();return`[${this.constructor.name}${R?` ${R}`:""}]`}_toStringDetails(){return""}toArray(R){const k=[],X=typeof R?.limit=="number"?R.limit:1/0;return this.ended||X<=0?Promise.resolve(k):new Promise((oe,ee)=>{const me=()=>oe(k),de=xe=>{k.push(xe),k.length>=X&&(this.removeListener("error",ee),this.removeListener("data",de),this.removeListener("end",me),oe(k))};this.on("error",ee),this.on("data",de),this.on("end",me)})}getProperty(R,k){const X=this._properties;if(!k)return X&&X[R];if(X&&R in X)o(()=>k(X[R]));else{let oe;(oe=this._propertyCallbacks)||(this._propertyCallbacks=oe=Object.create(null)),R in oe?oe[R].push(k):oe[R]=[k]}}setProperty(R,k){(this._properties||(this._properties=Object.create(null)))[R]=k;const X=this._propertyCallbacks||{},oe=X[R];if(oe){for(R in delete X[R],o(()=>{for(const ee of oe)ee(k)}),X)return;delete this._propertyCallbacks}}getProperties(){const R=this._properties,k={};for(const X in R)k[X]=R[X];return k}setProperties(R){for(const k in R)this.setProperty(k,R[k])}copyProperties(R,k){for(const X of k)R.getProperty(X,oe=>this.setProperty(X,oe))}transform(R){return new T(this,R)}map(R,k){return new h(this,G(R,k))}filter(R,k){return this.map(function(X){return R.call(k||this,X)?X:null})}uniq(R=f){const k=new Set;return this.filter(function(X){const oe=R.call(this,X);return!k.has(oe)&&(k.add(oe),!0)})}prepend(R){return this.transform({prepend:R})}append(R){return this.transform({append:R})}surround(R,k){return this.transform({prepend:R,append:k})}skip(R){return this.map(k=>R-- >0?null:k)}take(R){return this.transform({limit:R})}range(R,k){return this.transform({offset:R,limit:Math.max(k-R+1,0)})}clone(){return new D(this)}[Symbol.asyncIterator](){const R=this;let k=null,X=null,oe=null;function ee(){if(k!==null)if(oe!==null)me(oe);else if(R.done)k({done:!0,value:void 0}),k=X=null,de();else{const xe=R.read();xe!==null&&(k({done:!1,value:xe}),k=X=null)}}function me(xe){X!==null?(X(xe),k=X=oe=null,de()):oe===null&&(oe=xe)}function de(){R.removeListener("readable",ee),R.removeListener("end",ee),R.removeListener("error",me)}return R.addListener("readable",ee),R.addListener("end",ee),R.addListener("error",me),{next:()=>new Promise((xe,ne)=>{k=xe,X=ne,ee()})}}}function t(L){L==="data"&&(this.removeListener("newListener",t),r(this,"readable",n),this.readable&&o(()=>n.call(this)))}function n(){let L;for(;this.listenerCount("data")!==0&&(L=this.read())!==null;)this.emit("data",L);this.listenerCount("data")!==0||this.done||(this.removeListener("readable",n),r(this,"newListener",t))}function r(L,R,k){L.listeners(R).includes(k)||L.on(R,k)}e.AsyncIterator=i;class u extends i{constructor(){super(),this._changeState(e.ENDED,!0)}}e.EmptyIterator=u;class l extends i{constructor(R){super(),this._item=R,R===null?this.close():this.readable=!0}read(){const R=this._item;return this._item=null,this.close(),R}_toStringDetails(){return this._item===null?"":`(${this._item})`}}e.SingletonIterator=l;class d extends i{constructor(R=[],{autoStart:k=!0,preserve:X=!0}={}){super();const oe=X||!Array.isArray(R)?[...R]:R;this._index=0,this._sourceStarted=k!==!1,this._truncateThreshold=X?-1:64,this._sourceStarted&&oe.length===0?this.close():this._buffer=oe,this.readable=!0}read(){this._sourceStarted||(this._sourceStarted=!0);let R=null;return this._buffer&&(this._index<this._buffer.length&&(R=this._buffer[this._index++]),this._index===this._buffer.length?(delete this._buffer,this.close()):this._index===this._truncateThreshold&&(this._buffer.splice(0,this._truncateThreshold),this._index=0)),R}_toStringDetails(){return`(${this._buffer?this._buffer.length-this._index:0})`}_destroy(R,k){delete this._buffer,k()}toArray(R={}){if(!this._buffer)return Promise.resolve([]);const{length:k}=this._buffer,X=this._index,oe=typeof R.limit!="number"?k:X+R.limit,ee=this._buffer.slice(X,oe);return this._index=oe,oe>=k&&this.close(),Promise.resolve(ee)}}e.ArrayIterator=d;class p extends i{constructor({start:R=0,step:k=1,end:X}={}){super(),Number.isFinite(R)&&(R=Math.trunc(R)),this._next=R,Number.isFinite(k)&&(k=Math.trunc(k)),this._step=k;const oe=k>=0,ee=oe?1/0:-1/0;Number.isFinite(X)?X=Math.trunc(X):X!==-ee&&(X=ee),this._last=X,!Number.isFinite(R)||(oe?R>X:R<X)?this.close():this.readable=!0}read(){if(this.closed)return null;const R=this._next,k=this._step,X=this._last,oe=this._next+=k;return(k>=0?oe>X:oe<X)&&this.close(),R}_toStringDetails(){return`(${this._next}...${this._last})`}}function f(L){return L}e.IntegerIterator=p,e.identity=f,e.DESTINATION=Symbol("destination");class h extends i{constructor(R,k=f,X={}){super(),this._map=k,this._source=y(R),this._destroySource=X.destroySource!==!1,R.done?this.close():(this._source[e.DESTINATION]=this,this._source.on("end",w),this._source.on("error",_),this._source.on("readable",v),this.readable=this._source.readable)}read(){if(!this.done){if(this._source.readable){let R,k;for(;(R=this._source.read())!==null;)if((k=this._map(R))!==null)return k}this.readable=!1,this._source.done&&this.close()}return null}_end(R){this._source.removeListener("end",w),this._source.removeListener("error",_),this._source.removeListener("readable",v),delete this._source[e.DESTINATION],this._destroySource&&this._source.destroy(),super._end(R)}}function y(L,R=!1){if(!L||!U(L.read)||!U(L.on))throw new TypeError(`Invalid source: ${L}`);if(!R&&L[e.DESTINATION])throw new Error("The source already has a destination");return L}e.MappingIterator=h;class m extends i{constructor({maxBufferSize:R=4,autoStart:k=!0}={}){super(e.INIT),this._buffer=new a.LinkedList,this._maxBufferSize=4,this._reading=!0,this._pushedCount=0,this.maxBufferSize=R,o(()=>this._init(k)),this._sourceStarted=k!==!1}get maxBufferSize(){return this._maxBufferSize}set maxBufferSize(R){R!==1/0&&(R=Number.isFinite(R)?Math.max(Math.trunc(R),1):4),this._maxBufferSize!==R&&(this._maxBufferSize=R,this._state===e.OPEN&&this._fillBuffer())}_init(R){let k=!1;this._reading=!0,this._begin(()=>{if(k)throw new Error("done callback called multiple times");k=!0,this._reading=!1,this._changeState(e.OPEN),R?this._fillBufferAsync():this.readable=!0})}_begin(R){R()}read(){if(this.done)return null;this._sourceStarted||(this._sourceStarted=!0);const R=this._buffer;let k;return R.empty?(k=null,this.readable=!1):k=R.shift(),!this._reading&&R.length<this._maxBufferSize&&(this.closed?R.empty&&this._endAsync():this._fillBufferAsync()),k}_read(R,k){k()}_push(R){this.done||(this._pushedCount++,this._buffer.push(R),this.readable=!0)}_fillBuffer(){let R;this._reading||(this.closed?this._completeClose():(R=Math.min(this._maxBufferSize-this._buffer.length,128))>0&&(this._pushedCount=0,this._reading=!0,this._read(R,()=>{if(!R)throw new Error("done callback called multiple times");R=0,this._reading=!1,this.closed?this._completeClose():this._pushedCount&&(this.readable=!0,this._buffer.length<this._maxBufferSize/2&&this._fillBufferAsync())})))}_fillBufferAsync(){this._reading||(this._reading=!0,o(()=>{this._reading=!1,this._fillBuffer()}))}close(){this._reading?this._changeState(e.CLOSING):this._completeClose()}_completeClose(){this._changeState(e.CLOSED)&&(this._reading=!0,this._flush(()=>{if(!this._reading)throw new Error("done callback called multiple times");this._reading=!1,this._buffer.empty&&this._endAsync()}))}_destroy(R,k){this._buffer.clear(),k()}_flush(R){R()}_toStringDetails(){const R=this._buffer;return`{${R.empty?"":`next: ${R.first}, `}buffer: ${R.length}}`}}e.BufferedIterator=m;class b extends m{constructor(R,k=R||{}){super(k),this._boundPush=X=>this._push(X),ve(R)||(R=k.source),W(R)?this.source=R:R&&(this._createSource=ye(R)?()=>R:R,this._sourceStarted&&this._loadSourceAsync()),this._optional=!!k.optional,this._destroySource=k.destroySource!==!1}get source(){return U(this._createSource)&&this._loadSourceAsync(),this._source}set source(R){const k=this._source=this._validateSource(R);k[e.DESTINATION]=this,this.done?this._destroySource&&k.destroy():k.done?this.close():(k.on("end",O),k.on("readable",A),k.on("error",_))}_loadSourceAsync(){U(this._createSource)&&(Promise.resolve(this._createSource()).then(R=>{delete this._createSource,this.source=R,this._fillBuffer()},R=>this.emit("error",R)),this._createSource=null)}_validateSource(R,k=!1){if(this._source||this._createSource!==void 0)throw new Error("The source cannot be changed after it has been set");return y(R,k)}_read(R,k){const X=()=>{this._pushedCount<R&&!this.closed?o(()=>this._readAndTransform(X,k)):k()};this._readAndTransform(X,k)}_readAndTransform(R,k){let X;const oe=this.source;!oe||oe.done||(X=oe.read())===null?k():this._optional?this._optionalTransform(X,R):this._transform(X,R,this._boundPush)}_optionalTransform(R,k){const X=this._pushedCount;this._transform(R,()=>{X===this._pushedCount&&this._push(R),k()},this._boundPush)}_transform(R,k,X){X(R),k()}_closeWhenDone(){this.close()}_end(R){const k=this._source;k&&(k.removeListener("end",O),k.removeListener("error",_),k.removeListener("readable",A),delete k[e.DESTINATION],this._destroySource&&k.destroy()),super._end(R)}}function v(){this[e.DESTINATION].readable=!0}function _(L){this[e.DESTINATION].emit("error",L)}function w(){this[e.DESTINATION].close()}function O(){this[e.DESTINATION]._closeWhenDone()}function A(){this[e.DESTINATION]._sourceStarted!==!1&&this[e.DESTINATION]._fillBuffer()}e.TransformIterator=b;class T extends b{constructor(R,k){if(super(R,k),this._offset=0,this._limit=1/0,this._filter=X=>!0,k=k||(ve(R)?null:R)){const X=U(k)?k:k.transform,{limit:oe,offset:ee,filter:me,map:de,prepend:xe,append:ne}=k;ee===1/0||oe===-1/0?this._limit=0:(Number.isFinite(ee)&&(this._offset=Math.max(Math.trunc(ee),0)),Number.isFinite(oe)&&(this._limit=Math.max(Math.trunc(oe),0)),U(me)&&(this._filter=me),U(de)&&(this._map=de),this._transform=U(X)?X:null),xe&&(this._prepender=W(xe)?xe:$(xe)),ne&&(this._appender=W(ne)?ne:$(ne))}}_read(R,k){const X=()=>this._readAndTransformSimple(R,oe,k);function oe(){o(X)}this._readAndTransformSimple(R,oe,k)}_readAndTransformSimple(R,k,X){let oe;const{source:ee}=this;if(ee&&!ee.done){for(this._limit===0&&this.close();!this.closed&&this._pushedCount<R&&(oe=ee.read())!==null;){if(!this._filter(oe)||this._offset!==0&&this._offset--)continue;const me=this._map===void 0?oe:this._map(oe);if(me===null)this._optional&&this._push(oe);else{if(U(this._transform))return void(this._optional?this._optionalTransform(me,k):this._transform(me,k,this._boundPush));this._push(me)}--this._limit===0&&this.close()}X()}else X()}_begin(R){this._insert(this._prepender,R),delete this._prepender}_flush(R){this._insert(this._appender,R),delete this._appender}_insert(R,k){const X=oe=>this._push(oe);!R||R.done?k():(R.on("data",X),R.on("end",function oe(){R.removeListener("data",X),R.removeListener("end",oe),k()}))}}e.SimpleTransformIterator=T,e.MultiTransformIterator=class extends b{constructor(L,R){if(super(L,R),this._transformerQueue=[],R){const k=U(R)?R:R.multiTransform;k&&(this._createTransformer=k)}}_read(L,R){const k=this._transformerQueue,X=this._optional;let oe,ee;for(;(oe=k[0])&&oe.transformer.done;){X&&oe.item!==null&&(L--,this._push(oe.item)),k.shift();const{transformer:de}=oe;de.removeListener("end",A),de.removeListener("readable",A),de.removeListener("error",_)}const{source:me}=this;for(;me&&!me.done&&k.length<this.maxBufferSize&&(ee=me.read(),ee!==null);){const de=this._createTransformer(ee)||new u;de[e.DESTINATION]=this,de.on("end",A),de.on("readable",A),de.on("error",_),k.push({transformer:de,item:ee})}if(oe=k[0],oe){const{transformer:de}=oe;for(;L-- >0&&(ee=de.read())!==null;)this._push(ee),X&&(oe.item=null)}else me&&me.done&&this.close();R()}_createTransformer(L){return new l(L)}_closeWhenDone(){this._transformerQueue.length||this.close()}_end(L){if(super._end(L),this._destroySource)for(const R of this._transformerQueue)R.transformer.destroy()}};class S extends m{constructor(R,k={}){super(k),this._sources=[],this._currentSource=-1;const X=k.autoStart!==!1;if(W(R))R.on("error",oe=>this.emit("error",oe)),this._pending={loading:!1,sources:R},X&&this._loadSources();else if(Array.isArray(R)&&R.length>0)for(const oe of R)this._addSource(oe);else X&&this.close();this._destroySources=k.destroySources!==!1}_loadSources(){const R=this._pending.sources;this._pending.loading=!0,R.done?(delete this._pending,this.close()):(R.on("data",k=>{this._addSource(k),this._fillBufferAsync()}),R.on("end",()=>{delete this._pending,this._fillBuffer()}))}_addSource(R){ye(R)&&(R=K(R)),R.done||(this._sources.push(R),R[e.DESTINATION]=this,R.on("error",_),R.on("readable",A),R.on("end",E))}_removeEmptySources(){this._sources=this._sources.filter((R,k)=>(R.done&&k<=this._currentSource&&this._currentSource--,!R.done)),this._fillBuffer()}_read(R,k){var X;((X=this._pending)===null||X===void 0?void 0:X.loading)===!1&&this._loadSources();let oe,ee=0;for(;ee!==(ee=R);)for(let me=0;me<this._sources.length&&R>0;me++)this._currentSource=(this._currentSource+1)%this._sources.length,(oe=this._sources[this._currentSource].read())!==null&&(R--,this._push(oe));this._pending||this._sources.length!==0||this.close(),k()}_end(R=!1){if(super._end(R),this._destroySources){for(const k of this._sources)k.destroy();this._pending&&(this._pending.sources.destroy(),delete this._pending)}}}function E(){this[e.DESTINATION]._removeEmptySources()}e.UnionIterator=S;class D extends b{constructor(R){super(R,{autoStart:!1}),this._readPosition=0,this._reading=!1,R&&(this.readable=!0)}_init(){}close(){i.prototype.close.call(this)}get source(){return super.source}set source(R){const k=this._source=this._validateSource(R),X=k&&k[e.DESTINATION]||(k[e.DESTINATION]=new I(k));this.done?this._destroySource&&k.destroy():X.endsAt(0)?this.close():(X.register(this),k._sourceStarted!==!1&&X.readAt(0)===null||(this.readable=!0));const oe=this._propertyCallbacks;for(const ee in oe){const me=oe[ee];for(const de of me)this._getSourceProperty(ee,de)}}_validateSource(R,k=!1){const X=R&&R[e.DESTINATION];return super._validateSource(R,!X||X instanceof I)}getProperty(R,k){const{source:X}=this,oe=this._properties,ee=oe&&R in oe;if(!k)return ee?oe&&oe[R]:X&&X.getProperty(R);super.getProperty(R,k),X&&!ee&&this._getSourceProperty(R,k)}_getSourceProperty(R,k){this.source.getProperty(R,X=>{this._properties&&R in this._properties||k(X)})}getProperties(){const R=this.source?this.source.getProperties():{},k=this._properties;for(const X in k)R[X]=k[X];return R}_toStringDetails(){return`{source: ${this.source?this.source.toString():"none"}}`}read(){this._sourceStarted||(this._sourceStarted=!0);const R=this.source;let k=null;if(!this.done&&R){const X=R[e.DESTINATION];(k=X.readAt(this._readPosition))!==null?this._readPosition++:this.readable=!1,X.endsAt(this._readPosition)&&this.close()}return k}_end(R){const k=this.source,X=k?.[e.DESTINATION];X&&X.unregister(this),m.prototype._end.call(this,R)}}e.ClonedIterator=D;class I{constructor(R){if(this._history=[],this._trackers=new Set,this._source=R,!R.done){const k=()=>{for(const ee of this._trackers)ee.readable=!0},X=ee=>{for(const me of this._trackers)me.emit("error",ee)},oe=()=>{for(const ee of this._trackers)ee._sourceStarted!==!1&&ee._readPosition===this._history.length&&ee.close();this._trackers.clear(),R.removeListener("end",oe),R.removeListener("error",X),R.removeListener("readable",k)};R.on("end",oe),R.on("error",X),R.on("readable",k)}}register(R){this._source.done||this._trackers.add(R)}unregister(R){this._trackers.delete(R)}readAt(R){let k=null;return R<this._history.length?k=this._history[R]:this._source.done||(k=this._source.read())===null||(this._history[R]=k),k}endsAt(R){return this._source.done&&this._history.length===R}}class V extends i{constructor(R,k){super(),this._source=null,this._destroySource=k?.destroySource!==!1,ye(R)?(this._source=new i,R.then(X=>{this._source=null,this.source=X}).catch(X=>this.emit("error",X))):R&&(this.source=R)}set source(R){let k=R;if(this._source!==null)throw new Error("The source cannot be changed after it has been set");if(he(k)&&(k=k[Symbol.iterator]()),q(k)){let X=k;k=new c.EventEmitter,k.read=()=>{if(X!==null){let oe;for(;!(oe=X.next()).done;)if(oe.value!==null)return oe.value;X=null,this.close()}return null}}else k=y(k);this.done?this._destroySource&&U(k.destroy)&&k.destroy():(k[e.DESTINATION]=this,k.on("end",w),k.on("error",_),k.on("readable",v),this._source=k,this.readable=k.readable!==!1)}read(){if(this._source!==null&&this._source.readable!==!1){const R=this._source.read();if(R!==null)return R;this.readable=!1}return null}_end(R=!1){this._source!==null&&(this._source.removeListener("end",w),this._source.removeListener("error",_),this._source.removeListener("readable",v),delete this._source[e.DESTINATION],this._destroySource&&U(this._source.destroy)&&this._source.destroy(),this._source=null),super._end(R)}}function K(L,R){if(R&&("autoStart"in R||"optional"in R||"source"in R||"maxBufferSize"in R))return L&&!W(L)&&(L=new V(L)),new b(L,R);if(!L)return B();if(ye(L))return new V(L,R);if(L instanceof i)return L;if(Array.isArray(L))return $(L);if(he(L)||q(L)||W(L))return new V(L,R);throw new TypeError(`Invalid source: ${L}`)}function B(){return new u}function $(L){return new d(L)}function G(L,R){return R?L.bind(R):L}function U(L){return typeof L=="function"}function W(L){return U(L?.on)}function ye(L){return U(L?.then)}function ve(L){return L&&(W(L)||ye(L)||U(L))}function he(L){return L&&Symbol.iterator in L}function q(L){return U(L?.next)}e.WrappingIterator=V,e.wrap=K,e.empty=B,e.single=function(L){return new l(L)},e.fromArray=$,e.fromIterator=function(L){return new V(L)},e.fromIterable=function(L){return new V(L)},e.union=function(L){return new S(L)},e.range=function(L,R,k){return new p({start:L,end:R,step:k})},e.isFunction=U,e.isEventEmitter=W,e.isPromise=ye,e.isSourceExpression=ve,e.isIterable=he,e.isIterator=q},75636:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},75735:g=>{g.exports=function(){var e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function s(l,d){var p=l[0],f=l[1],h=l[2],y=l[3];f=((f+=((h=((h+=((y=((y+=((p=((p+=(f&h|~f&y)+d[0]-680876936|0)<<7|p>>>25)+f|0)&f|~p&h)+d[1]-389564586|0)<<12|y>>>20)+p|0)&p|~y&f)+d[2]+606105819|0)<<17|h>>>15)+y|0)&y|~h&p)+d[3]-1044525330|0)<<22|f>>>10)+h|0,f=((f+=((h=((h+=((y=((y+=((p=((p+=(f&h|~f&y)+d[4]-176418897|0)<<7|p>>>25)+f|0)&f|~p&h)+d[5]+1200080426|0)<<12|y>>>20)+p|0)&p|~y&f)+d[6]-1473231341|0)<<17|h>>>15)+y|0)&y|~h&p)+d[7]-45705983|0)<<22|f>>>10)+h|0,f=((f+=((h=((h+=((y=((y+=((p=((p+=(f&h|~f&y)+d[8]+1770035416|0)<<7|p>>>25)+f|0)&f|~p&h)+d[9]-1958414417|0)<<12|y>>>20)+p|0)&p|~y&f)+d[10]-42063|0)<<17|h>>>15)+y|0)&y|~h&p)+d[11]-1990404162|0)<<22|f>>>10)+h|0,f=((f+=((h=((h+=((y=((y+=((p=((p+=(f&h|~f&y)+d[12]+1804603682|0)<<7|p>>>25)+f|0)&f|~p&h)+d[13]-40341101|0)<<12|y>>>20)+p|0)&p|~y&f)+d[14]-1502002290|0)<<17|h>>>15)+y|0)&y|~h&p)+d[15]+1236535329|0)<<22|f>>>10)+h|0,f=((f+=((h=((h+=((y=((y+=((p=((p+=(f&y|h&~y)+d[1]-165796510|0)<<5|p>>>27)+f|0)&h|f&~h)+d[6]-1069501632|0)<<9|y>>>23)+p|0)&f|p&~f)+d[11]+643717713|0)<<14|h>>>18)+y|0)&p|y&~p)+d[0]-373897302|0)<<20|f>>>12)+h|0,f=((f+=((h=((h+=((y=((y+=((p=((p+=(f&y|h&~y)+d[5]-701558691|0)<<5|p>>>27)+f|0)&h|f&~h)+d[10]+38016083|0)<<9|y>>>23)+p|0)&f|p&~f)+d[15]-660478335|0)<<14|h>>>18)+y|0)&p|y&~p)+d[4]-405537848|0)<<20|f>>>12)+h|0,f=((f+=((h=((h+=((y=((y+=((p=((p+=(f&y|h&~y)+d[9]+568446438|0)<<5|p>>>27)+f|0)&h|f&~h)+d[14]-1019803690|0)<<9|y>>>23)+p|0)&f|p&~f)+d[3]-187363961|0)<<14|h>>>18)+y|0)&p|y&~p)+d[8]+1163531501|0)<<20|f>>>12)+h|0,f=((f+=((h=((h+=((y=((y+=((p=((p+=(f&y|h&~y)+d[13]-1444681467|0)<<5|p>>>27)+f|0)&h|f&~h)+d[2]-51403784|0)<<9|y>>>23)+p|0)&f|p&~f)+d[7]+1735328473|0)<<14|h>>>18)+y|0)&p|y&~p)+d[12]-1926607734|0)<<20|f>>>12)+h|0,f=((f+=((h=((h+=((y=((y+=((p=((p+=(f^h^y)+d[5]-378558|0)<<4|p>>>28)+f|0)^f^h)+d[8]-2022574463|0)<<11|y>>>21)+p|0)^p^f)+d[11]+1839030562|0)<<16|h>>>16)+y|0)^y^p)+d[14]-35309556|0)<<23|f>>>9)+h|0,f=((f+=((h=((h+=((y=((y+=((p=((p+=(f^h^y)+d[1]-1530992060|0)<<4|p>>>28)+f|0)^f^h)+d[4]+1272893353|0)<<11|y>>>21)+p|0)^p^f)+d[7]-155497632|0)<<16|h>>>16)+y|0)^y^p)+d[10]-1094730640|0)<<23|f>>>9)+h|0,f=((f+=((h=((h+=((y=((y+=((p=((p+=(f^h^y)+d[13]+681279174|0)<<4|p>>>28)+f|0)^f^h)+d[0]-358537222|0)<<11|y>>>21)+p|0)^p^f)+d[3]-722521979|0)<<16|h>>>16)+y|0)^y^p)+d[6]+76029189|0)<<23|f>>>9)+h|0,f=((f+=((h=((h+=((y=((y+=((p=((p+=(f^h^y)+d[9]-640364487|0)<<4|p>>>28)+f|0)^f^h)+d[12]-421815835|0)<<11|y>>>21)+p|0)^p^f)+d[15]+530742520|0)<<16|h>>>16)+y|0)^y^p)+d[2]-995338651|0)<<23|f>>>9)+h|0,f=((f+=((y=((y+=(f^((p=((p+=(h^(f|~y))+d[0]-198630844|0)<<6|p>>>26)+f|0)|~h))+d[7]+1126891415|0)<<10|y>>>22)+p|0)^((h=((h+=(p^(y|~f))+d[14]-1416354905|0)<<15|h>>>17)+y|0)|~p))+d[5]-57434055|0)<<21|f>>>11)+h|0,f=((f+=((y=((y+=(f^((p=((p+=(h^(f|~y))+d[12]+1700485571|0)<<6|p>>>26)+f|0)|~h))+d[3]-1894986606|0)<<10|y>>>22)+p|0)^((h=((h+=(p^(y|~f))+d[10]-1051523|0)<<15|h>>>17)+y|0)|~p))+d[1]-2054922799|0)<<21|f>>>11)+h|0,f=((f+=((y=((y+=(f^((p=((p+=(h^(f|~y))+d[8]+1873313359|0)<<6|p>>>26)+f|0)|~h))+d[15]-30611744|0)<<10|y>>>22)+p|0)^((h=((h+=(p^(y|~f))+d[6]-1560198380|0)<<15|h>>>17)+y|0)|~p))+d[13]+1309151649|0)<<21|f>>>11)+h|0,f=((f+=((y=((y+=(f^((p=((p+=(h^(f|~y))+d[4]-145523070|0)<<6|p>>>26)+f|0)|~h))+d[11]-1120210379|0)<<10|y>>>22)+p|0)^((h=((h+=(p^(y|~f))+d[2]+718787259|0)<<15|h>>>17)+y|0)|~p))+d[9]-343485551|0)<<21|f>>>11)+h|0,l[0]=p+l[0]|0,l[1]=f+l[1]|0,l[2]=h+l[2]|0,l[3]=y+l[3]|0}function c(l){var d,p=[];for(d=0;d<64;d+=4)p[d>>2]=l.charCodeAt(d)+(l.charCodeAt(d+1)<<8)+(l.charCodeAt(d+2)<<16)+(l.charCodeAt(d+3)<<24);return p}function a(l){var d,p=[];for(d=0;d<64;d+=4)p[d>>2]=l[d]+(l[d+1]<<8)+(l[d+2]<<16)+(l[d+3]<<24);return p}function o(l){var d,p,f,h,y,m,b=l.length,v=[1732584193,-271733879,-1732584194,271733878];for(d=64;d<=b;d+=64)s(v,c(l.substring(d-64,d)));for(p=(l=l.substring(d-64)).length,f=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],d=0;d<p;d+=1)f[d>>2]|=l.charCodeAt(d)<<(d%4<<3);if(f[d>>2]|=128<<(d%4<<3),d>55)for(s(v,f),d=0;d<16;d+=1)f[d]=0;return h=(h=8*b).toString(16).match(/(.*?)(.{0,8})$/),y=parseInt(h[2],16),m=parseInt(h[1],16)||0,f[14]=y,f[15]=m,s(v,f),v}function i(l){var d,p="";for(d=0;d<4;d+=1)p+=e[l>>8*d+4&15]+e[l>>8*d&15];return p}function t(l){var d;for(d=0;d<l.length;d+=1)l[d]=i(l[d]);return l.join("")}function n(l){return/[\u0080-\uFFFF]/.test(l)&&(l=unescape(encodeURIComponent(l))),l}function r(l){var d,p=[],f=l.length;for(d=0;d<f-1;d+=2)p.push(parseInt(l.substr(d,2),16));return String.fromCharCode.apply(String,p)}function u(){this.reset()}return t(o("hello")),typeof ArrayBuffer>"u"||ArrayBuffer.prototype.slice||function(){function l(d,p){return(d=0|d||0)<0?Math.max(d+p,0):Math.min(d,p)}ArrayBuffer.prototype.slice=function(d,p){var f,h,y,m,b=this.byteLength,v=l(d,b),_=b;return p!==void 0&&(_=l(p,b)),v>_?new ArrayBuffer(0):(f=_-v,h=new ArrayBuffer(f),y=new Uint8Array(h),m=new Uint8Array(this,v,f),y.set(m),h)}}(),u.prototype.append=function(l){return this.appendBinary(n(l)),this},u.prototype.appendBinary=function(l){this._buff+=l,this._length+=l.length;var d,p=this._buff.length;for(d=64;d<=p;d+=64)s(this._hash,c(this._buff.substring(d-64,d)));return this._buff=this._buff.substring(d-64),this},u.prototype.end=function(l){var d,p,f=this._buff,h=f.length,y=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(d=0;d<h;d+=1)y[d>>2]|=f.charCodeAt(d)<<(d%4<<3);return this._finish(y,h),p=t(this._hash),l&&(p=r(p)),this.reset(),p},u.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},u.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},u.prototype.setState=function(l){return this._buff=l.buff,this._length=l.length,this._hash=l.hash,this},u.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},u.prototype._finish=function(l,d){var p,f,h,y=d;if(l[y>>2]|=128<<(y%4<<3),y>55)for(s(this._hash,l),y=0;y<16;y+=1)l[y]=0;p=(p=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),f=parseInt(p[2],16),h=parseInt(p[1],16)||0,l[14]=f,l[15]=h,s(this._hash,l)},u.hash=function(l,d){return u.hashBinary(n(l),d)},u.hashBinary=function(l,d){var p=t(o(l));return d?r(p):p},u.ArrayBuffer=function(){this.reset()},u.ArrayBuffer.prototype.append=function(l){var d,p,f,h,y,m=(p=this._buff.buffer,f=l,h=!0,(y=new Uint8Array(p.byteLength+f.byteLength)).set(new Uint8Array(p)),y.set(new Uint8Array(f),p.byteLength),h?y:y.buffer),b=m.length;for(this._length+=l.byteLength,d=64;d<=b;d+=64)s(this._hash,a(m.subarray(d-64,d)));return this._buff=d-64<b?new Uint8Array(m.buffer.slice(d-64)):new Uint8Array(0),this},u.ArrayBuffer.prototype.end=function(l){var d,p,f=this._buff,h=f.length,y=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(d=0;d<h;d+=1)y[d>>2]|=f[d]<<(d%4<<3);return this._finish(y,h),p=t(this._hash),l&&(p=r(p)),this.reset(),p},u.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},u.ArrayBuffer.prototype.getState=function(){var l,d=u.prototype.getState.call(this);return d.buff=(l=d.buff,String.fromCharCode.apply(null,new Uint8Array(l))),d},u.ArrayBuffer.prototype.setState=function(l){return l.buff=function(d,p){var f,h=d.length,y=new ArrayBuffer(h),m=new Uint8Array(y);for(f=0;f<h;f+=1)m[f]=d.charCodeAt(f);return p?m:y}(l.buff,!0),u.prototype.setState.call(this,l)},u.ArrayBuffer.prototype.destroy=u.prototype.destroy,u.ArrayBuffer.prototype._finish=u.prototype._finish,u.ArrayBuffer.hash=function(l,d){var p=t(function(f){var h,y,m,b,v,_,w=f.length,O=[1732584193,-271733879,-1732584194,271733878];for(h=64;h<=w;h+=64)s(O,a(f.subarray(h-64,h)));for(y=(f=h-64<w?f.subarray(h-64):new Uint8Array(0)).length,m=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],h=0;h<y;h+=1)m[h>>2]|=f[h]<<(h%4<<3);if(m[h>>2]|=128<<(h%4<<3),h>55)for(s(O,m),h=0;h<16;h+=1)m[h]=0;return b=(b=8*w).toString(16).match(/(.*?)(.{0,8})$/),v=parseInt(b[2],16),_=parseInt(b[1],16)||0,m[14]=v,m[15]=_,s(O,m),O}(new Uint8Array(l)));return d?r(p):p},u}()},75844:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQuerySourceIdentifyHypermediaQpf=void 0;const c=s(62100),a=s(90711),o=s(90412),i=s(81926),t=s(96331),n=s(20715);class r extends c.ActorQuerySourceIdentifyHypermedia{constructor(l){super(l,"qpf")}async test(l){return l.forceSourceType&&l.forceSourceType!=="qpf"&&l.forceSourceType!=="brtpf"?(0,o.failTest)(`Actor ${this.name} is not able to handle source type ${l.forceSourceType}.`):this.testMetadata(l)}async testMetadata(l){const{searchForm:d}=await this.createSource(l.url,l.metadata,l.context,l.forceSourceType==="brtpf");return d?l.handledDatasets&&l.handledDatasets[d.dataset]?(0,o.failTest)(`Actor ${this.name} can only be applied for the first page of a QPF dataset.`):(0,o.passTest)({filterFactor:1}):(0,o.failTest)("Illegal state: found no TPF/QPF search form anymore in metadata.")}async run(l){this.logInfo(l.context,`Identified as qpf source: ${l.url}`);const d=await this.createSource(l.url,l.metadata,l.context,l.forceSourceType==="brtpf",l.quads);return{source:d,dataset:d.searchForm.dataset}}async createSource(l,d,p,f,h){const y=p.getSafe(a.KeysInitQuery.dataFactory),m=new t.Factory(y);return new n.QuerySourceQpf(this.mediatorMetadata,this.mediatorMetadataExtract,this.mediatorDereferenceRdf,y,m,await i.BindingsFactory.create(this.mediatorMergeBindingsContext,p,y),this.subjectUri,this.predicateUri,this.objectUri,this.graphUri,l,d,f,h)}}e.ActorQuerySourceIdentifyHypermediaQpf=r},75896:(g,e,s)=>{const c=s(65606),{aggregateTwoErrors:a,codes:{ERR_MULTIPLE_CALLBACK:o},AbortError:i}=s(76371),{Symbol:t}=s(24134),{kIsDestroyed:n,isDestroyed:r,isFinished:u,isServerRequest:l}=s(16115),d=t("kDestroy"),p=t("kConstruct");function f(S,E,D){S&&(S.stack,E&&!E.errored&&(E.errored=S),D&&!D.errored&&(D.errored=S))}function h(S,E,D){let I=!1;function V(K){if(I)return;I=!0;const B=S._readableState,$=S._writableState;f(K,$,B),$&&($.closed=!0),B&&(B.closed=!0),typeof D=="function"&&D(K),K?c.nextTick(y,S,K):c.nextTick(m,S)}try{S._destroy(E||null,V)}catch(K){V(K)}}function y(S,E){b(S,E),m(S)}function m(S){const E=S._readableState,D=S._writableState;D&&(D.closeEmitted=!0),E&&(E.closeEmitted=!0),(D!=null&&D.emitClose||E!=null&&E.emitClose)&&S.emit("close")}function b(S,E){const D=S._readableState,I=S._writableState;I!=null&&I.errorEmitted||D!=null&&D.errorEmitted||(I&&(I.errorEmitted=!0),D&&(D.errorEmitted=!0),S.emit("error",E))}function v(S,E,D){const I=S._readableState,V=S._writableState;if(V!=null&&V.destroyed||I!=null&&I.destroyed)return this;I!=null&&I.autoDestroy||V!=null&&V.autoDestroy?S.destroy(E):E&&(E.stack,V&&!V.errored&&(V.errored=E),I&&!I.errored&&(I.errored=E),D?c.nextTick(b,S,E):b(S,E))}function _(S){let E=!1;function D(I){if(E)return void v(S,I??new o);E=!0;const V=S._readableState,K=S._writableState,B=K||V;V&&(V.constructed=!0),K&&(K.constructed=!0),B.destroyed?S.emit(d,I):I?v(S,I,!0):c.nextTick(w,S)}try{S._construct(I=>{c.nextTick(D,I)})}catch(I){c.nextTick(D,I)}}function w(S){S.emit(p)}function O(S){return S?.setHeader&&typeof S.abort=="function"}function A(S){S.emit("close")}function T(S,E){S.emit("error",E),c.nextTick(A,S)}g.exports={construct:function(S,E){if(typeof S._construct!="function")return;const D=S._readableState,I=S._writableState;D&&(D.constructed=!1),I&&(I.constructed=!1),S.once(p,E),S.listenerCount(p)>1||c.nextTick(_,S)},destroyer:function(S,E){S&&!r(S)&&(E||u(S)||(E=new i),l(S)?(S.socket=null,S.destroy(E)):O(S)?S.abort():O(S.req)?S.req.abort():typeof S.destroy=="function"?S.destroy(E):typeof S.close=="function"?S.close():E?c.nextTick(T,S,E):c.nextTick(A,S),S.destroyed||(S[n]=!0))},destroy:function(S,E){const D=this._readableState,I=this._writableState,V=I||D;return I!=null&&I.destroyed||D!=null&&D.destroyed?(typeof E=="function"&&E(),this):(f(S,I,D),I&&(I.destroyed=!0),D&&(D.destroyed=!0),V.constructed?h(this,S,E):this.once(d,function(K){h(this,a(K,S),E)}),this)},undestroy:function(){const S=this._readableState,E=this._writableState;S&&(S.constructed=!0,S.closed=!1,S.closeEmitted=!1,S.destroyed=!1,S.errored=null,S.errorEmitted=!1,S.reading=!1,S.ended=S.readable===!1,S.endEmitted=S.readable===!1),E&&(E.constructed=!0,E.destroyed=!1,E.closed=!1,E.closeEmitted=!1,E.errored=null,E.errorEmitted=!1,E.finalCalled=!1,E.prefinished=!1,E.ended=E.writable===!1,E.ending=E.writable===!1,E.finished=E.writable===!1)},errorOrDestroy:v}},76011:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.unsafeStringify=void 0;const c=s(59746),a=[];for(let i=0;i<256;++i)a.push((i+256).toString(16).slice(1));function o(i,t=0){return(a[i[t+0]]+a[i[t+1]]+a[i[t+2]]+a[i[t+3]]+"-"+a[i[t+4]]+a[i[t+5]]+"-"+a[i[t+6]]+a[i[t+7]]+"-"+a[i[t+8]]+a[i[t+9]]+"-"+a[i[t+10]]+a[i[t+11]]+a[i[t+12]]+a[i[t+13]]+a[i[t+14]]+a[i[t+15]]).toLowerCase()}e.unsafeStringify=o,e.default=function(i,t=0){const n=o(i,t);if(!(0,c.default)(n))throw TypeError("Stringified UUID is invalid");return n}},76037:function(g,e,s){var c=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(e,"__esModule",{value:!0}),e.getOuterHTML=t,e.getInnerHTML=function(n,r){return(0,a.hasChildren)(n)?n.children.map(function(u){return t(u,r)}).join(""):""},e.getText=function n(r){return Array.isArray(r)?r.map(n).join(""):(0,a.isTag)(r)?r.name==="br"?`
`:n(r.children):(0,a.isCDATA)(r)?n(r.children):(0,a.isText)(r)?r.data:""},e.textContent=function n(r){return Array.isArray(r)?r.map(n).join(""):(0,a.hasChildren)(r)&&!(0,a.isComment)(r)?n(r.children):(0,a.isText)(r)?r.data:""},e.innerText=function n(r){return Array.isArray(r)?r.map(n).join(""):(0,a.hasChildren)(r)&&(r.type===i.ElementType.Tag||(0,a.isCDATA)(r))?n(r.children):(0,a.isText)(r)?r.data:""};var a=s(41141),o=c(s(53806)),i=s(45413);function t(n,r){return(0,o.default)(n,r)}},76063:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfMetadataAccumulateCardinality=void 0;const c=s(50433),a=s(90412);class o extends c.ActorRdfMetadataAccumulate{constructor(t){super(t)}async test(t){return(0,a.passTestVoid)()}async run(t){if(t.mode==="initialize")return{metadata:{cardinality:{type:"exact",value:0}}};const n={...t.accumulatedMetadata.cardinality};if(n.dataset){if(t.accumulatedMetadata.defaultGraph===n.dataset&&n.dataset!==t.appendingMetadata.cardinality.dataset)return{metadata:{cardinality:t.appendingMetadata.cardinality}};if(!t.appendingMetadata.cardinality.dataset)return{metadata:{cardinality:n}};if(n.dataset!==t.appendingMetadata.cardinality.dataset&&t.appendingMetadata.subsetOf===n.dataset)return{metadata:{cardinality:t.appendingMetadata.cardinality}};if(n.dataset===t.appendingMetadata.cardinality.dataset)return{metadata:{cardinality:n}};delete n.dataset}return t.appendingMetadata.cardinality&&Number.isFinite(t.appendingMetadata.cardinality.value)?(t.appendingMetadata.cardinality.type==="estimate"&&(n.type="estimate"),n.value+=t.appendingMetadata.cardinality.value):(n.type="estimate",n.value=Number.POSITIVE_INFINITY),{metadata:{cardinality:n}}}}e.ActorRdfMetadataAccumulateCardinality=o},76235:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.QueryEngineBase=void 0;const c=s(90711),a=s(90412);class o{constructor(t){this.actorInitQuery=t}async queryBindings(t,n){return this.queryOfType(t,n,"bindings")}async queryQuads(t,n){return this.queryOfType(t,n,"quads")}async queryBoolean(t,n){return this.queryOfType(t,n,"boolean")}async queryVoid(t,n){return this.queryOfType(t,n,"void")}async queryOfType(t,n,r){const u=await this.query(t,n);if(u.resultType===r)return await u.execute();throw new Error(`Query result type '${r}' was expected, while '${u.resultType}' was found.`)}async query(t,n){const r=await this.queryOrExplain(t,n);if("explain"in r)throw new Error("Tried to explain a query when in query-only mode");return r}async explain(t,n,r){return n.explain=r,await this.queryOrExplain(t,n)}async queryOrExplain(t,n){const r=a.ActionContext.ensureActionContext(n);r.get(c.KeysInitQuery.invalidateCache)&&await this.invalidateHttpCache();const{result:u}=await this.actorInitQuery.mediatorQueryProcess.mediate({query:t,context:r});return"explain"in u?u:o.internalToFinalResult(u)}async getResultMediaTypes(t){return t=a.ActionContext.ensureActionContext(t),(await this.actorInitQuery.mediatorQueryResultSerializeMediaTypeCombiner.mediate({context:t,mediaTypes:!0})).mediaTypes}async getResultMediaTypeFormats(t){return t=a.ActionContext.ensureActionContext(t),(await this.actorInitQuery.mediatorQueryResultSerializeMediaTypeFormatCombiner.mediate({context:t,mediaTypeFormats:!0})).mediaTypeFormats}async resultToString(t,n,r){if(r=a.ActionContext.ensureActionContext(r),!n)switch(t.resultType){case"bindings":n="application/json";break;case"quads":n="application/trig";break;default:n="simple"}const u={...await o.finalToInternalResult(t),context:r};return(await this.actorInitQuery.mediatorQueryResultSerialize.mediate({context:r,handle:u,handleMediaType:n})).handle}invalidateHttpCache(t,n){return n=a.ActionContext.ensureActionContext(n),this.actorInitQuery.mediatorHttpInvalidate.mediate({url:t,context:n})}static internalToFinalResult(t){switch(t.type){case"bindings":return{resultType:"bindings",execute:async()=>t.bindingsStream,metadata:async()=>{const n=await t.metadata();return n.variables=n.variables.map(r=>r.variable),n},context:t.context};case"quads":return{resultType:"quads",execute:async()=>t.quadStream,metadata:async()=>await t.metadata(),context:t.context};case"boolean":return{resultType:"boolean",execute:async()=>t.execute(),context:t.context};case"void":return{resultType:"void",execute:async()=>t.execute(),context:t.context}}}static async finalToInternalResult(t){switch(t.resultType){case"bindings":return{type:"bindings",bindingsStream:await t.execute(),metadata:async()=>{const n=await t.metadata();return n.variables=n.variables.map(r=>({variable:r,canBeUndef:!1})),n}};case"quads":return{type:"quads",quadStream:await t.execute(),metadata:async()=>await t.metadata()};case"boolean":return{type:"boolean",execute:()=>t.execute()};case"void":return{type:"void",execute:()=>t.execute()}}}}e.QueryEngineBase=o},76257:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isNode=function(t){return t!=null&&typeof t.kind=="string"},e.Token=e.Location=void 0;var c,a=(c=s(63580))&&c.__esModule?c:{default:c},o=function(){function t(n,r,u){this.start=n.start,this.end=r.end,this.startToken=n,this.endToken=r,this.source=u}return t.prototype.toJSON=function(){return{start:this.start,end:this.end}},t}();e.Location=o,(0,a.default)(o);var i=function(){function t(n,r,u,l,d,p,f){this.kind=n,this.start=r,this.end=u,this.line=l,this.column=d,this.value=f,this.prev=p,this.next=null}return t.prototype.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},t}();e.Token=i,(0,a.default)(i)},76371:(g,e,s)=>{const{format:c,inspect:a}=s(79231),{AggregateError:o}=s(24134),i=globalThis.AggregateError||o,t=Symbol("kIsNodeError"),n=["string","function","number","object","Function","Object","boolean","bigint","symbol"],r=/^([A-Z][a-z0-9]*)+$/,u={};function l(y,m){if(!y)throw new u.ERR_INTERNAL_ASSERTION(m)}function d(y){let m="",b=y.length;const v=y[0]==="-"?1:0;for(;b>=v+4;b-=3)m=`_${y.slice(b-3,b)}${m}`;return`${y.slice(0,b)}${m}`}function p(y,m,b){b||(b=Error);class v extends b{constructor(...w){super(function(O,A,T){if(typeof A=="function")return l(A.length<=T.length,`Code: ${O}; The provided arguments length (${T.length}) does not match the required ones (${A.length}).`),A(...T);const S=(A.match(/%[dfijoOs]/g)||[]).length;return l(S===T.length,`Code: ${O}; The provided arguments length (${T.length}) does not match the required ones (${S}).`),T.length===0?A:c(A,...T)}(y,m,w))}toString(){return`${this.name} [${y}]: ${this.message}`}}Object.defineProperties(v.prototype,{name:{value:b.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${y}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),v.prototype.code=y,v.prototype[t]=!0,u[y]=v}function f(y){const m="__node_internal_"+y.name;return Object.defineProperty(y,"name",{value:m}),y}class h extends Error{constructor(m="The operation was aborted",b=void 0){if(b!==void 0&&typeof b!="object")throw new u.ERR_INVALID_ARG_TYPE("options","Object",b);super(m,b),this.code="ABORT_ERR",this.name="AbortError"}}p("ERR_ASSERTION","%s",Error),p("ERR_INVALID_ARG_TYPE",(y,m,b)=>{l(typeof y=="string","'name' must be a string"),Array.isArray(m)||(m=[m]);let v="The ";y.endsWith(" argument")?v+=`${y} `:v+=`"${y}" ${y.includes(".")?"property":"argument"} `,v+="must be ";const _=[],w=[],O=[];for(const T of m)l(typeof T=="string","All expected entries have to be of type string"),n.includes(T)?_.push(T.toLowerCase()):r.test(T)?w.push(T):(l(T!=="object",'The value "object" should be written as "Object"'),O.push(T));if(w.length>0){const T=_.indexOf("object");T!==-1&&(_.splice(_,T,1),w.push("Object"))}if(_.length>0){switch(_.length){case 1:v+=`of type ${_[0]}`;break;case 2:v+=`one of type ${_[0]} or ${_[1]}`;break;default:{const T=_.pop();v+=`one of type ${_.join(", ")}, or ${T}`}}(w.length>0||O.length>0)&&(v+=" or ")}if(w.length>0){switch(w.length){case 1:v+=`an instance of ${w[0]}`;break;case 2:v+=`an instance of ${w[0]} or ${w[1]}`;break;default:{const T=w.pop();v+=`an instance of ${w.join(", ")}, or ${T}`}}O.length>0&&(v+=" or ")}switch(O.length){case 0:break;case 1:O[0].toLowerCase()!==O[0]&&(v+="an "),v+=`${O[0]}`;break;case 2:v+=`one of ${O[0]} or ${O[1]}`;break;default:{const T=O.pop();v+=`one of ${O.join(", ")}, or ${T}`}}if(b==null)v+=`. Received ${b}`;else if(typeof b=="function"&&b.name)v+=`. Received function ${b.name}`;else if(typeof b=="object"){var A;(A=b.constructor)!==null&&A!==void 0&&A.name?v+=`. Received an instance of ${b.constructor.name}`:v+=`. Received ${a(b,{depth:-1})}`}else{let T=a(b,{colors:!1});T.length>25&&(T=`${T.slice(0,25)}...`),v+=`. Received type ${typeof b} (${T})`}return v},TypeError),p("ERR_INVALID_ARG_VALUE",(y,m,b="is invalid")=>{let v=a(m);return v.length>128&&(v=v.slice(0,128)+"..."),`The ${y.includes(".")?"property":"argument"} '${y}' ${b}. Received ${v}`},TypeError),p("ERR_INVALID_RETURN_VALUE",(y,m,b)=>{var v;return`Expected ${y} to be returned from the "${m}" function but got ${b!=null&&(v=b.constructor)!==null&&v!==void 0&&v.name?`instance of ${b.constructor.name}`:"type "+typeof b}.`},TypeError),p("ERR_MISSING_ARGS",(...y)=>{let m;l(y.length>0,"At least one arg needs to be specified");const b=y.length;switch(y=(Array.isArray(y)?y:[y]).map(v=>`"${v}"`).join(" or "),b){case 1:m+=`The ${y[0]} argument`;break;case 2:m+=`The ${y[0]} and ${y[1]} arguments`;break;default:{const v=y.pop();m+=`The ${y.join(", ")}, and ${v} arguments`}}return`${m} must be specified`},TypeError),p("ERR_OUT_OF_RANGE",(y,m,b)=>{let v;if(l(m,'Missing "range" argument'),Number.isInteger(b)&&Math.abs(b)>2**32)v=d(String(b));else if(typeof b=="bigint"){v=String(b);const _=BigInt(2)**BigInt(32);(b>_||b<-_)&&(v=d(v)),v+="n"}else v=a(b);return`The value of "${y}" is out of range. It must be ${m}. Received ${v}`},RangeError),p("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),p("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),p("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),p("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),p("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),p("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),p("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),p("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),p("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),p("ERR_STREAM_WRITE_AFTER_END","write after end",Error),p("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),g.exports={AbortError:h,aggregateTwoErrors:f(function(y,m){if(y&&m&&y!==m){if(Array.isArray(m.errors))return m.errors.push(y),m;const b=new i([m,y],m.message);return b.code=m.code,b}return y||m}),hideStackFrames:f,codes:u}},76588:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default={targetNode:!0,targetObjectsOf:!0,targetSubjectsOf:!0,deactivated:!0,severity:!0,message:!0,class:!0,datatype:!0,nodeKind:!0,minExclusive:!0,minInclusive:!0,maxExclusive:!0,maxInclusive:!0,minLength:!0,maxLength:!0,pattern:!0,flags:!0,languageIn:!0,equals:!0,disjoint:!0,closed:!0,ignoredProperties:!0,hasValue:!0,in:!0}},76593:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermRound=void 0;const c=s(77617),a=s(77545),o=s(55282);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.SparqlOperator.ROUND],termFunction:!0})}async run(n){return new o.TermFunctionRound}}e.ActorFunctionFactoryTermRound=i},76654:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(53801),e)},76695:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(15195),e)},76810:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(47),e)},76869:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionStrLen=void 0;const c=s(77617),a=s(77545);class o extends c.TermFunctionBase{constructor(){super({arity:1,operator:a.SparqlOperator.STRLEN,overloads:(0,a.declare)(a.SparqlOperator.STRLEN).onStringly1(()=>t=>(0,a.integer)([...t.typedValue].length)).collect()})}}e.TermFunctionStrLen=o},76952:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.termToString=e.stringToTerm=e.stringQuadToQuad=e.quadToStringQuad=e.getLiteralValue=e.getLiteralType=e.getLiteralLanguage=void 0;const c=s(45548);Object.defineProperty(e,"getLiteralLanguage",{enumerable:!0,get:function(){return c.getLiteralLanguage}}),Object.defineProperty(e,"getLiteralType",{enumerable:!0,get:function(){return c.getLiteralType}}),Object.defineProperty(e,"getLiteralValue",{enumerable:!0,get:function(){return c.getLiteralValue}}),Object.defineProperty(e,"quadToStringQuad",{enumerable:!0,get:function(){return c.quadToStringQuad}}),Object.defineProperty(e,"stringQuadToQuad",{enumerable:!0,get:function(){return c.stringQuadToQuad}}),Object.defineProperty(e,"stringToTerm",{enumerable:!0,get:function(){return c.stringToTerm}}),Object.defineProperty(e,"termToString",{enumerable:!0,get:function(){return c.termToString}})},76970:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerPredicate=void 0;const c=s(42395),a=s(10888);class o{static async handlePredicateObject(t,n,r,u,l,d,p,f,h){const y=await n.getPropertiesDepth(r,u),m=await n.getDepthOffsetGraph(u,r),b=u-m,v=t.idStack[y];if(v&&!h)for(const _ of v)if(m>=0){const w=t.idStack[b-1];if(w)for(const O of w)n.emitQuadChecked(u,_,l,d,O,p,f);else p?(n.validateReverseSubject(d),t.getUnidentifiedGraphBufferSafe(b-1).push({subject:d,predicate:l,object:_,isEmbedded:f})):t.getUnidentifiedGraphBufferSafe(b-1).push({subject:_,predicate:l,object:d,isEmbedded:f})}else{const w=await n.getGraphContainerValue(r,y);n.emitQuadChecked(u,_,l,d,w,p,f)}else if(p&&n.validateReverseSubject(d),h){if(t.rdfstar){t.idStack[u]&&t.emitError(new c.ErrorCoded(`Found an illegal @id inside an annotation: ${t.idStack[u][0].value}`,c.ERROR_CODES.INVALID_ANNOTATION));for(let O=0;O<u;O++)await n.unaliasKeyword(r[O],r,O)==="@id"&&t.emitError(new c.ErrorCoded("Found an illegal annotation inside an embedded node",c.ERROR_CODES.INVALID_ANNOTATION));const _=t.getAnnotationsBufferSafe(y),w={predicate:l,object:d,reverse:p,nestedAnnotations:[],depth:y};_.push(w);for(let O=_.length-2;O>=0;O--){const A=_[O];A.depth>y&&(w.nestedAnnotations.push(A),_.splice(O,1))}}}else t.getUnidentifiedValueBufferSafe(y).push({predicate:l,object:d,reverse:p,isEmbedded:f})}isPropertyHandler(){return!0}isStackProcessor(){return!0}async validate(t,n,r,u,l){const d=r[u];if(d){const p=await t.getContext(r);if(!t.jsonLiteralStack[u]&&await n.predicateToTerm(p,r[u]))return a.Util.getContextValueType(p,d)==="@json"&&(t.jsonLiteralStack[u+1]=!0),!0}return!1}async test(t,n,r,u,l){return u[l]}async handle(t,n,r,u,l,d,p){const f=u[d],h=await t.getContext(u),y=await n.predicateToTerm(h,r);if(y){const m=await n.valueToTerm(h,r,l,d,u);if(m.length)for(let b of m){let v=await n.unaliasKeywordParent(u,d);const _=a.Util.isPropertyReverse(h,f,v);let w=0;for(;v==="@reverse"||typeof v=="number";)typeof v=="number"?w++:d--,v=await n.unaliasKeywordParent(u,d-w);const O=a.Util.isPropertyInEmbeddedNode(v);n.validateReverseInEmbeddedNode(r,_,O);const A=a.Util.isPropertyInAnnotationObject(v);if(l){const T="@list"in a.Util.getContextValueContainer(h,r);if(T||l["@list"]){if((T&&!Array.isArray(l)&&!l["@list"]||l["@list"]&&!Array.isArray(l["@list"]))&&b!==n.rdfNil){const S=n.dataFactory.blankNode();t.emitQuad(d,n.dataFactory.quad(S,n.rdfRest,n.rdfNil,n.getDefaultGraph())),t.emitQuad(d,n.dataFactory.quad(S,n.rdfFirst,b,n.getDefaultGraph())),b=S}if(_&&!t.allowSubjectList)throw new c.ErrorCoded(`Found illegal list value in subject position at ${r}`,c.ERROR_CODES.INVALID_REVERSE_PROPERTY_VALUE)}}await o.handlePredicateObject(t,n,u,d,y,b,_,O,A)}}}}e.EntryHandlerPredicate=o},77054:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionReplace=void 0;const c=s(98811),a=s(77617),o=s(77545);class i extends a.TermFunctionBase{constructor(){super({arity:[3,4],operator:o.SparqlOperator.REPLACE,overloads:(0,o.declare)(o.SparqlOperator.REPLACE).onTernaryTyped([o.TypeURL.XSD_STRING,o.TypeURL.XSD_STRING,o.TypeURL.XSD_STRING],()=>(n,r,u)=>(0,o.string)(i.replace(n,r,u))).set([o.TypeURL.RDF_LANG_STRING,o.TypeURL.XSD_STRING,o.TypeURL.XSD_STRING],()=>([n,r,u])=>{const l=i.replace(n.typedValue,r.typedValue,u.typedValue);return(0,o.langString)(l,n.language)}).onQuaternaryTyped([o.TypeURL.XSD_STRING,o.TypeURL.XSD_STRING,o.TypeURL.XSD_STRING,o.TypeURL.XSD_STRING],()=>(n,r,u,l)=>(0,o.string)(i.replace(n,r,u,l))).set([o.TypeURL.RDF_LANG_STRING,o.TypeURL.XSD_STRING,o.TypeURL.XSD_STRING,o.TypeURL.XSD_STRING],()=>([n,r,u,l])=>{const d=i.replace(n.typedValue,r.typedValue,u.typedValue,l.typedValue);return(0,o.langString)(d,n.language)}).collect()})}static replace(n,r,u,l=""){return(l=c.TermFunctionRegex.cleanFlags(l)).includes("x")&&(r=c.TermFunctionRegex.flagX(r)),l.includes("q")?r=c.TermFunctionRegex.flagQ(r):u=u.replaceAll("$0",()=>"$&"),l=`${l.replaceAll(/[qx]/gu,"")}g`,n.replaceAll(new RegExp(r,l),u)}}e.TermFunctionReplace=i},77087:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermDictionaryNumberRecord=void 0;const c=s(28664),a=s(43347);e.TermDictionaryNumberRecord=class{constructor(o=new c.DataFactory){this.lastId=0,this.dictionary={},this.reverseDictionary={},this.features={quotedTriples:!1},this.dataFactory=o}encode(o){const i=(0,a.termToString)(o);let t=this.dictionary[i];return t===void 0&&(t=this.lastId++,this.dictionary[i]=t,this.reverseDictionary[t]=i),t}encodeOptional(o){const i=(0,a.termToString)(o);return this.dictionary[i]}decode(o){const i=this.reverseDictionary[o];if(i===void 0)throw new Error(`The value ${o} is not present in this dictionary`);return(0,a.stringToTerm)(i,this.dataFactory)}*encodings(){for(const o of Object.keys(this.reverseDictionary))yield Number.parseInt(o,10)}findQuotedTriples(o){throw new Error("findQuotedTriples is not supported")}findQuotedTriplesEncoded(o){throw new Error("findQuotedTriplesEncoded is not supported")}}},77267:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(48767),e)},77401:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorTermComparatorFactory=void 0;const c=s(90412);class a extends c.Actor{constructor(i){super(i),this.mediatorQueryOperation=i.mediatorQueryOperation,this.mediatorFunctionFactory=i.mediatorFunctionFactory,this.mediatorMergeBindingsContext=i.mediatorMergeBindingsContext}}e.ActorTermComparatorFactory=a},77415:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionIsNumeric=void 0;const c=s(77617),a=s(77545);class o extends c.TermFunctionBase{constructor(){super({arity:1,operator:a.SparqlOperator.IS_NUMERIC,overloads:(0,a.declare)(a.SparqlOperator.IS_NUMERIC).onNumeric1(()=>()=>(0,a.bool)(!0)).onTerm1(()=>()=>(0,a.bool)(!1)).collect()})}}e.TermFunctionIsNumeric=o},77447:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermXsdToDayTimeDuration=void 0;const c=s(77617),a=s(77545),o=s(9402);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.TypeURL.XSD_DAY_TIME_DURATION],termFunction:!0})}async run(n){return new o.TermFunctionXsdToDayTimeDuration}}e.ActorFunctionFactoryTermXsdToDayTimeDuration=i},77545:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.LangStringLiteral=e.TimeLiteral=e.DurationLiteral=e.DateLiteral=e.DayTimeDurationLiteral=e.DateTimeLiteral=e.yearMonthDurationsToMonths=e.toUTCDate=e.toDateTimeRepresentation=e.negateDuration=e.extractRawTimeZone=e.defaultedYearMonthDurationRepresentation=e.defaultedDurationRepresentation=e.defaultedDayTimeDurationRepresentation=e.defaultedDateTimeRepresentation=e.dayTimeDurationsToSeconds=e.isSubTypeOf=e.SparqlOperator=e.TypeAlias=e.TypeURL=e.typedLiteral=e.InvalidArity=e.InvalidLexicalForm=e.ExtensionFunctionError=e.CastError=e.UnboundVariableError=e.NoAggregator=e.InError=e.CoalesceError=e.InvalidArgumentTypes=e.InvalidTimezoneCall=e.IncompatibleLanguageOperation=e.RDFEqualTypeError=e.EmptyAggregateError=e.isExpressionError=e.ExpressionError=e.Builder=e.expressionToVar=e.float=e.decimal=e.langString=e.dateTime=e.integer=e.double=e.string=e.bool=e.declare=e.prepareEvaluatorActionContext=e.OverloadTree=e.TermTransformer=void 0,e.trimToDayTimeDuration=e.trimToYearMonthDuration=e.parseDate=e.parseXSDFloat=e.parseXSDDecimal=e.parseYearMonthDuration=e.parseTime=e.parseDuration=e.parseDayTimeDuration=e.parseDateTime=e.elapsedDuration=e.addDurationToDateTime=e.isNonLexicalLiteral=e.StringLiteral=e.NonLexicalLiteral=e.FloatLiteral=e.IntegerLiteral=e.Literal=e.Existence=e.Aggregate=e.DoubleLiteral=e.DefaultGraph=e.DecimalLiteral=e.BlankNode=e.BooleanLiteral=e.NumericLiteral=e.Variable=e.NamedNode=e.Operator=e.Quad=e.YearMonthDurationLiteral=e.Term=void 0;var c=s(53119);Object.defineProperty(e,"TermTransformer",{enumerable:!0,get:function(){return c.TermTransformer}});var a=s(34641);Object.defineProperty(e,"OverloadTree",{enumerable:!0,get:function(){return a.OverloadTree}});var o=s(17845);Object.defineProperty(e,"prepareEvaluatorActionContext",{enumerable:!0,get:function(){return o.prepareEvaluatorActionContext}});var i=s(97618);Object.defineProperty(e,"declare",{enumerable:!0,get:function(){return i.declare}}),Object.defineProperty(e,"bool",{enumerable:!0,get:function(){return i.bool}}),Object.defineProperty(e,"string",{enumerable:!0,get:function(){return i.string}}),Object.defineProperty(e,"double",{enumerable:!0,get:function(){return i.double}}),Object.defineProperty(e,"integer",{enumerable:!0,get:function(){return i.integer}}),Object.defineProperty(e,"dateTime",{enumerable:!0,get:function(){return i.dateTime}}),Object.defineProperty(e,"langString",{enumerable:!0,get:function(){return i.langString}}),Object.defineProperty(e,"decimal",{enumerable:!0,get:function(){return i.decimal}}),Object.defineProperty(e,"float",{enumerable:!0,get:function(){return i.float}}),Object.defineProperty(e,"expressionToVar",{enumerable:!0,get:function(){return i.expressionToVar}}),Object.defineProperty(e,"Builder",{enumerable:!0,get:function(){return i.Builder}});var t=s(98575);Object.defineProperty(e,"ExpressionError",{enumerable:!0,get:function(){return t.ExpressionError}}),Object.defineProperty(e,"isExpressionError",{enumerable:!0,get:function(){return t.isExpressionError}}),Object.defineProperty(e,"EmptyAggregateError",{enumerable:!0,get:function(){return t.EmptyAggregateError}}),Object.defineProperty(e,"RDFEqualTypeError",{enumerable:!0,get:function(){return t.RDFEqualTypeError}}),Object.defineProperty(e,"IncompatibleLanguageOperation",{enumerable:!0,get:function(){return t.IncompatibleLanguageOperation}}),Object.defineProperty(e,"InvalidTimezoneCall",{enumerable:!0,get:function(){return t.InvalidTimezoneCall}}),Object.defineProperty(e,"InvalidArgumentTypes",{enumerable:!0,get:function(){return t.InvalidArgumentTypes}}),Object.defineProperty(e,"CoalesceError",{enumerable:!0,get:function(){return t.CoalesceError}}),Object.defineProperty(e,"InError",{enumerable:!0,get:function(){return t.InError}}),Object.defineProperty(e,"NoAggregator",{enumerable:!0,get:function(){return t.NoAggregator}}),Object.defineProperty(e,"UnboundVariableError",{enumerable:!0,get:function(){return t.UnboundVariableError}}),Object.defineProperty(e,"CastError",{enumerable:!0,get:function(){return t.CastError}}),Object.defineProperty(e,"ExtensionFunctionError",{enumerable:!0,get:function(){return t.ExtensionFunctionError}}),Object.defineProperty(e,"InvalidLexicalForm",{enumerable:!0,get:function(){return t.InvalidLexicalForm}}),Object.defineProperty(e,"InvalidArity",{enumerable:!0,get:function(){return t.InvalidArity}});var n=s(64900);Object.defineProperty(e,"typedLiteral",{enumerable:!0,get:function(){return n.typedLiteral}}),Object.defineProperty(e,"TypeURL",{enumerable:!0,get:function(){return n.TypeURL}}),Object.defineProperty(e,"TypeAlias",{enumerable:!0,get:function(){return n.TypeAlias}}),Object.defineProperty(e,"SparqlOperator",{enumerable:!0,get:function(){return n.SparqlOperator}});var r=s(86273);Object.defineProperty(e,"isSubTypeOf",{enumerable:!0,get:function(){return r.isSubTypeOf}});var u=s(31296);Object.defineProperty(e,"dayTimeDurationsToSeconds",{enumerable:!0,get:function(){return u.dayTimeDurationsToSeconds}}),Object.defineProperty(e,"defaultedDateTimeRepresentation",{enumerable:!0,get:function(){return u.defaultedDateTimeRepresentation}}),Object.defineProperty(e,"defaultedDayTimeDurationRepresentation",{enumerable:!0,get:function(){return u.defaultedDayTimeDurationRepresentation}}),Object.defineProperty(e,"defaultedDurationRepresentation",{enumerable:!0,get:function(){return u.defaultedDurationRepresentation}}),Object.defineProperty(e,"defaultedYearMonthDurationRepresentation",{enumerable:!0,get:function(){return u.defaultedYearMonthDurationRepresentation}}),Object.defineProperty(e,"extractRawTimeZone",{enumerable:!0,get:function(){return u.extractRawTimeZone}}),Object.defineProperty(e,"negateDuration",{enumerable:!0,get:function(){return u.negateDuration}}),Object.defineProperty(e,"toDateTimeRepresentation",{enumerable:!0,get:function(){return u.toDateTimeRepresentation}}),Object.defineProperty(e,"toUTCDate",{enumerable:!0,get:function(){return u.toUTCDate}}),Object.defineProperty(e,"yearMonthDurationsToMonths",{enumerable:!0,get:function(){return u.yearMonthDurationsToMonths}});var l=s(54833);Object.defineProperty(e,"DateTimeLiteral",{enumerable:!0,get:function(){return l.DateTimeLiteral}}),Object.defineProperty(e,"DayTimeDurationLiteral",{enumerable:!0,get:function(){return l.DayTimeDurationLiteral}}),Object.defineProperty(e,"DateLiteral",{enumerable:!0,get:function(){return l.DateLiteral}}),Object.defineProperty(e,"DurationLiteral",{enumerable:!0,get:function(){return l.DurationLiteral}}),Object.defineProperty(e,"TimeLiteral",{enumerable:!0,get:function(){return l.TimeLiteral}}),Object.defineProperty(e,"LangStringLiteral",{enumerable:!0,get:function(){return l.LangStringLiteral}}),Object.defineProperty(e,"Term",{enumerable:!0,get:function(){return l.Term}}),Object.defineProperty(e,"YearMonthDurationLiteral",{enumerable:!0,get:function(){return l.YearMonthDurationLiteral}}),Object.defineProperty(e,"Quad",{enumerable:!0,get:function(){return l.Quad}}),Object.defineProperty(e,"Operator",{enumerable:!0,get:function(){return l.Operator}}),Object.defineProperty(e,"NamedNode",{enumerable:!0,get:function(){return l.NamedNode}}),Object.defineProperty(e,"Variable",{enumerable:!0,get:function(){return l.Variable}}),Object.defineProperty(e,"NumericLiteral",{enumerable:!0,get:function(){return l.NumericLiteral}}),Object.defineProperty(e,"BooleanLiteral",{enumerable:!0,get:function(){return l.BooleanLiteral}}),Object.defineProperty(e,"BlankNode",{enumerable:!0,get:function(){return l.BlankNode}}),Object.defineProperty(e,"DecimalLiteral",{enumerable:!0,get:function(){return l.DecimalLiteral}}),Object.defineProperty(e,"DefaultGraph",{enumerable:!0,get:function(){return l.DefaultGraph}}),Object.defineProperty(e,"DoubleLiteral",{enumerable:!0,get:function(){return l.DoubleLiteral}}),Object.defineProperty(e,"Aggregate",{enumerable:!0,get:function(){return l.Aggregate}}),Object.defineProperty(e,"Existence",{enumerable:!0,get:function(){return l.Existence}}),Object.defineProperty(e,"Literal",{enumerable:!0,get:function(){return l.Literal}}),Object.defineProperty(e,"IntegerLiteral",{enumerable:!0,get:function(){return l.IntegerLiteral}}),Object.defineProperty(e,"FloatLiteral",{enumerable:!0,get:function(){return l.FloatLiteral}}),Object.defineProperty(e,"NonLexicalLiteral",{enumerable:!0,get:function(){return l.NonLexicalLiteral}}),Object.defineProperty(e,"StringLiteral",{enumerable:!0,get:function(){return l.StringLiteral}}),Object.defineProperty(e,"isNonLexicalLiteral",{enumerable:!0,get:function(){return l.isNonLexicalLiteral}});var d=s(84427);Object.defineProperty(e,"addDurationToDateTime",{enumerable:!0,get:function(){return d.addDurationToDateTime}}),Object.defineProperty(e,"elapsedDuration",{enumerable:!0,get:function(){return d.elapsedDuration}});var p=s(29658);Object.defineProperty(e,"parseDateTime",{enumerable:!0,get:function(){return p.parseDateTime}}),Object.defineProperty(e,"parseDayTimeDuration",{enumerable:!0,get:function(){return p.parseDayTimeDuration}}),Object.defineProperty(e,"parseDuration",{enumerable:!0,get:function(){return p.parseDuration}}),Object.defineProperty(e,"parseTime",{enumerable:!0,get:function(){return p.parseTime}}),Object.defineProperty(e,"parseYearMonthDuration",{enumerable:!0,get:function(){return p.parseYearMonthDuration}}),Object.defineProperty(e,"parseXSDDecimal",{enumerable:!0,get:function(){return p.parseXSDDecimal}}),Object.defineProperty(e,"parseXSDFloat",{enumerable:!0,get:function(){return p.parseXSDFloat}}),Object.defineProperty(e,"parseDate",{enumerable:!0,get:function(){return p.parseDate}});var f=s(31296);Object.defineProperty(e,"trimToYearMonthDuration",{enumerable:!0,get:function(){return f.trimToYearMonthDuration}}),Object.defineProperty(e,"trimToDayTimeDuration",{enumerable:!0,get:function(){return f.trimToDayTimeDuration}})},77571:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ChunkedIterator=void 0;const c=s(75627);class a extends c.TransformIterator{constructor(i,t,n){super(i,n),this.chunk=[],this.blockSize=t}consumeChunkAsIterator(){const i=new c.ArrayIterator(this.chunk,{autoStart:!1});return this.chunk=[],i}_transform(i,t,n){this.chunk.push(i),this.chunk.length>=this.blockSize&&n(this.consumeChunkAsIterator()),t()}_flush(i){this.chunk.length>0&&this._push(this.consumeChunkAsIterator()),super._flush(i)}}e.ChunkedIterator=a},77617:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(1028),e),a(s(68307),e),a(s(48061),e),a(s(5673),e)},77654:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BindingsToQuadsIterator=void 0;const c=s(75627),a=s(3285);class o extends c.MultiTransformIterator{constructor(t,n,r){super(r,{autoStart:!1}),this.dataFactory=t,this.template=n,this.blankNodeCounter=0}static bindTerm(t,n){return n.termType==="Variable"?t.get(n):n}static bindQuad(t,n){try{return(0,a.mapTermsNested)(n,r=>{const u=o.bindTerm(t,r);if(!u)throw new Error("Unbound term");return u})}catch{}}static localizeBlankNode(t,n,r){return r.termType==="BlankNode"?t.blankNode(`${r.value}${n}`):r}static localizeQuad(t,n,r){return(0,a.mapTermsNested)(r,u=>o.localizeBlankNode(t,n,u))}bindTemplate(t,n,r){return n.map(o.localizeQuad.bind(null,this.dataFactory,r)).map(u=>o.bindQuad.bind(null,t)(u)).filter(Boolean)}_createTransformer(t){return new c.ArrayIterator(this.bindTemplate(t,this.template,this.blankNodeCounter++),{autoStart:!1})}}e.BindingsToQuadsIterator=o},77772:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorDereferenceHttp=void 0;const c=s(16524);class a extends c.ActorDereferenceHttpBase{getMaxAcceptHeaderLength(){return this.maxAcceptHeaderLengthBrowser}}e.ActorDereferenceHttp=a},77843:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.JsonLdSerializer=void 0;const c=s(42395),a=s(89250),o=s(23317),i=s(19198);class t extends i.Transform{constructor(r={}){super({objectMode:!0}),this.indentation=0,this.options=r,this.options.baseIRI&&!this.options.context&&(this.options.context={"@base":this.options.baseIRI}),this.options.context?(this.originalContext=this.options.context,this.context=new c.ContextParser().parse(this.options.context,{baseIRI:this.options.baseIRI})):this.context=Promise.resolve(new c.JsonLdContextNormalized({}))}import(r){const u=new i.PassThrough({objectMode:!0});r.on("error",d=>l.emit("error",d)),r.on("data",d=>u.push(d)),r.on("end",()=>u.push(null));const l=u.pipe(new t(this.options));return l}_transform(r,u,l){this.context.then(d=>{this.transformQuad(r,d),l()}).catch(l)}async list(r){const u=await this.context;return{"@list":r.map(l=>o.Util.termToValue(l,u,this.options))}}_flush(r){return this.opened||this.pushDocumentStart(),this.lastPredicate&&this.endPredicate(),this.lastSubject&&this.endSubject(),this.lastGraph&&this.lastGraph.termType!=="DefaultGraph"&&this.endGraph(),this.endDocument(),r(null,null)}transformQuad(r,u){this.opened||this.pushDocumentStart();const l=this.lastGraph&&this.lastGraph.termType!=="DefaultGraph"&&this.lastGraph.equals(r.subject);if(!(l||this.lastGraph&&r.graph.equals(this.lastGraph))){let d=r.graph.termType!=="DefaultGraph"&&this.lastSubject&&this.lastSubject.equals(r.graph);this.lastGraph&&(this.lastGraph.termType!=="DefaultGraph"?(this.endPredicate(),this.endSubject(),this.endGraph(!0),d=!1):d?(this.endPredicate(!0),this.lastSubject=null):(this.endPredicate(),this.endSubject(!0))),r.graph.termType!=="DefaultGraph"&&(d||this.pushId(r.graph,!0,u),this.pushSeparator(this.options.space?a.SeparatorType.GRAPH_FIELD_NONCOMPACT:a.SeparatorType.GRAPH_FIELD_COMPACT),this.indentation++),this.lastGraph=r.graph}this.lastSubject&&r.subject.equals(this.lastSubject)||(l?(this.endPredicate(),this.endSubject(),this.indentation--,this.pushSeparator(a.SeparatorType.ARRAY_END_COMMA),this.lastGraph=r.graph):(this.lastSubject&&(this.endPredicate(),this.endSubject(!0)),this.pushId(r.subject,!0,u)),this.lastSubject=r.subject),this.lastPredicate&&r.predicate.equals(this.lastPredicate)||(this.lastPredicate&&this.endPredicate(!0),this.pushPredicate(r.predicate,u)),this.pushObject(r.object,u)}pushDocumentStart(){this.opened=!0,this.originalContext&&!this.options.excludeContext?(this.pushSeparator(a.SeparatorType.OBJECT_START),this.indentation++,this.pushSeparator(a.SeparatorType.CONTEXT_FIELD),this.pushIndented(JSON.stringify(this.originalContext,null,this.options.space)+","),this.pushSeparator(this.options.space?a.SeparatorType.GRAPH_FIELD_NONCOMPACT:a.SeparatorType.GRAPH_FIELD_COMPACT),this.indentation++):(this.pushSeparator(a.SeparatorType.ARRAY_START),this.indentation++)}pushId(r,u,l){if(r.termType==="Quad")this.pushNestedQuad(r,!0,l);else{const d=r.termType==="BlankNode"?"_:"+r.value:l.compactIri(r.value,!1);u?this.pushSeparator(a.SeparatorType.OBJECT_START):(this.push(a.SeparatorType.OBJECT_START.label),this.options.space&&this.push(`
`)),this.indentation++,this.pushIndented(this.options.space?`"@id": "${d}",`:`"@id":"${d}",`)}}pushPredicate(r,u){let l=r.value;this.options.useRdfType||l!==o.Util.RDF_TYPE||(l="@type",this.objectOptions=Object.assign(Object.assign({},this.options),{compactIds:!0,vocab:!0}));const d=u.compactIri(l,!0);this.pushIndented(this.options.space?`"${d}": [`:`"${d}":[`),this.indentation++,this.lastPredicate=r}pushObject(r,u){if(this.hadObjectForPredicate?this.pushSeparator(a.SeparatorType.COMMA):this.hadObjectForPredicate=!0,r.termType==="Quad"){const d=this.lastSubject,p=this.lastPredicate;return this.hadObjectForPredicate=!1,this.pushNestedQuad(r,!1,u),this.endSubject(!1),this.hadObjectForPredicate=!0,this.lastPredicate=p,void(this.lastSubject=d)}let l;try{l=r["@list"]?r:o.Util.termToValue(r,u,this.objectOptions||this.options)}catch(d){return this.emit("error",d)}this.pushIndented(JSON.stringify(l,null,this.options.space))}pushNestedQuad(r,u,l){this.pushSeparator(a.SeparatorType.OBJECT_START),this.indentation++,this.pushIndented(this.options.space?'"@id": ':'"@id":',!1),r.graph.termType!=="DefaultGraph"&&this.emit("error",new Error(`Found a nested quad with the non-default graph: ${r.graph.value}`)),this.pushId(r.subject,!1,l),this.pushPredicate(r.predicate,l),this.pushObject(r.object,l),this.endPredicate(!1),this.endSubject(u)}endDocument(){this.opened=!1,this.originalContext&&!this.options.excludeContext?(this.indentation--,this.pushSeparator(a.SeparatorType.ARRAY_END),this.indentation--,this.pushSeparator(a.SeparatorType.OBJECT_END)):(this.indentation--,this.pushSeparator(a.SeparatorType.ARRAY_END))}endPredicate(r){this.indentation--,this.pushSeparator(r?a.SeparatorType.ARRAY_END_COMMA:a.SeparatorType.ARRAY_END),this.hadObjectForPredicate=!1,this.objectOptions=null,this.lastPredicate=null}endSubject(r){this.indentation--,this.pushSeparator(r?a.SeparatorType.OBJECT_END_COMMA:a.SeparatorType.OBJECT_END),this.lastSubject=null}endGraph(r){this.indentation--,this.pushSeparator(a.SeparatorType.ARRAY_END),this.indentation--,this.pushSeparator(r?a.SeparatorType.OBJECT_END_COMMA:a.SeparatorType.OBJECT_END),this.lastGraph=null}pushSeparator(r){this.pushIndented(r.label)}pushIndented(r,u=!0){const l=this.getIndentPrefix(),d=r.split(`
`).map(p=>l+p).join(`
`);this.push(d),this.options.space&&u&&this.push(`
`)}getIndentPrefix(){return this.options.space?this.options.space.repeat(this.indentation):""}}e.JsonLdSerializer=t},77866:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SumAggregator=void 0;const c=s(86581),a=s(77545);class o extends c.AggregateEvaluator{constructor(t,n,r,u,l){super(t,n,l),this.dataFactory=r,this.additionFunction=u,this.state=void 0}emptyValueTerm(){return(0,a.typedLiteral)("0",a.TypeURL.XSD_INTEGER)}putTerm(t){if(this.state===void 0)this.state=this.termToNumericOrError(t);else{const n=this.termToNumericOrError(t);this.state=this.additionFunction.applyOnTerms([this.state,n],this.evaluator)}}termResult(){return this.state===void 0?this.emptyValue():this.state.toRDF(this.dataFactory)}}e.SumAggregator=o},77934:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfSerializeJsonLd=void 0;const c=s(81261),a=s(43549);class o extends c.ActorRdfSerializeFixedMediaTypes{constructor(t){super(t)}async runHandle(t,n,r){const u=new a.JsonLdSerializer({space:" ".repeat(this.jsonStringifyIndentSpaces)});let l;return"pipe"in t.quadStream?(t.quadStream.on("error",d=>u.emit("error",d)),l=t.quadStream.pipe(u)):l=u.import(t.quadStream),{data:l}}}e.ActorRdfSerializeJsonLd=o},77952:(g,e,s)=>{var c=e;c.utils=s(67426),c.common=s(66166),c.sha=s(46229),c.ripemd=s(46784),c.hmac=s(28948),c.sha1=c.sha.sha1,c.sha256=c.sha.sha256,c.sha224=c.sha.sha224,c.sha384=c.sha.sha384,c.sha512=c.sha.sha512,c.ripemd160=c.ripemd.ripemd160},77955:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryOperationReducedHash=void 0;const c=s(66490),a=s(90412),o=s(67021),i=s(89096);class t extends c.ActorQueryOperationTypedMediated{constructor(r){super(r,"reduced")}async testOperation(r,u){return(0,a.passTestVoid)()}async runOperation(r,u){const l=(0,o.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:r.input,context:u})),d=(await l.metadata()).variables.map(p=>p.variable);return{type:"bindings",bindingsStream:l.bindingsStream.filter(await this.newHashFilter(u,d)),metadata:l.metadata}}async newHashFilter(r,u){const{hashFunction:l}=await this.mediatorHashBindings.mediate({context:r}),d=new i.LRUCache({max:this.cacheSize});return p=>{const f=l(p,u);return!d.has(f)&&(d.set(f,!0),!0)}}}e.ActorQueryOperationReducedHash=t},78e3:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(77772),e),a(s(16524),e)},78149:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(t,n,r,u){u===void 0&&(u=r);var l=Object.getOwnPropertyDescriptor(n,r);l&&!("get"in l?!n.__esModule:l.writable||l.configurable)||(l={enumerable:!0,get:function(){return n[r]}}),Object.defineProperty(t,u,l)}:function(t,n,r,u){u===void 0&&(u=r),t[u]=n[r]}),a=this&&this.__exportStar||function(t,n){for(var r in t)r==="default"||Object.prototype.hasOwnProperty.call(n,r)||c(n,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),e.bindingsStreamToGraphQl=void 0;const o=s(73505),{bindingsStreamToGraphQl:i}=o.ActorQueryResultSerializeTree;e.bindingsStreamToGraphQl=i,a(s(73505),e)},78478:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionNow=void 0;const c=s(77617),a=s(90711),o=s(77545);class i extends c.TermFunctionBase{constructor(){super({arity:0,operator:o.SparqlOperator.NOW,overloads:(0,o.declare)(o.SparqlOperator.NOW).set([],n=>()=>new o.DateTimeLiteral((0,o.toDateTimeRepresentation)({date:n.context.getSafe(a.KeysInitQuery.queryTimestamp),timeZone:n.context.getSafe(a.KeysExpressionEvaluator.defaultTimeZone)}))).collect()})}}e.TermFunctionNow=i},78490:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionMonth=void 0;const c=s(77617),a=s(77545);class o extends c.TermFunctionBase{constructor(){super({arity:1,operator:a.SparqlOperator.MONTH,overloads:(0,a.declare)(a.SparqlOperator.MONTH).onDateTime1(()=>t=>(0,a.integer)(t.typedValue.month)).set([a.TypeURL.XSD_DATE],()=>([t])=>(0,a.integer)(t.typedValue.month)).collect()})}}e.TermFunctionMonth=o},78563:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorAbstractMediaTyped=void 0;const c=s(90412);class a extends c.Actor{constructor(i){super(i)}async run(i){if("handle"in i){const t=i;return{handle:await this.runHandle(t.handle,t.handleMediaType,i.context)}}if("mediaTypes"in i)return{mediaTypes:await this.getMediaTypes(i.context)};if("mediaTypeFormats"in i)return{mediaTypeFormats:await this.getMediaTypeFormats(i.context)};throw new Error("Either a handle, mediaTypes or mediaTypeFormats action needs to be provided")}async test(i){if("handle"in i){const t=i;return(await this.testHandle(t.handle,t.handleMediaType,i.context)).map(n=>({handle:n}))}return"mediaTypes"in i?(await this.testMediaType(i.context)).map(t=>({mediaTypes:t})):"mediaTypeFormats"in i?(await this.testMediaTypeFormats(i.context)).map(t=>({mediaTypeFormats:t})):(0,c.failTest)("Either a handle, mediaTypes or mediaTypeFormats action needs to be provided")}}e.ActorAbstractMediaTyped=a},78584:(g,e,s)=>{const c=s(65606),{ArrayPrototypeSlice:a,Error:o,FunctionPrototypeSymbolHasInstance:i,ObjectDefineProperty:t,ObjectDefineProperties:n,ObjectSetPrototypeOf:r,StringPrototypeToLowerCase:u,Symbol:l,SymbolHasInstance:d}=s(24134);g.exports=U,U.WritableState=$;const{EventEmitter:p}=s(37007),f=s(94259).Stream,{Buffer:h}=s(48287),y=s(75896),{addAbortSignal:m}=s(4147),{getHighWaterMark:b,getDefaultHighWaterMark:v}=s(65291),{ERR_INVALID_ARG_TYPE:_,ERR_METHOD_NOT_IMPLEMENTED:w,ERR_MULTIPLE_CALLBACK:O,ERR_STREAM_CANNOT_PIPE:A,ERR_STREAM_DESTROYED:T,ERR_STREAM_ALREADY_FINISHED:S,ERR_STREAM_NULL_VALUES:E,ERR_STREAM_WRITE_AFTER_END:D,ERR_UNKNOWN_ENCODING:I}=s(76371).codes,{errorOrDestroy:V}=y;function K(){}r(U.prototype,f.prototype),r(U,f);const B=l("kOnFinished");function $(ne,be,ie){typeof ie!="boolean"&&(ie=be instanceof s(93370)),this.objectMode=!(!ne||!ne.objectMode),ie&&(this.objectMode=this.objectMode||!(!ne||!ne.writableObjectMode)),this.highWaterMark=ne?b(this,ne,"writableHighWaterMark",ie):v(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const ge=!(!ne||ne.decodeStrings!==!1);this.decodeStrings=!ge,this.defaultEncoding=ne&&ne.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=he.bind(void 0,be),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,G(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!ne||ne.emitClose!==!1,this.autoDestroy=!ne||ne.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[B]=[]}function G(ne){ne.buffered=[],ne.bufferedIndex=0,ne.allBuffers=!0,ne.allNoop=!0}function U(ne){const be=this instanceof s(93370);if(!be&&!i(U,this))return new U(ne);this._writableState=new $(ne,this,be),ne&&(typeof ne.write=="function"&&(this._write=ne.write),typeof ne.writev=="function"&&(this._writev=ne.writev),typeof ne.destroy=="function"&&(this._destroy=ne.destroy),typeof ne.final=="function"&&(this._final=ne.final),typeof ne.construct=="function"&&(this._construct=ne.construct),ne.signal&&m(ne.signal,this)),f.call(this,ne),y.construct(this,()=>{const ie=this._writableState;ie.writing||k(this,ie),oe(this,ie)})}function W(ne,be,ie,ge){const Ee=ne._writableState;if(typeof ie=="function")ge=ie,ie=Ee.defaultEncoding;else{if(ie){if(ie!=="buffer"&&!h.isEncoding(ie))throw new I(ie)}else ie=Ee.defaultEncoding;typeof ge!="function"&&(ge=K)}if(be===null)throw new E;if(!Ee.objectMode)if(typeof be=="string")Ee.decodeStrings!==!1&&(be=h.from(be,ie),ie="buffer");else if(be instanceof h)ie="buffer";else{if(!f._isUint8Array(be))throw new _("chunk",["string","Buffer","Uint8Array"],be);be=f._uint8ArrayToBuffer(be),ie="buffer"}let M;return Ee.ending?M=new D:Ee.destroyed&&(M=new T("write")),M?(c.nextTick(ge,M),V(ne,M,!0),M):(Ee.pendingcb++,function(P,C,z,te,re){const le=C.objectMode?1:z.length;C.length+=le;const _e=C.length<C.highWaterMark;return _e||(C.needDrain=!0),C.writing||C.corked||C.errored||!C.constructed?(C.buffered.push({chunk:z,encoding:te,callback:re}),C.allBuffers&&te!=="buffer"&&(C.allBuffers=!1),C.allNoop&&re!==K&&(C.allNoop=!1)):(C.writelen=le,C.writecb=re,C.writing=!0,C.sync=!0,P._write(z,te,C.onwrite),C.sync=!1),_e&&!C.errored&&!C.destroyed}(ne,Ee,be,ie,ge))}function ye(ne,be,ie,ge,Ee,M,P){be.writelen=ge,be.writecb=P,be.writing=!0,be.sync=!0,be.destroyed?be.onwrite(new T("write")):ie?ne._writev(Ee,be.onwrite):ne._write(Ee,M,be.onwrite),be.sync=!1}function ve(ne,be,ie,ge){--be.pendingcb,ge(ie),R(be),V(ne,ie)}function he(ne,be){const ie=ne._writableState,ge=ie.sync,Ee=ie.writecb;typeof Ee=="function"?(ie.writing=!1,ie.writecb=null,ie.length-=ie.writelen,ie.writelen=0,be?(be.stack,ie.errored||(ie.errored=be),ne._readableState&&!ne._readableState.errored&&(ne._readableState.errored=be),ge?c.nextTick(ve,ne,ie,be,Ee):ve(ne,ie,be,Ee)):(ie.buffered.length>ie.bufferedIndex&&k(ne,ie),ge?ie.afterWriteTickInfo!==null&&ie.afterWriteTickInfo.cb===Ee?ie.afterWriteTickInfo.count++:(ie.afterWriteTickInfo={count:1,cb:Ee,stream:ne,state:ie},c.nextTick(q,ie.afterWriteTickInfo)):L(ne,ie,1,Ee))):V(ne,new O)}function q({stream:ne,state:be,count:ie,cb:ge}){return be.afterWriteTickInfo=null,L(ne,be,ie,ge)}function L(ne,be,ie,ge){for(!be.ending&&!ne.destroyed&&be.length===0&&be.needDrain&&(be.needDrain=!1,ne.emit("drain"));ie-- >0;)be.pendingcb--,ge();be.destroyed&&R(be),oe(ne,be)}function R(ne){if(ne.writing)return;for(let Ee=ne.bufferedIndex;Ee<ne.buffered.length;++Ee){var be;const{chunk:M,callback:P}=ne.buffered[Ee],C=ne.objectMode?1:M.length;ne.length-=C,P((be=ne.errored)!==null&&be!==void 0?be:new T("write"))}const ie=ne[B].splice(0);for(let Ee=0;Ee<ie.length;Ee++){var ge;ie[Ee]((ge=ne.errored)!==null&&ge!==void 0?ge:new T("end"))}G(ne)}function k(ne,be){if(be.corked||be.bufferProcessing||be.destroyed||!be.constructed)return;const{buffered:ie,bufferedIndex:ge,objectMode:Ee}=be,M=ie.length-ge;if(!M)return;let P=ge;if(be.bufferProcessing=!0,M>1&&ne._writev){be.pendingcb-=M-1;const C=be.allNoop?K:te=>{for(let re=P;re<ie.length;++re)ie[re].callback(te)},z=be.allNoop&&P===0?ie:a(ie,P);z.allBuffers=be.allBuffers,ye(ne,be,!0,be.length,z,"",C),G(be)}else{do{const{chunk:C,encoding:z,callback:te}=ie[P];ie[P++]=null,ye(ne,be,!1,Ee?1:C.length,C,z,te)}while(P<ie.length&&!be.writing);P===ie.length?G(be):P>256?(ie.splice(0,P),be.bufferedIndex=0):be.bufferedIndex=P}be.bufferProcessing=!1}function X(ne){return ne.ending&&!ne.destroyed&&ne.constructed&&ne.length===0&&!ne.errored&&ne.buffered.length===0&&!ne.finished&&!ne.writing&&!ne.errorEmitted&&!ne.closeEmitted}function oe(ne,be,ie){X(be)&&(function(ge,Ee){Ee.prefinished||Ee.finalCalled||(typeof ge._final!="function"||Ee.destroyed?(Ee.prefinished=!0,ge.emit("prefinish")):(Ee.finalCalled=!0,function(M,P){let C=!1;function z(te){if(C)V(M,te??O());else if(C=!0,P.pendingcb--,te){const re=P[B].splice(0);for(let le=0;le<re.length;le++)re[le](te);V(M,te,P.sync)}else X(P)&&(P.prefinished=!0,M.emit("prefinish"),P.pendingcb++,c.nextTick(ee,M,P))}P.sync=!0,P.pendingcb++;try{M._final(z)}catch(te){z(te)}P.sync=!1}(ge,Ee)))}(ne,be),be.pendingcb===0&&(ie?(be.pendingcb++,c.nextTick((ge,Ee)=>{X(Ee)?ee(ge,Ee):Ee.pendingcb--},ne,be)):X(be)&&(be.pendingcb++,ee(ne,be))))}function ee(ne,be){be.pendingcb--,be.finished=!0;const ie=be[B].splice(0);for(let ge=0;ge<ie.length;ge++)ie[ge]();if(ne.emit("finish"),be.autoDestroy){const ge=ne._readableState;(!ge||ge.autoDestroy&&(ge.endEmitted||ge.readable===!1))&&ne.destroy()}}$.prototype.getBuffer=function(){return a(this.buffered,this.bufferedIndex)},t($.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),t(U,d,{__proto__:null,value:function(ne){return!!i(this,ne)||this===U&&ne&&ne._writableState instanceof $}}),U.prototype.pipe=function(){V(this,new A)},U.prototype.write=function(ne,be,ie){return W(this,ne,be,ie)===!0},U.prototype.cork=function(){this._writableState.corked++},U.prototype.uncork=function(){const ne=this._writableState;ne.corked&&(ne.corked--,ne.writing||k(this,ne))},U.prototype.setDefaultEncoding=function(ne){if(typeof ne=="string"&&(ne=u(ne)),!h.isEncoding(ne))throw new I(ne);return this._writableState.defaultEncoding=ne,this},U.prototype._write=function(ne,be,ie){if(!this._writev)throw new w("_write()");this._writev([{chunk:ne,encoding:be}],ie)},U.prototype._writev=null,U.prototype.end=function(ne,be,ie){const ge=this._writableState;let Ee;if(typeof ne=="function"?(ie=ne,ne=null,be=null):typeof be=="function"&&(ie=be,be=null),ne!=null){const M=W(this,ne,be);M instanceof o&&(Ee=M)}return ge.corked&&(ge.corked=1,this.uncork()),Ee||(ge.errored||ge.ending?ge.finished?Ee=new S("end"):ge.destroyed&&(Ee=new T("end")):(ge.ending=!0,oe(this,ge,!0),ge.ended=!0)),typeof ie=="function"&&(Ee||ge.finished?c.nextTick(ie,Ee):ge[B].push(ie)),this},n(U.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(ne){this._writableState&&(this._writableState.destroyed=ne)}},writable:{__proto__:null,get(){const ne=this._writableState;return!(!ne||ne.writable===!1||ne.destroyed||ne.errored||ne.ending||ne.ended)},set(ne){this._writableState&&(this._writableState.writable=!!ne)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){const ne=this._writableState;return!!ne&&!ne.destroyed&&!ne.ending&&ne.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(this._writableState.writable===!1||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});const me=y.destroy;let de;function xe(){return de===void 0&&(de={}),de}U.prototype.destroy=function(ne,be){const ie=this._writableState;return!ie.destroyed&&(ie.bufferedIndex<ie.buffered.length||ie[B].length)&&c.nextTick(R,ie),me.call(this,ne,be),this},U.prototype._undestroy=y.undestroy,U.prototype._destroy=function(ne,be){be(ne)},U.prototype[p.captureRejectionSymbol]=function(ne){this.destroy(ne)},U.fromWeb=function(ne,be){return xe().newStreamWritableFromWritableStream(ne,be)},U.toWeb=function(ne){return xe().newWritableStreamFromStreamWritable(ne)}},78605:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermComparatorExpressionEvaluator=void 0,e.TermComparatorExpressionEvaluator=class{constructor(s,c,a){this.internalEvaluator=s,this.equalityFunction=c,this.lessThanFunction=a,this._TERM_ORDERING_PRIORITY={Variable:0,BlankNode:1,NamedNode:2,Literal:3,Quad:4,DefaultGraph:5}}orderTypes(s,c){if(s===c)return 0;if(s===void 0)return-1;if(c===void 0)return 1;if(s.termType!==c.termType)return this._TERM_ORDERING_PRIORITY[s.termType]<this._TERM_ORDERING_PRIORITY[c.termType]?-1:1;if(s.equals(c))return 0;if(s.termType==="Quad"&&c.termType==="Quad"){const a=this.orderTypes(s.subject,c.subject);if(a!==0)return a;const o=this.orderTypes(s.predicate,c.predicate);if(o!==0)return o;const i=this.orderTypes(s.object,c.object);return i!==0?i:this.orderTypes(s.graph,c.graph)}return s.termType==="Literal"?this.orderLiteralTypes(s,c):this.comparePrimitives(s.value,c.value)}orderLiteralTypes(s,c){const a=this.internalEvaluator.transformer.transformLiteral(s),o=this.internalEvaluator.transformer.transformLiteral(c);try{return this.equalityFunction.applyOnTerms([a,o],this.internalEvaluator).typedValue?0:this.lessThanFunction.applyOnTerms([a,o],this.internalEvaluator).typedValue?-1:1}catch{const i=this.comparePrimitives(a.dataType,o.dataType);return i!==0?i:this.comparePrimitives(a.str(),o.str())}}comparePrimitives(s,c){return s===c?0:s<c?-1:1}}},78659:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(m,b,v,_){_===void 0&&(_=v);var w=Object.getOwnPropertyDescriptor(b,v);w&&!("get"in w?!b.__esModule:w.writable||w.configurable)||(w={enumerable:!0,get:function(){return b[v]}}),Object.defineProperty(m,_,w)}:function(m,b,v,_){_===void 0&&(_=v),m[_]=b[v]}),a=this&&this.__setModuleDefault||(Object.create?function(m,b){Object.defineProperty(m,"default",{enumerable:!0,value:b})}:function(m,b){m.default=b}),o=this&&this.__importStar||function(m){if(m&&m.__esModule)return m;var b={};if(m!=null)for(var v in m)v!=="default"&&Object.prototype.hasOwnProperty.call(m,v)&&c(b,m,v);return a(b,m),b},i=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(e,"__esModule",{value:!0}),e.DomUtils=e.parseFeed=e.getFeed=e.ElementType=e.Tokenizer=e.createDomStream=e.parseDOM=e.parseDocument=e.DefaultHandler=e.DomHandler=e.Parser=void 0;var t=s(11724),n=s(11724);Object.defineProperty(e,"Parser",{enumerable:!0,get:function(){return n.Parser}});var r=s(41141),u=s(41141);function l(m,b){var v=new r.DomHandler(void 0,b);return new t.Parser(v,b).end(m),v.root}function d(m,b){return l(m,b).children}Object.defineProperty(e,"DomHandler",{enumerable:!0,get:function(){return u.DomHandler}}),Object.defineProperty(e,"DefaultHandler",{enumerable:!0,get:function(){return u.DomHandler}}),e.parseDocument=l,e.parseDOM=d,e.createDomStream=function(m,b,v){var _=new r.DomHandler(m,b,v);return new t.Parser(_,b)};var p=s(57918);Object.defineProperty(e,"Tokenizer",{enumerable:!0,get:function(){return i(p).default}}),e.ElementType=o(s(45413));var f=s(98888),h=s(98888);Object.defineProperty(e,"getFeed",{enumerable:!0,get:function(){return h.getFeed}});var y={xmlMode:!0};e.parseFeed=function(m,b){return b===void 0&&(b=y),(0,f.getFeed)(d(m,b))},e.DomUtils=o(s(98888))},78673:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermSeconds=void 0;const c=s(77617),a=s(77545),o=s(72706);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.SparqlOperator.SECONDS],termFunction:!0})}async run(n){return new o.TermFunctionSeconds}}e.ActorFunctionFactoryTermSeconds=i},78740:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionXsdToInteger=void 0;const c=s(77617),a=s(77545);class o extends c.TermFunctionBase{constructor(){super({arity:1,operator:a.TypeURL.XSD_INTEGER,overloads:(0,a.declare)(a.TypeURL.XSD_INTEGER).onBoolean1Typed(()=>t=>(0,a.integer)(t?1:0)).onNumeric1(()=>t=>{if(!Number.isFinite(t.typedValue))throw new a.CastError(t,a.TypeURL.XSD_INTEGER);return(0,a.integer)(Math.trunc(t.typedValue))}).onString1(()=>t=>{const n=t.str(),r=/^\d+$/u.test(n)?Number.parseInt(n,10):void 0;if(r===void 0)throw new a.CastError(t,a.TypeURL.XSD_INTEGER);return(0,a.integer)(r)}).collect()})}}e.TermFunctionXsdToInteger=o},78867:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorContextPreprocessSetDefaults=void 0;const c=s(98926),a=s(90711),o=s(90412),i=s(47793);class t extends c.ActorContextPreprocess{constructor(r){super(r),this.defaultFunctionArgumentsCache={}}async test(r){return(0,o.passTestVoid)()}async run(r){let u=r.context;if(r.initialize){u=u.setDefault(a.KeysInitQuery.queryTimestamp,new Date).setDefault(a.KeysInitQuery.queryTimestampHighResolution,performance.now()).setDefault(a.KeysQuerySourceIdentify.sourceIds,new Map).setDefault(a.KeysCore.log,this.logger).setDefault(a.KeysInitQuery.functionArgumentsCache,this.defaultFunctionArgumentsCache).setDefault(a.KeysQuerySourceIdentify.hypermediaSourcesAggregatedStores,new Map).setDefault(a.KeysInitQuery.dataFactory,new i.DataFactory);let l={language:"sparql",version:"1.1"};u.has(a.KeysInitQuery.queryFormat)?(l=u.get(a.KeysInitQuery.queryFormat),l.language==="graphql"&&(u=u.setDefault(a.KeysInitQuery.graphqlSingularizeVariables,{}))):u=u.set(a.KeysInitQuery.queryFormat,l)}return{context:u}}}e.ActorContextPreprocessSetDefaults=t},78877:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.QuadDestinationPutLdp=void 0;const c=s(70322);e.QuadDestinationPutLdp=class{constructor(a,o,i,t,n,r){this.url=a,this.context=o,this.mediaTypes=i,this.mediatorHttp=t,this.mediatorRdfSerializeMediatypes=n,this.mediatorRdfSerialize=r}async update(a){if(a.delete)throw new Error("Put-based LDP destinations don't support deletions");a.insert&&await this.wrapRdfUpdateRequest("INSERT",a.insert)}async wrapRdfUpdateRequest(a,o){const{mediaTypes:i}=await this.mediatorRdfSerializeMediatypes.mediate({context:this.context,mediaTypes:!0}),t=this.mediaTypes.filter(d=>d in i),n=t.length>0?t[0]:Object.keys(i).sort((d,p)=>i[p]-i[d])[0],{handle:{data:r}}=await this.mediatorRdfSerialize.mediate({context:this.context,handle:{quadStream:o,context:this.context},handleMediaType:n}),u=new Headers({"content-type":n}),l=await this.mediatorHttp.mediate({context:this.context,init:{headers:u,method:"PUT",body:c.ActorHttp.toWebReadableStream(r)},input:this.url});await(0,c.validateAndCloseHttpResponse)(this.url,l)}async deleteGraphs(a,o,i){throw new Error("Put-based LDP destinations don't support named graphs")}async createGraphs(a,o){throw new Error("Put-based LDP destinations don't support named graphs")}}},79011:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionStrAfter=void 0;const c=s(77617),a=s(77545);class o extends c.TermFunctionBase{constructor(){super({arity:2,operator:a.SparqlOperator.STRAFTER,overloads:(0,a.declare)(a.SparqlOperator.STRAFTER).onBinaryTyped([a.TypeURL.XSD_STRING,a.TypeURL.XSD_STRING],()=>(t,n)=>(0,a.string)(t.slice(t.indexOf(n)).slice(n.length))).onBinary([a.TypeURL.RDF_LANG_STRING,a.TypeURL.XSD_STRING],()=>(t,n)=>{const[r,u]=[t.typedValue,n.typedValue],l=r.slice(r.indexOf(u)).slice(u.length);return l||!u?(0,a.langString)(l,t.language):(0,a.string)(l)}).onBinary([a.TypeURL.RDF_LANG_STRING,a.TypeURL.RDF_LANG_STRING],()=>(t,n)=>{if(t.language!==n.language)throw new a.IncompatibleLanguageOperation(t,n);const[r,u]=[t.typedValue,n.typedValue],l=r.slice(r.indexOf(u)).slice(u.length);return l||!u?(0,a.langString)(l,t.language):(0,a.string)(l)}).collect()})}}e.TermFunctionStrAfter=o},79081:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.LinkQueueFifo=void 0,e.LinkQueueFifo=class{constructor(){this.links=[]}push(s){return this.links.push(s),!0}getSize(){return this.links.length}isEmpty(){return this.links.length===0}pop(){return this.links.shift()}peek(){return this.links[0]}}},79153:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(98384),e)},79217:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermXsdToDate=void 0;const c=s(77617),a=s(77545),o=s(42);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.TypeURL.XSD_DATE],termFunction:!0})}async run(n){return new o.TermFunctionXsdToDate}}e.ActorFunctionFactoryTermXsdToDate=i},79231:g=>{g.exports={format:(e,...s)=>e.replace(/%([sdifj])/g,function(...[c,a]){const o=s.shift();return a==="f"?o.toFixed(6):a==="j"?JSON.stringify(o):a==="s"&&typeof o=="object"?`${o.constructor!==Object?o.constructor.name:""} {}`.trim():o.toString()}),inspect(e){switch(typeof e){case"string":if(e.includes("'")){if(!e.includes('"'))return`"${e}"`;if(!e.includes("`")&&!e.includes("${"))return`\`${e}\``}return`'${e}'`;case"number":return isNaN(e)?"NaN":Object.is(e,-0)?String(e):e;case"bigint":return`${String(e)}n`;case"boolean":case"undefined":return String(e);case"object":return"{}"}}}},79434:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.asTermType=void 0,e.asTermType=function(s){if(s==="namedNode"||s==="literal"||s==="blankNode"||s==="quad")return s}},79527:(g,e,s)=>{var c;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,(c=s(29657))&&c.__esModule,e.default=function(a,o){return a instanceof o}},79646:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorOptimizeQueryOperationJoinConnected=void 0;const c=s(38912),a=s(90711),o=s(90412),i=s(96331);class t extends c.ActorOptimizeQueryOperation{async test(r){return(0,o.passTestVoid)()}async run(r){const u=r.context.getSafe(a.KeysInitQuery.dataFactory),l=new i.Factory(u);return{operation:i.Util.mapOperation(r.operation,{join:(d,p)=>({recurse:!1,result:t.cluster(d,p)})},l),context:r.context}}static cluster(r,u){let l,d=r.input.map(f=>({inScopeVariables:Object.fromEntries(i.Util.inScopeVariables(f).map(h=>[h.value,!0])),entries:[f]}));do l=d,d=t.clusterIteration(l);while(l.length!==d.length);const p=d.map(f=>f.entries.length===1?f.entries[0]:u.createJoin(f.entries));return p.length===1?p[0]:u.createJoin(p,!1)}static clusterIteration(r){const u=[];for(const l of r){let d=!1;for(const p of u)if(t.haveOverlappingVariables(l.inScopeVariables,p.inScopeVariables)){p.entries=[...p.entries,...l.entries],p.inScopeVariables={...p.inScopeVariables,...l.inScopeVariables},d=!0;break}d||u.push({inScopeVariables:l.inScopeVariables,entries:l.entries})}return u}static haveOverlappingVariables(r,u){for(const l of Object.keys(r))if(u[l])return!0;return!1}}e.ActorOptimizeQueryOperationJoinConnected=t},79731:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(18697),e)},79806:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorDereferenceBase=e.isHardError=e.emptyReadable=void 0;const c=s(90711),a=s(90412),o=s(19198);function i(){const r=new o.Readable;return r.push(null),r}function t(r){return!r.get(c.KeysInitQuery.lenient)}e.emptyReadable=i,e.isHardError=t;class n extends a.Actor{constructor(u){super(u)}async dereferenceErrorHandler(u,l,d){if(t(u.context))throw l;return this.logWarn(u.context,l.message,()=>({url:u.url})),{...d,data:i()}}}e.ActorDereferenceBase=n},79813:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfParseHtmlScript=void 0;const c=s(76654),a=s(90412),o=s(59311);class i extends c.ActorRdfParseHtml{constructor(n){super(n)}async test(n){return(0,a.passTestVoid)()}async run(n){const r=(await this.mediatorRdfParseMediatypes.mediate({context:n.context,mediaTypes:!0})).mediaTypes;return{htmlParseListener:new o.HtmlScriptListener(this.mediatorRdfParseHandle,n.emit,n.error,n.end,r,n.context,n.baseIRI,n.headers)}}}e.ActorRdfParseHtmlScript=i},79878:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(A,T,S,E){E===void 0&&(E=S);var D=Object.getOwnPropertyDescriptor(T,S);D&&!("get"in D?!T.__esModule:D.writable||D.configurable)||(D={enumerable:!0,get:function(){return T[S]}}),Object.defineProperty(A,E,D)}:function(A,T,S,E){E===void 0&&(E=S),A[E]=T[S]}),a=this&&this.__setModuleDefault||(Object.create?function(A,T){Object.defineProperty(A,"default",{enumerable:!0,value:T})}:function(A,T){A.default=T}),o=this&&this.__importStar||function(A){if(A&&A.__esModule)return A;var T={};if(A!=null)for(var S in A)S!=="default"&&Object.prototype.hasOwnProperty.call(A,S)&&c(T,A,S);return a(T,A),T},i=this&&this.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(e,"__esModule",{value:!0}),e.decodeXML=e.decodeHTMLStrict=e.decodeHTMLAttribute=e.decodeHTML=e.determineBranch=e.EntityDecoder=e.DecodingMode=e.BinTrieFlags=e.fromCodePoint=e.replaceCodePoint=e.decodeCodePoint=e.xmlDecodeTree=e.htmlDecodeTree=void 0;var t=i(s(13603));e.htmlDecodeTree=t.default;var n=i(s(22517));e.xmlDecodeTree=n.default;var r=o(s(55096));e.decodeCodePoint=r.default;var u,l,d,p,f=s(55096);function h(A){return A>=u.ZERO&&A<=u.NINE}function y(A){return A>=u.UPPER_A&&A<=u.UPPER_F||A>=u.LOWER_A&&A<=u.LOWER_F}function m(A){return A===u.EQUALS||function(T){return T>=u.UPPER_A&&T<=u.UPPER_Z||T>=u.LOWER_A&&T<=u.LOWER_Z||h(T)}(A)}Object.defineProperty(e,"replaceCodePoint",{enumerable:!0,get:function(){return f.replaceCodePoint}}),Object.defineProperty(e,"fromCodePoint",{enumerable:!0,get:function(){return f.fromCodePoint}}),function(A){A[A.NUM=35]="NUM",A[A.SEMI=59]="SEMI",A[A.EQUALS=61]="EQUALS",A[A.ZERO=48]="ZERO",A[A.NINE=57]="NINE",A[A.LOWER_A=97]="LOWER_A",A[A.LOWER_F=102]="LOWER_F",A[A.LOWER_X=120]="LOWER_X",A[A.LOWER_Z=122]="LOWER_Z",A[A.UPPER_A=65]="UPPER_A",A[A.UPPER_F=70]="UPPER_F",A[A.UPPER_Z=90]="UPPER_Z"}(u||(u={})),function(A){A[A.VALUE_LENGTH=49152]="VALUE_LENGTH",A[A.BRANCH_LENGTH=16256]="BRANCH_LENGTH",A[A.JUMP_TABLE=127]="JUMP_TABLE"}(l=e.BinTrieFlags||(e.BinTrieFlags={})),function(A){A[A.EntityStart=0]="EntityStart",A[A.NumericStart=1]="NumericStart",A[A.NumericDecimal=2]="NumericDecimal",A[A.NumericHex=3]="NumericHex",A[A.NamedEntity=4]="NamedEntity"}(d||(d={})),function(A){A[A.Legacy=0]="Legacy",A[A.Strict=1]="Strict",A[A.Attribute=2]="Attribute"}(p=e.DecodingMode||(e.DecodingMode={}));var b=function(){function A(T,S,E){this.decodeTree=T,this.emitCodePoint=S,this.errors=E,this.state=d.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=p.Strict}return A.prototype.startEntity=function(T){this.decodeMode=T,this.state=d.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1},A.prototype.write=function(T,S){switch(this.state){case d.EntityStart:return T.charCodeAt(S)===u.NUM?(this.state=d.NumericStart,this.consumed+=1,this.stateNumericStart(T,S+1)):(this.state=d.NamedEntity,this.stateNamedEntity(T,S));case d.NumericStart:return this.stateNumericStart(T,S);case d.NumericDecimal:return this.stateNumericDecimal(T,S);case d.NumericHex:return this.stateNumericHex(T,S);case d.NamedEntity:return this.stateNamedEntity(T,S)}},A.prototype.stateNumericStart=function(T,S){return S>=T.length?-1:(32|T.charCodeAt(S))===u.LOWER_X?(this.state=d.NumericHex,this.consumed+=1,this.stateNumericHex(T,S+1)):(this.state=d.NumericDecimal,this.stateNumericDecimal(T,S))},A.prototype.addToNumericResult=function(T,S,E,D){if(S!==E){var I=E-S;this.result=this.result*Math.pow(D,I)+parseInt(T.substr(S,I),D),this.consumed+=I}},A.prototype.stateNumericHex=function(T,S){for(var E=S;S<T.length;){var D=T.charCodeAt(S);if(!h(D)&&!y(D))return this.addToNumericResult(T,E,S,16),this.emitNumericEntity(D,3);S+=1}return this.addToNumericResult(T,E,S,16),-1},A.prototype.stateNumericDecimal=function(T,S){for(var E=S;S<T.length;){var D=T.charCodeAt(S);if(!h(D))return this.addToNumericResult(T,E,S,10),this.emitNumericEntity(D,2);S+=1}return this.addToNumericResult(T,E,S,10),-1},A.prototype.emitNumericEntity=function(T,S){var E;if(this.consumed<=S)return(E=this.errors)===null||E===void 0||E.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(T===u.SEMI)this.consumed+=1;else if(this.decodeMode===p.Strict)return 0;return this.emitCodePoint((0,r.replaceCodePoint)(this.result),this.consumed),this.errors&&(T!==u.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed},A.prototype.stateNamedEntity=function(T,S){for(var E=this.decodeTree,D=E[this.treeIndex],I=(D&l.VALUE_LENGTH)>>14;S<T.length;S++,this.excess++){var V=T.charCodeAt(S);if(this.treeIndex=_(E,D,this.treeIndex+Math.max(1,I),V),this.treeIndex<0)return this.result===0||this.decodeMode===p.Attribute&&(I===0||m(V))?0:this.emitNotTerminatedNamedEntity();if((I=((D=E[this.treeIndex])&l.VALUE_LENGTH)>>14)!=0){if(V===u.SEMI)return this.emitNamedEntityData(this.treeIndex,I,this.consumed+this.excess);this.decodeMode!==p.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1},A.prototype.emitNotTerminatedNamedEntity=function(){var T,S=this.result,E=(this.decodeTree[S]&l.VALUE_LENGTH)>>14;return this.emitNamedEntityData(S,E,this.consumed),(T=this.errors)===null||T===void 0||T.missingSemicolonAfterCharacterReference(),this.consumed},A.prototype.emitNamedEntityData=function(T,S,E){var D=this.decodeTree;return this.emitCodePoint(S===1?D[T]&~l.VALUE_LENGTH:D[T+1],E),S===3&&this.emitCodePoint(D[T+2],E),E},A.prototype.end=function(){var T;switch(this.state){case d.NamedEntity:return this.result===0||this.decodeMode===p.Attribute&&this.result!==this.treeIndex?0:this.emitNotTerminatedNamedEntity();case d.NumericDecimal:return this.emitNumericEntity(0,2);case d.NumericHex:return this.emitNumericEntity(0,3);case d.NumericStart:return(T=this.errors)===null||T===void 0||T.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case d.EntityStart:return 0}},A}();function v(A){var T="",S=new b(A,function(E){return T+=(0,r.fromCodePoint)(E)});return function(E,D){for(var I=0,V=0;(V=E.indexOf("&",V))>=0;){T+=E.slice(I,V),S.startEntity(D);var K=S.write(E,V+1);if(K<0){I=V+S.end();break}I=V+K,V=K===0?I+1:I}var B=T+E.slice(I);return T="",B}}function _(A,T,S,E){var D=(T&l.BRANCH_LENGTH)>>7,I=T&l.JUMP_TABLE;if(D===0)return I!==0&&E===I?S:-1;if(I){var V=E-I;return V<0||V>=D?-1:A[S+V]-1}for(var K=S,B=K+D-1;K<=B;){var $=K+B>>>1,G=A[$];if(G<E)K=$+1;else{if(!(G>E))return A[$+D];B=$-1}}return-1}e.EntityDecoder=b,e.determineBranch=_;var w=v(t.default),O=v(n.default);e.decodeHTML=function(A,T){return T===void 0&&(T=p.Legacy),w(A,T)},e.decodeHTMLAttribute=function(A){return w(A,p.Attribute)},e.decodeHTMLStrict=function(A){return w(A,p.Strict)},e.decodeXML=function(A){return O(A,p.Strict)}},79881:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(17685),e),a(s(20386),e)},79904:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryOperationExtend=void 0;const c=s(66490),a=s(90412),o=s(81926),i=s(77545),t=s(67021);class n extends c.ActorQueryOperationTypedMediated{constructor(u){super(u,"extend"),this.mediatorExpressionEvaluatorFactory=u.mediatorExpressionEvaluatorFactory}async testOperation(){return(0,a.passTestVoid)()}async runOperation(u,l){const{expression:d,input:p,variable:f}=u,h=(0,t.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:p,context:l}));if((await h.metadata()).variables.some(b=>b.variable.equals(f)))throw new Error(`Illegal binding to variable '${f.value}' that has already been bound`);const y=await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:d,context:l}),m=h.bindingsStream.transform({autoStart:!1,transform:async(b,v,_)=>{try{const w=await y.evaluate(b);_(b.set(f,w))}catch(w){(0,i.isExpressionError)(w)?(_(b),this.logWarn(l,`Expression error for extend operation (${w.message})with bindings '${(0,o.bindingsToString)(b)}'`)):m.emit("error",w)}v()}});return{type:"bindings",bindingsStream:m,async metadata(){const b=await h.metadata();return{...b,variables:[...b.variables,{variable:f,canBeUndef:!1}]}}}}}e.ActorQueryOperationExtend=n},80220:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},80345:(g,e,s)=>{const{StringPrototypeSlice:c,SymbolIterator:a,TypedArrayPrototypeSet:o,Uint8Array:i}=s(24134),{Buffer:t}=s(48287),{inspect:n}=s(57760);g.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(r){const u={data:r,next:null};this.length>0?this.tail.next=u:this.head=u,this.tail=u,++this.length}unshift(r){const u={data:r,next:this.head};this.length===0&&(this.tail=u),this.head=u,++this.length}shift(){if(this.length===0)return;const r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}clear(){this.head=this.tail=null,this.length=0}join(r){if(this.length===0)return"";let u=this.head,l=""+u.data;for(;(u=u.next)!==null;)l+=r+u.data;return l}concat(r){if(this.length===0)return t.alloc(0);const u=t.allocUnsafe(r>>>0);let l=this.head,d=0;for(;l;)o(u,l.data,d),d+=l.data.length,l=l.next;return u}consume(r,u){const l=this.head.data;if(r<l.length){const d=l.slice(0,r);return this.head.data=l.slice(r),d}return r===l.length?this.shift():u?this._getString(r):this._getBuffer(r)}first(){return this.head.data}*[a](){for(let r=this.head;r;r=r.next)yield r.data}_getString(r){let u="",l=this.head,d=0;do{const p=l.data;if(!(r>p.length)){r===p.length?(u+=p,++d,l.next?this.head=l.next:this.head=this.tail=null):(u+=c(p,0,r),this.head=l,l.data=c(p,r));break}u+=p,r-=p.length,++d}while((l=l.next)!==null);return this.length-=d,u}_getBuffer(r){const u=t.allocUnsafe(r),l=r;let d=this.head,p=0;do{const f=d.data;if(!(r>f.length)){r===f.length?(o(u,f,l-r),++p,d.next?this.head=d.next:this.head=this.tail=null):(o(u,new i(f.buffer,f.byteOffset,r),l-r),this.head=d,d.data=f.slice(r));break}o(u,f,l-r),r-=f.length,++p}while((d=d.next)!==null);return this.length-=p,u}[Symbol.for("nodejs.util.inspect.custom")](r,u){return n(this,{...u,depth:0,customInspect:!1})}}},80425:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Source",{enumerable:!0,get:function(){return c.Source}}),Object.defineProperty(e,"getLocation",{enumerable:!0,get:function(){return a.getLocation}}),Object.defineProperty(e,"printLocation",{enumerable:!0,get:function(){return o.printLocation}}),Object.defineProperty(e,"printSourceLocation",{enumerable:!0,get:function(){return o.printSourceLocation}}),Object.defineProperty(e,"Kind",{enumerable:!0,get:function(){return i.Kind}}),Object.defineProperty(e,"TokenKind",{enumerable:!0,get:function(){return t.TokenKind}}),Object.defineProperty(e,"Lexer",{enumerable:!0,get:function(){return n.Lexer}}),Object.defineProperty(e,"parse",{enumerable:!0,get:function(){return r.parse}}),Object.defineProperty(e,"parseValue",{enumerable:!0,get:function(){return r.parseValue}}),Object.defineProperty(e,"parseType",{enumerable:!0,get:function(){return r.parseType}}),Object.defineProperty(e,"print",{enumerable:!0,get:function(){return u.print}}),Object.defineProperty(e,"visit",{enumerable:!0,get:function(){return l.visit}}),Object.defineProperty(e,"visitInParallel",{enumerable:!0,get:function(){return l.visitInParallel}}),Object.defineProperty(e,"getVisitFn",{enumerable:!0,get:function(){return l.getVisitFn}}),Object.defineProperty(e,"BREAK",{enumerable:!0,get:function(){return l.BREAK}}),Object.defineProperty(e,"Location",{enumerable:!0,get:function(){return d.Location}}),Object.defineProperty(e,"Token",{enumerable:!0,get:function(){return d.Token}}),Object.defineProperty(e,"isDefinitionNode",{enumerable:!0,get:function(){return p.isDefinitionNode}}),Object.defineProperty(e,"isExecutableDefinitionNode",{enumerable:!0,get:function(){return p.isExecutableDefinitionNode}}),Object.defineProperty(e,"isSelectionNode",{enumerable:!0,get:function(){return p.isSelectionNode}}),Object.defineProperty(e,"isValueNode",{enumerable:!0,get:function(){return p.isValueNode}}),Object.defineProperty(e,"isTypeNode",{enumerable:!0,get:function(){return p.isTypeNode}}),Object.defineProperty(e,"isTypeSystemDefinitionNode",{enumerable:!0,get:function(){return p.isTypeSystemDefinitionNode}}),Object.defineProperty(e,"isTypeDefinitionNode",{enumerable:!0,get:function(){return p.isTypeDefinitionNode}}),Object.defineProperty(e,"isTypeSystemExtensionNode",{enumerable:!0,get:function(){return p.isTypeSystemExtensionNode}}),Object.defineProperty(e,"isTypeExtensionNode",{enumerable:!0,get:function(){return p.isTypeExtensionNode}}),Object.defineProperty(e,"DirectiveLocation",{enumerable:!0,get:function(){return f.DirectiveLocation}});var c=s(46876),a=s(99530),o=s(40825),i=s(7030),t=s(73038),n=s(46083),r=s(50246),u=s(70585),l=s(9111),d=s(76257),p=s(39187),f=s(5919)},80570:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ProxyHandlerStatic=void 0,e.ProxyHandlerStatic=class{constructor(s){this.prefixUrl=s}async getProxy(s){return{init:s.init,input:this.modifyInput(s.input)}}modifyInput(s){return typeof s=="string"?this.prefixUrl+s:new Request(this.prefixUrl+s.url,s)}}},80664:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorOptimizeQueryOperationRewriteMove=void 0;const c=s(38912),a=s(90711),o=s(90412),i=s(96331);class t extends c.ActorOptimizeQueryOperation{constructor(r){super(r)}async test(r){return(0,o.passTestVoid)()}async run(r){const u=r.context.getSafe(a.KeysInitQuery.dataFactory),l=new i.Factory(u);return{operation:i.Util.mapOperation(r.operation,{[i.Algebra.types.MOVE](d,p){let f;if(typeof d.destination=="string"&&typeof d.source=="string"&&d.destination===d.source||typeof d.destination!="string"&&typeof d.source!="string"&&d.destination.equals(d.source))f=p.createCompositeUpdate([]);else{const h=[p.createDrop(d.destination,!0),p.createAdd(d.source,d.destination,d.silent),p.createDrop(d.source)];f=p.createCompositeUpdate(h)}return{result:f,recurse:!1}}},l),context:r.context}}}e.ActorOptimizeQueryOperationRewriteMove=t},80722:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Aggregate=void 0;const c=s(42996);e.Aggregate=class{constructor(a,o){this.name=a,this.expression=o,this.expressionType=c.ExpressionType.Aggregate}}},80745:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.RdfStoreIndexNestedMapRecursiveQuoted=void 0;const c=s(95439),a=s(53261);class o extends a.RdfStoreIndexNestedMapRecursive{constructor(t){super(t),this.features={quotedTripleFiltering:!0}}*findEncoded(t,n){return yield*this.findEncodedInnerQuoted(0,t,n,(0,c.arePatternsQuoted)(n),this.nestedMap,[])}*findEncodedInnerQuoted(t,n,r,u,l,d){if(t===n.length)yield[...d];else{const p=n[t],f=r[t];if(f)if(u[t]){const h=this.dictionary.findQuotedTriplesEncoded(f);for(const y of h){const m=l.get(y);m&&(d[t]=y,yield*this.findEncodedInnerQuoted(t+1,n,r,u,m,d))}}else{const h=p;if(h!==void 0){const y=l.get(h);y&&(d[t]=p,yield*this.findEncodedInnerQuoted(t+1,n,r,u,y,d))}}else for(const[h,y]of l.entries())d[t]=h,yield*this.findEncodedInnerQuoted(t+1,n,r,u,y,d)}}countInner(t,n,r){const u=n[t];let l=0;if(u)if(u.termType==="Quad"&&(0,c.quadHasVariables)(u)){const d=this.dictionary.findQuotedTriplesEncoded(u);for(const p of d)if(t===n.length-1)r.has(p)&&l++;else{const f=r.get(p);f&&(l+=this.countInner(t+1,n,f))}}else{const d=this.dictionary.encodeOptional(u);if(d!==void 0){if(t===n.length-1)return r.has(d)?1:0;const p=r.get(d);p&&(l+=this.countInner(t+1,n,p))}}else{if(t===n.length-1)return r.size;for(const d of r.values())l+=this.countInner(t+1,n,d)}return l}}e.RdfStoreIndexNestedMapRecursiveQuoted=o},80748:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(76593),e)},80766:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.RdfStoreIndexNestedRecord=void 0;const c=s(95439);e.RdfStoreIndexNestedRecord=class{constructor(a){this.features={quotedTripleFiltering:!1},this.dictionary=a.dictionary,this.nestedRecords={}}set(a,o){const i=this.nestedRecords,t=i[a[0]]||(i[a[0]]={}),n=t[a[1]]||(t[a[1]]={}),r=n[a[2]]||(n[a[2]]={});return!r[a[3]]&&(r[a[3]]=o,!0)}remove(a){const o=this.nestedRecords,i=o[a[0]];if(!i)return!1;const t=i[a[1]];if(!t)return!1;const n=t[a[2]];return!!n&&!!n[a[3]]&&(delete n[a[3]],Object.keys(n).length===0&&(delete t[a[2]],Object.keys(t).length===0&&(delete i[a[1]],Object.keys(i).length===0&&delete o[a[0]])),!0)}get(a){const o=(0,c.encodeOptionalTerms)(a,this.dictionary);if(o&&!o.includes(void 0))return this.getEncoded(o)}getEncoded(a){return this.nestedRecords[a[0]]?.[a[1]]?.[a[2]]?.[a[3]]}*find(a){const o=(0,c.encodeOptionalTerms)(a,this.dictionary);if(!o)return;const[i,t,n,r]=o,[u,l,d,p]=a;let f,h,y,m,b,v,_;const w=this.nestedRecords,O=i!==void 0?i in w?[i]:[]:Object.keys(w);for(const A of O){b=w[A],f=u||this.dictionary.decode(Number.parseInt(A,10));const T=t!==void 0?t in b?[t]:[]:Object.keys(b);for(const S of T){v=b[S],h=l||this.dictionary.decode(Number.parseInt(S,10));const E=n!==void 0?n in v?[n]:[]:Object.keys(v);for(const D of E){_=v[D],y=d||this.dictionary.decode(Number.parseInt(D,10));const I=r!==void 0?r in _?[r]:[]:Object.keys(_);for(const V of I)m=p||this.dictionary.decode(Number.parseInt(V,10)),yield[f,h,y,m]}}}}*findEncoded(a,o){const[i,t,n,r]=a;let u,l,d;const p=this.nestedRecords,f=i!==void 0?i in p?[i]:[]:Object.keys(p);for(const h of f){u=p[h];const y=t!==void 0?t in u?[t]:[]:Object.keys(u);for(const m of y){l=u[m];const b=n!==void 0?n in l?[n]:[]:Object.keys(l);for(const v of b){d=l[v];const _=r!==void 0?r in d?[r]:[]:Object.keys(d);for(const w of _)yield[Number.parseInt(h,10),Number.parseInt(m,10),Number.parseInt(v,10),Number.parseInt(w,10)]}}}}count(a){let o=0;const i=(0,c.encodeOptionalTerms)(a,this.dictionary);if(!i)return 0;const t=i[0],n=i[1],r=i[2],u=i[3];let l,d,p;const f=this.nestedRecords,h=t!==void 0?t in f?[t]:[]:Object.keys(f);for(const y of h){l=f[y];const m=n!==void 0?n in l?[n]:[]:Object.keys(l);for(const b of m){d=l[b];const v=r!==void 0?r in d?[r]:[]:Object.keys(d);for(const _ of v)p=d[_],u!==void 0?u in p&&o++:o+=Object.keys(p).length}}return o}}},80933:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfMetadataAccumulatePageSize=void 0;const c=s(50433),a=s(90412);class o extends c.ActorRdfMetadataAccumulate{constructor(t){super(t)}async test(t){return(0,a.passTestVoid)()}async run(t){return t.mode==="initialize"?{metadata:{}}:{metadata:{..."pageSize"in t.accumulatedMetadata||"pageSize"in t.appendingMetadata?{pageSize:(t.accumulatedMetadata.pageSize??0)+(t.appendingMetadata.pageSize??0)}:{}}}}}e.ActorRdfMetadataAccumulatePageSize=o},80991:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryResultSerializeTable=void 0;const c=s(58871),a=s(90711),o=s(90412),i=s(36413),t=s(3285),n=s(19198);class r extends c.ActorQueryResultSerializeFixedMediaTypes{constructor(l){super(l),this.padding=r.repeat(" ",this.columnWidth)}static repeat(l,d){return l.repeat(d)}async testHandleChecked(l,d){return["bindings","quads"].includes(l.type)?(0,o.passTestVoid)():(0,o.failTest)("This actor can only handle bindings or quad streams.")}termToString(l){return l.termType==="Quad"?(0,i.termToString)(l):l.value}pad(l){return l.length<=this.columnWidth?l+this.padding.slice(l.length):`${l.slice(0,this.columnWidth-1)}`}pushHeader(l,d){const p=d.map(f=>this.pad(f.value)).join(" ");l.push(`${p}
${r.repeat("-",p.length)}
`)}createRow(l,d){return`${l.map(p=>d.has(p)?this.termToString(d.get(p)):"").map(p=>this.pad(p)).join(" ")}
`}async runHandle(l,d,p){const f=new n.Readable;let h;if(l.type==="bindings"){h=l.bindingsStream.map(m=>this.createRow(y,m));const y=(await l.metadata()).variables.map(m=>m.variable);this.pushHeader(f,y)}else{h=l.quadStream.map(m=>`${(0,t.getTerms)(m).map(b=>this.pad(this.termToString(b))).join(" ")}
`);const y=l.context.getSafe(a.KeysInitQuery.dataFactory);this.pushHeader(f,t.QUAD_TERM_NAMES.map(m=>y.variable(m)))}return f.wrap(h),{data:f}}}e.ActorQueryResultSerializeTable=r},81093:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermXsdToDatetime=void 0;const c=s(77617),a=s(77545),o=s(63082);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.TypeURL.XSD_DATE_TIME],termFunction:!0})}async run(n){return new o.TermFunctionXsdToDatetime}}e.ActorFunctionFactoryTermXsdToDatetime=i},81096:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfUpdateHypermediaPutLdp=void 0;const c=s(14597),a=s(90412),o=s(78877);class i extends c.ActorRdfUpdateHypermedia{constructor(n){super(n,"putLdp")}async testMetadata(n){if(!n.forceDestinationType){if(!n.metadata.allowHttpMethods||!n.metadata.allowHttpMethods.includes("PUT"))return(0,a.failTest)(`Actor ${this.name} could not detect a destination with 'Allow: PUT' header.`);if(n.exists)return(0,a.failTest)(`Actor ${this.name} can only put on a destination that does not already exists.`)}return(0,a.passTestVoid)()}async run(n){return this.logInfo(n.context,`Identified as putLdp destination: ${n.url}`),{destination:new o.QuadDestinationPutLdp(n.url,n.context,n.metadata.putAccepted||[],this.mediatorHttp,this.mediatorRdfSerializeMediatypes,this.mediatorRdfSerialize)}}}e.ActorRdfUpdateHypermediaPutLdp=i},81108:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(55312),e),a(s(84333),e)},81253:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionGreaterThan=void 0;const c=s(77617),a=s(77545);class o extends c.TermFunctionBase{constructor(t){super({arity:2,operator:a.SparqlOperator.GT,overloads:(0,a.declare)(a.SparqlOperator.GT).set(["term","term"],n=>([r,u])=>this.lessThanFunction.applyOnTerms([u,r],n)).collect()}),this.lessThanFunction=t}}e.TermFunctionGreaterThan=o},81261:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(17538),e),a(s(9527),e)},81789:(g,e,s)=>{function c(_){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},c(_)}function a(){var _,w,O=typeof Symbol=="function"?Symbol:{},A=O.iterator||"@@iterator",T=O.toStringTag||"@@toStringTag";function S(G,U,W,ye){var ve=U&&U.prototype instanceof D?U:D,he=Object.create(ve.prototype);return o(he,"_invoke",function(q,L,R){var k,X,oe,ee=0,me=R||[],de=!1,xe={p:0,n:0,v:_,a:ne,f:ne.bind(_,4),d:function(be,ie){return k=be,X=0,oe=_,xe.n=ie,E}};function ne(be,ie){for(X=be,oe=ie,w=0;!de&&ee&&!ge&&w<me.length;w++){var ge,Ee=me[w],M=xe.p,P=Ee[2];be>3?(ge=P===ie)&&(oe=Ee[(X=Ee[4])?5:(X=3,3)],Ee[4]=Ee[5]=_):Ee[0]<=M&&((ge=be<2&&M<Ee[1])?(X=0,xe.v=ie,xe.n=Ee[1]):M<P&&(ge=be<3||Ee[0]>ie||ie>P)&&(Ee[4]=be,Ee[5]=ie,xe.n=P,X=0))}if(ge||be>1)return E;throw de=!0,ie}return function(be,ie,ge){if(ee>1)throw TypeError("Generator is already running");for(de&&ie===1&&ne(ie,ge),X=ie,oe=ge;(w=X<2?_:oe)||!de;){k||(X?X<3?(X>1&&(xe.n=-1),ne(X,oe)):xe.n=oe:xe.v=oe);try{if(ee=2,k){if(X||(be="next"),w=k[be]){if(!(w=w.call(k,oe)))throw TypeError("iterator result is not an object");if(!w.done)return w;oe=w.value,X<2&&(X=0)}else X===1&&(w=k.return)&&w.call(k),X<2&&(oe=TypeError("The iterator does not provide a '"+be+"' method"),X=1);k=_}else if((w=(de=xe.n<0)?oe:q.call(L,xe))!==E)break}catch(Ee){k=_,X=1,oe=Ee}finally{ee=1}}return{value:w,done:de}}}(G,W,ye),!0),he}var E={};function D(){}function I(){}function V(){}w=Object.getPrototypeOf;var K=[][A]?w(w([][A]())):(o(w={},A,function(){return this}),w),B=V.prototype=D.prototype=Object.create(K);function $(G){return Object.setPrototypeOf?Object.setPrototypeOf(G,V):(G.__proto__=V,o(G,T,"GeneratorFunction")),G.prototype=Object.create(B),G}return I.prototype=V,o(B,"constructor",V),o(V,"constructor",I),I.displayName="GeneratorFunction",o(V,T,"GeneratorFunction"),o(B),o(B,T,"Generator"),o(B,A,function(){return this}),o(B,"toString",function(){return"[object Generator]"}),(a=function(){return{w:S,m:$}})()}function o(_,w,O,A){var T=Object.defineProperty;try{T({},"",{})}catch{T=0}o=function(S,E,D,I){function V(K,B){o(S,K,function($){return this._invoke(K,B,$)})}E?T?T(S,E,{value:D,enumerable:!I,configurable:!I,writable:!I}):S[E]=D:(V("next",0),V("throw",1),V("return",2))},o(_,w,O,A)}function i(_,w,O,A,T,S,E){try{var D=_[S](E),I=D.value}catch(V){return void O(V)}D.done?w(I):Promise.resolve(I).then(A,T)}function t(_){return function(){var w=this,O=arguments;return new Promise(function(A,T){var S=_.apply(w,O);function E(I){i(S,A,T,E,D,"next",I)}function D(I){i(S,A,T,E,D,"throw",I)}E(void 0)})}}function n(_,w){for(var O=0;O<w.length;O++){var A=w[O];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(_,r(A.key),A)}}function r(_){var w=function(O){if(c(O)!="object"||!O)return O;var A=O[Symbol.toPrimitive];if(A!==void 0){var T=A.call(O,"string");if(c(T)!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(O)}(_);return c(w)=="symbol"?w:w+""}function u(){try{var _=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u=function(){return!!_})()}function l(_){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(w){return w.__proto__||Object.getPrototypeOf(w)},l(_)}function d(_,w){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(O,A){return O.__proto__=A,O},d(_,w)}Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQuerySourceIdentifyHypermediaRaw=void 0;var p=s(81926),f=s(62100),h=s(23686),y=s(90412),m=s(96331),b=s(90711),v=function(_){function w(E){return function(D,I){if(!(D instanceof I))throw new TypeError("Cannot call a class as a function")}(this,w),function(D,I,V){return I=l(I),function(K,B){if(B&&(c(B)=="object"||typeof B=="function"))return B;if(B!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function($){if($===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $}(K)}(D,u()?Reflect.construct(I,V||[],l(D).constructor):I.apply(D,V))}(this,w,[E,"raw"])}return function(E,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(D&&D.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),Object.defineProperty(E,"prototype",{writable:!1}),D&&d(E,D)}(w,_),O=w,A=[{key:"testMetadata",value:(S=t(a().m(function E(D){return a().w(function(I){for(;;)switch(I.n){case 0:if(D.forceSourceType||D.metadata.sparqlService||this.checkUrlSuffix&&D.url.endsWith("/raw")){I.n=1;break}return I.a(2,(0,y.failTest)("Actor ".concat(this.name," could not detect a RAW service description or URL ending on /raw.")));case 1:return I.a(2,(0,y.passTest)({filterFactor:1}))}},E,this)})),function(E){return S.apply(this,arguments)})},{key:"run",value:(T=t(a().m(function E(D){var I,V,K,B,$,G,U,W,ye,ve,he,q,L,R;return a().w(function(k){for(;;)switch(k.n){case 0:return this.logInfo(D.context,"Identified ".concat(D.url," as raw source with service URL: ").concat(D.metadata.sparqlService||D.url)),I=D.context.getSafe(b.KeysInitQuery.dataFactory),V=new m.Factory(I),B=h.QuerySourceRaw,$=D.forceSourceType?D.url:D.metadata.sparqlService||D.url,G=D.context,U=this.mediatorHttp,W=this.bindMethod,ye=I,ve=V,k.n=1,p.BindingsFactory.create(this.mediatorMergeBindingsContext,D.context,I);case 1:return he=k.v,q=this.forceHttpGet,L=this.cacheSize,R=this.countTimeout,K=new B($,G,U,W,ye,ve,he,q,L,R),k.a(2,{source:K})}},E,this)})),function(E){return T.apply(this,arguments)})}],A&&n(O.prototype,A),Object.defineProperty(O,"prototype",{writable:!1}),O;var O,A,T,S}(f.ActorQuerySourceIdentifyHypermedia);e.ActorQuerySourceIdentifyHypermediaRaw=v},81791:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isNonLexicalLiteral=e.NonLexicalLiteral=e.YearMonthDurationLiteral=e.DayTimeDurationLiteral=e.DurationLiteral=e.DateLiteral=e.TimeLiteral=e.DateTimeLiteral=e.StringLiteral=e.LangStringLiteral=e.BooleanLiteral=e.DoubleLiteral=e.FloatLiteral=e.DecimalLiteral=e.IntegerLiteral=e.NumericLiteral=e.Literal=e.isLiteralTermExpression=e.DefaultGraph=e.Quad=e.BlankNode=e.NamedNode=e.Term=void 0;const c=s(42996),a=s(64900),o=s(64900),i=s(98575),t=s(72374),n=s(86273);class r{constructor(){this.expressionType=c.ExpressionType.Term}str(){throw new i.InvalidArgumentTypes([this],a.SparqlOperator.STR)}coerceEBV(){throw new i.EBVCoercionError(this)}}e.Term=r,e.NamedNode=class extends r{constructor(f){super(),this.value=f,this.termType="namedNode"}toRDF(f){return f.namedNode(this.value)}str(){return this.value}},e.BlankNode=class extends r{constructor(f){super(),this.termType="blankNode",this.value=f}toRDF(f){return typeof this.value=="string"?f.blankNode(this.value):this.value}},e.Quad=class extends r{constructor(f,h,y,m){super(),this.subject=f,this.predicate=h,this.object=y,this.graph=m,this.termType="quad"}toRDF(f){return f.quad(this.subject.toRDF(f),this.predicate.toRDF(f),this.object.toRDF(f),this.graph.toRDF(f))}str(){return`Quad: [${this.subject.str()}, ${this.predicate.str()}, ${this.object.str()}, ${this.graph.str()}]`}},e.DefaultGraph=class extends r{constructor(){super(),this.termType="defaultGraph"}toRDF(f){return f.defaultGraph()}str(){return"DefaultGraph"}},e.isLiteralTermExpression=function(f){if(f.termType==="literal")return f};class u extends r{constructor(h,y,m,b){super(),this.typedValue=h,this.dataType=y,this.strValue=m,this.language=b,this.termType="literal"}toRDF(h){return h.literal(this.strValue??this.str(),this.language??h.namedNode(this.dataType))}str(){return this.strValue??this.typedValue.toString()}}e.Literal=u;class l extends u{constructor(h,y,m,b){super(h,y,m,b),this.typedValue=h,this.strValue=m,this.language=b}coerceEBV(){return!!this.typedValue}toRDF(h){const y=super.toRDF(h);return Number.isFinite(this.typedValue)||(y.value=y.value.replace("Infinity","INF")),y}str(){return this.strValue??this.specificFormatter(this.typedValue)}}e.NumericLiteral=l,e.IntegerLiteral=class extends l{constructor(f,h,y,m){super(f,h??o.TypeURL.XSD_INTEGER,y,m),this.typedValue=f,this.strValue=y,this.language=m}specificFormatter(f){return f.toFixed(0)}},e.DecimalLiteral=class extends l{constructor(f,h,y,m){super(f,h??o.TypeURL.XSD_DECIMAL,y,m),this.typedValue=f,this.strValue=y,this.language=m}specificFormatter(f){return f.toString()}},e.FloatLiteral=class extends l{constructor(f,h,y,m){super(f,h??o.TypeURL.XSD_FLOAT,y,m),this.typedValue=f,this.strValue=y,this.language=m}specificFormatter(f){return f.toString()}},e.DoubleLiteral=class extends l{constructor(f,h,y,m){super(f,h??o.TypeURL.XSD_DOUBLE,y,m),this.typedValue=f,this.strValue=y,this.language=m}specificFormatter(f){if(!Number.isFinite(f))return f>0?"INF":f<0?"-INF":"NaN";const h=f.toExponential(),[y,m]=h.split("e"),b=m.replace(/\+/u,"");return`${y.includes(".")?y:`${y}.0`}E${b}`}},e.BooleanLiteral=class extends u{constructor(f,h,y){super(f,y??o.TypeURL.XSD_BOOLEAN,h),this.typedValue=f,this.strValue=h}coerceEBV(){return this.typedValue}},e.LangStringLiteral=class extends u{constructor(f,h,y){super(f,y??o.TypeURL.RDF_LANG_STRING,f,h),this.typedValue=f,this.language=h}coerceEBV(){return this.str().length>0}},e.StringLiteral=class extends u{constructor(f,h){super(f,h??o.TypeURL.XSD_STRING,f),this.typedValue=f}coerceEBV(){return this.str().length>0}},e.DateTimeLiteral=class extends u{constructor(f,h,y){super(f,y??o.TypeURL.XSD_DATE_TIME,h),this.typedValue=f,this.strValue=h}str(){return(0,t.serializeDateTime)(this.typedValue)}},e.TimeLiteral=class extends u{constructor(f,h,y){super(f,y??o.TypeURL.XSD_TIME,h),this.typedValue=f,this.strValue=h}str(){return(0,t.serializeTime)(this.typedValue)}},e.DateLiteral=class extends u{constructor(f,h,y){super(f,y??o.TypeURL.XSD_DATE,h),this.typedValue=f,this.strValue=h}str(){return(0,t.serializeDate)(this.typedValue)}};class d extends u{constructor(h,y,m){super(h,m??o.TypeURL.XSD_DURATION,y),this.typedValue=h,this.strValue=y}str(){return(0,t.serializeDuration)(this.typedValue)}}e.DurationLiteral=d,e.DayTimeDurationLiteral=class extends d{constructor(f,h,y){super(f,h,y??o.TypeURL.XSD_DAY_TIME_DURATION),this.typedValue=f,this.strValue=h}},e.YearMonthDurationLiteral=class extends u{constructor(f,h,y){super(f,y??o.TypeURL.XSD_YEAR_MONTH_DURATION,h),this.typedValue=f,this.strValue=h}str(){return(0,t.serializeDuration)(this.typedValue,"P0M")}};class p extends u{constructor(h,y,m,b,v){super({toString:()=>"undefined"},y,b,v),this.openWorldType=m}coerceEBV(){if((0,n.isSubTypeOf)(this.dataType,o.TypeURL.XSD_BOOLEAN,this.openWorldType)||(0,n.isSubTypeOf)(this.dataType,o.TypeAlias.SPARQL_NUMERIC,this.openWorldType))return!1;throw new i.EBVCoercionError(this)}toRDF(h){return h.literal(this.str(),this.language??h.namedNode(this.dataType))}str(){return this.strValue??""}}e.NonLexicalLiteral=p,e.isNonLexicalLiteral=function(f){if(f instanceof p)return f}},81926:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(16994),e),a(s(2922),e),a(s(18594),e)},81928:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BlankNode=void 0,e.BlankNode=class{constructor(s){this.termType="BlankNode",this.value=s}equals(s){return!!s&&s.termType==="BlankNode"&&s.value===this.value}}},82e3:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfJoinMultiEmpty=void 0;const c=s(95445),a=s(90711),o=s(90412),i=s(99214),t=s(75627);class n extends c.ActorRdfJoin{constructor(u){super(u,{logicalType:"inner",physicalName:"multi-empty",canHandleUndefs:!0})}async test(u){return(await c.ActorRdfJoin.getMetadatas(u.entries)).every(l=>c.ActorRdfJoin.getCardinality(l).value>0)?(0,o.failTest)(`Actor ${this.name} can only join entries where at least one is empty`):super.test(u)}async getOutput(u){for(const d of u.entries)d.output.bindingsStream.close();const l=u.context.getSafe(a.KeysInitQuery.dataFactory);return{result:{bindingsStream:new t.ArrayIterator([],{autoStart:!1}),metadata:async()=>({state:new i.MetadataValidationState,cardinality:{type:"exact",value:0},variables:c.ActorRdfJoin.joinVariables(l,await c.ActorRdfJoin.getMetadatas(u.entries))}),type:"bindings"}}}async getJoinCoefficients(u,l){return(0,o.passTestWithSideData)({iterations:0,persistedItems:0,blockingItems:0,requestTime:0},l)}}e.ActorRdfJoinMultiEmpty=n},82341:g=>{g.exports=function e(s){return s===null||typeof s!="object"||s.toJSON!=null?JSON.stringify(s):Array.isArray(s)?"["+s.reduce((c,a,o)=>c+(o===0?"":",")+e(a===void 0||typeof a=="symbol"?null:a),"")+"]":"{"+Object.keys(s).sort().reduce((c,a,o)=>s[a]===void 0||typeof s[a]=="symbol"?c:c+(c.length===0?"":",")+e(a)+":"+e(s[a]),"")+"}"}},82406:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TypeHandlerNumberDouble=void 0;const c=s(30103);class a{fromRdf(i,t){const n=parseFloat(i.value);return t&&isNaN(n)&&c.Translator.incorrectRdfDataType(i),n}toRdf(i,{datatype:t,dataFactory:n}){return t=t||n.namedNode(a.TYPES[0]),isNaN(i)?n.literal("NaN",t):isFinite(i)?i%1==0?null:n.literal(i.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),t):n.literal(i>0?"INF":"-INF",t)}}a.TYPES=["http://www.w3.org/2001/XMLSchema#double","http://www.w3.org/2001/XMLSchema#decimal","http://www.w3.org/2001/XMLSchema#float"],e.TypeHandlerNumberDouble=a},82651:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryOperationPathZeroOrOne=void 0;const c=s(97091),a=s(90711),o=s(81926),i=s(99214),t=s(67021),n=s(75627),r=s(96331);class u extends c.ActorAbstractPath{constructor(d){super(d,r.Algebra.types.ZERO_OR_ONE_PATH)}async runOperation(d,p){const f=p.getSafe(a.KeysInitQuery.dataFactory),h=new r.Factory(f),y=await o.BindingsFactory.create(this.mediatorMergeBindingsContext,p,f),m=d.predicate,b=this.getPathSources(m),v=[];if(d.subject.termType!=="Variable"&&d.object.termType!=="Variable"&&d.subject.equals(d.object))return{type:"bindings",bindingsStream:new n.SingletonIterator(y.bindings()),metadata:()=>Promise.resolve({state:new i.MetadataValidationState,cardinality:{type:"exact",value:1},variables:[]})};const _=await this.isPathArbitraryLengthDistinct(h,p,d);if(_.operation)return _.operation;p=_.context;const w=(0,t.getSafeBindings)(await this.mediatorQueryOperation.mediate({context:p,operation:h.createPath(d.subject,m.path,d.object,d.graph)}));let O;if(d.subject.termType==="Variable"&&d.object.termType==="Variable"){const A=this.generateVariable(f,d),T=(0,t.getSafeBindings)(await this.mediatorQueryOperation.mediate({context:p,operation:h.createFilter(this.assignPatternSources(h,h.createPattern(d.subject,A,d.object,d.graph),b),h.createOperatorExpression("=",[h.createTermExpression(d.subject),h.createTermExpression(d.object)]))})).bindingsStream.map(S=>S.delete(A));O=new n.UnionIterator([T,w.bindingsStream],{autoStart:!1})}else d.subject.termType==="Variable"&&v.push(y.bindings([[d.subject,d.object]])),d.object.termType==="Variable"&&v.push(y.bindings([[d.object,d.subject]])),O=w.bindingsStream.prepend(v);return{type:"bindings",bindingsStream:O,metadata:async()=>{const A=await w.metadata();return{...A,cardinality:{...A.cardinality,value:A.cardinality.value+1}}}}}}e.ActorQueryOperationPathZeroOrOne=u},83101:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(71644),e),a(s(40229),e)},83141:(g,e,s)=>{var c=s(92861).Buffer,a=c.isEncoding||function(f){switch((f=""+f)&&f.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(f){var h;switch(this.encoding=function(y){var m=function(b){if(!b)return"utf8";for(var v;;)switch(b){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return b;default:if(v)return;b=(""+b).toLowerCase(),v=!0}}(y);if(typeof m!="string"&&(c.isEncoding===a||!a(y)))throw new Error("Unknown encoding: "+y);return m||y}(f),this.encoding){case"utf16le":this.text=n,this.end=r,h=4;break;case"utf8":this.fillLast=t,h=4;break;case"base64":this.text=u,this.end=l,h=3;break;default:return this.write=d,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=c.allocUnsafe(h)}function i(f){return f<=127?0:f>>5==6?2:f>>4==14?3:f>>3==30?4:f>>6==2?-1:-2}function t(f){var h=this.lastTotal-this.lastNeed,y=function(m,b){if((192&b[0])!=128)return m.lastNeed=0,"";if(m.lastNeed>1&&b.length>1){if((192&b[1])!=128)return m.lastNeed=1,"";if(m.lastNeed>2&&b.length>2&&(192&b[2])!=128)return m.lastNeed=2,""}}(this,f);return y!==void 0?y:this.lastNeed<=f.length?(f.copy(this.lastChar,h,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(f.copy(this.lastChar,h,0,f.length),void(this.lastNeed-=f.length))}function n(f,h){if((f.length-h)%2==0){var y=f.toString("utf16le",h);if(y){var m=y.charCodeAt(y.length-1);if(m>=55296&&m<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=f[f.length-2],this.lastChar[1]=f[f.length-1],y.slice(0,-1)}return y}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=f[f.length-1],f.toString("utf16le",h,f.length-1)}function r(f){var h=f&&f.length?this.write(f):"";if(this.lastNeed){var y=this.lastTotal-this.lastNeed;return h+this.lastChar.toString("utf16le",0,y)}return h}function u(f,h){var y=(f.length-h)%3;return y===0?f.toString("base64",h):(this.lastNeed=3-y,this.lastTotal=3,y===1?this.lastChar[0]=f[f.length-1]:(this.lastChar[0]=f[f.length-2],this.lastChar[1]=f[f.length-1]),f.toString("base64",h,f.length-y))}function l(f){var h=f&&f.length?this.write(f):"";return this.lastNeed?h+this.lastChar.toString("base64",0,3-this.lastNeed):h}function d(f){return f.toString(this.encoding)}function p(f){return f&&f.length?this.write(f):""}e.StringDecoder=o,o.prototype.write=function(f){if(f.length===0)return"";var h,y;if(this.lastNeed){if((h=this.fillLast(f))===void 0)return"";y=this.lastNeed,this.lastNeed=0}else y=0;return y<f.length?h?h+this.text(f,y):this.text(f,y):h||""},o.prototype.end=function(f){var h=f&&f.length?this.write(f):"";return this.lastNeed?h+"":h},o.prototype.text=function(f,h){var y=function(b,v,_){var w=v.length-1;if(w<_)return 0;var O=i(v[w]);return O>=0?(O>0&&(b.lastNeed=O-1),O):--w<_||O===-2?0:(O=i(v[w]))>=0?(O>0&&(b.lastNeed=O-2),O):--w<_||O===-2?0:(O=i(v[w]))>=0?(O>0&&(O===2?O=0:b.lastNeed=O-3),O):0}(this,f,h);if(!this.lastNeed)return f.toString("utf8",h);this.lastTotal=y;var m=f.length-(y-this.lastNeed);return f.copy(this.lastChar,0,m),f.toString("utf8",h,m)},o.prototype.fillLast=function(f){if(this.lastNeed<=f.length)return f.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);f.copy(this.lastChar,this.lastTotal-this.lastNeed,0,f.length),this.lastNeed-=f.length}},83161:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermXsdToBoolean=void 0;const c=s(77617),a=s(77545),o=s(36424);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.TypeURL.XSD_BOOLEAN],termFunction:!0})}async run(n){return new o.TermFunctionXsdToBoolean}}e.ActorFunctionFactoryTermXsdToBoolean=i},83223:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(6535),e)},83657:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(66338),e)},83658:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorOptimizeQueryOperationRewriteAdd=void 0;const c=s(38912),a=s(90711),o=s(90412),i=s(47793),t=s(96331),n=new i.DataFactory;class r extends c.ActorOptimizeQueryOperation{constructor(l){super(l)}async test(l){return(0,o.passTestVoid)()}async run(l){const d=l.context.getSafe(a.KeysInitQuery.dataFactory),p=new t.Factory(d);return{operation:t.Util.mapOperation(l.operation,{[t.Algebra.types.ADD](f,h){const y=f.destination==="DEFAULT"?n.defaultGraph():f.destination,m=f.source==="DEFAULT"?n.defaultGraph():f.source;return{result:h.createDeleteInsert(void 0,[h.createPattern(n.variable("s"),n.variable("p"),n.variable("o"),y)],h.createPattern(n.variable("s"),n.variable("p"),n.variable("o"),m)),recurse:!1}}},p),context:l.context}}}e.ActorOptimizeQueryOperationRewriteAdd=r},83849:(g,e,s)=>{var c=function(){var a=function(Ce,ze,Xe,nt){for(Xe=Xe||{},nt=Ce.length;nt--;Xe[Ce[nt]]=ze);return Xe},o=[6,12,13,15,16,24,32,36,41,45,100,110,113,115,116,123,126,131,197,224,229,308,329,330,331,332,333],i=[2,247],t=[100,110,113,115,116,123,126,131,329,330,331,332,333],n=[2,409],r=[1,18],u=[1,27],l=[13,16,45,197,224,229,308],d=[28,29,53],p=[28,53],f=[1,42],h=[1,45],y=[1,41],m=[1,44],b=[123,126],v=[1,67],_=[39,45,87],w=[13,16,45,197,224,308],O=[1,87],A=[2,281],T=[1,86],S=[13,16,45,82,87,89,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312],E=[6,28,29,53,63,70,73,81,83,85],D=[6,13,16,28,29,53,63,70,73,81,83,85,87,308],I=[6,13,16,28,29,45,53,63,70,73,81,82,83,85,87,89,197,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314],V=[6,13,16,28,29,31,39,45,47,48,53,63,70,73,81,82,83,85,87,89,109,112,121,123,126,128,159,160,161,163,164,174,193,197,224,229,231,232,242,246,250,263,265,272,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314,317,318,335,337,338,340,341,342,343,344,345,346],K=[13,16,308],B=[112,132,327,334],$=[13,16,112,132,308],G=[1,111],U=[1,117],W=[112,132,327,328,334],ye=[13,16,112,132,308,328],ve=[28,29,45,53,87],he=[1,138],q=[1,151],L=[1,128],R=[1,127],k=[1,129],X=[1,140],oe=[1,141],ee=[1,142],me=[1,143],de=[1,144],xe=[1,145],ne=[1,147],be=[1,148],ie=[2,457],ge=[1,158],Ee=[1,159],M=[1,160],P=[1,152],C=[1,153],z=[1,156],te=[1,171],re=[1,172],le=[1,173],_e=[1,174],we=[1,175],Se=[1,176],Pe=[1,167],je=[1,168],ae=[1,169],ce=[1,170],Le=[1,157],ke=[1,166],qe=[1,161],He=[1,162],Ae=[1,163],Te=[1,164],Ke=[1,165],it=[6,13,16,29,31,45,82,85,87,89,112,159,160,161,163,164,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335],ut=[1,195],tt=[6,31,73,81,83,85],ht=[2,285],vt=[1,199],at=[1,201],Ne=[6,31,70,73,81,83,85],j=[2,283],Y=[1,207],J=[1,218],pe=[1,223],Re=[1,219],Fe=[1,225],Oe=[1,226],De=[1,224],Ue=[6,63,70,73,81,83,85],$e=[1,236],Ge=[2,334],Je=[1,243],Ve=[1,241],Ze=[6,193],st=[2,349],ot=[2,339],Ye=[28,128],Lt=[47,48,193,272],dt=[47,48,193,242,272],pt=[47,48,193,242,246,272],Ot=[47,48,193,242,246,250,263,265,272,290,297,298,299,300,301,302,341,342,343,344,345,346],yt=[39,47,48,193,242,246,250,263,265,272,290,297,298,299,300,301,302,338,341,342,343,344,345,346],hr=[1,271],Tt=[1,270],At=[6,13,16,29,31,39,45,47,48,70,73,76,78,81,82,83,85,87,89,112,159,160,161,163,164,193,231,242,246,250,263,265,268,269,270,271,272,273,274,276,277,279,280,283,285,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335,338,341,342,343,344,345,346,347,348,349,350,351],Br=[1,281],Gt=[1,280],It=[13,16,29,31,39,45,47,48,82,85,87,89,112,159,160,161,163,164,174,193,197,224,229,231,232,242,246,250,263,265,272,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314,317,318,335,338,341,342,343,344,345,346],or=[45,89],Jt=[13,16,29,31,39,45,47,48,82,85,87,89,112,159,160,161,163,164,174,193,197,224,229,231,232,242,246,250,263,265,272,290,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314,317,318,335,338,341,342,343,344,345,346],qr=[13,16,31,82,174,294,295,296,297,298,299,300,301,302,303,304,305,306,308,312],yr=[31,89],fn=[48,87],Wt=[6,13,16,45,48,82,87,89,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,337,338],qt=[6,13,16,39,45,48,82,87,89,231,263,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,337,338,340],tn=[1,313],hn=[6,85],yi=[6,31,81,83,85],Qi=[2,361],Sr=[2,353],Ur=[1,343],xn=[31,112,335],Er=[13,16,29,31,45,48,82,85,87,89,112,159,160,161,163,164,193,197,224,229,231,232,272,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,317,318,335],Vi=[13,16,29,31,45,48,82,85,87,89,112,159,160,161,163,164,193,197,224,229,231,232,272,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314,317,318,335],Ha=[6,109,193],yn=[31,112],Ct=[13,16,45,82,87,224,263,265,268,269,270,271,273,274,276,277,279,280,283,285,294,295,296,297,298,299,300,301,302,303,304,305,306,308,312,346,347,348,349,350,351],$i=[1,390],Gi=[1,391],rn=[13,16,87,197,308,314],Gn=[13,16,39,45,82,87,224,263,265,268,269,270,271,273,274,276,277,279,280,283,285,294,295,296,297,298,299,300,301,302,303,304,305,306,308,312,346,347,348,349,350,351],gn=[1,417],gi=[1,418],za=[13,16,48,197,229,308],Qr=[6,31,85],Hi=[6,13,16,31,45,73,81,83,85,268,269,270,271,273,274,276,277,279,280,283,285,308,346,347,348,349,350,351],An=[6,13,16,29,31,45,73,76,78,81,82,83,85,87,89,112,159,160,161,163,164,231,268,269,270,271,273,274,276,277,279,280,283,285,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335,346,347,348,349,350,351],xr=[29,31,85,112,159,160,161,163,164],mn=[1,443],Hn=[1,444],nn=[1,449],_t=[31,112,193,232,318,335],bn=[13,16,45,48,82,87,89,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312],In=[13,16,31,45,48,82,87,89,112,193,231,232,272,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,317,318,335],Pn=[13,16,29,31,45,48,82,85,87,89,112,159,160,161,163,164,193,231,232,272,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,317,318,335],Vr=[13,16,31,48,82,174,294,295,296,297,298,299,300,301,302,303,304,305,306,308,312],pr=[31,45],Ka=[1,507],Do=[1,508],zi=[6,13,16,29,31,39,45,47,48,63,70,73,76,78,81,82,83,85,87,89,112,159,160,161,163,164,193,231,242,246,250,263,265,268,269,270,271,272,273,274,276,277,279,280,283,285,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335,336,338,341,342,343,344,345,346,347,348,349,350,351],mi=[29,31,85,112,159,160,161,163,164,335],an=[6,13,16,31,45,70,73,81,83,85,87,268,269,270,271,273,274,276,277,279,280,283,285,308,346,347,348,349,350,351],gr=[13,16,31,45,48,82,87,89,112,193,197,231,232,272,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,317,318,335],Xa=[2,352],bi=[13,16,197,308,314],Ja=[1,565],vn=[6,13,16,31,45,76,78,81,83,85,87,268,269,270,271,273,274,276,277,279,280,283,285,308,346,347,348,349,350,351],Wa=[13,16,29,31,45,82,85,87,89,112,159,160,161,163,164,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312],$r=[13,16,29,31,45,82,85,87,89,112,159,160,161,163,164,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335],Fo=[13,16,87,308],on=[2,364],zn=[29,31,85,112,159,160,161,163,164,193,232,318,335],vi=[31,112,193,232,272,318,335],mr=[2,359],jn=[13,16,48,82,174,294,295,296,297,298,299,300,301,302,303,304,305,306,308,312],Ft=[29,31,85,112,159,160,161,163,164,193,232,272,318,335],sn=[13,16,31,45,82,87,89,112,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312],Ya=[2,347],Nn={trace:function(){},yy:{},symbols_:{error:2,QueryOrUpdate:3,Prologue:4,QueryOrUpdate_group0:5,EOF:6,Query:7,Qry:8,Query_option0:9,Prologue_repetition0:10,BaseDecl:11,BASE:12,IRIREF:13,PrefixDecl:14,PREFIX:15,PNAME_NS:16,SelectClauseWildcard:17,Qry_repetition0:18,WhereClause:19,SolutionModifierNoGroup:20,SelectClauseVars:21,Qry_repetition1:22,SolutionModifier:23,CONSTRUCT:24,ConstructTemplate:25,Qry_repetition2:26,Qry_repetition3:27,WHERE:28,"{":29,Qry_option0:30,"}":31,DESCRIBE:32,Qry_group0:33,Qry_repetition4:34,Qry_option1:35,ASK:36,Qry_repetition5:37,SelectClauseBase:38,"*":39,SelectClauseVars_repetition_plus0:40,SELECT:41,SelectClauseBase_option0:42,SelectClauseItem:43,Var:44,"(":45,Expression:46,AS:47,")":48,SubSelect:49,SubSelect_option0:50,SubSelect_option1:51,DatasetClause:52,FROM:53,DatasetClause_option0:54,iri:55,WhereClause_option0:56,GroupGraphPattern:57,SolutionModifier_option0:58,SolutionModifierNoGroup_option0:59,SolutionModifierNoGroup_option1:60,SolutionModifierNoGroup_option2:61,GroupClause:62,GROUP:63,BY:64,GroupClause_repetition_plus0:65,GroupCondition:66,BuiltInCall:67,FunctionCall:68,HavingClause:69,HAVING:70,HavingClause_repetition_plus0:71,OrderClause:72,ORDER:73,OrderClause_repetition_plus0:74,OrderCondition:75,ASC:76,BrackettedExpression:77,DESC:78,Constraint:79,LimitOffsetClauses:80,LIMIT:81,INTEGER:82,OFFSET:83,ValuesClause:84,VALUES:85,InlineData:86,VAR:87,InlineData_repetition0:88,NIL:89,InlineData_repetition1:90,InlineData_repetition_plus2:91,InlineData_repetition3:92,DataBlock:93,DataBlockValueList:94,DataBlockValueList_repetition_plus0:95,Update:96,Update_repetition0:97,Update1:98,Update_option0:99,LOAD:100,Update1_option0:101,Update1_option1:102,Update1_group0:103,Update1_option2:104,GraphRefAll:105,Update1_group1:106,Update1_option3:107,GraphOrDefault:108,TO:109,CREATE:110,Update1_option4:111,GRAPH:112,INSERTDATA:113,QuadPattern:114,DELETEDATA:115,DELETEWHERE:116,Update1_option5:117,InsertDeleteClause:118,Update1_repetition0:119,IntoGraphClause:120,INTO:121,GraphRef:122,DELETE:123,InsertDeleteClause_option0:124,InsertClause:125,INSERT:126,UsingClause:127,USING:128,UsingClause_option0:129,WithClause:130,WITH:131,DEFAULT:132,GraphOrDefault_option0:133,GraphRefAll_group0:134,Quads:135,Quads_option0:136,Quads_repetition0:137,QuadsNotTriples:138,VarOrIri:139,QuadsNotTriples_option0:140,QuadsNotTriples_option1:141,QuadsNotTriples_option2:142,TriplesTemplate:143,TriplesTemplate_repetition0:144,TriplesSameSubject:145,TriplesTemplate_option0:146,GroupGraphPatternSub:147,GroupGraphPatternSub_option0:148,GroupGraphPatternSub_repetition0:149,GroupGraphPatternSubTail:150,GraphPatternNotTriples:151,GroupGraphPatternSubTail_option0:152,GroupGraphPatternSubTail_option1:153,TriplesBlock:154,TriplesBlock_repetition0:155,TriplesSameSubjectPath:156,TriplesBlock_option0:157,GroupOrUnionGraphPattern:158,OPTIONAL:159,MINUS:160,SERVICE:161,GraphPatternNotTriples_option0:162,FILTER:163,BIND:164,InlineDataOneVar:165,InlineDataFull:166,InlineDataOneVar_repetition0:167,InlineDataFull_repetition0:168,InlineDataFull_repetition_plus1:169,InlineDataFull_repetition2:170,DataBlockValue:171,Literal:172,QuotedTriple:173,UNDEF:174,GroupOrUnionGraphPattern_repetition0:175,ArgList:176,ArgList_option0:177,ArgList_repetition0:178,ExpressionList:179,ExpressionList_repetition0:180,ConstructTemplate_option0:181,ConstructTriples:182,ConstructTriples_repetition0:183,ConstructTriples_option0:184,VarOrTermOrQuotedTP:185,PropertyListNotEmpty:186,TriplesNode:187,PropertyList:188,PropertyList_option0:189,VerbObjectList:190,PropertyListNotEmpty_repetition0:191,SemiOptionalVerbObjectList:192,";":193,SemiOptionalVerbObjectList_option0:194,Verb:195,ObjectList:196,a:197,ObjectList_repetition0:198,Object:199,GraphNode:200,Object_option0:201,PropertyListPathNotEmpty:202,TriplesNodePath:203,TriplesSameSubjectPath_option0:204,O:205,PropertyListPathNotEmpty_repetition0:206,PropertyListPathNotEmptyTail:207,O_group0:208,ObjectListPath:209,ObjectListPath_repetition0:210,ObjectPath:211,GraphNodePath:212,ObjectPath_option0:213,Path:214,Path_repetition0:215,PathSequence:216,PathSequence_repetition0:217,PathEltOrInverse:218,PathElt:219,PathPrimary:220,PathElt_option0:221,PathEltOrInverse_option0:222,IriOrA:223,"!":224,PathNegatedPropertySet:225,PathOneInPropertySet:226,PathNegatedPropertySet_repetition0:227,PathNegatedPropertySet_option0:228,"^":229,TriplesNode_repetition_plus0:230,"[":231,"]":232,TriplesNodePath_repetition_plus0:233,VarOrTermOrQuotedTPExpr:234,VarOrTerm:235,GraphTerm:236,BlankNode:237,ConditionalOrExpression:238,ConditionalAndExpression:239,ConditionalOrExpression_repetition0:240,ConditionalOrExpressionTail:241,"||":242,RelationalExpression:243,ConditionalAndExpression_repetition0:244,ConditionalAndExpressionTail:245,"&&":246,NumericExpression:247,RelationalExpression_group0:248,RelationalExpression_option0:249,IN:250,MultiplicativeExpression:251,NumericExpression_repetition0:252,AdditiveExpressionTail:253,AdditiveExpressionTail_group0:254,NumericLiteralPositive:255,AdditiveExpressionTail_repetition0:256,NumericLiteralNegative:257,AdditiveExpressionTail_repetition1:258,UnaryExpression:259,MultiplicativeExpression_repetition0:260,MultiplicativeExpressionTail:261,MultiplicativeExpressionTail_group0:262,"+":263,PrimaryExpression:264,"-":265,ExprQuotedTP:266,Aggregate:267,FUNC_ARITY0:268,FUNC_ARITY1:269,FUNC_ARITY1_SPARQL_STAR:270,FUNC_ARITY2:271,",":272,FUNC_ARITY3:273,FUNC_ARITY3_SPARQL_STAR:274,BuiltInCall_group0:275,BOUND:276,BNODE:277,BuiltInCall_option0:278,EXISTS:279,COUNT:280,Aggregate_option0:281,Aggregate_group0:282,FUNC_AGGREGATE:283,Aggregate_option1:284,GROUP_CONCAT:285,Aggregate_option2:286,Aggregate_option3:287,GroupConcatSeparator:288,SEPARATOR:289,"=":290,String:291,LANGTAG:292,"^^":293,DECIMAL:294,DOUBLE:295,BOOLEAN:296,INTEGER_POSITIVE:297,DECIMAL_POSITIVE:298,DOUBLE_POSITIVE:299,INTEGER_NEGATIVE:300,DECIMAL_NEGATIVE:301,DOUBLE_NEGATIVE:302,STRING_LITERAL1:303,STRING_LITERAL2:304,STRING_LITERAL_LONG1:305,STRING_LITERAL_LONG2:306,PrefixedName:307,PNAME_LN:308,BLANK_NODE_LABEL:309,ANON:310,QuotedTP:311,"<<":312,qtSubjectOrObject:313,">>":314,DataValueTerm:315,AnnotationPattern:316,"{|":317,"|}":318,AnnotationPatternPath:319,ExprVarOrTerm:320,QueryOrUpdate_group0_option0:321,Prologue_repetition0_group0:322,Qry_group0_repetition_plus0:323,SelectClauseBase_option0_group0:324,DISTINCT:325,REDUCED:326,NAMED:327,SILENT:328,CLEAR:329,DROP:330,ADD:331,MOVE:332,COPY:333,ALL:334,".":335,UNION:336,"|":337,"/":338,PathElt_option0_group0:339,"?":340,"!=":341,"<":342,">":343,"<=":344,">=":345,NOT:346,CONCAT:347,COALESCE:348,SUBSTR:349,REGEX:350,REPLACE:351,$accept:0,$end:1},terminals_:{2:"error",6:"EOF",12:"BASE",13:"IRIREF",15:"PREFIX",16:"PNAME_NS",24:"CONSTRUCT",28:"WHERE",29:"{",31:"}",32:"DESCRIBE",36:"ASK",39:"*",41:"SELECT",45:"(",47:"AS",48:")",53:"FROM",63:"GROUP",64:"BY",70:"HAVING",73:"ORDER",76:"ASC",78:"DESC",81:"LIMIT",82:"INTEGER",83:"OFFSET",85:"VALUES",87:"VAR",89:"NIL",100:"LOAD",109:"TO",110:"CREATE",112:"GRAPH",113:"INSERTDATA",115:"DELETEDATA",116:"DELETEWHERE",121:"INTO",123:"DELETE",126:"INSERT",128:"USING",131:"WITH",132:"DEFAULT",159:"OPTIONAL",160:"MINUS",161:"SERVICE",163:"FILTER",164:"BIND",174:"UNDEF",193:";",197:"a",224:"!",229:"^",231:"[",232:"]",242:"||",246:"&&",250:"IN",263:"+",265:"-",268:"FUNC_ARITY0",269:"FUNC_ARITY1",270:"FUNC_ARITY1_SPARQL_STAR",271:"FUNC_ARITY2",272:",",273:"FUNC_ARITY3",274:"FUNC_ARITY3_SPARQL_STAR",276:"BOUND",277:"BNODE",279:"EXISTS",280:"COUNT",283:"FUNC_AGGREGATE",285:"GROUP_CONCAT",289:"SEPARATOR",290:"=",292:"LANGTAG",293:"^^",294:"DECIMAL",295:"DOUBLE",296:"BOOLEAN",297:"INTEGER_POSITIVE",298:"DECIMAL_POSITIVE",299:"DOUBLE_POSITIVE",300:"INTEGER_NEGATIVE",301:"DECIMAL_NEGATIVE",302:"DOUBLE_NEGATIVE",303:"STRING_LITERAL1",304:"STRING_LITERAL2",305:"STRING_LITERAL_LONG1",306:"STRING_LITERAL_LONG2",308:"PNAME_LN",309:"BLANK_NODE_LABEL",310:"ANON",312:"<<",314:">>",317:"{|",318:"|}",325:"DISTINCT",326:"REDUCED",327:"NAMED",328:"SILENT",329:"CLEAR",330:"DROP",331:"ADD",332:"MOVE",333:"COPY",334:"ALL",335:".",336:"UNION",337:"|",338:"/",340:"?",341:"!=",342:"<",343:">",344:"<=",345:">=",346:"NOT",347:"CONCAT",348:"COALESCE",349:"SUBSTR",350:"REGEX",351:"REPLACE"},productions_:[0,[3,3],[7,2],[4,1],[11,2],[14,3],[8,4],[8,4],[8,5],[8,7],[8,5],[8,4],[17,2],[21,2],[38,2],[43,1],[43,5],[49,4],[49,4],[52,3],[19,2],[23,2],[20,3],[62,3],[66,1],[66,1],[66,3],[66,5],[66,1],[69,2],[72,3],[75,2],[75,2],[75,1],[75,1],[80,2],[80,2],[80,4],[80,4],[84,2],[86,4],[86,4],[86,6],[86,2],[94,3],[96,3],[98,4],[98,3],[98,5],[98,4],[98,2],[98,2],[98,2],[98,5],[120,2],[118,3],[118,1],[125,2],[127,3],[130,2],[108,1],[108,2],[122,2],[105,1],[105,1],[114,3],[135,2],[138,7],[143,3],[57,3],[57,3],[147,2],[150,3],[154,3],[151,1],[151,2],[151,2],[151,3],[151,4],[151,2],[151,6],[151,1],[93,1],[93,1],[165,4],[166,4],[166,6],[171,1],[171,1],[171,1],[171,1],[158,2],[79,1],[79,1],[79,1],[68,2],[176,1],[176,5],[179,1],[179,4],[25,3],[182,3],[145,2],[145,2],[188,1],[186,2],[192,2],[190,2],[195,1],[195,1],[196,2],[199,2],[156,2],[156,2],[202,2],[207,1],[207,2],[205,2],[209,2],[211,2],[214,2],[216,2],[219,2],[218,2],[220,1],[220,2],[220,3],[225,1],[225,1],[225,4],[226,1],[226,2],[187,3],[187,3],[203,3],[203,3],[200,1],[200,1],[212,1],[212,1],[234,1],[235,1],[235,1],[139,1],[139,1],[44,1],[236,1],[236,1],[236,1],[236,1],[46,1],[238,2],[241,2],[239,2],[245,2],[243,1],[243,3],[243,4],[247,2],[253,2],[253,2],[253,2],[251,2],[261,2],[259,2],[259,2],[259,2],[259,1],[264,1],[264,1],[264,1],[264,1],[264,1],[264,1],[264,1],[77,3],[67,1],[67,2],[67,4],[67,4],[67,6],[67,8],[67,8],[67,2],[67,4],[67,2],[67,4],[67,3],[267,5],[267,5],[267,6],[288,4],[172,1],[172,2],[172,3],[172,1],[172,1],[172,1],[172,1],[172,1],[172,1],[255,1],[255,1],[255,1],[257,1],[257,1],[257,1],[291,1],[291,1],[291,1],[291,1],[55,1],[55,1],[307,1],[307,1],[237,1],[237,1],[311,5],[173,5],[313,1],[313,1],[313,1],[313,1],[313,1],[315,1],[315,1],[315,1],[185,1],[185,1],[185,1],[316,3],[319,3],[266,5],[320,1],[320,1],[320,1],[223,1],[223,1],[321,0],[321,1],[5,1],[5,1],[5,1],[9,0],[9,1],[322,1],[322,1],[10,0],[10,2],[18,0],[18,2],[22,0],[22,2],[26,0],[26,2],[27,0],[27,2],[30,0],[30,1],[323,1],[323,2],[33,1],[33,1],[34,0],[34,2],[35,0],[35,1],[37,0],[37,2],[40,1],[40,2],[324,1],[324,1],[42,0],[42,1],[50,0],[50,1],[51,0],[51,1],[54,0],[54,1],[56,0],[56,1],[58,0],[58,1],[59,0],[59,1],[60,0],[60,1],[61,0],[61,1],[65,1],[65,2],[71,1],[71,2],[74,1],[74,2],[88,0],[88,2],[90,0],[90,2],[91,1],[91,2],[92,0],[92,2],[95,1],[95,2],[97,0],[97,4],[99,0],[99,2],[101,0],[101,1],[102,0],[102,1],[103,1],[103,1],[104,0],[104,1],[106,1],[106,1],[106,1],[107,0],[107,1],[111,0],[111,1],[117,0],[117,1],[119,0],[119,2],[124,0],[124,1],[129,0],[129,1],[133,0],[133,1],[134,1],[134,1],[134,1],[136,0],[136,1],[137,0],[137,2],[140,0],[140,1],[141,0],[141,1],[142,0],[142,1],[144,0],[144,3],[146,0],[146,1],[148,0],[148,1],[149,0],[149,2],[152,0],[152,1],[153,0],[153,1],[155,0],[155,3],[157,0],[157,1],[162,0],[162,1],[167,0],[167,2],[168,0],[168,2],[169,1],[169,2],[170,0],[170,2],[175,0],[175,3],[177,0],[177,1],[178,0],[178,3],[180,0],[180,3],[181,0],[181,1],[183,0],[183,3],[184,0],[184,1],[189,0],[189,1],[191,0],[191,2],[194,0],[194,1],[198,0],[198,3],[201,0],[201,1],[204,0],[204,1],[206,0],[206,2],[208,1],[208,1],[210,0],[210,3],[213,0],[213,1],[215,0],[215,3],[217,0],[217,3],[339,1],[339,1],[339,1],[221,0],[221,1],[222,0],[222,1],[227,0],[227,3],[228,0],[228,1],[230,1],[230,2],[233,1],[233,2],[240,0],[240,2],[244,0],[244,2],[248,1],[248,1],[248,1],[248,1],[248,1],[248,1],[249,0],[249,1],[252,0],[252,2],[254,1],[254,1],[256,0],[256,2],[258,0],[258,2],[260,0],[260,2],[262,1],[262,1],[275,1],[275,1],[275,1],[275,1],[275,1],[278,0],[278,1],[281,0],[281,1],[282,1],[282,1],[284,0],[284,1],[286,0],[286,1],[287,0],[287,1]],performAction:function(Ce,ze,Xe,nt,et,se,Bt){var Yt,Kr,ra,Yn,fe=se.length-1;switch(et){case 1:if(se[fe-1]=se[fe-1]||{},ft.base&&(se[fe-1].base=ft.base),ft.base="",se[fe-1].prefixes=ft.prefixes,ft.prefixes=null,ft.pathOnly){if(se[fe-1].type==="path"||"termType"in se[fe-1])return se[fe-1];throw new Error("Received full SPARQL query in path only mode")}if(se[fe-1].type==="path"||"termType"in se[fe-1])throw new Error("Received only path in full SPARQL mode");if(se[fe-1].type==="update"){const Q={};for(const H of se[fe-1].updates)if(H.updateType==="insert"){const Z={};for(const ue of H.insert)if(ue.type==="bgp"||ue.type==="graph")for(const Ie of ue.triples)Ie.subject.termType==="BlankNode"&&(Z[Ie.subject.value]=!0),Ie.predicate.termType==="BlankNode"&&(Z[Ie.predicate.value]=!0),Ie.object.termType==="BlankNode"&&(Z[Ie.object.value]=!0);for(const ue of Object.keys(Z)){if(Q[ue])throw new Error("Detected reuse blank node across different INSERT DATA clauses");Q[ue]=!0}}}return se[fe-1];case 2:this.$={...se[fe-1],...se[fe],type:"query"};break;case 4:ft.base=wn(se[fe]);break;case 5:ft.prefixes||(ft.prefixes={}),se[fe-1]=se[fe-1].substr(0,se[fe-1].length-1),se[fe]=wn(se[fe]),ft.prefixes[se[fe-1]]=se[fe];break;case 6:this.$={...se[fe-3],...Gr(se[fe-2]),...se[fe-1],...se[fe]};break;case 7:if(!ft.skipValidation&&(Zi(se[fe-3].variables.map(Q=>On(Q.expression))).some(Q=>Q.aggregation==="count"&&!(Q.expression instanceof _i))||se[fe].group)){for(const Q of se[fe-3].variables)if(Q.termType==="Variable"){if(!se[fe].group||!se[fe].group.map(H=>zr(H)).includes(zr(Q)))throw Error("Projection of ungrouped variable (?"+zr(Q)+")")}else if(On(Q.expression).length===0){const H=Wn(Q.expression);for(const Z of H)if(!se[fe].group||!se[fe].group.map||!se[fe].group.map(ue=>zr(ue)).includes(zr(Z)))throw Error("Use of ungrouped variable in projection of operation (?"+zr(Z)+")")}}const N=se[fe-1].where.filter(Q=>Q.type==="query");if(N.length>0){const Q=se[fe-3].variables.filter(Z=>Z.variable&&Z.variable.value).map(Z=>Z.variable.value),H=Zi(N.map(Z=>Z.variables)).map(Z=>Z.value||Z.variable.value);for(const Z of Q)if(H.indexOf(Z)>=0)throw Error("Target id of 'AS' (?"+Z+") already used in subquery")}this.$=gt(se[fe-3],Gr(se[fe-2]),se[fe-1],se[fe]);break;case 8:this.$=gt({queryType:"CONSTRUCT",template:se[fe-3]},Gr(se[fe-2]),se[fe-1],se[fe]);break;case 9:this.$=gt({queryType:"CONSTRUCT",template:se[fe-2]=se[fe-2]?se[fe-2].triples:[]},Gr(se[fe-5]),{where:[{type:"bgp",triples:Rn([],se[fe-2])}]},se[fe]);break;case 10:this.$=gt({queryType:"DESCRIBE",variables:se[fe-3]==="*"?[new _i]:se[fe-3]},Gr(se[fe-2]),se[fe-1],se[fe]);break;case 11:this.$=gt({queryType:"ASK"},Gr(se[fe-2]),se[fe-1],se[fe]);break;case 12:this.$=gt(se[fe-1],{variables:[new _i]});break;case 13:const F=function(Q){const H=Q.slice().sort(),Z=[];for(let ue=0;ue<H.length-1;ue++)H[ue+1]==H[ue]&&Z.push(H[ue]);return Z}(se[fe].map(Q=>Q.value||Q.variable.value));if(F.length>0)throw Error("Two or more of the resulting columns have the same name (?"+F[0]+")");this.$=gt(se[fe-1],{variables:se[fe]});break;case 14:this.$=gt({queryType:"SELECT"},se[fe]&&(se[fe-1]=Ut(se[fe]),se[fe]={},se[fe][se[fe-1]]=!0,se[fe]));break;case 16:case 27:this.$=un(se[fe-3],{variable:se[fe-1]});break;case 17:case 18:this.$=gt(se[fe-3],se[fe-2],se[fe-1],se[fe],{type:"query"});break;case 19:case 58:this.$={iri:se[fe],named:!!se[fe-1]};break;case 20:this.$={where:se[fe].patterns};break;case 21:this.$=gt(se[fe-1],se[fe]);break;case 22:this.$=gt(se[fe-2],se[fe-1],se[fe]);break;case 23:this.$={group:se[fe]};break;case 24:case 25:case 28:case 31:case 33:case 34:this.$=un(se[fe]);break;case 26:this.$=un(se[fe-1]);break;case 29:this.$={having:se[fe]};break;case 30:this.$={order:se[fe]};break;case 32:this.$=un(se[fe],{descending:!0});break;case 35:this.$={limit:jr(se[fe])};break;case 36:this.$={offset:jr(se[fe])};break;case 37:this.$={limit:jr(se[fe-2]),offset:jr(se[fe])};break;case 38:this.$={limit:jr(se[fe]),offset:jr(se[fe-2])};break;case 39:case 43:this.$={type:"values",values:se[fe]};break;case 40:case 84:this.$=se[fe-1].map(Q=>({[se[fe-3]]:Q}));break;case 41:case 85:this.$=se[fe-1].map(()=>({}));break;case 42:case 86:var Nr=se[fe-4].length;se[fe-4]=se[fe-4].map(Xi),this.$=se[fe-1].map(function(Q){if(Q.length!==Nr)throw Error("Inconsistent VALUES length");for(var H={},Z=0;Z<Nr;Z++)H["?"+se[fe-4][Z].value]=Q[Z];return H});break;case 44:case 65:case 100:case 126:case 175:this.$=se[fe-1];break;case 45:this.$={type:"update",updates:Pr(se[fe-2],se[fe-1])};break;case 46:this.$=gt({type:"load",silent:!!se[fe-2],source:se[fe-1]},se[fe]&&{destination:se[fe]});break;case 47:this.$={type:Ut(se[fe-2]),silent:!!se[fe-1],graph:se[fe]};break;case 48:this.$={type:Ut(se[fe-4]),silent:!!se[fe-3],source:se[fe-2],destination:se[fe]};break;case 49:this.$={type:"create",silent:!!se[fe-2],graph:{type:"graph",name:se[fe]}};break;case 50:this.$={updateType:"insert",insert:co(se[fe])};break;case 51:this.$={updateType:"delete",delete:ta(co(se[fe]))};break;case 52:this.$={updateType:"deletewhere",delete:ta(se[fe])};break;case 53:this.$={updateType:"insertdelete",...se[fe-4],...se[fe-3],...Gr(se[fe-2],"using"),where:se[fe].patterns};break;case 54:case 57:case 62:case 167:case 191:case 236:this.$=se[fe];break;case 55:this.$={delete:ta(se[fe-1]),insert:se[fe]||[]};break;case 56:this.$={delete:[],insert:se[fe]};break;case 59:this.$={graph:se[fe]};break;case 60:this.$={type:"graph",default:!0};break;case 61:case 63:this.$={type:"graph",name:se[fe]};break;case 64:this.$={[Ut(se[fe])]:!0};break;case 66:this.$=se[fe-1]?sr(se[fe],[se[fe-1]]):sr(se[fe]);break;case 67:var Mn=gt(se[fe-3]||{triples:[]},{type:"graph",name:se[fe-5]});this.$=se[fe]?[Mn,se[fe]]:[Mn];break;case 68:case 73:this.$={type:"bgp",triples:sr(se[fe-2],[se[fe-1]])};break;case 69:this.$={type:"group",patterns:[se[fe-1]]};break;case 70:for(const Q of se[fe-1].filter(H=>H.type==="bind")){const H=se[fe-1].indexOf(Q),Z=new Set;for(const ue of se[fe-1].slice(0,H))ue.type!=="group"&&ue.type!=="bgp"||Lo(ue).forEach(Ie=>Z.add(Ie));if(Z.has(Q.variable.value))throw Error("Variable used to bind is already bound (?"+Q.variable.value+")")}this.$={type:"group",patterns:se[fe-1]};break;case 71:this.$=se[fe-1]?sr([se[fe-1]],se[fe]):sr(se[fe]);break;case 72:this.$=se[fe]?[se[fe-2],se[fe]]:se[fe-2];break;case 75:this.$=gt(se[fe],{type:"optional"});break;case 76:this.$=gt(se[fe],{type:"minus"});break;case 77:this.$=gt(se[fe],{type:"graph",name:se[fe-1]});break;case 78:this.$=gt(se[fe],{type:"service",name:se[fe-1],silent:!!se[fe-2]});break;case 79:this.$={type:"filter",expression:se[fe]};break;case 80:this.$={type:"bind",variable:se[fe-1],expression:se[fe-3]};break;case 89:this.$=Dn(se[fe]);break;case 90:this.$=void 0;break;case 91:this.$=se[fe-1].length?{type:"union",patterns:sr(se[fe-1].map(Ji),[Ji(se[fe])])}:se[fe];break;case 95:this.$={...se[fe],function:se[fe-1]};break;case 96:this.$={type:"functionCall",args:[]};break;case 97:this.$={type:"functionCall",args:Pr(se[fe-2],se[fe-1]),distinct:!!se[fe-3]};break;case 98:case 115:case 128:case 247:case 249:case 251:case 253:case 255:case 263:case 267:case 297:case 299:case 303:case 307:case 328:case 341:case 349:case 355:case 361:case 367:case 369:case 373:case 375:case 379:case 381:case 385:case 391:case 395:case 401:case 405:case 409:case 411:case 420:case 428:case 430:case 440:case 444:case 446:case 448:this.$=[];break;case 99:this.$=Pr(se[fe-2],se[fe-1]);break;case 101:this.$=sr(se[fe-2],[se[fe-1]]);break;case 102:case 112:this.$=ea(se[fe].map(Q=>gt(Hr(se[fe-1]),Q)));break;case 103:this.$=ea(Rn(se[fe].map(Q=>gt(Hr(se[fe-1].entity),Q)),se[fe-1].triples));break;case 105:this.$=sr([se[fe-1]],se[fe]);break;case 106:this.$=sr(se[fe]);break;case 107:this.$=Ht(se[fe-1],se[fe]);break;case 109:case 237:this.$=ft.factory.namedNode(Ki);break;case 110:case 118:this.$=Pr(se[fe-1],se[fe]);break;case 111:this.$=se[fe]?{annotation:se[fe],object:se[fe-1]}:se[fe-1];break;case 113:this.$=se[fe]?ea(Rn(se[fe].map(Q=>gt(Hr(se[fe-1].entity),Q)),se[fe-1].triples)):se[fe-1].triples;break;case 114:this.$=Ht(...se[fe-1],se[fe]);break;case 116:this.$=Ht(...se[fe]);break;case 117:case 159:case 163:this.$=[se[fe-1],se[fe]];break;case 119:this.$=se[fe]?{object:se[fe-1],annotation:se[fe]}:se[fe-1];break;case 120:this.$=se[fe-1].length?Tn("|",Pr(se[fe-1],se[fe])):se[fe];break;case 121:this.$=se[fe-1].length?Tn("/",Pr(se[fe-1],se[fe])):se[fe];break;case 122:this.$=se[fe]?Tn(se[fe],[se[fe-1]]):se[fe-1];break;case 123:this.$=se[fe-1]?Tn(se[fe-1],[se[fe]]):se[fe];break;case 125:case 131:this.$=Tn(se[fe-1],[se[fe]]);break;case 129:this.$=Tn("|",Pr(se[fe-2],se[fe-1]));break;case 132:case 134:this.$=function(Q){var H=ln(),Z=H,ue=[],Ie=[];Q.forEach(function(rt){ue.push(rt.entity),Rn(Ie,rt.triples)});for(var Me=0,Be=0,Qe=ue.length,We=Array(2*Qe);Me<Qe;)We[Be++]=Hr(Z,ft.factory.namedNode(Za),ue[Me]),We[Be++]=Hr(Z,ft.factory.namedNode(Kn),Z=++Me<Qe?ln():ft.factory.namedNode(eo));return{entity:H,triples:Rn(We,Ie)}}(se[fe-1]);break;case 133:case 135:this.$=(ra=se[fe-1],{entity:Yn=ln(),triples:ra.map(function(Q){return gt(Hr(Yn),Q)})});break;case 140:this.$={entity:se[fe],triples:[]};break;case 145:this.$=Xi(se[fe]);break;case 149:this.$=ft.factory.namedNode(eo);break;case 151:case 153:case 158:case 162:this.$=cn(se[fe-1],se[fe]);break;case 152:this.$=["||",se[fe]];break;case 154:this.$=["&&",se[fe]];break;case 156:this.$=kt(se[fe-1],[se[fe-2],se[fe]]);break;case 157:this.$=kt(se[fe-2]?"notin":"in",[se[fe-3],se[fe]]);break;case 160:this.$=["+",cn(se[fe-1],se[fe])];break;case 161:var Ti=St(se[fe-1].value.replace("-",""),se[fe-1].datatype);this.$=["-",cn(Ti,se[fe])];break;case 164:this.$=kt("UPLUS",[se[fe]]);break;case 165:this.$=kt(se[fe-1],[se[fe]]);break;case 166:this.$=kt("UMINUS",[se[fe]]);break;case 177:this.$=kt(Ut(se[fe-1]));break;case 178:this.$=kt(Ut(se[fe-3]),[se[fe-1]]);break;case 179:this.$=Dn(kt(Ut(se[fe-3]),[se[fe-1]]));break;case 180:this.$=kt(Ut(se[fe-5]),[se[fe-3],se[fe-1]]);break;case 181:this.$=kt(Ut(se[fe-7]),[se[fe-5],se[fe-3],se[fe-1]]);break;case 182:this.$=Dn(kt(Ut(se[fe-7]),[se[fe-5],se[fe-3],se[fe-1]]));break;case 183:this.$=kt(Ut(se[fe-1]),se[fe]);break;case 184:this.$=kt("bound",[Xi(se[fe-1])]);break;case 185:this.$=kt(se[fe-1],[]);break;case 186:this.$=kt(se[fe-3],[se[fe-1]]);break;case 187:this.$=kt(se[fe-2]?"notexists":"exists",[Ji(se[fe])]);break;case 188:case 189:this.$=un(se[fe-1],{type:"aggregate",aggregation:Ut(se[fe-4]),distinct:!!se[fe-2]});break;case 190:this.$=un(se[fe-2],{type:"aggregate",aggregation:Ut(se[fe-5]),distinct:!!se[fe-3],separator:typeof se[fe-1]=="string"?se[fe-1]:" "});break;case 192:this.$=St(se[fe]);break;case 193:this.$=(Yt=se[fe-1],Kr=Ut(se[fe].substr(1)),ft.factory.literal(Yt,Kr));break;case 194:this.$=St(se[fe-2],se[fe]);break;case 195:case 204:this.$=St(se[fe],Xn);break;case 196:case 205:this.$=St(se[fe],to);break;case 197:case 206:this.$=St(Ut(se[fe]),br);break;case 200:this.$=St(se[fe].toLowerCase(),ro);break;case 201:this.$=St(se[fe].substr(1),Xn);break;case 202:this.$=St(se[fe].substr(1),to);break;case 203:this.$=St(se[fe].substr(1).toLowerCase(),br);break;case 207:case 208:this.$=oo(se[fe],1);break;case 209:case 210:this.$=oo(se[fe],3);break;case 211:this.$=ft.factory.namedNode(wn(se[fe]));break;case 213:var Oi=se[fe].indexOf(":"),Kt=se[fe].substr(0,Oi),Zn=ft.prefixes[Kt];if(!Zn)throw new Error("Unknown prefix: "+Kt);var x=wn(Zn+se[fe].substr(Oi+1));this.$=ft.factory.namedNode(x);break;case 214:if(se[fe]=se[fe].substr(0,se[fe].length-1),!(se[fe]in ft.prefixes))throw new Error("Unknown prefix: "+se[fe]);x=wn(ft.prefixes[se[fe]]),this.$=ft.factory.namedNode(x);break;case 215:this.$=ln(se[fe].replace(/^(_:)/,""));break;case 216:this.$=ln();break;case 217:case 218:case 232:this.$=Dn(Jn(se[fe-3],se[fe-2],se[fe-1]));break;case 230:case 231:this.$=Dn(se[fe-1]);break;case 248:case 250:case 252:case 254:case 256:case 260:case 264:case 268:case 270:case 292:case 294:case 296:case 298:case 300:case 302:case 304:case 306:case 329:case 342:case 356:case 368:case 370:case 372:case 374:case 392:case 402:case 425:case 427:case 429:case 431:case 441:case 445:case 447:case 449:se[fe-1].push(se[fe]);break;case 259:case 269:case 291:case 293:case 295:case 301:case 305:case 371:case 424:case 426:this.$=[se[fe]];break;case 308:se[fe-3].push(se[fe-2]);break;case 350:case 362:case 376:case 380:case 382:case 386:case 396:case 406:case 410:case 412:case 421:se[fe-2].push(se[fe-1])}},table:[a(o,i,{3:1,4:2,10:3}),{1:[3]},a(t,[2,307],{5:4,7:5,321:6,214:7,8:8,96:9,215:10,17:11,21:12,97:16,38:17,6:[2,238],13:n,16:n,45:n,197:n,224:n,229:n,308:n,24:[1,13],32:[1,14],36:[1,15],41:r}),a([6,13,16,24,32,36,41,45,100,110,113,115,116,123,126,131,197,224,229,308,329,330,331,332,333],[2,3],{322:19,11:20,14:21,12:[1,22],15:[1,23]}),{6:[1,24]},{6:[2,240]},{6:[2,241]},{6:[2,242]},{6:[2,243],9:25,84:26,85:u},{6:[2,239]},a(l,[2,411],{216:28,217:29}),a(d,[2,249],{18:30}),a(d,[2,251],{22:31}),a(p,[2,255],{25:32,27:33,29:[1,34]}),{13:f,16:h,33:35,39:[1,37],44:39,55:40,87:y,139:38,307:43,308:m,323:36},a(d,[2,267],{37:46}),a(b,[2,326],{98:47,103:49,106:50,117:55,130:61,100:[1,48],110:[1,51],113:[1,52],115:[1,53],116:[1,54],131:[1,62],329:[1,56],330:[1,57],331:[1,58],332:[1,59],333:[1,60]}),{39:[1,63],40:64,43:65,44:66,45:v,87:y},a(_,[2,273],{42:68,324:69,325:[1,70],326:[1,71]}),a(o,[2,248]),a(o,[2,245]),a(o,[2,246]),{13:[1,72]},{16:[1,73]},{1:[2,1]},{6:[2,2]},{6:[2,244]},{45:[1,77],85:[1,78],86:74,87:[1,75],89:[1,76]},a([6,13,16,45,48,82,87,89,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312],[2,120],{337:[1,79]}),a(w,[2,418],{218:80,222:81,229:[1,82]}),{19:83,28:O,29:A,52:84,53:T,56:85},{19:88,28:O,29:A,52:89,53:T,56:85},a(d,[2,253],{26:90}),{28:[1,91],52:92,53:T},a(S,[2,385],{181:93,182:94,183:95,31:[2,383]}),a(E,[2,263],{34:96}),a(E,[2,261],{44:39,55:40,307:43,139:97,13:f,16:h,87:y,308:m}),a(E,[2,262]),a(D,[2,259]),a(I,[2,143]),a(I,[2,144]),a([6,13,16,28,29,31,39,45,47,48,53,63,70,73,76,78,81,82,83,85,87,89,112,159,160,161,163,164,193,197,224,229,231,232,242,246,250,263,265,268,269,270,271,272,273,274,276,277,279,280,283,285,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314,317,318,335,338,341,342,343,344,345,346,347,348,349,350,351],[2,145]),a(V,[2,211]),a(V,[2,212]),a(V,[2,213]),a(V,[2,214]),{19:98,28:O,29:A,52:99,53:T,56:85},{6:[2,309],99:100,193:[1,101]},a(K,[2,311],{101:102,328:[1,103]}),a(B,[2,317],{104:104,328:[1,105]}),a($,[2,322],{107:106,328:[1,107]}),{111:108,112:[2,324],328:[1,109]},{29:G,114:110},{29:G,114:112},{29:G,114:113},{118:114,123:[1,115],125:116,126:U},a(W,[2,315]),a(W,[2,316]),a(ye,[2,319]),a(ye,[2,320]),a(ye,[2,321]),a(b,[2,327]),{13:f,16:h,55:118,307:43,308:m},a(d,[2,12]),a(d,[2,13],{44:66,43:119,45:v,87:y}),a(ve,[2,269]),a(ve,[2,15]),{13:f,16:h,44:136,45:he,46:120,55:133,67:132,68:134,77:131,82:q,87:y,172:135,224:L,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:R,264:130,265:k,266:137,267:139,268:X,269:oe,270:ee,271:me,273:de,274:xe,275:146,276:ne,277:be,278:149,279:ie,280:ge,283:Ee,285:M,291:150,294:P,295:C,296:z,297:te,298:re,299:le,300:_e,301:we,302:Se,303:Pe,304:je,305:ae,306:ce,307:43,308:m,312:Le,346:ke,347:qe,348:He,349:Ae,350:Te,351:Ke},a(_,[2,14]),a(_,[2,274]),a(_,[2,271]),a(_,[2,272]),a(o,[2,4]),{13:[1,177]},a(it,[2,39]),{29:[1,178]},{29:[1,179]},{87:[1,181],91:180},{45:[1,187],87:[1,185],89:[1,186],93:182,165:183,166:184},a(l,[2,410]),a([6,13,16,45,48,82,87,89,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,337],[2,121],{338:[1,188]}),{13:f,16:h,45:[1,193],55:194,197:ut,219:189,220:190,223:191,224:[1,192],307:43,308:m},a(w,[2,419]),a(tt,ht,{20:196,59:197,69:198,70:vt}),a(d,[2,250]),{29:at,57:200},a(K,[2,279],{54:202,327:[1,203]}),{29:[2,282]},a(Ne,j,{23:204,58:205,62:206,63:Y}),a(d,[2,252]),{19:208,28:O,29:A,52:209,53:T,56:85},{29:[1,210]},a(p,[2,256]),{31:[1,211]},{31:[2,384]},{13:f,16:h,44:215,45:J,55:220,82:q,87:y,89:pe,145:212,172:221,185:213,187:214,231:Re,236:216,237:222,255:154,257:155,291:150,294:P,295:C,296:z,297:te,298:re,299:le,300:_e,301:we,302:Se,303:Pe,304:je,305:ae,306:ce,307:43,308:m,309:Fe,310:Oe,311:217,312:De},a(Ue,[2,265],{56:85,35:227,52:228,19:229,28:O,29:A,53:T}),a(D,[2,260]),a(Ne,j,{58:205,62:206,23:230,63:Y}),a(d,[2,268]),{6:[2,45]},a(o,i,{10:3,4:231}),{13:f,16:h,55:232,307:43,308:m},a(K,[2,312]),{105:233,112:$e,122:234,132:[1,237],134:235,327:[1,238],334:[1,239]},a(B,[2,318]),a(K,Ge,{108:240,133:242,112:Je,132:Ve}),a($,[2,323]),{112:[1,244]},{112:[2,325]},a(Ze,[2,50]),a(S,st,{135:245,136:246,143:247,144:248,31:ot,112:ot}),a(Ze,[2,51]),a(Ze,[2,52]),a(Ye,[2,328],{119:249}),{29:G,114:250},a(Ye,[2,56]),{29:G,114:251},a(b,[2,59]),a(ve,[2,270]),{47:[1,252]},a(Lt,[2,150]),a(dt,[2,428],{240:253}),a(pt,[2,430],{244:254}),a(pt,[2,155],{248:255,249:256,250:[2,438],290:[1,257],341:[1,258],342:[1,259],343:[1,260],344:[1,261],345:[1,262],346:[1,263]}),a(Ot,[2,440],{252:264}),a(yt,[2,448],{260:265}),{13:f,16:h,44:136,45:he,55:133,67:132,68:134,77:131,82:q,87:y,172:135,255:154,257:155,264:266,266:137,267:139,268:X,269:oe,270:ee,271:me,273:de,274:xe,275:146,276:ne,277:be,278:149,279:ie,280:ge,283:Ee,285:M,291:150,294:P,295:C,296:z,297:te,298:re,299:le,300:_e,301:we,302:Se,303:Pe,304:je,305:ae,306:ce,307:43,308:m,312:Le,346:ke,347:qe,348:He,349:Ae,350:Te,351:Ke},{13:f,16:h,44:136,45:he,55:133,67:132,68:134,77:131,82:q,87:y,172:135,255:154,257:155,264:267,266:137,267:139,268:X,269:oe,270:ee,271:me,273:de,274:xe,275:146,276:ne,277:be,278:149,279:ie,280:ge,283:Ee,285:M,291:150,294:P,295:C,296:z,297:te,298:re,299:le,300:_e,301:we,302:Se,303:Pe,304:je,305:ae,306:ce,307:43,308:m,312:Le,346:ke,347:qe,348:He,349:Ae,350:Te,351:Ke},{13:f,16:h,44:136,45:he,55:133,67:132,68:134,77:131,82:q,87:y,172:135,255:154,257:155,264:268,266:137,267:139,268:X,269:oe,270:ee,271:me,273:de,274:xe,275:146,276:ne,277:be,278:149,279:ie,280:ge,283:Ee,285:M,291:150,294:P,295:C,296:z,297:te,298:re,299:le,300:_e,301:we,302:Se,303:Pe,304:je,305:ae,306:ce,307:43,308:m,312:Le,346:ke,347:qe,348:He,349:Ae,350:Te,351:Ke},a(yt,[2,167]),a(yt,[2,168]),a(yt,[2,169]),a(yt,[2,170],{176:269,45:hr,89:Tt}),a(yt,[2,171]),a(yt,[2,172]),a(yt,[2,173]),a(yt,[2,174]),{13:f,16:h,44:136,45:he,46:272,55:133,67:132,68:134,77:131,82:q,87:y,172:135,224:L,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:R,264:130,265:k,266:137,267:139,268:X,269:oe,270:ee,271:me,273:de,274:xe,275:146,276:ne,277:be,278:149,279:ie,280:ge,283:Ee,285:M,291:150,294:P,295:C,296:z,297:te,298:re,299:le,300:_e,301:we,302:Se,303:Pe,304:je,305:ae,306:ce,307:43,308:m,312:Le,346:ke,347:qe,348:He,349:Ae,350:Te,351:Ke},a(At,[2,176]),{89:[1,273]},{45:[1,274]},{45:[1,275]},{45:[1,276]},{45:[1,277]},{45:[1,278]},{45:Br,89:Gt,179:279},{45:[1,282]},{45:[1,284],89:[1,283]},{279:[1,285]},a(It,[2,192],{292:[1,286],293:[1,287]}),a(It,[2,195]),a(It,[2,196]),a(It,[2,197]),a(It,[2,198]),a(It,[2,199]),a(It,[2,200]),{13:f,16:h,44:39,55:40,82:q,87:y,139:289,172:291,255:154,257:155,266:290,291:150,294:P,295:C,296:z,297:te,298:re,299:le,300:_e,301:we,302:Se,303:Pe,304:je,305:ae,306:ce,307:43,308:m,312:Le,320:288},{45:[1,292]},{45:[1,293]},{45:[1,294]},a(or,[2,452]),a(or,[2,453]),a(or,[2,454]),a(or,[2,455]),a(or,[2,456]),{279:[2,458]},a(Jt,[2,207]),a(Jt,[2,208]),a(Jt,[2,209]),a(Jt,[2,210]),a(It,[2,201]),a(It,[2,202]),a(It,[2,203]),a(It,[2,204]),a(It,[2,205]),a(It,[2,206]),a(o,[2,5]),a(qr,[2,297],{88:295}),a(yr,[2,299],{90:296}),{48:[1,297],87:[1,298]},a(fn,[2,301]),a(it,[2,43]),a(it,[2,82]),a(it,[2,83]),{29:[1,299]},{29:[1,300]},{87:[1,302],169:301},a(l,[2,412]),a(Wt,[2,123]),a(Wt,[2,416],{221:303,339:304,39:[1,306],263:[1,307],340:[1,305]}),a(qt,[2,124]),{13:f,16:h,45:[1,311],55:194,89:[1,310],197:ut,223:312,225:308,226:309,229:tn,307:43,308:m},a(l,n,{215:10,214:314}),a(qt,[2,236]),a(qt,[2,237]),a(hn,[2,6]),a(yi,[2,287],{60:315,72:316,73:[1,317]}),a(tt,[2,286]),{13:f,16:h,45:he,55:323,67:321,68:322,71:318,77:320,79:319,267:139,268:X,269:oe,270:ee,271:me,273:de,274:xe,275:146,276:ne,277:be,278:149,279:ie,280:ge,283:Ee,285:M,307:43,308:m,346:ke,347:qe,348:He,349:Ae,350:Te,351:Ke},a([6,31,63,70,73,81,83,85],[2,20]),a(S,Qi,{38:17,49:324,147:325,17:326,21:327,148:328,154:329,155:330,29:Sr,31:Sr,85:Sr,112:Sr,159:Sr,160:Sr,161:Sr,163:Sr,164:Sr,41:r}),{13:f,16:h,55:331,307:43,308:m},a(K,[2,280]),a(hn,[2,7]),a(tt,ht,{59:197,69:198,20:332,70:vt}),a(Ne,[2,284]),{64:[1,333]},a(Ne,j,{58:205,62:206,23:334,63:Y}),a(d,[2,254]),a(S,st,{144:248,30:335,143:336,31:[2,257]}),a(d,[2,100]),{31:[2,387],184:337,335:[1,338]},{13:f,16:h,44:39,55:40,87:y,139:342,186:339,190:340,195:341,197:Ur,307:43,308:m},a(xn,[2,389],{44:39,55:40,307:43,190:340,195:341,139:342,188:344,189:345,186:346,13:f,16:h,87:y,197:Ur,308:m}),a(Er,[2,227]),a(Er,[2,228]),a(Er,[2,229]),{13:f,16:h,44:215,45:J,55:220,82:q,87:y,89:pe,172:221,185:351,187:350,200:348,230:347,231:Re,234:349,236:216,237:222,255:154,257:155,291:150,294:P,295:C,296:z,297:te,298:re,299:le,300:_e,301:we,302:Se,303:Pe,304:je,305:ae,306:ce,307:43,308:m,309:Fe,310:Oe,311:217,312:De},{13:f,16:h,44:39,55:40,87:y,139:342,186:352,190:340,195:341,197:Ur,307:43,308:m},a(Er,[2,146]),a(Er,[2,147]),a(Er,[2,148]),a(Er,[2,149]),{13:f,16:h,44:354,55:355,82:q,87:y,172:357,237:356,255:154,257:155,291:150,294:P,295:C,296:z,297:te,298:re,299:le,300:_e,301:we,302:Se,303:Pe,304:je,305:ae,306:ce,307:43,308:m,309:Fe,310:Oe,311:358,312:De,313:353},a(Vi,[2,215]),a(Vi,[2,216]),a(Ne,j,{58:205,62:206,23:359,63:Y}),a(E,[2,264]),a(Ue,[2,266]),a(hn,[2,11]),a(t,[2,308],{6:[2,310]}),a(Ze,[2,313],{102:360,120:361,121:[1,362]}),a(Ze,[2,47]),a(Ze,[2,63]),a(Ze,[2,64]),{13:f,16:h,55:363,307:43,308:m},a(Ze,[2,336]),a(Ze,[2,337]),a(Ze,[2,338]),{109:[1,364]},a(Ha,[2,60]),{13:f,16:h,55:365,307:43,308:m},a(K,[2,335]),{13:f,16:h,55:366,307:43,308:m},{31:[1,367]},a(yn,[2,341],{137:368}),a(yn,[2,340]),{13:f,16:h,44:215,45:J,55:220,82:q,87:y,89:pe,145:369,172:221,185:213,187:214,231:Re,236:216,237:222,255:154,257:155,291:150,294:P,295:C,296:z,297:te,298:re,299:le,300:_e,301:we,302:Se,303:Pe,304:je,305:ae,306:ce,307:43,308:m,309:Fe,310:Oe,311:217,312:De},{28:[1,370],127:371,128:[1,372]},a(Ye,[2,330],{124:373,125:374,126:U}),a(Ye,[2,57]),{44:375,87:y},a(Lt,[2,151],{241:376,242:[1,377]}),a(dt,[2,153],{245:378,246:[1,379]}),{13:f,16:h,44:136,45:he,55:133,67:132,68:134,77:131,82:q,87:y,172:135,224:L,247:380,251:125,255:154,257:155,259:126,263:R,264:130,265:k,266:137,267:139,268:X,269:oe,270:ee,271:me,273:de,274:xe,275:146,276:ne,277:be,278:149,279:ie,280:ge,283:Ee,285:M,291:150,294:P,295:C,296:z,297:te,298:re,299:le,300:_e,301:we,302:Se,303:Pe,304:je,305:ae,306:ce,307:43,308:m,312:Le,346:ke,347:qe,348:He,349:Ae,350:Te,351:Ke},{250:[1,381]},a(Ct,[2,432]),a(Ct,[2,433]),a(Ct,[2,434]),a(Ct,[2,435]),a(Ct,[2,436]),a(Ct,[2,437]),{250:[2,439]},a([47,48,193,242,246,250,272,290,341,342,343,344,345,346],[2,158],{253:382,254:383,255:384,257:385,263:[1,386],265:[1,387],297:te,298:re,299:le,300:_e,301:we,302:Se}),a(Ot,[2,162],{261:388,262:389,39:$i,338:Gi}),a(yt,[2,164]),a(yt,[2,165]),a(yt,[2,166]),a(At,[2,95]),a(At,[2,96]),a(Ct,[2,377],{177:392,325:[1,393]}),{48:[1,394]},a(At,[2,177]),{13:f,16:h,44:136,45:he,46:395,55:133,67:132,68:134,77:131,82:q,87:y,172:135,224:L,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:R,264:130,265:k,266:137,267:139,268:X,269:oe,270:ee,271:me,273:de,274:xe,275:146,276:ne,277:be,278:149,279:ie,280:ge,283:Ee,285:M,291:150,294:P,295:C,296:z,297:te,298:re,299:le,300:_e,301:we,302:Se,303:Pe,304:je,305:ae,306:ce,307:43,308:m,312:Le,346:ke,347:qe,348:He,349:Ae,350:Te,351:Ke},{13:f,16:h,44:136,45:he,46:396,55:133,67:132,68:134,77:131,82:q,87:y,172:135,224:L,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:R,264:130,265:k,266:137,267:139,268:X,269:oe,270:ee,271:me,273:de,274:xe,275:146,276:ne,277:be,278:149,279:ie,280:ge,283:Ee,285:M,291:150,294:P,295:C,296:z,297:te,298:re,299:le,300:_e,301:we,302:Se,303:Pe,304:je,305:ae,306:ce,307:43,308:m,312:Le,346:ke,347:qe,348:He,349:Ae,350:Te,351:Ke},{13:f,16:h,44:136,45:he,46:397,55:133,67:132,68:134,77:131,82:q,87:y,172:135,224:L,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:R,264:130,265:k,266:137,267:139,268:X,269:oe,270:ee,271:me,273:de,274:xe,275:146,276:ne,277:be,278:149,279:ie,280:ge,283:Ee,285:M,291:150,294:P,295:C,296:z,297:te,298:re,299:le,300:_e,301:we,302:Se,303:Pe,304:je,305:ae,306:ce,307:43,308:m,312:Le,346:ke,347:qe,348:He,349:Ae,350:Te,351:Ke},{13:f,16:h,44:136,45:he,46:398,55:133,67:132,68:134,77:131,82:q,87:y,172:135,224:L,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:R,264:130,265:k,266:137,267:139,268:X,269:oe,270:ee,271:me,273:de,274:xe,275:146,276:ne,277:be,278:149,279:ie,280:ge,283:Ee,285:M,291:150,294:P,295:C,296:z,297:te,298:re,299:le,300:_e,301:we,302:Se,303:Pe,304:je,305:ae,306:ce,307:43,308:m,312:Le,346:ke,347:qe,348:He,349:Ae,350:Te,351:Ke},{13:f,16:h,44:136,45:he,46:399,55:133,67:132,68:134,77:131,82:q,87:y,172:135,224:L,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:R,264:130,265:k,266:137,267:139,268:X,269:oe,270:ee,271:me,273:de,274:xe,275:146,276:ne,277:be,278:149,279:ie,280:ge,283:Ee,285:M,291:150,294:P,295:C,296:z,297:te,298:re,299:le,300:_e,301:we,302:Se,303:Pe,304:je,305:ae,306:ce,307:43,308:m,312:Le,346:ke,347:qe,348:He,349:Ae,350:Te,351:Ke},a(At,[2,183]),a(At,[2,98]),a(Ct,[2,381],{180:400}),{87:[1,401]},a(At,[2,185]),{13:f,16:h,44:136,45:he,46:402,55:133,67:132,68:134,77:131,82:q,87:y,172:135,224:L,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:R,264:130,265:k,266:137,267:139,268:X,269:oe,270:ee,271:me,273:de,274:xe,275:146,276:ne,277:be,278:149,279:ie,280:ge,283:Ee,285:M,291:150,294:P,295:C,296:z,297:te,298:re,299:le,300:_e,301:we,302:Se,303:Pe,304:je,305:ae,306:ce,307:43,308:m,312:Le,346:ke,347:qe,348:He,349:Ae,350:Te,351:Ke},{29:at,57:403},a(It,[2,193]),{13:f,16:h,55:404,307:43,308:m},{13:f,16:h,44:39,55:40,87:y,139:342,195:405,197:Ur,307:43,308:m},a(rn,[2,233]),a(rn,[2,234]),a(rn,[2,235]),a(Gn,[2,459],{281:406,325:[1,407]}),a(Ct,[2,463],{284:408,325:[1,409]}),a(Ct,[2,465],{286:410,325:[1,411]}),{13:f,16:h,31:[1,412],55:414,82:q,171:413,172:415,173:416,174:gn,255:154,257:155,291:150,294:P,295:C,296:z,297:te,298:re,299:le,300:_e,301:we,302:Se,303:Pe,304:je,305:ae,306:ce,307:43,308:m,312:gi},{31:[1,419],89:[1,420]},{29:[1,421]},a(fn,[2,302]),a(qr,[2,367],{167:422}),a(yr,[2,369],{168:423}),{48:[1,424],87:[1,425]},a(fn,[2,371]),a(Wt,[2,122]),a(Wt,[2,417]),a(Wt,[2,413]),a(Wt,[2,414]),a(Wt,[2,415]),a(qt,[2,125]),a(qt,[2,127]),a(qt,[2,128]),a(za,[2,420],{227:426}),a(qt,[2,130]),{13:f,16:h,55:194,197:ut,223:427,307:43,308:m},{48:[1,428]},a(Qr,[2,289],{61:429,80:430,81:[1,431],83:[1,432]}),a(yi,[2,288]),{64:[1,433]},a(tt,[2,29],{307:43,267:139,275:146,278:149,77:320,67:321,68:322,55:323,79:434,13:f,16:h,45:he,268:X,269:oe,270:ee,271:me,273:de,274:xe,276:ne,277:be,279:ie,280:ge,283:Ee,285:M,308:m,346:ke,347:qe,348:He,349:Ae,350:Te,351:Ke}),a(Hi,[2,293]),a(An,[2,92]),a(An,[2,93]),a(An,[2,94]),{45:hr,89:Tt,176:269},{31:[1,435]},{31:[1,436]},{19:437,28:O,29:A,56:85},{19:438,28:O,29:A,56:85},a(xr,[2,355],{149:439}),a(xr,[2,354]),{13:f,16:h,44:215,45:mn,55:220,82:q,87:y,89:pe,156:440,172:221,185:441,203:442,231:Hn,236:216,237:222,255:154,257:155,291:150,294:P,295:C,296:z,297:te,298:re,299:le,300:_e,301:we,302:Se,303:Pe,304:je,305:ae,306:ce,307:43,308:m,309:Fe,310:Oe,311:217,312:De},a(E,[2,19]),a(Qr,[2,21]),{13:f,16:h,44:450,45:nn,55:323,65:445,66:446,67:447,68:448,87:y,267:139,268:X,269:oe,270:ee,271:me,273:de,274:xe,275:146,276:ne,277:be,278:149,279:ie,280:ge,283:Ee,285:M,307:43,308:m,346:ke,347:qe,348:He,349:Ae,350:Te,351:Ke},a(hn,[2,8]),{31:[1,451]},{31:[2,258]},{31:[2,101]},a(S,[2,386],{31:[2,388]}),a(xn,[2,102]),a(_t,[2,391],{191:452}),a(S,[2,395],{196:453,198:454}),a(S,[2,108]),a(S,[2,109]),a(xn,[2,103]),a(xn,[2,104]),a(xn,[2,390]),{13:f,16:h,44:215,45:J,48:[1,455],55:220,82:q,87:y,89:pe,172:221,185:351,187:350,200:456,231:Re,234:349,236:216,237:222,255:154,257:155,291:150,294:P,295:C,296:z,297:te,298:re,299:le,300:_e,301:we,302:Se,303:Pe,304:je,305:ae,306:ce,307:43,308:m,309:Fe,310:Oe,311:217,312:De},a(bn,[2,424]),a(In,[2,136]),a(In,[2,137]),a(Pn,[2,140]),{232:[1,457]},{13:f,16:h,44:39,55:40,87:y,139:342,195:458,197:Ur,307:43,308:m},a(rn,[2,219]),a(rn,[2,220]),a(rn,[2,221]),a(rn,[2,222]),a(rn,[2,223]),a(hn,[2,10]),a(Ze,[2,46]),a(Ze,[2,314]),{112:$e,122:459},a(Ze,[2,62]),a(K,Ge,{133:242,108:460,112:Je,132:Ve}),a(Ha,[2,61]),a(Ze,[2,49]),a([6,28,126,128,193],[2,65]),{31:[2,66],112:[1,462],138:461},a(yn,[2,351],{146:463,335:[1,464]}),{29:at,57:465},a(Ye,[2,329]),a(K,[2,332],{129:466,327:[1,467]}),a(Ye,[2,55]),a(Ye,[2,331]),{48:[1,468]},a(dt,[2,429]),{13:f,16:h,44:136,45:he,55:133,67:132,68:134,77:131,82:q,87:y,172:135,224:L,239:469,243:123,247:124,251:125,255:154,257:155,259:126,263:R,264:130,265:k,266:137,267:139,268:X,269:oe,270:ee,271:me,273:de,274:xe,275:146,276:ne,277:be,278:149,279:ie,280:ge,283:Ee,285:M,291:150,294:P,295:C,296:z,297:te,298:re,299:le,300:_e,301:we,302:Se,303:Pe,304:je,305:ae,306:ce,307:43,308:m,312:Le,346:ke,347:qe,348:He,349:Ae,350:Te,351:Ke},a(pt,[2,431]),{13:f,16:h,44:136,45:he,55:133,67:132,68:134,77:131,82:q,87:y,172:135,224:L,243:470,247:124,251:125,255:154,257:155,259:126,263:R,264:130,265:k,266:137,267:139,268:X,269:oe,270:ee,271:me,273:de,274:xe,275:146,276:ne,277:be,278:149,279:ie,280:ge,283:Ee,285:M,291:150,294:P,295:C,296:z,297:te,298:re,299:le,300:_e,301:we,302:Se,303:Pe,304:je,305:ae,306:ce,307:43,308:m,312:Le,346:ke,347:qe,348:He,349:Ae,350:Te,351:Ke},a(pt,[2,156]),{45:Br,89:Gt,179:471},a(Ot,[2,441]),{13:f,16:h,44:136,45:he,55:133,67:132,68:134,77:131,82:q,87:y,172:135,224:L,251:472,255:154,257:155,259:126,263:R,264:130,265:k,266:137,267:139,268:X,269:oe,270:ee,271:me,273:de,274:xe,275:146,276:ne,277:be,278:149,279:ie,280:ge,283:Ee,285:M,291:150,294:P,295:C,296:z,297:te,298:re,299:le,300:_e,301:we,302:Se,303:Pe,304:je,305:ae,306:ce,307:43,308:m,312:Le,346:ke,347:qe,348:He,349:Ae,350:Te,351:Ke},a(yt,[2,444],{256:473}),a(yt,[2,446],{258:474}),a(Ct,[2,442]),a(Ct,[2,443]),a(yt,[2,449]),{13:f,16:h,44:136,45:he,55:133,67:132,68:134,77:131,82:q,87:y,172:135,224:L,255:154,257:155,259:475,263:R,264:130,265:k,266:137,267:139,268:X,269:oe,270:ee,271:me,273:de,274:xe,275:146,276:ne,277:be,278:149,279:ie,280:ge,283:Ee,285:M,291:150,294:P,295:C,296:z,297:te,298:re,299:le,300:_e,301:we,302:Se,303:Pe,304:je,305:ae,306:ce,307:43,308:m,312:Le,346:ke,347:qe,348:He,349:Ae,350:Te,351:Ke},a(Ct,[2,450]),a(Ct,[2,451]),a(Ct,[2,379],{178:476}),a(Ct,[2,378]),a([6,13,16,29,31,39,45,47,48,73,76,78,81,82,83,85,87,89,112,159,160,161,163,164,193,231,242,246,250,263,265,268,269,270,271,272,273,274,276,277,279,280,283,285,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335,338,341,342,343,344,345,346,347,348,349,350,351],[2,175]),{48:[1,477]},{48:[1,478]},{272:[1,479]},{272:[1,480]},{272:[1,481]},{13:f,16:h,44:136,45:he,46:482,55:133,67:132,68:134,77:131,82:q,87:y,172:135,224:L,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:R,264:130,265:k,266:137,267:139,268:X,269:oe,270:ee,271:me,273:de,274:xe,275:146,276:ne,277:be,278:149,279:ie,280:ge,283:Ee,285:M,291:150,294:P,295:C,296:z,297:te,298:re,299:le,300:_e,301:we,302:Se,303:Pe,304:je,305:ae,306:ce,307:43,308:m,312:Le,346:ke,347:qe,348:He,349:Ae,350:Te,351:Ke},{48:[1,483]},{48:[1,484]},a(At,[2,187]),a(It,[2,194]),{13:f,16:h,44:39,55:40,82:q,87:y,139:289,172:291,255:154,257:155,266:290,291:150,294:P,295:C,296:z,297:te,298:re,299:le,300:_e,301:we,302:Se,303:Pe,304:je,305:ae,306:ce,307:43,308:m,312:Le,320:485},{13:f,16:h,39:[1,487],44:136,45:he,46:488,55:133,67:132,68:134,77:131,82:q,87:y,172:135,224:L,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:R,264:130,265:k,266:137,267:139,268:X,269:oe,270:ee,271:me,273:de,274:xe,275:146,276:ne,277:be,278:149,279:ie,280:ge,282:486,283:Ee,285:M,291:150,294:P,295:C,296:z,297:te,298:re,299:le,300:_e,301:we,302:Se,303:Pe,304:je,305:ae,306:ce,307:43,308:m,312:Le,346:ke,347:qe,348:He,349:Ae,350:Te,351:Ke},a(Gn,[2,460]),{13:f,16:h,44:136,45:he,46:489,55:133,67:132,68:134,77:131,82:q,87:y,172:135,224:L,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:R,264:130,265:k,266:137,267:139,268:X,269:oe,270:ee,271:me,273:de,274:xe,275:146,276:ne,277:be,278:149,279:ie,280:ge,283:Ee,285:M,291:150,294:P,295:C,296:z,297:te,298:re,299:le,300:_e,301:we,302:Se,303:Pe,304:je,305:ae,306:ce,307:43,308:m,312:Le,346:ke,347:qe,348:He,349:Ae,350:Te,351:Ke},a(Ct,[2,464]),{13:f,16:h,44:136,45:he,46:490,55:133,67:132,68:134,77:131,82:q,87:y,172:135,224:L,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:R,264:130,265:k,266:137,267:139,268:X,269:oe,270:ee,271:me,273:de,274:xe,275:146,276:ne,277:be,278:149,279:ie,280:ge,283:Ee,285:M,291:150,294:P,295:C,296:z,297:te,298:re,299:le,300:_e,301:we,302:Se,303:Pe,304:je,305:ae,306:ce,307:43,308:m,312:Le,346:ke,347:qe,348:He,349:Ae,350:Te,351:Ke},a(Ct,[2,466]),a(it,[2,40]),a(qr,[2,298]),a(Vr,[2,87]),a(Vr,[2,88]),a(Vr,[2,89]),a(Vr,[2,90]),{13:f,16:h,55:492,82:q,172:493,255:154,257:155,291:150,294:P,295:C,296:z,297:te,298:re,299:le,300:_e,301:we,302:Se,303:Pe,304:je,305:ae,306:ce,307:43,308:m,311:494,312:De,315:491},a(it,[2,41]),a(yr,[2,300]),a(pr,[2,303],{92:495}),{13:f,16:h,31:[1,496],55:414,82:q,171:497,172:415,173:416,174:gn,255:154,257:155,291:150,294:P,295:C,296:z,297:te,298:re,299:le,300:_e,301:we,302:Se,303:Pe,304:je,305:ae,306:ce,307:43,308:m,312:gi},{31:[1,498],89:[1,499]},{29:[1,500]},a(fn,[2,372]),{13:f,16:h,48:[2,422],55:194,197:ut,223:312,226:502,228:501,229:tn,307:43,308:m},a(qt,[2,131]),a(qt,[2,126]),a(Qr,[2,22]),a(Qr,[2,290]),{82:[1,503]},{82:[1,504]},{13:f,16:h,44:510,45:he,55:323,67:321,68:322,74:505,75:506,76:Ka,77:320,78:Do,79:509,87:y,267:139,268:X,269:oe,270:ee,271:me,273:de,274:xe,275:146,276:ne,277:be,278:149,279:ie,280:ge,283:Ee,285:M,307:43,308:m,346:ke,347:qe,348:He,349:Ae,350:Te,351:Ke},a(Hi,[2,294]),a(zi,[2,69]),a(zi,[2,70]),a(tt,ht,{59:197,69:198,20:511,70:vt}),a(Ne,j,{58:205,62:206,23:512,63:Y}),{29:[2,375],31:[2,71],84:522,85:u,112:[1,518],150:513,151:514,158:515,159:[1,516],160:[1,517],161:[1,519],163:[1,520],164:[1,521],175:523},a(xr,[2,363],{157:524,335:[1,525]}),a(l,n,{215:10,202:526,205:527,208:528,214:529,44:530,87:y}),a(mi,[2,399],{215:10,205:527,208:528,214:529,44:530,204:531,202:532,13:n,16:n,45:n,197:n,224:n,229:n,308:n,87:y}),{13:f,16:h,44:215,45:mn,55:220,82:q,87:y,89:pe,172:221,185:351,203:536,212:534,231:Hn,233:533,234:535,236:216,237:222,255:154,257:155,291:150,294:P,295:C,296:z,297:te,298:re,299:le,300:_e,301:we,302:Se,303:Pe,304:je,305:ae,306:ce,307:43,308:m,309:Fe,310:Oe,311:217,312:De},a(l,n,{215:10,205:527,208:528,214:529,44:530,202:537,87:y}),a(Ne,[2,23],{307:43,267:139,275:146,278:149,55:323,67:447,68:448,44:450,66:538,13:f,16:h,45:nn,87:y,268:X,269:oe,270:ee,271:me,273:de,274:xe,276:ne,277:be,279:ie,280:ge,283:Ee,285:M,308:m,346:ke,347:qe,348:He,349:Ae,350:Te,351:Ke}),a(an,[2,291]),a(an,[2,24]),a(an,[2,25]),{13:f,16:h,44:136,45:he,46:539,55:133,67:132,68:134,77:131,82:q,87:y,172:135,224:L,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:R,264:130,265:k,266:137,267:139,268:X,269:oe,270:ee,271:me,273:de,274:xe,275:146,276:ne,277:be,278:149,279:ie,280:ge,283:Ee,285:M,291:150,294:P,295:C,296:z,297:te,298:re,299:le,300:_e,301:we,302:Se,303:Pe,304:je,305:ae,306:ce,307:43,308:m,312:Le,346:ke,347:qe,348:He,349:Ae,350:Te,351:Ke},a(an,[2,28]),a(Ne,j,{58:205,62:206,23:540,63:Y}),a([31,112,232,318,335],[2,105],{192:541,193:[1,542]}),a(_t,[2,107]),{13:f,16:h,44:215,45:J,55:220,82:q,87:y,89:pe,172:221,185:351,187:350,199:543,200:544,231:Re,234:349,236:216,237:222,255:154,257:155,291:150,294:P,295:C,296:z,297:te,298:re,299:le,300:_e,301:we,302:Se,303:Pe,304:je,305:ae,306:ce,307:43,308:m,309:Fe,310:Oe,311:217,312:De},a(gr,[2,132]),a(bn,[2,425]),a(gr,[2,133]),{13:f,16:h,44:354,55:355,82:q,87:y,172:357,237:356,255:154,257:155,291:150,294:P,295:C,296:z,297:te,298:re,299:le,300:_e,301:we,302:Se,303:Pe,304:je,305:ae,306:ce,307:43,308:m,309:Fe,310:Oe,311:358,312:De,313:545},a(Ze,[2,54]),a(Ze,[2,48]),a(yn,[2,342]),{13:f,16:h,44:39,55:40,87:y,139:546,307:43,308:m},a(yn,[2,68]),a(S,[2,350],{31:Xa,112:Xa}),a(Ze,[2,53]),{13:f,16:h,55:547,307:43,308:m},a(K,[2,333]),a(ve,[2,16]),a(dt,[2,152]),a(pt,[2,154]),a(pt,[2,157]),a(Ot,[2,159]),a(Ot,[2,160],{262:389,261:548,39:$i,338:Gi}),a(Ot,[2,161],{262:389,261:549,39:$i,338:Gi}),a(yt,[2,163]),{13:f,16:h,44:136,45:he,46:550,55:133,67:132,68:134,77:131,82:q,87:y,172:135,224:L,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:R,264:130,265:k,266:137,267:139,268:X,269:oe,270:ee,271:me,273:de,274:xe,275:146,276:ne,277:be,278:149,279:ie,280:ge,283:Ee,285:M,291:150,294:P,295:C,296:z,297:te,298:re,299:le,300:_e,301:we,302:Se,303:Pe,304:je,305:ae,306:ce,307:43,308:m,312:Le,346:ke,347:qe,348:He,349:Ae,350:Te,351:Ke},a(At,[2,178]),a(At,[2,179]),{13:f,16:h,44:136,45:he,46:551,55:133,67:132,68:134,77:131,82:q,87:y,172:135,224:L,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:R,264:130,265:k,266:137,267:139,268:X,269:oe,270:ee,271:me,273:de,274:xe,275:146,276:ne,277:be,278:149,279:ie,280:ge,283:Ee,285:M,291:150,294:P,295:C,296:z,297:te,298:re,299:le,300:_e,301:we,302:Se,303:Pe,304:je,305:ae,306:ce,307:43,308:m,312:Le,346:ke,347:qe,348:He,349:Ae,350:Te,351:Ke},{13:f,16:h,44:136,45:he,46:552,55:133,67:132,68:134,77:131,82:q,87:y,172:135,224:L,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:R,264:130,265:k,266:137,267:139,268:X,269:oe,270:ee,271:me,273:de,274:xe,275:146,276:ne,277:be,278:149,279:ie,280:ge,283:Ee,285:M,291:150,294:P,295:C,296:z,297:te,298:re,299:le,300:_e,301:we,302:Se,303:Pe,304:je,305:ae,306:ce,307:43,308:m,312:Le,346:ke,347:qe,348:He,349:Ae,350:Te,351:Ke},{13:f,16:h,44:136,45:he,46:553,55:133,67:132,68:134,77:131,82:q,87:y,172:135,224:L,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:R,264:130,265:k,266:137,267:139,268:X,269:oe,270:ee,271:me,273:de,274:xe,275:146,276:ne,277:be,278:149,279:ie,280:ge,283:Ee,285:M,291:150,294:P,295:C,296:z,297:te,298:re,299:le,300:_e,301:we,302:Se,303:Pe,304:je,305:ae,306:ce,307:43,308:m,312:Le,346:ke,347:qe,348:He,349:Ae,350:Te,351:Ke},{48:[1,554],272:[1,555]},a(At,[2,184]),a(At,[2,186]),{314:[1,556]},{48:[1,557]},{48:[2,461]},{48:[2,462]},{48:[1,558]},{48:[2,467],193:[1,561],287:559,288:560},{13:f,16:h,55:194,197:ut,223:562,307:43,308:m},a(bi,[2,224]),a(bi,[2,225]),a(bi,[2,226]),{31:[1,563],45:Ja,94:564},a(it,[2,84]),a(qr,[2,368]),a(it,[2,85]),a(yr,[2,370]),a(pr,[2,373],{170:566}),{48:[1,567]},{48:[2,423],337:[1,568]},a(Qr,[2,35],{83:[1,569]}),a(Qr,[2,36],{81:[1,570]}),a(yi,[2,30],{307:43,267:139,275:146,278:149,77:320,67:321,68:322,55:323,79:509,44:510,75:571,13:f,16:h,45:he,76:Ka,78:Do,87:y,268:X,269:oe,270:ee,271:me,273:de,274:xe,276:ne,277:be,279:ie,280:ge,283:Ee,285:M,308:m,346:ke,347:qe,348:He,349:Ae,350:Te,351:Ke}),a(vn,[2,295]),{45:he,77:572},{45:he,77:573},a(vn,[2,33]),a(vn,[2,34]),{31:[2,275],50:574,84:575,85:u},{31:[2,277],51:576,84:577,85:u},a(xr,[2,356]),a(Wa,[2,357],{152:578,335:[1,579]}),a($r,[2,74]),{29:at,57:580},{29:at,57:581},{13:f,16:h,44:39,55:40,87:y,139:582,307:43,308:m},a(Fo,[2,365],{162:583,328:[1,584]}),{13:f,16:h,45:he,55:323,67:321,68:322,77:320,79:585,267:139,268:X,269:oe,270:ee,271:me,273:de,274:xe,275:146,276:ne,277:be,278:149,279:ie,280:ge,283:Ee,285:M,307:43,308:m,346:ke,347:qe,348:He,349:Ae,350:Te,351:Ke},{45:[1,586]},a($r,[2,81]),{29:at,57:587},a(xr,[2,73]),a(S,[2,362],{29:on,31:on,85:on,112:on,159:on,160:on,161:on,163:on,164:on}),a(mi,[2,112]),a(zn,[2,401],{206:588}),a(S,[2,405],{209:589,210:590}),a(S,[2,403]),a(S,[2,404]),a(mi,[2,113]),a(mi,[2,400]),{13:f,16:h,44:215,45:mn,48:[1,591],55:220,82:q,87:y,89:pe,172:221,185:351,203:536,212:592,231:Hn,234:535,236:216,237:222,255:154,257:155,291:150,294:P,295:C,296:z,297:te,298:re,299:le,300:_e,301:we,302:Se,303:Pe,304:je,305:ae,306:ce,307:43,308:m,309:Fe,310:Oe,311:217,312:De},a(bn,[2,426]),a(Pn,[2,138]),a(Pn,[2,139]),{232:[1,593]},a(an,[2,292]),{47:[1,595],48:[1,594]},a(hn,[2,9]),a(_t,[2,392]),a(_t,[2,393],{44:39,55:40,307:43,195:341,139:342,194:596,190:597,13:f,16:h,87:y,197:Ur,308:m}),a(_t,[2,110],{272:[1,598]}),a(vi,[2,397],{201:599,316:600,317:[1,601]}),{314:[1,602]},{29:[1,603]},a(Ye,[2,58]),a(yt,[2,445]),a(yt,[2,447]),{48:[1,604],272:[1,605]},{48:[1,606]},{272:[1,607]},{272:[1,608]},a(At,[2,99]),a(Ct,[2,382]),a([13,16,39,47,48,87,193,197,242,246,250,263,265,272,290,297,298,299,300,301,302,308,314,338,341,342,343,344,345,346],[2,232]),a(At,[2,188]),a(At,[2,189]),{48:[1,609]},{48:[2,468]},{289:[1,610]},{13:f,16:h,55:492,82:q,172:493,255:154,257:155,291:150,294:P,295:C,296:z,297:te,298:re,299:le,300:_e,301:we,302:Se,303:Pe,304:je,305:ae,306:ce,307:43,308:m,311:494,312:De,315:611},a(it,[2,42]),a(pr,[2,304]),{13:f,16:h,55:414,82:q,95:612,171:613,172:415,173:416,174:gn,255:154,257:155,291:150,294:P,295:C,296:z,297:te,298:re,299:le,300:_e,301:we,302:Se,303:Pe,304:je,305:ae,306:ce,307:43,308:m,312:gi},{31:[1,614],45:Ja,94:615},a(qt,[2,129]),a(za,[2,421]),{82:[1,616]},{82:[1,617]},a(vn,[2,296]),a(vn,[2,31]),a(vn,[2,32]),{31:[2,17]},{31:[2,276]},{31:[2,18]},{31:[2,278]},a(S,Qi,{155:330,153:618,154:619,29:mr,31:mr,85:mr,112:mr,159:mr,160:mr,161:mr,163:mr,164:mr}),a(Wa,[2,358]),a($r,[2,75]),a($r,[2,76]),{29:at,57:620},{13:f,16:h,44:39,55:40,87:y,139:621,307:43,308:m},a(Fo,[2,366]),a($r,[2,79]),{13:f,16:h,44:136,45:he,46:622,55:133,67:132,68:134,77:131,82:q,87:y,172:135,224:L,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:R,264:130,265:k,266:137,267:139,268:X,269:oe,270:ee,271:me,273:de,274:xe,275:146,276:ne,277:be,278:149,279:ie,280:ge,283:Ee,285:M,291:150,294:P,295:C,296:z,297:te,298:re,299:le,300:_e,301:we,302:Se,303:Pe,304:je,305:ae,306:ce,307:43,308:m,312:Le,346:ke,347:qe,348:He,349:Ae,350:Te,351:Ke},a($r,[2,91],{336:[1,623]}),a([29,31,85,112,159,160,161,163,164,232,318,335],[2,114],{207:624,193:[1,625]}),a(zn,[2,117]),{13:f,16:h,44:215,45:mn,55:220,82:q,87:y,89:pe,172:221,185:351,203:536,211:626,212:627,231:Hn,234:535,236:216,237:222,255:154,257:155,291:150,294:P,295:C,296:z,297:te,298:re,299:le,300:_e,301:we,302:Se,303:Pe,304:je,305:ae,306:ce,307:43,308:m,309:Fe,310:Oe,311:217,312:De},a(Er,[2,134]),a(bn,[2,427]),a(Er,[2,135]),a(an,[2,26]),{44:628,87:y},a(_t,[2,106]),a(_t,[2,394]),a(S,[2,396]),a(vi,[2,111]),a(vi,[2,398]),{13:f,16:h,44:39,55:40,87:y,139:342,186:629,190:340,195:341,197:Ur,307:43,308:m},a(Vi,[2,217]),a(S,st,{144:248,140:630,143:631,31:[2,343]}),a(At,[2,97]),a(Ct,[2,380]),a(At,[2,180]),{13:f,16:h,44:136,45:he,46:632,55:133,67:132,68:134,77:131,82:q,87:y,172:135,224:L,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:R,264:130,265:k,266:137,267:139,268:X,269:oe,270:ee,271:me,273:de,274:xe,275:146,276:ne,277:be,278:149,279:ie,280:ge,283:Ee,285:M,291:150,294:P,295:C,296:z,297:te,298:re,299:le,300:_e,301:we,302:Se,303:Pe,304:je,305:ae,306:ce,307:43,308:m,312:Le,346:ke,347:qe,348:He,349:Ae,350:Te,351:Ke},{13:f,16:h,44:136,45:he,46:633,55:133,67:132,68:134,77:131,82:q,87:y,172:135,224:L,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:R,264:130,265:k,266:137,267:139,268:X,269:oe,270:ee,271:me,273:de,274:xe,275:146,276:ne,277:be,278:149,279:ie,280:ge,283:Ee,285:M,291:150,294:P,295:C,296:z,297:te,298:re,299:le,300:_e,301:we,302:Se,303:Pe,304:je,305:ae,306:ce,307:43,308:m,312:Le,346:ke,347:qe,348:He,349:Ae,350:Te,351:Ke},a(At,[2,190]),{290:[1,634]},{314:[1,635]},{13:f,16:h,48:[1,636],55:414,82:q,171:637,172:415,173:416,174:gn,255:154,257:155,291:150,294:P,295:C,296:z,297:te,298:re,299:le,300:_e,301:we,302:Se,303:Pe,304:je,305:ae,306:ce,307:43,308:m,312:gi},a(jn,[2,305]),a(it,[2,86]),a(pr,[2,374]),a(Qr,[2,37]),a(Qr,[2,38]),a(xr,[2,72]),a(xr,[2,360]),a($r,[2,77]),{29:at,57:638},{47:[1,639]},{29:[2,376]},a(zn,[2,402]),a(zn,[2,115],{215:10,208:528,214:529,44:530,205:640,13:n,16:n,45:n,197:n,224:n,229:n,308:n,87:y}),a(zn,[2,118],{272:[1,641]}),a(Ft,[2,407],{213:642,319:643,317:[1,644]}),{48:[1,645]},{318:[1,646]},{31:[1,647]},{31:[2,344]},{48:[1,648]},{48:[1,649]},{291:650,303:Pe,304:je,305:ae,306:ce},a(Vr,[2,218]),a(pr,[2,44]),a(jn,[2,306]),a($r,[2,78]),{44:651,87:y},a(zn,[2,116]),a(S,[2,406]),a(Ft,[2,119]),a(Ft,[2,408]),a(l,n,{215:10,205:527,208:528,214:529,44:530,202:652,87:y}),a(an,[2,27]),a(vi,[2,230]),a(sn,[2,345],{141:653,335:[1,654]}),a(At,[2,181]),a(At,[2,182]),{48:[2,191]},{48:[1,655]},{318:[1,656]},a(S,st,{144:248,142:657,143:658,31:Ya,112:Ya}),a(sn,[2,346]),a($r,[2,80]),a(Ft,[2,231]),a(yn,[2,67]),a(yn,[2,348])],defaultActions:{5:[2,240],6:[2,241],7:[2,242],9:[2,239],24:[2,1],25:[2,2],26:[2,244],87:[2,282],94:[2,384],100:[2,45],109:[2,325],166:[2,458],263:[2,439],336:[2,258],337:[2,101],487:[2,461],488:[2,462],560:[2,468],574:[2,17],575:[2,276],576:[2,18],577:[2,278],623:[2,376],631:[2,344],650:[2,191]},parseError:function(Ce,ze){if(!ze.recoverable){var Xe=new Error(Ce);throw Xe.hash=ze,Xe}this.trace(Ce)},parse:function(Ce){var ze=this,Xe=[0],nt=[null],et=[],se=this.table,Bt="",Yt=0,Kr=0,ra=0,Yn=et.slice.call(arguments,1),fe=Object.create(this.lexer),Nr={yy:{}};for(var Mn in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Mn)&&(Nr.yy[Mn]=this.yy[Mn]);fe.setInput(Ce,Nr.yy),Nr.yy.lexer=fe,Nr.yy.parser=this,fe.yylloc===void 0&&(fe.yylloc={});var Ti=fe.yylloc;et.push(Ti);var Oi=fe.options&&fe.options.ranges;typeof Nr.yy.parseError=="function"?this.parseError=Nr.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var Kt,Zn,x,N,F,Q,H,Z,ue,Ie=function(){var Qe;return typeof(Qe=fe.lex()||1)!="number"&&(Qe=ze.symbols_[Qe]||Qe),Qe},Me={};;){if(x=Xe[Xe.length-1],this.defaultActions[x]?N=this.defaultActions[x]:(Kt==null&&(Kt=Ie()),N=se[x]&&se[x][Kt]),N===void 0||!N.length||!N[0]){var Be;for(Q in ue=[],se[x])this.terminals_[Q]&&Q>2&&ue.push("'"+this.terminals_[Q]+"'");Be=fe.showPosition?"Parse error on line "+(Yt+1)+`:
`+fe.showPosition()+`
Expecting `+ue.join(", ")+", got '"+(this.terminals_[Kt]||Kt)+"'":"Parse error on line "+(Yt+1)+": Unexpected "+(Kt==1?"end of input":"'"+(this.terminals_[Kt]||Kt)+"'"),this.parseError(Be,{text:fe.match,token:this.terminals_[Kt]||Kt,line:fe.yylineno,loc:Ti,expected:ue})}if(N[0]instanceof Array&&N.length>1)throw new Error("Parse Error: multiple actions possible at state: "+x+", token: "+Kt);switch(N[0]){case 1:Xe.push(Kt),nt.push(fe.yytext),et.push(fe.yylloc),Xe.push(N[1]),Kt=null,Zn?(Kt=Zn,Zn=null):(Kr=fe.yyleng,Bt=fe.yytext,Yt=fe.yylineno,Ti=fe.yylloc,ra>0);break;case 2:if(H=this.productions_[N[1]][1],Me.$=nt[nt.length-H],Me._$={first_line:et[et.length-(H||1)].first_line,last_line:et[et.length-1].last_line,first_column:et[et.length-(H||1)].first_column,last_column:et[et.length-1].last_column},Oi&&(Me._$.range=[et[et.length-(H||1)].range[0],et[et.length-1].range[1]]),(F=this.performAction.apply(Me,[Bt,Kr,Yt,Nr.yy,N[1],nt,et].concat(Yn)))!==void 0)return F;H&&(Xe=Xe.slice(0,-1*H*2),nt=nt.slice(0,-1*H),et=et.slice(0,-1*H)),Xe.push(this.productions_[N[1]][0]),nt.push(Me.$),et.push(Me._$),Z=se[Xe[Xe.length-2]][Xe[Xe.length-1]],Xe.push(Z);break;case 3:return!0}}return!0}},_i=s(23637).Wildcard,_n="http://www.w3.org/1999/02/22-rdf-syntax-ns#",Ki=_n+"type",Za=_n+"first",Kn=_n+"rest",eo=_n+"nil",Ar="http://www.w3.org/2001/XMLSchema#",Xn=Ar+"integer",to=Ar+"decimal",br=Ar+"double",ro=Ar+"boolean",Ir="",no="",io="";function Ut(Ce){return Ce.toLowerCase()}function Pr(Ce,ze){return Ce.push(ze),Ce}function Rn(Ce,ze){return Ce.push.apply(Ce,ze),Ce}function gt(Ce){Ce||(Ce={});for(var ze,Xe=1,nt=arguments.length;Xe<nt&&(ze=arguments[Xe]||{});Xe++)for(var et in ze)Ce[et]=ze[et];return Ce}function sr(){for(var Ce=[],ze=0,Xe=arguments.length;ze<Xe;ze++)Ce=Ce.concat.apply(Ce,arguments[ze]);return Ce}function wn(Ce){if(Ce[0]==="<"&&(Ce=Ce.substring(1,Ce.length-1)),/^[a-z][a-z0-9.+-]*:/i.test(Ce))return Ce;if(!ft.base)throw new Error("Cannot resolve relative IRI "+Ce+" because no base IRI was set.");switch(Ir!==ft.base&&(Ir=ft.base,no=Ir.replace(/[^\/:]*$/,""),io=Ir.match(/^(?:[a-z]+:\/*)?[^\/]*/)[0]),Ce[0]){case void 0:return Ir;case"#":return Ir+Ce;case"?":return Ir.replace(/(?:\?.*)?$/,Ce);case"/":return io+Ce;default:return no+Ce}}function Xi(Ce){if(Ce){var ze=Ce[0];if(ze==="?"||ze==="$")return ft.factory.variable(Ce.substr(1))}return Ce}function kt(Ce,ze){return{type:"operation",operator:Ce,args:ze||[]}}function un(Ce,ze){var Xe={expression:Ce==="*"?new _i:Ce};if(ze)for(var nt in ze)Xe[nt]=ze[nt];return Xe}function Tn(Ce,ze){return{type:"path",pathType:Ce,items:ze}}function cn(Ce,ze){for(var Xe,nt=0,et=ze.length;nt<et&&(Xe=ze[nt]);nt++)Ce=kt(Xe[0],[Ce,Xe[1]]);return Ce}function Gr(Ce,ze){var Xe,nt=[],et=[],se=Ce.length,Bt={};if(!se)return null;for(var Yt=0;Yt<se&&(Xe=Ce[Yt]);Yt++)(Xe.named?et:nt).push(Xe.iri);return Bt[ze||"from"]={default:nt,named:et},Bt}function jr(Ce){return parseInt(Ce,10)}function Ji(Ce){return Ce.type==="group"&&Ce.patterns.length===1?Ce.patterns[0]:Ce}function St(Ce,ze){return ze&&ze.termType!=="NamedNode"&&(ze=ft.factory.namedNode(ze)),ft.factory.literal(Ce,ze)}function Jn(Ce,ze,Xe){if(!("termType"in ze))throw new Error("Nested triples cannot contain paths");return ft.factory.quad(Ce,ze,Xe)}function Hr(Ce,ze,Xe,nt){var et={};return Ce!=null&&(et.subject=Ce),ze!=null&&(et.predicate=ze),Xe!=null&&(et.object=Xe),nt!=null&&(et.annotations=nt),et}function ln(Ce){return typeof Ce=="string"?Ce.startsWith("e_")?ft.factory.blankNode(Ce):ft.factory.blankNode("e_"+Ce):ft.factory.blankNode("g_"+Wi++)}var Wi=0;ft._resetBlanks=function(){Wi=0};var ao=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\(.)/g,Yi={"\\":"\\","'":"'",'"':'"',t:"	",b:"\b",n:`
`,r:"\r",f:"\f"},Mo=/[\uD800-\uDBFF]([^\uDC00-\uDFFF]|$)/,wi=String.fromCharCode;function oo(Ce,ze){Ce=Ce.substring(ze,Ce.length-ze);try{Ce=Ce.replace(ao,function(Xe,nt,et,se){var Bt;if(nt){if(Bt=parseInt(nt,16),isNaN(Bt))throw new Error;return wi(Bt)}if(et){if(Bt=parseInt(et,16),isNaN(Bt))throw new Error;return Bt<65535?wi(Bt):wi(55296+((Bt-=65536)>>10),56320+(1023&Bt))}var Yt=Yi[se];if(!Yt)throw new Error;return Yt})}catch{return""}if(Mo.exec(Ce))throw new Error("Invalid unicode codepoint of surrogate pair without corresponding codepoint in "+Ce);return Ce}function Ht(Ce,ze,Xe){var nt=[],et=[];return ze.forEach(function(se){let Bt=null;se.annotation&&(Bt=se.annotation,se=se.object),nt.push(Hr(null,Ce,se.entity,Bt)),Rn(et,se.triples)}),sr(nt,Xe||[],et)}function zr(Ce){return Ce.variable?Ce.variable.value:Ce.value||Ce.expression.value}function On(Ce){if(!Ce)return[];if(Ce.type==="aggregate")return[Ce];if(Ce.type==="operation"){const ze=[];for(const Xe of Ce.args)ze.push(...On(Xe));return ze}return[]}function Wn(Ce){const ze=new Set,Xe=function(nt){nt&&(nt.termType==="Variable"?ze.add(nt):nt.type==="operation"&&nt.args.forEach(Xe))};return Xe(Ce),ze}function Zi(Ce,ze=1,Xe=[]){for(const nt of Ce)ze>0&&nt instanceof Array?Zi(nt,ze-1,Xe):Xe.push(nt);return Xe}function so(Ce){return Ce.termType==="Variable"}function Lo(Ce){if(Ce.triples){const ze=[];for(const Xe of Ce.triples)so(Xe.subject)&&ze.push(Xe.subject.value),so(Xe.predicate)&&ze.push(Xe.predicate.value),so(Xe.object)&&ze.push(Xe.object.value);return ze}if(Ce.patterns){const ze=[];for(const Xe of Ce.patterns)ze.push(...Lo(Xe));return ze}return[]}function Dn(Ce){if(!ft.sparqlStar)throw new Error("SPARQL-star support is not enabled");return Ce}function uo(Ce,ze,Xe){for(const nt of ze){const et=Hr("subject"in nt?nt.subject:Ce,nt.predicate,nt.object);Xe.push(et),nt.annotations&&uo(Jn(Ce,nt.predicate,nt.object),nt.annotations,Xe)}}function ea(Ce){if(ft.sparqlStar){const ze=[];return Ce.forEach(Xe=>{const nt=Hr(Xe.subject,Xe.predicate,Xe.object);ze.push(nt),Xe.annotations&&uo(Jn(Xe.subject,Xe.predicate,Xe.object),Xe.annotations,ze)}),ze}return Ce}function co(Ce){for(const ze of Ce){if(ze.type==="graph"&&ze.name.termType==="Variable")throw new Error("Detected illegal variable in GRAPH");if(ze.type==="bgp"||ze.type==="graph"){for(const Xe of ze.triples)if(Xe.subject.termType==="Variable"||Xe.predicate.termType==="Variable"||Xe.object.termType==="Variable")throw new Error("Detected illegal variable in BGP")}}return Ce}function ta(Ce){for(const ze of Ce)if(ze.type==="bgp"){for(const Xe of ze.triples)if(Xe.subject.termType==="BlankNode"||Xe.predicate.termType==="BlankNode"||Xe.object.termType==="BlankNode")throw new Error("Detected illegal blank node in BGP")}return Ce}var Fn={EOF:1,parseError:function(Ce,ze){if(!this.yy.parser)throw new Error(Ce);this.yy.parser.parseError(Ce,ze)},setInput:function(Ce,ze){return this.yy=ze||this.yy||{},this._input=Ce,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var Ce=this._input[0];return this.yytext+=Ce,this.yyleng++,this.offset++,this.match+=Ce,this.matched+=Ce,Ce.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Ce},unput:function(Ce){var ze=Ce.length,Xe=Ce.split(/(?:\r\n?|\n)/g);this._input=Ce+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-ze),this.offset-=ze;var nt=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Xe.length-1&&(this.yylineno-=Xe.length-1);var et=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Xe?(Xe.length===nt.length?this.yylloc.first_column:0)+nt[nt.length-Xe.length].length-Xe[0].length:this.yylloc.first_column-ze},this.options.ranges&&(this.yylloc.range=[et[0],et[0]+this.yyleng-ze]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(Ce){this.unput(this.match.slice(Ce))},pastInput:function(){var Ce=this.matched.substr(0,this.matched.length-this.match.length);return(Ce.length>20?"...":"")+Ce.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Ce=this.match;return Ce.length<20&&(Ce+=this._input.substr(0,20-Ce.length)),(Ce.substr(0,20)+(Ce.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var Ce=this.pastInput(),ze=new Array(Ce.length+1).join("-");return Ce+this.upcomingInput()+`
`+ze+"^"},test_match:function(Ce,ze){var Xe,nt,et;if(this.options.backtrack_lexer&&(et={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(et.yylloc.range=this.yylloc.range.slice(0))),(nt=Ce[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=nt.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:nt?nt[nt.length-1].length-nt[nt.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Ce[0].length},this.yytext+=Ce[0],this.match+=Ce[0],this.matches=Ce,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Ce[0].length),this.matched+=Ce[0],Xe=this.performAction.call(this,this.yy,this,ze,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Xe)return Xe;if(this._backtrack){for(var se in et)this[se]=et[se];return!1}return!1},next:function(){if(this.done)return this.EOF;var Ce,ze,Xe,nt;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var et=this._currentRules(),se=0;se<et.length;se++)if((Xe=this._input.match(this.rules[et[se]]))&&(!ze||Xe[0].length>ze[0].length)){if(ze=Xe,nt=se,this.options.backtrack_lexer){if((Ce=this.test_match(Xe,et[se]))!==!1)return Ce;if(this._backtrack){ze=!1;continue}return!1}if(!this.options.flex)break}return ze?(Ce=this.test_match(ze,et[nt]))!==!1&&Ce:this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(Ce){this.conditionStack.push(Ce)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Ce){return(Ce=this.conditionStack.length-1-Math.abs(Ce||0))>=0?this.conditionStack[Ce]:"INITIAL"},pushState:function(Ce){this.begin(Ce)},stateStackSize:function(){return this.conditionStack.length},options:{flex:!0,"case-insensitive":!0},performAction:function(Ce,ze,Xe,nt){switch(Xe){case 0:break;case 1:return 12;case 2:return 15;case 3:return 41;case 4:return 325;case 5:return 326;case 6:return 45;case 7:return 47;case 8:return 48;case 9:return 39;case 10:return 24;case 11:return 28;case 12:return 29;case 13:return 31;case 14:return 32;case 15:return 36;case 16:return 53;case 17:return 327;case 18:return 63;case 19:return 64;case 20:return 70;case 21:return 73;case 22:return 76;case 23:return 78;case 24:return 81;case 25:return 83;case 26:return 85;case 27:return 193;case 28:return 100;case 29:return 328;case 30:return 121;case 31:return 329;case 32:return 330;case 33:return 110;case 34:return 331;case 35:return 109;case 36:return 332;case 37:return 333;case 38:return 113;case 39:return 115;case 40:return 116;case 41:return 131;case 42:return 123;case 43:return 126;case 44:return 128;case 45:return 132;case 46:return 112;case 47:return 334;case 48:return 335;case 49:return 159;case 50:return 161;case 51:return 164;case 52:return 174;case 53:return 160;case 54:return 336;case 55:return 163;case 56:return 312;case 57:return 314;case 58:return 317;case 59:return 318;case 60:return 272;case 61:return 197;case 62:return 337;case 63:return 338;case 64:return 229;case 65:return 340;case 66:return 263;case 67:return 224;case 68:return 231;case 69:return 232;case 70:return 242;case 71:return 246;case 72:return 290;case 73:return 341;case 74:return 342;case 75:return 343;case 76:return 344;case 77:return 345;case 78:return 250;case 79:return 346;case 80:return 265;case 81:return 276;case 82:return 277;case 83:return 268;case 84:return 269;case 85:return 270;case 86:return 271;case 87:return 347;case 88:return 348;case 89:return 273;case 90:return 274;case 91:return 350;case 92:return 349;case 93:return 351;case 94:return 279;case 95:return 280;case 96:return 283;case 97:return 285;case 98:return 289;case 99:return 293;case 100:return 296;case 101:return 13;case 102:return 16;case 103:return 308;case 104:return 309;case 105:return 87;case 106:return 292;case 107:return 82;case 108:return 294;case 109:return 295;case 110:return 297;case 111:return 298;case 112:return 299;case 113:return 300;case 114:return 301;case 115:return 302;case 116:return"EXPONENT";case 117:return 303;case 118:return 304;case 119:return 305;case 120:return 306;case 121:return 89;case 122:return 310;case 123:return 6;case 124:return"INVALID";case 125:console.log(ze.yytext)}},rules:[/^(?:\s+|(#[^\n\r]*))/i,/^(?:BASE)/i,/^(?:PREFIX)/i,/^(?:SELECT)/i,/^(?:DISTINCT)/i,/^(?:REDUCED)/i,/^(?:\()/i,/^(?:AS)/i,/^(?:\))/i,/^(?:\*)/i,/^(?:CONSTRUCT)/i,/^(?:WHERE)/i,/^(?:\{)/i,/^(?:\})/i,/^(?:DESCRIBE)/i,/^(?:ASK)/i,/^(?:FROM)/i,/^(?:NAMED)/i,/^(?:GROUP)/i,/^(?:BY)/i,/^(?:HAVING)/i,/^(?:ORDER)/i,/^(?:ASC)/i,/^(?:DESC)/i,/^(?:LIMIT)/i,/^(?:OFFSET)/i,/^(?:VALUES)/i,/^(?:;)/i,/^(?:LOAD)/i,/^(?:SILENT)/i,/^(?:INTO)/i,/^(?:CLEAR)/i,/^(?:DROP)/i,/^(?:CREATE)/i,/^(?:ADD)/i,/^(?:TO)/i,/^(?:MOVE)/i,/^(?:COPY)/i,/^(?:INSERT((\s+|(#[^\n\r]*)\n\r?)+)DATA)/i,/^(?:DELETE((\s+|(#[^\n\r]*)\n\r?)+)DATA)/i,/^(?:DELETE((\s+|(#[^\n\r]*)\n\r?)+)WHERE)/i,/^(?:WITH)/i,/^(?:DELETE)/i,/^(?:INSERT)/i,/^(?:USING)/i,/^(?:DEFAULT)/i,/^(?:GRAPH)/i,/^(?:ALL)/i,/^(?:\.)/i,/^(?:OPTIONAL)/i,/^(?:SERVICE)/i,/^(?:BIND)/i,/^(?:UNDEF)/i,/^(?:MINUS)/i,/^(?:UNION)/i,/^(?:FILTER)/i,/^(?:<<)/i,/^(?:>>)/i,/^(?:\{\|)/i,/^(?:\|\})/i,/^(?:,)/i,/^(?:a)/i,/^(?:\|)/i,/^(?:\/)/i,/^(?:\^)/i,/^(?:\?)/i,/^(?:\+)/i,/^(?:!)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:\|\|)/i,/^(?:&&)/i,/^(?:=)/i,/^(?:!=)/i,/^(?:<)/i,/^(?:>)/i,/^(?:<=)/i,/^(?:>=)/i,/^(?:IN)/i,/^(?:NOT)/i,/^(?:-)/i,/^(?:BOUND)/i,/^(?:BNODE)/i,/^(?:(RAND|NOW|UUID|STRUUID))/i,/^(?:(LANG|DATATYPE|IRI|URI|ABS|CEIL|FLOOR|ROUND|STRLEN|STR|UCASE|LCASE|ENCODE_FOR_URI|YEAR|MONTH|DAY|HOURS|MINUTES|SECONDS|TIMEZONE|TZ|MD5|SHA1|SHA256|SHA384|SHA512|isIRI|isURI|isBLANK|isLITERAL|isNUMERIC))/i,/^(?:(SUBJECT|PREDICATE|OBJECT|isTRIPLE))/i,/^(?:(LANGMATCHES|CONTAINS|STRSTARTS|STRENDS|STRBEFORE|STRAFTER|STRLANG|STRDT|sameTerm))/i,/^(?:CONCAT)/i,/^(?:COALESCE)/i,/^(?:IF)/i,/^(?:TRIPLE)/i,/^(?:REGEX)/i,/^(?:SUBSTR)/i,/^(?:REPLACE)/i,/^(?:EXISTS)/i,/^(?:COUNT)/i,/^(?:SUM|MIN|MAX|AVG|SAMPLE)/i,/^(?:GROUP_CONCAT)/i,/^(?:SEPARATOR)/i,/^(?:\^\^)/i,/^(?:true|false)/i,/^(?:(<(?:[^<>\"\{\}\|\^`\\\u0000-\u0020])*>))/i,/^(?:((([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.)*(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040]))?)?:))/i,/^(?:(((([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.)*(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040]))?)?:)((?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|:|[0-9]|((%([0-9A-Fa-f])([0-9A-Fa-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.|:|((%([0-9A-Fa-f])([0-9A-Fa-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))*(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|:|((%([0-9A-Fa-f])([0-9A-Fa-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%)))))?)))/i,/^(?:(_:(?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9])(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.)*(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040]))?))/i,/^(?:([\?\$]((?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9])(?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])*)))/i,/^(?:(@[a-zA-Z]+(?:-[a-zA-Z0-9]+)*))/i,/^(?:([0-9]+))/i,/^(?:([0-9]*\.[0-9]+))/i,/^(?:([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+)))/i,/^(?:(\+([0-9]+)))/i,/^(?:(\+([0-9]*\.[0-9]+)))/i,/^(?:(\+([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+))))/i,/^(?:(-([0-9]+)))/i,/^(?:(-([0-9]*\.[0-9]+)))/i,/^(?:(-([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+))))/i,/^(?:([eE][+-]?[0-9]+))/i,/^(?:('(?:(?:[^\u0027\u005C\u000A\u000D])|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])))*'))/i,/^(?:("(?:(?:[^\u0022\u005C\u000A\u000D])|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])))*"))/i,/^(?:('''(?:(?:'|'')?(?:[^'\\]|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f]))))*'''))/i,/^(?:("""(?:(?:"|"")?(?:[^\"\\]|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f]))))*"""))/i,/^(?:(\((\u0020|\u0009|\u000D|\u000A)*\)))/i,/^(?:(\[(\u0020|\u0009|\u000D|\u000A)*\]))/i,/^(?:$)/i,/^(?:.)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125],inclusive:!0}}};function ft(){this.yy={}}return Nn.lexer=Fn,ft.prototype=Nn,Nn.Parser=ft,new ft}();g.exports=c},83893:function(g,e,s){var c=this&&this.__asyncValues||function(u){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l,d=u[Symbol.asyncIterator];return d?d.call(u):(u=typeof __values=="function"?__values(u):u[Symbol.iterator](),l={},p("next"),p("throw"),p("return"),l[Symbol.asyncIterator]=function(){return this},l);function p(f){l[f]=u[f]&&function(h){return new Promise(function(y,m){(function(b,v,_,w){Promise.resolve(w).then(function(O){b({value:O,done:_})},v)})(y,m,(h=u[f](h)).done,h.value)})}}},a=this&&this.__await||function(u){return this instanceof a?(this.v=u,this):new a(u)},o=this&&this.__asyncGenerator||function(u,l,d){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var p,f=d.apply(u,l||[]),h=[];return p={},y("next"),y("throw"),y("return"),p[Symbol.asyncIterator]=function(){return this},p;function y(w){f[w]&&(p[w]=function(O){return new Promise(function(A,T){h.push([w,O,A,T])>1||m(w,O)})})}function m(w,O){try{(A=f[w](O)).value instanceof a?Promise.resolve(A.value.v).then(b,v):_(h[0][2],A)}catch(T){_(h[0][3],T)}var A}function b(w){m("next",w)}function v(w){m("throw",w)}function _(w,O){w(O),h.shift(),h.length&&m(h[0][0],h[0][1])}};Object.defineProperty(e,"__esModule",{value:!0}),e.StreamingStore=void 0;const i=s(25828),t=s(19198),n=s(23598);class r{constructor(l=new i.Store){this.pendingStreams=new n.PendingStreamsIndex,this.ended=!1,this.listeners=[],this.store=l}addEndListener(l){this.listeners.push(l)}emitEndEvent(){for(const l of this.listeners)l()}hasEnded(){return this.ended}end(){this.ended=!0;for(const l of this.pendingStreams.allStreams)l.push(null);this.emitEndEvent()}importToListeners(l){l.on("data",d=>{if(!this.ended&&!this.store.countQuads(d.subject,d.predicate,d.object,d.graph))for(const p of this.pendingStreams.getPendingStreamsForQuad(d))p.emit("quad",d),p.isInitialized&&p.push(d)})}static concatStreams(l){return o(this,arguments,function*(){var d,p,f,h;for(const v of l)try{for(var y,m=!0,b=(p=void 0,c(v));!(d=(y=yield a(b.next())).done);){h=y.value,m=!1;try{yield yield a(h)}finally{m=!0}}}catch(_){p={error:_}}finally{try{m||d||!(f=b.return)||(yield a(f.call(b)))}finally{if(p)throw p.error}}})}import(l){if(this.ended)throw new Error("Attempted to import into an ended StreamingStore");return this.importToListeners(l),this.store.import(l)}match(l,d,p,f){const h=this.store.match(l,d,p,f);let y=h;if(!this.ended){const m=new t.PassThrough({objectMode:!0});this.pendingStreams.addPatternListener(m,l,d,p,f),y=t.Readable.from(r.concatStreams([h,m])),m.on("quad",v=>{y.emit("quad",v)}),y._pipeSource=h;const b=h._read;h._read=v=>{m.isInitialized=!0,b.call(h,v)}}return y}getStore(){return this.store}}e.StreamingStore=r},84256:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.stringQuadToQuad=e.quadToStringQuad=e.stringToTerm=e.getLiteralLanguage=e.getLiteralType=e.getLiteralValue=e.termToString=void 0;const c=new(s(47793)).DataFactory;function a(r){if(r)switch(r.termType){case"NamedNode":case"DefaultGraph":return r.value;case"BlankNode":return"_:"+r.value;case"Literal":const u=r;return'"'+u.value+'"'+(u.datatype&&u.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&u.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?"^^"+u.datatype.value:"")+(u.language?"@"+u.language:"");case"Quad":return`<<${a(r.subject)} ${a(r.predicate)} ${a(r.object)}${r.graph.termType==="DefaultGraph"?"":" "+a(r.graph)}>>`;case"Variable":return"?"+r.value}}function o(r){const u=/^"([^]*)"/.exec(r);if(!u)throw new Error(r+" is not a literal");return u[1]}function i(r){const u=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(r);if(!u)throw new Error(r+" is not a literal");return u[1]||(u[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}function t(r){const u=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(r);if(!u)throw new Error(r+" is not a literal");return u[1]?u[1].toLowerCase():""}function n(r,u){if(u=u||c,!r||!r.length)return u.defaultGraph();switch(r[0]){case"_":return u.blankNode(r.substr(2));case"?":if(!u.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return u.variable(r.substr(1));case'"':const l=t(r),d=u.namedNode(i(r));return u.literal(o(r),l||d);default:if(r[0]==="<"&&r.length>4&&r[1]==="<"&&r[r.length-1]===">"&&r[r.length-2]===">"){const p=r.slice(2,-2).trim();let f=[],h=0,y=0,m=!1;for(let b=0;b<p.length;b++){const v=p[b];if(v==="<"&&h++,v===">"){if(h===0)throw new Error("Found closing tag without opening tag in "+r);h--}if(v==='"'){let _=!1,w=b;for(;w-- >0&&p[w]==="\\";)_=!_;_||(m=!m)}if(v===" "&&!m&&h===0){for(f.push(p.slice(y,b));p[b+1]===" ";)b+=1;y=b+1}}if(h!==0)throw new Error("Found opening tag without closing tag in "+r);if(f.push(p.slice(y,p.length)),f.length!==3&&f.length!==4)throw new Error("Nested quad syntax error "+r);return f=f.map(b=>b.startsWith("<")&&!b.includes(" ")?b.slice(1,-1):b),u.quad(n(f[0]),n(f[1]),n(f[2]),f[3]?n(f[3]):void 0)}return u.namedNode(r)}}e.termToString=a,e.getLiteralValue=o,e.getLiteralType=i,e.getLiteralLanguage=t,e.stringToTerm=n,e.quadToStringQuad=function(r){return{subject:a(r.subject),predicate:a(r.predicate),object:a(r.object),graph:a(r.graph)}},e.stringQuadToQuad=function(r,u){return(u=u||c).quad(n(r.subject,u),n(r.predicate,u),n(r.object,u),n(r.graph,u))}},84333:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DocumentLoaderMediated=void 0;const c=s(70322),a=s(52728),o=s(87848);class i extends o.FetchDocumentLoader{constructor(n,r){super(i.createFetcher(n,r)),this.mediatorHttp=n,this.context=r}static createFetcher(n,r){return async(u,l)=>{const d=await n.mediate({input:u,init:l,context:r});return d.json=async()=>JSON.parse(await(0,a.stringify)(c.ActorHttp.toNodeReadable(d.body))),d}}}e.DocumentLoaderMediated=i},84427:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.elapsedDuration=e.addDurationToDateTime=e.maximumDayInMonthFor=void 0;const c=s(31296);function a(i,t,n=0){const r=i-n,u=t-n,l=Math.floor(r/u);return{intDiv:l,remainder:i-l*u}}function o(i,t){const{intDiv:n,remainder:r}=a(t,13,1),u=i+n;return[1,3,5,7,8,10,12].includes(r)?31:[4,6,9,11].includes(r)?30:r===2&&(a(u,400).remainder===0||a(u,100).remainder!==0&&a(u,4).remainder===0)?29:28}e.maximumDayInMonthFor=o,e.addDurationToDateTime=function(i,t){const n={...i};let r=a(i.month+t.month,13,1);for(n.month=r.remainder,n.year=i.year+t.year+r.intDiv,r=a(i.seconds+t.seconds,60),n.seconds=r.remainder,r=a(i.minutes+t.minutes+r.intDiv,60),n.minutes=r.remainder,r=a(i.hours+t.hours+r.intDiv,24),n.hours=r.remainder,n.day=i.day+t.day+r.intDiv;;){let u;if(n.day<1)n.day+=o(n.year,n.month-1),u=-1;else{if(!(n.day>o(n.year,n.month)))break;n.day-=o(n.year,n.month),u=1}r=a(n.month+u,13,1),n.month=r.remainder,n.year+=r.intDiv}return n},e.elapsedDuration=function(i,t,n){const r=(0,c.toUTCDate)(i,n),u=(0,c.toUTCDate)(t,n),l=r.getTime()-u.getTime();return{day:Math.floor(l/864e5),hours:Math.floor(l%864e5/36e5),minutes:Math.floor(l%36e5/6e4),seconds:l%6e4}}},84565:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.stringQuadToQuad=e.quadToStringQuad=e.stringToTerm=e.getLiteralLanguage=e.getLiteralType=e.getLiteralValue=e.termToString=void 0;const c=new(s(47793)).DataFactory;function a(r){if(r)switch(r.termType){case"NamedNode":case"DefaultGraph":return r.value;case"BlankNode":return"_:"+r.value;case"Literal":const u=r;return'"'+u.value+'"'+(u.datatype&&u.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&u.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?"^^"+u.datatype.value:"")+(u.language?"@"+u.language:"");case"Quad":return`<<${a(r.subject)} ${a(r.predicate)} ${a(r.object)}${r.graph.termType==="DefaultGraph"?"":" "+a(r.graph)}>>`;case"Variable":return"?"+r.value}}function o(r){const u=/^"([^]*)"/.exec(r);if(!u)throw new Error(r+" is not a literal");return u[1]}function i(r){const u=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(r);if(!u)throw new Error(r+" is not a literal");return u[1]||(u[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}function t(r){const u=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(r);if(!u)throw new Error(r+" is not a literal");return u[1]?u[1].toLowerCase():""}function n(r,u){if(u=u||c,!r||!r.length)return u.defaultGraph();switch(r[0]){case"_":return u.blankNode(r.substr(2));case"?":if(!u.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return u.variable(r.substr(1));case'"':const l=t(r),d=u.namedNode(i(r));return u.literal(o(r),l||d);default:if(r[0]==="<"&&r.length>4&&r[1]==="<"&&r[r.length-1]===">"&&r[r.length-2]===">"){const p=r.slice(2,-2).trim();let f=[],h=0,y=0,m=!1;for(let b=0;b<p.length;b++){const v=p[b];if(v==="<"&&h++,v===">"){if(h===0)throw new Error("Found closing tag without opening tag in "+r);h--}if(v==='"'){let _=!1,w=b;for(;w-- >0&&p[w]==="\\";)_=!_;_||(m=!m)}if(v===" "&&!m&&h===0){for(f.push(p.slice(y,b));p[b+1]===" ";)b+=1;y=b+1}}if(h!==0)throw new Error("Found opening tag without closing tag in "+r);if(f.push(p.slice(y,p.length)),f.length!==3&&f.length!==4)throw new Error("Nested quad syntax error "+r);return f=f.map(b=>b.startsWith("<")&&!b.includes(" ")?b.slice(1,-1):b),u.quad(n(f[0]),n(f[1]),n(f[2]),f[3]?n(f[3]):void 0)}return u.namedNode(r)}}e.termToString=a,e.getLiteralValue=o,e.getLiteralType=i,e.getLiteralLanguage=t,e.stringToTerm=n,e.quadToStringQuad=function(r){return{subject:a(r.subject),predicate:a(r.predicate),object:a(r.object),graph:a(r.graph)}},e.stringQuadToQuad=function(r,u){return(u=u||c).quad(n(r.subject,u),n(r.predicate,u),n(r.object,u),n(r.graph,u))}},84600:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(26471),e)},84629:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(40196),e)},84797:(g,e)=>{function s(c){return c>=65&&c<=90||c>=97&&c<=122||c===58||c===95||c===8204||c===8205||c>=192&&c<=214||c>=216&&c<=246||c>=248&&c<=767||c>=880&&c<=893||c>=895&&c<=8191||c>=8304&&c<=8591||c>=11264&&c<=12271||c>=12289&&c<=55295||c>=63744&&c<=64975||c>=65008&&c<=65533||c>=65536&&c<=983039}Object.defineProperty(e,"__esModule",{value:!0}),e.CHAR="---",e.RESTRICTED_CHAR="-\b\v\f---",e.S=` 	\r
`,e.NAME_START_CHAR=":A-Z_a-z-----------",e.NAME_CHAR="-"+e.NAME_START_CHAR+".0-9--",e.CHAR_RE=new RegExp("^["+e.CHAR+"]$","u"),e.RESTRICTED_CHAR_RE=new RegExp("^["+e.RESTRICTED_CHAR+"]$","u"),e.S_RE=new RegExp("^["+e.S+"]+$","u"),e.NAME_START_CHAR_RE=new RegExp("^["+e.NAME_START_CHAR+"]$","u"),e.NAME_CHAR_RE=new RegExp("^["+e.NAME_CHAR+"]$","u"),e.NAME_RE=new RegExp("^["+e.NAME_START_CHAR+"]["+e.NAME_CHAR+"]*$","u"),e.NMTOKEN_RE=new RegExp("^["+e.NAME_CHAR+"]+$","u"),e.S_LIST=[32,10,13,9],e.isChar=function(c){return c>=1&&c<=55295||c>=57344&&c<=65533||c>=65536&&c<=1114111},e.isRestrictedChar=function(c){return c>=1&&c<=8||c===11||c===12||c>=14&&c<=31||c>=127&&c<=132||c>=134&&c<=159},e.isCharAndNotRestricted=function(c){return c===9||c===10||c===13||c>31&&c<127||c===133||c>159&&c<=55295||c>=57344&&c<=65533||c>=65536&&c<=1114111},e.isS=function(c){return c===32||c===10||c===13||c===9},e.isNameStartChar=s,e.isNameChar=function(c){return s(c)||c>=48&&c<=57||c===45||c===46||c===183||c>=768&&c<=879||c>=8255&&c<=8256}},84906:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionMinutes=void 0;const c=s(77617),a=s(77545);class o extends c.TermFunctionBase{constructor(){super({arity:1,operator:a.SparqlOperator.MINUTES,overloads:(0,a.declare)(a.SparqlOperator.MINUTES).onDateTime1(()=>t=>(0,a.integer)(t.typedValue.minutes)).set([a.TypeURL.XSD_TIME],()=>([t])=>(0,a.integer)(t.typedValue.minutes)).collect()})}}e.TermFunctionMinutes=o},84983:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CONTEXT_KEY_LOGGER=void 0;const c=s(94301);e.CONTEXT_KEY_LOGGER=new c.ActionContextKey("@comunica/core:log")},85181:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermLcase=void 0;const c=s(77617),a=s(77545),o=s(60770);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.SparqlOperator.LCASE],termFunction:!0})}async run(n){return new o.TermFunctionLcase}}e.ActorFunctionFactoryTermLcase=i},85215:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.defaultExpandOptions=e.JsonLdContextNormalized=void 0;const c=s(70742),a=s(75094),o=s(94931);e.JsonLdContextNormalized=class{constructor(i){this.contextRaw=i}getContextRaw(){return this.contextRaw}expandTerm(i,t,n=e.defaultExpandOptions){const r=this.contextRaw[i];if(r===null||r&&r["@id"]===null)return null;let u=!0;if(r&&t){const y=o.Util.getContextValueId(r);if(y&&y!==i){if(typeof y=="string"&&(o.Util.isValidIri(y)||o.Util.isValidKeyword(y)))return y;o.Util.isPotentialKeyword(y)||(u=!1)}}const l=o.Util.getPrefix(i,this.contextRaw),d=this.contextRaw["@vocab"],p=(!!d||d==="")&&d.indexOf(":")<0,f=this.contextRaw["@base"],h=o.Util.isPotentialKeyword(i);if(l){const y=this.contextRaw[l],m=o.Util.getContextValueId(y);if(m){if(typeof y!="string"&&n.allowPrefixForcing){if(m[0]!=="_"&&!h&&!y["@prefix"]&&!(i in this.contextRaw))return i}else if(!o.Util.isSimpleTermDefinitionPrefix(m,n))return i;return m+i.substr(l.length+1)}}else{if(t&&(d||d===""||n.allowVocabRelativeToBase&&f&&p)&&!h&&!o.Util.isCompactIri(i)){if(p){if(n.allowVocabRelativeToBase)return(d||f?(0,c.resolve)(d,f):"")+i;throw new a.ErrorCoded(`Relative vocab expansion for term '${i}' with vocab '${d}' is not allowed.`,a.ERROR_CODES.INVALID_VOCAB_MAPPING)}return d+i}if(!t&&f&&!h&&!o.Util.isCompactIri(i))return(0,c.resolve)(i,f)}if(u)return i;throw new a.ErrorCoded(`Invalid IRI mapping found for context entry '${i}': '${JSON.stringify(r)}'`,a.ERROR_CODES.INVALID_IRI_MAPPING)}compactIri(i,t){if(t&&this.contextRaw["@vocab"]&&i.startsWith(this.contextRaw["@vocab"]))return i.substr(this.contextRaw["@vocab"].length);if(!t&&this.contextRaw["@base"]&&i.startsWith(this.contextRaw["@base"]))return i.substr(this.contextRaw["@base"].length);const n={prefix:"",suffix:i};for(const r in this.contextRaw){const u=this.contextRaw[r];if(u&&!o.Util.isPotentialKeyword(r)){const l=o.Util.getContextValueId(u);if(i.startsWith(l)){const d=i.substr(l.length);if(d)d.length<n.suffix.length&&(n.prefix=r,n.suffix=d);else if(t)return r}}}return n.prefix?n.prefix+":"+n.suffix:i}},e.defaultExpandOptions={allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}},85312:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(89349),e)},85459:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfUpdateQuadsDestination=e.deskolemize=e.deskolemizeStream=void 0;const c=s(21806),a=s(90711),o=s(90412),i=s(38291);function t(u,l,d){return l?.map(p=>(0,c.deskolemizeQuad)(u,p,d))}function n(u){const l=u.context.getSafe(a.KeysInitQuery.dataFactory),d=u.context.get(a.KeysRdfUpdateQuads.destination),p=u.context.get(a.KeysQuerySourceIdentify.sourceIds)?.get(d);return p?{...u,quadStreamInsert:t(l,u.quadStreamInsert,p),quadStreamDelete:t(l,u.quadStreamDelete,p)}:u}e.deskolemizeStream=t,e.deskolemize=n;class r extends i.ActorRdfUpdateQuads{async test(l){return(0,o.passTestVoid)()}async run(l){const d=await this.getDestination(l.context);return await this.getOutput(d,n(l))}async getOutput(l,d){return{execute:async()=>{await l.update({insert:d.quadStreamInsert,delete:d.quadStreamDelete}),await(d.deleteGraphs?l.deleteGraphs(d.deleteGraphs.graphs,d.deleteGraphs.requireExistence,d.deleteGraphs.dropGraphs):Promise.resolve()),await(d.createGraphs?l.createGraphs(d.createGraphs.graphs,d.createGraphs.requireNonExistence):Promise.resolve())}}}}e.ActorRdfUpdateQuadsDestination=r},85506:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DirectiveNodeHandlerInclude=void 0;const c=s(67797);class a extends c.DirectiveNodeHandlerAdapter{constructor(i,t){super("include",i,t)}handle(i,t){const n=this.getDirectiveConditionalValue(i.directive,t);return n.termType==="Literal"&&n.value==="false"?{ignore:!0}:{}}}e.DirectiveNodeHandlerInclude=a},85572:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermStrStarts=void 0;const c=s(77617),a=s(77545),o=s(3863);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.SparqlOperator.STRSTARTS],termFunction:!0})}async run(n){return new o.TermFunctionStrStarts}}e.ActorFunctionFactoryTermStrStarts=i},85821:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorOptimizeQueryOperationAssignSourcesExhaustive=void 0;const c=s(38912),a=s(16657),o=s(90711),i=s(90412),t=s(67021),n=s(96331);class r extends c.ActorOptimizeQueryOperation{constructor(l){super(l)}async test(l){return(0,i.passTestVoid)()}async run(l){const d=l.context.getSafe(o.KeysInitQuery.dataFactory),p=new n.Factory(d),f=l.context.get(o.KeysQueryOperation.querySources)??[];if(f.length===0)return{operation:l.operation,context:l.context};if(f.length===1){const h=f[0],y=l.context.get(o.KeysRdfUpdateQuads.destination);if(!y||h.source.referenceValue===(0,a.getDataDestinationValue)(y))try{const m=await h.source.getSelectorShape(l.context);if((0,t.doesShapeAcceptOperation)(m,l.operation))return{operation:(0,t.assignOperationSource)(l.operation,h),context:l.context}}catch{}}return{operation:this.assignExhaustive(p,l.operation,f),context:l.context.delete(o.KeysInitQuery.queryString)}}assignExhaustive(l,d,p){const f=this;return n.Util.mapOperation(d,{[n.Algebra.types.PATTERN]:(h,y)=>p.length===1?{result:(0,t.assignOperationSource)(h,p[0]),recurse:!1}:{result:y.createUnion(p.map(m=>(0,t.assignOperationSource)(h,m))),recurse:!1},[n.Algebra.types.LINK]:(h,y)=>p.length===1?{result:(0,t.assignOperationSource)(h,p[0]),recurse:!1}:{result:y.createAlt(p.map(m=>(0,t.assignOperationSource)(h,m))),recurse:!1},[n.Algebra.types.NPS]:(h,y)=>p.length===1?{result:(0,t.assignOperationSource)(h,p[0]),recurse:!1}:{result:y.createAlt(p.map(m=>(0,t.assignOperationSource)(h,m))),recurse:!1},[n.Algebra.types.SERVICE]:h=>({result:h,recurse:!1}),[n.Algebra.types.CONSTRUCT]:(h,y)=>({result:y.createConstruct(f.assignExhaustive(l,h.input,p),h.template),recurse:!1}),[n.Algebra.types.DELETE_INSERT]:(h,y)=>({result:y.createDeleteInsert(h.delete,h.insert,h.where?f.assignExhaustive(l,h.where,p):void 0),recurse:!1})},l)}}e.ActorOptimizeQueryOperationAssignSourcesExhaustive=r},85916:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(22437),e),a(s(79081),e)},85928:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(9553),e)},85947:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},85959:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionUnaryMinus=void 0;const c=s(77617),a=s(77545);class o extends c.TermFunctionBase{constructor(){super({arity:1,operator:a.SparqlOperator.UMINUS,overloads:(0,a.declare)(a.SparqlOperator.UMINUS).numericConverter(()=>t=>-t).collect()})}}e.TermFunctionUnaryMinus=o},86020:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Literal=void 0;const c=s(56662);class a{constructor(i,t){this.termType="Literal",this.value=i,typeof t=="string"?(this.language=t,this.datatype=a.RDF_LANGUAGE_STRING,this.direction=""):t?"termType"in t?(this.language="",this.datatype=t,this.direction=""):(this.language=t.language,this.datatype=t.direction?a.RDF_DIRECTIONAL_LANGUAGE_STRING:a.RDF_LANGUAGE_STRING,this.direction=t.direction||""):(this.language="",this.datatype=a.XSD_STRING,this.direction="")}equals(i){return!!i&&i.termType==="Literal"&&i.value===this.value&&i.language===this.language&&(i.direction===this.direction||!i.direction&&this.direction==="")&&this.datatype.equals(i.datatype)}}e.Literal=a,a.RDF_LANGUAGE_STRING=new c.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),a.RDF_DIRECTIONAL_LANGUAGE_STRING=new c.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#dirLangString"),a.XSD_STRING=new c.NamedNode("http://www.w3.org/2001/XMLSchema#string")},86074:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(44609),e),a(s(24690),e),a(s(29306),e)},86080:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfMetadata=void 0;const c=s(90412);class a extends c.Actor{constructor(i){super(i)}}e.ActorRdfMetadata=a},86085:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeValueHandlerString=void 0;const c=s(55009);class a extends c.NodeValueHandlerAdapter{constructor(i,t){super("StringValue",i,t)}handle(i,t,n){const r=n.context.getContextRaw()[t];let u,l;return r&&typeof r!="string"&&(r["@language"]?u=r["@language"]:r["@type"]&&(l=this.util.dataFactory.namedNode(r["@type"]))),{terms:[this.util.dataFactory.literal(i.value,u||l)]}}}e.NodeValueHandlerString=a},86105:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerKeywordAnnotation=void 0;const c=s(1548),a=s(42395);class o extends c.EntryHandlerKeyword{constructor(){super("@annotation")}async handle(t,n,r,u,l,d){(typeof l=="string"||typeof l=="object"&&l["@value"])&&t.emitError(new a.ErrorCoded(`Found illegal annotation value: ${JSON.stringify(l)}`,a.ERROR_CODES.INVALID_ANNOTATION))}}e.EntryHandlerKeywordAnnotation=o},86126:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MicrodataRdfParser=void 0;const c=s(78659),a=s(19198),o=s(68686),i=s(47194),t=s(36458),n=s(8770),r=s(73153),u=s(68395);class l extends a.Transform{constructor(p){super({readableObjectMode:!0}),this.itemScopeStack=[],this.textBufferStack=[],this.isEmittingReferences=!1,this.pendingItemRefsDomain={},this.pendingItemRefsRangeFinalized={},this.pendingItemRefsRangeCollecting={},p=p||{},this.options=p,this.util=new r.Util(p.dataFactory,p.baseIRI),this.defaultGraph=p.defaultGraph||this.util.dataFactory.defaultGraph(),this.htmlParseListener=p.htmlParseListener,this.vocabRegistry=p.vocabRegistry||u,this.parser=this.initializeParser(!!p.xmlMode)}import(p){const f=new a.PassThrough({readableObjectMode:!0});p.on("error",y=>h.emit("error",y)),p.on("data",y=>f.push(y)),p.on("end",()=>f.push(null));const h=f.pipe(new l(this.options));return h}_transform(p,f,h){this.parser.write(p.toString()),h()}_flush(p){this.parser.end(),p()}getItemScope(p){let f=this.itemScopeStack.length-(p?2:1);for(;f>0&&!this.itemScopeStack[f];)f--;return this.itemScopeStack[f]}getDepth(){return this.itemScopeStack.length}onTagOpen(p,f){if(!this.isEmittingReferences){if("id"in f){const y=f.id;this.pendingItemRefsRangeCollecting[y]={events:[],counter:0,ids:[]}}for(const y of Object.values(this.pendingItemRefsRangeCollecting))y.counter++,y.events.push({type:"open",name:p,attributes:f})}let h;if(this.textBufferStack.push(void 0),"itemscope"in f){let y;if(this.emittingReferencesItemScopeIdGenerator)y=this.emittingReferencesItemScopeIdGenerator();else{y="itemid"in f&&this.util.createSubject(f.itemid)||this.util.dataFactory.blankNode();for(const b of Object.values(this.pendingItemRefsRangeCollecting))b.ids.push(y)}h={subject:y},this.isEmittingReferences&&(h.blockEmission=!0);const m=this.getItemScope();m&&m.vocab&&(h.vocab=m.vocab),this.itemScopeStack.push(h)}else h=this.getItemScope(),this.itemScopeStack.push(void 0);if(h){if("itemtype"in f)for(const y of this.util.createVocabIris(f.itemtype,h,!1))h.vocab||(h.vocab=this.util.deriveVocab(y.value,this.vocabRegistry)),h.blockEmission||this.emitTriple(h.subject,this.util.dataFactory.namedNode(`${r.Util.RDF}type`),y);if("lang"in f&&(h.language=f.lang),"xml:lang"in f&&(h.language=f["xml:lang"]),"itemscope"in f&&!this.isEmittingReferences&&"itemref"in f)for(const y of f.itemref.split(/\s+/u))y in this.pendingItemRefsDomain||(this.pendingItemRefsDomain[y]=[]),this.pendingItemRefsDomain[y].push(h),this.tryToEmitReferences(y,h)}"itemprop"in f&&this.handleItemProperties(f.itemprop,!1,h,p,f),"itemprop-reverse"in f&&this.handleItemProperties(f["itemprop-reverse"],!0,h,p,f)}onText(p){if(!this.isEmittingReferences)for(const f of Object.values(this.pendingItemRefsRangeCollecting))f.events.push({type:"text",data:p});for(const f of this.textBufferStack)f&&f.push(p)}onTagClose(){if(!this.isEmittingReferences)for(const[f,h]of Object.entries(this.pendingItemRefsRangeCollecting))h.counter--,h.events.push({type:"close"}),h.counter===0&&(this.pendingItemRefsRangeFinalized[f]=h,delete this.pendingItemRefsRangeCollecting[f],this.tryToEmitReferences(f));const p=this.getItemScope(!0);if(p){const f=this.getDepth();if(p.predicates&&f in p.predicates)for(const[h,y]of Object.entries(p.predicates[f])){const m=this.util.createLiteral(this.textBufferStack[f].join(""),p);this.emitPredicateTriples(p,y,m,h==="reverse"),delete p.predicates[f][h]}}this.itemScopeStack.pop(),this.textBufferStack.pop()}onEnd(){}initializeParser(p){return new c.Parser({onclosetag:()=>{try{this.onTagClose(),this.htmlParseListener&&this.htmlParseListener.onTagClose()}catch(f){this.emit("error",f)}},onend:()=>{try{this.onEnd(),this.htmlParseListener&&this.htmlParseListener.onEnd()}catch(f){this.emit("error",f)}},onopentag:(f,h)=>{try{this.onTagOpen(f,h),this.htmlParseListener&&this.htmlParseListener.onTagOpen(f,h)}catch(y){this.emit("error",y)}},ontext:f=>{try{this.onText(f),this.htmlParseListener&&this.htmlParseListener.onText(f)}catch(h){this.emit("error",h)}}},{decodeEntities:!0,recognizeSelfClosing:!0,xmlMode:p})}handleItemProperties(p,f,h,y,m){const b=this.getItemScope(!0);if(b){const v=this.getDepth(),_=this.util.createVocabIris(p,b,!0);b.predicates||(b.predicates={}),b.predicates[v]||(b.predicates[v]={});const w=f?"reverse":"forward";b.predicates[v][w]=_;for(const O of this.util.getVocabularyExpansionType(p,b,this.vocabRegistry))_.push(O);if(h&&"itemscope"in m)this.emitPredicateTriples(b,_,h.subject,f),delete b.predicates[v][w];else for(const O of l.ITEM_PROPERTY_HANDLERS)if(O.canHandle(y,m)){const A=O.getObject(m,this.util,b);this.emitPredicateTriples(b,_,A,f),delete b.predicates[v][w]}b.predicates[v][w]&&(this.textBufferStack[v]=[])}}emitPredicateTriples(p,f,h,y){if(!p.blockEmission)for(const m of f)y?h.termType!=="Literal"&&this.emitTriple(h,m,p.subject):this.emitTriple(p.subject,m,h)}emitTriple(p,f,h){this.push(this.util.dataFactory.quad(p,f,h,this.defaultGraph))}tryToEmitReferences(p,f){const h=this.pendingItemRefsRangeFinalized[p];if(h){let y;if(f){y=[f];const m=this.pendingItemRefsDomain[p].indexOf(f);this.pendingItemRefsDomain[p].splice(m,1)}else y=this.pendingItemRefsDomain[p],delete this.pendingItemRefsDomain[p];if(y){const m=this.itemScopeStack,b=this.textBufferStack;this.isEmittingReferences=!0;for(const v of y){this.itemScopeStack=[v],this.textBufferStack=[void 0];const _=[...h.ids];this.emittingReferencesItemScopeIdGenerator=()=>_.shift();for(const w of h.events)switch(w.type){case"open":this.onTagOpen(w.name,w.attributes);break;case"text":this.onText(w.data);break;case"close":this.onTagClose()}}this.emittingReferencesItemScopeIdGenerator=void 0,this.itemScopeStack=m,this.textBufferStack=b,this.isEmittingReferences=!1}}}}e.MicrodataRdfParser=l,l.ITEM_PROPERTY_HANDLERS=[new o.ItemPropertyHandlerContent,new n.ItemPropertyHandlerUrl("a","href"),new n.ItemPropertyHandlerUrl("area","href"),new n.ItemPropertyHandlerUrl("audio","src"),new n.ItemPropertyHandlerUrl("embed","src"),new n.ItemPropertyHandlerUrl("iframe","src"),new n.ItemPropertyHandlerUrl("img","src"),new n.ItemPropertyHandlerUrl("link","href"),new n.ItemPropertyHandlerUrl("object","data"),new n.ItemPropertyHandlerUrl("source","src"),new n.ItemPropertyHandlerUrl("track","src"),new n.ItemPropertyHandlerUrl("video","src"),new i.ItemPropertyHandlerNumber("data","value"),new i.ItemPropertyHandlerNumber("meter","value"),new t.ItemPropertyHandlerTime]},86155:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(35943),e)},86173:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryProcessExplainPhysical=void 0;const c=s(59478),a=s(90711),o=s(90412),i=s(93974);class t extends c.ActorQueryProcess{constructor(r){super(r)}async test(r){const u=r.context.get(a.KeysInitQuery.explain)??r.context.get(new o.ActionContextKey("explain"));return u!=="physical"&&u!=="physical-json"?(0,o.failTest)(`${this.name} can only explain in 'physical' or 'physical-json' mode.`):(0,o.passTestVoid)()}async run(r){let{operation:u,context:l}=await this.queryProcessor.parse(r.query,r.context);({operation:u,context:l}=await this.queryProcessor.optimize(u,l));const d=new i.MemoryPhysicalQueryPlanLogger;l=l.set(a.KeysInitQuery.physicalQueryPlanLogger,d);const p=await this.queryProcessor.evaluate(u,l);switch(p.type){case"bindings":await p.bindingsStream.toArray();break;case"quads":await p.quadStream.toArray();break;case"boolean":case"void":await p.execute()}const f=r.context.get(a.KeysInitQuery.explain)??r.context.getSafe(new o.ActionContextKey("explain"));return{result:{explain:!0,type:f,data:f==="physical"?d.toCompactString():d.toJson()}}}}e.ActorQueryProcessExplainPhysical=t},86238:(g,e,s)=>{const c=s(65606),{AbortError:a,codes:o}=s(76371),{ERR_INVALID_ARG_TYPE:i,ERR_STREAM_PREMATURE_CLOSE:t}=o,{kEmptyObject:n,once:r}=s(57760),{validateAbortSignal:u,validateFunction:l,validateObject:d,validateBoolean:p}=s(277),{Promise:f,PromisePrototypeThen:h,SymbolDispose:y}=s(24134),{isClosed:m,isReadable:b,isReadableNodeStream:v,isReadableStream:_,isReadableFinished:w,isReadableErrored:O,isWritable:A,isWritableNodeStream:T,isWritableStream:S,isWritableFinished:E,isWritableErrored:D,isNodeStream:I,willEmitClose:V,kIsClosedPromise:K}=s(16115);let B;const $=()=>{};function G(U,W,ye){var ve,he;if(arguments.length===2?(ye=W,W=n):W==null?W=n:d(W,"options"),l(ye,"callback"),u(W.signal,"options.signal"),ye=r(ye),_(U)||S(U))return function(P,C,z){let te=!1,re=$;if(C.signal)if(re=()=>{te=!0,z.call(P,new a(void 0,{cause:C.signal.reason}))},C.signal.aborted)c.nextTick(re);else{B=B||s(57760).addAbortListener;const _e=B(C.signal,re),we=z;z=r((...Se)=>{_e[y](),we.apply(P,Se)})}const le=(..._e)=>{te||c.nextTick(()=>z.apply(P,_e))};return h(P[K].promise,le,le),$}(U,W,ye);if(!I(U))throw new i("stream",["ReadableStream","WritableStream","Stream"],U);const q=(ve=W.readable)!==null&&ve!==void 0?ve:v(U),L=(he=W.writable)!==null&&he!==void 0?he:T(U),R=U._writableState,k=U._readableState,X=()=>{U.writable||me()};let oe=V(U)&&v(U)===q&&T(U)===L,ee=E(U,!1);const me=()=>{ee=!0,U.destroyed&&(oe=!1),(!oe||U.readable&&!q)&&(q&&!de||ye.call(U))};let de=w(U,!1);const xe=()=>{de=!0,U.destroyed&&(oe=!1),(!oe||U.writable&&!L)&&(L&&!ee||ye.call(U))},ne=P=>{ye.call(U,P)};let be=m(U);const ie=()=>{be=!0;const P=D(U)||O(U);return P&&typeof P!="boolean"?ye.call(U,P):q&&!de&&v(U,!0)&&!w(U,!1)?ye.call(U,new t):!L||ee||E(U,!1)?void ye.call(U):ye.call(U,new t)},ge=()=>{be=!0;const P=D(U)||O(U);if(P&&typeof P!="boolean")return ye.call(U,P);ye.call(U)},Ee=()=>{U.req.on("finish",me)};(function(P){return P.setHeader&&typeof P.abort=="function"})(U)?(U.on("complete",me),oe||U.on("abort",ie),U.req?Ee():U.on("request",Ee)):L&&!R&&(U.on("end",X),U.on("close",X)),oe||typeof U.aborted!="boolean"||U.on("aborted",ie),U.on("end",xe),U.on("finish",me),W.error!==!1&&U.on("error",ne),U.on("close",ie),be?c.nextTick(ie):R!=null&&R.errorEmitted||k!=null&&k.errorEmitted?oe||c.nextTick(ge):(q||oe&&!b(U)||!ee&&A(U)!==!1)&&(L||oe&&!A(U)||!de&&b(U)!==!1)?k&&U.req&&U.aborted&&c.nextTick(ge):c.nextTick(ge);const M=()=>{ye=$,U.removeListener("aborted",ie),U.removeListener("complete",me),U.removeListener("abort",ie),U.removeListener("request",Ee),U.req&&U.req.removeListener("finish",me),U.removeListener("end",X),U.removeListener("close",X),U.removeListener("finish",me),U.removeListener("end",xe),U.removeListener("error",ne),U.removeListener("close",ie)};if(W.signal&&!be){const P=()=>{const C=ye;M(),C.call(U,new a(void 0,{cause:W.signal.reason}))};if(W.signal.aborted)c.nextTick(P);else{B=B||s(57760).addAbortListener;const C=B(W.signal,P),z=ye;ye=r((...te)=>{C[y](),z.apply(U,te)})}}return M}g.exports=G,g.exports.finished=function(U,W){var ye;let ve=!1;return W===null&&(W=n),(ye=W)!==null&&ye!==void 0&&ye.cleanup&&(p(W.cleanup,"cleanup"),ve=W.cleanup),new f((he,q)=>{const L=G(U,W,R=>{ve&&L(),R?q(R):he()})})}},86273:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.typePromotion=e.isSubTypeOf=e.getSuperTypeDict=e.isInternalSubType=e.asGeneralType=e.asOverrideType=e.asKnownLiteralType=e.asTypeAlias=e.typeAliasCheck=e.extensionTableInit=e.getSuperTypes=e.superTypeDictTable=e.extensionTableInput=void 0;const c=s(54833),a=s(97618),o=s(64900);function i(l,d){const p=d.cache.get(l);if(p)return p;const f=d.discoverer(l);if(f==="term"){const m=Object.create(null);return m.__depth=0,m[l]=0,d.cache.set(l,m),m}let h;const y=r(f);return h=y?{...e.superTypeDictTable[y]}:{...i(f,d)},h.__depth++,h[l]=h.__depth,d.cache.set(l,h),h}function t(){for(const[l,d]of Object.entries(e.extensionTableInput)){const p=l;e.superTypeDictTable[p]||n(p,d,e.superTypeDictTable)}}function n(l,d,p){if(d==="term"||d===void 0){const f=Object.create(null);return f.__depth=0,f[l]=0,void(p[l]=f)}p[d]||n(d,e.extensionTableInput[d],p),p[l]={...p[d],[l]:p[d].__depth+1,__depth:p[d].__depth+1}}function r(l){if(l in e.superTypeDictTable)return l}function u(l,d){const p=r(l);return p?e.superTypeDictTable[p]:i(l,d)}e.extensionTableInput={[o.TypeURL.XSD_DATE_TIME_STAMP]:o.TypeURL.XSD_DATE_TIME,[o.TypeURL.XSD_DAY_TIME_DURATION]:o.TypeURL.XSD_DURATION,[o.TypeURL.XSD_YEAR_MONTH_DURATION]:o.TypeURL.XSD_DURATION,[o.TypeURL.RDF_LANG_STRING]:o.TypeAlias.SPARQL_STRINGLY,[o.TypeURL.XSD_STRING]:o.TypeAlias.SPARQL_STRINGLY,[o.TypeURL.XSD_NORMALIZED_STRING]:o.TypeURL.XSD_STRING,[o.TypeURL.XSD_TOKEN]:o.TypeURL.XSD_NORMALIZED_STRING,[o.TypeURL.XSD_LANGUAGE]:o.TypeURL.XSD_TOKEN,[o.TypeURL.XSD_NM_TOKEN]:o.TypeURL.XSD_TOKEN,[o.TypeURL.XSD_NAME]:o.TypeURL.XSD_TOKEN,[o.TypeURL.XSD_NC_NAME]:o.TypeURL.XSD_NAME,[o.TypeURL.XSD_ENTITY]:o.TypeURL.XSD_NC_NAME,[o.TypeURL.XSD_ID]:o.TypeURL.XSD_NC_NAME,[o.TypeURL.XSD_ID_REF]:o.TypeURL.XSD_NC_NAME,[o.TypeURL.XSD_DOUBLE]:o.TypeAlias.SPARQL_NUMERIC,[o.TypeURL.XSD_FLOAT]:o.TypeAlias.SPARQL_NUMERIC,[o.TypeURL.XSD_DECIMAL]:o.TypeAlias.SPARQL_NUMERIC,[o.TypeURL.XSD_INTEGER]:o.TypeURL.XSD_DECIMAL,[o.TypeURL.XSD_NON_POSITIVE_INTEGER]:o.TypeURL.XSD_INTEGER,[o.TypeURL.XSD_NEGATIVE_INTEGER]:o.TypeURL.XSD_NON_POSITIVE_INTEGER,[o.TypeURL.XSD_LONG]:o.TypeURL.XSD_INTEGER,[o.TypeURL.XSD_INT]:o.TypeURL.XSD_LONG,[o.TypeURL.XSD_SHORT]:o.TypeURL.XSD_INT,[o.TypeURL.XSD_BYTE]:o.TypeURL.XSD_SHORT,[o.TypeURL.XSD_NON_NEGATIVE_INTEGER]:o.TypeURL.XSD_INTEGER,[o.TypeURL.XSD_POSITIVE_INTEGER]:o.TypeURL.XSD_NON_NEGATIVE_INTEGER,[o.TypeURL.XSD_UNSIGNED_LONG]:o.TypeURL.XSD_NON_NEGATIVE_INTEGER,[o.TypeURL.XSD_UNSIGNED_INT]:o.TypeURL.XSD_UNSIGNED_LONG,[o.TypeURL.XSD_UNSIGNED_SHORT]:o.TypeURL.XSD_UNSIGNED_INT,[o.TypeURL.XSD_UNSIGNED_BYTE]:o.TypeURL.XSD_UNSIGNED_SHORT,[o.TypeURL.XSD_DATE_TIME]:"term",[o.TypeURL.XSD_BOOLEAN]:"term",[o.TypeURL.XSD_DATE]:"term",[o.TypeURL.XSD_G_MONTH]:"term",[o.TypeURL.XSD_G_MONTHDAY]:"term",[o.TypeURL.XSD_G_YEAR]:"term",[o.TypeURL.XSD_G_YEAR_MONTH]:"term",[o.TypeURL.XSD_TIME]:"term",[o.TypeURL.XSD_G_DAY]:"term",[o.TypeURL.XSD_DURATION]:"term",[o.TypeAlias.SPARQL_NUMERIC]:"term",[o.TypeAlias.SPARQL_STRINGLY]:"term",[o.TypeURL.XSD_ANY_URI]:"term"},e.superTypeDictTable=Object.create(null),e.getSuperTypes=i,e.extensionTableInit=t,t(),e.typeAliasCheck=Object.create(null),function(){for(const l of Object.values(o.TypeAlias))e.typeAliasCheck[l]=!0}(),e.asTypeAlias=function(l){if(l in e.typeAliasCheck)return l},e.asKnownLiteralType=r,e.asOverrideType=function(l){if(r(l)??l==="term")return l},e.asGeneralType=function(l){if(l==="term"||(0,c.asTermType)(l))return l},e.isInternalSubType=function(l,d){return l!=="term"&&e.superTypeDictTable[l]&&e.superTypeDictTable[l][d]!==void 0},e.getSuperTypeDict=u,e.isSubTypeOf=function(l,d,p){return l!=="term"&&u(l,p)[d]!==void 0},e.typePromotion={[o.TypeURL.XSD_STRING]:[{typeToPromote:o.TypeURL.XSD_ANY_URI,conversionFunction:l=>(0,a.string)(l.str())}],[o.TypeURL.XSD_DOUBLE]:[{typeToPromote:o.TypeURL.XSD_FLOAT,conversionFunction:l=>(0,a.double)(l.typedValue)},{typeToPromote:o.TypeURL.XSD_DECIMAL,conversionFunction:l=>(0,a.double)(l.typedValue)}],[o.TypeURL.XSD_FLOAT]:[{typeToPromote:o.TypeURL.XSD_DECIMAL,conversionFunction:l=>(0,a.float)(l.typedValue)}]}},86454:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerKeywordUnknownFallback=void 0;const c=s(42395);class a{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(i,t,n,r,u){const l=await t.unaliasKeyword(n[r],n,r);return!(!c.Util.isPotentialKeyword(l)||!u&&l==="@list")}async test(i,t,n,r,u){return c.Util.isPotentialKeyword(n)}async handle(i,t,n,r,u,l){const d=a.VALID_KEYWORDS_TYPES[n];d!==void 0?d&&typeof u!==d.type&&i.emitError(new c.ErrorCoded(`Invalid value type for '${n}' with value '${u}'`,d.errorCode)):i.strictValues&&i.emitError(new Error(`Unknown keyword '${n}' with value '${u}'`)),i.emittedStack[l]=!1}}a.VALID_KEYWORDS_TYPES={"@index":{type:"string",errorCode:c.ERROR_CODES.INVALID_INDEX_VALUE},"@list":null,"@reverse":{type:"object",errorCode:c.ERROR_CODES.INVALID_REVERSE_VALUE},"@set":null,"@value":null},e.EntryHandlerKeywordUnknownFallback=a},86475:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(11370),e)},86524:(g,e,s)=>{const{ObjectSetPrototypeOf:c}=s(24134);g.exports=o;const a=s(17382);function o(i){if(!(this instanceof o))return new o(i);a.call(this,i)}c(o.prototype,a.prototype),c(o,a),o.prototype._transform=function(i,t,n){n(null,i)}},86547:function(g,e,s){(function(c){(function(a){var o=typeof globalThis<"u"&&globalThis||c!==void 0&&c||s.g!==void 0&&s.g||{},i="URLSearchParams"in o,t="Symbol"in o&&"iterator"in Symbol,n="FileReader"in o&&"Blob"in o&&function(){try{return new Blob,!0}catch{return!1}}(),r="FormData"in o,u="ArrayBuffer"in o;if(u)var l=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(I){return I&&l.indexOf(Object.prototype.toString.call(I))>-1};function p(I){if(typeof I!="string"&&(I=String(I)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(I)||I==="")throw new TypeError('Invalid character in header field name: "'+I+'"');return I.toLowerCase()}function f(I){return typeof I!="string"&&(I=String(I)),I}function h(I){var V={next:function(){var K=I.shift();return{done:K===void 0,value:K}}};return t&&(V[Symbol.iterator]=function(){return V}),V}function y(I){this.map={},I instanceof y?I.forEach(function(V,K){this.append(K,V)},this):Array.isArray(I)?I.forEach(function(V){if(V.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+V.length);this.append(V[0],V[1])},this):I&&Object.getOwnPropertyNames(I).forEach(function(V){this.append(V,I[V])},this)}function m(I){if(!I._noBody)return I.bodyUsed?Promise.reject(new TypeError("Already read")):void(I.bodyUsed=!0)}function b(I){return new Promise(function(V,K){I.onload=function(){V(I.result)},I.onerror=function(){K(I.error)}})}function v(I){var V=new FileReader,K=b(V);return V.readAsArrayBuffer(I),K}function _(I){if(I.slice)return I.slice(0);var V=new Uint8Array(I.byteLength);return V.set(new Uint8Array(I)),V.buffer}function w(){return this.bodyUsed=!1,this._initBody=function(I){var V;this.bodyUsed=this.bodyUsed,this._bodyInit=I,I?typeof I=="string"?this._bodyText=I:n&&Blob.prototype.isPrototypeOf(I)?this._bodyBlob=I:r&&FormData.prototype.isPrototypeOf(I)?this._bodyFormData=I:i&&URLSearchParams.prototype.isPrototypeOf(I)?this._bodyText=I.toString():u&&n&&(V=I)&&DataView.prototype.isPrototypeOf(V)?(this._bodyArrayBuffer=_(I.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):u&&(ArrayBuffer.prototype.isPrototypeOf(I)||d(I))?this._bodyArrayBuffer=_(I):this._bodyText=I=Object.prototype.toString.call(I):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof I=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i&&URLSearchParams.prototype.isPrototypeOf(I)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n&&(this.blob=function(){var I=m(this);if(I)return I;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer)return m(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer));if(n)return this.blob().then(v);throw new Error("could not read as ArrayBuffer")},this.text=function(){var I,V,K,B,$,G=m(this);if(G)return G;if(this._bodyBlob)return I=this._bodyBlob,K=b(V=new FileReader),$=(B=/charset=([A-Za-z0-9_-]+)/.exec(I.type))?B[1]:"utf-8",V.readAsText(I,$),K;if(this._bodyArrayBuffer)return Promise.resolve(function(U){for(var W=new Uint8Array(U),ye=new Array(W.length),ve=0;ve<W.length;ve++)ye[ve]=String.fromCharCode(W[ve]);return ye.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r&&(this.formData=function(){return this.text().then(T)}),this.json=function(){return this.text().then(JSON.parse)},this}y.prototype.append=function(I,V){I=p(I),V=f(V);var K=this.map[I];this.map[I]=K?K+", "+V:V},y.prototype.delete=function(I){delete this.map[p(I)]},y.prototype.get=function(I){return I=p(I),this.has(I)?this.map[I]:null},y.prototype.has=function(I){return this.map.hasOwnProperty(p(I))},y.prototype.set=function(I,V){this.map[p(I)]=f(V)},y.prototype.forEach=function(I,V){for(var K in this.map)this.map.hasOwnProperty(K)&&I.call(V,this.map[K],K,this)},y.prototype.keys=function(){var I=[];return this.forEach(function(V,K){I.push(K)}),h(I)},y.prototype.values=function(){var I=[];return this.forEach(function(V){I.push(V)}),h(I)},y.prototype.entries=function(){var I=[];return this.forEach(function(V,K){I.push([K,V])}),h(I)},t&&(y.prototype[Symbol.iterator]=y.prototype.entries);var O=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function A(I,V){if(!(this instanceof A))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var K,B,$=(V=V||{}).body;if(I instanceof A){if(I.bodyUsed)throw new TypeError("Already read");this.url=I.url,this.credentials=I.credentials,V.headers||(this.headers=new y(I.headers)),this.method=I.method,this.mode=I.mode,this.signal=I.signal,$||I._bodyInit==null||($=I._bodyInit,I.bodyUsed=!0)}else this.url=String(I);if(this.credentials=V.credentials||this.credentials||"same-origin",!V.headers&&this.headers||(this.headers=new y(V.headers)),this.method=(B=(K=V.method||this.method||"GET").toUpperCase(),O.indexOf(B)>-1?B:K),this.mode=V.mode||this.mode||null,this.signal=V.signal||this.signal||function(){if("AbortController"in o)return new AbortController().signal}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&$)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody($),!(this.method!=="GET"&&this.method!=="HEAD"||V.cache!=="no-store"&&V.cache!=="no-cache")){var G=/([?&])_=[^&]*/;G.test(this.url)?this.url=this.url.replace(G,"$1_="+new Date().getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+new Date().getTime()}}function T(I){var V=new FormData;return I.trim().split("&").forEach(function(K){if(K){var B=K.split("="),$=B.shift().replace(/\+/g," "),G=B.join("=").replace(/\+/g," ");V.append(decodeURIComponent($),decodeURIComponent(G))}}),V}function S(I,V){if(!(this instanceof S))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(V||(V={}),this.type="default",this.status=V.status===void 0?200:V.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=V.statusText===void 0?"":""+V.statusText,this.headers=new y(V.headers),this.url=V.url||"",this._initBody(I)}A.prototype.clone=function(){return new A(this,{body:this._bodyInit})},w.call(A.prototype),w.call(S.prototype),S.prototype.clone=function(){return new S(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new y(this.headers),url:this.url})},S.error=function(){var I=new S(null,{status:200,statusText:""});return I.ok=!1,I.status=0,I.type="error",I};var E=[301,302,303,307,308];S.redirect=function(I,V){if(E.indexOf(V)===-1)throw new RangeError("Invalid status code");return new S(null,{status:V,headers:{location:I}})},a.DOMException=o.DOMException;try{new a.DOMException}catch{a.DOMException=function(V,K){this.message=V,this.name=K;var B=Error(V);this.stack=B.stack},a.DOMException.prototype=Object.create(Error.prototype),a.DOMException.prototype.constructor=a.DOMException}function D(I,V){return new Promise(function(K,B){var $=new A(I,V);if($.signal&&$.signal.aborted)return B(new a.DOMException("Aborted","AbortError"));var G=new XMLHttpRequest;function U(){G.abort()}if(G.onload=function(){var ye,ve,he={statusText:G.statusText,headers:(ye=G.getAllResponseHeaders()||"",ve=new y,ye.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(L){return L.indexOf(`
`)===0?L.substr(1,L.length):L}).forEach(function(L){var R=L.split(":"),k=R.shift().trim();if(k){var X=R.join(":").trim();try{ve.append(k,X)}catch(oe){console.warn("Response "+oe.message)}}}),ve)};$.url.indexOf("file://")===0&&(G.status<200||G.status>599)?he.status=200:he.status=G.status,he.url="responseURL"in G?G.responseURL:he.headers.get("X-Request-URL");var q="response"in G?G.response:G.responseText;setTimeout(function(){K(new S(q,he))},0)},G.onerror=function(){setTimeout(function(){B(new TypeError("Network request failed"))},0)},G.ontimeout=function(){setTimeout(function(){B(new TypeError("Network request timed out"))},0)},G.onabort=function(){setTimeout(function(){B(new a.DOMException("Aborted","AbortError"))},0)},G.open($.method,function(ye){try{return ye===""&&o.location.href?o.location.href:ye}catch{return ye}}($.url),!0),$.credentials==="include"?G.withCredentials=!0:$.credentials==="omit"&&(G.withCredentials=!1),"responseType"in G&&(n?G.responseType="blob":u&&(G.responseType="arraybuffer")),V&&typeof V.headers=="object"&&!(V.headers instanceof y||o.Headers&&V.headers instanceof o.Headers)){var W=[];Object.getOwnPropertyNames(V.headers).forEach(function(ye){W.push(p(ye)),G.setRequestHeader(ye,f(V.headers[ye]))}),$.headers.forEach(function(ye,ve){W.indexOf(ve)===-1&&G.setRequestHeader(ve,ye)})}else $.headers.forEach(function(ye,ve){G.setRequestHeader(ve,ye)});$.signal&&($.signal.addEventListener("abort",U),G.onreadystatechange=function(){G.readyState===4&&$.signal.removeEventListener("abort",U)}),G.send($._bodyInit===void 0?null:$._bodyInit)})}D.polyfill=!0,o.fetch||(o.fetch=D,o.Headers=y,o.Request=A,o.Response=S),a.Headers=y,a.Request=A,a.Response=S,a.fetch=D,Object.defineProperty(a,"__esModule",{value:!0})})({})})(typeof self<"u"?self:this)},86551:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TRIPLE_TERM_NAMES=e.QUAD_TERM_NAMES=void 0,e.getTerms=a,e.getTermsNested=function r(u,l){const d=[];for(const p of a(u,l))p.termType==="Quad"?r(p,l).forEach(f=>d.push(f)):d.push(p);return d},e.getNamedTerms=function(r){return[{key:"subject",value:r.subject},{key:"predicate",value:r.predicate},{key:"object",value:r.object},{key:"graph",value:r.graph}]},e.collectNamedTerms=function(r,u,l){const d={};return r.forEach(p=>d[p.key]=p.value),u&&(d.subject=d.subject||u("subject"),d.predicate=d.predicate||u("predicate"),d.object=d.object||u("object"),d.graph=d.graph||u("graph")),(l||c).quad(d.subject,d.predicate,d.object,d.graph)},e.forEachTerms=function(r,u){u(r.subject,"subject"),u(r.predicate,"predicate"),u(r.object,"object"),u(r.graph,"graph")},e.forEachTermsNested=function r(u,l,d=[]){u.subject.termType==="Quad"?r(u.subject,l,[...d,"subject"]):l(u.subject,[...d,"subject"]),u.predicate.termType==="Quad"?r(u.predicate,l,[...d,"predicate"]):l(u.predicate,[...d,"predicate"]),u.object.termType==="Quad"?r(u.object,l,[...d,"object"]):l(u.object,[...d,"object"]),u.graph.termType==="Quad"?r(u.graph,l,[...d,"graph"]):l(u.graph,[...d,"graph"])},e.filterTerms=function(r,u){const l=[];return u(r.subject,"subject")&&l.push(r.subject),u(r.predicate,"predicate")&&l.push(r.predicate),u(r.object,"object")&&l.push(r.object),u(r.graph,"graph")&&l.push(r.graph),l},e.filterTermsNested=function r(u,l,d=[]){let p=[];return u.subject.termType==="Quad"?p=[...p,...r(u.subject,l,[...d,"subject"])]:l(u.subject,[...d,"subject"])&&p.push(u.subject),u.predicate.termType==="Quad"?p=[...p,...r(u.predicate,l,[...d,"predicate"])]:l(u.predicate,[...d,"predicate"])&&p.push(u.predicate),u.object.termType==="Quad"?p=[...p,...r(u.object,l,[...d,"object"])]:l(u.object,[...d,"object"])&&p.push(u.object),u.graph.termType==="Quad"?p=[...p,...r(u.graph,l,[...d,"graph"])]:l(u.graph,[...d,"graph"])&&p.push(u.graph),p},e.filterQuadTermNames=function(r,u){const l=[];return u(r.subject,"subject")&&l.push("subject"),u(r.predicate,"predicate")&&l.push("predicate"),u(r.object,"object")&&l.push("object"),u(r.graph,"graph")&&l.push("graph"),l},e.filterQuadTermNamesNested=function r(u,l,d=[]){let p=[];const f=[...d,"subject"];u.subject.termType==="Quad"?p=[...p,...r(u.subject,l,f)]:l(u.subject,f)&&p.push(f);const h=[...d,"predicate"];u.predicate.termType==="Quad"?p=[...p,...r(u.predicate,l,h)]:l(u.predicate,h)&&p.push(h);const y=[...d,"object"];u.object.termType==="Quad"?p=[...p,...r(u.object,l,y)]:l(u.object,y)&&p.push(y);const m=[...d,"graph"];return u.graph.termType==="Quad"?p=[...p,...r(u.graph,l,m)]:l(u.graph,m)&&p.push(m),p},e.mapTerms=function(r,u,l){return(l||c).quad(u(r.subject,"subject"),u(r.predicate,"predicate"),u(r.object,"object"),u(r.graph,"graph"))},e.mapTermsNested=function r(u,l,d,p=[]){return(d||c).quad(u.subject.termType==="Quad"?r(u.subject,l,d,[...p,"subject"]):l(u.subject,[...p,"subject"]),u.predicate.termType==="Quad"?r(u.predicate,l,d,[...p,"predicate"]):l(u.predicate,[...p,"predicate"]),u.object.termType==="Quad"?r(u.object,l,d,[...p,"object"]):l(u.object,[...p,"object"]),u.graph.termType==="Quad"?r(u.graph,l,d,[...p,"graph"]):l(u.graph,[...p,"graph"]))},e.reduceTerms=function(r,u,l){let d=l;return d=u(d,r.subject,"subject"),d=u(d,r.predicate,"predicate"),d=u(d,r.object,"object"),u(d,r.graph,"graph")},e.reduceTermsNested=function r(u,l,d,p=[]){let f=d;return f=u.subject.termType==="Quad"?r(u.subject,l,f,[...p,"subject"]):l(f,u.subject,[...p,"subject"]),f=u.predicate.termType==="Quad"?r(u.predicate,l,f,[...p,"predicate"]):l(f,u.predicate,[...p,"predicate"]),f=u.object.termType==="Quad"?r(u.object,l,f,[...p,"object"]):l(f,u.object,[...p,"object"]),f=u.graph.termType==="Quad"?r(u.graph,l,f,[...p,"graph"]):l(f,u.graph,[...p,"graph"]),f},e.everyTerms=o,e.everyTermsNested=function r(u,l,d=[]){return(u.subject.termType==="Quad"?r(u.subject,l,[...d,"subject"]):l(u.subject,[...d,"subject"]))&&(u.predicate.termType==="Quad"?r(u.predicate,l,[...d,"predicate"]):l(u.predicate,[...d,"predicate"]))&&(u.object.termType==="Quad"?r(u.object,l,[...d,"object"]):l(u.object,[...d,"object"]))&&(u.graph.termType==="Quad"?r(u.graph,l,[...d,"graph"]):l(u.graph,[...d,"graph"]))},e.someTerms=function(r,u){return u(r.subject,"subject")||u(r.predicate,"predicate")||u(r.object,"object")||u(r.graph,"graph")},e.someTermsNested=function r(u,l,d=[]){return(u.subject.termType==="Quad"?r(u.subject,l,[...d,"subject"]):l(u.subject,[...d,"subject"]))||(u.predicate.termType==="Quad"?r(u.predicate,l,[...d,"predicate"]):l(u.predicate,[...d,"predicate"]))||(u.object.termType==="Quad"?r(u.object,l,[...d,"object"]):l(u.object,[...d,"object"]))||(u.graph.termType==="Quad"?r(u.graph,l,[...d,"graph"]):l(u.graph,[...d,"graph"]))},e.getValueNestedPath=function r(u,l){if(l.length===0)return u;if(u.termType==="Quad")return r(u[l[0]],l.slice(1));throw new Error(`Tried to get ${l[0]} from term of type ${u.termType}`)},e.matchTerm=i,e.matchPattern=t,e.matchPatternComplete=n,e.matchPatternMappings=function(r,u,l={}){const d={};return function p(f,h){return o(f,(y,m)=>{var b,v;const _=h[m];switch(y.termType){case"Variable":return l.skipVarMapping&&_.termType==="Variable"||((v=(b=d[y.value])===null||b===void 0?void 0:b.equals(_))!==null&&v!==void 0?v:(d[y.value]=_,!0));case"Quad":return _.termType==="Quad"&&p(y,_);default:return y.equals(_)}})}(u,r)&&(!l.returnMappings||d)};const c=new(s(20138)).DataFactory;function a(r,u){return u&&r.graph.termType==="DefaultGraph"?[r.subject,r.predicate,r.object]:[r.subject,r.predicate,r.object,r.graph]}function o(r,u){return u(r.subject,"subject")&&u(r.predicate,"predicate")&&u(r.object,"object")&&u(r.graph,"graph")}function i(r,u){return!u||u.termType==="Variable"||u.termType==="Quad"&&r.termType==="Quad"&&n(r,u)||u.equals(r)}function t(r,u,l,d,p){return i(r.subject,u)&&i(r.predicate,l)&&i(r.object,d)&&i(r.graph,p)}function n(r,u){return t(r,u.subject,u.predicate,u.object,u.graph)}e.QUAD_TERM_NAMES=["subject","predicate","object","graph"],e.TRIPLE_TERM_NAMES=["subject","predicate","object"]},86581:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(7625),e),a(s(27421),e)},86652:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryExpressionSameTerm=void 0;const c=s(77617),a=s(77545),o=s(72253);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.SparqlOperator.SAME_TERM],termFunction:!1})}async run(n){return new o.ExpressionFunctionSameTerm}}e.ActorFunctionFactoryExpressionSameTerm=i},86780:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryResultSerializeSparqlTsv=void 0;const c=s(58871),a=s(90412),o=s(46898),i=s(19198);class t extends c.ActorQueryResultSerializeFixedMediaTypes{constructor(r){super(r)}static bindingToTsvBindings(r){return r?(0,o.termToString)(r).replaceAll("	","\\t").replaceAll(`
`,"\\n").replaceAll("\r","\\r"):""}async testHandleChecked(r,u){return r.type!=="bindings"?(0,a.failTest)("This actor can only handle bindings streams."):(0,a.passTestVoid)()}async runHandle(r,u,l){const d=r,p=new i.Readable,f=await d.metadata();return p.push(`${f.variables.map(h=>h.variable.value).join("	")}
`),p.wrap(d.bindingsStream.map(h=>`${f.variables.map(y=>t.bindingToTsvBindings(h.get(y.variable))).join("	")}
`)),{data:p}}}e.ActorQueryResultSerializeSparqlTsv=t},87242:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionSha1=void 0;const c=s(77617),a=s(77545),o=s(77952);class i extends c.TermFunctionBase{constructor(){super({arity:1,operator:a.SparqlOperator.SHA1,overloads:(0,a.declare)(a.SparqlOperator.SHA1).onString1Typed(()=>n=>(0,a.string)((0,o.sha1)().update(n).digest("hex"))).collect()})}}e.TermFunctionSha1=i},87420:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryOperationService=void 0;const c=s(66490),a=s(90711),o=s(90412),i=s(81926),t=s(99214),n=s(67021),r=s(75627);class u extends c.ActorQueryOperationTypedMediated{constructor(d){super(d,"service")}async testOperation(d,p){return d.name.termType!=="NamedNode"?(0,o.failTest)(`${this.name} can only query services by IRI, while a ${d.name.termType} was given.`):(0,o.passTestVoid)()}async runOperation(d,p){const{querySource:f}=await this.mediatorQuerySourceIdentify.mediate({querySourceUnidentified:{value:d.name.value,type:this.forceSparqlEndpoint?"sparql":void 0},context:p});let h;try{h=(0,n.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:(0,n.assignOperationSource)(d.input,f),context:p}))}catch(y){if(!d.silent)throw y;{const m=p.getSafe(a.KeysInitQuery.dataFactory),b=await i.BindingsFactory.create(this.mediatorMergeBindingsContext,p,m);h={bindingsStream:new r.SingletonIterator(b.bindings()),type:"bindings",metadata:async()=>({state:new t.MetadataValidationState,cardinality:{type:"exact",value:1},variables:[]})},this.logWarn(p,`An error occurred when executing a SERVICE clause: ${y.message}`)}}return h}}e.ActorQueryOperationService=u},87435:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(s){const c=[];return a=s.on("data",i=>c.push(i)),o=c,new Promise((i,t)=>{a.on("end",()=>i(o)),a.on("error",t)});var a,o}},87848:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(24148),e),a(s(44063),e),a(s(67726),e),a(s(31513),e),a(s(88329),e),a(s(97976),e),a(s(8486),e)},88052:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.QuadDestinationPatchSparqlUpdate=void 0;const c=s(70322),a=s(75627),o=s(46898),i=s(19198);e.QuadDestinationPatchSparqlUpdate=class{constructor(t,n,r){this.url=t,this.context=n,this.mediatorHttp=r}async update(t){const n=this.createCombinedQuadsQuery(t.insert,t.delete);await this.wrapSparqlUpdateRequest(n)}createCombinedQuadsQuery(t,n){return new a.ArrayIterator([],{autoStart:!1}).append(this.createQuadsQuery("DELETE",n)).append(n&&t?[` ;
`]:[]).append(this.createQuadsQuery("INSERT",t))}createQuadsQuery(t,n){return n?n.map(r=>{let u=`${(0,o.termToString)(r.subject)} ${(0,o.termToString)(r.predicate)} ${(0,o.termToString)(r.object)} .`;return u=r.graph.termType==="DefaultGraph"?`  ${u}
`:`  GRAPH ${(0,o.termToString)(r.graph)} { ${u} }
`,u}).prepend([`${t} DATA {
`]).append(["}"]):new a.ArrayIterator([],{autoStart:!1})}async wrapSparqlUpdateRequest(t){const n=new i.Readable;n.wrap(t);const r=new Headers({"content-type":"application/sparql-update"}),u=await this.mediatorHttp.mediate({context:this.context,init:{headers:r,method:"PATCH",body:c.ActorHttp.toWebReadableStream(n)},input:this.url});await(0,c.validateAndCloseHttpResponse)(this.url,u)}async deleteGraphs(t,n,r){throw new Error("Patch-based SPARQL Update destinations don't support named graphs")}async createGraphs(t,n){throw new Error("Patch-based SPARQL Update destinations don't support named graphs")}}},88329:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},88401:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Variable=void 0,e.Variable=class{constructor(s){this.termType="Variable",this.value=s}equals(s){return!!s&&s.termType==="Variable"&&s.value===this.value}}},88483:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DataFactory=void 0;const c=s(49931),a=s(92142),o=s(62426),i=s(43988),t=s(36754),n=s(88401);let r=0;e.DataFactory=class{constructor(u){this.blankNodeCounter=0,u=u||{},this.blankNodePrefix=u.blankNodePrefix||`df_${r++}_`}namedNode(u){return new i.NamedNode(u)}blankNode(u){return new c.BlankNode(u||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(u,l){return new o.Literal(u,l)}variable(u){return new n.Variable(u)}defaultGraph(){return a.DefaultGraph.INSTANCE}quad(u,l,d,p){return new t.Quad(u,l,d,p||this.defaultGraph())}fromTerm(u){switch(u.termType){case"NamedNode":return this.namedNode(u.value);case"BlankNode":return this.blankNode(u.value);case"Literal":return u.language?this.literal(u.value,u.language):u.datatype.equals(o.Literal.XSD_STRING)?this.literal(u.value):this.literal(u.value,this.fromTerm(u.datatype));case"Variable":return this.variable(u.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(u.subject),this.fromTerm(u.predicate),this.fromTerm(u.object),this.fromTerm(u.graph))}}fromQuad(u){return this.fromTerm(u)}resetBlankNodeCounter(){this.blankNodeCounter=0}}},88680:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},88766:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(52729),e)},88993:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(51192),e),a(s(35535),e),a(s(45144),e)},89096:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.LRUCache=void 0;const s=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,c=new Set,a=typeof process=="object"&&process?process:{},o=(p,f,h,y)=>{typeof a.emitWarning=="function"?a.emitWarning(p,f,h,y):console.error(`[${h}] ${f}: ${p}`)};let i=globalThis.AbortController,t=globalThis.AbortSignal;if(i===void 0){t=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(h,y){this._onabort.push(y)}},i=class{constructor(){f()}signal=new t;abort(h){if(!this.signal.aborted){this.signal.reason=h,this.signal.aborted=!0;for(const y of this.signal._onabort)y(h);this.signal.onabort?.(h)}}};let p=a.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1";const f=()=>{p&&(p=!1,o("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",f))}}const n=p=>p&&p===Math.floor(p)&&p>0&&isFinite(p),r=p=>n(p)?p<=Math.pow(2,8)?Uint8Array:p<=Math.pow(2,16)?Uint16Array:p<=Math.pow(2,32)?Uint32Array:p<=Number.MAX_SAFE_INTEGER?u:null:null;class u extends Array{constructor(f){super(f),this.fill(0)}}class l{heap;length;static#u=!1;static create(f){const h=r(f);if(!h)return[];l.#u=!0;const y=new l(f,h);return l.#u=!1,y}constructor(f,h){if(!l.#u)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new h(f),this.length=0}push(f){this.heap[this.length++]=f}pop(){return this.heap[--this.length]}}class d{#u;#d;#y;#g;#j;#N;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#i;#m;#n;#r;#e;#c;#p;#s;#a;#b;#o;#v;#_;#f;#w;#x;#l;static unsafeExposeInternals(f){return{starts:f.#_,ttls:f.#f,sizes:f.#v,keyMap:f.#n,keyList:f.#r,valList:f.#e,next:f.#c,prev:f.#p,get head(){return f.#s},get tail(){return f.#a},free:f.#b,isBackgroundFetch:h=>f.#t(h),backgroundFetch:(h,y,m,b)=>f.#F(h,y,m,b),moveToTail:h=>f.#P(h),indexes:h=>f.#T(h),rindexes:h=>f.#O(h),isStale:h=>f.#h(h)}}get max(){return this.#u}get maxSize(){return this.#d}get calculatedSize(){return this.#m}get size(){return this.#i}get fetchMethod(){return this.#j}get memoMethod(){return this.#N}get dispose(){return this.#y}get disposeAfter(){return this.#g}constructor(f){const{max:h=0,ttl:y,ttlResolution:m=1,ttlAutopurge:b,updateAgeOnGet:v,updateAgeOnHas:_,allowStale:w,dispose:O,disposeAfter:A,noDisposeOnSet:T,noUpdateTTL:S,maxSize:E=0,maxEntrySize:D=0,sizeCalculation:I,fetchMethod:V,memoMethod:K,noDeleteOnFetchRejection:B,noDeleteOnStaleGet:$,allowStaleOnFetchRejection:G,allowStaleOnFetchAbort:U,ignoreFetchAbort:W}=f;if(h!==0&&!n(h))throw new TypeError("max option must be a nonnegative integer");const ye=h?r(h):Array;if(!ye)throw new Error("invalid max value: "+h);if(this.#u=h,this.#d=E,this.maxEntrySize=D||this.#d,this.sizeCalculation=I,this.sizeCalculation){if(!this.#d&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(K!==void 0&&typeof K!="function")throw new TypeError("memoMethod must be a function if defined");if(this.#N=K,V!==void 0&&typeof V!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#j=V,this.#x=!!V,this.#n=new Map,this.#r=new Array(h).fill(void 0),this.#e=new Array(h).fill(void 0),this.#c=new ye(h),this.#p=new ye(h),this.#s=0,this.#a=0,this.#b=l.create(h),this.#i=0,this.#m=0,typeof O=="function"&&(this.#y=O),typeof A=="function"?(this.#g=A,this.#o=[]):(this.#g=void 0,this.#o=void 0),this.#w=!!this.#y,this.#l=!!this.#g,this.noDisposeOnSet=!!T,this.noUpdateTTL=!!S,this.noDeleteOnFetchRejection=!!B,this.allowStaleOnFetchRejection=!!G,this.allowStaleOnFetchAbort=!!U,this.ignoreFetchAbort=!!W,this.maxEntrySize!==0){if(this.#d!==0&&!n(this.#d))throw new TypeError("maxSize must be a positive integer if specified");if(!n(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#U()}if(this.allowStale=!!w,this.noDeleteOnStaleGet=!!$,this.updateAgeOnGet=!!v,this.updateAgeOnHas=!!_,this.ttlResolution=n(m)||m===0?m:1,this.ttlAutopurge=!!b,this.ttl=y||0,this.ttl){if(!n(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#M()}if(this.#u===0&&this.ttl===0&&this.#d===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#u&&!this.#d){const ve="LRU_CACHE_UNBOUNDED";(he=>!c.has(he))(ve)&&(c.add(ve),o("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",ve,d))}}getRemainingTTL(f){return this.#n.has(f)?1/0:0}#M(){const f=new u(this.#u),h=new u(this.#u);this.#f=f,this.#_=h,this.#L=(b,v,_=s.now())=>{if(h[b]=v!==0?_:0,f[b]=v,v!==0&&this.ttlAutopurge){const w=setTimeout(()=>{this.#h(b)&&this.#S(this.#r[b],"expire")},v+1);w.unref&&w.unref()}},this.#A=b=>{h[b]=f[b]!==0?s.now():0},this.#E=(b,v)=>{if(f[v]){const _=f[v],w=h[v];if(!_||!w)return;b.ttl=_,b.start=w,b.now=y||m();const O=b.now-w;b.remainingTTL=_-O}};let y=0;const m=()=>{const b=s.now();if(this.ttlResolution>0){y=b;const v=setTimeout(()=>y=0,this.ttlResolution);v.unref&&v.unref()}return b};this.getRemainingTTL=b=>{const v=this.#n.get(b);if(v===void 0)return 0;const _=f[v],w=h[v];return _&&w?_-((y||m())-w):1/0},this.#h=b=>{const v=h[b],_=f[b];return!!_&&!!v&&(y||m())-v>_}}#A=()=>{};#E=()=>{};#L=()=>{};#h=()=>!1;#U(){const f=new u(this.#u);this.#m=0,this.#v=f,this.#I=h=>{this.#m-=f[h],f[h]=0},this.#C=(h,y,m,b)=>{if(this.#t(y))return 0;if(!n(m)){if(!b)throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");if(typeof b!="function")throw new TypeError("sizeCalculation must be a function");if(m=b(y,h),!n(m))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}return m},this.#R=(h,y,m)=>{if(f[h]=y,this.#d){const b=this.#d-f[h];for(;this.#m>b;)this.#D(!0)}this.#m+=f[h],m&&(m.entrySize=y,m.totalCalculatedSize=this.#m)}}#I=f=>{};#R=(f,h,y)=>{};#C=(f,h,y,m)=>{if(y||m)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#T({allowStale:f=this.allowStale}={}){if(this.#i)for(let h=this.#a;this.#k(h)&&(!f&&this.#h(h)||(yield h),h!==this.#s);)h=this.#p[h]}*#O({allowStale:f=this.allowStale}={}){if(this.#i)for(let h=this.#s;this.#k(h)&&(!f&&this.#h(h)||(yield h),h!==this.#a);)h=this.#c[h]}#k(f){return f!==void 0&&this.#n.get(this.#r[f])===f}*entries(){for(const f of this.#T())this.#e[f]===void 0||this.#r[f]===void 0||this.#t(this.#e[f])||(yield[this.#r[f],this.#e[f]])}*rentries(){for(const f of this.#O())this.#e[f]===void 0||this.#r[f]===void 0||this.#t(this.#e[f])||(yield[this.#r[f],this.#e[f]])}*keys(){for(const f of this.#T()){const h=this.#r[f];h===void 0||this.#t(this.#e[f])||(yield h)}}*rkeys(){for(const f of this.#O()){const h=this.#r[f];h===void 0||this.#t(this.#e[f])||(yield h)}}*values(){for(const f of this.#T())this.#e[f]===void 0||this.#t(this.#e[f])||(yield this.#e[f])}*rvalues(){for(const f of this.#O())this.#e[f]===void 0||this.#t(this.#e[f])||(yield this.#e[f])}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(f,h={}){for(const y of this.#T()){const m=this.#e[y],b=this.#t(m)?m.__staleWhileFetching:m;if(b!==void 0&&f(b,this.#r[y],this))return this.get(this.#r[y],h)}}forEach(f,h=this){for(const y of this.#T()){const m=this.#e[y],b=this.#t(m)?m.__staleWhileFetching:m;b!==void 0&&f.call(h,b,this.#r[y],this)}}rforEach(f,h=this){for(const y of this.#O()){const m=this.#e[y],b=this.#t(m)?m.__staleWhileFetching:m;b!==void 0&&f.call(h,b,this.#r[y],this)}}purgeStale(){let f=!1;for(const h of this.#O({allowStale:!0}))this.#h(h)&&(this.#S(this.#r[h],"expire"),f=!0);return f}info(f){const h=this.#n.get(f);if(h===void 0)return;const y=this.#e[h],m=this.#t(y)?y.__staleWhileFetching:y;if(m===void 0)return;const b={value:m};if(this.#f&&this.#_){const v=this.#f[h],_=this.#_[h];if(v&&_){const w=v-(s.now()-_);b.ttl=w,b.start=Date.now()}}return this.#v&&(b.size=this.#v[h]),b}dump(){const f=[];for(const h of this.#T({allowStale:!0})){const y=this.#r[h],m=this.#e[h],b=this.#t(m)?m.__staleWhileFetching:m;if(b===void 0||y===void 0)continue;const v={value:b};if(this.#f&&this.#_){v.ttl=this.#f[h];const _=s.now()-this.#_[h];v.start=Math.floor(Date.now()-_)}this.#v&&(v.size=this.#v[h]),f.unshift([y,v])}return f}load(f){this.clear();for(const[h,y]of f){if(y.start){const m=Date.now()-y.start;y.start=s.now()-m}this.set(h,y.value,y)}}set(f,h,y={}){if(h===void 0)return this.delete(f),this;const{ttl:m=this.ttl,start:b,noDisposeOnSet:v=this.noDisposeOnSet,sizeCalculation:_=this.sizeCalculation,status:w}=y;let{noUpdateTTL:O=this.noUpdateTTL}=y;const A=this.#C(f,h,y.size||0,_);if(this.maxEntrySize&&A>this.maxEntrySize)return w&&(w.set="miss",w.maxEntrySizeExceeded=!0),this.#S(f,"set"),this;let T=this.#i===0?void 0:this.#n.get(f);if(T===void 0)T=this.#i===0?this.#a:this.#b.length!==0?this.#b.pop():this.#i===this.#u?this.#D(!1):this.#i,this.#r[T]=f,this.#e[T]=h,this.#n.set(f,T),this.#c[this.#a]=T,this.#p[T]=this.#a,this.#a=T,this.#i++,this.#R(T,A,w),w&&(w.set="add"),O=!1;else{this.#P(T);const S=this.#e[T];if(h!==S){if(this.#x&&this.#t(S)){S.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:E}=S;E===void 0||v||(this.#w&&this.#y?.(E,f,"set"),this.#l&&this.#o?.push([E,f,"set"]))}else v||(this.#w&&this.#y?.(S,f,"set"),this.#l&&this.#o?.push([S,f,"set"]));if(this.#I(T),this.#R(T,A,w),this.#e[T]=h,w){w.set="replace";const E=S&&this.#t(S)?S.__staleWhileFetching:S;E!==void 0&&(w.oldValue=E)}}else w&&(w.set="update")}if(m===0||this.#f||this.#M(),this.#f&&(O||this.#L(T,m,b),w&&this.#E(w,T)),!v&&this.#l&&this.#o){const S=this.#o;let E;for(;E=S?.shift();)this.#g?.(...E)}return this}pop(){try{for(;this.#i;){const f=this.#e[this.#s];if(this.#D(!0),this.#t(f)){if(f.__staleWhileFetching)return f.__staleWhileFetching}else if(f!==void 0)return f}}finally{if(this.#l&&this.#o){const f=this.#o;let h;for(;h=f?.shift();)this.#g?.(...h)}}}#D(f){const h=this.#s,y=this.#r[h],m=this.#e[h];return this.#x&&this.#t(m)?m.__abortController.abort(new Error("evicted")):(this.#w||this.#l)&&(this.#w&&this.#y?.(m,y,"evict"),this.#l&&this.#o?.push([m,y,"evict"])),this.#I(h),f&&(this.#r[h]=void 0,this.#e[h]=void 0,this.#b.push(h)),this.#i===1?(this.#s=this.#a=0,this.#b.length=0):this.#s=this.#c[h],this.#n.delete(y),this.#i--,h}has(f,h={}){const{updateAgeOnHas:y=this.updateAgeOnHas,status:m}=h,b=this.#n.get(f);if(b!==void 0){const v=this.#e[b];if(this.#t(v)&&v.__staleWhileFetching===void 0)return!1;if(!this.#h(b))return y&&this.#A(b),m&&(m.has="hit",this.#E(m,b)),!0;m&&(m.has="stale",this.#E(m,b))}else m&&(m.has="miss");return!1}peek(f,h={}){const{allowStale:y=this.allowStale}=h,m=this.#n.get(f);if(m===void 0||!y&&this.#h(m))return;const b=this.#e[m];return this.#t(b)?b.__staleWhileFetching:b}#F(f,h,y,m){const b=h===void 0?void 0:this.#e[h];if(this.#t(b))return b;const v=new i,{signal:_}=y;_?.addEventListener("abort",()=>v.abort(_.reason),{signal:v.signal});const w={signal:v.signal,options:y,context:m},O=(E,D=!1)=>{const{aborted:I}=v.signal,V=y.ignoreFetchAbort&&E!==void 0;if(y.status&&(I&&!D?(y.status.fetchAborted=!0,y.status.fetchError=v.signal.reason,V&&(y.status.fetchAbortIgnored=!0)):y.status.fetchResolved=!0),I&&!V&&!D)return A(v.signal.reason);const K=T;return this.#e[h]===T&&(E===void 0?K.__staleWhileFetching?this.#e[h]=K.__staleWhileFetching:this.#S(f,"fetch"):(y.status&&(y.status.fetchUpdated=!0),this.set(f,E,w.options))),E},A=E=>{const{aborted:D}=v.signal,I=D&&y.allowStaleOnFetchAbort,V=I||y.allowStaleOnFetchRejection,K=V||y.noDeleteOnFetchRejection,B=T;if(this.#e[h]===T&&(K&&B.__staleWhileFetching!==void 0?I||(this.#e[h]=B.__staleWhileFetching):this.#S(f,"fetch")),V)return y.status&&B.__staleWhileFetching!==void 0&&(y.status.returnedStale=!0),B.__staleWhileFetching;if(B.__returned===B)throw E};y.status&&(y.status.fetchDispatched=!0);const T=new Promise((E,D)=>{const I=this.#j?.(f,b,w);I&&I instanceof Promise&&I.then(V=>E(V===void 0?void 0:V),D),v.signal.addEventListener("abort",()=>{y.ignoreFetchAbort&&!y.allowStaleOnFetchAbort||(E(void 0),y.allowStaleOnFetchAbort&&(E=V=>O(V,!0)))})}).then(O,E=>(y.status&&(y.status.fetchRejected=!0,y.status.fetchError=E),A(E))),S=Object.assign(T,{__abortController:v,__staleWhileFetching:b,__returned:void 0});return h===void 0?(this.set(f,S,{...w.options,status:void 0}),h=this.#n.get(f)):this.#e[h]=S,S}#t(f){if(!this.#x)return!1;const h=f;return!!h&&h instanceof Promise&&h.hasOwnProperty("__staleWhileFetching")&&h.__abortController instanceof i}async fetch(f,h={}){const{allowStale:y=this.allowStale,updateAgeOnGet:m=this.updateAgeOnGet,noDeleteOnStaleGet:b=this.noDeleteOnStaleGet,ttl:v=this.ttl,noDisposeOnSet:_=this.noDisposeOnSet,size:w=0,sizeCalculation:O=this.sizeCalculation,noUpdateTTL:A=this.noUpdateTTL,noDeleteOnFetchRejection:T=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:S=this.allowStaleOnFetchRejection,ignoreFetchAbort:E=this.ignoreFetchAbort,allowStaleOnFetchAbort:D=this.allowStaleOnFetchAbort,context:I,forceRefresh:V=!1,status:K,signal:B}=h;if(!this.#x)return K&&(K.fetch="get"),this.get(f,{allowStale:y,updateAgeOnGet:m,noDeleteOnStaleGet:b,status:K});const $={allowStale:y,updateAgeOnGet:m,noDeleteOnStaleGet:b,ttl:v,noDisposeOnSet:_,size:w,sizeCalculation:O,noUpdateTTL:A,noDeleteOnFetchRejection:T,allowStaleOnFetchRejection:S,allowStaleOnFetchAbort:D,ignoreFetchAbort:E,status:K,signal:B};let G=this.#n.get(f);if(G===void 0){K&&(K.fetch="miss");const U=this.#F(f,G,$,I);return U.__returned=U}{const U=this.#e[G];if(this.#t(U)){const he=y&&U.__staleWhileFetching!==void 0;return K&&(K.fetch="inflight",he&&(K.returnedStale=!0)),he?U.__staleWhileFetching:U.__returned=U}const W=this.#h(G);if(!V&&!W)return K&&(K.fetch="hit"),this.#P(G),m&&this.#A(G),K&&this.#E(K,G),U;const ye=this.#F(f,G,$,I),ve=ye.__staleWhileFetching!==void 0&&y;return K&&(K.fetch=W?"stale":"refresh",ve&&W&&(K.returnedStale=!0)),ve?ye.__staleWhileFetching:ye.__returned=ye}}async forceFetch(f,h={}){const y=await this.fetch(f,h);if(y===void 0)throw new Error("fetch() returned undefined");return y}memo(f,h={}){const y=this.#N;if(!y)throw new Error("no memoMethod provided to constructor");const{context:m,forceRefresh:b,...v}=h,_=this.get(f,v);if(!b&&_!==void 0)return _;const w=y(f,_,{options:v,context:m});return this.set(f,w,v),w}get(f,h={}){const{allowStale:y=this.allowStale,updateAgeOnGet:m=this.updateAgeOnGet,noDeleteOnStaleGet:b=this.noDeleteOnStaleGet,status:v}=h,_=this.#n.get(f);if(_!==void 0){const w=this.#e[_],O=this.#t(w);return v&&this.#E(v,_),this.#h(_)?(v&&(v.get="stale"),O?(v&&y&&w.__staleWhileFetching!==void 0&&(v.returnedStale=!0),y?w.__staleWhileFetching:void 0):(b||this.#S(f,"expire"),v&&y&&(v.returnedStale=!0),y?w:void 0)):(v&&(v.get="hit"),O?w.__staleWhileFetching:(this.#P(_),m&&this.#A(_),w))}v&&(v.get="miss")}#B(f,h){this.#p[h]=f,this.#c[f]=h}#P(f){f!==this.#a&&(f===this.#s?this.#s=this.#c[f]:this.#B(this.#p[f],this.#c[f]),this.#B(this.#a,f),this.#a=f)}delete(f){return this.#S(f,"delete")}#S(f,h){let y=!1;if(this.#i!==0){const m=this.#n.get(f);if(m!==void 0)if(y=!0,this.#i===1)this.#q(h);else{this.#I(m);const b=this.#e[m];if(this.#t(b)?b.__abortController.abort(new Error("deleted")):(this.#w||this.#l)&&(this.#w&&this.#y?.(b,f,h),this.#l&&this.#o?.push([b,f,h])),this.#n.delete(f),this.#r[m]=void 0,this.#e[m]=void 0,m===this.#a)this.#a=this.#p[m];else if(m===this.#s)this.#s=this.#c[m];else{const v=this.#p[m];this.#c[v]=this.#c[m];const _=this.#c[m];this.#p[_]=this.#p[m]}this.#i--,this.#b.push(m)}}if(this.#l&&this.#o?.length){const m=this.#o;let b;for(;b=m?.shift();)this.#g?.(...b)}return y}clear(){return this.#q("delete")}#q(f){for(const h of this.#O({allowStale:!0})){const y=this.#e[h];if(this.#t(y))y.__abortController.abort(new Error("deleted"));else{const m=this.#r[h];this.#w&&this.#y?.(y,m,f),this.#l&&this.#o?.push([y,m,f])}}if(this.#n.clear(),this.#e.fill(void 0),this.#r.fill(void 0),this.#f&&this.#_&&(this.#f.fill(0),this.#_.fill(0)),this.#v&&this.#v.fill(0),this.#s=0,this.#a=0,this.#b.length=0,this.#m=0,this.#i=0,this.#l&&this.#o){const h=this.#o;let y;for(;y=h?.shift();)this.#g?.(...y)}}}e.LRUCache=d},89115:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(87420),e)},89195:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionIsBlank=void 0;const c=s(77617),a=s(77545);class o extends c.TermFunctionBase{constructor(){super({arity:1,operator:a.SparqlOperator.IS_BLANK,overloads:(0,a.declare)(a.SparqlOperator.IS_BLANK).onTerm1(()=>t=>(0,a.bool)(t.termType==="blankNode")).collect()})}}e.TermFunctionIsBlank=o},89250:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SeparatorType=void 0;class s{constructor(a){this.label=a}}e.SeparatorType=s,s.COMMA=new s(","),s.OBJECT_START=new s("{"),s.OBJECT_END=new s("}"),s.OBJECT_END_COMMA=new s("},"),s.ARRAY_START=new s("["),s.ARRAY_END=new s("]"),s.ARRAY_END_COMMA=new s("],"),s.GRAPH_FIELD_NONCOMPACT=new s('"@graph": ['),s.GRAPH_FIELD_COMPACT=new s('"@graph":['),s.CONTEXT_FIELD=new s('"@context":')},89275:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeHandlerSelectionField=void 0;const c=s(53284);class a extends c.NodeHandlerSelectionAdapter{constructor(i,t){super("Field",i,t)}handle(i,t){return this.fieldToOperation(t,i,!0)}}e.NodeHandlerSelectionField=a},89339:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeValueHandlerObject=void 0;const c=s(55009);class a extends c.NodeValueHandlerAdapter{constructor(i,t){super("ObjectValue",i,t)}handle(i,t,n){const r=this.util.dataFactory.blankNode();let u=[];for(const l of i.fields){const d=this.util.handleNodeValue(l.value,t,n);for(const p of d.terms)u.push(this.util.createQuadPattern(r,l.name,p,n.graph,n.context));d.auxiliaryPatterns&&(u=u.concat(d.auxiliaryPatterns))}return{terms:[r],auxiliaryPatterns:u}}}e.NodeValueHandlerObject=a},89349:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryExpressionConcat=void 0;const c=s(77617),a=s(77545),o=s(73392);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.SparqlOperator.CONCAT],termFunction:!1})}async run(n){return new o.ExpressionFunctionConcat}}e.ActorFunctionFactoryExpressionConcat=i},89529:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.stringQuadToQuad=e.quadToStringQuad=e.stringToTerm=e.getLiteralLanguage=e.getLiteralType=e.getLiteralValue=e.termToString=void 0;const c=new(s(47793)).DataFactory;function a(r){if(r)switch(r.termType){case"NamedNode":case"DefaultGraph":return r.value;case"BlankNode":return"_:"+r.value;case"Literal":const u=r;return'"'+u.value+'"'+(u.datatype&&u.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&u.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?"^^"+u.datatype.value:"")+(u.language?"@"+u.language:"");case"Quad":return`<<${a(r.subject)} ${a(r.predicate)} ${a(r.object)}${r.graph.termType==="DefaultGraph"?"":" "+a(r.graph)}>>`;case"Variable":return"?"+r.value}}function o(r){const u=/^"([^]*)"/.exec(r);if(!u)throw new Error(r+" is not a literal");return u[1]}function i(r){const u=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(r);if(!u)throw new Error(r+" is not a literal");return u[1]||(u[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}function t(r){const u=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(r);if(!u)throw new Error(r+" is not a literal");return u[1]?u[1].toLowerCase():""}function n(r,u){if(u=u||c,!r||!r.length)return u.defaultGraph();switch(r[0]){case"_":return u.blankNode(r.substr(2));case"?":if(!u.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return u.variable(r.substr(1));case'"':const l=t(r),d=u.namedNode(i(r));return u.literal(o(r),l||d);default:if(r[0]==="<"&&r.length>4&&r[1]==="<"&&r[r.length-1]===">"&&r[r.length-2]===">"){const p=r.slice(2,-2).trim();let f=[],h=0,y=0,m=!1;for(let b=0;b<p.length;b++){const v=p[b];if(v==="<"&&h++,v===">"){if(h===0)throw new Error("Found closing tag without opening tag in "+r);h--}if(v==='"'){let _=!1,w=b;for(;w-- >0&&p[w]==="\\";)_=!_;_||(m=!m)}if(v===" "&&!m&&h===0){for(f.push(p.slice(y,b));p[b+1]===" ";)b+=1;y=b+1}}if(h!==0)throw new Error("Found opening tag without closing tag in "+r);if(f.push(p.slice(y,p.length)),f.length!==3&&f.length!==4)throw new Error("Nested quad syntax error "+r);return f=f.map(b=>b.startsWith("<")&&!b.includes(" ")?b.slice(1,-1):b),u.quad(n(f[0]),n(f[1]),n(f[2]),f[3]?n(f[3]):void 0)}return u.namedNode(r)}}e.termToString=a,e.getLiteralValue=o,e.getLiteralType=i,e.getLiteralLanguage=t,e.stringToTerm=n,e.quadToStringQuad=function(r){return{subject:a(r.subject),predicate:a(r.predicate),object:a(r.object),graph:a(r.graph)}},e.stringQuadToQuad=function(r,u){return(u=u||c).quad(n(r.subject,u),n(r.predicate,u),n(r.object,u),n(r.graph,u))}},89760:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryOperationProject=void 0;const c=s(66490),a=s(90711),o=s(90412),i=s(51296),t=s(67021);class n extends c.ActorQueryOperationTypedMediated{constructor(u){super(u,"project")}async testOperation(u,l){return(0,o.passTestVoid)()}async runOperation(u,l){const d=l.getSafe(a.KeysInitQuery.dataFactory),p=(0,t.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:u.input,context:l})),f=await p.metadata(),h=Object.fromEntries(f.variables.map(O=>[O.variable.value,O])),y=u.variables.map(O=>({variable:O,canBeUndef:!1})),m=Object.fromEntries(y.map(O=>[O.variable.value,O])),b=f.variables.filter(O=>!(O.variable.value in m)),v=y.map(O=>({variable:O.variable,canBeUndef:!(O.variable.value in h)||h[O.variable.value].canBeUndef}));let _=b.length===0?p.bindingsStream:p.bindingsStream.map(O=>{for(const A of b)O=O.delete(A.variable);return O}),w=0;return _=_.map(O=>{w++;const A=new Map;return O.map(T=>{if(T instanceof i.BlankNodeBindingsScoped){let S=A.get(T.value);return S||(S=d.blankNode(`${T.value}${w}`),A.set(T.value,S)),S}return T})}),{type:"bindings",bindingsStream:_,metadata:async()=>({...f,variables:v})}}}e.ActorQueryOperationProject=n},90178:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(38951),e)},90246:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfJoinMultiSmallestFilterBindings=void 0;const c=s(95445),a=s(90711),o=s(90412),i=s(81926),t=s(4809),n=s(67021),r=s(75627),u=s(96331);class l extends c.ActorRdfJoin{constructor(p){super(p,{logicalType:"inner",physicalName:"multi-smallest-filter-bindings",limitEntries:2,limitEntriesMin:!0,isLeaf:!1})}async sortJoinEntries(p,f){let{entries:h}=await this.mediatorJoinEntriesSort.mediate({entries:p,context:f});h=h.sort((w,O)=>w.operationModified&&!O.operationModified?-1:0);const y=h.splice(0,1)[0];let m,b=-1,v=0;for(const[w,O]of h.entries()){const A=y.metadata.variables.filter(T=>O.metadata.variables.some(S=>T.variable.equals(S.variable))).length;(!m||A>v||A===v&&(O.metadata.variables.length<m.metadata.variables.length||O.metadata.variables.length===m.metadata.variables.length&&O.metadata.cardinality.value<m.metadata.cardinality.value))&&(m=O,b=w,v=A)}if(v===0)return(0,o.failTest)(`Actor ${this.name} can only join with common variables`);const _=h;return _.splice(b,1),(0,o.passTest)({first:y,second:m,remaining:_})}async getOutput(p){const f=p.context.getSafe(a.KeysInitQuery.dataFactory),h=new u.Factory(f),y=await c.ActorRdfJoin.getEntriesWithMetadatas([...p.entries]),{first:m,second:b,remaining:v}=(await this.sortJoinEntries(y,p.context)).getOrThrow(),_=m.output.bindingsStream;m.output.bindingsStream=_.clone();const w=m.metadata.variables.filter(V=>b.metadata.variables.some(K=>V.variable.equals(K.variable))),O={},A=_.clone().map(V=>V.filter((K,B)=>w.some($=>$.variable.equals(B)))).filter(V=>{const K=(0,i.bindingsToString)(V);return!(K in O)&&(O[K]=!0)}),T=new t.ChunkedIterator(A,this.blockSize,{autoStart:!1}),S=(0,n.getOperationSource)(b.operation),E={output:{type:"bindings",bindingsStream:new r.UnionIterator(T.map(V=>S.source.queryBindings(b.operation,S.context?p.context.merge(S.context):p.context,{filterBindings:{bindings:V,metadata:m.metadata}}))),metadata:b.output.metadata},operation:b.operation,operationModified:!0};b.output.bindingsStream.destroy();const D={output:(0,n.getSafeBindings)(await this.mediatorJoin.mediate({type:p.type,entries:[m,E],context:p.context.set(a.KeysRdfJoin.lastPhysicalJoin,this.physicalName)})),operation:h.createJoin([m.operation,E.operation],!1),operationModified:!0},I=v;return I.unshift(D),{result:await this.mediatorJoin.mediate({type:p.type,entries:I,context:p.context}),physicalPlanMetadata:{firstIndex:y.indexOf(m),secondIndex:y.indexOf(b)}}}async getJoinCoefficients(p,f){let{metadatas:h}=f;if(p.context.get(a.KeysRdfJoin.lastPhysicalJoin)===this.physicalName)return(0,o.failTest)(`Actor ${this.name} can not be called recursively`);h=[...h];const y=await this.sortJoinEntries(p.entries.map((D,I)=>({...D,metadata:h[I]})),p.context);if(y.isFailed())return y;const{first:m,second:b,remaining:v}=y.get(),_=(0,n.getOperationSource)(b.operation);if(!_)return(0,o.failTest)(`Actor ${this.name} can only process if entries[1] has a source`);const w=b.operation,O=await _.source.getSelectorShape(p.context);if(!(0,n.doesShapeAcceptOperation)(O,w,{filterBindings:!0}))return(0,o.failTest)(`Actor ${this.name} can only process if entries[1] accept filterBindings`);h=[m.metadata,b.metadata,...v.map(D=>D.metadata)];const A=c.ActorRdfJoin.getRequestInitialTimes(h),T=c.ActorRdfJoin.getRequestItemTimes(h),{selectivity:S}=await this.mediatorJoinSelectivity.mediate({entries:[m,b],context:p.context}),E=v.reduce((D,I)=>D*I.metadata.cardinality.value*this.selectivityModifier,1);return(0,o.passTestWithSideData)({iterations:S*this.selectivityModifier*b.metadata.cardinality.value*E,persistedItems:m.metadata.cardinality.value,blockingItems:m.metadata.cardinality.value,requestTime:A[0]+h[0].cardinality.value*T[0]+A[1]+E*T[1]},f)}}e.ActorRdfJoinMultiSmallestFilterBindings=l},90284:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorContextPreprocessQuerySourceIdentify=void 0;const c=s(98926),a=s(90711),o=s(90412),i=s(89096);class t extends c.ActorContextPreprocess{constructor(r){super(r),this.cache=this.cacheSize?new i.LRUCache({max:this.cacheSize}):void 0;const u=this.cache;u&&this.httpInvalidator.addInvalidateListener(({url:l})=>l?u.delete(l):u.clear())}async test(r){return(0,o.passTestVoid)()}async run(r){let u=r.context;if(u.has(a.KeysInitQuery.querySourcesUnidentified)){const l=r.context.get(a.KeysInitQuery.querySourcesUnidentified),d=await Promise.all(l.map(h=>this.expandSource(h))),p=await Promise.all(d.map(async h=>this.identifySource(h,r.context))),f=r.context.get(a.KeysStatistics.dereferencedLinks);if(f)for(const h of p)f.updateStatistic({url:h.source.referenceValue,metadata:{seed:!0}},h.source);u=r.context.delete(a.KeysInitQuery.querySourcesUnidentified).set(a.KeysQueryOperation.querySources,p)}return{context:u}}async expandSource(r){return typeof r=="string"||"match"in r?{value:r}:{...r,context:(await this.mediatorContextPreprocess.mediate({context:o.ActionContext.ensureActionContext(r.context??{})})).context}}identifySource(r,u){let l;return typeof r.value=="string"&&this.cache&&(l=this.cache.get(r.value)),l||(l=this.mediatorQuerySourceIdentify.mediate({querySourceUnidentified:r,context:u}).then(({querySource:d})=>d),typeof r.value=="string"&&this.cache&&this.cache.set(r.value,l)),l}}e.ActorContextPreprocessQuerySourceIdentify=t},90289:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.stringQuadToQuad=e.quadToStringQuad=e.stringToTerm=e.getLiteralLanguage=e.getLiteralType=e.getLiteralValue=e.termToString=void 0;const c=new(s(47793)).DataFactory;function a(r){if(r)switch(r.termType){case"NamedNode":case"DefaultGraph":return r.value;case"BlankNode":return"_:"+r.value;case"Literal":const u=r;return'"'+u.value+'"'+(u.datatype&&u.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&u.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?"^^"+u.datatype.value:"")+(u.language?"@"+u.language:"");case"Quad":return`<<${a(r.subject)} ${a(r.predicate)} ${a(r.object)}${r.graph.termType==="DefaultGraph"?"":" "+a(r.graph)}>>`;case"Variable":return"?"+r.value}}function o(r){const u=/^"([^]*)"/.exec(r);if(!u)throw new Error(r+" is not a literal");return u[1]}function i(r){const u=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(r);if(!u)throw new Error(r+" is not a literal");return u[1]||(u[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}function t(r){const u=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(r);if(!u)throw new Error(r+" is not a literal");return u[1]?u[1].toLowerCase():""}function n(r,u){if(u=u||c,!r||!r.length)return u.defaultGraph();switch(r[0]){case"_":return u.blankNode(r.substr(2));case"?":if(!u.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return u.variable(r.substr(1));case'"':const l=t(r),d=u.namedNode(i(r));return u.literal(o(r),l||d);default:if(r[0]==="<"&&r.length>4&&r[1]==="<"&&r[r.length-1]===">"&&r[r.length-2]===">"){const p=r.slice(2,-2).trim();let f=[],h=0,y=0,m=!1;for(let b=0;b<p.length;b++){const v=p[b];if(v==="<"&&h++,v===">"){if(h===0)throw new Error("Found closing tag without opening tag in "+r);h--}if(v==='"'){let _=!1,w=b;for(;w-- >0&&p[w]==="\\";)_=!_;_||(m=!m)}if(v===" "&&!m&&h===0){for(f.push(p.slice(y,b));p[b+1]===" ";)b+=1;y=b+1}}if(h!==0)throw new Error("Found opening tag without closing tag in "+r);if(f.push(p.slice(y,p.length)),f.length!==3&&f.length!==4)throw new Error("Nested quad syntax error "+r);return f=f.map(b=>b.startsWith("<")&&!b.includes(" ")?b.slice(1,-1):b),u.quad(n(f[0]),n(f[1]),n(f[2]),f[3]?n(f[3]):void 0)}return u.namedNode(r)}}e.termToString=a,e.getLiteralValue=o,e.getLiteralType=i,e.getLiteralLanguage=t,e.stringToTerm=n,e.quadToStringQuad=function(r){return{subject:a(r.subject),predicate:a(r.predicate),object:a(r.object),graph:a(r.graph)}},e.stringQuadToQuad=function(r,u){return(u=u||c).quad(n(r.subject,u),n(r.predicate,u),n(r.object,u),n(r.graph,u))}},90412:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(94301),e),a(s(92126),e),a(s(2437),e),a(s(84983),e),a(s(61782),e),a(s(681),e),a(s(65991),e),a(s(14231),e)},90602:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Logger=void 0;class s{static getLevelOrdinal(a){return s.LEVELS[a]}}e.Logger=s,s.LEVELS={trace:0,debug:1,info:2,warn:3,error:4,fatal:5}},90636:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},90691:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.termToString=e.stringToTerm=e.stringQuadToQuad=e.quadToStringQuad=e.getLiteralValue=e.getLiteralType=e.getLiteralLanguage=void 0;const c=s(90289);Object.defineProperty(e,"getLiteralLanguage",{enumerable:!0,get:function(){return c.getLiteralLanguage}}),Object.defineProperty(e,"getLiteralType",{enumerable:!0,get:function(){return c.getLiteralType}}),Object.defineProperty(e,"getLiteralValue",{enumerable:!0,get:function(){return c.getLiteralValue}}),Object.defineProperty(e,"quadToStringQuad",{enumerable:!0,get:function(){return c.quadToStringQuad}}),Object.defineProperty(e,"stringQuadToQuad",{enumerable:!0,get:function(){return c.stringQuadToQuad}}),Object.defineProperty(e,"stringToTerm",{enumerable:!0,get:function(){return c.stringToTerm}}),Object.defineProperty(e,"termToString",{enumerable:!0,get:function(){return c.termToString}})},90711:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(19039),e)},90718:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.filter=function(o,i,t,n){return t===void 0&&(t=!0),n===void 0&&(n=1/0),a(o,Array.isArray(i)?i:[i],t,n)},e.find=a,e.findOneChild=function(o,i){return i.find(o)},e.findOne=function o(i,t,n){n===void 0&&(n=!0);for(var r=Array.isArray(t)?t:[t],u=0;u<r.length;u++){var l=r[u];if((0,c.isTag)(l)&&i(l))return l;if(n&&(0,c.hasChildren)(l)&&l.children.length>0){var d=o(i,l.children,!0);if(d)return d}}return null},e.existsOne=function o(i,t){return(Array.isArray(t)?t:[t]).some(function(n){return(0,c.isTag)(n)&&i(n)||(0,c.hasChildren)(n)&&o(i,n.children)})},e.findAll=function(o,i){for(var t=[],n=[Array.isArray(i)?i:[i]],r=[0];;)if(r[0]>=n[0].length){if(n.length===1)return t;n.shift(),r.shift()}else{var u=n[0][r[0]++];(0,c.isTag)(u)&&o(u)&&t.push(u),(0,c.hasChildren)(u)&&u.children.length>0&&(r.unshift(0),n.unshift(u.children))}};var c=s(41141);function a(o,i,t,n){for(var r=[],u=[Array.isArray(i)?i:[i]],l=[0];;)if(l[0]>=u[0].length){if(l.length===1)return r;u.shift(),l.shift()}else{var d=u[0][l[0]++];if(o(d)&&(r.push(d),--n<=0))return r;t&&(0,c.hasChildren)(d)&&d.children.length>0&&(l.unshift(0),u.unshift(d.children))}}},90913:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.termToString=e.stringToTerm=e.stringQuadToQuad=e.quadToStringQuad=e.getLiteralValue=e.getLiteralType=e.getLiteralLanguage=void 0;const c=s(40611);Object.defineProperty(e,"getLiteralLanguage",{enumerable:!0,get:function(){return c.getLiteralLanguage}}),Object.defineProperty(e,"getLiteralType",{enumerable:!0,get:function(){return c.getLiteralType}}),Object.defineProperty(e,"getLiteralValue",{enumerable:!0,get:function(){return c.getLiteralValue}}),Object.defineProperty(e,"quadToStringQuad",{enumerable:!0,get:function(){return c.quadToStringQuad}}),Object.defineProperty(e,"stringQuadToQuad",{enumerable:!0,get:function(){return c.stringQuadToQuad}}),Object.defineProperty(e,"stringToTerm",{enumerable:!0,get:function(){return c.stringToTerm}}),Object.defineProperty(e,"termToString",{enumerable:!0,get:function(){return c.termToString}})},91172:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(65569),e)},91295:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorHttp=void 0;const c=s(90412),a=s(65806),o=s(31232),i=s(35276);class t extends c.Actor{constructor(r){super(r)}static toNodeReadable(r){return o(r)||r===null?r:(0,a.readableFromWeb)(r)}static toWebReadableStream(r){return i(r)}static headersToHash(r){const u={};return r.forEach((l,d)=>{u[d]=l}),u}static getInputUrl(r){return new URL(r instanceof Request?r.url:r)}static createUserAgent(r,u){if(!t.isBrowser()){const l=[`Comunica/${u.split(".")[0]}.0`,`${r}/${u}`];return typeof globalThis.navigator=="object"&&typeof globalThis.navigator.userAgent=="string"?l.push(globalThis.navigator.userAgent):typeof globalThis.process=="object"&&typeof globalThis.process.versions=="object"&&typeof globalThis.process.versions.node=="string"&&l.push(`Node.js/${globalThis.process.versions.node.split(".")[0]}`),typeof globalThis.process=="object"&&typeof globalThis.process.platform=="string"&&typeof globalThis.process.arch=="string"&&l.splice(1,0,`(${globalThis.process.platform}; ${globalThis.process.arch})`),l.join(" ")}}static isBrowser(){return typeof globalThis.window=="object"&&typeof globalThis.window.document=="object"||typeof globalThis.importScripts=="function"}}e.ActorHttp=t},91409:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(u,l,d,p){p===void 0&&(p=d);var f=Object.getOwnPropertyDescriptor(l,d);f&&!("get"in f?!l.__esModule:f.writable||f.configurable)||(f={enumerable:!0,get:function(){return l[d]}}),Object.defineProperty(u,p,f)}:function(u,l,d,p){p===void 0&&(p=d),u[p]=l[d]}),a=this&&this.__setModuleDefault||(Object.create?function(u,l){Object.defineProperty(u,"default",{enumerable:!0,value:l})}:function(u,l){u.default=l}),o=this&&this.__importStar||function(u){if(u&&u.__esModule)return u;var l={};if(u!=null)for(var d in u)d!=="default"&&Object.prototype.hasOwnProperty.call(u,d)&&c(l,u,d);return a(l,u),l};Object.defineProperty(e,"__esModule",{value:!0});const i=o(s(13079)),t=s(47793),n=s(34069),r=s(98082);e.default=class{constructor(u){this.dataFactory=u||new t.DataFactory,this.stringType=this.createTerm("http://www.w3.org/2001/XMLSchema#string")}createAlt(u,l=!0){return this.flattenMulti({type:i.types.ALT,input:u},l)}createAsk(u){return{type:i.types.ASK,input:u}}createBoundAggregate(u,l,d,p,f){const h=this.createAggregateExpression(l,d,p,f);return h.variable=u,h}createBgp(u){return{type:i.types.BGP,patterns:u}}createConstruct(u,l){return{type:i.types.CONSTRUCT,input:u,template:l}}createDescribe(u,l){return{type:i.types.DESCRIBE,input:u,terms:l}}createDistinct(u){return{type:i.types.DISTINCT,input:u}}createExtend(u,l,d){return{type:i.types.EXTEND,input:u,variable:l,expression:d}}createFrom(u,l,d){return{type:i.types.FROM,input:u,default:l,named:d}}createFilter(u,l){return{type:i.types.FILTER,input:u,expression:l}}createGraph(u,l){return{type:i.types.GRAPH,input:u,name:l}}createGroup(u,l,d){return{type:i.types.GROUP,input:u,variables:l,aggregates:d}}createInv(u){return{type:i.types.INV,path:u}}createJoin(u,l=!0){return this.flattenMulti({type:i.types.JOIN,input:u},l)}createLeftJoin(u,l,d){return d?{type:i.types.LEFT_JOIN,input:[u,l],expression:d}:{type:i.types.LEFT_JOIN,input:[u,l]}}createLink(u){return{type:i.types.LINK,iri:u}}createMinus(u,l){return{type:i.types.MINUS,input:[u,l]}}createNop(){return{type:i.types.NOP}}createNps(u){return{type:i.types.NPS,iris:u}}createOneOrMorePath(u){return{type:i.types.ONE_OR_MORE_PATH,path:u}}createOrderBy(u,l){return{type:i.types.ORDER_BY,input:u,expressions:l}}createPath(u,l,d,p){return p?{type:i.types.PATH,subject:u,predicate:l,object:d,graph:p}:{type:i.types.PATH,subject:u,predicate:l,object:d,graph:this.dataFactory.defaultGraph()}}createPattern(u,l,d,p){const f=this.dataFactory.quad(u,l,d,p);return f.type=i.types.PATTERN,f}createProject(u,l){return{type:i.types.PROJECT,input:u,variables:l}}createReduced(u){return{type:i.types.REDUCED,input:u}}createSeq(u,l=!0){return this.flattenMulti({type:i.types.SEQ,input:u},l)}createService(u,l,d){return{type:i.types.SERVICE,input:u,name:l,silent:!!d}}createSlice(u,l,d){return l=l||0,d!==void 0?{type:i.types.SLICE,input:u,start:l,length:d}:{type:i.types.SLICE,input:u,start:l}}createUnion(u,l=!0){return this.flattenMulti({type:i.types.UNION,input:u},l)}createValues(u,l){return{type:i.types.VALUES,variables:u,bindings:l}}createZeroOrMorePath(u){return{type:i.types.ZERO_OR_MORE_PATH,path:u}}createZeroOrOnePath(u){return{type:i.types.ZERO_OR_ONE_PATH,path:u}}createAggregateExpression(u,l,d,p){return p?{type:i.types.EXPRESSION,expressionType:i.expressionTypes.AGGREGATE,aggregator:u,expression:l,separator:p,distinct:d}:{type:i.types.EXPRESSION,expressionType:i.expressionTypes.AGGREGATE,aggregator:u,expression:l,distinct:d}}createExistenceExpression(u,l){return{type:i.types.EXPRESSION,expressionType:i.expressionTypes.EXISTENCE,not:u,input:l}}createNamedExpression(u,l){return{type:i.types.EXPRESSION,expressionType:i.expressionTypes.NAMED,name:u,args:l}}createOperatorExpression(u,l){return{type:i.types.EXPRESSION,expressionType:i.expressionTypes.OPERATOR,operator:u,args:l}}createTermExpression(u){return{type:i.types.EXPRESSION,expressionType:i.expressionTypes.TERM,term:u}}createWildcardExpression(){return{type:i.types.EXPRESSION,expressionType:i.expressionTypes.WILDCARD,wildcard:new r.Wildcard}}createTerm(u){return u[0]==="$"&&(u=u.replace("$","?")),(0,n.stringToTerm)(u,this.dataFactory)}createCompositeUpdate(u){return{type:i.types.COMPOSITE_UPDATE,updates:u}}createDeleteInsert(u,l,d){const p={type:i.types.DELETE_INSERT};return u&&(p.delete=u),l&&(p.insert=l),d&&(p.where=d),p}createLoad(u,l,d){const p={type:i.types.LOAD,source:u};return l&&(p.destination=l),this.addSilent(p,!!d)}createClear(u,l){return this.addSilent({type:i.types.CLEAR,source:u},!!l)}createCreate(u,l){return this.addSilent({type:i.types.CREATE,source:u},!!l)}createDrop(u,l){return this.addSilent({type:i.types.DROP,source:u},!!l)}createAdd(u,l,d){return this.addSilent({type:i.types.ADD,source:u,destination:l},!!d)}createMove(u,l,d){return this.addSilent({type:i.types.MOVE,source:u,destination:l},!!d)}createCopy(u,l,d){return this.addSilent({type:i.types.COPY,source:u,destination:l},!!d)}addSilent(u,l){return l&&(u.silent=l),u}flattenMulti(u,l){if(!l)return u;const d=u.type,p=u.input;let f=[];for(const h of p)h.type===d?f.push(...h.input):f.push(h);return u.input=f,u}}},91475:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},91685:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfParseXmlRdfa=void 0;const c=s(95124),a=s(90711),o=s(69749);class i extends c.ActorRdfParseFixedMediaTypes{constructor(n){super(n)}async runHandle(n,r,u){const l=n.context.getSafe(a.KeysInitQuery.dataFactory),d=(n.headers&&n.headers.get("content-language"))??void 0;n.data.on("error",f=>p.emit("error",f));const p=n.data.pipe(new o.RdfaParser({dataFactory:l,baseIRI:n.metadata?.baseIRI,profile:"xml",language:d}));return{data:p,metadata:{triples:!0}}}}e.ActorRdfParseXmlRdfa=i},91799:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(34169),e)},91891:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeHandlerDefinitionOperation=void 0;const c=s(66337);class a extends c.NodeHandlerDefinitionAdapter{constructor(i,t){super("OperationDefinition",i,t)}handle(i,t){if(i.operation!=="query")throw new Error("Unsupported definition operation: "+i.operation);if(i.variableDefinitions)for(const u of i.variableDefinitions){const l=u.variable.name.value;u.defaultValue&&(t.variablesDict[l]||(t.variablesDict[l]=u.defaultValue));let d=u.type;const p=d.kind==="NonNullType";p&&(d=d.type);const f=d.kind==="ListType";f&&(d=d.type);const h=d.name.value;t.variablesMetaDict[l]={mandatory:p,list:f,type:h}}const n=this.getDirectiveOutputs(i.directives,i.name?i.name.value:"",t);if(!n)return this.util.operationFactory.createBgp([]);const r=this.util.joinOperations(i.selectionSet.selections.map(u=>this.util.handleNode(u,t)));return this.handleDirectiveOutputs(n,r)}}e.NodeHandlerDefinitionOperation=a},92012:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(66284),e)},92015:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermXsdToDecimal=void 0;const c=s(77617),a=s(77545),o=s(73410);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.TypeURL.XSD_DECIMAL],termFunction:!0})}async run(n){return new o.TermFunctionXsdToDecimal}}e.ActorFunctionFactoryTermXsdToDecimal=i},92126:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Bus=void 0,e.Bus=class{constructor(s){this.actors=[],this.observers=[],this.dependencyLinks=new Map,Object.assign(this,s),this.failMessage=`All actors over bus ${this.name} failed to handle an action`}subscribe(s){this.actors.push(s),this.reorderForDependencies()}subscribeObserver(s){this.observers.push(s)}unsubscribe(s){const c=this.actors.indexOf(s);return c>=0&&(this.actors.splice(c,1),!0)}unsubscribeObserver(s){const c=this.observers.indexOf(s);return c>=0&&(this.observers.splice(c,1),!0)}publish(s){return this.actors.map(c=>({actor:c,reply:c.test(s)}))}onRun(s,c,a){for(const o of this.observers)o.onRun(s,c,a)}addDependencies(s,c){for(const a of c){let o=this.dependencyLinks.get(a);o||(o=[],this.dependencyLinks.set(a,o)),o.push(s)}this.reorderForDependencies()}reorderForDependencies(){if(this.dependencyLinks.size>0){const s=[];for(const c of this.dependencyLinks.keys()){const a=this.actors.indexOf(c);a>=0&&(this.actors.splice(a,1),s.push(c))}for(;s.length>0;){let c=-1;for(let o=0;o<s.length;o++){let i=!0;for(const t of this.dependencyLinks.get(s[o]))if(!this.actors.includes(t)&&s.includes(t)){i=!1;break}if(i){c=o;break}}if(c<0)throw new Error(`Cyclic dependency links detected in bus ${this.name}`);const a=s.splice(c,1)[0];this.actors.push(a)}}}}},92142:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultGraph=void 0;class s{constructor(){this.termType="DefaultGraph",this.value=""}equals(a){return!!a&&a.termType==="DefaultGraph"}}e.DefaultGraph=s,s.INSTANCE=new s},92180:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(39830),e)},92231:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryOperationPathSeq=void 0;const c=s(97091),a=s(90711),o=s(67021),i=s(96331);class t extends c.ActorAbstractPath{constructor(r){super(r,i.Algebra.types.SEQ)}async runOperation(r,u){const l=u.getSafe(a.KeysInitQuery.dataFactory),d=new i.Factory(l),p=r.predicate;let f=r.subject;const h=[],y=await Promise.all(p.input.map((b,v)=>{const _=v===p.input.length-1?r.object:this.generateVariable(l,r,`b${v}`),w=d.createPath(f,b,_,r.graph),O=this.mediatorQueryOperation.mediate({context:u,operation:w});return f=_,v<p.input.length-1&&h.push(_),{output:O,operation:w}}).map(async({output:b,operation:v})=>({output:(0,o.getSafeBindings)(await b),operation:v}))),m=(0,o.getSafeBindings)(await this.mediatorJoin.mediate({type:"inner",entries:y,context:u}));return{type:"bindings",bindingsStream:m.bindingsStream.transform({transform(b,v,_){for(const w of h)b=b.delete(w);_(b),v()}}),async metadata(){const b=await m.metadata(),v=b.variables.filter(_=>!h.some(w=>w.value===_.variable.value));return{...b,variables:v}}}}}e.ActorQueryOperationPathSeq=t},92405:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.stringQuadToQuad=e.quadToStringQuad=e.stringToTerm=e.getLiteralLanguage=e.getLiteralType=e.getLiteralValue=e.termToString=void 0;const c=new(s(47793)).DataFactory;function a(r){if(r)switch(r.termType){case"NamedNode":case"DefaultGraph":return r.value;case"BlankNode":return"_:"+r.value;case"Literal":const u=r;return'"'+u.value+'"'+(u.datatype&&u.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&u.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?"^^"+u.datatype.value:"")+(u.language?"@"+u.language:"");case"Quad":return`<<${a(r.subject)} ${a(r.predicate)} ${a(r.object)}${r.graph.termType==="DefaultGraph"?"":" "+a(r.graph)}>>`;case"Variable":return"?"+r.value}}function o(r){const u=/^"([^]*)"/.exec(r);if(!u)throw new Error(r+" is not a literal");return u[1]}function i(r){const u=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(r);if(!u)throw new Error(r+" is not a literal");return u[1]||(u[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}function t(r){const u=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(r);if(!u)throw new Error(r+" is not a literal");return u[1]?u[1].toLowerCase():""}function n(r,u){if(u=u||c,!r||!r.length)return u.defaultGraph();switch(r[0]){case"_":return u.blankNode(r.substr(2));case"?":if(!u.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return u.variable(r.substr(1));case'"':const l=t(r),d=u.namedNode(i(r));return u.literal(o(r),l||d);default:if(r[0]==="<"&&r.length>4&&r[1]==="<"&&r[r.length-1]===">"&&r[r.length-2]===">"){const p=r.slice(2,-2).trim();let f=[],h=0,y=0,m=!1;for(let b=0;b<p.length;b++){const v=p[b];if(v==="<"&&h++,v===">"){if(h===0)throw new Error("Found closing tag without opening tag in "+r);h--}if(v==='"'){let _=!1,w=b;for(;w-- >0&&p[w]==="\\";)_=!_;_||(m=!m)}if(v===" "&&!m&&h===0){for(f.push(p.slice(y,b));p[b+1]===" ";)b+=1;y=b+1}}if(h!==0)throw new Error("Found opening tag without closing tag in "+r);if(f.push(p.slice(y,p.length)),f.length!==3&&f.length!==4)throw new Error("Nested quad syntax error "+r);return f=f.map(b=>b.startsWith("<")&&!b.includes(" ")?b.slice(1,-1):b),u.quad(n(f[0]),n(f[1]),n(f[2]),f[3]?n(f[3]):void 0)}return u.namedNode(r)}}e.termToString=a,e.getLiteralValue=o,e.getLiteralType=i,e.getLiteralLanguage=t,e.stringToTerm=n,e.quadToStringQuad=function(r){return{subject:a(r.subject),predicate:a(r.predicate),object:a(r.object),graph:a(r.graph)}},e.stringQuadToQuad=function(r,u){return(u=u||c).quad(n(r.subject,u),n(r.predicate,u),n(r.object,u),n(r.graph,u))}},92423:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(24960),e)},92603:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(59636),e)},92615:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionIsLiteral=void 0;const c=s(77617),a=s(77545);class o extends c.TermFunctionBase{constructor(){super({arity:1,operator:a.SparqlOperator.IS_LITERAL,overloads:(0,a.declare)(a.SparqlOperator.IS_LITERAL).onTerm1(()=>t=>(0,a.bool)(t.termType==="literal")).collect()})}}e.TermFunctionIsLiteral=o},92647:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorAbstractPath=void 0;const c=s(66490),a=s(90711),o=s(90412),i=s(67021),t=s(75627),n=s(1725),r=s(96331),u=s(71493);class l extends c.ActorQueryOperationTypedMediated{constructor(p,f){super(p,"path"),this.predicateType=f}async testOperation(p,f){return p.predicate.type!==this.predicateType?(0,o.failTest)(`This Actor only supports ${this.predicateType} Path operations.`):(0,o.passTestVoid)()}generateVariable(p,f,h){return h?!f||f.subject.value!==h&&f.object.value!==h?p.variable(h):this.generateVariable(p,f,`${h}b`):this.generateVariable(p,f,"b")}async isPathArbitraryLengthDistinct(p,f,h){return f.get(a.KeysQueryOperation.isPathArbitraryLengthDistinctKey)?{context:f=f.set(a.KeysQueryOperation.isPathArbitraryLengthDistinctKey,!1),operation:void 0}:{context:f=f.set(a.KeysQueryOperation.isPathArbitraryLengthDistinctKey,!0),operation:(0,i.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:p.createDistinct(h),context:f}))}}async predicateStarGraphVariable(p,f,h,y,m,b,v){const _=this.getPathSources(h),w=this.generateVariable(b.dataFactory,b.createPath(p,h,f,y)),O=b.createUnion([this.assignPatternSources(b,b.createPattern(p,w,f,y),_),this.assignPatternSources(b,b.createPattern(f,w,p,y),_)]),A=(0,i.getSafeBindings)(await this.mediatorQueryOperation.mediate({context:m,operation:O})),T=new Set;return{bindingsStream:new t.MultiTransformIterator(A.bindingsStream,{multiTransform:S=>{const E=S.get(y);return T.has(E.value)?new t.EmptyIterator:(T.add(E.value),new t.TransformIterator(async()=>{const D=new t.BufferedIterator;return await this.getObjectsPredicateStar(b,p,h,E,m,{},D,{count:0}),D.map(I=>v.bindings([[f,I],[y,E]]))},{maxBufferSize:128}))},autoStart:!1}),metadata:A.metadata}}async getObjectsPredicateStarEval(p,f,h,y,m,b,v,_){if(y.termType==="Variable")return this.predicateStarGraphVariable(p,h,f,y,m,v,_);const w=new u.PathVariableObjectIterator(v,p,f,y,m,this.mediatorQueryOperation,b);return{bindingsStream:w.map(O=>_.bindings([[h,O]])),async metadata(){const O=await new Promise(A=>{w.getProperty("metadata",T=>A(T()))});return O.cardinality.value++,O}}}async getObjectsPredicateStar(p,f,h,y,m,b,v,_){const w=(0,n.termToString)(f);if(b[w])return;v._push(f),b[w]=f,_.count++;const O=this.generateVariable(p.dataFactory),A=p.createPath(f,h,O,y),T=(0,i.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:A,context:m}));return T.bindingsStream.on("data",async S=>{const E=S.get(O);await this.getObjectsPredicateStar(p,E,h,y,m,b,v,_)}),T.bindingsStream.on("end",()=>{--_.count===0&&v.close()}),T.metadata}async getSubjectAndObjectBindingsPredicateStar(p,f,h,y,m,b,v,_,w,O,A,T,S){const E=(0,n.termToString)(y)+(0,n.termToString)(b);if(w[E])return;if(A.count++,w[E]=!0,O._push(S.bindings([[p,h],[f,y]])),E in _){const I=await _[E];for(const V of I)await this.getSubjectAndObjectBindingsPredicateStar(p,f,h,V,m,b,v,_,w,O,A,T,S);return void(--A.count===0&&O.close())}const D=new Promise(async(I,V)=>{const K=[],B=this.generateVariable(T.dataFactory),$=T.createPath(y,m,B,b),G=(0,i.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:$,context:v}));G.bindingsStream.on("data",async U=>{const W=U.get(B);K.push(W),await this.getSubjectAndObjectBindingsPredicateStar(p,f,h,W,m,b,v,_,w,O,A,T,S)}),G.bindingsStream.on("error",V),G.bindingsStream.on("end",()=>{--A.count===0&&O.close(),I(K)})});_[E]=D}getPathSources(p){switch(p.type){case r.Algebra.types.ALT:case r.Algebra.types.SEQ:return p.input.flatMap(f=>this.getPathSources(f));case r.Algebra.types.INV:case r.Algebra.types.ONE_OR_MORE_PATH:case r.Algebra.types.ZERO_OR_MORE_PATH:case r.Algebra.types.ZERO_OR_ONE_PATH:return this.getPathSources(p.path);case r.Algebra.types.LINK:case r.Algebra.types.NPS:{const f=(0,i.getOperationSource)(p);if(!f)throw new Error("Could not find a required source on a link path operation");return[f]}}}assignPatternSources(p,f,h){if(h.length===0)throw new Error("Attempted to assign zero sources to a pattern during property path handling");return h.length===1?(0,i.assignOperationSource)(f,h[0]):p.createUnion(h.map(y=>(0,i.assignOperationSource)(f,y)),!0)}}e.ActorAbstractPath=l},92710:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},92796:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(86780),e)},92810:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionXsdToDouble=void 0;const c=s(77617),a=s(77545);class o extends c.TermFunctionBase{constructor(){super({arity:1,operator:a.TypeURL.XSD_DOUBLE,overloads:(0,a.declare)(a.TypeURL.XSD_DOUBLE).onNumeric1(()=>t=>(0,a.double)(t.typedValue)).onBoolean1Typed(()=>t=>(0,a.double)(t?1:0)).onUnary(a.TypeURL.XSD_STRING,()=>t=>{const n=(0,a.parseXSDFloat)(t.str());if(n===void 0)throw new a.CastError(t,a.TypeURL.XSD_DOUBLE);return(0,a.double)(n)},!1).collect()})}}e.TermFunctionXsdToDouble=o},92861:(g,e,s)=>{var c=s(48287),a=c.Buffer;function o(t,n){for(var r in t)n[r]=t[r]}function i(t,n,r){return a(t,n,r)}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?g.exports=c:(o(c,e),e.Buffer=i),i.prototype=Object.create(a.prototype),o(a,i),i.from=function(t,n,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return a(t,n,r)},i.alloc=function(t,n,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var u=a(t);return n!==void 0?typeof r=="string"?u.fill(n,r):u.fill(n):u.fill(0),u},i.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return a(t)},i.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return c.SlowBuffer(t)}},92951:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.termToString=e.stringToTerm=e.stringQuadToQuad=e.quadToStringQuad=e.getLiteralValue=e.getLiteralType=e.getLiteralLanguage=void 0;const c=s(84565);Object.defineProperty(e,"getLiteralLanguage",{enumerable:!0,get:function(){return c.getLiteralLanguage}}),Object.defineProperty(e,"getLiteralType",{enumerable:!0,get:function(){return c.getLiteralType}}),Object.defineProperty(e,"getLiteralValue",{enumerable:!0,get:function(){return c.getLiteralValue}}),Object.defineProperty(e,"quadToStringQuad",{enumerable:!0,get:function(){return c.quadToStringQuad}}),Object.defineProperty(e,"stringQuadToQuad",{enumerable:!0,get:function(){return c.stringQuadToQuad}}),Object.defineProperty(e,"stringToTerm",{enumerable:!0,get:function(){return c.stringToTerm}}),Object.defineProperty(e,"termToString",{enumerable:!0,get:function(){return c.termToString}})},92959:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(67528),e)},92973:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(28498),e)},93028:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(s,c){if(!s)throw new Error(c)}},93099:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ParsingContext=void 0;const c=s(42395),a=s(75094),o=s(4405),i=s(52277);class t{constructor(r){this.contextParser=new c.ContextParser({documentLoader:r.documentLoader,skipValidation:r.skipContextValidation}),this.streamingProfile=!!r.streamingProfile,this.baseIRI=r.baseIRI,this.produceGeneralizedRdf=!!r.produceGeneralizedRdf,this.allowSubjectList=!!r.allowSubjectList,this.processingMode=r.processingMode||i.JsonLdParser.DEFAULT_PROCESSING_MODE,this.strictValues=!!r.strictValues,this.validateValueIndexes=!!r.validateValueIndexes,this.defaultGraph=r.defaultGraph,this.rdfDirection=r.rdfDirection,this.normalizeLanguageTags=r.normalizeLanguageTags,this.streamingProfileAllowOutOfOrderPlainType=r.streamingProfileAllowOutOfOrderPlainType,this.rdfstar=r.rdfstar!==!1,this.rdfstarReverseInEmbedded=r.rdfstarReverseInEmbedded,this.topLevelProperties=!1,this.activeProcessingMode=parseFloat(this.processingMode),this.processingStack=[],this.processingType=[],this.emittedStack=[],this.idStack=[],this.graphStack=[],this.graphContainerTermStack=[],this.listPointerStack=[],this.contextTree=new o.ContextTree,this.literalStack=[],this.validationStack=[],this.unaliasedKeywordCacheStack=[],this.jsonLiteralStack=[],this.unidentifiedValuesBuffer=[],this.unidentifiedGraphsBuffer=[],this.annotationsBuffer=[],this.pendingContainerFlushBuffers=[],this.parser=r.parser,r.context?(this.rootContext=this.parseContext(r.context),this.rootContext.then(u=>this.validateContext(u))):this.rootContext=Promise.resolve(new c.JsonLdContextNormalized(this.baseIRI?{"@base":this.baseIRI,"@__baseDocument":!0}:{}))}async parseContext(r,u,l){return this.contextParser.parse(r,{baseIRI:this.baseIRI,ignoreProtection:l,normalizeLanguageTags:this.normalizeLanguageTags,parentContext:u,processingMode:this.activeProcessingMode})}validateContext(r){const u=r.getContextRaw()["@version"];if(u){if(this.activeProcessingMode&&u>this.activeProcessingMode)throw new a.ErrorCoded(`Unsupported JSON-LD version '${u}' under active processing mode ${this.activeProcessingMode}.`,a.ERROR_CODES.PROCESSING_MODE_CONFLICT);if(this.activeProcessingMode&&u<this.activeProcessingMode)throw new a.ErrorCoded(`Invalid JSON-LD version ${u} under active processing mode ${this.activeProcessingMode}.`,a.ERROR_CODES.INVALID_VERSION_VALUE);this.activeProcessingMode=u}}async getContext(r,u=1){const l=r;for(;typeof r[r.length-1]=="number";)r=r.slice(0,r.length-1);u&&(r=r.slice(0,-u));const d=await this.getContextPropagationAware(r);let p=d.context.getContextRaw();for(let f=d.depth;f<l.length-u;f++){const h=l[f],y=p[h];if(y&&typeof y=="object"&&"@context"in y){const m=(await this.parseContext(y,p,!0)).getContextRaw(),b=!(h in m)||m[h]["@context"]["@propagate"];b===!1&&f!==l.length-1-u||(p=Object.assign({},m),delete p["@propagate"],p[h]=Object.assign({},p[h]),"@id"in y&&(p[h]["@id"]=y["@id"]),delete p[h]["@context"],b!==!1&&this.contextTree.setContext(l.slice(0,f+u),Promise.resolve(new c.JsonLdContextNormalized(p))))}}return new c.JsonLdContextNormalized(p)}async getContextPropagationAware(r){const u=r.length;let l,d=null;do{l=!1,d&&"@__propagateFallback"in d.context.getContextRaw()?d.context=new c.JsonLdContextNormalized(d.context.getContextRaw()["@__propagateFallback"]):(d&&(r=r.slice(0,d.depth-1)),d=await this.contextTree.getContext(r)||{context:await this.rootContext,depth:0});const p=r[r.length-1];if(p in d.context.getContextRaw()){const f=d.context.getContextRaw()[p];f&&typeof f=="object"&&"@context"in f&&(l=!0)}}while(d.depth>0&&d.context.getContextRaw()["@propagate"]===!1&&d.depth!==u&&!l);return d.depth===0&&d.context.getContextRaw()["@propagate"]===!1&&d.depth!==u&&(d.context=new c.JsonLdContextNormalized({})),d}async newOnValueJob(r,u,l,d){await this.parser.newOnValueJob(r,u,l,d)}async handlePendingContainerFlushBuffers(){if(this.pendingContainerFlushBuffers.length>0){for(const r of this.pendingContainerFlushBuffers)await this.parser.flushBuffer(r.depth,r.keys),this.parser.flushStacks(r.depth);return this.pendingContainerFlushBuffers.splice(0,this.pendingContainerFlushBuffers.length),!0}return!1}emitQuad(r,u){r===1&&(this.topLevelProperties=!0),this.parser.push(u)}emitError(r){this.parser.emit("error",r)}emitContext(r){this.parser.emit("context",r)}getUnidentifiedValueBufferSafe(r){let u=this.unidentifiedValuesBuffer[r];return u||(u=[],this.unidentifiedValuesBuffer[r]=u),u}getUnidentifiedGraphBufferSafe(r){let u=this.unidentifiedGraphsBuffer[r];return u||(u=[],this.unidentifiedGraphsBuffer[r]=u),u}getAnnotationsBufferSafe(r){let u=this.annotationsBuffer[r];return u||(u=[],this.annotationsBuffer[r]=u),u}getExpandOptions(){return t.EXPAND_OPTIONS[this.activeProcessingMode]}shiftStack(r,u){const l=this.idStack[r+u];if(l&&(this.idStack[r]=l,this.emittedStack[r]=!0,delete this.idStack[r+u]),this.pendingContainerFlushBuffers.length)for(const d of this.pendingContainerFlushBuffers)d.depth>=r+u&&(d.depth-=u,d.keys.splice(r,u));this.unidentifiedValuesBuffer[r+u]&&(this.unidentifiedValuesBuffer[r]=this.unidentifiedValuesBuffer[r+u],delete this.unidentifiedValuesBuffer[r+u]),this.annotationsBuffer[r+u-1]&&(this.annotationsBuffer[r-1]||(this.annotationsBuffer[r-1]=[]),this.annotationsBuffer[r-1]=[...this.annotationsBuffer[r-1],...this.annotationsBuffer[r+u-1]],delete this.annotationsBuffer[r+u-1])}}t.EXPAND_OPTIONS={1:{allowPrefixForcing:!1,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!1},1.1:{allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}},e.ParsingContext=t},93111:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermUuid=void 0;const c=s(77617),a=s(77545),o=s(3742);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.SparqlOperator.UUID],termFunction:!0})}async run(n){return new o.TermFunctionUuid}}e.ActorFunctionFactoryTermUuid=i},93370:(g,e,s)=>{const{ObjectDefineProperties:c,ObjectGetOwnPropertyDescriptor:a,ObjectKeys:o,ObjectSetPrototypeOf:i}=s(24134);g.exports=r;const t=s(57576),n=s(78584);i(r.prototype,t.prototype),i(r,t);{const p=o(n.prototype);for(let f=0;f<p.length;f++){const h=p[f];r.prototype[h]||(r.prototype[h]=n.prototype[h])}}function r(p){if(!(this instanceof r))return new r(p);t.call(this,p),n.call(this,p),p?(this.allowHalfOpen=p.allowHalfOpen!==!1,p.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),p.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let u,l;function d(){return u===void 0&&(u={}),u}c(r.prototype,{writable:{__proto__:null,...a(n.prototype,"writable")},writableHighWaterMark:{__proto__:null,...a(n.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...a(n.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...a(n.prototype,"writableBuffer")},writableLength:{__proto__:null,...a(n.prototype,"writableLength")},writableFinished:{__proto__:null,...a(n.prototype,"writableFinished")},writableCorked:{__proto__:null,...a(n.prototype,"writableCorked")},writableEnded:{__proto__:null,...a(n.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...a(n.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set(p){this._readableState&&this._writableState&&(this._readableState.destroyed=p,this._writableState.destroyed=p)}}}),r.fromWeb=function(p,f){return d().newStreamDuplexFromReadableWritablePair(p,f)},r.toWeb=function(p){return d().newReadableWritablePairFromDuplex(p)},r.from=function(p){return l||(l=s(46706)),l(p,"body")}},93408:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(94690),e),a(s(98329),e)},93734:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(40916),e)},93742:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(22719),e)},93974:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.numberToString=e.MemoryPhysicalQueryPlanLogger=void 0;const c=s(3401);function a(o){return o.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:3})}e.MemoryPhysicalQueryPlanLogger=class{constructor(){this.planNodes=new Map}logOperation(o,i,t,n,r,u){const l={actor:r,logicalOperator:o,physicalOperator:i,rawNode:t,children:[],metadata:u};if(this.planNodes.set(t,l),this.rootNode){if(!n)throw new Error("Detected more than one parent-less node");const d=this.planNodes.get(n);if(!d)throw new Error("Could not find parent node");d.children.push(l)}else{if(n)throw new Error("No root node has been set yet, while a parent is being referenced");this.rootNode=l}}stashChildren(o,i){const t=this.planNodes.get(o);if(!t)throw new Error("Could not find plan node");t.children=i?t.children.filter(i):[]}unstashChild(o,i){const t=this.planNodes.get(o);if(t){const n=this.planNodes.get(i);if(!n)throw new Error("Could not find plan parent node");n.children.push(t)}}appendMetadata(o,i){const t=this.planNodes.get(o);t&&(t.metadata={...t.metadata,...i})}toJson(){return this.rootNode?this.planNodeToJson(this.rootNode):{}}planNodeToJson(o){const i={logical:o.logicalOperator,physical:o.physicalOperator,...this.getLogicalMetadata(o.rawNode),...this.compactMetadata(o.metadata)};if(o.children.length>0&&(i.children=o.children.map(t=>this.planNodeToJson(t))),i.physical==="bind"&&i.children){const t={};for(const r of i.children){const u=r.children?.at(-1)??r,l=this.getPlanHash(u).join(",");t[l]||(t[l]=[]),t[l].push(r)}const n=[];for(const r of Object.values(t))n.push({occurrences:r.length,firstOccurrence:r[0]});i.childrenCompact=n,delete i.children}return i}getPlanHash(o){let i=[`${o.logical}-${o.physical}`];return o.children?i=[...i,...o.children.flatMap(t=>this.getPlanHash(t))]:o.childrenCompact&&(i=[...i,...o.childrenCompact.flatMap(t=>this.getPlanHash(t.firstOccurrence))]),i}compactMetadata(o){return Object.fromEntries(Object.entries(o).map(([i,t])=>[i,this.compactMetadataValue(t)]))}compactMetadataValue(o){return o&&typeof o=="object"&&"termType"in o?this.getLogicalMetadata(o):o}getLogicalMetadata(o){const i={};if("type"in o){const t=o;switch(t.metadata?.scopedSource&&(i.source=t.metadata.scopedSource.source.toString()),t.type){case"pattern":i.pattern=this.quadToString(t);break;case"project":i.variables=t.variables.map(n=>n.value)}}return i}quadToString(o){return`${(0,c.termToString)(o.subject)} ${(0,c.termToString)(o.predicate)} ${(0,c.termToString)(o.object)}${o.graph.termType==="DefaultGraph"?"":` ${(0,c.termToString)(o.graph)}`}`}toCompactString(){const o=this.toJson(),i=[],t=new Map;if("logical"in o?this.nodeToCompactString(i,t,"",o):i.push("Empty"),t.size>0){i.push(""),i.push("sources:");for(const[n,r]of t.entries())i.push(`  ${r}: ${n}`)}return i.join(`
`)}nodeToCompactString(o,i,t,n,r){let u;n.source&&(u=i.get(n.source),u===void 0&&(u=i.size,i.set(n.source,u))),o.push(`${t}${n.logical}${n.physical?`(${n.physical})`:""}${n.pattern?` (${n.pattern})`:""}${n.variables?` (${n.variables.join(",")})`:""}${n.bindOperation?` bindOperation:(${n.bindOperation.pattern}) bindCardEst:${n.bindOperationCardinality.type==="estimate"?"~":""}${a(n.bindOperationCardinality.value)}`:""}${n.cardinality?` cardEst:${n.cardinality.type==="estimate"?"~":""}${a(n.cardinality.value)}`:""}${n.source?` src:${u}`:""}${n.cardinalityReal?` cardReal:${n.cardinalityReal}`:""}${n.timeSelf?` timeSelf:${a(n.timeSelf)}ms`:""}${n.timeLife?` timeLife:${a(n.timeLife)}ms`:""}${r?` ${r}`:""}`);for(const l of n.children??[])this.nodeToCompactString(o,i,`${t}  `,l);for(const l of n.childrenCompact??[])this.nodeToCompactString(o,i,`${t}  `,l.firstOccurrence,`compacted-occurrences:${l.occurrences}`)}},e.numberToString=a},94174:function(g,e,s){var c=this&&this.__awaiter||function(r,u,l,d){return new(l||(l=Promise))(function(p,f){function h(b){try{m(d.next(b))}catch(v){f(v)}}function y(b){try{m(d.throw(b))}catch(v){f(v)}}function m(b){var v;b.done?p(b.value):(v=b.value,v instanceof l?v:new l(function(_){_(v)})).then(h,y)}m((d=d.apply(r,u||[])).next())})},a=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(e,"__esModule",{value:!0}),e.write=void 0;const o=s(25828),i=a(s(55977)),t=a(s(51167)),n=a(s(18996));e.write=function(r,u){return c(this,void 0,void 0,function*(){return new Promise((l,d)=>c(this,void 0,void 0,function*(){try{let p="";const f=new n.default(r),h=f.getGraphs(null,null,null);if(h.length>1)throw new Error("More than one graph found - can serialize in the default graph");if(h.length===1&&!h[0].equals(o.DataFactory.defaultGraph()))throw new Error(`Expected all triples to be in the default graph, instead triples were in ${h[0].value}`);const y=new t.default({write:b=>{p+=b},end:()=>{let b=f.getQuads(null,null,null,null);b.length===0&&(b=void 0),l({text:p,extraQuads:b})}});yield new i.default(f,y,u?.prefixes,void 0,u?.errorOnUnused!==!1,u?.mintPrefixes,u?.fetch,u?.extendedSyntax,u?.requireBase!==!1).write()}catch(p){d(p)}}))})}},94259:(g,e,s)=>{const{ArrayIsArray:c,ObjectSetPrototypeOf:a}=s(24134),{EventEmitter:o}=s(37007);function i(n){o.call(this,n)}function t(n,r,u){if(typeof n.prependListener=="function")return n.prependListener(r,u);n._events&&n._events[r]?c(n._events[r])?n._events[r].unshift(u):n._events[r]=[u,n._events[r]]:n.on(r,u)}a(i.prototype,o.prototype),a(i,o),i.prototype.pipe=function(n,r){const u=this;function l(b){n.writable&&n.write(b)===!1&&u.pause&&u.pause()}function d(){u.readable&&u.resume&&u.resume()}u.on("data",l),n.on("drain",d),n._isStdio||r&&r.end===!1||(u.on("end",f),u.on("close",h));let p=!1;function f(){p||(p=!0,n.end())}function h(){p||(p=!0,typeof n.destroy=="function"&&n.destroy())}function y(b){m(),o.listenerCount(this,"error")===0&&this.emit("error",b)}function m(){u.removeListener("data",l),n.removeListener("drain",d),u.removeListener("end",f),u.removeListener("close",h),u.removeListener("error",y),n.removeListener("error",y),u.removeListener("end",m),u.removeListener("close",m),n.removeListener("close",m)}return t(u,"error",y),t(n,"error",y),u.on("end",m),u.on("close",m),n.on("close",m),n.emit("pipe",u),n},g.exports={Stream:i,prependListener:t}},94299:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.updateV7State=void 0;const c=s(52291),a=s(76011),o={};function i(n,r,u){return n.msecs??=-1/0,n.seq??=0,r>n.msecs?(n.seq=u[6]<<23|u[7]<<16|u[8]<<8|u[9],n.msecs=r):(n.seq=n.seq+1|0,n.seq===0&&n.msecs++),n}function t(n,r,u,l,d=0){if(n.length<16)throw new Error("Random bytes length must be >= 16");if(l){if(d<0||d+16>l.length)throw new RangeError(`UUID byte range ${d}:${d+15} is out of buffer bounds`)}else l=new Uint8Array(16),d=0;return r??=Date.now(),u??=127*n[6]<<24|n[7]<<16|n[8]<<8|n[9],l[d++]=r/1099511627776&255,l[d++]=r/4294967296&255,l[d++]=r/16777216&255,l[d++]=r/65536&255,l[d++]=r/256&255,l[d++]=255&r,l[d++]=112|u>>>28&15,l[d++]=u>>>20&255,l[d++]=128|u>>>14&63,l[d++]=u>>>6&255,l[d++]=u<<2&255|3&n[10],l[d++]=n[11],l[d++]=n[12],l[d++]=n[13],l[d++]=n[14],l[d++]=n[15],l}e.updateV7State=i,e.default=function(n,r,u){let l;if(n)l=t(n.random??n.rng?.()??(0,c.default)(),n.msecs,n.seq,r,u);else{const d=Date.now(),p=(0,c.default)();i(o,d,p),l=t(p,o.msecs,o.seq,r,u)}return r??(0,a.unsafeStringify)(l)}},94301:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActionContextKey=e.ActionContext=void 0;const c=s(49568);class a{constructor(t={}){this.map=(0,c.Map)(t)}setDefault(t,n){return this.has(t)?this:this.set(t,n)}set(t,n){return this.setRaw(t.name,n)}setRaw(t,n){return new a(this.map.set(t,n))}delete(t){return new a(this.map.delete(t.name))}get(t){return this.getRaw(t.name)}getRaw(t){return this.map.get(t)}getSafe(t){if(!this.has(t))throw new Error(`Context entry ${t.name} is required but not available`);return this.get(t)}has(t){return this.hasRaw(t.name)}hasRaw(t){return this.map.has(t)}merge(...t){let n=this;for(const r of t)for(const u of r.keys())n=n.set(u,r.get(u));return n}keys(){return[...this.map.keys()].map(t=>new o(t))}toJS(){return this.map.toJS()}toString(){return`ActionContext(${JSON.stringify(this.map.toJS())})`}[Symbol.for("nodejs.util.inspect.custom")](){return`ActionContext(${JSON.stringify(this.map.toJS(),null,"  ")})`}static ensureActionContext(t){return t instanceof a?t:new a((0,c.Map)(t??{}))}}e.ActionContext=a;class o{constructor(t){this.name=t}}e.ActionContextKey=o},94311:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(16883),e)},94379:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(85572),e)},94410:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(36356),e)},94424:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorDereferenceRdfParse=void 0;const c=s(86475);class a extends c.ActorDereferenceRdf{constructor(i){super(i)}async getMetadata(i){return{baseIRI:i.url}}}e.ActorDereferenceRdfParse=a},94460:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.attributeNames=e.elementNames=void 0,e.elementNames=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(function(s){return[s.toLowerCase(),s]})),e.attributeNames=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(function(s){return[s.toLowerCase(),s]}))},94690:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActionObserverHttp=void 0;const c=s(90412);class a extends c.ActionObserver{constructor(i){super(i),this.requests=0,this.bus.subscribeObserver(this),this.httpInvalidator.addInvalidateListener(()=>{this.requests=0})}onRun(i,t,n){this.observedActors.includes(i.name)&&this.requests++}}e.ActionObserverHttp=a},94731:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(1166),e)},94802:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(92),e),a(s(37258),e),a(s(82406),e),a(s(96925),e),a(s(14191),e)},94931:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Util=void 0;class s{static isCompactIri(a){return a.indexOf(":")>0&&!(a&&a[0]==="#")}static getPrefix(a,o){if(a&&a[0]==="#")return null;const i=a.indexOf(":");if(i>=0){if(a.length>i+1&&a.charAt(i+1)==="/"&&a.charAt(i+2)==="/")return null;const t=a.substr(0,i);if(t==="_")return null;if(o[t])return t}return null}static getContextValueId(a){return a===null||typeof a=="string"?a:a["@id"]||null}static isSimpleTermDefinitionPrefix(a,o){return!s.isPotentialKeyword(a)&&(o.allowPrefixNonGenDelims||typeof a=="string"&&(a[0]==="_"||s.isPrefixIriEndingWithGenDelim(a)))}static isPotentialKeyword(a){return typeof a=="string"&&s.KEYWORD_REGEX.test(a)}static isPrefixIriEndingWithGenDelim(a){return s.ENDS_WITH_GEN_DELIM.test(a)}static isPrefixValue(a){return a&&(typeof a=="string"||a&&typeof a=="object")}static isValidIri(a){return!!(a&&s.IRI_REGEX.test(a))}static isValidIriWeak(a){return!!a&&a[0]!==":"&&s.IRI_REGEX_WEAK.test(a)}static isValidKeyword(a){return s.VALID_KEYWORDS[a]}static isTermProtected(a,o){const i=a[o];return typeof i!="string"&&i&&i["@protected"]}static hasProtectedTerms(a){for(const o of Object.keys(a))if(s.isTermProtected(a,o))return!0;return!1}static isReservedInternalKeyword(a){return a.startsWith("@__")}static deepEqual(a,o){const i=Object.keys(a),t=Object.keys(o);return i.length===t.length&&i.every(n=>{const r=a[n],u=o[n];return r===u||r!==null&&u!==null&&typeof r=="object"&&typeof u=="object"&&this.deepEqual(r,u)})}}s.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^ "<>{}|\\\[\]`#]*(#[^#]*)?$/,s.IRI_REGEX_WEAK=/(?::[^:])|\//,s.KEYWORD_REGEX=/^@[a-z]+$/i,s.ENDS_WITH_GEN_DELIM=/[:/?#\[\]@]$/,s.REGEX_LANGUAGE_TAG=/^[a-zA-Z]+(-[a-zA-Z0-9]+)*$/,s.REGEX_DIRECTION_TAG=/^(ltr)|(rtl)$/,s.VALID_KEYWORDS={"@annotation":!0,"@base":!0,"@container":!0,"@context":!0,"@direction":!0,"@graph":!0,"@id":!0,"@import":!0,"@included":!0,"@index":!0,"@json":!0,"@language":!0,"@list":!0,"@nest":!0,"@none":!0,"@prefix":!0,"@propagate":!0,"@protected":!0,"@reverse":!0,"@set":!0,"@type":!0,"@value":!0,"@version":!0,"@vocab":!0},s.EXPAND_KEYS_BLACKLIST=["@base","@vocab","@language","@version","@direction"],s.ALIAS_DOMAIN_BLACKLIST=["@container","@graph","@id","@index","@list","@nest","@none","@prefix","@reverse","@set","@type","@value","@version"],s.ALIAS_RANGE_BLACKLIST=["@context","@preserve"],s.CONTAINERS=["@list","@set","@index","@language","@graph","@id","@type"],s.CONTAINERS_1_0=["@list","@set","@index"],e.Util=s},95025:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},95124:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(47062),e),a(s(46691),e)},95199:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionLesserThan=void 0;const c=s(77617),a=s(90711),o=s(77545);class i extends c.TermFunctionBase{constructor(n){super({arity:2,operator:o.SparqlOperator.LT,overloads:(0,o.declare)(o.SparqlOperator.LT).numberTest(()=>(r,u)=>r<u).stringTest(()=>(r,u)=>r.localeCompare(u)===-1).booleanTest(()=>(r,u)=>r<u).dateTimeTest(r=>(u,l)=>(0,o.toUTCDate)(u,r.context.getSafe(a.KeysExpressionEvaluator.defaultTimeZone)).getTime()<(0,o.toUTCDate)(l,r.context.getSafe(a.KeysExpressionEvaluator.defaultTimeZone)).getTime()).copy({from:[o.TypeURL.XSD_DATE_TIME,o.TypeURL.XSD_DATE_TIME],to:[o.TypeURL.XSD_DATE,o.TypeURL.XSD_DATE]}).set([o.TypeURL.XSD_YEAR_MONTH_DURATION,o.TypeURL.XSD_YEAR_MONTH_DURATION],()=>([r,u])=>(0,o.bool)((0,o.yearMonthDurationsToMonths)((0,o.defaultedYearMonthDurationRepresentation)(r.typedValue))<(0,o.yearMonthDurationsToMonths)((0,o.defaultedYearMonthDurationRepresentation)(u.typedValue)))).set([o.TypeURL.XSD_DAY_TIME_DURATION,o.TypeURL.XSD_DAY_TIME_DURATION],()=>([r,u])=>(0,o.bool)((0,o.dayTimeDurationsToSeconds)((0,o.defaultedDayTimeDurationRepresentation)(r.typedValue))<(0,o.dayTimeDurationsToSeconds)((0,o.defaultedDayTimeDurationRepresentation)(u.typedValue)))).set([o.TypeURL.XSD_TIME,o.TypeURL.XSD_TIME],r=>([u,l])=>(0,o.bool)((0,o.toUTCDate)((0,o.defaultedDateTimeRepresentation)(u.typedValue),r.context.getSafe(a.KeysExpressionEvaluator.defaultTimeZone)).getTime()<(0,o.toUTCDate)((0,o.defaultedDateTimeRepresentation)(l.typedValue),r.context.getSafe(a.KeysExpressionEvaluator.defaultTimeZone)).getTime())).set(["quad","quad"],r=>([u,l])=>{const d=this.quadComponentTest(u.subject,l.subject,r);if(d!==void 0)return(0,o.bool)(d);const p=this.quadComponentTest(u.predicate,l.predicate,r);if(p!==void 0)return(0,o.bool)(p);const f=this.quadComponentTest(u.object,l.object,r);return f!==void 0?(0,o.bool)(f):(0,o.bool)(this.quadComponentTest(u.graph,l.graph,r)??!1)},!1).collect()}),this.equalityFunction=n}quadComponentTest(n,r,u){if(!this.equalityFunction.applyOnTerms([n,r],u).typedValue)return this.applyOnTerms([n,r],u).typedValue}}e.TermFunctionLesserThan=i},95426:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(41142),e)},95439:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.QUAD_TERM_NAMES_INVERSE=void 0,e.getBestIndex=function(i,t){if(i.length===1||t.every(r=>r!==void 0))return 0;const n=[];for(let r=0;r<c.QUAD_TERM_NAMES.length;r++)t[r]&&n.push(c.QUAD_TERM_NAMES[r]);return i.map((r,u)=>({score:a(r,n),index:u})).sort((r,u)=>u.score-r.score)[0].index},e.getComponentOrderScore=a,e.orderQuadComponents=function(i,t){return i.map(n=>{const r=e.QUAD_TERM_NAMES_INVERSE[n];return t[r]})},e.encodeOptionalTerms=function(i,t){const n=i.map(r=>{if(r){if(r.termType==="Quad"&&o(r))return;const u=t.encodeOptional(r);return u===void 0?"none":u}return r});if(!n.includes("none"))return n},e.quadToPattern=function(i,t,n,r,u){let l=!1;return[[i||void 0,t||void 0,n||void 0,r||void 0].map(d=>{if(d){if(d.termType==="Variable")return;if(d.termType==="Quad")return u?d:void(l=!0)}return d}),l]},e.quadHasVariables=o,e.arePatternsQuoted=function(i){return i.map(t=>t?.termType==="Quad"&&o(t))};const c=s(61758);function a(i,t){return i.map((n,r)=>t.includes(n)?i.length-r:0).reduce((n,r)=>n+r,0)}function o(i){for(const t of c.QUAD_TERM_NAMES){const n=i[t];if(n.termType==="Variable"||n.termType==="Quad"&&o(n))return!0}return!1}e.QUAD_TERM_NAMES_INVERSE=Object.fromEntries(c.QUAD_TERM_NAMES.map((i,t)=>[i,t]))},95445:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(57042),e)},95570:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DirectiveNodeHandlerPlural=void 0;const c=s(65183),a=s(67797);class o extends a.DirectiveNodeHandlerAdapter{constructor(t,n){super("plural",t,n)}handle(t,n){return this.isDirectiveScopeAll(t.directive)&&(n.singularizeState=c.SingularizeState.PLURAL),delete n.singularizeVariables[this.util.nameToVariable(t.fieldLabel,n).value],{}}}e.DirectiveNodeHandlerPlural=o},95705:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(4945),e)},95816:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryOperationTyped=void 0;const c=s(90711),a=s(90412),o=s(99214),i=s(31278);class t extends i.ActorQueryOperation{constructor(r,u){if(super({...r,operationName:u}),!this.operationName)throw new Error('A valid "operationName" argument must be provided.')}async test(r){if(!r.operation)return(0,a.failTest)("Missing field 'operation' in a query operation action.");if(r.operation.type!==this.operationName)return(0,a.failTest)(`Actor ${this.name} only supports ${this.operationName} operations, but got ${r.operation.type}`);const u=r.operation;return this.testOperation(u,r.context)}async run(r,u){const l=r.context.get(c.KeysInitQuery.physicalQueryPlanLogger);l&&(l.logOperation(r.operation.type,void 0,r.operation,r.context.get(c.KeysInitQuery.physicalQueryPlanNode),this.name,{}),r.context=r.context.set(c.KeysInitQuery.physicalQueryPlanNode,r.operation));const d=r.operation,p=r.context.set(c.KeysQueryOperation.operation,d),f=await this.runOperation(d,p,u);return"metadata"in f&&(f.metadata=(0,o.cachifyMetadata)(f.metadata)),f}}e.ActorQueryOperationTyped=t},95877:(g,e,s)=>{function c(i,t,n){return Object.defineProperty(i,"prototype",{writable:!1}),i}Object.defineProperty(e,"__esModule",{value:!0}),e.Shapes=void 0;var a=s(96331),o=c(function i(){(function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")})(this,i)});e.Shapes=o,o.ALL={type:"operation",operation:{operationType:"wildcard"}},o.RAW={type:"disjunction",children:[{type:"operation",operation:{operationType:"type",type:a.Algebra.types.PROJECT}},{type:"operation",operation:{operationType:"type",type:a.Algebra.types.PATTERN}},{type:"operation",operation:{operationType:"type",type:a.Algebra.types.SLICE}},{type:"operation",operation:{operationType:"type",type:a.Algebra.types.BGP}},{type:"operation",operation:{operationType:"type",type:a.Algebra.types.JOIN}},{type:"operation",operation:{operationType:"type",type:a.Algebra.types.EXTEND}},{type:"operation",operation:{operationType:"type",type:a.Algebra.types.UNION}},{type:"operation",operation:{operationType:"type",type:a.Algebra.types.VALUES}},{type:"operation",operation:{operationType:"type",type:a.Algebra.types.FILTER}},{type:"operation",operation:{operationType:"type",type:a.Algebra.types.LEFT_JOIN}},{type:"operation",operation:{operationType:"type",type:a.Algebra.types.GRAPH}}]}},96019:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(11725),e),a(s(36273),e),a(s(97460),e),a(s(86020),e),a(s(56662),e),a(s(46388),e),a(s(42439),e)},96331:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(d,p,f,h){h===void 0&&(h=f);var y=Object.getOwnPropertyDescriptor(p,f);y&&!("get"in y?!p.__esModule:y.writable||y.configurable)||(y={enumerable:!0,get:function(){return p[f]}}),Object.defineProperty(d,h,y)}:function(d,p,f,h){h===void 0&&(h=f),d[h]=p[f]}),a=this&&this.__setModuleDefault||(Object.create?function(d,p){Object.defineProperty(d,"default",{enumerable:!0,value:p})}:function(d,p){d.default=p}),o=this&&this.__importStar||function(d){if(d&&d.__esModule)return d;var p={};if(d!=null)for(var f in d)f!=="default"&&Object.prototype.hasOwnProperty.call(d,f)&&c(p,d,f);return a(p,d),p},i=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0}),e.Util=e.toSparqlJs=e.toSparql=e.Factory=e.Algebra=e.translate=void 0;const t=i(s(73776));e.translate=t.default;const n=o(s(13079));e.Algebra=n;const r=i(s(91409));e.Factory=r.default;const u=s(3698);Object.defineProperty(e,"toSparql",{enumerable:!0,get:function(){return u.toSparql}}),Object.defineProperty(e,"toSparqlJs",{enumerable:!0,get:function(){return u.toSparqlJs}});const l=i(s(64995));e.Util=l.default},96404:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(6912),e)},96430:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfResolveHypermediaLinks=void 0;const c=s(90412);class a extends c.Actor{constructor(i){super(i)}}e.ActorRdfResolveHypermediaLinks=a},96447:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(41291),e)},96532:(g,e,s)=>{const c=s(65606),{PromisePrototypeThen:a,SymbolAsyncIterator:o,SymbolIterator:i}=s(24134),{Buffer:t}=s(48287),{ERR_INVALID_ARG_TYPE:n,ERR_STREAM_NULL_VALUES:r}=s(76371).codes;g.exports=function(u,l,d){let p,f;if(typeof l=="string"||l instanceof t)return new u({objectMode:!0,...d,read(){this.push(l),this.push(null)}});if(l&&l[o])f=!0,p=l[o]();else{if(!l||!l[i])throw new n("iterable",["Iterable"],l);f=!1,p=l[i]()}const h=new u({objectMode:!0,highWaterMark:1,...d});let y=!1;return h._read=function(){y||(y=!0,async function(){for(;;){try{const{value:m,done:b}=f?await p.next():p.next();if(b)h.push(null);else{const v=m&&typeof m.then=="function"?await m:m;if(v===null)throw y=!1,new r;if(h.push(v))continue;y=!1}}catch(m){h.destroy(m)}break}}())},h._destroy=function(m,b){a(async function(v){const _=v!=null,w=typeof p.throw=="function";if(_&&w){const{value:O,done:A}=await p.throw(v);if(await O,A)return}if(typeof p.return=="function"){const{value:O}=await p.return();await O}}(m),()=>c.nextTick(b,m),v=>c.nextTick(b,v||m))},h}},96568:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0});const c=s(31797),a=s(76011);e.default=function(o){const i=(t=typeof o=="string"?(0,c.default)(o):o,Uint8Array.of((15&t[6])<<4|t[7]>>4&15,(15&t[7])<<4|(240&t[4])>>4,(15&t[4])<<4|(240&t[5])>>4,(15&t[5])<<4|(240&t[0])>>4,(15&t[0])<<4|(240&t[1])>>4,(15&t[1])<<4|(240&t[2])>>4,96|15&t[2],t[3],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]));var t;return typeof o=="string"?(0,a.unsafeStringify)(i):i}},96607:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.AlgebraTransformer=void 0;const c=s(90711),a=s(77545),o=s(96331);class i extends a.TermTransformer{constructor(n,r){super(n.getSafe(c.KeysExpressionEvaluator.superTypeProvider)),this.context=n,this.mediatorFunctionFactory=r}async transformAlgebra(n){const r=o.Algebra.expressionTypes;switch(n.expressionType){case r.TERM:return this.transformTerm(n);case r.OPERATOR:return await this.transformOperator(n);case r.NAMED:return await this.transformNamed(n);case r.EXISTENCE:return i.transformExistence(n);case r.AGGREGATE:return i.transformAggregate(n);case r.WILDCARD:return i.transformWildcard(n)}}static transformWildcard(n){return new a.NamedNode(n.wildcard.value)}async getOperator(n,r){const u=await this.mediatorFunctionFactory.mediate({functionName:n,arguments:r.args,context:this.context}),l=await Promise.all(r.args.map(d=>this.transformAlgebra(d)));if(!u.checkArity(l))throw new a.InvalidArity(l,n);return new a.Operator(n,l,u.apply)}async transformOperator(n){return this.getOperator(n.operator.toLowerCase(),n)}async transformNamed(n){return this.getOperator(n.name.value,n)}static transformAggregate(n){const r=n.aggregator;return new a.Aggregate(r,n)}static transformExistence(n){return new a.Existence(n)}}e.AlgebraTransformer=i},96835:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(42149),e)},96848:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(17937),e)},96925:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TypeHandlerNumberInteger=void 0;const c=s(30103);class a{fromRdf(i,t){const n=parseInt(i.value,10);return t&&(isNaN(n)||i.value.indexOf(".")>=0)&&c.Translator.incorrectRdfDataType(i),n}toRdf(i,{datatype:t,dataFactory:n}){return n.literal(String(i),t||(i<=a.MAX_INT&&i>=a.MIN_INT?n.namedNode(a.TYPES[0]):n.namedNode(a.TYPES[1])))}}a.TYPES=["http://www.w3.org/2001/XMLSchema#integer","http://www.w3.org/2001/XMLSchema#long","http://www.w3.org/2001/XMLSchema#int","http://www.w3.org/2001/XMLSchema#byte","http://www.w3.org/2001/XMLSchema#short","http://www.w3.org/2001/XMLSchema#negativeInteger","http://www.w3.org/2001/XMLSchema#nonNegativeInteger","http://www.w3.org/2001/XMLSchema#nonPositiveInteger","http://www.w3.org/2001/XMLSchema#positiveInteger","http://www.w3.org/2001/XMLSchema#unsignedByte","http://www.w3.org/2001/XMLSchema#unsignedInt","http://www.w3.org/2001/XMLSchema#unsignedLong","http://www.w3.org/2001/XMLSchema#unsignedShort"],a.MAX_INT=2147483647,a.MIN_INT=-2147483648,e.TypeHandlerNumberInteger=a},97091:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(92647),e),a(s(71493),e)},97103:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(19036),e)},97114:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionContains=void 0;const c=s(77617),a=s(77545);class o extends c.TermFunctionBase{constructor(){super({arity:2,operator:a.SparqlOperator.CONTAINS,overloads:(0,a.declare)(a.SparqlOperator.CONTAINS).onBinaryTyped([a.TypeAlias.SPARQL_STRINGLY,a.TypeURL.XSD_STRING],()=>(t,n)=>(0,a.bool)(t.includes(n))).onBinary([a.TypeURL.RDF_LANG_STRING,a.TypeURL.RDF_LANG_STRING],()=>(t,n)=>{if(t.language!==n.language)throw new a.IncompatibleLanguageOperation(t,n);return(0,a.bool)(t.typedValue.includes(n.typedValue))}).collect()})}}e.TermFunctionContains=o},97237:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(75425),e)},97274:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionNot=void 0;const c=s(77617),a=s(77545);class o extends c.TermFunctionBase{constructor(){super({arity:1,operator:a.SparqlOperator.NOT,overloads:(0,a.declare)(a.SparqlOperator.NOT).onTerm1(()=>t=>(0,a.bool)(!t.coerceEBV())).collect()})}}e.TermFunctionNot=o},97460:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultGraph=void 0;class s{constructor(){this.termType="DefaultGraph",this.value=""}equals(a){return!!a&&a.termType==="DefaultGraph"}}e.DefaultGraph=s,s.INSTANCE=new s},97480:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Util=void 0;const c=s(47793),a=s(42395),o=s(96331);e.Util=class{constructor(i){this.nodeHandlers={},this.nodeValueHandlers={},this.directiveNodeHandlers={},this.settings=i,this.dataFactory=i.dataFactory||new c.DataFactory,this.operationFactory=new o.Factory(this.dataFactory),this.contextParser=new a.ContextParser}registerNodeHandler(i){this.nodeHandlers[i.targetKind]=i}registerNodeValueHandler(i){this.nodeValueHandlers[i.targetKind]=i}registerDirectiveNodeHandler(i){this.directiveNodeHandlers[i.targetKind]=i}handleNode(i,t){const n=this.nodeHandlers[i.kind];if(!n)throw new Error(`Unsupported GraphQL node '${i.kind}'`);return n.handle(i,t)}handleNodeValue(i,t,n){const r=this.nodeValueHandlers[i.kind];if(!r)throw new Error(`Unsupported GraphQL value node '${i.kind}'`);return r.handle(i,t,n)}handleDirectiveNode(i,t){const n=this.directiveNodeHandlers[i.directive.name.value];return n?n.handle(i,t):null}joinOperations(i){if(i.length===1)return i[0];const t=[],n=[];for(const r of i)r.type==="bgp"?t.push(r):n.push(r);if(t.length===i.length)return this.joinOperationsAsBgp(t);if(t.length===i.length-1&&n[0].type==="leftjoin"&&n[0].input[0].type==="bgp"){const r=n[0];return t.push(r.input[0]),this.operationFactory.createLeftJoin(this.joinOperationsAsBgp(t),r.input[1])}return n.length===i.length?this.joinOperationsAsNestedJoin(n):this.joinOperationsAsNestedJoin([this.joinOperationsAsBgp(t),this.joinOperationsAsNestedJoin(n)])}joinOperationsAsBgp(i){return this.operationFactory.createBgp([].concat.apply([],i.map(t=>t.patterns)))}joinOperationsAsNestedJoin(i){return this.operationFactory.createJoin(i)}appendFieldToPath(i,t){return i.concat([t])}getFieldLabel(i){return(i.alias?i.alias:i.name).value}nameToVariable(i,t){return this.dataFactory.variable((t.path.length?t.path.join(this.settings.variableDelimiter)+this.settings.variableDelimiter:"")+i)}valueToNamedNode(i,t){const n=t.expandTerm(i,!0);if(this.settings.requireContext&&!n)throw new Error("No context entry was found for "+i);return this.dataFactory.namedNode(n||i)}getArgument(i,t){if(i){for(const n of i)if(n.name.value===t)return n}}newTypePattern(i,t,n){return this.operationFactory.createPattern(i,this.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),this.valueToNamedNode(t.name.value,n.context),n.graph)}createQuadPattern(i,t,n,r,u){const l=this.valueToNamedNode(t.value,u);return u&&u.getContextRaw()[t.value]&&u.getContextRaw()[t.value]["@reverse"]?this.operationFactory.createPattern(n,l,i,r):this.operationFactory.createPattern(i,l,n,r)}createQuadPath(i,t,n,r,u,l){const d=this.valueToNamedNode(t.value,l);let p=this.operationFactory.createLink(d);for(const f of n.values){if(f.kind!=="EnumValue")throw new Error("Invalid value type for 'alt' argument, must be EnumValue, but got "+f.kind);p=this.operationFactory.createAlt([p,this.operationFactory.createLink(this.valueToNamedNode(f.value,l))])}return l&&l.getContextRaw()[t.value]&&l.getContextRaw()[t.value]["@reverse"]?this.operationFactory.createPath(r,p,i,u):this.operationFactory.createPath(i,p,r,u)}}},97618:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.expressionToVar=e.dateTime=e.langString=e.string=e.double=e.float=e.decimal=e.integer=e.bool=e.Builder=e.declare=void 0;const c=s(90711),a=s(54833),o=s(54833),i=s(64900),t=s(64900),n=s(98575),r=s(34641);e.declare=function(y){return new u(y)};class u{constructor(m){this.overloadTree=new r.OverloadTree(m),this.collected=!1}collect(){if(this.collected)throw new Error("Builders can only be collected once!");return this.collected=!0,this.overloadTree}static wrapInvalidLexicalProtected(m){return b=>v=>{for(const[_,w]of v.entries())if(w instanceof o.NonLexicalLiteral)throw new n.InvalidLexicalForm(v[_].toRDF(b.context.getSafe(c.KeysInitQuery.dataFactory)));return m(b)(v)}}set(m,b,v=!0){return this.overloadTree.addOverload(m,v?u.wrapInvalidLexicalProtected(b):b),this}copy({from:m,to:b}){const v=this.overloadTree.getImplementationExact(m);if(!v)throw new n.UnexpectedError("Tried to copy implementation, but types not found",{from:m,to:b});return this.set(b,v)}onUnary(m,b,v=!0){return this.set([m],_=>([w])=>b(_)(w),v)}onUnaryTyped(m,b,v=!0){return this.set([m],_=>([w])=>b(_)(w.typedValue),v)}onBinary(m,b,v=!0){return this.set(m,_=>([w,O])=>b(_)(w,O),v)}onBinaryTyped(m,b,v=!0){return this.set(m,_=>([w,O])=>b(_)(w.typedValue,O.typedValue),v)}onTernaryTyped(m,b,v=!0){return this.set(m,_=>([w,O,A])=>b(_)(w.typedValue,O.typedValue,A.typedValue),v)}onTernary(m,b,v=!0){return this.set(m,_=>([w,O,A])=>b(_)(w,O,A),v)}onQuaternaryTyped(m,b,v=!0){return this.set(m,_=>([w,O,A,T])=>b(_)(w.typedValue,O.typedValue,A.typedValue,T.typedValue),v)}onTerm1(m,b=!1){return this.set(["term"],v=>([_])=>m(v)(_),b)}onTerm3(m){return this.set(["term","term","term"],b=>([v,_,w])=>m(b)(v,_,w))}onQuad1(m){return this.set(["quad"],b=>([v])=>m(b)(v))}onLiteral1(m,b=!0){return this.set(["literal"],v=>([_])=>m(v)(_),b)}onBoolean1(m,b=!0){return this.set([i.TypeURL.XSD_BOOLEAN],v=>([_])=>m(v)(_),b)}onBoolean1Typed(m,b=!0){return this.set([i.TypeURL.XSD_BOOLEAN],v=>([_])=>m(v)(_.typedValue),b)}onString1(m,b=!0){return this.set([i.TypeURL.XSD_STRING],v=>([_])=>m(v)(_),b)}onString1Typed(m,b=!0){return this.set([i.TypeURL.XSD_STRING],v=>([_])=>m(v)(_.typedValue),b)}onLangString1(m,b=!0){return this.set([i.TypeURL.RDF_LANG_STRING],v=>([_])=>m(v)(_),b)}onStringly1(m,b=!0){return this.set([i.TypeAlias.SPARQL_STRINGLY],v=>([_])=>m(v)(_),b)}onStringly1Typed(m,b=!0){return this.set([i.TypeAlias.SPARQL_STRINGLY],v=>([_])=>m(v)(_.typedValue),b)}onNumeric1(m,b=!0){return this.set([i.TypeAlias.SPARQL_NUMERIC],v=>([_])=>m(v)(_),b)}onDateTime1(m,b=!0){return this.set([i.TypeURL.XSD_DATE_TIME],v=>([_])=>m(v)(_),b)}numericConverter(m,b=!0){const v=_=>w=>m(_)(w.typedValue);return this.onUnary(t.TypeURL.XSD_INTEGER,_=>w=>d(v(_)(w)),b).onUnary(t.TypeURL.XSD_DECIMAL,_=>w=>p(v(_)(w)),b).onUnary(t.TypeURL.XSD_FLOAT,_=>w=>f(v(_)(w)),b).onUnary(t.TypeURL.XSD_DOUBLE,_=>w=>h(v(_)(w)),b)}arithmetic(m,b=!0){const v=_=>(w,O)=>m(_)(w.typedValue,O.typedValue);return this.onBinary([t.TypeURL.XSD_INTEGER,t.TypeURL.XSD_INTEGER],_=>(w,O)=>d(v(_)(w,O)),b).onBinary([t.TypeURL.XSD_DECIMAL,t.TypeURL.XSD_DECIMAL],_=>(w,O)=>p(v(_)(w,O)),b).onBinary([t.TypeURL.XSD_FLOAT,t.TypeURL.XSD_FLOAT],_=>(w,O)=>f(v(_)(w,O)),b).onBinary([t.TypeURL.XSD_DOUBLE,t.TypeURL.XSD_DOUBLE],_=>(w,O)=>h(v(_)(w,O)),b)}numberTest(m){return this.numeric(b=>([v,_])=>l(m(b)(v.typedValue,_.typedValue)))}stringTest(m,b=!0){return this.set([i.TypeURL.XSD_STRING,i.TypeURL.XSD_STRING],v=>([_,w])=>l(m(v)(_.typedValue,w.typedValue)),b)}booleanTest(m,b=!0){return this.set([i.TypeURL.XSD_BOOLEAN,i.TypeURL.XSD_BOOLEAN],v=>([_,w])=>l(m(v)(_.typedValue,w.typedValue)),b)}dateTimeTest(m,b=!0){return this.set([i.TypeURL.XSD_DATE_TIME,i.TypeURL.XSD_DATE_TIME],v=>([_,w])=>l(m(v)(_.typedValue,w.typedValue)),b)}numeric(m){return this.set([i.TypeAlias.SPARQL_NUMERIC,i.TypeAlias.SPARQL_NUMERIC],m)}}function l(y){return new a.BooleanLiteral(y)}function d(y){return new a.IntegerLiteral(y)}function p(y){return new a.DecimalLiteral(y)}function f(y){return new a.FloatLiteral(y)}function h(y){return new a.DoubleLiteral(y)}e.Builder=u,e.bool=l,e.integer=d,e.decimal=p,e.float=f,e.double=h,e.string=function(y){return new a.StringLiteral(y)},e.langString=function(y,m){return new a.LangStringLiteral(y,m)},e.dateTime=function(y,m){return new a.DateTimeLiteral(y,m)},e.expressionToVar=function(y,m){return y.variable(m.name.slice(1))}},97969:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermXsdToDuration=void 0;const c=s(77617),a=s(77545),o=s(2126);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.TypeURL.XSD_DURATION],termFunction:!0})}async run(n){return new o.TermFunctionXsdToDuration}}e.ActorFunctionFactoryTermXsdToDuration=i},97976:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.defaultExpandOptions=e.JsonLdContextNormalized=void 0;const c=s(70742),a=s(44063),o=s(8486);e.JsonLdContextNormalized=class{constructor(i){this.contextRaw=i}getContextRaw(){return this.contextRaw}expandTerm(i,t,n=e.defaultExpandOptions){const r=this.contextRaw[i];if(r===null||r&&r["@id"]===null)return null;let u=!0;if(r&&t){const y=o.Util.getContextValueId(r);if(y&&y!==i){if(typeof y=="string"&&(o.Util.isValidIri(y)||o.Util.isValidKeyword(y)))return y;o.Util.isPotentialKeyword(y)||(u=!1)}}const l=o.Util.getPrefix(i,this.contextRaw),d=this.contextRaw["@vocab"],p=(!!d||d==="")&&d.indexOf(":")<0,f=this.contextRaw["@base"],h=o.Util.isPotentialKeyword(i);if(l){const y=this.contextRaw[l],m=o.Util.getContextValueId(y);if(m){if(typeof y!="string"&&n.allowPrefixForcing){if(m[0]!=="_"&&!h&&!y["@prefix"]&&!(i in this.contextRaw))return i}else if(!o.Util.isSimpleTermDefinitionPrefix(m,n))return i;return m+i.substr(l.length+1)}}else{if(t&&(d||d===""||n.allowVocabRelativeToBase&&f&&p)&&!h&&!o.Util.isCompactIri(i)){if(p){if(n.allowVocabRelativeToBase)return(d||f?(0,c.resolve)(d,f):"")+i;throw new a.ErrorCoded(`Relative vocab expansion for term '${i}' with vocab '${d}' is not allowed.`,a.ERROR_CODES.INVALID_VOCAB_MAPPING)}return d+i}if(!t&&f&&!h&&!o.Util.isCompactIri(i))return(0,c.resolve)(i,f)}if(u)return i;throw new a.ErrorCoded(`Invalid IRI mapping found for context entry '${i}': '${JSON.stringify(r)}'`,a.ERROR_CODES.INVALID_IRI_MAPPING)}compactIri(i,t){if(t&&this.contextRaw["@vocab"]&&i.startsWith(this.contextRaw["@vocab"]))return i.substr(this.contextRaw["@vocab"].length);if(!t&&this.contextRaw["@base"]&&i.startsWith(this.contextRaw["@base"]))return i.substr(this.contextRaw["@base"].length);const n={prefix:"",suffix:i};for(const r in this.contextRaw){const u=this.contextRaw[r];if(u&&!o.Util.isPotentialKeyword(r)){const l=o.Util.getContextValueId(u);if(i.startsWith(l)){const d=i.substr(l.length);if(d)d.length<n.suffix.length&&(n.prefix=r,n.suffix=d);else if(t)return r}}}return n.prefix?n.prefix+":"+n.suffix:i}},e.defaultExpandOptions={allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}},98027:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryResultSerializeRdf=void 0;const c=s(58871),a=s(90412);class o extends c.ActorQueryResultSerialize{constructor(t){super(t)}async testHandle(t,n,r){if(t.type!=="quads")return(0,a.failTest)(`Actor ${this.name} can only handle quad streams`);const{mediaTypes:u}=await this.mediatorMediaTypeCombiner.mediate({context:r,mediaTypes:!0});return n in u?(0,a.passTestVoid)():(0,a.failTest)(`Actor ${this.name} can not handle media type ${n}. All available types: ${Object.keys(u)}`)}async runHandle(t,n,r){return(await this.mediatorRdfSerialize.mediate({context:r,handle:{context:r,quadStream:t.quadStream},handleMediaType:n})).handle}async testMediaType(t){return(0,a.passTestVoid)()}async getMediaTypes(t){return(await this.mediatorMediaTypeCombiner.mediate({context:t,mediaTypes:!0})).mediaTypes}async testMediaTypeFormats(t){return(0,a.passTestVoid)()}async getMediaTypeFormats(t){return(await this.mediatorMediaTypeFormatCombiner.mediate({context:t,mediaTypeFormats:!0})).mediaTypeFormats}}e.ActorQueryResultSerializeRdf=o},98082:(g,e,s)=>{const{Parser:c}=s(83849),{Generator:a}=s(23825),{Wildcard:o}=s(23637),{DataFactory:i}=s(47793);g.exports={Parser:function({prefixes:t,baseIRI:n,factory:r,pathOnly:u,sparqlStar:l,skipValidation:d,skipUngroupedVariableCheck:p}={}){const f={};for(const y in t??{})f[y]=t[y];const h=new c;return h.parse=function(){return c.base=n||"",c.prefixes=Object.create(f),c.factory=r||new i,c.sparqlStar=!!l,c.pathOnly=!!u,c.skipValidation=!!d||!!p,c.prototype.parse.apply(h,arguments)},h._resetBlanks=c._resetBlanks,h},Generator:a,Wildcard:o}},98329:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryResultSerializeStats=void 0;const c=s(58871),a=s(90711),o=s(90412),i=s(75627),t=s(19198);class n extends c.ActorQueryResultSerializeFixedMediaTypes{constructor(u){super(u)}async testHandleChecked(u,l){return["bindings","quads"].includes(u.type)?(0,o.passTestVoid)():(0,o.failTest)("This actor can only handle bindings streams or quad streams.")}pushHeader(u){const l=["Result","Delay (ms)","HTTP requests"].join(",");u.push(`${l}
`)}createStat(u,l){return`${[l,this.delay(u),this.httpObserver.requests].join(",")}
`}createSpecialLine(u,l){return`${[u,this.delay(l),this.httpObserver.requests].join(",")}
`}async runHandle(u,l,d){const p=new t.Readable,f=u.type==="bindings"?u.bindingsStream:u.quadStream,h=u.context.getSafe(a.KeysInitQuery.queryTimestampHighResolution);let y=1;const m=(0,i.wrap)(f).map(()=>this.createStat(h,y++)).prepend([this.createSpecialLine("PLANNING",h)]).append((0,i.wrap)(function*(b){yield b()}(()=>this.createSpecialLine("TOTAL",h))));return this.pushHeader(p),p.wrap(m),{data:p}}now(){return performance.now()}delay(u){return this.now()-u}}e.ActorQueryResultSerializeStats=n},98349:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermReplace=void 0;const c=s(77617),a=s(77545),o=s(77054);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.SparqlOperator.REPLACE],termFunction:!0})}async run(n){return new o.TermFunctionReplace}}e.ActorFunctionFactoryTermReplace=i},98371:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(61186),e)},98384:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorQueryOperationNop=void 0;const c=s(66490),a=s(90711),o=s(90412),i=s(81926),t=s(99214),n=s(75627);class r extends c.ActorQueryOperationTypedMediated{constructor(l){super(l,"nop")}async testOperation(l,d){return(0,o.passTestVoid)()}async runOperation(l,d){const p=d.getSafe(a.KeysInitQuery.dataFactory),f=await i.BindingsFactory.create(this.mediatorMergeBindingsContext,d,p);return{bindingsStream:new n.SingletonIterator(f.bindings()),metadata:()=>Promise.resolve({state:new t.MetadataValidationState,cardinality:{type:"exact",value:1},variables:[]}),type:"bindings"}}}e.ActorQueryOperationNop=r},98493:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):void 0;e.default=s},98575:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NoAggregator=e.ExtensionFunctionError=e.InvalidExpression=e.InvalidArity=e.UnexpectedError=e.ParseError=e.EmptyAggregateError=e.IncompatibleLanguageOperation=e.InvalidTimezoneCall=e.CastError=e.InvalidArgumentTypes=e.InError=e.CoalesceError=e.RDFEqualTypeError=e.EBVCoercionError=e.UnboundVariableError=e.InvalidLexicalForm=e.isExpressionError=e.ExpressionError=void 0;class s extends Error{}e.ExpressionError=s,e.isExpressionError=function(r){return r instanceof s},e.InvalidLexicalForm=class extends s{constructor(r){super(`Invalid lexical form '${n(r)}'`),this.arg=r}},e.UnboundVariableError=class extends s{constructor(r,u){super(`Unbound variable '${n(r)}'`),this.variable=r,this.bindings=u}},e.EBVCoercionError=class extends s{constructor(r){super(`Cannot coerce term to EBV '${n(r)}'`),this.arg=r}},e.RDFEqualTypeError=class extends s{constructor(r){super("Equality test for literals with unsupported datatypes"),this.args=r}},e.CoalesceError=class extends s{constructor(r){super("All COALESCE arguments threw errors"),this.errors=r}},e.InError=class extends s{constructor(r){super(`Some argument to IN errorred and none where equal. ${r.map(u=>`(${u.toString()}) `).join("and ")}`),this.errors=r}},e.InvalidArgumentTypes=class extends s{constructor(r,u){super(`Argument types not valid for operator: '${n(u)}' with '${n(r)}`),this.args=r,this.op=u}},e.CastError=class extends s{constructor(r,u){super(`Invalid cast: '${n(r)}' to '${n(u)}'`),this.arg=r}},e.InvalidTimezoneCall=class extends s{constructor(r){super(`TIMEZONE call on ${r} which has no timezone`),this.dateString=r}},e.IncompatibleLanguageOperation=class extends s{constructor(r,u){super(`Operation on incompatible language literals '${n(r)}' and '${n(u)}'`),this.arg1=r,this.arg2=u}},e.EmptyAggregateError=class extends s{constructor(){super("Empty aggregate expression")}},e.ParseError=class extends s{constructor(r,u){super(`Failed to parse "${r}" as ${u}.`)}};class c extends Error{constructor(u,l){super(`Programmer Error '${u}'`),this.payload=l}}e.UnexpectedError=c;class a extends Error{constructor(u,l){super(`The number of args does not match the arity of the operator '${n(l)}'.`),this.args=u,this.op=l}}e.InvalidArity=a;class o extends Error{constructor(u){super(`Invalid SPARQL Expression '${n(u)}'`)}}e.InvalidExpression=o;class i extends Error{constructor(u,l){l instanceof Error?super(`Error thrown in ${u}: ${l.message}${l.stack?`
${l.stack}`:""}`):super(`Error thrown in ${u}`)}}e.ExtensionFunctionError=i;class t extends Error{constructor(u){super(`Aggregate expression ${n(u)} found, but no aggregate hook provided.`)}}function n(r){return JSON.stringify(r)}e.NoAggregator=t},98603:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfUpdateHypermediaPatchSparqlUpdate=void 0;const c=s(14597),a=s(90412),o=s(88052);class i extends c.ActorRdfUpdateHypermedia{constructor(n){super(n,"patchSparqlUpdate")}async testMetadata(n){return n.forceDestinationType||n.metadata.patchSparqlUpdate?n.forceDestinationType||n.exists?(0,a.passTestVoid)():(0,a.failTest)(`Actor ${this.name} can only patch a destination that already exists.`):(0,a.failTest)(`Actor ${this.name} could not detect a destination with 'application/sparql-update' as 'Accept-Patch' header.`)}async run(n){return this.logInfo(n.context,`Identified as patchSparqlUpdate destination: ${n.url}`),{destination:new o.QuadDestinationPatchSparqlUpdate(n.url,n.context,this.mediatorHttp)}}}e.ActorRdfUpdateHypermediaPatchSparqlUpdate=i},98701:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Quad=void 0,e.Quad=class{constructor(s,c,a,o){this.termType="Quad",this.value="",this.subject=s,this.predicate=c,this.object=a,this.graph=o}equals(s){return!!s&&(s.termType==="Quad"||!s.termType)&&this.subject.equals(s.subject)&&this.predicate.equals(s.predicate)&&this.object.equals(s.object)&&this.graph.equals(s.graph)}}},98811:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(99441),e),a(s(11658),e)},98832:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(25538),e)},98848:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DataFactory=void 0;const c=s(81928),a=s(99475),o=s(50673),i=s(58283),t=s(60871),n=s(33384);let r=0;e.DataFactory=class{constructor(u){this.blankNodeCounter=0,u=u||{},this.blankNodePrefix=u.blankNodePrefix||`df_${r++}_`}namedNode(u){return new i.NamedNode(u)}blankNode(u){return new c.BlankNode(u||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(u,l){return new o.Literal(u,l)}variable(u){return new n.Variable(u)}defaultGraph(){return a.DefaultGraph.INSTANCE}quad(u,l,d,p){return new t.Quad(u,l,d,p||this.defaultGraph())}fromTerm(u){switch(u.termType){case"NamedNode":return this.namedNode(u.value);case"BlankNode":return this.blankNode(u.value);case"Literal":return u.language?this.literal(u.value,u.language):u.datatype.equals(o.Literal.XSD_STRING)?this.literal(u.value):this.literal(u.value,this.fromTerm(u.datatype));case"Variable":return this.variable(u.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(u.subject),this.fromTerm(u.predicate),this.fromTerm(u.object),this.fromTerm(u.graph))}}fromQuad(u){return this.fromTerm(u)}resetBlankNodeCounter(){this.blankNodeCounter=0}}},98862:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorContextPreprocess=void 0;const c=s(90412);class a extends c.Actor{constructor(i){super(i)}}e.ActorContextPreprocess=a},98888:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(i,t,n,r){r===void 0&&(r=n);var u=Object.getOwnPropertyDescriptor(t,n);u&&!("get"in u?!t.__esModule:u.writable||u.configurable)||(u={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(i,r,u)}:function(i,t,n,r){r===void 0&&(r=n),i[r]=t[n]}),a=this&&this.__exportStar||function(i,t){for(var n in i)n==="default"||Object.prototype.hasOwnProperty.call(t,n)||c(t,i,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.hasChildren=e.isDocument=e.isComment=e.isText=e.isCDATA=e.isTag=void 0,a(s(76037),e),a(s(8938),e),a(s(73403),e),a(s(90718),e),a(s(43209),e),a(s(45397),e),a(s(54437),e);var o=s(41141);Object.defineProperty(e,"isTag",{enumerable:!0,get:function(){return o.isTag}}),Object.defineProperty(e,"isCDATA",{enumerable:!0,get:function(){return o.isCDATA}}),Object.defineProperty(e,"isText",{enumerable:!0,get:function(){return o.isText}}),Object.defineProperty(e,"isComment",{enumerable:!0,get:function(){return o.isComment}}),Object.defineProperty(e,"isDocument",{enumerable:!0,get:function(){return o.isDocument}}),Object.defineProperty(e,"hasChildren",{enumerable:!0,get:function(){return o.hasChildren}})},98926:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(98862),e)},98960:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeHandlerDocument=void 0;const c=s(96331),a=s(75566);class o extends a.NodeHandlerAdapter{constructor(t,n){super("Document",t,n)}handle(t,n){const r=t.definitions.map(l=>{const d=this.getNodeQuadContextDefinitionNode(l,Object.assign(Object.assign({},n),{ignoreUnknownVariables:!0})),p=Object.assign(Object.assign({},n),{graph:d.graph||n.graph,subject:d.subject||this.util.dataFactory.blankNode()});let f=this.util.handleNode(l,p);return d&&d.auxiliaryPatterns&&(f=this.util.joinOperations([f,this.util.operationFactory.createBgp(d.auxiliaryPatterns)])),f}),u=this.util.operationFactory.createProject(r.length===1?r[0]:this.util.operationFactory.createUnion(r),n.terminalVariables);return this.translateBlankNodesToVariables(u)}getNodeQuadContextDefinitionNode(t,n){if(t.kind==="OperationDefinition")return this.getNodeQuadContextSelectionSet(t.selectionSet,t.name?t.name.value:"",n);throw new Error(`Unsupported definition: ${t.kind}`)}translateBlankNodesToVariables(t){const n=this,r={},u=Array.from(t.variables).reduce((d,p)=>(d[p.value]=!0,d),{});return c.Util.mapOperation(t,{path:(d,p)=>({recurse:!1,result:p.createPath(l(d.subject),d.predicate,l(d.object),l(d.graph))}),pattern:(d,p)=>({recurse:!1,result:p.createPattern(l(d.subject),l(d.predicate),l(d.object),l(d.graph))})});function l(d){if(d.termType==="BlankNode"){let p=r[d.value];return p||(p=c.Util.createUniqueVariable(d.value,u,n.util.dataFactory),u[p.value]=!0,r[d.value]=p),p}return d}}}e.NodeHandlerDocument=o},99214:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(32549),e),a(s(2527),e)},99349:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(l,d,p,f){f===void 0&&(f=p);var h=Object.getOwnPropertyDescriptor(d,p);h&&!("get"in h?!d.__esModule:h.writable||h.configurable)||(h={enumerable:!0,get:function(){return d[p]}}),Object.defineProperty(l,f,h)}:function(l,d,p,f){f===void 0&&(f=p),l[f]=d[p]}),a=this&&this.__exportStar||function(l,d){for(var p in l)p==="default"||Object.prototype.hasOwnProperty.call(d,p)||c(d,l,p)};Object.defineProperty(e,"__esModule",{value:!0}),e.getSupportedJavaScriptPrimitives=e.getSupportedRdfDatatypes=e.getTermRaw=e.toRdf=e.fromRdf=void 0;const o=s(47793),i=s(94802),t=s(30103);a(s(94802),e),a(s(5448),e),a(s(30103),e);const n=new o.DataFactory,r=new t.Translator;function u(l,d){return r.fromRdf(l,d)}r.registerHandler(new i.TypeHandlerString,i.TypeHandlerString.TYPES.map(l=>n.namedNode(l)),["string"]),r.registerHandler(new i.TypeHandlerBoolean,[i.TypeHandlerBoolean.TYPE].map(l=>n.namedNode(l)),["boolean"]),r.registerHandler(new i.TypeHandlerNumberDouble,i.TypeHandlerNumberDouble.TYPES.map(l=>n.namedNode(l)),["number"]),r.registerHandler(new i.TypeHandlerNumberInteger,i.TypeHandlerNumberInteger.TYPES.map(l=>n.namedNode(l)),["number"]),r.registerHandler(new i.TypeHandlerDate,i.TypeHandlerDate.TYPES.map(l=>n.namedNode(l)),["object"]),e.fromRdf=u,e.toRdf=function(l,d){return d&&"namedNode"in d&&(d={dataFactory:d}),(d=d||{})&&!d.dataFactory&&(d.dataFactory=n),r.toRdf(l,d)},e.getTermRaw=function(l,d){return l.termType==="Literal"?u(l,d):l.value},e.getSupportedRdfDatatypes=function(){return r.getSupportedRdfDatatypes()},e.getSupportedJavaScriptPrimitives=function(){return r.getSupportedJavaScriptPrimitives()}},99441:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ActorFunctionFactoryTermRegex=void 0;const c=s(77617),a=s(77545),o=s(11658);class i extends c.ActorFunctionFactoryDedicated{constructor(n){super({...n,functionNames:[a.SparqlOperator.REGEX],termFunction:!0})}async run(n){return new o.TermFunctionRegex}}e.ActorFunctionFactoryTermRegex=i},99475:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultGraph=void 0;class s{constructor(){this.termType="DefaultGraph",this.value=""}equals(a){return!!a&&a.termType==="DefaultGraph"}}e.DefaultGraph=s,s.INSTANCE=new s},99507:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(48293),e)},99530:(g,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getLocation=function(s,c){for(var a,o=/\r\n|[\n\r]/g,i=1,t=c+1;(a=o.exec(s.body))&&a.index<c;)i+=1,t=c+1-(a.index+a[0].length);return{line:i,column:t}}},99616:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermDictionaryQuotedReferential=void 0;const c=s(28664),a=s(61758),o=s(95439);class i{constructor(n,r=new c.DataFactory){this.quotedTriplesDictionary=[],this.quotedTriplesReverseDictionary={},this.features={quotedTriples:!0},this.plainTermDictionary=n,this.dataFactory=r}encode(n){return n.termType==="Quad"?this.encodeQuotedTriple(n,!1):this.plainTermDictionary.encode(n)}encodeQuotedTriple(n,r){if(n.graph.termType!=="DefaultGraph")throw new Error("Encoding of quoted quads outside of the default graph is not allowed");const u=(0,o.encodeOptionalTerms)([n.subject,n.predicate,n.object,void 0],this)?.slice(0,3),l=u&&u.every(f=>f!==void 0)?this.quotedTriplesReverseDictionary[u.join(i.SEPARATOR)]:void 0;if(l!==void 0||r)return l===void 0?void 0:i.BITMASK|l;const d=[this.encode(n.subject),this.encode(n.predicate),this.encode(n.object)],p=this.quotedTriplesDictionary.length+1;return this.quotedTriplesDictionary.push(d),this.quotedTriplesReverseDictionary[d.join(i.SEPARATOR)]=p,i.BITMASK|p}encodeOptional(n){return n.termType==="Quad"?this.encodeQuotedTriple(n,!0):this.plainTermDictionary.encodeOptional(n)}decode(n){if(i.BITMASK&n){const r=(~i.BITMASK&n)-1;if(r>=this.quotedTriplesDictionary.length)throw new Error(`The value ${n} is not present in the quoted triples range of the dictionary`);const u=this.quotedTriplesDictionary[r];return this.dataFactory.quad(this.decode(u[0]),this.decode(u[1]),this.decode(u[2]))}return this.plainTermDictionary.decode(n)}*encodings(){for(const n of this.plainTermDictionary.encodings())yield n;for(const n of this.quotedTriplesDictionary.keys())yield i.BITMASK|1+n}*findQuotedTriples(n){for(const r of this.findQuotedTriplesEncoded(n))yield this.decode(r)}*findQuotedTriplesEncoded(n){for(let r of this.quotedTriplesDictionary.keys()){r=i.BITMASK|1+r;const u=this.decode(r);(0,a.matchPattern)(u,n.subject,n.predicate,n.object,n.graph)&&(yield r)}}}e.TermDictionaryQuotedReferential=i,i.BITMASK=1<<31,i.SEPARATOR="_"},99669:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionIsTriple=void 0;const c=s(77617),a=s(77545);class o extends c.TermFunctionBase{constructor(){super({arity:1,operator:a.SparqlOperator.IS_TRIPLE,overloads:(0,a.declare)(a.SparqlOperator.IS_TRIPLE).onTerm1(()=>t=>(0,a.bool)(t.termType==="quad")).collect()})}}e.TermFunctionIsTriple=o},99694:(g,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TermFunctionObject=void 0;const c=s(77617),a=s(77545);class o extends c.TermFunctionBase{constructor(){super({arity:1,operator:a.SparqlOperator.OBJECT,overloads:(0,a.declare)(a.SparqlOperator.OBJECT).onQuad1(()=>t=>t.object).collect()})}}e.TermFunctionObject=o},99778:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(70177),e)},99817:function(g,e,s){var c=this&&this.__createBinding||(Object.create?function(o,i,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(i,t);r&&!("get"in r?!i.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(o,n,r)}:function(o,i,t,n){n===void 0&&(n=t),o[n]=i[t]}),a=this&&this.__exportStar||function(o,i){for(var t in o)t==="default"||Object.prototype.hasOwnProperty.call(i,t)||c(i,o,t)};Object.defineProperty(e,"__esModule",{value:!0}),a(s(89760),e)}},Pl={};function Or(g){var e=Pl[g];if(e!==void 0)return e.exports;var s=Pl[g]={exports:{}};return Tp[g].call(s.exports,s,s.exports,Or),s.exports}Or.n=g=>{var e=g&&g.__esModule?()=>g.default:()=>g;return Or.d(e,{a:e}),e},Or.d=(g,e)=>{for(var s in e)Or.o(e,s)&&!Or.o(g,s)&&Object.defineProperty(g,s,{enumerable:!0,get:e[s]})},Or.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),Or.o=(g,e)=>Object.prototype.hasOwnProperty.call(g,e),Or.r=g=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(g,"__esModule",{value:!0})};var jl={};Or.d(jl,{A:()=>xp});var Op=Or(12301),Sp=Or(43347),Ep=Or(64417);const xp={PassageFactory:function(){return new Op.QueryEngineBase(Ep())},RdfString:Sp},Ap=jl.A;let Ro=null;self.onmessage=g=>{switch(g.data.type){case"MessageStart":const e=g.data,s=new Headers;return e.config.args.forEach(c=>{s.set(c.name,c.value)}),Ro={sources:[e.config.endpoint],headers:s,shape:e.shape,log:new fd(self,{level:"info"}),physicalQueryPlanLogger:()=>new wp(self),abort:{value:!1}},Ip(e.query,Ro);case"MessageAbort":Ro.abort.value=!0,Ro.log.log=(c,a,o,i)=>{};return;default:return self.postMessage(new po(`The worker does not understand the message ${JSON.stringify(g)}`))}};function Ip(g,e){let s=null;Ap.PassageFactory().query(g,e).then(async c=>{switch(c.resultType){case"bindings":s=await c.execute();break;default:self.postMessage(new po(new Exception(`Should get an iterator of bindings but gets something else: ${c.resultType}`)))}s.on("error",a=>self.postMessage(new po(a))),s.on("end",()=>self.postMessage(new Ml)),s.on("data",a=>{const o=Object.fromEntries([...a].map(([i,t])=>{let n=null;switch(t.termType){case"NamedNode":n="uri";break;case"Literal":n="literal";break;case"BlankNode":n="bnode";break;default:console.log("Unhandled type: "+t.termType)}const r={value:t.value,type:n,datatype:t&&t.datatype&&t.datatype.value};return[i.value,r]}));self.postMessage(new Ll(o))})}).catch(c=>{self.postMessage(new po(c))})}})();
